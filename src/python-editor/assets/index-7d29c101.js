(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const S of d.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&i(S)}).observe(document,{childList:!0,subtree:!0});function r(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=r(l);fetch(l.href,d)}})();function Gu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Re={},Xu={get exports(){return Re},set exports(e){Re=e}},bn={},Q={},Yu={get exports(){return Q},set exports(e){Q=e}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),Qu=Symbol.for("react.portal"),Zu=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),eh=Symbol.for("react.profiler"),th=Symbol.for("react.provider"),rh=Symbol.for("react.context"),ih=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),sh=Symbol.for("react.memo"),oh=Symbol.for("react.lazy"),hl=Symbol.iterator;function lh(e){return e===null||typeof e!="object"?null:(e=hl&&e[hl]||e["@@iterator"],typeof e=="function"?e:null)}var ba={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ra=Object.assign,xa={};function br(e,t,r){this.props=e,this.context=t,this.refs=xa,this.updater=r||ba}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Da(){}Da.prototype=br.prototype;function vo(e,t,r){this.props=e,this.context=t,this.refs=xa,this.updater=r||ba}var go=vo.prototype=new Da;go.constructor=vo;Ra(go,br.prototype);go.isPureReactComponent=!0;var dl=Array.isArray,Ta=Object.prototype.hasOwnProperty,mo={current:null},Aa={key:!0,ref:!0,__self:!0,__source:!0};function Ma(e,t,r){var i,l={},d=null,S=null;if(t!=null)for(i in t.ref!==void 0&&(S=t.ref),t.key!==void 0&&(d=""+t.key),t)Ta.call(t,i)&&!Aa.hasOwnProperty(i)&&(l[i]=t[i]);var n=arguments.length-2;if(n===1)l.children=r;else if(1<n){for(var u=Array(n),f=0;f<n;f++)u[f]=arguments[f+2];l.children=u}if(e&&e.defaultProps)for(i in n=e.defaultProps,n)l[i]===void 0&&(l[i]=n[i]);return{$$typeof:vi,type:e,key:d,ref:S,props:l,_owner:mo.current}}function ah(e,t){return{$$typeof:vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function So(e){return typeof e=="object"&&e!==null&&e.$$typeof===vi}function ch(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fl=/\/+/g;function Wn(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ch(""+e.key):t.toString(36)}function zi(e,t,r,i,l){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var S=!1;if(e===null)S=!0;else switch(d){case"string":case"number":S=!0;break;case"object":switch(e.$$typeof){case vi:case Qu:S=!0}}if(S)return S=e,l=l(S),e=i===""?"."+Wn(S,0):i,dl(l)?(r="",e!=null&&(r=e.replace(fl,"$&/")+"/"),zi(l,t,r,"",function(f){return f})):l!=null&&(So(l)&&(l=ah(l,r+(!l.key||S&&S.key===l.key?"":(""+l.key).replace(fl,"$&/")+"/")+e)),t.push(l)),1;if(S=0,i=i===""?".":i+":",dl(e))for(var n=0;n<e.length;n++){d=e[n];var u=i+Wn(d,n);S+=zi(d,t,r,u,l)}else if(u=lh(e),typeof u=="function")for(e=u.call(e),n=0;!(d=e.next()).done;)d=d.value,u=i+Wn(d,n++),S+=zi(d,t,r,u,l);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return S}function wi(e,t,r){if(e==null)return e;var i=[],l=0;return zi(e,i,"","",function(d){return t.call(r,d,l++)}),i}function uh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},ji={transition:null},hh={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ji,ReactCurrentOwner:mo};Z.Children={map:wi,forEach:function(e,t,r){wi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wi(e,function(){t++}),t},toArray:function(e){return wi(e,function(t){return t})||[]},only:function(e){if(!So(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=br;Z.Fragment=Zu;Z.Profiler=eh;Z.PureComponent=vo;Z.StrictMode=Ju;Z.Suspense=nh;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hh;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Ra({},e.props),l=e.key,d=e.ref,S=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,S=mo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var n=e.type.defaultProps;for(u in t)Ta.call(t,u)&&!Aa.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&n!==void 0?n[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){n=Array(u);for(var f=0;f<u;f++)n[f]=arguments[f+2];i.children=n}return{$$typeof:vi,type:e.type,key:l,ref:d,props:i,_owner:S}};Z.createContext=function(e){return e={$$typeof:rh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:th,_context:e},e.Consumer=e};Z.createElement=Ma;Z.createFactory=function(e){var t=Ma.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:ih,render:e}};Z.isValidElement=So;Z.lazy=function(e){return{$$typeof:oh,_payload:{_status:-1,_result:e},_init:uh}};Z.memo=function(e,t){return{$$typeof:sh,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ji.transition;ji.transition={};try{e()}finally{ji.transition=t}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(e,t){return Te.current.useCallback(e,t)};Z.useContext=function(e){return Te.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Te.current.useEffect(e,t)};Z.useId=function(){return Te.current.useId()};Z.useImperativeHandle=function(e,t,r){return Te.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Te.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return Te.current.useReducer(e,t,r)};Z.useRef=function(e){return Te.current.useRef(e)};Z.useState=function(e){return Te.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return Te.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return Te.current.useTransition()};Z.version="18.2.0";(function(e){e.exports=Z})(Yu);const $t=Gu(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=Q,fh=Symbol.for("react.element"),_h=Symbol.for("react.fragment"),ph=Object.prototype.hasOwnProperty,vh=dh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gh={key:!0,ref:!0,__self:!0,__source:!0};function Oa(e,t,r){var i,l={},d=null,S=null;r!==void 0&&(d=""+r),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(S=t.ref);for(i in t)ph.call(t,i)&&!gh.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)l[i]===void 0&&(l[i]=t[i]);return{$$typeof:fh,type:e,key:d,ref:S,props:l,_owner:vh.current}}bn.Fragment=_h;bn.jsx=Oa;bn.jsxs=Oa;(function(e){e.exports=bn})(Xu);var ms={},Ss={},mh={get exports(){return Ss},set exports(e){Ss=e}},ze={},ys={},Sh={get exports(){return ys},set exports(e){ys=e}},Pa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,T){var D=x.length;x.push(T);e:for(;0<D;){var F=D-1>>>1,z=x[F];if(0<l(z,T))x[F]=T,x[D]=z,D=F;else break e}}function r(x){return x.length===0?null:x[0]}function i(x){if(x.length===0)return null;var T=x[0],D=x.pop();if(D!==T){x[0]=D;e:for(var F=0,z=x.length,Y=z>>>1;F<Y;){var W=2*(F+1)-1,X=x[W],P=W+1,O=x[P];if(0>l(X,D))P<z&&0>l(O,X)?(x[F]=O,x[P]=D,F=P):(x[F]=X,x[W]=D,F=W);else if(P<z&&0>l(O,D))x[F]=O,x[P]=D,F=P;else break e}}return T}function l(x,T){var D=x.sortIndex-T.sortIndex;return D!==0?D:x.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var S=Date,n=S.now();e.unstable_now=function(){return S.now()-n}}var u=[],f=[],y=1,p=null,g=3,E=!1,C=!1,m=!1,s=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,a=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function o(x){for(var T=r(f);T!==null;){if(T.callback===null)i(f);else if(T.startTime<=x)i(f),T.sortIndex=T.expirationTime,t(u,T);else break;T=r(f)}}function h(x){if(m=!1,o(x),!C)if(r(u)!==null)C=!0,$(v);else{var T=r(f);T!==null&&b(h,T.startTime-x)}}function v(x,T){C=!1,m&&(m=!1,c(_),_=-1),E=!0;var D=g;try{for(o(T),p=r(u);p!==null&&(!(p.expirationTime>T)||x&&!A());){var F=p.callback;if(typeof F=="function"){p.callback=null,g=p.priorityLevel;var z=F(p.expirationTime<=T);T=e.unstable_now(),typeof z=="function"?p.callback=z:p===r(u)&&i(u),o(T)}else i(u);p=r(u)}if(p!==null)var Y=!0;else{var W=r(f);W!==null&&b(h,W.startTime-T),Y=!1}return Y}finally{p=null,g=D,E=!1}}var w=!1,L=null,_=-1,k=5,R=-1;function A(){return!(e.unstable_now()-R<k)}function M(){if(L!==null){var x=e.unstable_now();R=x;var T=!0;try{T=L(!0,x)}finally{T?B():(w=!1,L=null)}}else w=!1}var B;if(typeof a=="function")B=function(){a(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,U=H.port2;H.port1.onmessage=M,B=function(){U.postMessage(null)}}else B=function(){s(M,0)};function $(x){L=x,w||(w=!0,B())}function b(x,T){_=s(function(){x(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){C||E||(C=!0,$(v))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(x){switch(g){case 1:case 2:case 3:var T=3;break;default:T=g}var D=g;g=T;try{return x()}finally{g=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,T){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var D=g;g=x;try{return T()}finally{g=D}},e.unstable_scheduleCallback=function(x,T,D){var F=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,x){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=D+z,x={id:y++,callback:T,priorityLevel:x,startTime:D,expirationTime:z,sortIndex:-1},D>F?(x.sortIndex=D,t(f,x),r(u)===null&&x===r(f)&&(m?(c(_),_=-1):m=!0,b(h,D-F))):(x.sortIndex=z,t(u,x),C||E||(C=!0,$(v))),x},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(x){var T=g;return function(){var D=g;g=T;try{return x.apply(this,arguments)}finally{g=D}}}})(Pa);(function(e){e.exports=Pa})(Sh);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=Q,Ue=ys;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ia=new Set,Zr={};function Zt(e,t){Sr(e,t),Sr(e+"Capture",t)}function Sr(e,t){for(Zr[e]=t,e=0;e<t.length;e++)Ia.add(t[e])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=Object.prototype.hasOwnProperty,yh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_l={},pl={};function Ch(e){return Cs.call(pl,e)?!0:Cs.call(_l,e)?!1:yh.test(e)?pl[e]=!0:(_l[e]=!0,!1)}function wh(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Eh(e,t,r,i){if(t===null||typeof t>"u"||wh(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,r,i,l,d,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=S}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var yo=/[\-:]([a-z])/g;function Co(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yo,Co);Ce[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yo,Co);Ce[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yo,Co);Ce[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function wo(e,t,r,i){var l=Ce.hasOwnProperty(t)?Ce[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Eh(t,r,l,i)&&(r=null),i||l===null?Ch(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var gt=Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ei=Symbol.for("react.element"),tr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),Eo=Symbol.for("react.strict_mode"),ws=Symbol.for("react.profiler"),Ha=Symbol.for("react.provider"),Fa=Symbol.for("react.context"),ko=Symbol.for("react.forward_ref"),Es=Symbol.for("react.suspense"),ks=Symbol.for("react.suspense_list"),Lo=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Na=Symbol.for("react.offscreen"),vl=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=vl&&e[vl]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,$n;function Hr(e){if($n===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$n=t&&t[1]||""}return`
`+$n+e}var Kn=!1;function Vn(e,t){if(!e||Kn)return"";Kn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var i=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){i=f}e.call(t.prototype)}else{try{throw Error()}catch(f){i=f}e()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var l=f.stack.split(`
`),d=i.stack.split(`
`),S=l.length-1,n=d.length-1;1<=S&&0<=n&&l[S]!==d[n];)n--;for(;1<=S&&0<=n;S--,n--)if(l[S]!==d[n]){if(S!==1||n!==1)do if(S--,n--,0>n||l[S]!==d[n]){var u=`
`+l[S].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=S&&0<=n);break}}}finally{Kn=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hr(e):""}function kh(e){switch(e.tag){case 5:return Hr(e.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return e=Vn(e.type,!1),e;case 11:return e=Vn(e.type.render,!1),e;case 1:return e=Vn(e.type,!0),e;default:return""}}function Ls(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case tr:return"Portal";case ws:return"Profiler";case Eo:return"StrictMode";case Es:return"Suspense";case ks:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fa:return(e.displayName||"Context")+".Consumer";case Ha:return(e._context.displayName||"Context")+".Provider";case ko:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lo:return t=e.displayName||null,t!==null?t:Ls(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return Ls(e(t))}catch{}}return null}function Lh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ls(t);case 8:return t===Eo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ua(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bh(e){var t=Ua(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(S){i=""+S,d.call(this,S)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(S){i=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ki(e){e._valueTracker||(e._valueTracker=bh(e))}function za(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Ua(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bs(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gl(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Pt(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ja(e,t){t=t.checked,t!=null&&wo(e,"checked",t,!1)}function Rs(e,t){ja(e,t);var r=Pt(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xs(e,t.type,r):t.hasOwnProperty("defaultValue")&&xs(e,t.type,Pt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ml(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xs(e,t,r){(t!=="number"||Ji(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fr=Array.isArray;function fr(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Pt(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ds(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(j(92));if(Fr(r)){if(1<r.length)throw Error(j(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pt(r)}}function Wa(e,t){var r=Pt(t.value),i=Pt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function yl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $a(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ts(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$a(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Li,Ka=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Li.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rh=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){Rh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jr[t]=jr[e]})});function Va(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}function qa(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=Va(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var xh=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function As(e,t){if(t){if(xh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Ms(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=null;function bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,_r=null,pr=null;function Cl(e){if(e=Si(e)){if(typeof Ps!="function")throw Error(j(280));var t=e.stateNode;t&&(t=An(t),Ps(e.stateNode,e.type,t))}}function Ga(e){_r?pr?pr.push(e):pr=[e]:_r=e}function Xa(){if(_r){var e=_r,t=pr;if(pr=_r=null,Cl(e),t)for(e=0;e<t.length;e++)Cl(t[e])}}function Ya(e,t){return e(t)}function Qa(){}var qn=!1;function Za(e,t,r){if(qn)return e(t,r);qn=!0;try{return Ya(e,t,r)}finally{qn=!1,(_r!==null||pr!==null)&&(Qa(),Xa())}}function ei(e,t){var r=e.stateNode;if(r===null)return null;var i=An(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(j(231,t,typeof r));return r}var Bs=!1;if(ft)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Bs=!1}function Dh(e,t,r,i,l,d,S,n,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(y){this.onError(y)}}var Wr=!1,en=null,tn=!1,Is=null,Th={onError:function(e){Wr=!0,en=e}};function Ah(e,t,r,i,l,d,S,n,u){Wr=!1,en=null,Dh.apply(Th,arguments)}function Mh(e,t,r,i,l,d,S,n,u){if(Ah.apply(this,arguments),Wr){if(Wr){var f=en;Wr=!1,en=null}else throw Error(j(198));tn||(tn=!0,Is=f)}}function Jt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ja(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wl(e){if(Jt(e)!==e)throw Error(j(188))}function Oh(e){var t=e.alternate;if(!t){if(t=Jt(e),t===null)throw Error(j(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return wl(l),e;if(d===i)return wl(l),t;d=d.sibling}throw Error(j(188))}if(r.return!==i.return)r=l,i=d;else{for(var S=!1,n=l.child;n;){if(n===r){S=!0,r=l,i=d;break}if(n===i){S=!0,i=l,r=d;break}n=n.sibling}if(!S){for(n=d.child;n;){if(n===r){S=!0,r=d,i=l;break}if(n===i){S=!0,i=d,r=l;break}n=n.sibling}if(!S)throw Error(j(189))}}if(r.alternate!==i)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?e:t}function ec(e){return e=Oh(e),e!==null?tc(e):null}function tc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tc(e);if(t!==null)return t;e=e.sibling}return null}var rc=Ue.unstable_scheduleCallback,El=Ue.unstable_cancelCallback,Ph=Ue.unstable_shouldYield,Bh=Ue.unstable_requestPaint,he=Ue.unstable_now,Ih=Ue.unstable_getCurrentPriorityLevel,Ro=Ue.unstable_ImmediatePriority,ic=Ue.unstable_UserBlockingPriority,rn=Ue.unstable_NormalPriority,Hh=Ue.unstable_LowPriority,nc=Ue.unstable_IdlePriority,Rn=null,ot=null;function Fh(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Rn,e,void 0,(e.current.flags&128)===128)}catch{}}var et=Math.clz32?Math.clz32:zh,Nh=Math.log,Uh=Math.LN2;function zh(e){return e>>>=0,e===0?32:31-(Nh(e)/Uh|0)|0}var bi=64,Ri=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nn(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,d=e.pingedLanes,S=r&268435455;if(S!==0){var n=S&~l;n!==0?i=Nr(n):(d&=S,d!==0&&(i=Nr(d)))}else S=r&~l,S!==0?i=Nr(S):d!==0&&(i=Nr(d));if(i===0)return 0;if(t!==0&&t!==i&&!(t&l)&&(l=i&-i,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-et(t),l=1<<r,i|=e[r],t&=~l;return i}function jh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wh(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var S=31-et(d),n=1<<S,u=l[S];u===-1?(!(n&r)||n&i)&&(l[S]=jh(n,t)):u<=t&&(e.expiredLanes|=n),d&=~n}}function Hs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sc(){var e=bi;return bi<<=1,!(bi&4194240)&&(bi=64),e}function Gn(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-et(t),e[t]=r}function $h(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-et(r),d=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~d}}function xo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-et(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var ee=0;function oc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lc,Do,ac,cc,uc,Fs=!1,xi=[],Lt=null,bt=null,Rt=null,ti=new Map,ri=new Map,Ct=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kl(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function Ar(e,t,r,i,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[l]},t!==null&&(t=Si(t),t!==null&&Do(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Vh(e,t,r,i,l){switch(t){case"focusin":return Lt=Ar(Lt,e,t,r,i,l),!0;case"dragenter":return bt=Ar(bt,e,t,r,i,l),!0;case"mouseover":return Rt=Ar(Rt,e,t,r,i,l),!0;case"pointerover":var d=l.pointerId;return ti.set(d,Ar(ti.get(d)||null,e,t,r,i,l)),!0;case"gotpointercapture":return d=l.pointerId,ri.set(d,Ar(ri.get(d)||null,e,t,r,i,l)),!0}return!1}function hc(e){var t=zt(e.target);if(t!==null){var r=Jt(t);if(r!==null){if(t=r.tag,t===13){if(t=Ja(r),t!==null){e.blockedOn=t,uc(e.priority,function(){ac(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ns(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Os=i,r.target.dispatchEvent(i),Os=null}else return t=Si(r),t!==null&&Do(t),e.blockedOn=r,!1;t.shift()}return!0}function Ll(e,t,r){Wi(e)&&r.delete(t)}function qh(){Fs=!1,Lt!==null&&Wi(Lt)&&(Lt=null),bt!==null&&Wi(bt)&&(bt=null),Rt!==null&&Wi(Rt)&&(Rt=null),ti.forEach(Ll),ri.forEach(Ll)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,Fs||(Fs=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,qh)))}function ii(e){function t(l){return Mr(l,e)}if(0<xi.length){Mr(xi[0],e);for(var r=1;r<xi.length;r++){var i=xi[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Lt!==null&&Mr(Lt,e),bt!==null&&Mr(bt,e),Rt!==null&&Mr(Rt,e),ti.forEach(t),ri.forEach(t),r=0;r<Ct.length;r++)i=Ct[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)hc(r),r.blockedOn===null&&Ct.shift()}var vr=gt.ReactCurrentBatchConfig,sn=!0;function Gh(e,t,r,i){var l=ee,d=vr.transition;vr.transition=null;try{ee=1,To(e,t,r,i)}finally{ee=l,vr.transition=d}}function Xh(e,t,r,i){var l=ee,d=vr.transition;vr.transition=null;try{ee=4,To(e,t,r,i)}finally{ee=l,vr.transition=d}}function To(e,t,r,i){if(sn){var l=Ns(e,t,r,i);if(l===null)ns(e,t,i,on,r),kl(e,i);else if(Vh(l,e,t,r,i))i.stopPropagation();else if(kl(e,i),t&4&&-1<Kh.indexOf(e)){for(;l!==null;){var d=Si(l);if(d!==null&&lc(d),d=Ns(e,t,r,i),d===null&&ns(e,t,i,on,r),d===l)break;l=d}l!==null&&i.stopPropagation()}else ns(e,t,i,null,r)}}var on=null;function Ns(e,t,r,i){if(on=null,e=bo(i),e=zt(e),e!==null)if(t=Jt(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ja(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return on=e,null}function dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ih()){case Ro:return 1;case ic:return 4;case rn:case Hh:return 16;case nc:return 536870912;default:return 16}default:return 16}}var Et=null,Ao=null,$i=null;function fc(){if($i)return $i;var e,t=Ao,r=t.length,i,l="value"in Et?Et.value:Et.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var S=r-e;for(i=1;i<=S&&t[r-i]===l[d-i];i++);return $i=l.slice(e,1<i?1-i:void 0)}function Ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function bl(){return!1}function je(e){function t(r,i,l,d,S){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=d,this.target=S,this.currentTarget=null;for(var n in e)e.hasOwnProperty(n)&&(r=e[n],this[n]=r?r(d):d[n]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Di:bl,this.isPropagationStopped=bl,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=je(Rr),mi=ce({},Rr,{view:0,detail:0}),Yh=je(mi),Xn,Yn,Or,xn=ce({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Or&&(Or&&e.type==="mousemove"?(Xn=e.screenX-Or.screenX,Yn=e.screenY-Or.screenY):Yn=Xn=0,Or=e),Xn)},movementY:function(e){return"movementY"in e?e.movementY:Yn}}),Rl=je(xn),Qh=ce({},xn,{dataTransfer:0}),Zh=je(Qh),Jh=ce({},mi,{relatedTarget:0}),Qn=je(Jh),ed=ce({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),td=je(ed),rd=ce({},Rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),id=je(rd),nd=ce({},Rr,{data:0}),xl=je(nd),sd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},od={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ld={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ad(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ld[e])?!!t[e]:!1}function Oo(){return ad}var cd=ce({},mi,{key:function(e){if(e.key){var t=sd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?od[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?Ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ud=je(cd),hd=ce({},xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=je(hd),dd=ce({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),fd=je(dd),_d=ce({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pd=je(_d),vd=ce({},xn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gd=je(vd),md=[9,13,27,32],Po=ft&&"CompositionEvent"in window,$r=null;ft&&"documentMode"in document&&($r=document.documentMode);var Sd=ft&&"TextEvent"in window&&!$r,_c=ft&&(!Po||$r&&8<$r&&11>=$r),Tl=String.fromCharCode(32),Al=!1;function pc(e,t){switch(e){case"keyup":return md.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function yd(e,t){switch(e){case"compositionend":return vc(t);case"keypress":return t.which!==32?null:(Al=!0,Tl);case"textInput":return e=t.data,e===Tl&&Al?null:e;default:return null}}function Cd(e,t){if(ir)return e==="compositionend"||!Po&&pc(e,t)?(e=fc(),$i=Ao=Et=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _c&&t.locale!=="ko"?null:t.data;default:return null}}var wd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wd[e.type]:t==="textarea"}function gc(e,t,r,i){Ga(i),t=ln(t,"onChange"),0<t.length&&(r=new Mo("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Kr=null,ni=null;function Ed(e){xc(e,0)}function Dn(e){var t=or(e);if(za(t))return e}function kd(e,t){if(e==="change")return t}var mc=!1;if(ft){var Zn;if(ft){var Jn="oninput"in document;if(!Jn){var Ol=document.createElement("div");Ol.setAttribute("oninput","return;"),Jn=typeof Ol.oninput=="function"}Zn=Jn}else Zn=!1;mc=Zn&&(!document.documentMode||9<document.documentMode)}function Pl(){Kr&&(Kr.detachEvent("onpropertychange",Sc),ni=Kr=null)}function Sc(e){if(e.propertyName==="value"&&Dn(ni)){var t=[];gc(t,ni,e,bo(e)),Za(Ed,t)}}function Ld(e,t,r){e==="focusin"?(Pl(),Kr=t,ni=r,Kr.attachEvent("onpropertychange",Sc)):e==="focusout"&&Pl()}function bd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dn(ni)}function Rd(e,t){if(e==="click")return Dn(t)}function xd(e,t){if(e==="input"||e==="change")return Dn(t)}function Dd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Dd;function si(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!Cs.call(t,l)||!rt(e[l],t[l]))return!1}return!0}function Bl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Il(e,t){var r=Bl(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bl(r)}}function yc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cc(){for(var e=window,t=Ji();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ji(e.document)}return t}function Bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Td(e){var t=Cc(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yc(r.ownerDocument.documentElement,r)){if(i!==null&&Bo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,d=Math.min(i.start,l);i=i.end===void 0?d:Math.min(i.end,l),!e.extend&&d>i&&(l=i,i=d,d=l),l=Il(r,d);var S=Il(r,i);l&&S&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(S.node,S.offset)):(t.setEnd(S.node,S.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ad=ft&&"documentMode"in document&&11>=document.documentMode,nr=null,Us=null,Vr=null,zs=!1;function Hl(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zs||nr==null||nr!==Ji(i)||(i=nr,"selectionStart"in i&&Bo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vr&&si(Vr,i)||(Vr=i,i=ln(Us,"onSelect"),0<i.length&&(t=new Mo("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=nr)))}function Ti(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var sr={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionend:Ti("Transition","TransitionEnd")},es={},wc={};ft&&(wc=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function Tn(e){if(es[e])return es[e];if(!sr[e])return e;var t=sr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wc)return es[e]=t[r];return e}var Ec=Tn("animationend"),kc=Tn("animationiteration"),Lc=Tn("animationstart"),bc=Tn("transitionend"),Rc=new Map,Fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function It(e,t){Rc.set(e,t),Zt(t,[e])}for(var ts=0;ts<Fl.length;ts++){var rs=Fl[ts],Md=rs.toLowerCase(),Od=rs[0].toUpperCase()+rs.slice(1);It(Md,"on"+Od)}It(Ec,"onAnimationEnd");It(kc,"onAnimationIteration");It(Lc,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(bc,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pd=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Nl(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Mh(i,t,void 0,e),e.currentTarget=null}function xc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var S=i.length-1;0<=S;S--){var n=i[S],u=n.instance,f=n.currentTarget;if(n=n.listener,u!==d&&l.isPropagationStopped())break e;Nl(l,n,f),d=u}else for(S=0;S<i.length;S++){if(n=i[S],u=n.instance,f=n.currentTarget,n=n.listener,u!==d&&l.isPropagationStopped())break e;Nl(l,n,f),d=u}}}if(tn)throw e=Is,tn=!1,Is=null,e}function ie(e,t){var r=t[Vs];r===void 0&&(r=t[Vs]=new Set);var i=e+"__bubble";r.has(i)||(Dc(t,e,2,!1),r.add(i))}function is(e,t,r){var i=0;t&&(i|=4),Dc(r,e,i,t)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function oi(e){if(!e[Ai]){e[Ai]=!0,Ia.forEach(function(r){r!=="selectionchange"&&(Pd.has(r)||is(r,!1,e),is(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ai]||(t[Ai]=!0,is("selectionchange",!1,t))}}function Dc(e,t,r,i){switch(dc(t)){case 1:var l=Gh;break;case 4:l=Xh;break;default:l=To}r=l.bind(null,t,r,e),l=void 0,!Bs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function ns(e,t,r,i,l){var d=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var S=i.tag;if(S===3||S===4){var n=i.stateNode.containerInfo;if(n===l||n.nodeType===8&&n.parentNode===l)break;if(S===4)for(S=i.return;S!==null;){var u=S.tag;if((u===3||u===4)&&(u=S.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;S=S.return}for(;n!==null;){if(S=zt(n),S===null)return;if(u=S.tag,u===5||u===6){i=d=S;continue e}n=n.parentNode}}i=i.return}Za(function(){var f=d,y=bo(r),p=[];e:{var g=Rc.get(e);if(g!==void 0){var E=Mo,C=e;switch(e){case"keypress":if(Ki(r)===0)break e;case"keydown":case"keyup":E=ud;break;case"focusin":C="focus",E=Qn;break;case"focusout":C="blur",E=Qn;break;case"beforeblur":case"afterblur":E=Qn;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=fd;break;case Ec:case kc:case Lc:E=td;break;case bc:E=pd;break;case"scroll":E=Yh;break;case"wheel":E=gd;break;case"copy":case"cut":case"paste":E=id;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Dl}var m=(t&4)!==0,s=!m&&e==="scroll",c=m?g!==null?g+"Capture":null:g;m=[];for(var a=f,o;a!==null;){o=a;var h=o.stateNode;if(o.tag===5&&h!==null&&(o=h,c!==null&&(h=ei(a,c),h!=null&&m.push(li(a,h,o)))),s)break;a=a.return}0<m.length&&(g=new E(g,C,null,r,y),p.push({event:g,listeners:m}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",g&&r!==Os&&(C=r.relatedTarget||r.fromElement)&&(zt(C)||C[_t]))break e;if((E||g)&&(g=y.window===y?y:(g=y.ownerDocument)?g.defaultView||g.parentWindow:window,E?(C=r.relatedTarget||r.toElement,E=f,C=C?zt(C):null,C!==null&&(s=Jt(C),C!==s||C.tag!==5&&C.tag!==6)&&(C=null)):(E=null,C=f),E!==C)){if(m=Rl,h="onMouseLeave",c="onMouseEnter",a="mouse",(e==="pointerout"||e==="pointerover")&&(m=Dl,h="onPointerLeave",c="onPointerEnter",a="pointer"),s=E==null?g:or(E),o=C==null?g:or(C),g=new m(h,a+"leave",E,r,y),g.target=s,g.relatedTarget=o,h=null,zt(y)===f&&(m=new m(c,a+"enter",C,r,y),m.target=o,m.relatedTarget=s,h=m),s=h,E&&C)t:{for(m=E,c=C,a=0,o=m;o;o=er(o))a++;for(o=0,h=c;h;h=er(h))o++;for(;0<a-o;)m=er(m),a--;for(;0<o-a;)c=er(c),o--;for(;a--;){if(m===c||c!==null&&m===c.alternate)break t;m=er(m),c=er(c)}m=null}else m=null;E!==null&&Ul(p,g,E,m,!1),C!==null&&s!==null&&Ul(p,s,C,m,!0)}}e:{if(g=f?or(f):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var v=kd;else if(Ml(g))if(mc)v=xd;else{v=bd;var w=Ld}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(v=Rd);if(v&&(v=v(e,f))){gc(p,v,r,y);break e}w&&w(e,g,f),e==="focusout"&&(w=g._wrapperState)&&w.controlled&&g.type==="number"&&xs(g,"number",g.value)}switch(w=f?or(f):window,e){case"focusin":(Ml(w)||w.contentEditable==="true")&&(nr=w,Us=f,Vr=null);break;case"focusout":Vr=Us=nr=null;break;case"mousedown":zs=!0;break;case"contextmenu":case"mouseup":case"dragend":zs=!1,Hl(p,r,y);break;case"selectionchange":if(Ad)break;case"keydown":case"keyup":Hl(p,r,y)}var L;if(Po)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ir?pc(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(_c&&r.locale!=="ko"&&(ir||_!=="onCompositionStart"?_==="onCompositionEnd"&&ir&&(L=fc()):(Et=y,Ao="value"in Et?Et.value:Et.textContent,ir=!0)),w=ln(f,_),0<w.length&&(_=new xl(_,e,null,r,y),p.push({event:_,listeners:w}),L?_.data=L:(L=vc(r),L!==null&&(_.data=L)))),(L=Sd?yd(e,r):Cd(e,r))&&(f=ln(f,"onBeforeInput"),0<f.length&&(y=new xl("onBeforeInput","beforeinput",null,r,y),p.push({event:y,listeners:f}),y.data=L))}xc(p,t)})}function li(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ln(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=ei(e,r),d!=null&&i.unshift(li(e,d,l)),d=ei(e,t),d!=null&&i.push(li(e,d,l))),e=e.return}return i}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ul(e,t,r,i,l){for(var d=t._reactName,S=[];r!==null&&r!==i;){var n=r,u=n.alternate,f=n.stateNode;if(u!==null&&u===i)break;n.tag===5&&f!==null&&(n=f,l?(u=ei(r,d),u!=null&&S.unshift(li(r,u,n))):l||(u=ei(r,d),u!=null&&S.push(li(r,u,n)))),r=r.return}S.length!==0&&e.push({event:t,listeners:S})}var Bd=/\r\n?/g,Id=/\u0000|\uFFFD/g;function zl(e){return(typeof e=="string"?e:""+e).replace(Bd,`
`).replace(Id,"")}function Mi(e,t,r){if(t=zl(t),zl(e)!==t&&r)throw Error(j(425))}function an(){}var js=null,Ws=null;function $s(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ks=typeof setTimeout=="function"?setTimeout:void 0,Hd=typeof clearTimeout=="function"?clearTimeout:void 0,jl=typeof Promise=="function"?Promise:void 0,Fd=typeof queueMicrotask=="function"?queueMicrotask:typeof jl<"u"?function(e){return jl.resolve(null).then(e).catch(Nd)}:Ks;function Nd(e){setTimeout(function(){throw e})}function ss(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),ii(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);ii(t)}function xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),st="__reactFiber$"+xr,ai="__reactProps$"+xr,_t="__reactContainer$"+xr,Vs="__reactEvents$"+xr,Ud="__reactListeners$"+xr,zd="__reactHandles$"+xr;function zt(e){var t=e[st];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_t]||r[st]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wl(e);e!==null;){if(r=e[st])return r;e=Wl(e)}return t}e=r,r=e.parentNode}return null}function Si(e){return e=e[st]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function An(e){return e[ai]||null}var qs=[],lr=-1;function Ht(e){return{current:e}}function ne(e){0>lr||(e.current=qs[lr],qs[lr]=null,lr--)}function te(e,t){lr++,qs[lr]=e.current,e.current=t}var Bt={},be=Ht(Bt),Pe=Ht(!1),qt=Bt;function yr(e,t){var r=e.type.contextTypes;if(!r)return Bt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in r)l[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Be(e){return e=e.childContextTypes,e!=null}function cn(){ne(Pe),ne(be)}function $l(e,t,r){if(be.current!==Bt)throw Error(j(168));te(be,t),te(Pe,r)}function Tc(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(j(108,Lh(e)||"Unknown",l));return ce({},r,i)}function un(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bt,qt=be.current,te(be,e),te(Pe,Pe.current),!0}function Kl(e,t,r){var i=e.stateNode;if(!i)throw Error(j(169));r?(e=Tc(e,t,qt),i.__reactInternalMemoizedMergedChildContext=e,ne(Pe),ne(be),te(be,e)):ne(Pe),te(Pe,r)}var ct=null,Mn=!1,os=!1;function Ac(e){ct===null?ct=[e]:ct.push(e)}function jd(e){Mn=!0,Ac(e)}function Ft(){if(!os&&ct!==null){os=!0;var e=0,t=ee;try{var r=ct;for(ee=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}ct=null,Mn=!1}catch(l){throw ct!==null&&(ct=ct.slice(e+1)),rc(Ro,Ft),l}finally{ee=t,os=!1}}return null}var ar=[],cr=0,hn=null,dn=0,We=[],$e=0,Gt=null,ut=1,ht="";function Nt(e,t){ar[cr++]=dn,ar[cr++]=hn,hn=e,dn=t}function Mc(e,t,r){We[$e++]=ut,We[$e++]=ht,We[$e++]=Gt,Gt=e;var i=ut;e=ht;var l=32-et(i)-1;i&=~(1<<l),r+=1;var d=32-et(t)+l;if(30<d){var S=l-l%5;d=(i&(1<<S)-1).toString(32),i>>=S,l-=S,ut=1<<32-et(t)+l|r<<l|i,ht=d+e}else ut=1<<d|r<<l|i,ht=e}function Io(e){e.return!==null&&(Nt(e,1),Mc(e,1,0))}function Ho(e){for(;e===hn;)hn=ar[--cr],ar[cr]=null,dn=ar[--cr],ar[cr]=null;for(;e===Gt;)Gt=We[--$e],We[$e]=null,ht=We[--$e],We[$e]=null,ut=We[--$e],We[$e]=null}var Ne=null,Fe=null,se=!1,Ze=null;function Oc(e,t){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Vl(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ne=e,Fe=xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ne=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gt!==null?{id:ut,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ne=e,Fe=null,!0):!1;default:return!1}}function Gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xs(e){if(se){var t=Fe;if(t){var r=t;if(!Vl(e,t)){if(Gs(e))throw Error(j(418));t=xt(r.nextSibling);var i=Ne;t&&Vl(e,t)?Oc(i,r):(e.flags=e.flags&-4097|2,se=!1,Ne=e)}}else{if(Gs(e))throw Error(j(418));e.flags=e.flags&-4097|2,se=!1,Ne=e}}}function ql(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ne=e}function Oi(e){if(e!==Ne)return!1;if(!se)return ql(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$s(e.type,e.memoizedProps)),t&&(t=Fe)){if(Gs(e))throw Pc(),Error(j(418));for(;t;)Oc(e,t),t=xt(t.nextSibling)}if(ql(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fe=xt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=Ne?xt(e.stateNode.nextSibling):null;return!0}function Pc(){for(var e=Fe;e;)e=xt(e.nextSibling)}function Cr(){Fe=Ne=null,se=!1}function Fo(e){Ze===null?Ze=[e]:Ze.push(e)}var Wd=gt.ReactCurrentBatchConfig;function Ye(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var fn=Ht(null),_n=null,ur=null,No=null;function Uo(){No=ur=_n=null}function zo(e){var t=fn.current;ne(fn),e._currentValue=t}function Ys(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function gr(e,t){_n=e,No=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Oe=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(No!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(_n===null)throw Error(j(308));ur=e,_n.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var jt=null;function jo(e){jt===null?jt=[e]:jt.push(e)}function Bc(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,jo(t)):(r.next=l.next,l.next=r),t.interleaved=r,pt(e,i)}function pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yt=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ic(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dt(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,J&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,pt(e,r)}return l=i.interleaved,l===null?(t.next=t,jo(i)):(t.next=l.next,l.next=t),i.interleaved=t,pt(e,r)}function Vi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,xo(e,r)}}function Gl(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var S={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?l=d=S:d=d.next=S,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pn(e,t,r,i){var l=e.updateQueue;yt=!1;var d=l.firstBaseUpdate,S=l.lastBaseUpdate,n=l.shared.pending;if(n!==null){l.shared.pending=null;var u=n,f=u.next;u.next=null,S===null?d=f:S.next=f,S=u;var y=e.alternate;y!==null&&(y=y.updateQueue,n=y.lastBaseUpdate,n!==S&&(n===null?y.firstBaseUpdate=f:n.next=f,y.lastBaseUpdate=u))}if(d!==null){var p=l.baseState;S=0,y=f=u=null,n=d;do{var g=n.lane,E=n.eventTime;if((i&g)===g){y!==null&&(y=y.next={eventTime:E,lane:0,tag:n.tag,payload:n.payload,callback:n.callback,next:null});e:{var C=e,m=n;switch(g=t,E=r,m.tag){case 1:if(C=m.payload,typeof C=="function"){p=C.call(E,p,g);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=m.payload,g=typeof C=="function"?C.call(E,p,g):C,g==null)break e;p=ce({},p,g);break e;case 2:yt=!0}}n.callback!==null&&n.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[n]:g.push(n))}else E={eventTime:E,lane:g,tag:n.tag,payload:n.payload,callback:n.callback,next:null},y===null?(f=y=E,u=p):y=y.next=E,S|=g;if(n=n.next,n===null){if(n=l.shared.pending,n===null)break;g=n,n=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(1);if(y===null&&(u=p),l.baseState=u,l.firstBaseUpdate=f,l.lastBaseUpdate=y,t=l.shared.interleaved,t!==null){l=t;do S|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);Yt|=S,e.lanes=S,e.memoizedState=p}}function Xl(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(j(191,l));l.call(i)}}}var Hc=new Ba.Component().refs;function Qs(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var On={isMounted:function(e){return(e=e._reactInternals)?Jt(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=De(),l=At(e),d=dt(i,l);d.payload=t,r!=null&&(d.callback=r),t=Dt(e,d,l),t!==null&&(tt(t,e,l,i),Vi(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=De(),l=At(e),d=dt(i,l);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Dt(e,d,l),t!==null&&(tt(t,e,l,i),Vi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=De(),i=At(e),l=dt(r,i);l.tag=2,t!=null&&(l.callback=t),t=Dt(e,l,i),t!==null&&(tt(t,e,i,r),Vi(t,e,i))}};function Yl(e,t,r,i,l,d,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,S):t.prototype&&t.prototype.isPureReactComponent?!si(r,i)||!si(l,d):!0}function Fc(e,t,r){var i=!1,l=Bt,d=t.contextType;return typeof d=="object"&&d!==null?d=qe(d):(l=Be(t)?qt:be.current,i=t.contextTypes,d=(i=i!=null)?yr(e,l):Bt),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=On,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function Ql(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&On.enqueueReplaceState(t,t.state,null)}function Zs(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs=Hc,Wo(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=qe(d):(d=Be(t)?qt:be.current,l.context=yr(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Qs(e,t,d,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&On.enqueueReplaceState(l,l.state,null),pn(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Pr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var i=r.stateNode}if(!i)throw Error(j(147,e));var l=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(S){var n=l.refs;n===Hc&&(n=l.refs={}),S===null?delete n[d]:n[d]=S},t._stringRef=d,t)}if(typeof e!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,e))}return e}function Pi(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zl(e){var t=e._init;return t(e._payload)}function Nc(e){function t(c,a){if(e){var o=c.deletions;o===null?(c.deletions=[a],c.flags|=16):o.push(a)}}function r(c,a){if(!e)return null;for(;a!==null;)t(c,a),a=a.sibling;return null}function i(c,a){for(c=new Map;a!==null;)a.key!==null?c.set(a.key,a):c.set(a.index,a),a=a.sibling;return c}function l(c,a){return c=Mt(c,a),c.index=0,c.sibling=null,c}function d(c,a,o){return c.index=o,e?(o=c.alternate,o!==null?(o=o.index,o<a?(c.flags|=2,a):o):(c.flags|=2,a)):(c.flags|=1048576,a)}function S(c){return e&&c.alternate===null&&(c.flags|=2),c}function n(c,a,o,h){return a===null||a.tag!==6?(a=fs(o,c.mode,h),a.return=c,a):(a=l(a,o),a.return=c,a)}function u(c,a,o,h){var v=o.type;return v===rr?y(c,a,o.props.children,h,o.key):a!==null&&(a.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===St&&Zl(v)===a.type)?(h=l(a,o.props),h.ref=Pr(c,a,o),h.return=c,h):(h=Zi(o.type,o.key,o.props,null,c.mode,h),h.ref=Pr(c,a,o),h.return=c,h)}function f(c,a,o,h){return a===null||a.tag!==4||a.stateNode.containerInfo!==o.containerInfo||a.stateNode.implementation!==o.implementation?(a=_s(o,c.mode,h),a.return=c,a):(a=l(a,o.children||[]),a.return=c,a)}function y(c,a,o,h,v){return a===null||a.tag!==7?(a=Vt(o,c.mode,h,v),a.return=c,a):(a=l(a,o),a.return=c,a)}function p(c,a,o){if(typeof a=="string"&&a!==""||typeof a=="number")return a=fs(""+a,c.mode,o),a.return=c,a;if(typeof a=="object"&&a!==null){switch(a.$$typeof){case Ei:return o=Zi(a.type,a.key,a.props,null,c.mode,o),o.ref=Pr(c,null,a),o.return=c,o;case tr:return a=_s(a,c.mode,o),a.return=c,a;case St:var h=a._init;return p(c,h(a._payload),o)}if(Fr(a)||Dr(a))return a=Vt(a,c.mode,o,null),a.return=c,a;Pi(c,a)}return null}function g(c,a,o,h){var v=a!==null?a.key:null;if(typeof o=="string"&&o!==""||typeof o=="number")return v!==null?null:n(c,a,""+o,h);if(typeof o=="object"&&o!==null){switch(o.$$typeof){case Ei:return o.key===v?u(c,a,o,h):null;case tr:return o.key===v?f(c,a,o,h):null;case St:return v=o._init,g(c,a,v(o._payload),h)}if(Fr(o)||Dr(o))return v!==null?null:y(c,a,o,h,null);Pi(c,o)}return null}function E(c,a,o,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return c=c.get(o)||null,n(a,c,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ei:return c=c.get(h.key===null?o:h.key)||null,u(a,c,h,v);case tr:return c=c.get(h.key===null?o:h.key)||null,f(a,c,h,v);case St:var w=h._init;return E(c,a,o,w(h._payload),v)}if(Fr(h)||Dr(h))return c=c.get(o)||null,y(a,c,h,v,null);Pi(a,h)}return null}function C(c,a,o,h){for(var v=null,w=null,L=a,_=a=0,k=null;L!==null&&_<o.length;_++){L.index>_?(k=L,L=null):k=L.sibling;var R=g(c,L,o[_],h);if(R===null){L===null&&(L=k);break}e&&L&&R.alternate===null&&t(c,L),a=d(R,a,_),w===null?v=R:w.sibling=R,w=R,L=k}if(_===o.length)return r(c,L),se&&Nt(c,_),v;if(L===null){for(;_<o.length;_++)L=p(c,o[_],h),L!==null&&(a=d(L,a,_),w===null?v=L:w.sibling=L,w=L);return se&&Nt(c,_),v}for(L=i(c,L);_<o.length;_++)k=E(L,c,_,o[_],h),k!==null&&(e&&k.alternate!==null&&L.delete(k.key===null?_:k.key),a=d(k,a,_),w===null?v=k:w.sibling=k,w=k);return e&&L.forEach(function(A){return t(c,A)}),se&&Nt(c,_),v}function m(c,a,o,h){var v=Dr(o);if(typeof v!="function")throw Error(j(150));if(o=v.call(o),o==null)throw Error(j(151));for(var w=v=null,L=a,_=a=0,k=null,R=o.next();L!==null&&!R.done;_++,R=o.next()){L.index>_?(k=L,L=null):k=L.sibling;var A=g(c,L,R.value,h);if(A===null){L===null&&(L=k);break}e&&L&&A.alternate===null&&t(c,L),a=d(A,a,_),w===null?v=A:w.sibling=A,w=A,L=k}if(R.done)return r(c,L),se&&Nt(c,_),v;if(L===null){for(;!R.done;_++,R=o.next())R=p(c,R.value,h),R!==null&&(a=d(R,a,_),w===null?v=R:w.sibling=R,w=R);return se&&Nt(c,_),v}for(L=i(c,L);!R.done;_++,R=o.next())R=E(L,c,_,R.value,h),R!==null&&(e&&R.alternate!==null&&L.delete(R.key===null?_:R.key),a=d(R,a,_),w===null?v=R:w.sibling=R,w=R);return e&&L.forEach(function(M){return t(c,M)}),se&&Nt(c,_),v}function s(c,a,o,h){if(typeof o=="object"&&o!==null&&o.type===rr&&o.key===null&&(o=o.props.children),typeof o=="object"&&o!==null){switch(o.$$typeof){case Ei:e:{for(var v=o.key,w=a;w!==null;){if(w.key===v){if(v=o.type,v===rr){if(w.tag===7){r(c,w.sibling),a=l(w,o.props.children),a.return=c,c=a;break e}}else if(w.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===St&&Zl(v)===w.type){r(c,w.sibling),a=l(w,o.props),a.ref=Pr(c,w,o),a.return=c,c=a;break e}r(c,w);break}else t(c,w);w=w.sibling}o.type===rr?(a=Vt(o.props.children,c.mode,h,o.key),a.return=c,c=a):(h=Zi(o.type,o.key,o.props,null,c.mode,h),h.ref=Pr(c,a,o),h.return=c,c=h)}return S(c);case tr:e:{for(w=o.key;a!==null;){if(a.key===w)if(a.tag===4&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){r(c,a.sibling),a=l(a,o.children||[]),a.return=c,c=a;break e}else{r(c,a);break}else t(c,a);a=a.sibling}a=_s(o,c.mode,h),a.return=c,c=a}return S(c);case St:return w=o._init,s(c,a,w(o._payload),h)}if(Fr(o))return C(c,a,o,h);if(Dr(o))return m(c,a,o,h);Pi(c,o)}return typeof o=="string"&&o!==""||typeof o=="number"?(o=""+o,a!==null&&a.tag===6?(r(c,a.sibling),a=l(a,o),a.return=c,c=a):(r(c,a),a=fs(o,c.mode,h),a.return=c,c=a),S(c)):r(c,a)}return s}var wr=Nc(!0),Uc=Nc(!1),yi={},lt=Ht(yi),ci=Ht(yi),ui=Ht(yi);function Wt(e){if(e===yi)throw Error(j(174));return e}function $o(e,t){switch(te(ui,t),te(ci,e),te(lt,yi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ts(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ts(t,e)}ne(lt),te(lt,t)}function Er(){ne(lt),ne(ci),ne(ui)}function zc(e){Wt(ui.current);var t=Wt(lt.current),r=Ts(t,e.type);t!==r&&(te(ci,e),te(lt,r))}function Ko(e){ci.current===e&&(ne(lt),ne(ci))}var le=Ht(0);function vn(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function Vo(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var qi=gt.ReactCurrentDispatcher,as=gt.ReactCurrentBatchConfig,Xt=0,ae=null,fe=null,ge=null,gn=!1,qr=!1,hi=0,$d=0;function Ee(){throw Error(j(321))}function qo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rt(e[r],t[r]))return!1;return!0}function Go(e,t,r,i,l,d){if(Xt=d,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qi.current=e===null||e.memoizedState===null?Gd:Xd,e=r(i,l),qr){d=0;do{if(qr=!1,hi=0,25<=d)throw Error(j(301));d+=1,ge=fe=null,t.updateQueue=null,qi.current=Yd,e=r(i,l)}while(qr)}if(qi.current=mn,t=fe!==null&&fe.next!==null,Xt=0,ge=fe=ae=null,gn=!1,t)throw Error(j(300));return e}function Xo(){var e=hi!==0;return hi=0,e}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ae.memoizedState=ge=e:ge=ge.next=e,ge}function Ge(){if(fe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=ge===null?ae.memoizedState:ge.next;if(t!==null)ge=t,fe=e;else{if(e===null)throw Error(j(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ge===null?ae.memoizedState=ge=e:ge=ge.next=e}return ge}function di(e,t){return typeof t=="function"?t(e):t}function cs(e){var t=Ge(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var i=fe,l=i.baseQueue,d=r.pending;if(d!==null){if(l!==null){var S=l.next;l.next=d.next,d.next=S}i.baseQueue=l=d,r.pending=null}if(l!==null){d=l.next,i=i.baseState;var n=S=null,u=null,f=d;do{var y=f.lane;if((Xt&y)===y)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:e(i,f.action);else{var p={lane:y,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(n=u=p,S=i):u=u.next=p,ae.lanes|=y,Yt|=y}f=f.next}while(f!==null&&f!==d);u===null?S=i:u.next=n,rt(i,t.memoizedState)||(Oe=!0),t.memoizedState=i,t.baseState=S,t.baseQueue=u,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do d=l.lane,ae.lanes|=d,Yt|=d,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function us(e){var t=Ge(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var S=l=l.next;do d=e(d,S.action),S=S.next;while(S!==l);rt(d,t.memoizedState)||(Oe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function jc(){}function Wc(e,t){var r=ae,i=Ge(),l=t(),d=!rt(i.memoizedState,l);if(d&&(i.memoizedState=l,Oe=!0),i=i.queue,Yo(Vc.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,fi(9,Kc.bind(null,r,i,l,t),void 0,null),me===null)throw Error(j(349));Xt&30||$c(r,t,l)}return l}function $c(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Kc(e,t,r,i){t.value=r,t.getSnapshot=i,qc(t)&&Gc(e)}function Vc(e,t,r){return r(function(){qc(t)&&Gc(e)})}function qc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rt(e,r)}catch{return!0}}function Gc(e){var t=pt(e,1);t!==null&&tt(t,e,1,-1)}function Jl(e){var t=nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},t.queue=e,e=e.dispatch=qd.bind(null,ae,e),[t.memoizedState,e]}function fi(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Xc(){return Ge().memoizedState}function Gi(e,t,r,i){var l=nt();ae.flags|=e,l.memoizedState=fi(1|t,r,void 0,i===void 0?null:i)}function Pn(e,t,r,i){var l=Ge();i=i===void 0?null:i;var d=void 0;if(fe!==null){var S=fe.memoizedState;if(d=S.destroy,i!==null&&qo(i,S.deps)){l.memoizedState=fi(t,r,d,i);return}}ae.flags|=e,l.memoizedState=fi(1|t,r,d,i)}function ea(e,t){return Gi(8390656,8,e,t)}function Yo(e,t){return Pn(2048,8,e,t)}function Yc(e,t){return Pn(4,2,e,t)}function Qc(e,t){return Pn(4,4,e,t)}function Zc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jc(e,t,r){return r=r!=null?r.concat([e]):null,Pn(4,4,Zc.bind(null,t,e),r)}function Qo(){}function eu(e,t){var r=Ge();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&qo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function tu(e,t){var r=Ge();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&qo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function ru(e,t,r){return Xt&21?(rt(r,t)||(r=sc(),ae.lanes|=r,Yt|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oe=!0),e.memoizedState=r)}function Kd(e,t){var r=ee;ee=r!==0&&4>r?r:4,e(!0);var i=as.transition;as.transition={};try{e(!1),t()}finally{ee=r,as.transition=i}}function iu(){return Ge().memoizedState}function Vd(e,t,r){var i=At(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},nu(e))su(t,r);else if(r=Bc(e,t,r,i),r!==null){var l=De();tt(r,e,i,l),ou(r,t,i)}}function qd(e,t,r){var i=At(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(nu(e))su(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var S=t.lastRenderedState,n=d(S,r);if(l.hasEagerState=!0,l.eagerState=n,rt(n,S)){var u=t.interleaved;u===null?(l.next=l,jo(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}r=Bc(e,t,l,i),r!==null&&(l=De(),tt(r,e,i,l),ou(r,t,i))}}function nu(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function su(e,t){qr=gn=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ou(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,xo(e,r)}}var mn={readContext:qe,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Gd={readContext:qe,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:ea,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gi(4194308,4,Zc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gi(4,2,e,t)},useMemo:function(e,t){var r=nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=nt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Vd.bind(null,ae,e),[i.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:Jl,useDebugValue:Qo,useDeferredValue:function(e){return nt().memoizedState=e},useTransition:function(){var e=Jl(!1),t=e[0];return e=Kd.bind(null,e[1]),nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=ae,l=nt();if(se){if(r===void 0)throw Error(j(407));r=r()}else{if(r=t(),me===null)throw Error(j(349));Xt&30||$c(i,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,ea(Vc.bind(null,i,d,e),[e]),i.flags|=2048,fi(9,Kc.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=nt(),t=me.identifierPrefix;if(se){var r=ht,i=ut;r=(i&~(1<<32-et(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=hi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$d++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xd={readContext:qe,useCallback:eu,useContext:qe,useEffect:Yo,useImperativeHandle:Jc,useInsertionEffect:Yc,useLayoutEffect:Qc,useMemo:tu,useReducer:cs,useRef:Xc,useState:function(){return cs(di)},useDebugValue:Qo,useDeferredValue:function(e){var t=Ge();return ru(t,fe.memoizedState,e)},useTransition:function(){var e=cs(di)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:jc,useSyncExternalStore:Wc,useId:iu,unstable_isNewReconciler:!1},Yd={readContext:qe,useCallback:eu,useContext:qe,useEffect:Yo,useImperativeHandle:Jc,useInsertionEffect:Yc,useLayoutEffect:Qc,useMemo:tu,useReducer:us,useRef:Xc,useState:function(){return us(di)},useDebugValue:Qo,useDeferredValue:function(e){var t=Ge();return fe===null?t.memoizedState=e:ru(t,fe.memoizedState,e)},useTransition:function(){var e=us(di)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:jc,useSyncExternalStore:Wc,useId:iu,unstable_isNewReconciler:!1};function kr(e,t){try{var r="",i=t;do r+=kh(i),i=i.return;while(i);var l=r}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function hs(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Js(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Qd=typeof WeakMap=="function"?WeakMap:Map;function lu(e,t,r){r=dt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){yn||(yn=!0,co=i),Js(e,t)},r}function au(e,t,r){r=dt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){Js(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Js(e,t),typeof i!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var S=t.stack;this.componentDidCatch(t.value,{componentStack:S!==null?S:""})}),r}function ta(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Qd;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=df.bind(null,e,t,r),t.then(e,e))}function ra(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ia(e,t,r,i,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dt(-1,1),t.tag=2,Dt(r,t,1))),r.lanes|=1),e)}var Zd=gt.ReactCurrentOwner,Oe=!1;function xe(e,t,r,i){t.child=e===null?Uc(t,null,r,i):wr(t,e.child,r,i)}function na(e,t,r,i,l){r=r.render;var d=t.ref;return gr(t,l),i=Go(e,t,r,i,d,l),r=Xo(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,vt(e,t,l)):(se&&r&&Io(t),t.flags|=1,xe(e,t,i,l),t.child)}function sa(e,t,r,i,l){if(e===null){var d=r.type;return typeof d=="function"&&!sl(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,cu(e,t,d,i,l)):(e=Zi(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&l)){var S=d.memoizedProps;if(r=r.compare,r=r!==null?r:si,r(S,i)&&e.ref===t.ref)return vt(e,t,l)}return t.flags|=1,e=Mt(d,i),e.ref=t.ref,e.return=t,t.child=e}function cu(e,t,r,i,l){if(e!==null){var d=e.memoizedProps;if(si(d,i)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=i=d,(e.lanes&l)!==0)e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,vt(e,t,l)}return eo(e,t,r,i,l)}function uu(e,t,r){var i=t.pendingProps,l=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(dr,He),He|=r;else{if(!(r&1073741824))return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(dr,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,te(dr,He),He|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,te(dr,He),He|=i;return xe(e,t,l,r),t.child}function hu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function eo(e,t,r,i,l){var d=Be(r)?qt:be.current;return d=yr(t,d),gr(t,l),r=Go(e,t,r,i,d,l),i=Xo(),e!==null&&!Oe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,vt(e,t,l)):(se&&i&&Io(t),t.flags|=1,xe(e,t,r,l),t.child)}function oa(e,t,r,i,l){if(Be(r)){var d=!0;un(t)}else d=!1;if(gr(t,l),t.stateNode===null)Xi(e,t),Fc(t,r,i),Zs(t,r,i,l),i=!0;else if(e===null){var S=t.stateNode,n=t.memoizedProps;S.props=n;var u=S.context,f=r.contextType;typeof f=="object"&&f!==null?f=qe(f):(f=Be(r)?qt:be.current,f=yr(t,f));var y=r.getDerivedStateFromProps,p=typeof y=="function"||typeof S.getSnapshotBeforeUpdate=="function";p||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(n!==i||u!==f)&&Ql(t,S,i,f),yt=!1;var g=t.memoizedState;S.state=g,pn(t,i,S,l),u=t.memoizedState,n!==i||g!==u||Pe.current||yt?(typeof y=="function"&&(Qs(t,r,y,i),u=t.memoizedState),(n=yt||Yl(t,r,n,i,g,u,f))?(p||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(t.flags|=4194308)):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),S.props=i,S.state=u,S.context=f,i=n):(typeof S.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{S=t.stateNode,Ic(e,t),n=t.memoizedProps,f=t.type===t.elementType?n:Ye(t.type,n),S.props=f,p=t.pendingProps,g=S.context,u=r.contextType,typeof u=="object"&&u!==null?u=qe(u):(u=Be(r)?qt:be.current,u=yr(t,u));var E=r.getDerivedStateFromProps;(y=typeof E=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(n!==p||g!==u)&&Ql(t,S,i,u),yt=!1,g=t.memoizedState,S.state=g,pn(t,i,S,l);var C=t.memoizedState;n!==p||g!==C||Pe.current||yt?(typeof E=="function"&&(Qs(t,r,E,i),C=t.memoizedState),(f=yt||Yl(t,r,f,i,g,C,u)||!1)?(y||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(i,C,u),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(i,C,u)),typeof S.componentDidUpdate=="function"&&(t.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof S.componentDidUpdate!="function"||n===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||n===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),S.props=i,S.state=C,S.context=u,i=f):(typeof S.componentDidUpdate!="function"||n===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||n===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return to(e,t,r,i,d,l)}function to(e,t,r,i,l,d){hu(e,t);var S=(t.flags&128)!==0;if(!i&&!S)return l&&Kl(t,r,!1),vt(e,t,d);i=t.stateNode,Zd.current=t;var n=S&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&S?(t.child=wr(t,e.child,null,d),t.child=wr(t,null,n,d)):xe(e,t,n,d),t.memoizedState=i.state,l&&Kl(t,r,!0),t.child}function du(e){var t=e.stateNode;t.pendingContext?$l(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$l(e,t.context,!1),$o(e,t.containerInfo)}function la(e,t,r,i,l){return Cr(),Fo(l),t.flags|=256,xe(e,t,r,i),t.child}var ro={dehydrated:null,treeContext:null,retryLane:0};function io(e){return{baseLanes:e,cachePool:null,transitions:null}}function fu(e,t,r){var i=t.pendingProps,l=le.current,d=!1,S=(t.flags&128)!==0,n;if((n=S)||(n=e!==null&&e.memoizedState===null?!1:(l&2)!==0),n?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),te(le,l&1),e===null)return Xs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(S=i.children,e=i.fallback,d?(i=t.mode,d=t.child,S={mode:"hidden",children:S},!(i&1)&&d!==null?(d.childLanes=0,d.pendingProps=S):d=Hn(S,i,0,null),e=Vt(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=io(r),t.memoizedState=ro,e):Zo(t,S));if(l=e.memoizedState,l!==null&&(n=l.dehydrated,n!==null))return Jd(e,t,S,i,n,l,r);if(d){d=i.fallback,S=t.mode,l=e.child,n=l.sibling;var u={mode:"hidden",children:i.children};return!(S&1)&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=Mt(l,u),i.subtreeFlags=l.subtreeFlags&14680064),n!==null?d=Mt(n,d):(d=Vt(d,S,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,S=e.child.memoizedState,S=S===null?io(r):{baseLanes:S.baseLanes|r,cachePool:null,transitions:S.transitions},d.memoizedState=S,d.childLanes=e.childLanes&~r,t.memoizedState=ro,i}return d=e.child,e=d.sibling,i=Mt(d,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Zo(e,t){return t=Hn({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bi(e,t,r,i){return i!==null&&Fo(i),wr(t,e.child,null,r),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jd(e,t,r,i,l,d,S){if(r)return t.flags&256?(t.flags&=-257,i=hs(Error(j(422))),Bi(e,t,S,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,l=t.mode,i=Hn({mode:"visible",children:i.children},l,0,null),d=Vt(d,l,S,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,t.mode&1&&wr(t,e.child,null,S),t.child.memoizedState=io(S),t.memoizedState=ro,d);if(!(t.mode&1))return Bi(e,t,S,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var n=i.dgst;return i=n,d=Error(j(419)),i=hs(d,i,void 0),Bi(e,t,S,i)}if(n=(S&e.childLanes)!==0,Oe||n){if(i=me,i!==null){switch(S&-S){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(i.suspendedLanes|S)?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,pt(e,l),tt(i,e,l,-1))}return nl(),i=hs(Error(j(421))),Bi(e,t,S,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=ff.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,Fe=xt(l.nextSibling),Ne=t,se=!0,Ze=null,e!==null&&(We[$e++]=ut,We[$e++]=ht,We[$e++]=Gt,ut=e.id,ht=e.overflow,Gt=t),t=Zo(t,i.children),t.flags|=4096,t)}function aa(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ys(e.return,t,r)}function ds(e,t,r,i,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=l)}function _u(e,t,r){var i=t.pendingProps,l=i.revealOrder,d=i.tail;if(xe(e,t,i.children,r),i=le.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&aa(e,r,t);else if(e.tag===19)aa(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(te(le,i),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&vn(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),ds(t,!1,l,r,d);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&vn(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}ds(t,!0,r,null,d);break;case"together":ds(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yt|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,r=Mt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ef(e,t,r){switch(t.tag){case 3:du(t),Cr();break;case 5:zc(t);break;case 1:Be(t.type)&&un(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;te(fn,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(te(le,le.current&1),t.flags|=128,null):r&t.child.childLanes?fu(e,t,r):(te(le,le.current&1),e=vt(e,t,r),e!==null?e.sibling:null);te(le,le.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return _u(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),te(le,le.current),i)break;return null;case 22:case 23:return t.lanes=0,uu(e,t,r)}return vt(e,t,r)}var pu,no,vu,gu;pu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};no=function(){};vu=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,Wt(lt.current);var d=null;switch(r){case"input":l=bs(e,l),i=bs(e,i),d=[];break;case"select":l=ce({},l,{value:void 0}),i=ce({},i,{value:void 0}),d=[];break;case"textarea":l=Ds(e,l),i=Ds(e,i),d=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=an)}As(r,i);var S;r=null;for(f in l)if(!i.hasOwnProperty(f)&&l.hasOwnProperty(f)&&l[f]!=null)if(f==="style"){var n=l[f];for(S in n)n.hasOwnProperty(S)&&(r||(r={}),r[S]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Zr.hasOwnProperty(f)?d||(d=[]):(d=d||[]).push(f,null));for(f in i){var u=i[f];if(n=l!=null?l[f]:void 0,i.hasOwnProperty(f)&&u!==n&&(u!=null||n!=null))if(f==="style")if(n){for(S in n)!n.hasOwnProperty(S)||u&&u.hasOwnProperty(S)||(r||(r={}),r[S]="");for(S in u)u.hasOwnProperty(S)&&n[S]!==u[S]&&(r||(r={}),r[S]=u[S])}else r||(d||(d=[]),d.push(f,r)),r=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,n=n?n.__html:void 0,u!=null&&n!==u&&(d=d||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(d=d||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&ie("scroll",e),d||n===u||(d=[])):(d=d||[]).push(f,u))}r&&(d=d||[]).push("style",r);var f=d;(t.updateQueue=f)&&(t.flags|=4)}};gu=function(e,t,r,i){r!==i&&(t.flags|=4)};function Br(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function tf(e,t,r){var i=t.pendingProps;switch(Ho(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Be(t.type)&&cn(),ke(t),null;case 3:return i=t.stateNode,Er(),ne(Pe),ne(be),Vo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(fo(Ze),Ze=null))),no(e,t),ke(t),null;case 5:Ko(t);var l=Wt(ui.current);if(r=t.type,e!==null&&t.stateNode!=null)vu(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(j(166));return ke(t),null}if(e=Wt(lt.current),Oi(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[st]=t,i[ai]=d,e=(t.mode&1)!==0,r){case"dialog":ie("cancel",i),ie("close",i);break;case"iframe":case"object":case"embed":ie("load",i);break;case"video":case"audio":for(l=0;l<Ur.length;l++)ie(Ur[l],i);break;case"source":ie("error",i);break;case"img":case"image":case"link":ie("error",i),ie("load",i);break;case"details":ie("toggle",i);break;case"input":gl(i,d),ie("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},ie("invalid",i);break;case"textarea":Sl(i,d),ie("invalid",i)}As(r,d),l=null;for(var S in d)if(d.hasOwnProperty(S)){var n=d[S];S==="children"?typeof n=="string"?i.textContent!==n&&(d.suppressHydrationWarning!==!0&&Mi(i.textContent,n,e),l=["children",n]):typeof n=="number"&&i.textContent!==""+n&&(d.suppressHydrationWarning!==!0&&Mi(i.textContent,n,e),l=["children",""+n]):Zr.hasOwnProperty(S)&&n!=null&&S==="onScroll"&&ie("scroll",i)}switch(r){case"input":ki(i),ml(i,d,!0);break;case"textarea":ki(i),yl(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=an)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{S=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$a(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=S.createElement(r,{is:i.is}):(e=S.createElement(r),r==="select"&&(S=e,i.multiple?S.multiple=!0:i.size&&(S.size=i.size))):e=S.createElementNS(e,r),e[st]=t,e[ai]=i,pu(e,t,!1,!1),t.stateNode=e;e:{switch(S=Ms(r,i),r){case"dialog":ie("cancel",e),ie("close",e),l=i;break;case"iframe":case"object":case"embed":ie("load",e),l=i;break;case"video":case"audio":for(l=0;l<Ur.length;l++)ie(Ur[l],e);l=i;break;case"source":ie("error",e),l=i;break;case"img":case"image":case"link":ie("error",e),ie("load",e),l=i;break;case"details":ie("toggle",e),l=i;break;case"input":gl(e,i),l=bs(e,i),ie("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=ce({},i,{value:void 0}),ie("invalid",e);break;case"textarea":Sl(e,i),l=Ds(e,i),ie("invalid",e);break;default:l=i}As(r,l),n=l;for(d in n)if(n.hasOwnProperty(d)){var u=n[d];d==="style"?qa(e,u):d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ka(e,u)):d==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Jr(e,u):typeof u=="number"&&Jr(e,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Zr.hasOwnProperty(d)?u!=null&&d==="onScroll"&&ie("scroll",e):u!=null&&wo(e,d,u,S))}switch(r){case"input":ki(e),ml(e,i,!1);break;case"textarea":ki(e),yl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Pt(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?fr(e,!!i.multiple,d,!1):i.defaultValue!=null&&fr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=an)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)gu(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(j(166));if(r=Wt(ui.current),Wt(lt.current),Oi(t)){if(i=t.stateNode,r=t.memoizedProps,i[st]=t,(d=i.nodeValue!==r)&&(e=Ne,e!==null))switch(e.tag){case 3:Mi(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mi(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[st]=t,t.stateNode=i}return ke(t),null;case 13:if(ne(le),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Fe!==null&&t.mode&1&&!(t.flags&128))Pc(),Cr(),t.flags|=98560,d=!1;else if(d=Oi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(j(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(j(317));d[st]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),d=!1}else Ze!==null&&(fo(Ze),Ze=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?_e===0&&(_e=3):nl())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return Er(),no(e,t),e===null&&oi(t.stateNode.containerInfo),ke(t),null;case 10:return zo(t.type._context),ke(t),null;case 17:return Be(t.type)&&cn(),ke(t),null;case 19:if(ne(le),d=t.memoizedState,d===null)return ke(t),null;if(i=(t.flags&128)!==0,S=d.rendering,S===null)if(i)Br(d,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(S=vn(e),S!==null){for(t.flags|=128,Br(d,!1),i=S.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,S=d.alternate,S===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=S.childLanes,d.lanes=S.lanes,d.child=S.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=S.memoizedProps,d.memoizedState=S.memoizedState,d.updateQueue=S.updateQueue,d.type=S.type,e=S.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return te(le,le.current&1|2),t.child}e=e.sibling}d.tail!==null&&he()>Lr&&(t.flags|=128,i=!0,Br(d,!1),t.lanes=4194304)}else{if(!i)if(e=vn(S),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Br(d,!0),d.tail===null&&d.tailMode==="hidden"&&!S.alternate&&!se)return ke(t),null}else 2*he()-d.renderingStartTime>Lr&&r!==1073741824&&(t.flags|=128,i=!0,Br(d,!1),t.lanes=4194304);d.isBackwards?(S.sibling=t.child,t.child=S):(r=d.last,r!==null?r.sibling=S:t.child=S,d.last=S)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=he(),t.sibling=null,r=le.current,te(le,i?r&1|2:r&1),t):(ke(t),null);case 22:case 23:return il(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?He&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function rf(e,t){switch(Ho(t),t.tag){case 1:return Be(t.type)&&cn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),ne(Pe),ne(be),Vo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ko(t),null;case 13:if(ne(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(le),null;case 4:return Er(),null;case 10:return zo(t.type._context),null;case 22:case 23:return il(),null;case 24:return null;default:return null}}var Ii=!1,Le=!1,nf=typeof WeakSet=="function"?WeakSet:Set,q=null;function hr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ue(e,t,i)}else r.current=null}function so(e,t,r){try{r()}catch(i){ue(e,t,i)}}var ca=!1;function sf(e,t){if(js=sn,e=Cc(),Bo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var S=0,n=-1,u=-1,f=0,y=0,p=e,g=null;t:for(;;){for(var E;p!==r||l!==0&&p.nodeType!==3||(n=S+l),p!==d||i!==0&&p.nodeType!==3||(u=S+i),p.nodeType===3&&(S+=p.nodeValue.length),(E=p.firstChild)!==null;)g=p,p=E;for(;;){if(p===e)break t;if(g===r&&++f===l&&(n=S),g===d&&++y===i&&(u=S),(E=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=E}r=n===-1||u===-1?null:{start:n,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ws={focusedElem:e,selectionRange:r},sn=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var m=C.memoizedProps,s=C.memoizedState,c=t.stateNode,a=c.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ye(t.type,m),s);c.__reactInternalSnapshotBeforeUpdate=a}break;case 3:var o=t.stateNode.containerInfo;o.nodeType===1?o.textContent="":o.nodeType===9&&o.documentElement&&o.removeChild(o.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(h){ue(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return C=ca,ca=!1,C}function Gr(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&so(t,r,d)}l=l.next}while(l!==i)}}function Bn(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function oo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mu(e){var t=e.alternate;t!==null&&(e.alternate=null,mu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[st],delete t[ai],delete t[Vs],delete t[Ud],delete t[zd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Su(e){return e.tag===5||e.tag===3||e.tag===4}function ua(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=an));else if(i!==4&&(e=e.child,e!==null))for(lo(e,t,r),e=e.sibling;e!==null;)lo(e,t,r),e=e.sibling}function ao(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ao(e,t,r),e=e.sibling;e!==null;)ao(e,t,r),e=e.sibling}var Se=null,Qe=!1;function mt(e,t,r){for(r=r.child;r!==null;)yu(e,t,r),r=r.sibling}function yu(e,t,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Rn,r)}catch{}switch(r.tag){case 5:Le||hr(r,t);case 6:var i=Se,l=Qe;Se=null,mt(e,t,r),Se=i,Qe=l,Se!==null&&(Qe?(e=Se,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Se.removeChild(r.stateNode));break;case 18:Se!==null&&(Qe?(e=Se,r=r.stateNode,e.nodeType===8?ss(e.parentNode,r):e.nodeType===1&&ss(e,r),ii(e)):ss(Se,r.stateNode));break;case 4:i=Se,l=Qe,Se=r.stateNode.containerInfo,Qe=!0,mt(e,t,r),Se=i,Qe=l;break;case 0:case 11:case 14:case 15:if(!Le&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var d=l,S=d.destroy;d=d.tag,S!==void 0&&(d&2||d&4)&&so(r,t,S),l=l.next}while(l!==i)}mt(e,t,r);break;case 1:if(!Le&&(hr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(n){ue(r,t,n)}mt(e,t,r);break;case 21:mt(e,t,r);break;case 22:r.mode&1?(Le=(i=Le)||r.memoizedState!==null,mt(e,t,r),Le=i):mt(e,t,r);break;default:mt(e,t,r)}}function ha(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nf),t.forEach(function(i){var l=_f.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function Xe(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var d=e,S=t,n=S;e:for(;n!==null;){switch(n.tag){case 5:Se=n.stateNode,Qe=!1;break e;case 3:Se=n.stateNode.containerInfo,Qe=!0;break e;case 4:Se=n.stateNode.containerInfo,Qe=!0;break e}n=n.return}if(Se===null)throw Error(j(160));yu(d,S,l),Se=null,Qe=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(f){ue(l,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cu(t,e),t=t.sibling}function Cu(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),it(e),i&4){try{Gr(3,e,e.return),Bn(3,e)}catch(m){ue(e,e.return,m)}try{Gr(5,e,e.return)}catch(m){ue(e,e.return,m)}}break;case 1:Xe(t,e),it(e),i&512&&r!==null&&hr(r,r.return);break;case 5:if(Xe(t,e),it(e),i&512&&r!==null&&hr(r,r.return),e.flags&32){var l=e.stateNode;try{Jr(l,"")}catch(m){ue(e,e.return,m)}}if(i&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,S=r!==null?r.memoizedProps:d,n=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{n==="input"&&d.type==="radio"&&d.name!=null&&ja(l,d),Ms(n,S);var f=Ms(n,d);for(S=0;S<u.length;S+=2){var y=u[S],p=u[S+1];y==="style"?qa(l,p):y==="dangerouslySetInnerHTML"?Ka(l,p):y==="children"?Jr(l,p):wo(l,y,p,f)}switch(n){case"input":Rs(l,d);break;case"textarea":Wa(l,d);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var E=d.value;E!=null?fr(l,!!d.multiple,E,!1):g!==!!d.multiple&&(d.defaultValue!=null?fr(l,!!d.multiple,d.defaultValue,!0):fr(l,!!d.multiple,d.multiple?[]:"",!1))}l[ai]=d}catch(m){ue(e,e.return,m)}}break;case 6:if(Xe(t,e),it(e),i&4){if(e.stateNode===null)throw Error(j(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(m){ue(e,e.return,m)}}break;case 3:if(Xe(t,e),it(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(m){ue(e,e.return,m)}break;case 4:Xe(t,e),it(e);break;case 13:Xe(t,e),it(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(tl=he())),i&4&&ha(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?(Le=(f=Le)||y,Xe(t,e),Le=f):Xe(t,e),it(e),i&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!y&&e.mode&1)for(q=e,y=e.child;y!==null;){for(p=q=y;q!==null;){switch(g=q,E=g.child,g.tag){case 0:case 11:case 14:case 15:Gr(4,g,g.return);break;case 1:hr(g,g.return);var C=g.stateNode;if(typeof C.componentWillUnmount=="function"){i=g,r=g.return;try{t=i,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(m){ue(i,r,m)}}break;case 5:hr(g,g.return);break;case 22:if(g.memoizedState!==null){fa(p);continue}}E!==null?(E.return=g,q=E):fa(p)}y=y.sibling}e:for(y=null,p=e;;){if(p.tag===5){if(y===null){y=p;try{l=p.stateNode,f?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(n=p.stateNode,u=p.memoizedProps.style,S=u!=null&&u.hasOwnProperty("display")?u.display:null,n.style.display=Va("display",S))}catch(m){ue(e,e.return,m)}}}else if(p.tag===6){if(y===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(m){ue(e,e.return,m)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xe(t,e),it(e),i&4&&ha(e);break;case 21:break;default:Xe(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Su(r)){var i=r;break e}r=r.return}throw Error(j(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(Jr(l,""),i.flags&=-33);var d=ua(e);ao(e,d,l);break;case 3:case 4:var S=i.stateNode.containerInfo,n=ua(e);lo(e,n,S);break;default:throw Error(j(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function of(e,t,r){q=e,wu(e)}function wu(e,t,r){for(var i=(e.mode&1)!==0;q!==null;){var l=q,d=l.child;if(l.tag===22&&i){var S=l.memoizedState!==null||Ii;if(!S){var n=l.alternate,u=n!==null&&n.memoizedState!==null||Le;n=Ii;var f=Le;if(Ii=S,(Le=u)&&!f)for(q=l;q!==null;)S=q,u=S.child,S.tag===22&&S.memoizedState!==null?_a(l):u!==null?(u.return=S,q=u):_a(l);for(;d!==null;)q=d,wu(d),d=d.sibling;q=l,Ii=n,Le=f}da(e)}else l.subtreeFlags&8772&&d!==null?(d.return=l,q=d):da(e)}}function da(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||Bn(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Le)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Ye(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Xl(t,d,i);break;case 3:var S=t.updateQueue;if(S!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xl(t,S,r)}break;case 5:var n=t.stateNode;if(r===null&&t.flags&4){r=n;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var y=f.memoizedState;if(y!==null){var p=y.dehydrated;p!==null&&ii(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Le||t.flags&512&&oo(t)}catch(g){ue(t,t.return,g)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function fa(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function _a(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bn(4,t)}catch(u){ue(t,r,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(u){ue(t,l,u)}}var d=t.return;try{oo(t)}catch(u){ue(t,d,u)}break;case 5:var S=t.return;try{oo(t)}catch(u){ue(t,S,u)}}}catch(u){ue(t,t.return,u)}if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}var lf=Math.ceil,Sn=gt.ReactCurrentDispatcher,Jo=gt.ReactCurrentOwner,Ve=gt.ReactCurrentBatchConfig,J=0,me=null,de=null,ye=0,He=0,dr=Ht(0),_e=0,_i=null,Yt=0,In=0,el=0,Xr=null,Me=null,tl=0,Lr=1/0,at=null,yn=!1,co=null,Tt=null,Hi=!1,kt=null,Cn=0,Yr=0,uo=null,Yi=-1,Qi=0;function De(){return J&6?he():Yi!==-1?Yi:Yi=he()}function At(e){return e.mode&1?J&2&&ye!==0?ye&-ye:Wd.transition!==null?(Qi===0&&(Qi=sc()),Qi):(e=ee,e!==0||(e=window.event,e=e===void 0?16:dc(e.type)),e):1}function tt(e,t,r,i){if(50<Yr)throw Yr=0,uo=null,Error(j(185));gi(e,r,i),(!(J&2)||e!==me)&&(e===me&&(!(J&2)&&(In|=r),_e===4&&wt(e,ye)),Ie(e,i),r===1&&J===0&&!(t.mode&1)&&(Lr=he()+500,Mn&&Ft()))}function Ie(e,t){var r=e.callbackNode;Wh(e,t);var i=nn(e,e===me?ye:0);if(i===0)r!==null&&El(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&El(r),t===1)e.tag===0?jd(pa.bind(null,e)):Ac(pa.bind(null,e)),Fd(function(){!(J&6)&&Ft()}),r=null;else{switch(oc(i)){case 1:r=Ro;break;case 4:r=ic;break;case 16:r=rn;break;case 536870912:r=nc;break;default:r=rn}r=Tu(r,Eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Eu(e,t){if(Yi=-1,Qi=0,J&6)throw Error(j(327));var r=e.callbackNode;if(mr()&&e.callbackNode!==r)return null;var i=nn(e,e===me?ye:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=wn(e,i);else{t=i;var l=J;J|=2;var d=Lu();(me!==e||ye!==t)&&(at=null,Lr=he()+500,Kt(e,t));do try{uf();break}catch(n){ku(e,n)}while(1);Uo(),Sn.current=d,J=l,de!==null?t=0:(me=null,ye=0,t=_e)}if(t!==0){if(t===2&&(l=Hs(e),l!==0&&(i=l,t=ho(e,l))),t===1)throw r=_i,Kt(e,0),wt(e,i),Ie(e,he()),r;if(t===6)wt(e,i);else{if(l=e.current.alternate,!(i&30)&&!af(l)&&(t=wn(e,i),t===2&&(d=Hs(e),d!==0&&(i=d,t=ho(e,d))),t===1))throw r=_i,Kt(e,0),wt(e,i),Ie(e,he()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(j(345));case 2:Ut(e,Me,at);break;case 3:if(wt(e,i),(i&130023424)===i&&(t=tl+500-he(),10<t)){if(nn(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){De(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ks(Ut.bind(null,e,Me,at),t);break}Ut(e,Me,at);break;case 4:if(wt(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var S=31-et(i);d=1<<S,S=t[S],S>l&&(l=S),i&=~d}if(i=l,i=he()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*lf(i/1960))-i,10<i){e.timeoutHandle=Ks(Ut.bind(null,e,Me,at),i);break}Ut(e,Me,at);break;case 5:Ut(e,Me,at);break;default:throw Error(j(329))}}}return Ie(e,he()),e.callbackNode===r?Eu.bind(null,e):null}function ho(e,t){var r=Xr;return e.current.memoizedState.isDehydrated&&(Kt(e,t).flags|=256),e=wn(e,t),e!==2&&(t=Me,Me=r,t!==null&&fo(t)),e}function fo(e){Me===null?Me=e:Me.push.apply(Me,e)}function af(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],d=l.getSnapshot;l=l.value;try{if(!rt(d(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wt(e,t){for(t&=~el,t&=~In,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-et(t),i=1<<r;e[r]=-1,t&=~i}}function pa(e){if(J&6)throw Error(j(327));mr();var t=nn(e,0);if(!(t&1))return Ie(e,he()),null;var r=wn(e,t);if(e.tag!==0&&r===2){var i=Hs(e);i!==0&&(t=i,r=ho(e,i))}if(r===1)throw r=_i,Kt(e,0),wt(e,t),Ie(e,he()),r;if(r===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ut(e,Me,at),Ie(e,he()),null}function rl(e,t){var r=J;J|=1;try{return e(t)}finally{J=r,J===0&&(Lr=he()+500,Mn&&Ft())}}function Qt(e){kt!==null&&kt.tag===0&&!(J&6)&&mr();var t=J;J|=1;var r=Ve.transition,i=ee;try{if(Ve.transition=null,ee=1,e)return e()}finally{ee=i,Ve.transition=r,J=t,!(J&6)&&Ft()}}function il(){He=dr.current,ne(dr)}function Kt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hd(r)),de!==null)for(r=de.return;r!==null;){var i=r;switch(Ho(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&cn();break;case 3:Er(),ne(Pe),ne(be),Vo();break;case 5:Ko(i);break;case 4:Er();break;case 13:ne(le);break;case 19:ne(le);break;case 10:zo(i.type._context);break;case 22:case 23:il()}r=r.return}if(me=e,de=e=Mt(e.current,null),ye=He=t,_e=0,_i=null,el=In=Yt=0,Me=Xr=null,jt!==null){for(t=0;t<jt.length;t++)if(r=jt[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,d=r.pending;if(d!==null){var S=d.next;d.next=l,i.next=S}r.pending=i}jt=null}return e}function ku(e,t){do{var r=de;try{if(Uo(),qi.current=mn,gn){for(var i=ae.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}gn=!1}if(Xt=0,ge=fe=ae=null,qr=!1,hi=0,Jo.current=null,r===null||r.return===null){_e=1,_i=t,de=null;break}e:{var d=e,S=r.return,n=r,u=t;if(t=ye,n.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,y=n,p=y.tag;if(!(y.mode&1)&&(p===0||p===11||p===15)){var g=y.alternate;g?(y.updateQueue=g.updateQueue,y.memoizedState=g.memoizedState,y.lanes=g.lanes):(y.updateQueue=null,y.memoizedState=null)}var E=ra(S);if(E!==null){E.flags&=-257,ia(E,S,n,d,t),E.mode&1&&ta(d,f,t),t=E,u=f;var C=t.updateQueue;if(C===null){var m=new Set;m.add(u),t.updateQueue=m}else C.add(u);break e}else{if(!(t&1)){ta(d,f,t),nl();break e}u=Error(j(426))}}else if(se&&n.mode&1){var s=ra(S);if(s!==null){!(s.flags&65536)&&(s.flags|=256),ia(s,S,n,d,t),Fo(kr(u,n));break e}}d=u=kr(u,n),_e!==4&&(_e=2),Xr===null?Xr=[d]:Xr.push(d),d=S;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var c=lu(d,u,t);Gl(d,c);break e;case 1:n=u;var a=d.type,o=d.stateNode;if(!(d.flags&128)&&(typeof a.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Tt===null||!Tt.has(o)))){d.flags|=65536,t&=-t,d.lanes|=t;var h=au(d,n,t);Gl(d,h);break e}}d=d.return}while(d!==null)}Ru(r)}catch(v){t=v,de===r&&r!==null&&(de=r=r.return);continue}break}while(1)}function Lu(){var e=Sn.current;return Sn.current=mn,e===null?mn:e}function nl(){(_e===0||_e===3||_e===2)&&(_e=4),me===null||!(Yt&268435455)&&!(In&268435455)||wt(me,ye)}function wn(e,t){var r=J;J|=2;var i=Lu();(me!==e||ye!==t)&&(at=null,Kt(e,t));do try{cf();break}catch(l){ku(e,l)}while(1);if(Uo(),J=r,Sn.current=i,de!==null)throw Error(j(261));return me=null,ye=0,_e}function cf(){for(;de!==null;)bu(de)}function uf(){for(;de!==null&&!Ph();)bu(de)}function bu(e){var t=Du(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?Ru(e):de=t,Jo.current=null}function Ru(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rf(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,de=null;return}}else if(r=tf(r,t,He),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);_e===0&&(_e=5)}function Ut(e,t,r){var i=ee,l=Ve.transition;try{Ve.transition=null,ee=1,hf(e,t,r,i)}finally{Ve.transition=l,ee=i}return null}function hf(e,t,r,i){do mr();while(kt!==null);if(J&6)throw Error(j(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if($h(e,d),e===me&&(de=me=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hi||(Hi=!0,Tu(rn,function(){return mr(),null})),d=(r.flags&15990)!==0,r.subtreeFlags&15990||d){d=Ve.transition,Ve.transition=null;var S=ee;ee=1;var n=J;J|=4,Jo.current=null,sf(e,r),Cu(r,e),Td(Ws),sn=!!js,Ws=js=null,e.current=r,of(r),Bh(),J=n,ee=S,Ve.transition=d}else e.current=r;if(Hi&&(Hi=!1,kt=e,Cn=l),d=e.pendingLanes,d===0&&(Tt=null),Fh(r.stateNode),Ie(e,he()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(yn)throw yn=!1,e=co,co=null,e;return Cn&1&&e.tag!==0&&mr(),d=e.pendingLanes,d&1?e===uo?Yr++:(Yr=0,uo=e):Yr=0,Ft(),null}function mr(){if(kt!==null){var e=oc(Cn),t=Ve.transition,r=ee;try{if(Ve.transition=null,ee=16>e?16:e,kt===null)var i=!1;else{if(e=kt,kt=null,Cn=0,J&6)throw Error(j(331));var l=J;for(J|=4,q=e.current;q!==null;){var d=q,S=d.child;if(q.flags&16){var n=d.deletions;if(n!==null){for(var u=0;u<n.length;u++){var f=n[u];for(q=f;q!==null;){var y=q;switch(y.tag){case 0:case 11:case 15:Gr(8,y,d)}var p=y.child;if(p!==null)p.return=y,q=p;else for(;q!==null;){y=q;var g=y.sibling,E=y.return;if(mu(y),y===f){q=null;break}if(g!==null){g.return=E,q=g;break}q=E}}}var C=d.alternate;if(C!==null){var m=C.child;if(m!==null){C.child=null;do{var s=m.sibling;m.sibling=null,m=s}while(m!==null)}}q=d}}if(d.subtreeFlags&2064&&S!==null)S.return=d,q=S;else e:for(;q!==null;){if(d=q,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Gr(9,d,d.return)}var c=d.sibling;if(c!==null){c.return=d.return,q=c;break e}q=d.return}}var a=e.current;for(q=a;q!==null;){S=q;var o=S.child;if(S.subtreeFlags&2064&&o!==null)o.return=S,q=o;else e:for(S=a;q!==null;){if(n=q,n.flags&2048)try{switch(n.tag){case 0:case 11:case 15:Bn(9,n)}}catch(v){ue(n,n.return,v)}if(n===S){q=null;break e}var h=n.sibling;if(h!==null){h.return=n.return,q=h;break e}q=n.return}}if(J=l,Ft(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Rn,e)}catch{}i=!0}return i}finally{ee=r,Ve.transition=t}}return!1}function va(e,t,r){t=kr(r,t),t=lu(e,t,1),e=Dt(e,t,1),t=De(),e!==null&&(gi(e,1,t),Ie(e,t))}function ue(e,t,r){if(e.tag===3)va(e,e,r);else for(;t!==null;){if(t.tag===3){va(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Tt===null||!Tt.has(i))){e=kr(r,e),e=au(t,e,1),t=Dt(t,e,1),e=De(),t!==null&&(gi(t,1,e),Ie(t,e));break}}t=t.return}}function df(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&r,me===e&&(ye&r)===r&&(_e===4||_e===3&&(ye&130023424)===ye&&500>he()-tl?Kt(e,0):el|=r),Ie(e,t)}function xu(e,t){t===0&&(e.mode&1?(t=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):t=1);var r=De();e=pt(e,t),e!==null&&(gi(e,t,r),Ie(e,r))}function ff(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xu(e,r)}function _f(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(j(314))}i!==null&&i.delete(t),xu(e,r)}var Du;Du=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Oe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Oe=!1,ef(e,t,r);Oe=!!(e.flags&131072)}else Oe=!1,se&&t.flags&1048576&&Mc(t,dn,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Xi(e,t),e=t.pendingProps;var l=yr(t,be.current);gr(t,r),l=Go(null,t,i,e,l,r);var d=Xo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(i)?(d=!0,un(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Wo(t),l.updater=On,t.stateNode=l,l._reactInternals=t,Zs(t,i,e,r),t=to(null,t,i,!0,d,r)):(t.tag=0,se&&d&&Io(t),xe(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Xi(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=vf(i),e=Ye(i,e),l){case 0:t=eo(null,t,i,e,r);break e;case 1:t=oa(null,t,i,e,r);break e;case 11:t=na(null,t,i,e,r);break e;case 14:t=sa(null,t,i,Ye(i.type,e),r);break e}throw Error(j(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ye(i,l),eo(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ye(i,l),oa(e,t,i,l,r);case 3:e:{if(du(t),e===null)throw Error(j(387));i=t.pendingProps,d=t.memoizedState,l=d.element,Ic(e,t),pn(t,i,null,r);var S=t.memoizedState;if(i=S.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=kr(Error(j(423)),t),t=la(e,t,i,r,l);break e}else if(i!==l){l=kr(Error(j(424)),t),t=la(e,t,i,r,l);break e}else for(Fe=xt(t.stateNode.containerInfo.firstChild),Ne=t,se=!0,Ze=null,r=Uc(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cr(),i===l){t=vt(e,t,r);break e}xe(e,t,i,r)}t=t.child}return t;case 5:return zc(t),e===null&&Xs(t),i=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,S=l.children,$s(i,l)?S=null:d!==null&&$s(i,d)&&(t.flags|=32),hu(e,t),xe(e,t,S,r),t.child;case 6:return e===null&&Xs(t),null;case 13:return fu(e,t,r);case 4:return $o(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=wr(t,null,i,r):xe(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ye(i,l),na(e,t,i,l,r);case 7:return xe(e,t,t.pendingProps,r),t.child;case 8:return xe(e,t,t.pendingProps.children,r),t.child;case 12:return xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,d=t.memoizedProps,S=l.value,te(fn,i._currentValue),i._currentValue=S,d!==null)if(rt(d.value,S)){if(d.children===l.children&&!Pe.current){t=vt(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var n=d.dependencies;if(n!==null){S=d.child;for(var u=n.firstContext;u!==null;){if(u.context===i){if(d.tag===1){u=dt(-1,r&-r),u.tag=2;var f=d.updateQueue;if(f!==null){f=f.shared;var y=f.pending;y===null?u.next=u:(u.next=y.next,y.next=u),f.pending=u}}d.lanes|=r,u=d.alternate,u!==null&&(u.lanes|=r),Ys(d.return,r,t),n.lanes|=r;break}u=u.next}}else if(d.tag===10)S=d.type===t.type?null:d.child;else if(d.tag===18){if(S=d.return,S===null)throw Error(j(341));S.lanes|=r,n=S.alternate,n!==null&&(n.lanes|=r),Ys(S,r,t),S=d.sibling}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===t){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}xe(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,gr(t,r),l=qe(l),i=i(l),t.flags|=1,xe(e,t,i,r),t.child;case 14:return i=t.type,l=Ye(i,t.pendingProps),l=Ye(i.type,l),sa(e,t,i,l,r);case 15:return cu(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ye(i,l),Xi(e,t),t.tag=1,Be(i)?(e=!0,un(t)):e=!1,gr(t,r),Fc(t,i,l),Zs(t,i,l,r),to(null,t,i,!0,e,r);case 19:return _u(e,t,r);case 22:return uu(e,t,r)}throw Error(j(156,t.tag))};function Tu(e,t){return rc(e,t)}function pf(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,r,i){return new pf(e,t,r,i)}function sl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vf(e){if(typeof e=="function")return sl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ko)return 11;if(e===Lo)return 14}return 2}function Mt(e,t){var r=e.alternate;return r===null?(r=Ke(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zi(e,t,r,i,l,d){var S=2;if(i=e,typeof e=="function")sl(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case rr:return Vt(r.children,l,d,t);case Eo:S=8,l|=8;break;case ws:return e=Ke(12,r,t,l|2),e.elementType=ws,e.lanes=d,e;case Es:return e=Ke(13,r,t,l),e.elementType=Es,e.lanes=d,e;case ks:return e=Ke(19,r,t,l),e.elementType=ks,e.lanes=d,e;case Na:return Hn(r,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ha:S=10;break e;case Fa:S=9;break e;case ko:S=11;break e;case Lo:S=14;break e;case St:S=16,i=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=Ke(S,r,t,l),t.elementType=e,t.type=i,t.lanes=d,t}function Vt(e,t,r,i){return e=Ke(7,e,i,t),e.lanes=r,e}function Hn(e,t,r,i){return e=Ke(22,e,i,t),e.elementType=Na,e.lanes=r,e.stateNode={isHidden:!1},e}function fs(e,t,r){return e=Ke(6,e,null,t),e.lanes=r,e}function _s(e,t,r){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gf(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gn(0),this.expirationTimes=Gn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ol(e,t,r,i,l,d,S,n,u){return e=new gf(e,t,r,n,u),t===1?(t=1,d===!0&&(t|=8)):t=0,d=Ke(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wo(d),e}function mf(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Au(e){if(!e)return Bt;e=e._reactInternals;e:{if(Jt(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var r=e.type;if(Be(r))return Tc(e,r,t)}return t}function Mu(e,t,r,i,l,d,S,n,u){return e=ol(r,i,!0,e,l,d,S,n,u),e.context=Au(null),r=e.current,i=De(),l=At(r),d=dt(i,l),d.callback=t??null,Dt(r,d,l),e.current.lanes=l,gi(e,l,i),Ie(e,i),e}function Fn(e,t,r,i){var l=t.current,d=De(),S=At(l);return r=Au(r),t.context===null?t.context=r:t.pendingContext=r,t=dt(d,S),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Dt(l,t,S),e!==null&&(tt(e,l,S,d),Vi(e,l,S)),S}function En(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ga(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ll(e,t){ga(e,t),(e=e.alternate)&&ga(e,t)}function Sf(){return null}var Ou=typeof reportError=="function"?reportError:function(e){console.error(e)};function al(e){this._internalRoot=e}Nn.prototype.render=al.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Fn(e,t,null,null)};Nn.prototype.unmount=al.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qt(function(){Fn(null,e,null,null)}),t[_t]=null}};function Nn(e){this._internalRoot=e}Nn.prototype.unstable_scheduleHydration=function(e){if(e){var t=cc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ct.length&&t!==0&&t<Ct[r].priority;r++);Ct.splice(r,0,e),r===0&&hc(e)}};function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Un(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ma(){}function yf(e,t,r,i,l){if(l){if(typeof i=="function"){var d=i;i=function(){var f=En(S);d.call(f)}}var S=Mu(t,i,e,0,null,!1,!1,"",ma);return e._reactRootContainer=S,e[_t]=S.current,oi(e.nodeType===8?e.parentNode:e),Qt(),S}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var n=i;i=function(){var f=En(u);n.call(f)}}var u=ol(e,0,!1,null,null,!1,!1,"",ma);return e._reactRootContainer=u,e[_t]=u.current,oi(e.nodeType===8?e.parentNode:e),Qt(function(){Fn(t,u,r,i)}),u}function zn(e,t,r,i,l){var d=r._reactRootContainer;if(d){var S=d;if(typeof l=="function"){var n=l;l=function(){var u=En(S);n.call(u)}}Fn(t,S,e,l)}else S=yf(r,t,e,l,i);return En(S)}lc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nr(t.pendingLanes);r!==0&&(xo(t,r|1),Ie(t,he()),!(J&6)&&(Lr=he()+500,Ft()))}break;case 13:Qt(function(){var i=pt(e,1);if(i!==null){var l=De();tt(i,e,1,l)}}),ll(e,1)}};Do=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var r=De();tt(t,e,134217728,r)}ll(e,134217728)}};ac=function(e){if(e.tag===13){var t=At(e),r=pt(e,t);if(r!==null){var i=De();tt(r,e,t,i)}ll(e,t)}};cc=function(){return ee};uc=function(e,t){var r=ee;try{return ee=e,t()}finally{ee=r}};Ps=function(e,t,r){switch(t){case"input":if(Rs(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=An(i);if(!l)throw Error(j(90));za(i),Rs(i,l)}}}break;case"textarea":Wa(e,r);break;case"select":t=r.value,t!=null&&fr(e,!!r.multiple,t,!1)}};Ya=rl;Qa=Qt;var Cf={usingClientEntryPoint:!1,Events:[Si,or,An,Ga,Xa,rl]},Ir={findFiberByHostInstance:zt,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wf={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ec(e),e===null?null:e.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||Sf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{Rn=Fi.inject(wf),ot=Fi}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cf;ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cl(t))throw Error(j(200));return mf(e,t,null,r)};ze.createRoot=function(e,t){if(!cl(e))throw Error(j(299));var r=!1,i="",l=Ou;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ol(e,1,!1,null,null,r,!1,i,l),e[_t]=t.current,oi(e.nodeType===8?e.parentNode:e),new al(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=ec(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return Qt(e)};ze.hydrate=function(e,t,r){if(!Un(t))throw Error(j(200));return zn(null,e,t,!0,r)};ze.hydrateRoot=function(e,t,r){if(!cl(e))throw Error(j(405));var i=r!=null&&r.hydratedSources||null,l=!1,d="",S=Ou;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(S=r.onRecoverableError)),t=Mu(t,null,e,1,r??null,l,!1,d,S),e[_t]=t.current,oi(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Nn(t)};ze.render=function(e,t,r){if(!Un(t))throw Error(j(200));return zn(null,e,t,!1,r)};ze.unmountComponentAtNode=function(e){if(!Un(e))throw Error(j(40));return e._reactRootContainer?(Qt(function(){zn(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};ze.unstable_batchedUpdates=rl;ze.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Un(r))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return zn(e,t,r,!1,i)};ze.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=ze})(mh);var Sa=Ss;ms.createRoot=Sa.createRoot,ms.hydrateRoot=Sa.hydrateRoot;function Ef(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,i)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ya(Object(r),!0).forEach(function(i){Ef(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ya(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function kf(e,t){if(e==null)return{};var r={},i=Object.keys(e),l,d;for(d=0;d<i.length;d++)l=i[d],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function Lf(e,t){if(e==null)return{};var r=kf(e,t),i,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(e);for(l=0;l<d.length;l++)i=d[l],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function bf(e,t){return Rf(e)||xf(e,t)||Df(e,t)||Tf()}function Rf(e){if(Array.isArray(e))return e}function xf(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],i=!0,l=!1,d=void 0;try{for(var S=e[Symbol.iterator](),n;!(i=(n=S.next()).done)&&(r.push(n.value),!(t&&r.length===t));i=!0);}catch(u){l=!0,d=u}finally{try{!i&&S.return!=null&&S.return()}finally{if(l)throw d}}return r}}function Df(e,t){if(e){if(typeof e=="string")return wa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wa(e,t)}}function wa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Tf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Af(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,i)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ea(Object(r),!0).forEach(function(i){Af(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Mf(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduceRight(function(l,d){return d(l)},i)}}function zr(e){return function t(){for(var r=this,i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return l.length>=e.length?e.apply(this,l):function(){for(var S=arguments.length,n=new Array(S),u=0;u<S;u++)n[u]=arguments[u];return t.apply(r,[].concat(l,n))}}}function kn(e){return{}.toString.call(e).includes("Object")}function Of(e){return!Object.keys(e).length}function pi(e){return typeof e=="function"}function Pf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bf(e,t){return kn(t)||Ot("changeType"),Object.keys(t).some(function(r){return!Pf(e,r)})&&Ot("changeField"),t}function If(e){pi(e)||Ot("selectorType")}function Hf(e){pi(e)||kn(e)||Ot("handlerType"),kn(e)&&Object.values(e).some(function(t){return!pi(t)})&&Ot("handlersType")}function Ff(e){e||Ot("initialIsRequired"),kn(e)||Ot("initialType"),Of(e)&&Ot("initialContent")}function Nf(e,t){throw new Error(e[t]||e.default)}var Uf={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ot=zr(Nf)(Uf),Ni={changes:Bf,selector:If,handler:Hf,initial:Ff};function zf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ni.initial(e),Ni.handler(t);var r={current:e},i=zr($f)(r,t),l=zr(Wf)(r),d=zr(Ni.changes)(e),S=zr(jf)(r);function n(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(y){return y};return Ni.selector(f),f(r.current)}function u(f){Mf(i,l,d,S)(f)}return[n,u]}function jf(e,t){return pi(t)?t(e.current):t}function Wf(e,t){return e.current=ka(ka({},e.current),t),t}function $f(e,t,r){return pi(t)?t(e.current):Object.keys(r).forEach(function(i){var l;return(l=t[i])===null||l===void 0?void 0:l.call(t,e.current[i])}),r}var Kf={create:zf},Vf={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}};function qf(e){return function t(){for(var r=this,i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return l.length>=e.length?e.apply(this,l):function(){for(var S=arguments.length,n=new Array(S),u=0;u<S;u++)n[u]=arguments[u];return t.apply(r,[].concat(l,n))}}}function Gf(e){return{}.toString.call(e).includes("Object")}function Xf(e){return e||La("configIsRequired"),Gf(e)||La("configType"),e.urls?(Yf(),{paths:{vs:e.urls.monacoBase}}):e}function Yf(){console.warn(Pu.deprecation)}function Qf(e,t){throw new Error(e[t]||e.default)}var Pu={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},La=qf(Qf)(Pu),Zf={config:Xf},Jf=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return function(l){return r.reduceRight(function(d,S){return S(d)},l)}};function Bu(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],Bu(e[r],t[r]))}),Ca(Ca({},e),t)}var e_={type:"cancelation",msg:"operation is manually canceled"};function ps(e){var t=!1,r=new Promise(function(i,l){e.then(function(d){return t?l(e_):i(d)}),e.catch(l)});return r.cancel=function(){return t=!0},r}var t_=Kf.create({config:Vf,isInitialized:!1,resolve:null,reject:null,monaco:null}),Iu=bf(t_,2),Ci=Iu[0],jn=Iu[1];function r_(e){var t=Zf.config(e),r=t.monaco,i=Lf(t,["monaco"]);jn(function(l){return{config:Bu(l.config,i),monaco:r}})}function i_(){var e=Ci(function(t){var r=t.monaco,i=t.isInitialized,l=t.resolve;return{monaco:r,isInitialized:i,resolve:l}});if(!e.isInitialized){if(jn({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ps(vs);if(window.monaco&&window.monaco.editor)return Hu(window.monaco),e.resolve(window.monaco),ps(vs);Jf(n_,o_)(l_)}return ps(vs)}function n_(e){return document.body.appendChild(e)}function s_(e){var t=document.createElement("script");return e&&(t.src=e),t}function o_(e){var t=Ci(function(i){var l=i.config,d=i.reject;return{config:l,reject:d}}),r=s_("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function l_(){var e=Ci(function(r){var i=r.config,l=r.resolve,d=r.reject;return{config:i,resolve:l,reject:d}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){Hu(r),e.resolve(r)},function(r){e.reject(r)})}function Hu(e){Ci().monaco||jn({monaco:e})}function a_(){return Ci(function(e){var t=e.monaco;return t})}var vs=new Promise(function(e,t){return jn({resolve:e,reject:t})}),Fu={config:r_,init:i_,__getMonacoInstance:a_},G={},c_={get exports(){return G},set exports(e){G=e}},u_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",h_=u_,d_=h_;function Nu(){}function Uu(){}Uu.resetWarningCache=Nu;var f_=function(){function e(i,l,d,S,n,u){if(u!==d_){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Uu,resetWarningCache:Nu};return r.PropTypes=r,r};c_.exports=f_();function _o(){return _o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_o.apply(this,arguments)}const __={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};function p_({content:e}){return $t.createElement("div",{style:__},e)}const gs={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function zu({width:e,height:t,isEditorReady:r,loading:i,_ref:l,className:d,wrapperProps:S}){return $t.createElement("section",_o({style:{...gs.wrapper,width:e,height:t}},S),!r&&$t.createElement(p_,{content:i}),$t.createElement("div",{ref:l,style:{...gs.fullWidth,...!r&&gs.hide},className:d}))}zu.propTypes={width:G.oneOfType([G.number,G.string]).isRequired,height:G.oneOfType([G.number,G.string]).isRequired,loading:G.oneOfType([G.element,G.string]).isRequired,isEditorReady:G.bool.isRequired,className:G.string,wrapperProps:G.object};var ju=Q.memo(zu);function Wu(e){Q.useEffect(e,[])}function Je(e,t,r=!0){const i=Q.useRef(!0);Q.useEffect(i.current||!r?()=>{i.current=!1}:e,t)}function Qr(){}function Ln(e,t,r,i){return v_(e,i)||g_(e,t,r,i)}function v_(e,t){return e.editor.getModel($u(e,t))}function g_(e,t,r,i){return e.editor.createModel(t,r,i&&$u(e,i))}function $u(e,t){return e.Uri.parse(t)}function m_(e){return e===void 0}function Ku({original:e,modified:t,language:r,originalLanguage:i,modifiedLanguage:l,originalModelPath:d,modifiedModelPath:S,keepCurrentOriginalModel:n,keepCurrentModifiedModel:u,theme:f,loading:y,options:p,height:g,width:E,className:C,wrapperProps:m,beforeMount:s,onMount:c}){const[a,o]=Q.useState(!1),[h,v]=Q.useState(!0),w=Q.useRef(null),L=Q.useRef(null),_=Q.useRef(null),k=Q.useRef(c),R=Q.useRef(s);Wu(()=>{const H=Fu.init();return H.then(U=>(L.current=U)&&v(!1)).catch(U=>(U==null?void 0:U.type)!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>w.current?B():H.cancel()}),Je(()=>{const H=w.current.getModifiedEditor();H.getOption(L.current.editor.EditorOption.readOnly)?H.setValue(t):t!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),H.pushUndoStop())},[t],a),Je(()=>{w.current.getModel().original.setValue(e)},[e],a),Je(()=>{const{original:H,modified:U}=w.current.getModel();L.current.editor.setModelLanguage(H,i||r),L.current.editor.setModelLanguage(U,l||r)},[r,i,l],a),Je(()=>{L.current.editor.setTheme(f)},[f],a),Je(()=>{w.current.updateOptions(p)},[p],a);const A=Q.useCallback(()=>{R.current(L.current);const H=Ln(L.current,e,i||r,d),U=Ln(L.current,t,l||r,S);w.current.setModel({original:H,modified:U})},[r,t,l,e,i,d,S]),M=Q.useCallback(()=>{w.current=L.current.editor.createDiffEditor(_.current,{automaticLayout:!0,...p}),A(),L.current.editor.setTheme(f),o(!0)},[p,f,A]);Q.useEffect(()=>{a&&k.current(w.current,L.current)},[a]),Q.useEffect(()=>{!h&&!a&&M()},[h,a,M]);function B(){const H=w.current.getModel();if(!n){var U;(U=H.original)===null||U===void 0||U.dispose()}if(!u){var $;($=H.modified)===null||$===void 0||$.dispose()}w.current.dispose()}return $t.createElement(ju,{width:E,height:g,isEditorReady:a,loading:y,_ref:_,className:C,wrapperProps:m})}Ku.propTypes={original:G.string,modified:G.string,language:G.string,originalLanguage:G.string,modifiedLanguage:G.string,originalModelPath:G.string,modifiedModelPath:G.string,keepCurrentOriginalModel:G.bool,keepCurrentModifiedModel:G.bool,theme:G.string,loading:G.oneOfType([G.element,G.string]),options:G.object,width:G.oneOfType([G.number,G.string]),height:G.oneOfType([G.number,G.string]),className:G.string,wrapperProps:G.object,beforeMount:G.func,onMount:G.func};Ku.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:Qr,onMount:Qr};function S_(e){const t=Q.useRef();return Q.useEffect(()=>{t.current=e},[e]),t.current}const Ui=new Map;function ul({defaultValue:e,defaultLanguage:t,defaultPath:r,value:i,language:l,path:d,theme:S,line:n,loading:u,options:f,overrideServices:y,saveViewState:p,keepCurrentModel:g,width:E,height:C,className:m,wrapperProps:s,beforeMount:c,onMount:a,onChange:o,onValidate:h}){const[v,w]=Q.useState(!1),[L,_]=Q.useState(!0),k=Q.useRef(null),R=Q.useRef(null),A=Q.useRef(null),M=Q.useRef(a),B=Q.useRef(c),H=Q.useRef(null),U=Q.useRef(i),$=S_(d),b=Q.useRef(!1);Wu(()=>{const D=Fu.init();return D.then(F=>(k.current=F)&&_(!1)).catch(F=>(F==null?void 0:F.type)!=="cancelation"&&console.error("Monaco initialization: error:",F)),()=>R.current?T():D.cancel()}),Je(()=>{const D=Ln(k.current,e||i,t||l,d);D!==R.current.getModel()&&(p&&Ui.set($,R.current.saveViewState()),R.current.setModel(D),p&&R.current.restoreViewState(Ui.get(d)))},[d],v),Je(()=>{R.current.updateOptions(f)},[f],v),Je(()=>{R.current.getOption(k.current.editor.EditorOption.readOnly)?R.current.setValue(i):i!==R.current.getValue()&&(R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),R.current.pushUndoStop())},[i],v),Je(()=>{k.current.editor.setModelLanguage(R.current.getModel(),l)},[l],v),Je(()=>{m_(n)||R.current.revealLine(n)},[n],v),Je(()=>{k.current.editor.setTheme(S)},[S],v);const x=Q.useCallback(()=>{if(!b.current){B.current(k.current);const D=d||r,F=Ln(k.current,i||e,t||l,D);R.current=k.current.editor.create(A.current,{model:F,automaticLayout:!0,...f},y),p&&R.current.restoreViewState(Ui.get(D)),k.current.editor.setTheme(S),w(!0),b.current=!0}},[e,t,r,i,l,d,f,y,p,S]);Q.useEffect(()=>{v&&M.current(R.current,k.current)},[v]),Q.useEffect(()=>{!L&&!v&&x()},[L,v,x]),U.current=i,Q.useEffect(()=>{if(v&&o){var D,F;(D=H.current)===null||D===void 0||D.dispose(),H.current=(F=R.current)===null||F===void 0?void 0:F.onDidChangeModelContent(z=>{o(R.current.getValue(),z)})}},[v,o]),Q.useEffect(()=>{if(v){const D=k.current.editor.onDidChangeMarkers(F=>{var z;const Y=(z=R.current.getModel())===null||z===void 0?void 0:z.uri;if(Y&&F.find(X=>X.path===Y.path)){const X=k.current.editor.getModelMarkers({resource:Y});h==null||h(X)}});return()=>{D==null||D.dispose()}}},[v,h]);function T(){var D;if((D=H.current)===null||D===void 0||D.dispose(),g)p&&Ui.set(d,R.current.saveViewState());else{var F;(F=R.current.getModel())===null||F===void 0||F.dispose()}R.current.dispose()}return $t.createElement(ju,{width:E,height:C,isEditorReady:v,loading:u,_ref:A,className:m,wrapperProps:s})}ul.propTypes={defaultValue:G.string,defaultPath:G.string,defaultLanguage:G.string,value:G.string,language:G.string,path:G.string,theme:G.string,line:G.number,loading:G.oneOfType([G.element,G.string]),options:G.object,overrideServices:G.object,saveViewState:G.bool,keepCurrentModel:G.bool,width:G.oneOfType([G.number,G.string]),height:G.oneOfType([G.number,G.string]),className:G.string,wrapperProps:G.object,beforeMount:G.func,onMount:G.func,onChange:G.func,onValidate:G.func};ul.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:Qr,onMount:Qr,onValidate:Qr};var y_=Q.memo(ul);function C_(e){const[t,r]=Q.useState();return Q.useEffect(()=>{let i;return window.Sk&&(i=new w_({outf:e.outf}),r(i)),()=>{}},[window.Sk,e.xterInst]),t}class w_{constructor(t){(Sk.TurtleGraphics||(Sk.TurtleGraphics={})).target="mycanvas",Sk.configure({output:t.outf,__future__:Sk.python3,yieldLimit:1e3,execLimit:3e4,retainGlobals:!0,inputfunTakesPrompt:!0})}}var po={},E_={get exports(){return po},set exports(e){po=e}};(function(e,t){(function(r,i){e.exports=i()})(self,function(){return(()=>{var r={4567:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;const f=u(9042),y=u(6114),p=u(9924),g=u(3656),E=u(844),C=u(5596),m=u(9631);class s extends E.Disposable{constructor(a,o){super(),this._terminal=a,this._renderService=o,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._accessibilityTreeRoot.tabIndex=0,this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let h=0;h<this._terminal.rows;h++)this._rowElements[h]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[h]);if(this._topBoundaryFocusListener=h=>this._handleBoundaryFocus(h,0),this._bottomBoundaryFocusListener=h=>this._handleBoundaryFocus(h,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new p.TimeBasedDebouncer(this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this.register(this._renderRowsDebouncer),this.register(this._terminal.onResize(h=>this._handleResize(h.rows))),this.register(this._terminal.onRender(h=>this._refreshRows(h.start,h.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(h=>this._handleChar(h))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(h=>this._handleTab(h))),this.register(this._terminal.onKey(h=>this._handleKey(h.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new C.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,g.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this.register((0,E.toDisposable)(()=>{(0,m.removeElementFromParent)(this._accessibilityTreeRoot),this._rowElements.length=0}))}_handleBoundaryFocus(a,o){const h=a.target,v=this._rowElements[o===0?1:this._rowElements.length-2];if(h.getAttribute("aria-posinset")===(o===0?"1":`${this._terminal.buffer.lines.length}`)||a.relatedTarget!==v)return;let w,L;if(o===0?(w=h,L=this._rowElements.pop(),this._rowContainer.removeChild(L)):(w=this._rowElements.shift(),L=h,this._rowContainer.removeChild(w)),w.removeEventListener("focus",this._topBoundaryFocusListener),L.removeEventListener("focus",this._bottomBoundaryFocusListener),o===0){const _=this._createAccessibilityTreeNode();this._rowElements.unshift(_),this._rowContainer.insertAdjacentElement("afterbegin",_)}else{const _=this._createAccessibilityTreeNode();this._rowElements.push(_),this._rowContainer.appendChild(_)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(o===0?-1:1),this._rowElements[o===0?1:this._rowElements.length-2].focus(),a.preventDefault(),a.stopImmediatePropagation()}_handleResize(a){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let o=this._rowContainer.children.length;o<this._terminal.rows;o++)this._rowElements[o]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[o]);for(;this._rowElements.length>a;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const a=document.createElement("div");return a.setAttribute("role","listitem"),a.tabIndex=-1,this._refreshRowDimensions(a),a}_handleTab(a){for(let o=0;o<a;o++)this._handleChar(" ")}_handleChar(a){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==a&&(this._charsToAnnounce+=a):this._charsToAnnounce+=a,a===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),y.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityTreeRoot.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,y.isMac&&(0,m.removeElementFromParent)(this._liveRegion)}_handleKey(a){this._clearLiveRegion(),/\p{Control}/u.test(a)||this._charsToConsume.push(a)}_refreshRows(a,o){this._renderRowsDebouncer.refresh(a,o,this._terminal.rows)}_renderRows(a,o){const h=this._terminal.buffer,v=h.lines.length.toString();for(let w=a;w<=o;w++){const L=h.translateBufferLineToString(h.ydisp+w,!0),_=(h.ydisp+w+1).toString(),k=this._rowElements[w];k&&(L.length===0?k.innerText=" ":k.textContent=L,k.setAttribute("aria-posinset",_),k.setAttribute("aria-setsize",v))}this._announceCharacters()}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityTreeRoot.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let a=0;a<this._terminal.rows;a++)this._refreshRowDimensions(this._rowElements[a])}}_refreshRowDimensions(a){a.style.height=`${this._renderService.dimensions.css.cell.height}px`}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}}n.AccessibilityManager=s},3614:(S,n)=>{function u(g){return g.replace(/\r?\n/g,"\r")}function f(g,E){return E?"\x1B[200~"+g+"\x1B[201~":g}function y(g,E,C){g=f(g=u(g),C.decPrivateModes.bracketedPasteMode),C.triggerDataEvent(g,!0),E.value=""}function p(g,E,C){const m=C.getBoundingClientRect(),s=g.clientX-m.left-10,c=g.clientY-m.top-10;E.style.width="20px",E.style.height="20px",E.style.left=`${s}px`,E.style.top=`${c}px`,E.style.zIndex="1000",E.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=u,n.bracketTextForPaste=f,n.copyHandler=function(g,E){g.clipboardData&&g.clipboardData.setData("text/plain",E.selectionText),g.preventDefault()},n.handlePasteEvent=function(g,E,C){g.stopPropagation(),g.clipboardData&&y(g.clipboardData.getData("text/plain"),E,C)},n.paste=y,n.moveTextAreaUnderMouseCursor=p,n.rightClickHandler=function(g,E,C,m,s){p(g,E,C),s&&m.rightClickSelect(g),E.value=m.selectionText,E.select()}},7239:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;const f=u(1505);n.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(y,p,g){this._css.set(y,p,g)}getCss(y,p){return this._css.get(y,p)}setColor(y,p,g){this._color.set(y,p,g)}getColor(y,p){return this._color.get(y,p)}clear(){this._color.clear(),this._css.clear()}}},9631:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.removeElementFromParent=void 0,n.removeElementFromParent=function(...u){var f;for(const y of u)(f=y==null?void 0:y.parentElement)===null||f===void 0||f.removeChild(y)}},3656:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(u,f,y,p){u.addEventListener(f,y,p);let g=!1;return{dispose:()=>{g||(g=!0,u.removeEventListener(f,y,p))}}}},6465:function(S,n,u){var f=this&&this.__decorate||function(s,c,a,o){var h,v=arguments.length,w=v<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(s,c,a,o);else for(var L=s.length-1;L>=0;L--)(h=s[L])&&(w=(v<3?h(w):v>3?h(c,a,w):h(c,a))||w);return v>3&&w&&Object.defineProperty(c,a,w),w},y=this&&this.__param||function(s,c){return function(a,o){c(a,o,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier2=void 0;const p=u(2585),g=u(8460),E=u(844),C=u(3656);let m=class extends E.Disposable{constructor(s){super(),this._bufferService=s,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,E.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,E.toDisposable)(()=>{this._lastMouseEvent=void 0}))}get currentLink(){return this._currentLink}registerLinkProvider(s){return this._linkProviders.push(s),{dispose:()=>{const c=this._linkProviders.indexOf(s);c!==-1&&this._linkProviders.splice(c,1)}}}attachToDom(s,c,a){this._element=s,this._mouseService=c,this._renderService=a,this.register((0,C.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,C.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,C.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,C.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(s){if(this._lastMouseEvent=s,!this._element||!this._mouseService)return;const c=this._positionFromMouseEvent(s,this._element,this._mouseService);if(!c)return;this._isMouseOut=!1;const a=s.composedPath();for(let o=0;o<a.length;o++){const h=a[o];if(h.classList.contains("xterm"))break;if(h.classList.contains("xterm-hover"))return}this._lastBufferCell&&c.x===this._lastBufferCell.x&&c.y===this._lastBufferCell.y||(this._handleHover(c),this._lastBufferCell=c)}_handleHover(s){if(this._activeLine!==s.y)return this._clearCurrentLink(),void this._askForLink(s,!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,s)||(this._clearCurrentLink(),this._askForLink(s,!0))}_askForLink(s,c){var a,o;this._activeProviderReplies&&c||((a=this._activeProviderReplies)===null||a===void 0||a.forEach(v=>{v==null||v.forEach(w=>{w.link.dispose&&w.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=s.y);let h=!1;for(const[v,w]of this._linkProviders.entries())c?!((o=this._activeProviderReplies)===null||o===void 0)&&o.get(v)&&(h=this._checkLinkProviderResult(v,s,h)):w.provideLinks(s.y,L=>{var _,k;if(this._isMouseOut)return;const R=L==null?void 0:L.map(A=>({link:A}));(_=this._activeProviderReplies)===null||_===void 0||_.set(v,R),h=this._checkLinkProviderResult(v,s,h),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(s.y,this._activeProviderReplies)})}_removeIntersectingLinks(s,c){const a=new Set;for(let o=0;o<c.size;o++){const h=c.get(o);if(h)for(let v=0;v<h.length;v++){const w=h[v],L=w.link.range.start.y<s?0:w.link.range.start.x,_=w.link.range.end.y>s?this._bufferService.cols:w.link.range.end.x;for(let k=L;k<=_;k++){if(a.has(k)){h.splice(v--,1);break}a.add(k)}}}}_checkLinkProviderResult(s,c,a){var o;if(!this._activeProviderReplies)return a;const h=this._activeProviderReplies.get(s);let v=!1;for(let w=0;w<s;w++)this._activeProviderReplies.has(w)&&!this._activeProviderReplies.get(w)||(v=!0);if(!v&&h){const w=h.find(L=>this._linkAtPosition(L.link,c));w&&(a=!0,this._handleNewLink(w))}if(this._activeProviderReplies.size===this._linkProviders.length&&!a)for(let w=0;w<this._activeProviderReplies.size;w++){const L=(o=this._activeProviderReplies.get(w))===null||o===void 0?void 0:o.find(_=>this._linkAtPosition(_.link,c));if(L){a=!0,this._handleNewLink(L);break}}return a}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(s){if(!this._element||!this._mouseService||!this._currentLink)return;const c=this._positionFromMouseEvent(s,this._element,this._mouseService);c&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,c)&&this._currentLink.link.activate(s,this._currentLink.link.text)}_clearCurrentLink(s,c){this._element&&this._currentLink&&this._lastMouseEvent&&(!s||!c||this._currentLink.link.range.start.y>=s&&this._currentLink.link.range.end.y<=c)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,E.disposeArray)(this._linkCacheDisposables))}_handleNewLink(s){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const c=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);c&&this._linkAtPosition(s.link,c)&&(this._currentLink=s,this._currentLink.state={decorations:{underline:s.link.decorations===void 0||s.link.decorations.underline,pointerCursor:s.link.decorations===void 0||s.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,s.link,this._lastMouseEvent),s.link.decorations={},Object.defineProperties(s.link.decorations,{pointerCursor:{get:()=>{var a,o;return(o=(a=this._currentLink)===null||a===void 0?void 0:a.state)===null||o===void 0?void 0:o.decorations.pointerCursor},set:a=>{var o,h;!((o=this._currentLink)===null||o===void 0)&&o.state&&this._currentLink.state.decorations.pointerCursor!==a&&(this._currentLink.state.decorations.pointerCursor=a,this._currentLink.state.isHovered&&((h=this._element)===null||h===void 0||h.classList.toggle("xterm-cursor-pointer",a)))}},underline:{get:()=>{var a,o;return(o=(a=this._currentLink)===null||a===void 0?void 0:a.state)===null||o===void 0?void 0:o.decorations.underline},set:a=>{var o,h,v;!((o=this._currentLink)===null||o===void 0)&&o.state&&((v=(h=this._currentLink)===null||h===void 0?void 0:h.state)===null||v===void 0?void 0:v.decorations.underline)!==a&&(this._currentLink.state.decorations.underline=a,this._currentLink.state.isHovered&&this._fireUnderlineEvent(s.link,a))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(a=>{const o=a.start===0?0:a.start+1+this._bufferService.buffer.ydisp,h=this._currentLink?this._lastMouseEvent:void 0;if(this._clearCurrentLink(o,a.end+1+this._bufferService.buffer.ydisp),h&&this._element){const v=this._positionFromMouseEvent(h,this._element,this._mouseService);v&&this._askForLink(v,!1)}})))}_linkHover(s,c,a){var o;!((o=this._currentLink)===null||o===void 0)&&o.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!0),this._currentLink.state.decorations.pointerCursor&&s.classList.add("xterm-cursor-pointer")),c.hover&&c.hover(a,c.text)}_fireUnderlineEvent(s,c){const a=s.range,o=this._bufferService.buffer.ydisp,h=this._createLinkUnderlineEvent(a.start.x-1,a.start.y-o-1,a.end.x,a.end.y-o-1,void 0);(c?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(h)}_linkLeave(s,c,a){var o;!((o=this._currentLink)===null||o===void 0)&&o.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(c,!1),this._currentLink.state.decorations.pointerCursor&&s.classList.remove("xterm-cursor-pointer")),c.leave&&c.leave(a,c.text)}_linkAtPosition(s,c){const a=s.range.start.y*this._bufferService.cols+s.range.start.x,o=s.range.end.y*this._bufferService.cols+s.range.end.x,h=c.y*this._bufferService.cols+c.x;return a<=h&&h<=o}_positionFromMouseEvent(s,c,a){const o=a.getCoords(s,c,this._bufferService.cols,this._bufferService.rows);if(o)return{x:o[0],y:o[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(s,c,a,o,h){return{x1:s,y1:c,x2:a,y2:o,cols:this._bufferService.cols,fg:h}}};m=f([y(0,p.IBufferService)],m),n.Linkifier2=m},9042:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(S,n,u){var f=this&&this.__decorate||function(m,s,c,a){var o,h=arguments.length,v=h<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(m,s,c,a);else for(var w=m.length-1;w>=0;w--)(o=m[w])&&(v=(h<3?o(v):h>3?o(s,c,v):o(s,c))||v);return h>3&&v&&Object.defineProperty(s,c,v),v},y=this&&this.__param||function(m,s){return function(c,a){s(c,a,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkProvider=void 0;const p=u(511),g=u(2585);let E=class{constructor(m,s,c){this._bufferService=m,this._optionsService=s,this._oscLinkService=c}provideLinks(m,s){var c;const a=this._bufferService.buffer.lines.get(m-1);if(!a)return void s(void 0);const o=[],h=this._optionsService.rawOptions.linkHandler,v=new p.CellData,w=a.getTrimmedLength();let L=-1,_=-1,k=!1;for(let R=0;R<w;R++)if(_!==-1||a.hasContent(R)){if(a.loadCell(R,v),v.hasExtendedAttrs()&&v.extended.urlId){if(_===-1){_=R,L=v.extended.urlId;continue}k=v.extended.urlId!==L}else _!==-1&&(k=!0);if(k||_!==-1&&R===w-1){const A=(c=this._oscLinkService.getLinkData(L))===null||c===void 0?void 0:c.uri;if(A){const M={start:{x:_+1,y:m},end:{x:R+(k||R!==w-1?0:1),y:m}};let B=!1;if(!(h!=null&&h.allowNonHttpProtocols))try{const H=new URL(A);["http:","https:"].includes(H.protocol)||(B=!0)}catch{B=!0}B||o.push({text:A,range:M,activate:(H,U)=>h?h.activate(H,U,M):C(0,U),hover:(H,U)=>{var $;return($=h==null?void 0:h.hover)===null||$===void 0?void 0:$.call(h,H,U,M)},leave:(H,U)=>{var $;return($=h==null?void 0:h.leave)===null||$===void 0?void 0:$.call(h,H,U,M)}})}k=!1,v.hasExtendedAttrs()&&v.extended.urlId?(_=R,L=v.extended.urlId):(_=-1,L=-1)}}s(o)}};function C(m,s){if(confirm(`Do you want to navigate to ${s}?

WARNING: This link could potentially be dangerous`)){const c=window.open();if(c){try{c.opener=null}catch{}c.location.href=s}else console.warn("Opening link blocked as opener could not be cleared")}}E=f([y(0,g.IBufferService),y(1,g.IOptionsService),y(2,g.IOscLinkService)],E),n.OscLinkProvider=E},6193:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0,n.RenderDebouncer=class{constructor(u,f){this._parentWindow=u,this._renderCallback=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(u,f,y){this._rowCount=y,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},5596:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ScreenDprMonitor=void 0;const f=u(844);class y extends f.Disposable{constructor(g){super(),this._parentWindow=g,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,f.toDisposable)(()=>{this.clearListener()}))}setListener(g){this._listener&&this.clearListener(),this._listener=g,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var g;this._outerListener&&((g=this._resolutionMediaMatchList)===null||g===void 0||g.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}n.ScreenDprMonitor=y},3236:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const f=u(2950),y=u(1680),p=u(3614),g=u(2584),E=u(5435),C=u(9312),m=u(6114),s=u(3656),c=u(9042),a=u(4567),o=u(1296),h=u(7399),v=u(8460),w=u(8437),L=u(3230),_=u(4725),k=u(428),R=u(8934),A=u(6465),M=u(5114),B=u(8969),H=u(8055),U=u(4269),$=u(5941),b=u(3107),x=u(5744),T=u(9074),D=u(2585),F=u(3730),z=u(844),Y=u(6731),W=typeof window<"u"?window.document:null;class X extends B.CoreTerminal{constructor(O={}){super(O),this.browser=m,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new v.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new v.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new v.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new v.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new v.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new v.EventEmitter),this._onBlur=this.register(new v.EventEmitter),this._onA11yCharEmitter=this.register(new v.EventEmitter),this._onA11yTabEmitter=this.register(new v.EventEmitter),this._onWillOpen=this.register(new v.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(A.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(F.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(D.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((I,N)=>this.refresh(I,N))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(I=>this._reportWindowsOptions(I))),this.register(this._inputHandler.onColor(I=>this._handleColorEvent(I))),this.register((0,v.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,v.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,v.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,v.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(I=>this._afterResize(I.cols,I.rows))),this.register((0,z.toDisposable)(()=>{var I,N;this._customKeyEventHandler=void 0,(N=(I=this.element)===null||I===void 0?void 0:I.parentNode)===null||N===void 0||N.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(O){if(this._themeService)for(const I of O){let N,K="";switch(I.index){case 256:N="foreground",K="10";break;case 257:N="background",K="11";break;case 258:N="cursor",K="12";break;default:N="ansi",K="4;"+I.index}switch(I.type){case 0:const oe=H.color.toColorRGB(N==="ansi"?this._themeService.colors.ansi[I.index]:this._themeService.colors[N]);this.coreService.triggerDataEvent(`${g.C0.ESC}]${K};${(0,$.toRgbString)(oe)}${g.C1_ESCAPED.ST}`);break;case 1:if(N==="ansi")this._themeService.modifyColors(V=>V.ansi[I.index]=H.rgba.toColor(...I.color));else{const V=N;this._themeService.modifyColors(pe=>pe[V]=H.rgba.toColor(...I.color))}break;case 2:this._themeService.restoreColor(I.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(O){var I;O?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=new a.AccessibilityManager(this,this._renderService)):((I=this._accessibilityManager)===null||I===void 0||I.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(O){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(g.C0.ESC+"[I"),this.updateCursorStyle(O),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var O;return(O=this.textarea)===null||O===void 0?void 0:O.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(g.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const O=this.buffer.ybase+this.buffer.y,I=this.buffer.lines.get(O);if(!I)return;const N=Math.min(this.buffer.x,this.cols-1),K=this._renderService.dimensions.css.cell.height,oe=I.getWidth(N),V=this._renderService.dimensions.css.cell.width*oe,pe=this.buffer.y*this._renderService.dimensions.css.cell.height,we=N*this._renderService.dimensions.css.cell.width;this.textarea.style.left=we+"px",this.textarea.style.top=pe+"px",this.textarea.style.width=V+"px",this.textarea.style.height=K+"px",this.textarea.style.lineHeight=K+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,s.addDisposableDomListener)(this.element,"copy",I=>{this.hasSelection()&&(0,p.copyHandler)(I,this._selectionService)}));const O=I=>(0,p.handlePasteEvent)(I,this.textarea,this.coreService);this.register((0,s.addDisposableDomListener)(this.textarea,"paste",O)),this.register((0,s.addDisposableDomListener)(this.element,"paste",O)),m.isFirefox?this.register((0,s.addDisposableDomListener)(this.element,"mousedown",I=>{I.button===2&&(0,p.rightClickHandler)(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,s.addDisposableDomListener)(this.element,"contextmenu",I=>{(0,p.rightClickHandler)(I,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),m.isLinux&&this.register((0,s.addDisposableDomListener)(this.element,"auxclick",I=>{I.button===1&&(0,p.moveTextAreaUnderMouseCursor)(I,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,s.addDisposableDomListener)(this.textarea,"keyup",O=>this._keyUp(O),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keydown",O=>this._keyDown(O),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keypress",O=>this._keyPress(O),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionupdate",O=>this._compositionHelper.compositionupdate(O))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,s.addDisposableDomListener)(this.textarea,"input",O=>this._inputEvent(O),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(O){var I;if(!O)throw new Error("Terminal requires a parent element.");O.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=O.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),O.appendChild(this.element);const N=W.createDocumentFragment();this._viewportElement=W.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),N.appendChild(this._viewportElement),this._viewportScrollArea=W.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=W.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=W.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),N.appendChild(this.screenElement),this.textarea=W.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",c.promptLabel),m.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(M.CoreBrowserService,this.textarea,(I=this._document.defaultView)!==null&&I!==void 0?I:window),this._instantiationService.setService(_.ICoreBrowserService,this._coreBrowserService),this.register((0,s.addDisposableDomListener)(this.textarea,"focus",K=>this._handleTextAreaFocus(K))),this.register((0,s.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(k.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(_.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(Y.ThemeService),this._instantiationService.setService(_.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(U.CharacterJoinerService),this._instantiationService.setService(_.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(_.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(K=>this._onRender.fire(K))),this.onResize(K=>this._renderService.resize(K.cols,K.rows)),this._compositionView=W.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(N);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(R.MouseService),this._instantiationService.setService(_.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(y.Viewport,K=>this.scrollLines(K,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(_.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(K=>this.scrollLines(K.amount,K.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(K=>this._renderService.handleSelectionChanged(K.start,K.end,K.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(K=>{this.textarea.value=K,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(K=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(b.BufferDecorationRenderer,this.screenElement)),this.register((0,s.addDisposableDomListener)(this.element,"mousedown",K=>this._selectionService.handleMouseDown(K))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new a.AccessibilityManager(this,this._renderService)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",K=>this._handleScreenReaderModeOptionChange(K))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(x.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",K=>{!this._overviewRulerRenderer&&K&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(x.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(o.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const O=this,I=this.element;function N(V){const pe=O._mouseService.getMouseReportCoords(V,O.screenElement);if(!pe)return!1;let we,ve;switch(V.overrideType||V.type){case"mousemove":ve=32,V.buttons===void 0?(we=3,V.button!==void 0&&(we=V.button<3?V.button:3)):we=1&V.buttons?0:4&V.buttons?1:2&V.buttons?2:3;break;case"mouseup":ve=0,we=V.button<3?V.button:3;break;case"mousedown":ve=1,we=V.button<3?V.button:3;break;case"wheel":if(O.viewport.getLinesScrolled(V)===0)return!1;ve=V.deltaY<0?0:1,we=4;break;default:return!1}return!(ve===void 0||we===void 0||we>4)&&O.coreMouseService.triggerMouseEvent({col:pe.col,row:pe.row,x:pe.x,y:pe.y,button:we,action:ve,ctrl:V.ctrlKey,alt:V.altKey,shift:V.shiftKey})}const K={mouseup:null,wheel:null,mousedrag:null,mousemove:null},oe={mouseup:V=>(N(V),V.buttons||(this._document.removeEventListener("mouseup",K.mouseup),K.mousedrag&&this._document.removeEventListener("mousemove",K.mousedrag)),this.cancel(V)),wheel:V=>(N(V),this.cancel(V,!0)),mousedrag:V=>{V.buttons&&N(V)},mousemove:V=>{V.buttons||N(V)}};this.register(this.coreMouseService.onProtocolChange(V=>{V?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(V)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&V?K.mousemove||(I.addEventListener("mousemove",oe.mousemove),K.mousemove=oe.mousemove):(I.removeEventListener("mousemove",K.mousemove),K.mousemove=null),16&V?K.wheel||(I.addEventListener("wheel",oe.wheel,{passive:!1}),K.wheel=oe.wheel):(I.removeEventListener("wheel",K.wheel),K.wheel=null),2&V?K.mouseup||(K.mouseup=oe.mouseup):(this._document.removeEventListener("mouseup",K.mouseup),K.mouseup=null),4&V?K.mousedrag||(K.mousedrag=oe.mousedrag):(this._document.removeEventListener("mousemove",K.mousedrag),K.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,s.addDisposableDomListener)(I,"mousedown",V=>{if(V.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(V))return N(V),K.mouseup&&this._document.addEventListener("mouseup",K.mouseup),K.mousedrag&&this._document.addEventListener("mousemove",K.mousedrag),this.cancel(V)})),this.register((0,s.addDisposableDomListener)(I,"wheel",V=>{if(!K.wheel){if(!this.buffer.hasScrollback){const pe=this.viewport.getLinesScrolled(V);if(pe===0)return;const we=g.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(V.deltaY<0?"A":"B");let ve="";for(let re=0;re<Math.abs(pe);re++)ve+=we;return this.coreService.triggerDataEvent(ve,!0),this.cancel(V,!0)}return this.viewport.handleWheel(V)?this.cancel(V):void 0}},{passive:!1})),this.register((0,s.addDisposableDomListener)(I,"touchstart",V=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(V),this.cancel(V)},{passive:!0})),this.register((0,s.addDisposableDomListener)(I,"touchmove",V=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(V)?void 0:this.cancel(V)},{passive:!1}))}refresh(O,I){var N;(N=this._renderService)===null||N===void 0||N.refreshRows(O,I)}updateCursorStyle(O){var I;!((I=this._selectionService)===null||I===void 0)&&I.shouldColumnSelect(O)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(O,I,N=0){super.scrollLines(O,I,N),this.refresh(0,this.rows-1)}paste(O){(0,p.paste)(O,this.textarea,this.coreService)}attachCustomKeyEventHandler(O){this._customKeyEventHandler=O}registerLinkProvider(O){return this.linkifier2.registerLinkProvider(O)}registerCharacterJoiner(O){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const I=this._characterJoinerService.register(O);return this.refresh(0,this.rows-1),I}deregisterCharacterJoiner(O){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(O)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(O){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+O)}registerDecoration(O){return this._decorationService.registerDecoration(O)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(O,I,N){this._selectionService.setSelection(O,I,N)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var O;(O=this._selectionService)===null||O===void 0||O.clearSelection()}selectAll(){var O;(O=this._selectionService)===null||O===void 0||O.selectAll()}selectLines(O,I){var N;(N=this._selectionService)===null||N===void 0||N.selectLines(O,I)}_keyDown(O){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(O)===!1)return!1;const I=this.browser.isMac&&this.options.macOptionIsMeta&&O.altKey;if(!I&&!this._compositionHelper.keydown(O))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;I||O.key!=="Dead"&&O.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const N=(0,h.evaluateKeyboardEvent)(O,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(O),N.type===3||N.type===2){const K=this.rows-1;return this.scrollLines(N.type===2?-K:K),this.cancel(O,!0)}return N.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,O)||(N.cancel&&this.cancel(O,!0),!N.key||!!(O.key&&!O.ctrlKey&&!O.altKey&&!O.metaKey&&O.key.length===1&&O.key.charCodeAt(0)>=65&&O.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(N.key!==g.C0.ETX&&N.key!==g.C0.CR||(this.textarea.value=""),this._onKey.fire({key:N.key,domEvent:O}),this._showCursor(),this.coreService.triggerDataEvent(N.key,!0),!this.optionsService.rawOptions.screenReaderMode||O.altKey||O.ctrlKey?this.cancel(O,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(O,I){const N=O.isMac&&!this.options.macOptionIsMeta&&I.altKey&&!I.ctrlKey&&!I.metaKey||O.isWindows&&I.altKey&&I.ctrlKey&&!I.metaKey||O.isWindows&&I.getModifierState("AltGraph");return I.type==="keypress"?N:N&&(!I.keyCode||I.keyCode>47)}_keyUp(O){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(O)===!1||(function(I){return I.keyCode===16||I.keyCode===17||I.keyCode===18}(O)||this.focus(),this.updateCursorStyle(O),this._keyPressHandled=!1)}_keyPress(O){let I;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(O)===!1)return!1;if(this.cancel(O),O.charCode)I=O.charCode;else if(O.which===null||O.which===void 0)I=O.keyCode;else{if(O.which===0||O.charCode===0)return!1;I=O.which}return!(!I||(O.altKey||O.ctrlKey||O.metaKey)&&!this._isThirdLevelShift(this.browser,O)||(I=String.fromCharCode(I),this._onKey.fire({key:I,domEvent:O}),this._showCursor(),this.coreService.triggerDataEvent(I,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(O){if(O.data&&O.inputType==="insertText"&&(!O.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const I=O.data;return this.coreService.triggerDataEvent(I,!0),this.cancel(O),!0}return!1}resize(O,I){O!==this.cols||I!==this.rows?super.resize(O,I):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(O,I){var N,K;(N=this._charSizeService)===null||N===void 0||N.measure(),(K=this.viewport)===null||K===void 0||K.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let O=1;O<this.rows;O++)this.buffer.lines.push(this.buffer.getBlankLine(w.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var O,I;this.options.rows=this.rows,this.options.cols=this.cols;const N=this._customKeyEventHandler;this._setup(),super.reset(),(O=this._selectionService)===null||O===void 0||O.reset(),this._decorationService.reset(),this._customKeyEventHandler=N,this.refresh(0,this.rows-1),(I=this.viewport)===null||I===void 0||I.syncScrollArea()}clearTextureAtlas(){var O;(O=this._renderService)===null||O===void 0||O.clearTextureAtlas()}_reportFocus(){var O;!((O=this.element)===null||O===void 0)&&O.classList.contains("focus")?this.coreService.triggerDataEvent(g.C0.ESC+"[I"):this.coreService.triggerDataEvent(g.C0.ESC+"[O")}_reportWindowsOptions(O){if(this._renderService)switch(O){case E.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const I=this._renderService.dimensions.css.canvas.width.toFixed(0),N=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${g.C0.ESC}[4;${N};${I}t`);break;case E.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const K=this._renderService.dimensions.css.cell.width.toFixed(0),oe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${g.C0.ESC}[6;${oe};${K}t`)}}cancel(O,I){if(this.options.cancelEvents||I)return O.preventDefault(),O.stopPropagation(),!1}}n.Terminal=X},9924:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0,n.TimeBasedDebouncer=class{constructor(u,f=1e3){this._renderCallback=u,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,f,y){this._rowCount=y,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const p=Date.now();if(p-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=p,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=p-this._lastRefreshMs,E=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},E)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f)}}},1680:function(S,n,u){var f=this&&this.__decorate||function(s,c,a,o){var h,v=arguments.length,w=v<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(s,c,a,o);else for(var L=s.length-1;L>=0;L--)(h=s[L])&&(w=(v<3?h(w):v>3?h(c,a,w):h(c,a))||w);return v>3&&w&&Object.defineProperty(c,a,w),w},y=this&&this.__param||function(s,c){return function(a,o){c(a,o,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;const p=u(844),g=u(3656),E=u(4725),C=u(2585);let m=class extends p.Disposable{constructor(s,c,a,o,h,v,w,L,_){super(),this._scrollLines=s,this._viewportElement=c,this._scrollArea=a,this._bufferService=o,this._optionsService=h,this._charSizeService=v,this._renderService=w,this._coreBrowserService=L,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,g.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(_.colors),this.register(_.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(s){this._viewportElement.style.backgroundColor=s.background.css}_refresh(s){if(s)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const s=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==s&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=s),this._refreshAnimationFrame=null}syncScrollArea(s=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(s);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(s)}_handleScroll(s){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(c)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const s=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(s*(this._smoothScrollState.target-this._smoothScrollState.origin)),s<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(s,c){const a=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(c<0&&this._viewportElement.scrollTop!==0||c>0&&a<this._lastRecordedBufferHeight)||(s.cancelable&&s.preventDefault(),!1)}handleWheel(s){const c=this._getPixelsScrolled(s);return c!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+c:this._smoothScrollState.target+=c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=c,this._bubbleScroll(s,c))}_getPixelsScrolled(s){if(s.deltaY===0||s.shiftKey)return 0;let c=this._applyScrollModifier(s.deltaY,s);return s.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:s.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c}getLinesScrolled(s){if(s.deltaY===0||s.shiftKey)return 0;let c=this._applyScrollModifier(s.deltaY,s);return s.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(c/=this._currentRowHeight+0,this._wheelPartialScroll+=c,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):s.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c}_applyScrollModifier(s,c){const a=this._optionsService.rawOptions.fastScrollModifier;return a==="alt"&&c.altKey||a==="ctrl"&&c.ctrlKey||a==="shift"&&c.shiftKey?s*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:s*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(s){this._lastTouchY=s.touches[0].pageY}handleTouchMove(s){const c=this._lastTouchY-s.touches[0].pageY;return this._lastTouchY=s.touches[0].pageY,c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(s,c))}};m=f([y(3,C.IBufferService),y(4,C.IOptionsService),y(5,E.ICharSizeService),y(6,E.IRenderService),y(7,E.ICoreBrowserService),y(8,E.IThemeService)],m),n.Viewport=m},3107:function(S,n,u){var f=this&&this.__decorate||function(s,c,a,o){var h,v=arguments.length,w=v<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(s,c,a,o);else for(var L=s.length-1;L>=0;L--)(h=s[L])&&(w=(v<3?h(w):v>3?h(c,a,w):h(c,a))||w);return v>3&&w&&Object.defineProperty(c,a,w),w},y=this&&this.__param||function(s,c){return function(a,o){c(a,o,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;const p=u(3656),g=u(4725),E=u(844),C=u(2585);let m=class extends E.Disposable{constructor(s,c,a,o){super(),this._screenElement=s,this._bufferService=c,this._decorationService=a,this._renderService=o,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(h=>this._removeDecoration(h))),this.register((0,E.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const s of this._decorationService.decorations)this._renderDecoration(s);this._dimensionsChanged=!1}_renderDecoration(s){this._refreshStyle(s),this._dimensionsChanged&&this._refreshXPosition(s)}_createElement(s){var c;const a=document.createElement("div");a.classList.add("xterm-decoration"),a.style.width=`${Math.round((s.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,a.style.height=(s.options.height||1)*this._renderService.dimensions.css.cell.height+"px",a.style.top=(s.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",a.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const o=(c=s.options.x)!==null&&c!==void 0?c:0;return o&&o>this._bufferService.cols&&(a.style.display="none"),this._refreshXPosition(s,a),a}_refreshStyle(s){const c=s.marker.line-this._bufferService.buffers.active.ydisp;if(c<0||c>=this._bufferService.rows)s.element&&(s.element.style.display="none",s.onRenderEmitter.fire(s.element));else{let a=this._decorationElements.get(s);a||(a=this._createElement(s),s.element=a,this._decorationElements.set(s,a),this._container.appendChild(a)),a.style.top=c*this._renderService.dimensions.css.cell.height+"px",a.style.display=this._altBufferIsActive?"none":"block",s.onRenderEmitter.fire(a)}}_refreshXPosition(s,c=s.element){var a;if(!c)return;const o=(a=s.options.x)!==null&&a!==void 0?a:0;(s.options.anchor||"left")==="right"?c.style.right=o?o*this._renderService.dimensions.css.cell.width+"px":"":c.style.left=o?o*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(s){var c;(c=this._decorationElements.get(s))===null||c===void 0||c.remove(),this._decorationElements.delete(s),s.dispose()}};m=f([y(1,C.IBufferService),y(2,C.IDecorationService),y(3,g.IRenderService)],m),n.BufferDecorationRenderer=m},5871:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0,n.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(const f of this._zones)if(f.color===u.options.overviewRulerOptions.color&&f.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,u.marker.line))return;if(this._lineAdjacentToZone(f,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(f,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,f){return f>=u.startBufferLine&&f<=u.endBufferLine}_lineAdjacentToZone(u,f,y){return f>=u.startBufferLine-this._linePadding[y||"full"]&&f<=u.endBufferLine+this._linePadding[y||"full"]}_addLineToZone(u,f){u.startBufferLine=Math.min(u.startBufferLine,f),u.endBufferLine=Math.max(u.endBufferLine,f)}}},5744:function(S,n,u){var f=this&&this.__decorate||function(h,v,w,L){var _,k=arguments.length,R=k<3?v:L===null?L=Object.getOwnPropertyDescriptor(v,w):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(h,v,w,L);else for(var A=h.length-1;A>=0;A--)(_=h[A])&&(R=(k<3?_(R):k>3?_(v,w,R):_(v,w))||R);return k>3&&R&&Object.defineProperty(v,w,R),R},y=this&&this.__param||function(h,v){return function(w,L){v(w,L,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;const p=u(5871),g=u(3656),E=u(4725),C=u(844),m=u(2585),s={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0},a={full:0,left:0,center:0,right:0};let o=class extends C.Disposable{constructor(h,v,w,L,_,k,R){var A;super(),this._viewportElement=h,this._screenElement=v,this._bufferService=w,this._decorationService=L,this._renderService=_,this._optionsService=k,this._coreBrowseService=R,this._colorZoneStore=new p.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(A=this._viewportElement.parentElement)===null||A===void 0||A.insertBefore(this._canvas,this._viewportElement);const M=this._canvas.getContext("2d");if(!M)throw new Error("Ctx cannot be null");this._ctx=M,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{var B;(B=this._canvas)===null||B===void 0||B.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,g.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const h=Math.floor(this._canvas.width/3),v=Math.ceil(this._canvas.width/3);c.full=this._canvas.width,c.left=h,c.center=v,c.right=h,this._refreshDrawHeightConstants(),a.full=0,a.left=0,a.center=c.left,a.right=c.left+c.center}_refreshDrawHeightConstants(){s.full=Math.round(2*this._coreBrowseService.dpr);const h=this._canvas.height/this._bufferService.buffer.lines.length,v=Math.round(Math.max(Math.min(h,12),6)*this._coreBrowseService.dpr);s.left=v,s.center=v,s.right=v}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*s.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const v of this._decorationService.decorations)this._colorZoneStore.addDecoration(v);this._ctx.lineWidth=1;const h=this._colorZoneStore.zones;for(const v of h)v.position!=="full"&&this._renderColorZone(v);for(const v of h)v.position==="full"&&this._renderColorZone(v);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(h){this._ctx.fillStyle=h.color,this._ctx.fillRect(a[h.position||"full"],Math.round((this._canvas.height-1)*(h.startBufferLine/this._bufferService.buffers.active.lines.length)-s[h.position||"full"]/2),c[h.position||"full"],Math.round((this._canvas.height-1)*((h.endBufferLine-h.startBufferLine)/this._bufferService.buffers.active.lines.length)+s[h.position||"full"]))}_queueRefresh(h,v){this._shouldUpdateDimensions=h||this._shouldUpdateDimensions,this._shouldUpdateAnchor=v||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o=f([y(2,m.IBufferService),y(3,m.IDecorationService),y(4,E.IRenderService),y(5,m.IOptionsService),y(6,E.ICoreBrowserService)],o),n.OverviewRulerRenderer=o},2950:function(S,n,u){var f=this&&this.__decorate||function(m,s,c,a){var o,h=arguments.length,v=h<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(m,s,c,a);else for(var w=m.length-1;w>=0;w--)(o=m[w])&&(v=(h<3?o(v):h>3?o(s,c,v):o(s,c))||v);return h>3&&v&&Object.defineProperty(s,c,v),v},y=this&&this.__param||function(m,s){return function(c,a){s(c,a,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;const p=u(4725),g=u(2585),E=u(2584);let C=class{constructor(m,s,c,a,o,h){this._textarea=m,this._compositionView=s,this._bufferService=c,this._optionsService=a,this._coreService=o,this._renderService=h,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(m){this._compositionView.textContent=m.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(m){if(this._isComposing||this._isSendingComposition){if(m.keyCode===229||m.keyCode===16||m.keyCode===17||m.keyCode===18)return!1;this._finalizeComposition(!1)}return m.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(m){if(this._compositionView.classList.remove("active"),this._isComposing=!1,m){const s={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let c;this._isSendingComposition=!1,s.start+=this._dataAlreadySent.length,c=this._isComposing?this._textarea.value.substring(s.start,s.end):this._textarea.value.substring(s.start),c.length>0&&this._coreService.triggerDataEvent(c,!0)}},0)}else{this._isSendingComposition=!1;const s=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(s,!0)}}_handleAnyTextareaChanges(){const m=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const s=this._textarea.value,c=s.replace(m,"");this._dataAlreadySent=c,s.length>m.length?this._coreService.triggerDataEvent(c,!0):s.length<m.length?this._coreService.triggerDataEvent(`${E.C0.DEL}`,!0):s.length===m.length&&s!==m&&this._coreService.triggerDataEvent(s,!0)}},0)}updateCompositionElements(m){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const s=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),c=this._renderService.dimensions.css.cell.height,a=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,o=s*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=o+"px",this._compositionView.style.top=a+"px",this._compositionView.style.height=c+"px",this._compositionView.style.lineHeight=c+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const h=this._compositionView.getBoundingClientRect();this._textarea.style.left=o+"px",this._textarea.style.top=a+"px",this._textarea.style.width=Math.max(h.width,1)+"px",this._textarea.style.height=Math.max(h.height,1)+"px",this._textarea.style.lineHeight=h.height+"px"}m||setTimeout(()=>this.updateCompositionElements(!0),0)}}};C=f([y(2,g.IBufferService),y(3,g.IOptionsService),y(4,g.ICoreService),y(5,p.IRenderService)],C),n.CompositionHelper=C},9806:(S,n)=>{function u(f,y,p){const g=p.getBoundingClientRect(),E=f.getComputedStyle(p),C=parseInt(E.getPropertyValue("padding-left")),m=parseInt(E.getPropertyValue("padding-top"));return[y.clientX-g.left-C,y.clientY-g.top-m]}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=u,n.getCoords=function(f,y,p,g,E,C,m,s,c){if(!C)return;const a=u(f,y,p);return a?(a[0]=Math.ceil((a[0]+(c?m/2:0))/m),a[1]=Math.ceil(a[1]/s),a[0]=Math.min(Math.max(a[0],1),g+(c?1:0)),a[1]=Math.min(Math.max(a[1],1),E),a):void 0}},9504:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;const f=u(2584);function y(s,c,a,o){const h=s-p(s,a),v=c-p(c,a),w=Math.abs(h-v)-function(L,_,k){let R=0;const A=L-p(L,k),M=_-p(_,k);for(let B=0;B<Math.abs(A-M);B++){const H=g(L,_)==="A"?-1:1,U=k.buffer.lines.get(A+H*B);U!=null&&U.isWrapped&&R++}return R}(s,c,a);return m(w,C(g(s,c),o))}function p(s,c){let a=0,o=c.buffer.lines.get(s),h=o==null?void 0:o.isWrapped;for(;h&&s>=0&&s<c.rows;)a++,o=c.buffer.lines.get(--s),h=o==null?void 0:o.isWrapped;return a}function g(s,c){return s>c?"A":"B"}function E(s,c,a,o,h,v){let w=s,L=c,_="";for(;w!==a||L!==o;)w+=h?1:-1,h&&w>v.cols-1?(_+=v.buffer.translateBufferLineToString(L,!1,s,w),w=0,s=0,L++):!h&&w<0&&(_+=v.buffer.translateBufferLineToString(L,!1,0,s+1),w=v.cols-1,s=w,L--);return _+v.buffer.translateBufferLineToString(L,!1,s,w)}function C(s,c){const a=c?"O":"[";return f.C0.ESC+a+s}function m(s,c){s=Math.floor(s);let a="";for(let o=0;o<s;o++)a+=c;return a}n.moveToCellSequence=function(s,c,a,o){const h=a.buffer.x,v=a.buffer.y;if(!a.buffer.hasScrollback)return function(_,k,R,A,M,B){return y(k,A,M,B).length===0?"":m(E(_,k,_,k-p(k,M),!1,M).length,C("D",B))}(h,v,0,c,a,o)+y(v,c,a,o)+function(_,k,R,A,M,B){let H;H=y(k,A,M,B).length>0?A-p(A,M):k;const U=A,$=function(b,x,T,D,F,z){let Y;return Y=y(T,D,F,z).length>0?D-p(D,F):x,b<T&&Y<=D||b>=T&&Y<D?"C":"D"}(_,k,R,A,M,B);return m(E(_,H,R,U,$==="C",M).length,C($,B))}(h,v,s,c,a,o);let w;if(v===c)return w=h>s?"D":"C",m(Math.abs(h-s),C(w,o));w=v>c?"D":"C";const L=Math.abs(v-c);return m(function(_,k){return k.cols-_}(v>c?s:h,a)+(L-1)*a.cols+1+((v>c?h:s)-1),C(w,o))}},1296:function(S,n,u){var f=this&&this.__decorate||function(_,k,R,A){var M,B=arguments.length,H=B<3?k:A===null?A=Object.getOwnPropertyDescriptor(k,R):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(_,k,R,A);else for(var U=_.length-1;U>=0;U--)(M=_[U])&&(H=(B<3?M(H):B>3?M(k,R,H):M(k,R))||H);return B>3&&H&&Object.defineProperty(k,R,H),H},y=this&&this.__param||function(_,k){return function(R,A){k(R,A,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;const p=u(9631),g=u(3787),E=u(2223),C=u(6171),m=u(4725),s=u(8055),c=u(8460),a=u(844),o=u(2585),h="xterm-dom-renderer-owner-",v="xterm-focus";let w=1,L=class extends a.Disposable{constructor(_,k,R,A,M,B,H,U,$,b){super(),this._element=_,this._screenElement=k,this._viewportElement=R,this._linkifier2=A,this._charSizeService=B,this._optionsService=H,this._bufferService=U,this._coreBrowserService=$,this._terminalClass=w++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new c.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(b.onChangeColors(x=>this._injectCss(x))),this._injectCss(b.colors),this._rowFactory=M.createInstance(g.DomRendererRowFactory,document),this._element.classList.add(h+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(x=>this._handleLinkHover(x))),this.register(this._linkifier2.onHideLinkUnderline(x=>this._handleLinkLeave(x))),this.register((0,a.toDisposable)(()=>{this._element.classList.remove(h+this._terminalClass),(0,p.removeElementFromParent)(this._rowContainer,this._selectionContainer,this._themeStyleElement,this._dimensionsStyleElement)}))}_updateDimensions(){const _=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*_,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*_),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/_),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/_),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const R of this._rowElements)R.style.width=`${this.dimensions.css.canvas.width}px`,R.style.height=`${this.dimensions.css.cell.height}px`,R.style.lineHeight=`${this.dimensions.css.cell.height}px`,R.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const k=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`;this._dimensionsStyleElement.textContent=k,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(_){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let k=`${this._terminalSelector} .xterm-rows { color: ${_.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;k+=`${this._terminalSelector} span:not(.${g.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${g.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${g.ITALIC_CLASS} { font-style: italic;}`,k+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",k+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${_.cursor.css};  color: ${_.cursorAccent.css}; } 50% {  background-color: ${_.cursorAccent.css};  color: ${_.cursor.css}; }}`,k+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${g.CURSOR_CLASS}.${g.CURSOR_STYLE_BLOCK_CLASS} { outline: 1px solid ${_.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${g.CURSOR_CLASS}.${g.CURSOR_BLINK_CLASS}:not(.${g.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${g.CURSOR_CLASS}.${g.CURSOR_BLINK_CLASS}.${g.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${g.CURSOR_CLASS}.${g.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${_.cursor.css}; color: ${_.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${g.CURSOR_CLASS}.${g.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${_.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${g.CURSOR_CLASS}.${g.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${_.cursor.css} inset;}`,k+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${_.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${_.selectionInactiveBackgroundOpaque.css};}`;for(const[R,A]of _.ansi.entries())k+=`${this._terminalSelector} .xterm-fg-${R} { color: ${A.css}; }${this._terminalSelector} .xterm-bg-${R} { background-color: ${A.css}; }`;k+=`${this._terminalSelector} .xterm-fg-${E.INVERTED_DEFAULT_COLOR} { color: ${s.color.opaque(_.background).css}; }${this._terminalSelector} .xterm-bg-${E.INVERTED_DEFAULT_COLOR} { background-color: ${_.foreground.css}; }`,this._themeStyleElement.textContent=k}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(_,k){for(let R=this._rowElements.length;R<=k;R++){const A=document.createElement("div");this._rowContainer.appendChild(A),this._rowElements.push(A)}for(;this._rowElements.length>k;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(_,k){this._refreshRowElements(_,k),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(v)}handleFocus(){this._rowContainer.classList.add(v)}handleSelectionChanged(_,k,R){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(_,k,R),this.renderRows(0,this._bufferService.rows-1),!_||!k)return;const A=_[1]-this._bufferService.buffer.ydisp,M=k[1]-this._bufferService.buffer.ydisp,B=Math.max(A,0),H=Math.min(M,this._bufferService.rows-1);if(B>=this._bufferService.rows||H<0)return;const U=document.createDocumentFragment();if(R){const $=_[0]>k[0];U.appendChild(this._createSelectionElement(B,$?k[0]:_[0],$?_[0]:k[0],H-B+1))}else{const $=A===B?_[0]:0,b=B===M?k[0]:this._bufferService.cols;U.appendChild(this._createSelectionElement(B,$,b));const x=H-B-1;if(U.appendChild(this._createSelectionElement(B+1,0,this._bufferService.cols,x)),B!==H){const T=M===H?k[0]:this._bufferService.cols;U.appendChild(this._createSelectionElement(H,0,T))}}this._selectionContainer.appendChild(U)}_createSelectionElement(_,k,R,A=1){const M=document.createElement("div");return M.style.height=A*this.dimensions.css.cell.height+"px",M.style.top=_*this.dimensions.css.cell.height+"px",M.style.left=k*this.dimensions.css.cell.width+"px",M.style.width=this.dimensions.css.cell.width*(R-k)+"px",M}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions()}clear(){for(const _ of this._rowElements)_.replaceChildren()}renderRows(_,k){const R=this._bufferService.buffer.ybase+this._bufferService.buffer.y,A=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),M=this._optionsService.rawOptions.cursorBlink;for(let B=_;B<=k;B++){const H=this._rowElements[B],U=B+this._bufferService.buffer.ydisp,$=this._bufferService.buffer.lines.get(U),b=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[B]&&this._cellToRowElements[B].length===this._bufferService.cols||(this._cellToRowElements[B]=new Int16Array(this._bufferService.cols)),H.replaceChildren(this._rowFactory.createRow($,U,U===R,b,A,M,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[B]))}}get _terminalSelector(){return`.${h}${this._terminalClass}`}_handleLinkHover(_){this._setCellUnderline(_.x1,_.x2,_.y1,_.y2,_.cols,!0)}_handleLinkLeave(_){this._setCellUnderline(_.x1,_.x2,_.y1,_.y2,_.cols,!1)}_setCellUnderline(_,k,R,A,M,B){if(_=this._cellToRowElements[R][_],k=this._cellToRowElements[A][k],_!==-1&&k!==-1)for(;_!==k||R!==A;){const H=this._rowElements[R];if(!H)return;const U=H.children[_];U&&(U.style.textDecoration=B?"underline":"none"),++_>=M&&(_=0,R++)}}};L=f([y(4,o.IInstantiationService),y(5,m.ICharSizeService),y(6,o.IOptionsService),y(7,o.IBufferService),y(8,m.ICoreBrowserService),y(9,m.IThemeService)],L),n.DomRenderer=L},3787:function(S,n,u){var f=this&&this.__decorate||function(w,L,_,k){var R,A=arguments.length,M=A<3?L:k===null?k=Object.getOwnPropertyDescriptor(L,_):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(w,L,_,k);else for(var B=w.length-1;B>=0;B--)(R=w[B])&&(M=(A<3?R(M):A>3?R(L,_,M):R(L,_))||M);return A>3&&M&&Object.defineProperty(L,_,M),M},y=this&&this.__param||function(w,L){return function(_,k){L(_,k,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=n.CURSOR_STYLE_UNDERLINE_CLASS=n.CURSOR_STYLE_BAR_CLASS=n.CURSOR_STYLE_BLOCK_CLASS=n.CURSOR_BLINK_CLASS=n.CURSOR_CLASS=n.STRIKETHROUGH_CLASS=n.UNDERLINE_CLASS=n.ITALIC_CLASS=n.DIM_CLASS=n.BOLD_CLASS=void 0;const p=u(2223),g=u(643),E=u(511),C=u(2585),m=u(8055),s=u(4725),c=u(4269),a=u(6171),o=u(3734);n.BOLD_CLASS="xterm-bold",n.DIM_CLASS="xterm-dim",n.ITALIC_CLASS="xterm-italic",n.UNDERLINE_CLASS="xterm-underline",n.STRIKETHROUGH_CLASS="xterm-strikethrough",n.CURSOR_CLASS="xterm-cursor",n.CURSOR_BLINK_CLASS="xterm-cursor-blink",n.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",n.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",n.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let h=class{constructor(w,L,_,k,R,A,M){this._document=w,this._characterJoinerService=L,this._optionsService=_,this._coreBrowserService=k,this._coreService=R,this._decorationService=A,this._themeService=M,this._workCell=new E.CellData,this._columnSelectMode=!1}handleSelectionChanged(w,L,_){this._selectionStart=w,this._selectionEnd=L,this._columnSelectMode=_}createRow(w,L,_,k,R,A,M,B,H){const U=this._document.createDocumentFragment(),$=this._characterJoinerService.getJoinedCharacters(L);let b=0;for(let F=Math.min(w.length,B)-1;F>=0;F--)if(w.loadCell(F,this._workCell).getCode()!==g.NULL_CELL_CODE||_&&F===R){b=F+1;break}const x=this._themeService.colors;let T=-1,D=0;for(;D<b;D++){w.loadCell(D,this._workCell);let F=this._workCell.getWidth();if(F===0){H[D]=T;continue}let z=!1,Y=D,W=this._workCell;if($.length>0&&D===$[0][0]){z=!0;const re=$.shift();W=new c.JoinedCellData(this._workCell,w.translateToString(!0,re[0],re[1]),re[1]-re[0]),Y=re[1]-1,F=W.getWidth()}const X=this._document.createElement("span");if(F>1&&(X.style.width=M*F+"px"),z&&(X.style.display="inline",R>=D&&R<=Y&&(R=D)),!this._coreService.isCursorHidden&&_&&D===R)switch(X.classList.add(n.CURSOR_CLASS),A&&X.classList.add(n.CURSOR_BLINK_CLASS),k){case"bar":X.classList.add(n.CURSOR_STYLE_BAR_CLASS);break;case"underline":X.classList.add(n.CURSOR_STYLE_UNDERLINE_CLASS);break;default:X.classList.add(n.CURSOR_STYLE_BLOCK_CLASS)}if(W.isBold()&&X.classList.add(n.BOLD_CLASS),W.isItalic()&&X.classList.add(n.ITALIC_CLASS),W.isDim()&&X.classList.add(n.DIM_CLASS),W.isInvisible()?X.textContent=g.WHITESPACE_CELL_CHAR:X.textContent=W.getChars()||g.WHITESPACE_CELL_CHAR,W.isUnderline()&&(X.classList.add(`${n.UNDERLINE_CLASS}-${W.extended.underlineStyle}`),X.textContent===" "&&(X.textContent=" "),!W.isUnderlineColorDefault()))if(W.isUnderlineColorRGB())X.style.textDecorationColor=`rgb(${o.AttributeData.toColorRGB(W.getUnderlineColor()).join(",")})`;else{let re=W.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&W.isBold()&&re<8&&(re+=8),X.style.textDecorationColor=x.ansi[re].css}W.isStrikethrough()&&X.classList.add(n.STRIKETHROUGH_CLASS);let P=W.getFgColor(),O=W.getFgColorMode(),I=W.getBgColor(),N=W.getBgColorMode();const K=!!W.isInverse();if(K){const re=P;P=I,I=re;const qu=O;O=N,N=qu}let oe,V,pe=!1;this._decorationService.forEachDecorationAtCell(D,L,void 0,re=>{re.options.layer!=="top"&&pe||(re.backgroundColorRGB&&(N=50331648,I=re.backgroundColorRGB.rgba>>8&16777215,oe=re.backgroundColorRGB),re.foregroundColorRGB&&(O=50331648,P=re.foregroundColorRGB.rgba>>8&16777215,V=re.foregroundColorRGB),pe=re.options.layer==="top")});const we=this._isCellInSelection(D,L);let ve;switch(pe||x.selectionForeground&&we&&(O=50331648,P=x.selectionForeground.rgba>>8&16777215,V=x.selectionForeground),we&&(oe=this._coreBrowserService.isFocused?x.selectionBackgroundOpaque:x.selectionInactiveBackgroundOpaque,pe=!0),pe&&X.classList.add("xterm-decoration-top"),N){case 16777216:case 33554432:ve=x.ansi[I],X.classList.add(`xterm-bg-${I}`);break;case 50331648:ve=m.rgba.toColor(I>>16,I>>8&255,255&I),this._addStyle(X,`background-color:#${v((I>>>0).toString(16),"0",6)}`);break;default:K?(ve=x.foreground,X.classList.add(`xterm-bg-${p.INVERTED_DEFAULT_COLOR}`)):ve=x.background}switch(oe||W.isDim()&&(oe=m.color.multiplyOpacity(ve,.5)),O){case 16777216:case 33554432:W.isBold()&&P<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(P+=8),this._applyMinimumContrast(X,ve,x.ansi[P],W,oe,void 0)||X.classList.add(`xterm-fg-${P}`);break;case 50331648:const re=m.rgba.toColor(P>>16&255,P>>8&255,255&P);this._applyMinimumContrast(X,ve,re,W,oe,V)||this._addStyle(X,`color:#${v(P.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(X,ve,x.foreground,W,oe,void 0)||K&&X.classList.add(`xterm-fg-${p.INVERTED_DEFAULT_COLOR}`)}U.appendChild(X),H[D]=++T,D=Y}return D<B-1&&H.subarray(D).fill(++T),U}_applyMinimumContrast(w,L,_,k,R,A){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,a.excludeFromContrastRatioDemands)(k.getCode()))return!1;let M;return R||A||(M=this._themeService.colors.contrastCache.getColor(L.rgba,_.rgba)),M===void 0&&(M=m.color.ensureContrastRatio(R||L,A||_,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((R||L).rgba,(A||_).rgba,M??null)),!!M&&(this._addStyle(w,`color:${M.css}`),!0)}_addStyle(w,L){w.setAttribute("style",`${w.getAttribute("style")||""}${L};`)}_isCellInSelection(w,L){const _=this._selectionStart,k=this._selectionEnd;return!(!_||!k)&&(this._columnSelectMode?_[0]<=k[0]?w>=_[0]&&L>=_[1]&&w<k[0]&&L<=k[1]:w<_[0]&&L>=_[1]&&w>=k[0]&&L<=k[1]:L>_[1]&&L<k[1]||_[1]===k[1]&&L===_[1]&&w>=_[0]&&w<k[0]||_[1]<k[1]&&L===k[1]&&w<k[0]||_[1]<k[1]&&L===_[1]&&w>=_[0])}};function v(w,L,_){for(;w.length<_;)w=L+w;return w}h=f([y(1,s.ICharacterJoinerService),y(2,C.IOptionsService),y(3,s.ICoreBrowserService),y(4,C.ICoreService),y(5,C.IDecorationService),y(6,s.IThemeService)],h),n.DomRendererRowFactory=h},2223:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;const f=u(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(S,n)=>{function u(f){return 57508<=f&&f<=57558}Object.defineProperty(n,"__esModule",{value:!0}),n.createRenderDimensions=n.excludeFromContrastRatioDemands=n.isRestrictedPowerlineGlyph=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(f){if(!f)throw new Error("value must not be falsy");return f},n.isPowerlineGlyph=u,n.isRestrictedPowerlineGlyph=function(f){return 57520<=f&&f<=57527},n.excludeFromContrastRatioDemands=function(f){return u(f)||function(y){return 9472<=y&&y<=9631}(f)},n.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0,n.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,f=this.selectionEnd;return!(!u||!f)&&(u[1]>f[1]||u[1]===f[1]&&u[0]>f[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(S,n,u){var f=this&&this.__decorate||function(s,c,a,o){var h,v=arguments.length,w=v<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(s,c,a,o);else for(var L=s.length-1;L>=0;L--)(h=s[L])&&(w=(v<3?h(w):v>3?h(c,a,w):h(c,a))||w);return v>3&&w&&Object.defineProperty(c,a,w),w},y=this&&this.__param||function(s,c){return function(a,o){c(a,o,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;const p=u(2585),g=u(8460),E=u(844);let C=class extends E.Disposable{constructor(s,c,a){super(),this._optionsService=a,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new m(s,c,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const s=this._measureStrategy.measure();s.width===this.width&&s.height===this.height||(this.width=s.width,this.height=s.height,this._onCharSizeChange.fire())}};C=f([y(2,p.IOptionsService)],C),n.CharSizeService=C;class m{constructor(c,a,o){this._document=c,this._parentElement=a,this._optionsService=o,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const c=this._measureElement.getBoundingClientRect();return c.width!==0&&c.height!==0&&(this._result.width=c.width,this._result.height=Math.ceil(c.height)),this._result}}},4269:function(S,n,u){var f=this&&this.__decorate||function(c,a,o,h){var v,w=arguments.length,L=w<3?a:h===null?h=Object.getOwnPropertyDescriptor(a,o):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(c,a,o,h);else for(var _=c.length-1;_>=0;_--)(v=c[_])&&(L=(w<3?v(L):w>3?v(a,o,L):v(a,o))||L);return w>3&&L&&Object.defineProperty(a,o,L),L},y=this&&this.__param||function(c,a){return function(o,h){a(o,h,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;const p=u(3734),g=u(643),E=u(511),C=u(2585);class m extends p.AttributeData{constructor(a,o,h){super(),this.content=0,this.combinedData="",this.fg=a.fg,this.bg=a.bg,this.combinedData=o,this._width=h}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(a){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.JoinedCellData=m;let s=class Vu{constructor(a){this._bufferService=a,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new E.CellData}register(a){const o={id:this._nextCharacterJoinerId++,handler:a};return this._characterJoiners.push(o),o.id}deregister(a){for(let o=0;o<this._characterJoiners.length;o++)if(this._characterJoiners[o].id===a)return this._characterJoiners.splice(o,1),!0;return!1}getJoinedCharacters(a){if(this._characterJoiners.length===0)return[];const o=this._bufferService.buffer.lines.get(a);if(!o||o.length===0)return[];const h=[],v=o.translateToString(!0);let w=0,L=0,_=0,k=o.getFg(0),R=o.getBg(0);for(let A=0;A<o.getTrimmedLength();A++)if(o.loadCell(A,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==R){if(A-w>1){const M=this._getJoinedRanges(v,_,L,o,w);for(let B=0;B<M.length;B++)h.push(M[B])}w=A,_=L,k=this._workCell.fg,R=this._workCell.bg}L+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-w>1){const A=this._getJoinedRanges(v,_,L,o,w);for(let M=0;M<A.length;M++)h.push(A[M])}return h}_getJoinedRanges(a,o,h,v,w){const L=a.substring(o,h);let _=[];try{_=this._characterJoiners[0].handler(L)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const R=this._characterJoiners[k].handler(L);for(let A=0;A<R.length;A++)Vu._mergeRanges(_,R[A])}catch(R){console.error(R)}return this._stringRangesToCellRanges(_,v,w),_}_stringRangesToCellRanges(a,o,h){let v=0,w=!1,L=0,_=a[v];if(_){for(let k=h;k<this._bufferService.cols;k++){const R=o.getWidth(k),A=o.getString(k).length||g.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!w&&_[0]<=L&&(_[0]=k,w=!0),_[1]<=L){if(_[1]=k,_=a[++v],!_)break;_[0]<=L?(_[0]=k,w=!0):w=!1}L+=A}}_&&(_[1]=this._bufferService.cols)}}static _mergeRanges(a,o){let h=!1;for(let v=0;v<a.length;v++){const w=a[v];if(h){if(o[1]<=w[0])return a[v-1][1]=o[1],a;if(o[1]<=w[1])return a[v-1][1]=Math.max(o[1],w[1]),a.splice(v,1),a;a.splice(v,1),v--}else{if(o[1]<=w[0])return a.splice(v,0,o),a;if(o[1]<=w[1])return w[0]=Math.min(o[0],w[0]),a;o[0]<w[1]&&(w[0]=Math.min(o[0],w[0]),h=!0)}}return h?a[a.length-1][1]=o[1]:a.push(o),a}};s=f([y(0,C.IBufferService)],s),n.CharacterJoinerService=s},5114:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0,n.CoreBrowserService=class{constructor(u,f){this._textarea=u,this.window=f,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(S,n,u){var f=this&&this.__decorate||function(C,m,s,c){var a,o=arguments.length,h=o<3?m:c===null?c=Object.getOwnPropertyDescriptor(m,s):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(C,m,s,c);else for(var v=C.length-1;v>=0;v--)(a=C[v])&&(h=(o<3?a(h):o>3?a(m,s,h):a(m,s))||h);return o>3&&h&&Object.defineProperty(m,s,h),h},y=this&&this.__param||function(C,m){return function(s,c){m(s,c,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;const p=u(4725),g=u(9806);let E=class{constructor(C,m){this._renderService=C,this._charSizeService=m}getCoords(C,m,s,c,a){return(0,g.getCoords)(window,C,m,s,c,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,a)}getMouseReportCoords(C,m){const s=(0,g.getCoordsRelativeToElement)(window,C,m);if(!(!this._charSizeService.hasValidSize||s[0]<0||s[1]<0||s[0]>=this._renderService.dimensions.css.canvas.width||s[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(s[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(s[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(s[0]),y:Math.floor(s[1])}}};E=f([y(0,p.IRenderService),y(1,p.ICharSizeService)],E),n.MouseService=E},3230:function(S,n,u){var f=this&&this.__decorate||function(h,v,w,L){var _,k=arguments.length,R=k<3?v:L===null?L=Object.getOwnPropertyDescriptor(v,w):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(h,v,w,L);else for(var A=h.length-1;A>=0;A--)(_=h[A])&&(R=(k<3?_(R):k>3?_(v,w,R):_(v,w))||R);return k>3&&R&&Object.defineProperty(v,w,R),R},y=this&&this.__param||function(h,v){return function(w,L){v(w,L,h)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;const p=u(6193),g=u(8460),E=u(844),C=u(5596),m=u(3656),s=u(2585),c=u(4725),a=u(7226);let o=class extends E.Disposable{constructor(h,v,w,L,_,k,R,A){if(super(),this._rowCount=h,this._charSizeService=L,this._pausedResizeTask=new a.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new g.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new g.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new g.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new g.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var M;return(M=this._renderer)===null||M===void 0?void 0:M.dispose()}}),this._renderDebouncer=new p.RenderDebouncer(R.window,(M,B)=>this._renderRows(M,B)),this.register(this._renderDebouncer),this._screenDprMonitor=new C.ScreenDprMonitor(R.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var M;return(M=this._renderer)===null||M===void 0?void 0:M.clear()})),this.register(w.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(_.onDecorationRegistered(()=>this._fullRefresh())),this.register(_.onDecorationRemoved(()=>this._fullRefresh())),this.register(w.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(w.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,m.addDisposableDomListener)(R.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(A.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in R.window){const M=new R.window.IntersectionObserver(B=>this._handleIntersectionChange(B[B.length-1]),{threshold:0});M.observe(v),this.register({dispose:()=>M.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(h){this._isPaused=h.isIntersecting===void 0?h.intersectionRatio===0:!h.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(h,v,w=!1){this._isPaused?this._needsFullRefresh=!0:(w||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(h,v,this._rowCount))}_renderRows(h,v){this._renderer&&(this._renderer.renderRows(h,v),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:h,end:v}),this._onRender.fire({start:h,end:v}),this._isNextRenderRedrawOnly=!0)}resize(h,v){this._rowCount=v,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(h){var v;(v=this._renderer)===null||v===void 0||v.dispose(),this._renderer=h,this._renderer.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(h){return this._renderDebouncer.addRefreshCallback(h)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var h,v;this._renderer&&((v=(h=this._renderer).clearTextureAtlas)===null||v===void 0||v.call(h),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(h,v){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(h,v)):this._renderer.handleResize(h,v),this._fullRefresh())}handleCharSizeChanged(){var h;(h=this._renderer)===null||h===void 0||h.handleCharSizeChanged()}handleBlur(){var h;(h=this._renderer)===null||h===void 0||h.handleBlur()}handleFocus(){var h;(h=this._renderer)===null||h===void 0||h.handleFocus()}handleSelectionChanged(h,v,w){var L;this._selectionState.start=h,this._selectionState.end=v,this._selectionState.columnSelectMode=w,(L=this._renderer)===null||L===void 0||L.handleSelectionChanged(h,v,w)}handleCursorMove(){var h;(h=this._renderer)===null||h===void 0||h.handleCursorMove()}clear(){var h;(h=this._renderer)===null||h===void 0||h.clear()}};o=f([y(2,s.IOptionsService),y(3,c.ICharSizeService),y(4,s.IDecorationService),y(5,s.IBufferService),y(6,c.ICoreBrowserService),y(7,c.IThemeService)],o),n.RenderService=o},9312:function(S,n,u){var f=this&&this.__decorate||function(_,k,R,A){var M,B=arguments.length,H=B<3?k:A===null?A=Object.getOwnPropertyDescriptor(k,R):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(_,k,R,A);else for(var U=_.length-1;U>=0;U--)(M=_[U])&&(H=(B<3?M(H):B>3?M(k,R,H):M(k,R))||H);return B>3&&H&&Object.defineProperty(k,R,H),H},y=this&&this.__param||function(_,k){return function(R,A){k(R,A,_)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;const p=u(6114),g=u(456),E=u(511),C=u(8460),m=u(4725),s=u(2585),c=u(9806),a=u(9504),o=u(844),h=u(4841),v=String.fromCharCode(160),w=new RegExp(v,"g");let L=class extends o.Disposable{constructor(_,k,R,A,M,B,H,U,$){super(),this._element=_,this._screenElement=k,this._linkifier=R,this._bufferService=A,this._coreService=M,this._mouseService=B,this._optionsService=H,this._renderService=U,this._coreBrowserService=$,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new E.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new C.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new C.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new C.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new C.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=b=>this._handleMouseMove(b),this._mouseUpListener=b=>this._handleMouseUp(b),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(b=>this._handleTrim(b)),this.register(this._bufferService.buffers.onBufferActivate(b=>this._handleBufferActivate(b))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,o.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const _=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!_||!k||_[0]===k[0]&&_[1]===k[1])}get selectionText(){const _=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!_||!k)return"";const R=this._bufferService.buffer,A=[];if(this._activeSelectionMode===3){if(_[0]===k[0])return"";const M=_[0]<k[0]?_[0]:k[0],B=_[0]<k[0]?k[0]:_[0];for(let H=_[1];H<=k[1];H++){const U=R.translateBufferLineToString(H,!0,M,B);A.push(U)}}else{const M=_[1]===k[1]?k[0]:void 0;A.push(R.translateBufferLineToString(_[1],!0,_[0],M));for(let B=_[1]+1;B<=k[1]-1;B++){const H=R.lines.get(B),U=R.translateBufferLineToString(B,!0);H!=null&&H.isWrapped?A[A.length-1]+=U:A.push(U)}if(_[1]!==k[1]){const B=R.lines.get(k[1]),H=R.translateBufferLineToString(k[1],!0,0,k[0]);B&&B.isWrapped?A[A.length-1]+=H:A.push(H)}}return A.map(M=>M.replace(w," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(_){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&_&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(_){const k=this._getMouseBufferCoords(_),R=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!!(R&&A&&k)&&this._areCoordsInSelection(k,R,A)}isCellInSelection(_,k){const R=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!R||!A)&&this._areCoordsInSelection([_,k],R,A)}_areCoordsInSelection(_,k,R){return _[1]>k[1]&&_[1]<R[1]||k[1]===R[1]&&_[1]===k[1]&&_[0]>=k[0]&&_[0]<R[0]||k[1]<R[1]&&_[1]===R[1]&&_[0]<R[0]||k[1]<R[1]&&_[1]===k[1]&&_[0]>=k[0]}_selectWordAtCursor(_,k){var R,A;const M=(A=(R=this._linkifier.currentLink)===null||R===void 0?void 0:R.link)===null||A===void 0?void 0:A.range;if(M)return this._model.selectionStart=[M.start.x-1,M.start.y-1],this._model.selectionStartLength=(0,h.getRangeLength)(M,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const B=this._getMouseBufferCoords(_);return!!B&&(this._selectWordAt(B,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(_,k){this._model.clearSelection(),_=Math.max(_,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,_],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(_){this._model.handleTrim(_)&&this.refresh()}_getMouseBufferCoords(_){const k=this._mouseService.getCoords(_,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(_){let k=(0,c.getCoordsRelativeToElement)(this._coreBrowserService.window,_,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=R?0:(k>R&&(k-=R),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(_){return p.isMac?_.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:_.shiftKey}handleMouseDown(_){if(this._mouseDownTimeStamp=_.timeStamp,(_.button!==2||!this.hasSelection)&&_.button===0){if(!this._enabled){if(!this.shouldForceSelection(_))return;_.stopPropagation()}_.preventDefault(),this._dragScrollAmount=0,this._enabled&&_.shiftKey?this._handleIncrementalClick(_):_.detail===1?this._handleSingleClick(_):_.detail===2?this._handleDoubleClick(_):_.detail===3&&this._handleTripleClick(_),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(_){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(_))}_handleSingleClick(_){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(_)?3:0,this._model.selectionStart=this._getMouseBufferCoords(_),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(_){this._selectWordAtCursor(_,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(_){const k=this._getMouseBufferCoords(_);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(_){return _.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(_){if(_.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(_),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(_),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const A=R.lines.get(this._model.selectionEnd[1]);A&&A.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const _=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(_.ydisp+this._bufferService.rows,_.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=_.ydisp),this.refresh()}}_handleMouseUp(_){const k=_.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&_.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(_,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const A=(0,a.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(A,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const _=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,R=!(!_||!k||_[0]===k[0]&&_[1]===k[1]);R?_&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&_[0]===this._oldSelectionStart[0]&&_[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(_,k,R)):this._oldHasSelection&&this._fireOnSelectionChange(_,k,R)}_fireOnSelectionChange(_,k,R){this._oldSelectionStart=_,this._oldSelectionEnd=k,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(_){this.clearSelection(),this._trimListener.dispose(),this._trimListener=_.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(_,k){let R=k;for(let A=0;k>=A;A++){const M=_.loadCell(A,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:M>1&&k!==A&&(R+=M-1)}return R}setSelection(_,k,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[_,k],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(_){this._isClickInSelection(_)||(this._selectWordAtCursor(_,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(_,k,R=!0,A=!0){if(_[0]>=this._bufferService.cols)return;const M=this._bufferService.buffer,B=M.lines.get(_[1]);if(!B)return;const H=M.translateBufferLineToString(_[1],!1);let U=this._convertViewportColToCharacterIndex(B,_[0]),$=U;const b=_[0]-U;let x=0,T=0,D=0,F=0;if(H.charAt(U)===" "){for(;U>0&&H.charAt(U-1)===" ";)U--;for(;$<H.length&&H.charAt($+1)===" ";)$++}else{let W=_[0],X=_[0];B.getWidth(W)===0&&(x++,W--),B.getWidth(X)===2&&(T++,X++);const P=B.getString(X).length;for(P>1&&(F+=P-1,$+=P-1);W>0&&U>0&&!this._isCharWordSeparator(B.loadCell(W-1,this._workCell));){B.loadCell(W-1,this._workCell);const O=this._workCell.getChars().length;this._workCell.getWidth()===0?(x++,W--):O>1&&(D+=O-1,U-=O-1),U--,W--}for(;X<B.length&&$+1<H.length&&!this._isCharWordSeparator(B.loadCell(X+1,this._workCell));){B.loadCell(X+1,this._workCell);const O=this._workCell.getChars().length;this._workCell.getWidth()===2?(T++,X++):O>1&&(F+=O-1,$+=O-1),$++,X++}}$++;let z=U+b-x+D,Y=Math.min(this._bufferService.cols,$-U+x+T-D-F);if(k||H.slice(U,$).trim()!==""){if(R&&z===0&&B.getCodePoint(0)!==32){const W=M.lines.get(_[1]-1);if(W&&B.isWrapped&&W.getCodePoint(this._bufferService.cols-1)!==32){const X=this._getWordAt([this._bufferService.cols-1,_[1]-1],!1,!0,!1);if(X){const P=this._bufferService.cols-X.start;z-=P,Y+=P}}}if(A&&z+Y===this._bufferService.cols&&B.getCodePoint(this._bufferService.cols-1)!==32){const W=M.lines.get(_[1]+1);if(W!=null&&W.isWrapped&&W.getCodePoint(0)!==32){const X=this._getWordAt([0,_[1]+1],!1,!1,!0);X&&(Y+=X.length)}}return{start:z,length:Y}}}_selectWordAt(_,k){const R=this._getWordAt(_,k);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,_[1]--;this._model.selectionStart=[R.start,_[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(_){const k=this._getWordAt(_,!0);if(k){let R=_[1];for(;k.start<0;)k.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,R]}}_isCharWordSeparator(_){return _.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(_.getChars())>=0}_selectLineAt(_){const k=this._bufferService.buffer.getWrappedRangeForLine(_),R={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,h.getRangeLength)(R,this._bufferService.cols)}};L=f([y(3,s.IBufferService),y(4,s.ICoreService),y(5,m.IMouseService),y(6,s.IOptionsService),y(7,m.IRenderService),y(8,m.ICoreBrowserService)],L),n.SelectionService=L},4725:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IThemeService=n.ICharacterJoinerService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;const f=u(8343);n.ICharSizeService=(0,f.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),n.IMouseService=(0,f.createDecorator)("MouseService"),n.IRenderService=(0,f.createDecorator)("RenderService"),n.ISelectionService=(0,f.createDecorator)("SelectionService"),n.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),n.IThemeService=(0,f.createDecorator)("ThemeService")},6731:function(S,n,u){var f=this&&this.__decorate||function(L,_,k,R){var A,M=arguments.length,B=M<3?_:R===null?R=Object.getOwnPropertyDescriptor(_,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(L,_,k,R);else for(var H=L.length-1;H>=0;H--)(A=L[H])&&(B=(M<3?A(B):M>3?A(_,k,B):A(_,k))||B);return M>3&&B&&Object.defineProperty(_,k,B),B},y=this&&this.__param||function(L,_){return function(k,R){_(k,R,L)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeService=n.DEFAULT_ANSI_COLORS=void 0;const p=u(7239),g=u(8055),E=u(8460),C=u(844),m=u(2585),s=g.css.toColor("#ffffff"),c=g.css.toColor("#000000"),a=g.css.toColor("#ffffff"),o=g.css.toColor("#000000"),h={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const L=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],_=[0,95,135,175,215,255];for(let k=0;k<216;k++){const R=_[k/36%6|0],A=_[k/6%6|0],M=_[k%6];L.push({css:g.channels.toCss(R,A,M),rgba:g.channels.toRgba(R,A,M)})}for(let k=0;k<24;k++){const R=8+10*k;L.push({css:g.channels.toCss(R,R,R),rgba:g.channels.toRgba(R,R,R)})}return L})());let v=class extends C.Disposable{constructor(L){super(),this._optionsService=L,this._onChangeColors=this.register(new E.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new p.ColorContrastCache,this._colors={foreground:s,background:c,cursor:a,cursorAccent:o,selectionForeground:void 0,selectionBackgroundTransparent:h,selectionBackgroundOpaque:g.color.blend(c,h),selectionInactiveBackgroundTransparent:h,selectionInactiveBackgroundOpaque:g.color.blend(c,h),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(L={}){const _=this._colors;if(_.foreground=w(L.foreground,s),_.background=w(L.background,c),_.cursor=w(L.cursor,a),_.cursorAccent=w(L.cursorAccent,o),_.selectionBackgroundTransparent=w(L.selectionBackground,h),_.selectionBackgroundOpaque=g.color.blend(_.background,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundTransparent=w(L.selectionInactiveBackground,_.selectionBackgroundTransparent),_.selectionInactiveBackgroundOpaque=g.color.blend(_.background,_.selectionInactiveBackgroundTransparent),_.selectionForeground=L.selectionForeground?w(L.selectionForeground,g.NULL_COLOR):void 0,_.selectionForeground===g.NULL_COLOR&&(_.selectionForeground=void 0),g.color.isOpaque(_.selectionBackgroundTransparent)&&(_.selectionBackgroundTransparent=g.color.opacity(_.selectionBackgroundTransparent,.3)),g.color.isOpaque(_.selectionInactiveBackgroundTransparent)&&(_.selectionInactiveBackgroundTransparent=g.color.opacity(_.selectionInactiveBackgroundTransparent,.3)),_.ansi=n.DEFAULT_ANSI_COLORS.slice(),_.ansi[0]=w(L.black,n.DEFAULT_ANSI_COLORS[0]),_.ansi[1]=w(L.red,n.DEFAULT_ANSI_COLORS[1]),_.ansi[2]=w(L.green,n.DEFAULT_ANSI_COLORS[2]),_.ansi[3]=w(L.yellow,n.DEFAULT_ANSI_COLORS[3]),_.ansi[4]=w(L.blue,n.DEFAULT_ANSI_COLORS[4]),_.ansi[5]=w(L.magenta,n.DEFAULT_ANSI_COLORS[5]),_.ansi[6]=w(L.cyan,n.DEFAULT_ANSI_COLORS[6]),_.ansi[7]=w(L.white,n.DEFAULT_ANSI_COLORS[7]),_.ansi[8]=w(L.brightBlack,n.DEFAULT_ANSI_COLORS[8]),_.ansi[9]=w(L.brightRed,n.DEFAULT_ANSI_COLORS[9]),_.ansi[10]=w(L.brightGreen,n.DEFAULT_ANSI_COLORS[10]),_.ansi[11]=w(L.brightYellow,n.DEFAULT_ANSI_COLORS[11]),_.ansi[12]=w(L.brightBlue,n.DEFAULT_ANSI_COLORS[12]),_.ansi[13]=w(L.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),_.ansi[14]=w(L.brightCyan,n.DEFAULT_ANSI_COLORS[14]),_.ansi[15]=w(L.brightWhite,n.DEFAULT_ANSI_COLORS[15]),L.extendedAnsi){const k=Math.min(_.ansi.length-16,L.extendedAnsi.length);for(let R=0;R<k;R++)_.ansi[R+16]=w(L.extendedAnsi[R],n.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(L){this._restoreColor(L),this._onChangeColors.fire(this.colors)}_restoreColor(L){if(L!==void 0)switch(L){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[L]=this._restoreColors.ansi[L]}else for(let _=0;_<this._restoreColors.ansi.length;++_)this._colors.ansi[_]=this._restoreColors.ansi[_]}modifyColors(L){L(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function w(L,_){if(L!==void 0)try{return g.css.toColor(L)}catch{}return _}v=f([y(0,m.IOptionsService)],v),n.ThemeService=v},6349:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;const f=u(8460),y=u(844);class p extends y.Disposable{constructor(E){super(),this._maxLength=E,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(E){if(this._maxLength===E)return;const C=new Array(E);for(let m=0;m<Math.min(E,this.length);m++)C[m]=this._array[this._getCyclicIndex(m)];this._array=C,this._maxLength=E,this._startIndex=0}get length(){return this._length}set length(E){if(E>this._length)for(let C=this._length;C<E;C++)this._array[C]=void 0;this._length=E}get(E){return this._array[this._getCyclicIndex(E)]}set(E,C){this._array[this._getCyclicIndex(E)]=C}push(E){this._array[this._getCyclicIndex(this._length)]=E,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(E,C,...m){if(C){for(let s=E;s<this._length-C;s++)this._array[this._getCyclicIndex(s)]=this._array[this._getCyclicIndex(s+C)];this._length-=C,this.onDeleteEmitter.fire({index:E,amount:C})}for(let s=this._length-1;s>=E;s--)this._array[this._getCyclicIndex(s+m.length)]=this._array[this._getCyclicIndex(s)];for(let s=0;s<m.length;s++)this._array[this._getCyclicIndex(E+s)]=m[s];if(m.length&&this.onInsertEmitter.fire({index:E,amount:m.length}),this._length+m.length>this._maxLength){const s=this._length+m.length-this._maxLength;this._startIndex+=s,this._length=this._maxLength,this.onTrimEmitter.fire(s)}else this._length+=m.length}trimStart(E){E>this._length&&(E=this._length),this._startIndex+=E,this._length-=E,this.onTrimEmitter.fire(E)}shiftElements(E,C,m){if(!(C<=0)){if(E<0||E>=this._length)throw new Error("start argument out of range");if(E+m<0)throw new Error("Cannot shift elements in list beyond index 0");if(m>0){for(let c=C-1;c>=0;c--)this.set(E+c+m,this.get(E+c));const s=E+C+m-this._length;if(s>0)for(this._length+=s;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let s=0;s<C;s++)this.set(E+s+m,this.get(E+s))}}_getCyclicIndex(E){return(this._startIndex+E)%this._maxLength}}n.CircularList=p},1439:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function u(f,y=5){if(typeof f!="object")return f;const p=Array.isArray(f)?[]:{};for(const g in f)p[g]=y<=1?f[g]:f[g]&&u(f[g],y-1);return p}},8055:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=n.NULL_COLOR=void 0;const f=u(6114);let y=0,p=0,g=0,E=0;var C,m,s;function c(o){const h=o.toString(16);return h.length<2?"0"+h:h}function a(o,h){return o<h?(h+.05)/(o+.05):(o+.05)/(h+.05)}n.NULL_COLOR={css:"#00000000",rgba:0},function(o){o.toCss=function(h,v,w,L){return L!==void 0?`#${c(h)}${c(v)}${c(w)}${c(L)}`:`#${c(h)}${c(v)}${c(w)}`},o.toRgba=function(h,v,w,L=255){return(h<<24|v<<16|w<<8|L)>>>0}}(C=n.channels||(n.channels={})),function(o){function h(v,w){return E=Math.round(255*w),[y,p,g]=s.toChannels(v.rgba),{css:C.toCss(y,p,g,E),rgba:C.toRgba(y,p,g,E)}}o.blend=function(v,w){if(E=(255&w.rgba)/255,E===1)return{css:w.css,rgba:w.rgba};const L=w.rgba>>24&255,_=w.rgba>>16&255,k=w.rgba>>8&255,R=v.rgba>>24&255,A=v.rgba>>16&255,M=v.rgba>>8&255;return y=R+Math.round((L-R)*E),p=A+Math.round((_-A)*E),g=M+Math.round((k-M)*E),{css:C.toCss(y,p,g),rgba:C.toRgba(y,p,g)}},o.isOpaque=function(v){return(255&v.rgba)==255},o.ensureContrastRatio=function(v,w,L){const _=s.ensureContrastRatio(v.rgba,w.rgba,L);if(_)return s.toColor(_>>24&255,_>>16&255,_>>8&255)},o.opaque=function(v){const w=(255|v.rgba)>>>0;return[y,p,g]=s.toChannels(w),{css:C.toCss(y,p,g),rgba:w}},o.opacity=h,o.multiplyOpacity=function(v,w){return E=255&v.rgba,h(v,E*w/255)},o.toColorRGB=function(v){return[v.rgba>>24&255,v.rgba>>16&255,v.rgba>>8&255]}}(n.color||(n.color={})),function(o){let h,v;if(!f.isNode){const w=document.createElement("canvas");w.width=1,w.height=1;const L=w.getContext("2d",{willReadFrequently:!0});L&&(h=L,h.globalCompositeOperation="copy",v=h.createLinearGradient(0,0,1,1))}o.toColor=function(w){if(w.match(/#[\da-f]{3,8}/i))switch(w.length){case 4:return y=parseInt(w.slice(1,2).repeat(2),16),p=parseInt(w.slice(2,3).repeat(2),16),g=parseInt(w.slice(3,4).repeat(2),16),s.toColor(y,p,g);case 5:return y=parseInt(w.slice(1,2).repeat(2),16),p=parseInt(w.slice(2,3).repeat(2),16),g=parseInt(w.slice(3,4).repeat(2),16),E=parseInt(w.slice(4,5).repeat(2),16),s.toColor(y,p,g,E);case 7:return{css:w,rgba:(parseInt(w.slice(1),16)<<8|255)>>>0};case 9:return{css:w,rgba:parseInt(w.slice(1),16)>>>0}}const L=w.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(L)return y=parseInt(L[1]),p=parseInt(L[2]),g=parseInt(L[3]),E=Math.round(255*(L[5]===void 0?1:parseFloat(L[5]))),s.toColor(y,p,g,E);if(!h||!v)throw new Error("css.toColor: Unsupported css format");if(h.fillStyle=v,h.fillStyle=w,typeof h.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(h.fillRect(0,0,1,1),[y,p,g,E]=h.getImageData(0,0,1,1).data,E!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:C.toRgba(y,p,g,E),css:w}}}(n.css||(n.css={})),function(o){function h(v,w,L){const _=v/255,k=w/255,R=L/255;return .2126*(_<=.03928?_/12.92:Math.pow((_+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}o.relativeLuminance=function(v){return h(v>>16&255,v>>8&255,255&v)},o.relativeLuminance2=h}(m=n.rgb||(n.rgb={})),function(o){function h(w,L,_){const k=w>>24&255,R=w>>16&255,A=w>>8&255;let M=L>>24&255,B=L>>16&255,H=L>>8&255,U=a(m.relativeLuminance2(M,B,H),m.relativeLuminance2(k,R,A));for(;U<_&&(M>0||B>0||H>0);)M-=Math.max(0,Math.ceil(.1*M)),B-=Math.max(0,Math.ceil(.1*B)),H-=Math.max(0,Math.ceil(.1*H)),U=a(m.relativeLuminance2(M,B,H),m.relativeLuminance2(k,R,A));return(M<<24|B<<16|H<<8|255)>>>0}function v(w,L,_){const k=w>>24&255,R=w>>16&255,A=w>>8&255;let M=L>>24&255,B=L>>16&255,H=L>>8&255,U=a(m.relativeLuminance2(M,B,H),m.relativeLuminance2(k,R,A));for(;U<_&&(M<255||B<255||H<255);)M=Math.min(255,M+Math.ceil(.1*(255-M))),B=Math.min(255,B+Math.ceil(.1*(255-B))),H=Math.min(255,H+Math.ceil(.1*(255-H))),U=a(m.relativeLuminance2(M,B,H),m.relativeLuminance2(k,R,A));return(M<<24|B<<16|H<<8|255)>>>0}o.ensureContrastRatio=function(w,L,_){const k=m.relativeLuminance(w>>8),R=m.relativeLuminance(L>>8);if(a(k,R)<_){if(R<k){const B=h(w,L,_),H=a(k,m.relativeLuminance(B>>8));if(H<_){const U=v(w,L,_);return H>a(k,m.relativeLuminance(U>>8))?B:U}return B}const A=v(w,L,_),M=a(k,m.relativeLuminance(A>>8));if(M<_){const B=h(w,L,_);return M>a(k,m.relativeLuminance(B>>8))?A:B}return A}},o.reduceLuminance=h,o.increaseLuminance=v,o.toChannels=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},o.toColor=function(w,L,_,k){return{css:C.toCss(w,L,_,k),rgba:C.toRgba(w,L,_,k)}}}(s=n.rgba||(n.rgba={})),n.toPaddedHex=c,n.contrastRatio=a},8969:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;const f=u(844),y=u(2585),p=u(4348),g=u(7866),E=u(744),C=u(7302),m=u(6975),s=u(8460),c=u(1753),a=u(1480),o=u(7994),h=u(9282),v=u(5435),w=u(5981),L=u(2660);let _=!1;class k extends f.Disposable{constructor(A){super(),this._onBinary=this.register(new s.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new s.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new s.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new s.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new s.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new s.EventEmitter),this._instantiationService=new p.InstantiationService,this.optionsService=this.register(new C.OptionsService(A)),this._instantiationService.setService(y.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(E.BufferService)),this._instantiationService.setService(y.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(y.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(m.CoreService)),this._instantiationService.setService(y.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(c.CoreMouseService)),this._instantiationService.setService(y.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(a.UnicodeService)),this._instantiationService.setService(y.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(o.CharsetService),this._instantiationService.setService(y.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(L.OscLinkService),this._instantiationService.setService(y.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new v.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,s.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,s.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,s.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,s.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onSpecificOptionChange("windowsMode",M=>this._handleWindowsModeOptionChange(M))),this.register(this._bufferService.onScroll(M=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(M=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new w.WriteBuffer((M,B)=>this._inputHandler.parse(M,B))),this.register((0,s.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,f.toDisposable)(()=>{var M;(M=this._windowsMode)===null||M===void 0||M.dispose(),this._windowsMode=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new s.EventEmitter),this._onScroll.event(A=>{var M;(M=this._onScrollApi)===null||M===void 0||M.fire(A.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(A){for(const M in A)this.optionsService.options[M]=A[M]}write(A,M){this._writeBuffer.write(A,M)}writeSync(A,M){this._logService.logLevel<=y.LogLevelEnum.WARN&&!_&&(this._logService.warn("writeSync is unreliable and will be removed soon."),_=!0),this._writeBuffer.writeSync(A,M)}resize(A,M){isNaN(A)||isNaN(M)||(A=Math.max(A,E.MINIMUM_COLS),M=Math.max(M,E.MINIMUM_ROWS),this._bufferService.resize(A,M))}scroll(A,M=!1){this._bufferService.scroll(A,M)}scrollLines(A,M,B){this._bufferService.scrollLines(A,M,B)}scrollPages(A){this._bufferService.scrollPages(A)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(A){this._bufferService.scrollToLine(A)}registerEscHandler(A,M){return this._inputHandler.registerEscHandler(A,M)}registerDcsHandler(A,M){return this._inputHandler.registerDcsHandler(A,M)}registerCsiHandler(A,M){return this._inputHandler.registerCsiHandler(A,M)}registerOscHandler(A,M){return this._inputHandler.registerOscHandler(A,M)}_setup(){this.optionsService.rawOptions.windowsMode&&this._enableWindowsMode()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsModeOptionChange(A){var M;A?this._enableWindowsMode():((M=this._windowsMode)===null||M===void 0||M.dispose(),this._windowsMode=void 0)}_enableWindowsMode(){if(!this._windowsMode){const A=[];A.push(this.onLineFeed(h.updateWindowsModeWrappedState.bind(null,this._bufferService))),A.push(this.registerCsiHandler({final:"H"},()=>((0,h.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsMode={dispose:()=>{for(const M of A)M.dispose()}}}}}n.CoreTerminal=k},8460:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=u=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===u)return void this._listeners.splice(f,1)}}})),this._event}fire(u,f){const y=[];for(let p=0;p<this._listeners.length;p++)y.push(this._listeners[p]);for(let p=0;p<y.length;p++)y[p].call(void 0,u,f)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},n.forwardEvent=function(u,f){return u(y=>f.fire(y))}},5435:function(S,n,u){var f=this&&this.__decorate||function($,b,x,T){var D,F=arguments.length,z=F<3?b:T===null?T=Object.getOwnPropertyDescriptor(b,x):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate($,b,x,T);else for(var Y=$.length-1;Y>=0;Y--)(D=$[Y])&&(z=(F<3?D(z):F>3?D(b,x,z):D(b,x))||z);return F>3&&z&&Object.defineProperty(b,x,z),z},y=this&&this.__param||function($,b){return function(x,T){b(x,T,$)}};Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;const p=u(2584),g=u(7116),E=u(2015),C=u(844),m=u(482),s=u(8437),c=u(8460),a=u(643),o=u(511),h=u(3734),v=u(2585),w=u(6242),L=u(6351),_=u(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},R=131072;function A($,b){if($>24)return b.setWinLines||!1;switch($){case 1:return!!b.restoreWin;case 2:return!!b.minimizeWin;case 3:return!!b.setWinPosition;case 4:return!!b.setWinSizePixels;case 5:return!!b.raiseWin;case 6:return!!b.lowerWin;case 7:return!!b.refreshWin;case 8:return!!b.setWinSizeChars;case 9:return!!b.maximizeWin;case 10:return!!b.fullscreenWin;case 11:return!!b.getWinState;case 13:return!!b.getWinPosition;case 14:return!!b.getWinSizePixels;case 15:return!!b.getScreenSizePixels;case 16:return!!b.getCellSizePixels;case 18:return!!b.getWinSizeChars;case 19:return!!b.getScreenSizeChars;case 20:return!!b.getIconTitle;case 21:return!!b.getWinTitle;case 22:return!!b.pushTitle;case 23:return!!b.popTitle;case 24:return!!b.setWinLines}return!1}var M;(function($){$[$.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",$[$.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(M=n.WindowsOptionsReportType||(n.WindowsOptionsReportType={}));let B=0;class H extends C.Disposable{constructor(b,x,T,D,F,z,Y,W,X=new E.EscapeSequenceParser){super(),this._bufferService=b,this._charsetService=x,this._coreService=T,this._logService=D,this._optionsService=F,this._oscLinkService=z,this._coreMouseService=Y,this._unicodeService=W,this._parser=X,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new m.StringToUtf32,this._utf8Decoder=new m.Utf8ToUtf32,this._workCell=new o.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=s.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new c.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new c.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new c.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new c.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new c.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new c.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new c.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new c.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new c.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new c.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new c.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new U(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(P=>this._activeBuffer=P.activeBuffer)),this._parser.setCsiHandlerFallback((P,O)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(P),params:O.toArray()})}),this._parser.setEscHandlerFallback(P=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(P)})}),this._parser.setExecuteHandlerFallback(P=>{this._logService.debug("Unknown EXECUTE code: ",{code:P})}),this._parser.setOscHandlerFallback((P,O,I)=>{this._logService.debug("Unknown OSC code: ",{identifier:P,action:O,data:I})}),this._parser.setDcsHandlerFallback((P,O,I)=>{O==="HOOK"&&(I=I.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(P),action:O,payload:I})}),this._parser.setPrintHandler((P,O,I)=>this.print(P,O,I)),this._parser.registerCsiHandler({final:"@"},P=>this.insertChars(P)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},P=>this.scrollLeft(P)),this._parser.registerCsiHandler({final:"A"},P=>this.cursorUp(P)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},P=>this.scrollRight(P)),this._parser.registerCsiHandler({final:"B"},P=>this.cursorDown(P)),this._parser.registerCsiHandler({final:"C"},P=>this.cursorForward(P)),this._parser.registerCsiHandler({final:"D"},P=>this.cursorBackward(P)),this._parser.registerCsiHandler({final:"E"},P=>this.cursorNextLine(P)),this._parser.registerCsiHandler({final:"F"},P=>this.cursorPrecedingLine(P)),this._parser.registerCsiHandler({final:"G"},P=>this.cursorCharAbsolute(P)),this._parser.registerCsiHandler({final:"H"},P=>this.cursorPosition(P)),this._parser.registerCsiHandler({final:"I"},P=>this.cursorForwardTab(P)),this._parser.registerCsiHandler({final:"J"},P=>this.eraseInDisplay(P,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},P=>this.eraseInDisplay(P,!0)),this._parser.registerCsiHandler({final:"K"},P=>this.eraseInLine(P,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},P=>this.eraseInLine(P,!0)),this._parser.registerCsiHandler({final:"L"},P=>this.insertLines(P)),this._parser.registerCsiHandler({final:"M"},P=>this.deleteLines(P)),this._parser.registerCsiHandler({final:"P"},P=>this.deleteChars(P)),this._parser.registerCsiHandler({final:"S"},P=>this.scrollUp(P)),this._parser.registerCsiHandler({final:"T"},P=>this.scrollDown(P)),this._parser.registerCsiHandler({final:"X"},P=>this.eraseChars(P)),this._parser.registerCsiHandler({final:"Z"},P=>this.cursorBackwardTab(P)),this._parser.registerCsiHandler({final:"`"},P=>this.charPosAbsolute(P)),this._parser.registerCsiHandler({final:"a"},P=>this.hPositionRelative(P)),this._parser.registerCsiHandler({final:"b"},P=>this.repeatPrecedingCharacter(P)),this._parser.registerCsiHandler({final:"c"},P=>this.sendDeviceAttributesPrimary(P)),this._parser.registerCsiHandler({prefix:">",final:"c"},P=>this.sendDeviceAttributesSecondary(P)),this._parser.registerCsiHandler({final:"d"},P=>this.linePosAbsolute(P)),this._parser.registerCsiHandler({final:"e"},P=>this.vPositionRelative(P)),this._parser.registerCsiHandler({final:"f"},P=>this.hVPosition(P)),this._parser.registerCsiHandler({final:"g"},P=>this.tabClear(P)),this._parser.registerCsiHandler({final:"h"},P=>this.setMode(P)),this._parser.registerCsiHandler({prefix:"?",final:"h"},P=>this.setModePrivate(P)),this._parser.registerCsiHandler({final:"l"},P=>this.resetMode(P)),this._parser.registerCsiHandler({prefix:"?",final:"l"},P=>this.resetModePrivate(P)),this._parser.registerCsiHandler({final:"m"},P=>this.charAttributes(P)),this._parser.registerCsiHandler({final:"n"},P=>this.deviceStatus(P)),this._parser.registerCsiHandler({prefix:"?",final:"n"},P=>this.deviceStatusPrivate(P)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},P=>this.softReset(P)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},P=>this.setCursorStyle(P)),this._parser.registerCsiHandler({final:"r"},P=>this.setScrollRegion(P)),this._parser.registerCsiHandler({final:"s"},P=>this.saveCursor(P)),this._parser.registerCsiHandler({final:"t"},P=>this.windowOptions(P)),this._parser.registerCsiHandler({final:"u"},P=>this.restoreCursor(P)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},P=>this.insertColumns(P)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},P=>this.deleteColumns(P)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},P=>this.selectProtected(P)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},P=>this.requestMode(P,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},P=>this.requestMode(P,!1)),this._parser.setExecuteHandler(p.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(p.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(p.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(p.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(p.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(p.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(p.C1.IND,()=>this.index()),this._parser.setExecuteHandler(p.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(p.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new w.OscHandler(P=>(this.setTitle(P),this.setIconName(P),!0))),this._parser.registerOscHandler(1,new w.OscHandler(P=>this.setIconName(P))),this._parser.registerOscHandler(2,new w.OscHandler(P=>this.setTitle(P))),this._parser.registerOscHandler(4,new w.OscHandler(P=>this.setOrReportIndexedColor(P))),this._parser.registerOscHandler(8,new w.OscHandler(P=>this.setHyperlink(P))),this._parser.registerOscHandler(10,new w.OscHandler(P=>this.setOrReportFgColor(P))),this._parser.registerOscHandler(11,new w.OscHandler(P=>this.setOrReportBgColor(P))),this._parser.registerOscHandler(12,new w.OscHandler(P=>this.setOrReportCursorColor(P))),this._parser.registerOscHandler(104,new w.OscHandler(P=>this.restoreIndexedColor(P))),this._parser.registerOscHandler(110,new w.OscHandler(P=>this.restoreFgColor(P))),this._parser.registerOscHandler(111,new w.OscHandler(P=>this.restoreBgColor(P))),this._parser.registerOscHandler(112,new w.OscHandler(P=>this.restoreCursorColor(P))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const P in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:P},()=>this.selectCharset("("+P)),this._parser.registerEscHandler({intermediates:")",final:P},()=>this.selectCharset(")"+P)),this._parser.registerEscHandler({intermediates:"*",final:P},()=>this.selectCharset("*"+P)),this._parser.registerEscHandler({intermediates:"+",final:P},()=>this.selectCharset("+"+P)),this._parser.registerEscHandler({intermediates:"-",final:P},()=>this.selectCharset("-"+P)),this._parser.registerEscHandler({intermediates:".",final:P},()=>this.selectCharset("."+P)),this._parser.registerEscHandler({intermediates:"/",final:P},()=>this.selectCharset("/"+P));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(P=>(this._logService.error("Parsing error: ",P),P)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new L.DcsHandler((P,O)=>this.requestStatusString(P,O)))}getAttrData(){return this._curAttrData}_preserveStack(b,x,T,D){this._parseStack.paused=!0,this._parseStack.cursorStartX=b,this._parseStack.cursorStartY=x,this._parseStack.decodedLength=T,this._parseStack.position=D}_logSlowResolvingAsync(b){this._logService.logLevel<=v.LogLevelEnum.WARN&&Promise.race([b,new Promise((x,T)=>setTimeout(()=>T("#SLOW_TIMEOUT"),5e3))]).catch(x=>{if(x!=="#SLOW_TIMEOUT")throw x;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(b,x){let T,D=this._activeBuffer.x,F=this._activeBuffer.y,z=0;const Y=this._parseStack.paused;if(Y){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,x))return this._logSlowResolvingAsync(T),T;D=this._parseStack.cursorStartX,F=this._parseStack.cursorStartY,this._parseStack.paused=!1,b.length>R&&(z=this._parseStack.position+R)}if(this._logService.logLevel<=v.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof b=="string"?` "${b}"`:` "${Array.prototype.map.call(b,W=>String.fromCharCode(W)).join("")}"`),typeof b=="string"?b.split("").map(W=>W.charCodeAt(0)):b),this._parseBuffer.length<b.length&&this._parseBuffer.length<R&&(this._parseBuffer=new Uint32Array(Math.min(b.length,R))),Y||this._dirtyRowTracker.clearRange(),b.length>R)for(let W=z;W<b.length;W+=R){const X=W+R<b.length?W+R:b.length,P=typeof b=="string"?this._stringDecoder.decode(b.substring(W,X),this._parseBuffer):this._utf8Decoder.decode(b.subarray(W,X),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,P))return this._preserveStack(D,F,P,W),this._logSlowResolvingAsync(T),T}else if(!Y){const W=typeof b=="string"?this._stringDecoder.decode(b,this._parseBuffer):this._utf8Decoder.decode(b,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,W))return this._preserveStack(D,F,W,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===D&&this._activeBuffer.y===F||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(b,x,T){let D,F;const z=this._charsetService.charset,Y=this._optionsService.rawOptions.screenReaderMode,W=this._bufferService.cols,X=this._coreService.decPrivateModes.wraparound,P=this._coreService.modes.insertMode,O=this._curAttrData;let I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-x>0&&I.getWidth(this._activeBuffer.x-1)===2&&I.setCellFromCodePoint(this._activeBuffer.x-1,0,1,O.fg,O.bg,O.extended);for(let N=x;N<T;++N){if(D=b[N],F=this._unicodeService.wcwidth(D),D<127&&z){const K=z[String.fromCharCode(D)];K&&(D=K.charCodeAt(0))}if(Y&&this._onA11yChar.fire((0,m.stringFromCodePoint)(D)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),F||!this._activeBuffer.x){if(this._activeBuffer.x+F-1>=W){if(X){for(;this._activeBuffer.x<W;)I.setCellFromCodePoint(this._activeBuffer.x++,0,1,O.fg,O.bg,O.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=W-1,F===2)continue}if(P&&(I.insertCells(this._activeBuffer.x,F,this._activeBuffer.getNullCell(O),O),I.getWidth(W-1)===2&&I.setCellFromCodePoint(W-1,a.NULL_CELL_CODE,a.NULL_CELL_WIDTH,O.fg,O.bg,O.extended)),I.setCellFromCodePoint(this._activeBuffer.x++,D,F,O.fg,O.bg,O.extended),F>0)for(;--F;)I.setCellFromCodePoint(this._activeBuffer.x++,0,0,O.fg,O.bg,O.extended)}else I.getWidth(this._activeBuffer.x-1)?I.addCodepointToCell(this._activeBuffer.x-1,D):I.addCodepointToCell(this._activeBuffer.x-2,D)}T-x>0&&(I.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<W&&T-x>0&&I.getWidth(this._activeBuffer.x)===0&&!I.hasContent(this._activeBuffer.x)&&I.setCellFromCodePoint(this._activeBuffer.x,0,1,O.fg,O.bg,O.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(b,x){return b.final!=="t"||b.prefix||b.intermediates?this._parser.registerCsiHandler(b,x):this._parser.registerCsiHandler(b,T=>!A(T.params[0],this._optionsService.rawOptions.windowOptions)||x(T))}registerDcsHandler(b,x){return this._parser.registerDcsHandler(b,new L.DcsHandler(x))}registerEscHandler(b,x){return this._parser.registerEscHandler(b,x)}registerOscHandler(b,x){return this._parser.registerOscHandler(b,new w.OscHandler(x))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var b;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((b=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||b===void 0)&&b.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);x.hasWidth(this._activeBuffer.x)&&!x.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const b=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-b),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(b=this._bufferService.cols-1){this._activeBuffer.x=Math.min(b,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(b,x){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=b,this._activeBuffer.y=this._activeBuffer.scrollTop+x):(this._activeBuffer.x=b,this._activeBuffer.y=x),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(b,x){this._restrictCursor(),this._setCursor(this._activeBuffer.x+b,this._activeBuffer.y+x)}cursorUp(b){const x=this._activeBuffer.y-this._activeBuffer.scrollTop;return x>=0?this._moveCursor(0,-Math.min(x,b.params[0]||1)):this._moveCursor(0,-(b.params[0]||1)),!0}cursorDown(b){const x=this._activeBuffer.scrollBottom-this._activeBuffer.y;return x>=0?this._moveCursor(0,Math.min(x,b.params[0]||1)):this._moveCursor(0,b.params[0]||1),!0}cursorForward(b){return this._moveCursor(b.params[0]||1,0),!0}cursorBackward(b){return this._moveCursor(-(b.params[0]||1),0),!0}cursorNextLine(b){return this.cursorDown(b),this._activeBuffer.x=0,!0}cursorPrecedingLine(b){return this.cursorUp(b),this._activeBuffer.x=0,!0}cursorCharAbsolute(b){return this._setCursor((b.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(b){return this._setCursor(b.length>=2?(b.params[1]||1)-1:0,(b.params[0]||1)-1),!0}charPosAbsolute(b){return this._setCursor((b.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(b){return this._moveCursor(b.params[0]||1,0),!0}linePosAbsolute(b){return this._setCursor(this._activeBuffer.x,(b.params[0]||1)-1),!0}vPositionRelative(b){return this._moveCursor(0,b.params[0]||1),!0}hVPosition(b){return this.cursorPosition(b),!0}tabClear(b){const x=b.params[0];return x===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:x===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(b){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let x=b.params[0]||1;for(;x--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(b){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let x=b.params[0]||1;for(;x--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(b){const x=b.params[0];return x===1&&(this._curAttrData.bg|=536870912),x!==2&&x!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(b,x,T,D=!1,F=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+b);z.replaceCells(x,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),F),D&&(z.isWrapped=!1)}_resetBufferLine(b,x=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+b);T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),x),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+b),T.isWrapped=!1}eraseInDisplay(b,x=!1){let T;switch(this._restrictCursor(this._bufferService.cols),b.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,x);T<this._bufferService.rows;T++)this._resetBufferLine(T,x);this._dirtyRowTracker.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,x),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,x);this._dirtyRowTracker.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowTracker.markDirty(T-1);T--;)this._resetBufferLine(T,x);this._dirtyRowTracker.markDirty(0);break;case 3:const D=this._activeBuffer.lines.length-this._bufferService.rows;D>0&&(this._activeBuffer.lines.trimStart(D),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-D,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-D,0),this._onScroll.fire(0))}return!0}eraseInLine(b,x=!1){switch(this._restrictCursor(this._bufferService.cols),b.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,x);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,x);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,x)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(b){this._restrictCursor();let x=b.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,D=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-D+1;for(;x--;)this._activeBuffer.lines.splice(F-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(b){this._restrictCursor();let x=b.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let D;for(D=this._bufferService.rows-1-this._activeBuffer.scrollBottom,D=this._bufferService.rows-1+this._activeBuffer.ybase-D;x--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(b){this._restrictCursor();const x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return x&&(x.insertCells(this._activeBuffer.x,b.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(b){this._restrictCursor();const x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return x&&(x.deleteCells(this._activeBuffer.x,b.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(b){let x=b.params[0]||1;for(;x--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(b){let x=b.params[0]||1;for(;x--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(s.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const x=b.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);D.deleteCells(0,x,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),D.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const x=b.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);D.insertCells(0,x,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),D.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const x=b.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);D.insertCells(this._activeBuffer.x,x,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),D.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const x=b.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);D.deleteCells(this._activeBuffer.x,x,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),D.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(b){this._restrictCursor();const x=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return x&&(x.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(b.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(b){if(!this._parser.precedingCodepoint)return!0;const x=b.params[0]||1,T=new Uint32Array(x);for(let D=0;D<x;++D)T[D]=this._parser.precedingCodepoint;return this.print(T,0,T.length),!0}sendDeviceAttributesPrimary(b){return b.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(b){return b.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(b.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0}_is(b){return(this._optionsService.rawOptions.termName+"").indexOf(b)===0}setMode(b){for(let x=0;x<b.length;x++)switch(b.params[x]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(b){for(let x=0;x<b.length;x++)switch(b.params[x]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(b){for(let x=0;x<b.length;x++)switch(b.params[x]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(b){for(let x=0;x<b.length;x++)switch(b.params[x]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),b.params[x]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(b,x){const T=this._coreService.decPrivateModes,{activeProtocol:D,activeEncoding:F}=this._coreMouseService,z=this._coreService,{buffers:Y,cols:W}=this._bufferService,{active:X,alt:P}=Y,O=this._optionsService.rawOptions,I=V=>V?1:2,N=b.params[0];return K=N,oe=x?N===2?3:N===4?I(z.modes.insertMode):N===12?4:N===20?I(O.convertEol):0:N===1?I(T.applicationCursorKeys):N===3?O.windowOptions.setWinLines?W===80?2:W===132?1:0:0:N===6?I(T.origin):N===7?I(T.wraparound):N===8?3:N===9?I(D==="X10"):N===12?I(O.cursorBlink):N===25?I(!z.isCursorHidden):N===45?I(T.reverseWraparound):N===66?I(T.applicationKeypad):N===1e3?I(D==="VT200"):N===1002?I(D==="DRAG"):N===1003?I(D==="ANY"):N===1004?I(T.sendFocus):N===1005?4:N===1006?I(F==="SGR"):N===1015?4:N===1016?I(F==="SGR_PIXELS"):N===1048?1:N===47||N===1047||N===1049?I(X===P):N===2004?I(T.bracketedPasteMode):0,z.triggerDataEvent(`${p.C0.ESC}[${x?"":"?"}${K};${oe}$y`),!0;var K,oe}_updateAttrColor(b,x,T,D,F){return x===2?(b|=50331648,b&=-16777216,b|=h.AttributeData.fromColorRGB([T,D,F])):x===5&&(b&=-50331904,b|=33554432|255&T),b}_extractColor(b,x,T){const D=[0,0,-1,0,0,0];let F=0,z=0;do{if(D[z+F]=b.params[x+z],b.hasSubParams(x+z)){const Y=b.getSubParams(x+z);let W=0;do D[1]===5&&(F=1),D[z+W+1+F]=Y[W];while(++W<Y.length&&W+z+1+F<D.length);break}if(D[1]===5&&z+F>=2||D[1]===2&&z+F>=5)break;D[1]&&(F=1)}while(++z+x<b.length&&z+F<D.length);for(let Y=2;Y<D.length;++Y)D[Y]===-1&&(D[Y]=0);switch(D[0]){case 38:T.fg=this._updateAttrColor(T.fg,D[1],D[3],D[4],D[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,D[1],D[3],D[4],D[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,D[1],D[3],D[4],D[5])}return z}_processUnderline(b,x){x.extended=x.extended.clone(),(!~b||b>5)&&(b=1),x.extended.underlineStyle=b,x.fg|=268435456,b===0&&(x.fg&=-268435457),x.updateExtended()}_processSGR0(b){b.fg=s.DEFAULT_ATTR_DATA.fg,b.bg=s.DEFAULT_ATTR_DATA.bg,b.extended=b.extended.clone(),b.extended.underlineStyle=0,b.extended.underlineColor&=-67108864,b.updateExtended()}charAttributes(b){if(b.length===1&&b.params[0]===0)return this._processSGR0(this._curAttrData),!0;const x=b.length;let T;const D=this._curAttrData;for(let F=0;F<x;F++)T=b.params[F],T>=30&&T<=37?(D.fg&=-50331904,D.fg|=16777216|T-30):T>=40&&T<=47?(D.bg&=-50331904,D.bg|=16777216|T-40):T>=90&&T<=97?(D.fg&=-50331904,D.fg|=16777224|T-90):T>=100&&T<=107?(D.bg&=-50331904,D.bg|=16777224|T-100):T===0?this._processSGR0(D):T===1?D.fg|=134217728:T===3?D.bg|=67108864:T===4?(D.fg|=268435456,this._processUnderline(b.hasSubParams(F)?b.getSubParams(F)[0]:1,D)):T===5?D.fg|=536870912:T===7?D.fg|=67108864:T===8?D.fg|=1073741824:T===9?D.fg|=2147483648:T===2?D.bg|=134217728:T===21?this._processUnderline(2,D):T===22?(D.fg&=-134217729,D.bg&=-134217729):T===23?D.bg&=-67108865:T===24?(D.fg&=-268435457,this._processUnderline(0,D)):T===25?D.fg&=-536870913:T===27?D.fg&=-67108865:T===28?D.fg&=-1073741825:T===29?D.fg&=2147483647:T===39?(D.fg&=-67108864,D.fg|=16777215&s.DEFAULT_ATTR_DATA.fg):T===49?(D.bg&=-67108864,D.bg|=16777215&s.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?F+=this._extractColor(b,F,D):T===59?(D.extended=D.extended.clone(),D.extended.underlineColor=-1,D.updateExtended()):T===100?(D.fg&=-67108864,D.fg|=16777215&s.DEFAULT_ATTR_DATA.fg,D.bg&=-67108864,D.bg|=16777215&s.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(b){switch(b.params[0]){case 5:this._coreService.triggerDataEvent(`${p.C0.ESC}[0n`);break;case 6:const x=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[${x};${T}R`)}return!0}deviceStatusPrivate(b){if(b.params[0]===6){const x=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${p.C0.ESC}[?${x};${T}R`)}return!0}softReset(b){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(b){const x=b.params[0]||1;switch(x){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=x%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(b){const x=b.params[0]||1;let T;return(b.length<2||(T=b.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>x&&(this._activeBuffer.scrollTop=x-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(b){if(!A(b.params[0],this._optionsService.rawOptions.windowOptions))return!0;const x=b.length>1?b.params[1]:0;switch(b.params[0]){case 14:x!==2&&this._onRequestWindowsOptionsReport.fire(M.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(M.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${p.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:x!==0&&x!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),x!==0&&x!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:x!==0&&x!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),x!==0&&x!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(b){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(b){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(b){return this._windowTitle=b,this._onTitleChange.fire(b),!0}setIconName(b){return this._iconName=b,!0}setOrReportIndexedColor(b){const x=[],T=b.split(";");for(;T.length>1;){const D=T.shift(),F=T.shift();if(/^\d+$/.exec(D)){const z=parseInt(D);if(0<=z&&z<256)if(F==="?")x.push({type:0,index:z});else{const Y=(0,_.parseColor)(F);Y&&x.push({type:1,index:z,color:Y})}}}return x.length&&this._onColor.fire(x),!0}setHyperlink(b){const x=b.split(";");return!(x.length<2)&&(x[1]?this._createHyperlink(x[0],x[1]):!x[0]&&this._finishHyperlink())}_createHyperlink(b,x){this._getCurrentLinkId()&&this._finishHyperlink();const T=b.split(":");let D;const F=T.findIndex(z=>z.startsWith("id="));return F!==-1&&(D=T[F].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:D,uri:x}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(b,x){const T=b.split(";");for(let D=0;D<T.length&&!(x>=this._specialColors.length);++D,++x)if(T[D]==="?")this._onColor.fire([{type:0,index:this._specialColors[x]}]);else{const F=(0,_.parseColor)(T[D]);F&&this._onColor.fire([{type:1,index:this._specialColors[x],color:F}])}return!0}setOrReportFgColor(b){return this._setOrReportSpecialColor(b,0)}setOrReportBgColor(b){return this._setOrReportSpecialColor(b,1)}setOrReportCursorColor(b){return this._setOrReportSpecialColor(b,2)}restoreIndexedColor(b){if(!b)return this._onColor.fire([{type:2}]),!0;const x=[],T=b.split(";");for(let D=0;D<T.length;++D)if(/^\d+$/.exec(T[D])){const F=parseInt(T[D]);0<=F&&F<256&&x.push({type:2,index:F})}return x.length&&this._onColor.fire(x),!0}restoreFgColor(b){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(b){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(b){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(b){return b.length!==2?(this.selectDefaultCharset(),!0):(b[0]==="/"||this._charsetService.setgCharset(k[b[0]],g.CHARSETS[b[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const b=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,b,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=s.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=s.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(b){return this._charsetService.setgLevel(b),!0}screenAlignmentPattern(){const b=new o.CellData;b.content=4194304|"E".charCodeAt(0),b.fg=this._curAttrData.fg,b.bg=this._curAttrData.bg,this._setCursor(0,0);for(let x=0;x<this._bufferService.rows;++x){const T=this._activeBuffer.ybase+this._activeBuffer.y+x,D=this._activeBuffer.lines.get(T);D&&(D.fill(b),D.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(b,x){const T=this._bufferService.buffer,D=this._optionsService.rawOptions;return(F=>(this._coreService.triggerDataEvent(`${p.C0.ESC}${F}${p.C0.ESC}\\`),!0))(b==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:b==='"p'?'P1$r61;1"p':b==="r"?`P1$r${T.scrollTop+1};${T.scrollBottom+1}r`:b==="m"?"P1$r0m":b===" q"?`P1$r${{block:2,underline:4,bar:6}[D.cursorStyle]-(D.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(b,x){this._dirtyRowTracker.markRangeDirty(b,x)}}n.InputHandler=H;let U=class{constructor($){this._bufferService=$,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty($){$<this.start?this.start=$:$>this.end&&(this.end=$)}markRangeDirty($,b){$>b&&(B=$,$=b,b=B),$<this.start&&(this.start=$),b>this.end&&(this.end=b)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};U=f([y(0,v.IBufferService)],U)},844:(S,n)=>{function u(f){for(const y of f)y.dispose();f.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const y=this._disposables.indexOf(f);y!==-1&&this._disposables.splice(y,1)}},n.toDisposable=function(f){return{dispose:f}},n.disposeArray=u,n.getDisposeArrayDisposable=function(f){return{dispose:()=>u(f)}}},1505:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FourKeyMap=n.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(y,p,g){this._data[y]||(this._data[y]={}),this._data[y][p]=g}get(y,p){return this._data[y]?this._data[y][p]:void 0}clear(){this._data={}}}n.TwoKeyMap=u,n.FourKeyMap=class{constructor(){this._data=new u}set(f,y,p,g,E){this._data.get(f,y)||this._data.set(f,y,new u),this._data.get(f,y).set(p,g,E)}get(f,y,p,g){var E;return(E=this._data.get(f,y))===null||E===void 0?void 0:E.get(p,g)}clear(){this._data.clear()}}},6114:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isChromeOS=n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.getSafariVersion=n.isSafari=n.isLegacyEdge=n.isFirefox=n.isNode=void 0,n.isNode=typeof navigator>"u";const u=n.isNode?"node":navigator.userAgent,f=n.isNode?"node":navigator.platform;n.isFirefox=u.includes("Firefox"),n.isLegacyEdge=u.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(u),n.getSafariVersion=function(){if(!n.isSafari)return 0;const y=u.match(/Version\/(\d+)/);return y===null||y.length<2?0:parseInt(y[1])},n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),n.isIpad=f==="iPad",n.isIphone=f==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),n.isLinux=f.indexOf("Linux")>=0,n.isChromeOS=/\bCrOS\b/.test(u)},6106:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;let u=0;n.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(u=this._search(this._getKey(f),0,this._array.length-1),this._array.splice(u,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const y=this._getKey(f);if(y===void 0||(u=this._search(y,0,this._array.length-1),u===-1)||this._getKey(this._array[u])!==y)return!1;do if(this._array[u]===f)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===y);return!1}*getKeyIterator(f){if(this._array.length!==0&&(u=this._search(f,0,this._array.length-1),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===f))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===f)}forEachByKey(f,y){if(this._array.length!==0&&(u=this._search(f,0,this._array.length-1),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===f))do y(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===f)}values(){return this._array.values()}_search(f,y,p){if(p<y)return y;let g=Math.floor((y+p)/2);const E=this._getKey(this._array[g]);if(E>f)return this._search(f,y,g-1);if(E<f)return this._search(f,g+1,p);for(;g>0&&this._getKey(this._array[g-1])===f;)g--;return g}}},7226:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DebouncedIdleTask=n.IdleTaskQueue=n.PriorityTaskQueue=void 0;const f=u(6114);class y{constructor(){this._tasks=[],this._i=0}enqueue(E){this._tasks.push(E),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(E){this._idleCallback=void 0;let C=0,m=0,s=E.timeRemaining(),c=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),m=Math.max(C,m),c=E.timeRemaining(),1.5*m>c)return s-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(s-C))}ms`),void this._start();s=c}this.clear()}}class p extends y{_requestCallback(E){return setTimeout(()=>E(this._createDeadline(16)))}_cancelCallback(E){clearTimeout(E)}_createDeadline(E){const C=Date.now()+E;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}n.PriorityTaskQueue=p,n.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends y{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:p,n.DebouncedIdleTask=class{constructor(){this._queue=new n.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;const f=u(643);n.updateWindowsModeWrappedState=function(y){const p=y.buffer.lines.get(y.buffer.ybase+y.buffer.y-1),g=p==null?void 0:p.get(y.cols-1),E=y.buffer.lines.get(y.buffer.ybase+y.buffer.y);E&&g&&(E.isWrapped=g[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&g[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(p){return[p>>>16&255,p>>>8&255,255&p]}static fromColorRGB(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]}clone(){const p=new u;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}n.AttributeData=u;class f{constructor(p=0,g=0){this._ext=0,this._urlId=0,this._ext=p,this._urlId=g}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(p){this._ext=p}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(p){this._ext&=-469762049,this._ext|=p<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(p){this._ext&=-67108864,this._ext|=67108863&p}get urlId(){return this._urlId}set urlId(p){this._urlId=p}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}n.ExtendedAttrs=f},9092:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferStringIterator=n.Buffer=n.MAX_BUFFER_SIZE=void 0;const f=u(6349),y=u(8437),p=u(511),g=u(643),E=u(4634),C=u(4863),m=u(7116),s=u(3734),c=u(7226);n.MAX_BUFFER_SIZE=4294967295,n.Buffer=class{constructor(o,h,v){this._hasScrollback=o,this._optionsService=h,this._bufferService=v,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=y.DEFAULT_ATTR_DATA.clone(),this.savedCharset=m.DEFAULT_CHARSET,this.markers=[],this._nullCell=p.CellData.fromCharData([0,g.NULL_CELL_CHAR,g.NULL_CELL_WIDTH,g.NULL_CELL_CODE]),this._whitespaceCell=p.CellData.fromCharData([0,g.WHITESPACE_CELL_CHAR,g.WHITESPACE_CELL_WIDTH,g.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new c.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(o){return o?(this._nullCell.fg=o.fg,this._nullCell.bg=o.bg,this._nullCell.extended=o.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new s.ExtendedAttrs),this._nullCell}getWhitespaceCell(o){return o?(this._whitespaceCell.fg=o.fg,this._whitespaceCell.bg=o.bg,this._whitespaceCell.extended=o.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new s.ExtendedAttrs),this._whitespaceCell}getBlankLine(o,h){return new y.BufferLine(this._bufferService.cols,this.getNullCell(o),h)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const o=this.ybase+this.y-this.ydisp;return o>=0&&o<this._rows}_getCorrectBufferLength(o){if(!this._hasScrollback)return o;const h=o+this._optionsService.rawOptions.scrollback;return h>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:h}fillViewportRows(o){if(this.lines.length===0){o===void 0&&(o=y.DEFAULT_ATTR_DATA);let h=this._rows;for(;h--;)this.lines.push(this.getBlankLine(o))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(o,h){const v=this.getNullCell(y.DEFAULT_ATTR_DATA);let w=0;const L=this._getCorrectBufferLength(h);if(L>this.lines.maxLength&&(this.lines.maxLength=L),this.lines.length>0){if(this._cols<o)for(let k=0;k<this.lines.length;k++)w+=+this.lines.get(k).resize(o,v);let _=0;if(this._rows<h)for(let k=this._rows;k<h;k++)this.lines.length<h+this.ybase&&(this._optionsService.rawOptions.windowsMode?this.lines.push(new y.BufferLine(o,v)):this.ybase>0&&this.lines.length<=this.ybase+this.y+_+1?(this.ybase--,_++,this.ydisp>0&&this.ydisp--):this.lines.push(new y.BufferLine(o,v)));else for(let k=this._rows;k>h;k--)this.lines.length>h+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(L<this.lines.maxLength){const k=this.lines.length-L;k>0&&(this.lines.trimStart(k),this.ybase=Math.max(this.ybase-k,0),this.ydisp=Math.max(this.ydisp-k,0),this.savedY=Math.max(this.savedY-k,0)),this.lines.maxLength=L}this.x=Math.min(this.x,o-1),this.y=Math.min(this.y,h-1),_&&(this.y+=_),this.savedX=Math.min(this.savedX,o-1),this.scrollTop=0}if(this.scrollBottom=h-1,this._isReflowEnabled&&(this._reflow(o,h),this._cols>o))for(let _=0;_<this.lines.length;_++)w+=+this.lines.get(_).resize(o,v);this._cols=o,this._rows=h,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let o=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,o=!1);let h=0;for(;this._memoryCleanupPosition<this.lines.length;)if(h+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),h>100)return!0;return o}get _isReflowEnabled(){return this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(o,h){this._cols!==o&&(o>this._cols?this._reflowLarger(o,h):this._reflowSmaller(o,h))}_reflowLarger(o,h){const v=(0,E.reflowLargerGetLinesToRemove)(this.lines,this._cols,o,this.ybase+this.y,this.getNullCell(y.DEFAULT_ATTR_DATA));if(v.length>0){const w=(0,E.reflowLargerCreateNewLayout)(this.lines,v);(0,E.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(o,h,w.countRemoved)}}_reflowLargerAdjustViewport(o,h,v){const w=this.getNullCell(y.DEFAULT_ATTR_DATA);let L=v;for(;L-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<h&&this.lines.push(new y.BufferLine(o,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-v,0)}_reflowSmaller(o,h){const v=this.getNullCell(y.DEFAULT_ATTR_DATA),w=[];let L=0;for(let _=this.lines.length-1;_>=0;_--){let k=this.lines.get(_);if(!k||!k.isWrapped&&k.getTrimmedLength()<=o)continue;const R=[k];for(;k.isWrapped&&_>0;)k=this.lines.get(--_),R.unshift(k);const A=this.ybase+this.y;if(A>=_&&A<_+R.length)continue;const M=R[R.length-1].getTrimmedLength(),B=(0,E.reflowSmallerGetNewLineLengths)(R,this._cols,o),H=B.length-R.length;let U;U=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+H):Math.max(0,this.lines.length-this.lines.maxLength+H);const $=[];for(let z=0;z<H;z++){const Y=this.getBlankLine(y.DEFAULT_ATTR_DATA,!0);$.push(Y)}$.length>0&&(w.push({start:_+R.length+L,newLines:$}),L+=$.length),R.push(...$);let b=B.length-1,x=B[b];x===0&&(b--,x=B[b]);let T=R.length-H-1,D=M;for(;T>=0;){const z=Math.min(D,x);if(R[b]===void 0)break;if(R[b].copyCellsFrom(R[T],D-z,x-z,z,!0),x-=z,x===0&&(b--,x=B[b]),D-=z,D===0){T--;const Y=Math.max(T,0);D=(0,E.getWrappedLineTrimmedLength)(R,Y,this._cols)}}for(let z=0;z<R.length;z++)B[z]<o&&R[z].setCell(B[z],v);let F=H-U;for(;F-- >0;)this.ybase===0?this.y<h-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+L)-h&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+H,this.ybase+h-1)}if(w.length>0){const _=[],k=[];for(let b=0;b<this.lines.length;b++)k.push(this.lines.get(b));const R=this.lines.length;let A=R-1,M=0,B=w[M];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+L);let H=0;for(let b=Math.min(this.lines.maxLength-1,R+L-1);b>=0;b--)if(B&&B.start>A+H){for(let x=B.newLines.length-1;x>=0;x--)this.lines.set(b--,B.newLines[x]);b++,_.push({index:A+1,amount:B.newLines.length}),H+=B.newLines.length,B=w[++M]}else this.lines.set(b,k[A--]);let U=0;for(let b=_.length-1;b>=0;b--)_[b].index+=U,this.lines.onInsertEmitter.fire(_[b]),U+=_[b].amount;const $=Math.max(0,R+L-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}stringIndexToBufferIndex(o,h,v=!1){for(;h;){const w=this.lines.get(o);if(!w)return[-1,-1];const L=v?w.getTrimmedLength():w.length;for(let _=0;_<L;++_)if(w.get(_)[g.CHAR_DATA_WIDTH_INDEX]&&(h-=w.get(_)[g.CHAR_DATA_CHAR_INDEX].length||1),h<0)return[o,_];o++}return[o,0]}translateBufferLineToString(o,h,v=0,w){const L=this.lines.get(o);return L?L.translateToString(h,v,w):""}getWrappedRangeForLine(o){let h=o,v=o;for(;h>0&&this.lines.get(h).isWrapped;)h--;for(;v+1<this.lines.length&&this.lines.get(v+1).isWrapped;)v++;return{first:h,last:v}}setupTabStops(o){for(o!=null?this.tabs[o]||(o=this.prevStop(o)):(this.tabs={},o=0);o<this._cols;o+=this._optionsService.rawOptions.tabStopWidth)this.tabs[o]=!0}prevStop(o){for(o==null&&(o=this.x);!this.tabs[--o]&&o>0;);return o>=this._cols?this._cols-1:o<0?0:o}nextStop(o){for(o==null&&(o=this.x);!this.tabs[++o]&&o<this._cols;);return o>=this._cols?this._cols-1:o<0?0:o}clearMarkers(o){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].line===o&&(this.markers[h].dispose(),this.markers.splice(h--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].dispose(),this.markers.splice(o--,1);this._isClearing=!1}addMarker(o){const h=new C.Marker(o);return this.markers.push(h),h.register(this.lines.onTrim(v=>{h.line-=v,h.line<0&&h.dispose()})),h.register(this.lines.onInsert(v=>{h.line>=v.index&&(h.line+=v.amount)})),h.register(this.lines.onDelete(v=>{h.line>=v.index&&h.line<v.index+v.amount&&h.dispose(),h.line>v.index&&(h.line-=v.amount)})),h.register(h.onDispose(()=>this._removeMarker(h))),h}_removeMarker(o){this._isClearing||this.markers.splice(this.markers.indexOf(o),1)}iterator(o,h,v,w,L){return new a(this,o,h,v,w,L)}};class a{constructor(h,v,w=0,L=h.lines.length,_=0,k=0){this._buffer=h,this._trimRight=v,this._startIndex=w,this._endIndex=L,this._startOverscan=_,this._endOverscan=k,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}hasNext(){return this._current<this._endIndex}next(){const h=this._buffer.getWrappedRangeForLine(this._current);h.first<this._startIndex-this._startOverscan&&(h.first=this._startIndex-this._startOverscan),h.last>this._endIndex+this._endOverscan&&(h.last=this._endIndex+this._endOverscan),h.first=Math.max(h.first,0),h.last=Math.min(h.last,this._buffer.lines.length);let v="";for(let w=h.first;w<=h.last;++w)v+=this._buffer.translateBufferLineToString(w,this._trimRight);return this._current=h.last+1,{range:h,content:v}}}n.BufferStringIterator=a},8437:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;const f=u(482),y=u(643),p=u(511),g=u(3734);n.DEFAULT_ATTR_DATA=Object.freeze(new g.AttributeData);let E=0;class C{constructor(s,c,a=!1){this.isWrapped=a,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*s);const o=c||p.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]);for(let h=0;h<s;++h)this.setCell(h,o);this.length=s}get(s){const c=this._data[3*s+0],a=2097151&c;return[this._data[3*s+1],2097152&c?this._combined[s]:a?(0,f.stringFromCodePoint)(a):"",c>>22,2097152&c?this._combined[s].charCodeAt(this._combined[s].length-1):a]}set(s,c){this._data[3*s+1]=c[y.CHAR_DATA_ATTR_INDEX],c[y.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[s]=c[1],this._data[3*s+0]=2097152|s|c[y.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*s+0]=c[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[y.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(s){return this._data[3*s+0]>>22}hasWidth(s){return 12582912&this._data[3*s+0]}getFg(s){return this._data[3*s+1]}getBg(s){return this._data[3*s+2]}hasContent(s){return 4194303&this._data[3*s+0]}getCodePoint(s){const c=this._data[3*s+0];return 2097152&c?this._combined[s].charCodeAt(this._combined[s].length-1):2097151&c}isCombined(s){return 2097152&this._data[3*s+0]}getString(s){const c=this._data[3*s+0];return 2097152&c?this._combined[s]:2097151&c?(0,f.stringFromCodePoint)(2097151&c):""}isProtected(s){return 536870912&this._data[3*s+2]}loadCell(s,c){return E=3*s,c.content=this._data[E+0],c.fg=this._data[E+1],c.bg=this._data[E+2],2097152&c.content&&(c.combinedData=this._combined[s]),268435456&c.bg&&(c.extended=this._extendedAttrs[s]),c}setCell(s,c){2097152&c.content&&(this._combined[s]=c.combinedData),268435456&c.bg&&(this._extendedAttrs[s]=c.extended),this._data[3*s+0]=c.content,this._data[3*s+1]=c.fg,this._data[3*s+2]=c.bg}setCellFromCodePoint(s,c,a,o,h,v){268435456&h&&(this._extendedAttrs[s]=v),this._data[3*s+0]=c|a<<22,this._data[3*s+1]=o,this._data[3*s+2]=h}addCodepointToCell(s,c){let a=this._data[3*s+0];2097152&a?this._combined[s]+=(0,f.stringFromCodePoint)(c):(2097151&a?(this._combined[s]=(0,f.stringFromCodePoint)(2097151&a)+(0,f.stringFromCodePoint)(c),a&=-2097152,a|=2097152):a=c|4194304,this._data[3*s+0]=a)}insertCells(s,c,a,o){if((s%=this.length)&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new g.ExtendedAttrs),c<this.length-s){const h=new p.CellData;for(let v=this.length-s-c-1;v>=0;--v)this.setCell(s+c+v,this.loadCell(s+v,h));for(let v=0;v<c;++v)this.setCell(s+v,a)}else for(let h=s;h<this.length;++h)this.setCell(h,a);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new g.ExtendedAttrs)}deleteCells(s,c,a,o){if(s%=this.length,c<this.length-s){const h=new p.CellData;for(let v=0;v<this.length-s-c;++v)this.setCell(s+v,this.loadCell(s+c+v,h));for(let v=this.length-c;v<this.length;++v)this.setCell(v,a)}else for(let h=s;h<this.length;++h)this.setCell(h,a);s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new g.ExtendedAttrs),this.getWidth(s)!==0||this.hasContent(s)||this.setCellFromCodePoint(s,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new g.ExtendedAttrs)}replaceCells(s,c,a,o,h=!1){if(h)for(s&&this.getWidth(s-1)===2&&!this.isProtected(s-1)&&this.setCellFromCodePoint(s-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new g.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&!this.isProtected(c)&&this.setCellFromCodePoint(c,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new g.ExtendedAttrs);s<c&&s<this.length;)this.isProtected(s)||this.setCell(s,a),s++;else for(s&&this.getWidth(s-1)===2&&this.setCellFromCodePoint(s-1,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new g.ExtendedAttrs),c<this.length&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c,0,1,(o==null?void 0:o.fg)||0,(o==null?void 0:o.bg)||0,(o==null?void 0:o.extended)||new g.ExtendedAttrs);s<c&&s<this.length;)this.setCell(s++,a)}resize(s,c){if(s===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const a=3*s;if(s>this.length){if(this._data.buffer.byteLength>=4*a)this._data=new Uint32Array(this._data.buffer,0,a);else{const o=new Uint32Array(a);o.set(this._data),this._data=o}for(let o=this.length;o<s;++o)this.setCell(o,c)}else{this._data=this._data.subarray(0,a);const o=Object.keys(this._combined);for(let v=0;v<o.length;v++){const w=parseInt(o[v],10);w>=s&&delete this._combined[w]}const h=Object.keys(this._extendedAttrs);for(let v=0;v<h.length;v++){const w=parseInt(h[v],10);w>=s&&delete this._extendedAttrs[w]}}return this.length=s,4*a*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const s=new Uint32Array(this._data.length);return s.set(this._data),this._data=s,1}return 0}fill(s,c=!1){if(c)for(let a=0;a<this.length;++a)this.isProtected(a)||this.setCell(a,s);else{this._combined={},this._extendedAttrs={};for(let a=0;a<this.length;++a)this.setCell(a,s)}}copyFrom(s){this.length!==s.length?this._data=new Uint32Array(s._data):this._data.set(s._data),this.length=s.length,this._combined={};for(const c in s._combined)this._combined[c]=s._combined[c];this._extendedAttrs={};for(const c in s._extendedAttrs)this._extendedAttrs[c]=s._extendedAttrs[c];this.isWrapped=s.isWrapped}clone(){const s=new C(0);s._data=new Uint32Array(this._data),s.length=this.length;for(const c in this._combined)s._combined[c]=this._combined[c];for(const c in this._extendedAttrs)s._extendedAttrs[c]=this._extendedAttrs[c];return s.isWrapped=this.isWrapped,s}getTrimmedLength(){for(let s=this.length-1;s>=0;--s)if(4194303&this._data[3*s+0])return s+(this._data[3*s+0]>>22);return 0}copyCellsFrom(s,c,a,o,h){const v=s._data;if(h)for(let L=o-1;L>=0;L--){for(let _=0;_<3;_++)this._data[3*(a+L)+_]=v[3*(c+L)+_];268435456&v[3*(c+L)+2]&&(this._extendedAttrs[a+L]=s._extendedAttrs[c+L])}else for(let L=0;L<o;L++){for(let _=0;_<3;_++)this._data[3*(a+L)+_]=v[3*(c+L)+_];268435456&v[3*(c+L)+2]&&(this._extendedAttrs[a+L]=s._extendedAttrs[c+L])}const w=Object.keys(s._combined);for(let L=0;L<w.length;L++){const _=parseInt(w[L],10);_>=c&&(this._combined[_-c+a]=s._combined[_])}}translateToString(s=!1,c=0,a=this.length){s&&(a=Math.min(a,this.getTrimmedLength()));let o="";for(;c<a;){const h=this._data[3*c+0],v=2097151&h;o+=2097152&h?this._combined[c]:v?(0,f.stringFromCodePoint)(v):y.WHITESPACE_CELL_CHAR,c+=h>>22||1}return o}}n.BufferLine=C},4841:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(u,f){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return f*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(S,n)=>{function u(f,y,p){if(y===f.length-1)return f[y].getTrimmedLength();const g=!f[y].hasContent(p-1)&&f[y].getWidth(p-1)===1,E=f[y+1].getWidth(0)===2;return g&&E?p-1:p}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(f,y,p,g,E){const C=[];for(let m=0;m<f.length-1;m++){let s=m,c=f.get(++s);if(!c.isWrapped)continue;const a=[f.get(m)];for(;s<f.length&&c.isWrapped;)a.push(c),c=f.get(++s);if(g>=m&&g<s){m+=a.length-1;continue}let o=0,h=u(a,o,y),v=1,w=0;for(;v<a.length;){const _=u(a,v,y),k=_-w,R=p-h,A=Math.min(k,R);a[o].copyCellsFrom(a[v],w,h,A,!1),h+=A,h===p&&(o++,h=0),w+=A,w===_&&(v++,w=0),h===0&&o!==0&&a[o-1].getWidth(p-1)===2&&(a[o].copyCellsFrom(a[o-1],p-1,h++,1,!1),a[o-1].setCell(p-1,E))}a[o].replaceCells(h,p,E);let L=0;for(let _=a.length-1;_>0&&(_>o||a[_].getTrimmedLength()===0);_--)L++;L>0&&(C.push(m+a.length-L),C.push(L)),m+=a.length-1}return C},n.reflowLargerCreateNewLayout=function(f,y){const p=[];let g=0,E=y[g],C=0;for(let m=0;m<f.length;m++)if(E===m){const s=y[++g];f.onDeleteEmitter.fire({index:m-C,amount:s}),m+=s-1,C+=s,E=y[++g]}else p.push(m);return{layout:p,countRemoved:C}},n.reflowLargerApplyNewLayout=function(f,y){const p=[];for(let g=0;g<y.length;g++)p.push(f.get(y[g]));for(let g=0;g<p.length;g++)f.set(g,p[g]);f.length=y.length},n.reflowSmallerGetNewLineLengths=function(f,y,p){const g=[],E=f.map((c,a)=>u(f,a,y)).reduce((c,a)=>c+a);let C=0,m=0,s=0;for(;s<E;){if(E-s<p){g.push(E-s);break}C+=p;const c=u(f,m,y);C>c&&(C-=c,m++);const a=f[m].getWidth(C-1)===2;a&&C--;const o=a?p-1:p;g.push(o),s+=o}return g},n.getWrappedLineTrimmedLength=u},5295:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;const f=u(9092),y=u(8460),p=u(844);class g extends p.Disposable{constructor(C,m){super(),this._optionsService=C,this._bufferService=m,this._onBufferActivate=this.register(new y.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,m){this._normal.resize(C,m),this._alt.resize(C,m),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}n.BufferSet=g},511:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;const f=u(482),y=u(643),p=u(3734);class g extends p.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new p.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const m=new g;return m.setFromCharData(C),m}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[y.CHAR_DATA_ATTR_INDEX],this.bg=0;let m=!1;if(C[y.CHAR_DATA_CHAR_INDEX].length>2)m=!0;else if(C[y.CHAR_DATA_CHAR_INDEX].length===2){const s=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=s&&s<=56319){const c=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(s-55296)+c-56320+65536|C[y.CHAR_DATA_WIDTH_INDEX]<<22:m=!0}else m=!0}else this.content=C[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[y.CHAR_DATA_WIDTH_INDEX]<<22;m&&(this.combinedData=C[y.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[y.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.CellData=g},643:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_EXT=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=0,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.DEFAULT_EXT=0,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;const f=u(8460),y=u(844);class p{constructor(E){this.line=E,this.isDisposed=!1,this._disposables=[],this._id=p._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,y.disposeArray)(this._disposables),this._disposables.length=0)}register(E){return this._disposables.push(E),E}}n.Marker=p,p._nextId=1},7116:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},n.CHARSETS.A={"#":"£"},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},n.CHARSETS.C=n.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},n.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},n.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},n.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},n.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},n.CHARSETS.E=n.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},n.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},n.CHARSETS.H=n.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},n.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(S,n)=>{var u,f;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(y){y.NUL="\0",y.SOH="",y.STX="",y.ETX="",y.EOT="",y.ENQ="",y.ACK="",y.BEL="\x07",y.BS="\b",y.HT="	",y.LF=`
`,y.VT="\v",y.FF="\f",y.CR="\r",y.SO="",y.SI="",y.DLE="",y.DC1="",y.DC2="",y.DC3="",y.DC4="",y.NAK="",y.SYN="",y.ETB="",y.CAN="",y.EM="",y.SUB="",y.ESC="\x1B",y.FS="",y.GS="",y.RS="",y.US="",y.SP=" ",y.DEL=""}(u=n.C0||(n.C0={})),(f=n.C1||(n.C1={})).PAD="",f.HOP="",f.BPH="",f.NBH="",f.IND="",f.NEL="",f.SSA="",f.ESA="",f.HTS="",f.HTJ="",f.VTS="",f.PLD="",f.PLU="",f.RI="",f.SS2="",f.SS3="",f.DCS="",f.PU1="",f.PU2="",f.STS="",f.CCH="",f.MW="",f.SPA="",f.EPA="",f.SOS="",f.SGCI="",f.SCI="",f.CSI="",f.ST="",f.OSC="",f.PM="",f.APC="",(n.C1_ESCAPED||(n.C1_ESCAPED={})).ST=`${u.ESC}\\`},7399:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;const f=u(2584),y={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(p,g,E,C){const m={type:0,cancel:!1,key:void 0},s=(p.shiftKey?1:0)|(p.altKey?2:0)|(p.ctrlKey?4:0)|(p.metaKey?8:0);switch(p.keyCode){case 0:p.key==="UIKeyInputUpArrow"?m.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A":p.key==="UIKeyInputLeftArrow"?m.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D":p.key==="UIKeyInputRightArrow"?m.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C":p.key==="UIKeyInputDownArrow"&&(m.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:if(p.altKey){m.key=f.C0.ESC+f.C0.DEL;break}m.key=f.C0.DEL;break;case 9:if(p.shiftKey){m.key=f.C0.ESC+"[Z";break}m.key=f.C0.HT,m.cancel=!0;break;case 13:m.key=p.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,m.cancel=!0;break;case 27:m.key=f.C0.ESC,p.altKey&&(m.key=f.C0.ESC+f.C0.ESC),m.cancel=!0;break;case 37:if(p.metaKey)break;s?(m.key=f.C0.ESC+"[1;"+(s+1)+"D",m.key===f.C0.ESC+"[1;3D"&&(m.key=f.C0.ESC+(E?"b":"[1;5D"))):m.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(p.metaKey)break;s?(m.key=f.C0.ESC+"[1;"+(s+1)+"C",m.key===f.C0.ESC+"[1;3C"&&(m.key=f.C0.ESC+(E?"f":"[1;5C"))):m.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(p.metaKey)break;s?(m.key=f.C0.ESC+"[1;"+(s+1)+"A",E||m.key!==f.C0.ESC+"[1;3A"||(m.key=f.C0.ESC+"[1;5A")):m.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(p.metaKey)break;s?(m.key=f.C0.ESC+"[1;"+(s+1)+"B",E||m.key!==f.C0.ESC+"[1;3B"||(m.key=f.C0.ESC+"[1;5B")):m.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:p.shiftKey||p.ctrlKey||(m.key=f.C0.ESC+"[2~");break;case 46:m.key=s?f.C0.ESC+"[3;"+(s+1)+"~":f.C0.ESC+"[3~";break;case 36:m.key=s?f.C0.ESC+"[1;"+(s+1)+"H":g?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:m.key=s?f.C0.ESC+"[1;"+(s+1)+"F":g?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:p.shiftKey?m.type=2:p.ctrlKey?m.key=f.C0.ESC+"[5;"+(s+1)+"~":m.key=f.C0.ESC+"[5~";break;case 34:p.shiftKey?m.type=3:p.ctrlKey?m.key=f.C0.ESC+"[6;"+(s+1)+"~":m.key=f.C0.ESC+"[6~";break;case 112:m.key=s?f.C0.ESC+"[1;"+(s+1)+"P":f.C0.ESC+"OP";break;case 113:m.key=s?f.C0.ESC+"[1;"+(s+1)+"Q":f.C0.ESC+"OQ";break;case 114:m.key=s?f.C0.ESC+"[1;"+(s+1)+"R":f.C0.ESC+"OR";break;case 115:m.key=s?f.C0.ESC+"[1;"+(s+1)+"S":f.C0.ESC+"OS";break;case 116:m.key=s?f.C0.ESC+"[15;"+(s+1)+"~":f.C0.ESC+"[15~";break;case 117:m.key=s?f.C0.ESC+"[17;"+(s+1)+"~":f.C0.ESC+"[17~";break;case 118:m.key=s?f.C0.ESC+"[18;"+(s+1)+"~":f.C0.ESC+"[18~";break;case 119:m.key=s?f.C0.ESC+"[19;"+(s+1)+"~":f.C0.ESC+"[19~";break;case 120:m.key=s?f.C0.ESC+"[20;"+(s+1)+"~":f.C0.ESC+"[20~";break;case 121:m.key=s?f.C0.ESC+"[21;"+(s+1)+"~":f.C0.ESC+"[21~";break;case 122:m.key=s?f.C0.ESC+"[23;"+(s+1)+"~":f.C0.ESC+"[23~";break;case 123:m.key=s?f.C0.ESC+"[24;"+(s+1)+"~":f.C0.ESC+"[24~";break;default:if(!p.ctrlKey||p.shiftKey||p.altKey||p.metaKey)if(E&&!C||!p.altKey||p.metaKey)!E||p.altKey||p.ctrlKey||p.shiftKey||!p.metaKey?p.key&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&p.keyCode>=48&&p.key.length===1?m.key=p.key:p.key&&p.ctrlKey&&(p.key==="_"&&(m.key=f.C0.US),p.key==="@"&&(m.key=f.C0.NUL)):p.keyCode===65&&(m.type=1);else{const c=y[p.keyCode],a=c==null?void 0:c[p.shiftKey?1:0];if(a)m.key=f.C0.ESC+a;else if(p.keyCode>=65&&p.keyCode<=90){const o=p.ctrlKey?p.keyCode-64:p.keyCode+32;let h=String.fromCharCode(o);p.shiftKey&&(h=h.toUpperCase()),m.key=f.C0.ESC+h}else if(p.keyCode===32)m.key=f.C0.ESC+(p.ctrlKey?f.C0.NUL:" ");else if(p.key==="Dead"&&p.code.startsWith("Key")){let o=p.code.slice(3,4);p.shiftKey||(o=o.toLowerCase()),m.key=f.C0.ESC+o,m.cancel=!0}}else p.keyCode>=65&&p.keyCode<=90?m.key=String.fromCharCode(p.keyCode-64):p.keyCode===32?m.key=f.C0.NUL:p.keyCode>=51&&p.keyCode<=55?m.key=String.fromCharCode(p.keyCode-51+27):p.keyCode===56?m.key=f.C0.DEL:p.keyCode===219?m.key=f.C0.ESC:p.keyCode===220?m.key=f.C0.FS:p.keyCode===221&&(m.key=f.C0.GS)}return m}},482:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},n.utf32ToString=function(u,f=0,y=u.length){let p="";for(let g=f;g<y;++g){let E=u[g];E>65535?(E-=65536,p+=String.fromCharCode(55296+(E>>10))+String.fromCharCode(E%1024+56320)):p+=String.fromCharCode(E)}return p},n.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,f){const y=u.length;if(!y)return 0;let p=0,g=0;if(this._interim){const E=u.charCodeAt(g++);56320<=E&&E<=57343?f[p++]=1024*(this._interim-55296)+E-56320+65536:(f[p++]=this._interim,f[p++]=E),this._interim=0}for(let E=g;E<y;++E){const C=u.charCodeAt(E);if(55296<=C&&C<=56319){if(++E>=y)return this._interim=C,p;const m=u.charCodeAt(E);56320<=m&&m<=57343?f[p++]=1024*(C-55296)+m-56320+65536:(f[p++]=C,f[p++]=m)}else C!==65279&&(f[p++]=C)}return p}},n.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,f){const y=u.length;if(!y)return 0;let p,g,E,C,m=0,s=0,c=0;if(this.interim[0]){let h=!1,v=this.interim[0];v&=(224&v)==192?31:(240&v)==224?15:7;let w,L=0;for(;(w=63&this.interim[++L])&&L<4;)v<<=6,v|=w;const _=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=_-L;for(;c<k;){if(c>=y)return 0;if(w=u[c++],(192&w)!=128){c--,h=!0;break}this.interim[L++]=w,v<<=6,v|=63&w}h||(_===2?v<128?c--:f[m++]=v:_===3?v<2048||v>=55296&&v<=57343||v===65279||(f[m++]=v):v<65536||v>1114111||(f[m++]=v)),this.interim.fill(0)}const a=y-4;let o=c;for(;o<y;){for(;!(!(o<a)||128&(p=u[o])||128&(g=u[o+1])||128&(E=u[o+2])||128&(C=u[o+3]));)f[m++]=p,f[m++]=g,f[m++]=E,f[m++]=C,o+=4;if(p=u[o++],p<128)f[m++]=p;else if((224&p)==192){if(o>=y)return this.interim[0]=p,m;if(g=u[o++],(192&g)!=128){o--;continue}if(s=(31&p)<<6|63&g,s<128){o--;continue}f[m++]=s}else if((240&p)==224){if(o>=y)return this.interim[0]=p,m;if(g=u[o++],(192&g)!=128){o--;continue}if(o>=y)return this.interim[0]=p,this.interim[1]=g,m;if(E=u[o++],(192&E)!=128){o--;continue}if(s=(15&p)<<12|(63&g)<<6|63&E,s<2048||s>=55296&&s<=57343||s===65279)continue;f[m++]=s}else if((248&p)==240){if(o>=y)return this.interim[0]=p,m;if(g=u[o++],(192&g)!=128){o--;continue}if(o>=y)return this.interim[0]=p,this.interim[1]=g,m;if(E=u[o++],(192&E)!=128){o--;continue}if(o>=y)return this.interim[0]=p,this.interim[1]=g,this.interim[2]=E,m;if(C=u[o++],(192&C)!=128){o--;continue}if(s=(7&p)<<18|(63&g)<<12|(63&E)<<6|63&C,s<65536||s>1114111)continue;f[m++]=s}}return m}}},225:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;const u=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],f=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let y;n.UnicodeV6=class{constructor(){if(this.version="6",!y){y=new Uint8Array(65536),y.fill(1),y[0]=0,y.fill(0,1,32),y.fill(0,127,160),y.fill(2,4352,4448),y[9001]=2,y[9002]=2,y.fill(2,11904,42192),y[12351]=1,y.fill(2,44032,55204),y.fill(2,63744,64256),y.fill(2,65040,65050),y.fill(2,65072,65136),y.fill(2,65280,65377),y.fill(2,65504,65511);for(let p=0;p<u.length;++p)y.fill(0,u[p][0],u[p][1]+1)}}wcwidth(p){return p<32?0:p<127?1:p<65536?y[p]:function(g,E){let C,m=0,s=E.length-1;if(g<E[0][0]||g>E[s][1])return!1;for(;s>=m;)if(C=m+s>>1,g>E[C][1])m=C+1;else{if(!(g<E[C][0]))return!0;s=C-1}return!1}(p,f)?0:p>=131072&&p<=196605||p>=196608&&p<=262141?2:1}}},5981:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;const f=u(8460),y=u(844);class p extends y.Disposable{constructor(E){super(),this._action=E,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(E,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let m;for(this._isSyncWriting=!0;m=this._writeBuffer.shift();){this._action(m);const s=this._callbacks.shift();s&&s()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(E,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=E.length,this._writeBuffer.push(E),this._callbacks.push(C)}_innerWrite(E=0,C=!0){const m=E||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const s=this._writeBuffer[this._bufferOffset],c=this._action(s,C);if(c){const o=h=>Date.now()-m>=12?setTimeout(()=>this._innerWrite(0,h)):this._innerWrite(m,h);return void c.catch(h=>(queueMicrotask(()=>{throw h}),Promise.resolve(!1))).then(o)}const a=this._callbacks[this._bufferOffset];if(a&&a(),this._bufferOffset++,this._pendingData-=s.length,Date.now()-m>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}n.WriteBuffer=p},5941:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function y(p,g){const E=p.toString(16),C=E.length<2?"0"+E:E;switch(g){case 4:return E[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}n.parseColor=function(p){if(!p)return;let g=p.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const E=u.exec(g);if(E){const C=E[1]?15:E[4]?255:E[7]?4095:65535;return[Math.round(parseInt(E[1]||E[4]||E[7]||E[10],16)/C*255),Math.round(parseInt(E[2]||E[5]||E[8]||E[11],16)/C*255),Math.round(parseInt(E[3]||E[6]||E[9]||E[12],16)/C*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),f.exec(g)&&[3,6,9,12].includes(g.length))){const E=g.length/3,C=[0,0,0];for(let m=0;m<3;++m){const s=parseInt(g.slice(E*m,E*m+E),16);C[m]=E===1?s<<4:E===2?s:E===3?s>>4:s>>8}return C}},n.toRgbString=function(p,g=16){const[E,C,m]=p;return`rgb:${y(E,g)}/${y(C,g)}/${y(m,g)}`}},5770:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;const f=u(482),y=u(8742),p=u(5770),g=[];n.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(C,m){this._handlers[C]===void 0&&(this._handlers[C]=[]);const s=this._handlers[C];return s.push(m),{dispose:()=>{const c=s.indexOf(m);c!==-1&&s.splice(c,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(C,m){if(this.reset(),this._ident=C,this._active=this._handlers[C]||g,this._active.length)for(let s=this._active.length-1;s>=0;s--)this._active[s].hook(m);else this._handlerFb(this._ident,"HOOK",m)}put(C,m,s){if(this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].put(C,m,s);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(C,m,s))}unhook(C,m=!0){if(this._active.length){let s=!1,c=this._active.length-1,a=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,s=m,a=this._stack.fallThrough,this._stack.paused=!1),!a&&s===!1){for(;c>=0&&(s=this._active[c].unhook(C),s!==!0);c--)if(s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,s;c--}for(;c>=0;c--)if(s=this._active[c].unhook(!1),s instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,s}else this._handlerFb(this._ident,"UNHOOK",C);this._active=g,this._ident=0}};const E=new y.Params;E.addParam(0),n.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=E,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():E,this._data="",this._hitLimit=!1}put(C,m,s){this._hitLimit||(this._data+=(0,f.utf32ToString)(C,m,s),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let m=!1;if(this._hitLimit)m=!1;else if(C&&(m=this._handler(this._data,this._params),m instanceof Promise))return m.then(s=>(this._params=E,this._data="",this._hitLimit=!1,s));return this._params=E,this._data="",this._hitLimit=!1,m}}},2015:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;const f=u(844),y=u(8742),p=u(6242),g=u(6351);class E{constructor(c){this.table=new Uint8Array(c)}setDefault(c,a){this.table.fill(c<<4|a)}add(c,a,o,h){this.table[a<<8|c]=o<<4|h}addMany(c,a,o,h){for(let v=0;v<c.length;v++)this.table[a<<8|c[v]]=o<<4|h}}n.TransitionTable=E;const C=160;n.VT500_TRANSITION_TABLE=function(){const s=new E(4095),c=Array.apply(null,Array(256)).map((L,_)=>_),a=(L,_)=>c.slice(L,_),o=a(32,127),h=a(0,24);h.push(25),h.push.apply(h,a(28,32));const v=a(0,14);let w;for(w in s.setDefault(1,0),s.addMany(o,0,2,0),v)s.addMany([24,26,153,154],w,3,0),s.addMany(a(128,144),w,3,0),s.addMany(a(144,152),w,3,0),s.add(156,w,0,0),s.add(27,w,11,1),s.add(157,w,4,8),s.addMany([152,158,159],w,0,7),s.add(155,w,11,3),s.add(144,w,11,9);return s.addMany(h,0,3,0),s.addMany(h,1,3,1),s.add(127,1,0,1),s.addMany(h,8,0,8),s.addMany(h,3,3,3),s.add(127,3,0,3),s.addMany(h,4,3,4),s.add(127,4,0,4),s.addMany(h,6,3,6),s.addMany(h,5,3,5),s.add(127,5,0,5),s.addMany(h,2,3,2),s.add(127,2,0,2),s.add(93,1,4,8),s.addMany(o,8,5,8),s.add(127,8,5,8),s.addMany([156,27,24,26,7],8,6,0),s.addMany(a(28,32),8,0,8),s.addMany([88,94,95],1,0,7),s.addMany(o,7,0,7),s.addMany(h,7,0,7),s.add(156,7,0,0),s.add(127,7,0,7),s.add(91,1,11,3),s.addMany(a(64,127),3,7,0),s.addMany(a(48,60),3,8,4),s.addMany([60,61,62,63],3,9,4),s.addMany(a(48,60),4,8,4),s.addMany(a(64,127),4,7,0),s.addMany([60,61,62,63],4,0,6),s.addMany(a(32,64),6,0,6),s.add(127,6,0,6),s.addMany(a(64,127),6,0,0),s.addMany(a(32,48),3,9,5),s.addMany(a(32,48),5,9,5),s.addMany(a(48,64),5,0,6),s.addMany(a(64,127),5,7,0),s.addMany(a(32,48),4,9,5),s.addMany(a(32,48),1,9,2),s.addMany(a(32,48),2,9,2),s.addMany(a(48,127),2,10,0),s.addMany(a(48,80),1,10,0),s.addMany(a(81,88),1,10,0),s.addMany([89,90,92],1,10,0),s.addMany(a(96,127),1,10,0),s.add(80,1,11,9),s.addMany(h,9,0,9),s.add(127,9,0,9),s.addMany(a(28,32),9,0,9),s.addMany(a(32,48),9,9,12),s.addMany(a(48,60),9,8,10),s.addMany([60,61,62,63],9,9,10),s.addMany(h,11,0,11),s.addMany(a(32,128),11,0,11),s.addMany(a(28,32),11,0,11),s.addMany(h,10,0,10),s.add(127,10,0,10),s.addMany(a(28,32),10,0,10),s.addMany(a(48,60),10,8,10),s.addMany([60,61,62,63],10,0,11),s.addMany(a(32,48),10,9,12),s.addMany(h,12,0,12),s.add(127,12,0,12),s.addMany(a(28,32),12,0,12),s.addMany(a(32,48),12,9,12),s.addMany(a(48,64),12,0,11),s.addMany(a(64,127),12,12,13),s.addMany(a(64,127),10,12,13),s.addMany(a(64,127),9,12,13),s.addMany(h,13,13,13),s.addMany(o,13,13,13),s.add(127,13,0,13),s.addMany([27,156,24,26],13,14,0),s.add(C,0,2,0),s.add(C,8,5,8),s.add(C,6,0,6),s.add(C,11,0,11),s.add(C,13,13,13),s}();class m extends f.Disposable{constructor(c=n.VT500_TRANSITION_TABLE){super(),this._transitions=c,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new y.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(a,o,h)=>{},this._executeHandlerFb=a=>{},this._csiHandlerFb=(a,o)=>{},this._escHandlerFb=a=>{},this._errorHandlerFb=a=>a,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new p.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(c,a=[64,126]){let o=0;if(c.prefix){if(c.prefix.length>1)throw new Error("only one byte as prefix supported");if(o=c.prefix.charCodeAt(0),o&&60>o||o>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(c.intermediates){if(c.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let v=0;v<c.intermediates.length;++v){const w=c.intermediates.charCodeAt(v);if(32>w||w>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");o<<=8,o|=w}}if(c.final.length!==1)throw new Error("final must be a single byte");const h=c.final.charCodeAt(0);if(a[0]>h||h>a[1])throw new Error(`final must be in range ${a[0]} .. ${a[1]}`);return o<<=8,o|=h,o}identToString(c){const a=[];for(;c;)a.push(String.fromCharCode(255&c)),c>>=8;return a.reverse().join("")}setPrintHandler(c){this._printHandler=c}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(c,a){const o=this._identifier(c,[48,126]);this._escHandlers[o]===void 0&&(this._escHandlers[o]=[]);const h=this._escHandlers[o];return h.push(a),{dispose:()=>{const v=h.indexOf(a);v!==-1&&h.splice(v,1)}}}clearEscHandler(c){this._escHandlers[this._identifier(c,[48,126])]&&delete this._escHandlers[this._identifier(c,[48,126])]}setEscHandlerFallback(c){this._escHandlerFb=c}setExecuteHandler(c,a){this._executeHandlers[c.charCodeAt(0)]=a}clearExecuteHandler(c){this._executeHandlers[c.charCodeAt(0)]&&delete this._executeHandlers[c.charCodeAt(0)]}setExecuteHandlerFallback(c){this._executeHandlerFb=c}registerCsiHandler(c,a){const o=this._identifier(c);this._csiHandlers[o]===void 0&&(this._csiHandlers[o]=[]);const h=this._csiHandlers[o];return h.push(a),{dispose:()=>{const v=h.indexOf(a);v!==-1&&h.splice(v,1)}}}clearCsiHandler(c){this._csiHandlers[this._identifier(c)]&&delete this._csiHandlers[this._identifier(c)]}setCsiHandlerFallback(c){this._csiHandlerFb=c}registerDcsHandler(c,a){return this._dcsParser.registerHandler(this._identifier(c),a)}clearDcsHandler(c){this._dcsParser.clearHandler(this._identifier(c))}setDcsHandlerFallback(c){this._dcsParser.setHandlerFallback(c)}registerOscHandler(c,a){return this._oscParser.registerHandler(c,a)}clearOscHandler(c){this._oscParser.clearHandler(c)}setOscHandlerFallback(c){this._oscParser.setHandlerFallback(c)}setErrorHandler(c){this._errorHandler=c}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(c,a,o,h,v){this._parseStack.state=c,this._parseStack.handlers=a,this._parseStack.handlerPos=o,this._parseStack.transition=h,this._parseStack.chunkPos=v}parse(c,a,o){let h,v=0,w=0,L=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,L=this._parseStack.chunkPos+1;else{if(o===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const _=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(o===!1&&k>-1){for(;k>=0&&(h=_[k](this._params),h!==!0);k--)if(h instanceof Promise)return this._parseStack.handlerPos=k,h}this._parseStack.handlers=[];break;case 4:if(o===!1&&k>-1){for(;k>=0&&(h=_[k](),h!==!0);k--)if(h instanceof Promise)return this._parseStack.handlerPos=k,h}this._parseStack.handlers=[];break;case 6:if(v=c[this._parseStack.chunkPos],h=this._dcsParser.unhook(v!==24&&v!==26,o),h)return h;v===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(v=c[this._parseStack.chunkPos],h=this._oscParser.end(v!==24&&v!==26,o),h)return h;v===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,L=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let _=L;_<a;++_){switch(v=c[_],w=this._transitions.table[this.currentState<<8|(v<160?v:C)],w>>4){case 2:for(let B=_+1;;++B){if(B>=a||(v=c[B])<32||v>126&&v<C){this._printHandler(c,_,B),_=B-1;break}if(++B>=a||(v=c[B])<32||v>126&&v<C){this._printHandler(c,_,B),_=B-1;break}if(++B>=a||(v=c[B])<32||v>126&&v<C){this._printHandler(c,_,B),_=B-1;break}if(++B>=a||(v=c[B])<32||v>126&&v<C){this._printHandler(c,_,B),_=B-1;break}}break;case 3:this._executeHandlers[v]?this._executeHandlers[v]():this._executeHandlerFb(v),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:_,code:v,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|v];let R=k?k.length-1:-1;for(;R>=0&&(h=k[R](this._params),h!==!0);R--)if(h instanceof Promise)return this._preserveStack(3,k,R,w,_),h;R<0&&this._csiHandlerFb(this._collect<<8|v,this._params),this.precedingCodepoint=0;break;case 8:do switch(v){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(v-48)}while(++_<a&&(v=c[_])>47&&v<60);_--;break;case 9:this._collect<<=8,this._collect|=v;break;case 10:const A=this._escHandlers[this._collect<<8|v];let M=A?A.length-1:-1;for(;M>=0&&(h=A[M](),h!==!0);M--)if(h instanceof Promise)return this._preserveStack(4,A,M,w,_),h;M<0&&this._escHandlerFb(this._collect<<8|v),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|v,this._params);break;case 13:for(let B=_+1;;++B)if(B>=a||(v=c[B])===24||v===26||v===27||v>127&&v<C){this._dcsParser.put(c,_,B),_=B-1;break}break;case 14:if(h=this._dcsParser.unhook(v!==24&&v!==26),h)return this._preserveStack(6,[],0,w,_),h;v===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let B=_+1;;B++)if(B>=a||(v=c[B])<32||v>127&&v<C){this._oscParser.put(c,_,B),_=B-1;break}break;case 6:if(h=this._oscParser.end(v!==24&&v!==26),h)return this._preserveStack(5,[],0,w,_),h;v===27&&(w|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&w}}}n.EscapeSequenceParser=m},6242:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;const f=u(5770),y=u(482),p=[];n.OscParser=class{constructor(){this._state=0,this._active=p,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,E){this._handlers[g]===void 0&&(this._handlers[g]=[]);const C=this._handlers[g];return C.push(E),{dispose:()=>{const m=C.indexOf(E);m!==-1&&C.splice(m,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=p,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||p,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,E,C){if(this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].put(g,E,C);else this._handlerFb(this._id,"PUT",(0,y.utf32ToString)(g,E,C))}start(){this.reset(),this._state=1}put(g,E,C){if(this._state!==3){if(this._state===1)for(;E<C;){const m=g[E++];if(m===59){this._state=2,this._start();break}if(m<48||57<m)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+m-48}this._state===2&&C-E>0&&this._put(g,E,C)}}end(g,E=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,m=this._active.length-1,s=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,C=E,s=this._stack.fallThrough,this._stack.paused=!1),!s&&C===!1){for(;m>=0&&(C=this._active[m].end(g),C!==!0);m--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,C;m--}for(;m>=0;m--)if(C=this._active[m].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",g);this._active=p,this._id=-1,this._state=0}}},n.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,E,C){this._hitLimit||(this._data+=(0,y.utf32ToString)(g,E,C),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let E=!1;if(this._hitLimit)E=!1;else if(g&&(E=this._handler(this._data),E instanceof Promise))return E.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,E}}},8742:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;const u=2147483647;class f{constructor(p=32,g=32){if(this.maxLength=p,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(p),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(p),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(p){const g=new f;if(!p.length)return g;for(let E=Array.isArray(p[0])?1:0;E<p.length;++E){const C=p[E];if(Array.isArray(C))for(let m=0;m<C.length;++m)g.addSubParam(C[m]);else g.addParam(C)}return g}clone(){const p=new f(this.maxLength,this.maxSubParamsLength);return p.params.set(this.params),p.length=this.length,p._subParams.set(this._subParams),p._subParamsLength=this._subParamsLength,p._subParamsIdx.set(this._subParamsIdx),p._rejectDigits=this._rejectDigits,p._rejectSubDigits=this._rejectSubDigits,p._digitIsSub=this._digitIsSub,p}toArray(){const p=[];for(let g=0;g<this.length;++g){p.push(this.params[g]);const E=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-E>0&&p.push(Array.prototype.slice.call(this._subParams,E,C))}return p}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(p){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=p>u?u:p}}addSubParam(p){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=p>u?u:p,this._subParamsIdx[this.length-1]++}}hasSubParams(p){return(255&this._subParamsIdx[p])-(this._subParamsIdx[p]>>8)>0}getSubParams(p){const g=this._subParamsIdx[p]>>8,E=255&this._subParamsIdx[p];return E-g>0?this._subParams.subarray(g,E):null}getSubParamsAll(){const p={};for(let g=0;g<this.length;++g){const E=this._subParamsIdx[g]>>8,C=255&this._subParamsIdx[g];C-E>0&&(p[g]=this._subParams.slice(E,C))}return p}addDigit(p){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const E=this._digitIsSub?this._subParams:this.params,C=E[g-1];E[g-1]=~C?Math.min(10*C+p,u):p}}n.Params=f},5741:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0,n.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,f){const y={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(y),f.dispose=()=>this._wrappedAddonDispose(y),f.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let f=-1;for(let y=0;y<this._addons.length;y++)if(this._addons[y]===u){f=y;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(f,1)}}},8771:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;const f=u(3785),y=u(511);n.BufferApiView=class{constructor(p,g){this._buffer=p,this.type=g}init(p){return this._buffer=p,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(p){const g=this._buffer.lines.get(p);if(g)return new f.BufferLineApiView(g)}getNullCell(){return new y.CellData}}},3785:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;const f=u(511);n.BufferLineApiView=class{constructor(y){this._line=y}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(y,p){if(!(y<0||y>=this._line.length))return p?(this._line.loadCell(y,p),p):this._line.loadCell(y,new f.CellData)}translateToString(y,p,g){return this._line.translateToString(y,p,g)}}},8285:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;const f=u(8771),y=u(8460);n.BufferNamespaceApi=class{constructor(p){this._core=p,this._onBufferChange=new y.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0,n.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,f){return this._core.registerCsiHandler(u,y=>f(y.toArray()))}addCsiHandler(u,f){return this.registerCsiHandler(u,f)}registerDcsHandler(u,f){return this._core.registerDcsHandler(u,(y,p)=>f(y,p.toArray()))}addDcsHandler(u,f){return this.registerDcsHandler(u,f)}registerEscHandler(u,f){return this._core.registerEscHandler(u,f)}addEscHandler(u,f){return this.registerEscHandler(u,f)}registerOscHandler(u,f){return this._core.registerOscHandler(u,f)}addOscHandler(u,f){return this.registerOscHandler(u,f)}}},7090:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0,n.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(S,n,u){var f=this&&this.__decorate||function(s,c,a,o){var h,v=arguments.length,w=v<3?c:o===null?o=Object.getOwnPropertyDescriptor(c,a):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(s,c,a,o);else for(var L=s.length-1;L>=0;L--)(h=s[L])&&(w=(v<3?h(w):v>3?h(c,a,w):h(c,a))||w);return v>3&&w&&Object.defineProperty(c,a,w),w},y=this&&this.__param||function(s,c){return function(a,o){c(a,o,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;const p=u(2585),g=u(5295),E=u(8460),C=u(844);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;let m=class extends C.Disposable{constructor(s){super(),this.isUserScrolling=!1,this._onResize=this.register(new E.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new E.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(s.rawOptions.cols||0,n.MINIMUM_COLS),this.rows=Math.max(s.rawOptions.rows||0,n.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(s,this))}get buffer(){return this.buffers.active}resize(s,c){this.cols=s,this.rows=c,this.buffers.resize(s,c),this._onResize.fire({cols:s,rows:c})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(s,c=!1){const a=this.buffer;let o;o=this._cachedBlankLine,o&&o.length===this.cols&&o.getFg(0)===s.fg&&o.getBg(0)===s.bg||(o=a.getBlankLine(s,c),this._cachedBlankLine=o),o.isWrapped=c;const h=a.ybase+a.scrollTop,v=a.ybase+a.scrollBottom;if(a.scrollTop===0){const w=a.lines.isFull;v===a.lines.length-1?w?a.lines.recycle().copyFrom(o):a.lines.push(o.clone()):a.lines.splice(v+1,0,o.clone()),w?this.isUserScrolling&&(a.ydisp=Math.max(a.ydisp-1,0)):(a.ybase++,this.isUserScrolling||a.ydisp++)}else{const w=v-h+1;a.lines.shiftElements(h+1,w-1,-1),a.lines.set(v,o.clone())}this.isUserScrolling||(a.ydisp=a.ybase),this._onScroll.fire(a.ydisp)}scrollLines(s,c,a){const o=this.buffer;if(s<0){if(o.ydisp===0)return;this.isUserScrolling=!0}else s+o.ydisp>=o.ybase&&(this.isUserScrolling=!1);const h=o.ydisp;o.ydisp=Math.max(Math.min(o.ydisp+s,o.ybase),0),h!==o.ydisp&&(c||this._onScroll.fire(o.ydisp))}scrollPages(s){this.scrollLines(s*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(s){const c=s-this.buffer.ydisp;c!==0&&this.scrollLines(c)}};m=f([y(0,p.IOptionsService)],m),n.BufferService=m},7994:(S,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0,n.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,f){this._charsets[u]=f,this.glevel===u&&(this.charset=f)}}},1753:function(S,n,u){var f=this&&this.__decorate||function(o,h,v,w){var L,_=arguments.length,k=_<3?h:w===null?w=Object.getOwnPropertyDescriptor(h,v):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(o,h,v,w);else for(var R=o.length-1;R>=0;R--)(L=o[R])&&(k=(_<3?L(k):_>3?L(h,v,k):L(h,v))||k);return _>3&&k&&Object.defineProperty(h,v,k),k},y=this&&this.__param||function(o,h){return function(v,w){h(v,w,o)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;const p=u(2585),g=u(8460),E=u(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:o=>o.button!==4&&o.action===1&&(o.ctrl=!1,o.alt=!1,o.shift=!1,!0)},VT200:{events:19,restrict:o=>o.action!==32},DRAG:{events:23,restrict:o=>o.action!==32||o.button!==3},ANY:{events:31,restrict:o=>!0}};function m(o,h){let v=(o.ctrl?16:0)|(o.shift?4:0)|(o.alt?8:0);return o.button===4?(v|=64,v|=o.action):(v|=3&o.button,4&o.button&&(v|=64),8&o.button&&(v|=128),o.action===32?v|=32:o.action!==0||h||(v|=3)),v}const s=String.fromCharCode,c={DEFAULT:o=>{const h=[m(o,!1)+32,o.col+32,o.row+32];return h[0]>255||h[1]>255||h[2]>255?"":`\x1B[M${s(h[0])}${s(h[1])}${s(h[2])}`},SGR:o=>{const h=o.action===0&&o.button!==4?"m":"M";return`\x1B[<${m(o,!0)};${o.col};${o.row}${h}`},SGR_PIXELS:o=>{const h=o.action===0&&o.button!==4?"m":"M";return`\x1B[<${m(o,!0)};${o.x};${o.y}${h}`}};let a=class extends E.Disposable{constructor(o,h){super(),this._bufferService=o,this._coreService=h,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const v of Object.keys(C))this.addProtocol(v,C[v]);for(const v of Object.keys(c))this.addEncoding(v,c[v]);this.reset()}addProtocol(o,h){this._protocols[o]=h}addEncoding(o,h){this._encodings[o]=h}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(o){if(!this._protocols[o])throw new Error(`unknown protocol "${o}"`);this._activeProtocol=o,this._onProtocolChange.fire(this._protocols[o].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(o){if(!this._encodings[o])throw new Error(`unknown encoding "${o}"`);this._activeEncoding=o}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(o){if(o.col<0||o.col>=this._bufferService.cols||o.row<0||o.row>=this._bufferService.rows||o.button===4&&o.action===32||o.button===3&&o.action!==32||o.button!==4&&(o.action===2||o.action===3)||(o.col++,o.row++,o.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,o,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(o))return!1;const h=this._encodings[this._activeEncoding](o);return h&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(h):this._coreService.triggerDataEvent(h,!0)),this._lastEvent=o,!0}explainEvents(o){return{down:!!(1&o),up:!!(2&o),drag:!!(4&o),move:!!(8&o),wheel:!!(16&o)}}_equalEvents(o,h,v){if(v){if(o.x!==h.x||o.y!==h.y)return!1}else if(o.col!==h.col||o.row!==h.row)return!1;return o.button===h.button&&o.action===h.action&&o.ctrl===h.ctrl&&o.alt===h.alt&&o.shift===h.shift}};a=f([y(0,p.IBufferService),y(1,p.ICoreService)],a),n.CoreMouseService=a},6975:function(S,n,u){var f=this&&this.__decorate||function(a,o,h,v){var w,L=arguments.length,_=L<3?o:v===null?v=Object.getOwnPropertyDescriptor(o,h):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,o,h,v);else for(var k=a.length-1;k>=0;k--)(w=a[k])&&(_=(L<3?w(_):L>3?w(o,h,_):w(o,h))||_);return L>3&&_&&Object.defineProperty(o,h,_),_},y=this&&this.__param||function(a,o){return function(h,v){o(h,v,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;const p=u(2585),g=u(8460),E=u(1439),C=u(844),m=Object.freeze({insertMode:!1}),s=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let c=class extends C.Disposable{constructor(a,o,h){super(),this._bufferService=a,this._logService=o,this._optionsService=h,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,E.clone)(m),this.decPrivateModes=(0,E.clone)(s)}reset(){this.modes=(0,E.clone)(m),this.decPrivateModes=(0,E.clone)(s)}triggerDataEvent(a,o=!1){if(this._optionsService.rawOptions.disableStdin)return;const h=this._bufferService.buffer;o&&this._optionsService.rawOptions.scrollOnUserInput&&h.ybase!==h.ydisp&&this._onRequestScrollToBottom.fire(),o&&this._onUserInput.fire(),this._logService.debug(`sending data "${a}"`,()=>a.split("").map(v=>v.charCodeAt(0))),this._onData.fire(a)}triggerBinaryEvent(a){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${a}"`,()=>a.split("").map(o=>o.charCodeAt(0))),this._onBinary.fire(a))}};c=f([y(0,p.IBufferService),y(1,p.ILogService),y(2,p.IOptionsService)],c),n.CoreService=c},9074:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;const f=u(8055),y=u(8460),p=u(844),g=u(6106);let E=0,C=0;class m extends p.Disposable{constructor(){super(),this._decorations=new g.SortedList(a=>a==null?void 0:a.marker.line),this._onDecorationRegistered=this.register(new y.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new y.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,p.toDisposable)(()=>{for(const a of this._decorations.values())this._onDecorationRemoved.fire(a);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(a){if(a.marker.isDisposed)return;const o=new s(a);if(o){const h=o.marker.onDispose(()=>o.dispose());o.onDispose(()=>{o&&(this._decorations.delete(o)&&this._onDecorationRemoved.fire(o),h.dispose())}),this._decorations.insert(o),this._onDecorationRegistered.fire(o)}return o}reset(){for(const a of this._decorations.values())a.dispose();this._decorations.clear()}*getDecorationsAtCell(a,o,h){var v,w,L;let _=0,k=0;for(const R of this._decorations.getKeyIterator(o))_=(v=R.options.x)!==null&&v!==void 0?v:0,k=_+((w=R.options.width)!==null&&w!==void 0?w:1),a>=_&&a<k&&(!h||((L=R.options.layer)!==null&&L!==void 0?L:"bottom")===h)&&(yield R)}forEachDecorationAtCell(a,o,h,v){this._decorations.forEachByKey(o,w=>{var L,_,k;E=(L=w.options.x)!==null&&L!==void 0?L:0,C=E+((_=w.options.width)!==null&&_!==void 0?_:1),a>=E&&a<C&&(!h||((k=w.options.layer)!==null&&k!==void 0?k:"bottom")===h)&&v(w)})}dispose(){for(const a of this._decorations.values())this._onDecorationRemoved.fire(a);this.reset()}}n.DecorationService=m;class s extends p.Disposable{constructor(a){super(),this.options=a,this.isDisposed=!1,this.onRenderEmitter=this.register(new y.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new y.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=a.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;const f=u(2585),y=u(8343);class p{constructor(...E){this._entries=new Map;for(const[C,m]of E)this.set(C,m)}set(E,C){const m=this._entries.get(E);return this._entries.set(E,C),m}forEach(E){for(const[C,m]of this._entries.entries())E(C,m)}has(E){return this._entries.has(E)}get(E){return this._entries.get(E)}}n.ServiceCollection=p,n.InstantiationService=class{constructor(){this._services=new p,this._services.set(f.IInstantiationService,this)}setService(g,E){this._services.set(g,E)}getService(g){return this._services.get(g)}createInstance(g,...E){const C=(0,y.getServiceDependencies)(g).sort((c,a)=>c.index-a.index),m=[];for(const c of C){const a=this._services.get(c.id);if(!a)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${c.id}.`);m.push(a)}const s=C.length>0?C[0].index:E.length;if(E.length!==s)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${s+1} conflicts with ${E.length} static arguments`);return new g(...E,...m)}}},7866:function(S,n,u){var f=this&&this.__decorate||function(m,s,c,a){var o,h=arguments.length,v=h<3?s:a===null?a=Object.getOwnPropertyDescriptor(s,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(m,s,c,a);else for(var w=m.length-1;w>=0;w--)(o=m[w])&&(v=(h<3?o(v):h>3?o(s,c,v):o(s,c))||v);return h>3&&v&&Object.defineProperty(s,c,v),v},y=this&&this.__param||function(m,s){return function(c,a){s(c,a,m)}};Object.defineProperty(n,"__esModule",{value:!0}),n.LogService=void 0;const p=u(844),g=u(2585),E={debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let C=class extends p.Disposable{constructor(m){super(),this._optionsService=m,this.logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=E[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let s=0;s<m.length;s++)typeof m[s]=="function"&&(m[s]=m[s]())}_log(m,s,c){this._evalLazyOptionalParams(c),m.call(console,"xterm.js: "+s,...c)}debug(m,...s){this.logLevel<=g.LogLevelEnum.DEBUG&&this._log(console.log,m,s)}info(m,...s){this.logLevel<=g.LogLevelEnum.INFO&&this._log(console.info,m,s)}warn(m,...s){this.logLevel<=g.LogLevelEnum.WARN&&this._log(console.warn,m,s)}error(m,...s){this.logLevel<=g.LogLevelEnum.ERROR&&this._log(console.error,m,s)}};C=f([y(0,g.IOptionsService)],C),n.LogService=C},7302:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=void 0;const f=u(8460),y=u(6114),p=u(844);n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:y.isMac,windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class E extends p.Disposable{constructor(m){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const s=Object.assign({},n.DEFAULT_OPTIONS);for(const c in m)if(c in s)try{const a=m[c];s[c]=this._sanitizeAndValidateOption(c,a)}catch(a){console.error(a)}this.rawOptions=s,this.options=Object.assign({},s),this._setupOptions()}onSpecificOptionChange(m,s){return this.onOptionChange(c=>{c===m&&s(this.rawOptions[m])})}onMultipleOptionChange(m,s){return this.onOptionChange(c=>{m.indexOf(c)!==-1&&s()})}_setupOptions(){const m=c=>{if(!(c in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${c}"`);return this.rawOptions[c]},s=(c,a)=>{if(!(c in n.DEFAULT_OPTIONS))throw new Error(`No option with key "${c}"`);a=this._sanitizeAndValidateOption(c,a),this.rawOptions[c]!==a&&(this.rawOptions[c]=a,this._onOptionChange.fire(c))};for(const c in this.rawOptions){const a={get:m.bind(this,c),set:s.bind(this,c)};Object.defineProperty(this.options,c,a)}}_sanitizeAndValidateOption(m,s){switch(m){case"cursorStyle":if(s||(s=n.DEFAULT_OPTIONS[m]),!function(c){return c==="block"||c==="underline"||c==="bar"}(s))throw new Error(`"${s}" is not a valid value for ${m}`);break;case"wordSeparator":s||(s=n.DEFAULT_OPTIONS[m]);break;case"fontWeight":case"fontWeightBold":if(typeof s=="number"&&1<=s&&s<=1e3)break;s=g.includes(s)?s:n.DEFAULT_OPTIONS[m];break;case"cursorWidth":s=Math.floor(s);case"lineHeight":case"tabStopWidth":if(s<1)throw new Error(`${m} cannot be less than 1, value: ${s}`);break;case"minimumContrastRatio":s=Math.max(1,Math.min(21,Math.round(10*s)/10));break;case"scrollback":if((s=Math.min(s,4294967295))<0)throw new Error(`${m} cannot be less than 0, value: ${s}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(s<=0)throw new Error(`${m} cannot be less than or equal to 0, value: ${s}`);case"rows":case"cols":if(!s&&s!==0)throw new Error(`${m} must be numeric, value: ${s}`)}return s}}n.OptionsService=E},2660:function(S,n,u){var f=this&&this.__decorate||function(E,C,m,s){var c,a=arguments.length,o=a<3?C:s===null?s=Object.getOwnPropertyDescriptor(C,m):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(E,C,m,s);else for(var h=E.length-1;h>=0;h--)(c=E[h])&&(o=(a<3?c(o):a>3?c(C,m,o):c(C,m))||o);return a>3&&o&&Object.defineProperty(C,m,o),o},y=this&&this.__param||function(E,C){return function(m,s){C(m,s,E)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkService=void 0;const p=u(2585);let g=class{constructor(E){this._bufferService=E,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(E){const C=this._bufferService.buffer;if(E.id===void 0){const h=C.addMarker(C.ybase+C.y),v={data:E,id:this._nextId++,lines:[h]};return h.onDispose(()=>this._removeMarkerFromLink(v,h)),this._dataByLinkId.set(v.id,v),v.id}const m=E,s=this._getEntryIdKey(m),c=this._entriesWithId.get(s);if(c)return this.addLineToLink(c.id,C.ybase+C.y),c.id;const a=C.addMarker(C.ybase+C.y),o={id:this._nextId++,key:this._getEntryIdKey(m),data:m,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(o,a)),this._entriesWithId.set(o.key,o),this._dataByLinkId.set(o.id,o),o.id}addLineToLink(E,C){const m=this._dataByLinkId.get(E);if(m&&m.lines.every(s=>s.line!==C)){const s=this._bufferService.buffer.addMarker(C);m.lines.push(s),s.onDispose(()=>this._removeMarkerFromLink(m,s))}}getLinkData(E){var C;return(C=this._dataByLinkId.get(E))===null||C===void 0?void 0:C.data}_getEntryIdKey(E){return`${E.id};;${E.uri}`}_removeMarkerFromLink(E,C){const m=E.lines.indexOf(C);m!==-1&&(E.lines.splice(m,1),E.lines.length===0&&(E.data.id!==void 0&&this._entriesWithId.delete(E.key),this._dataByLinkId.delete(E.id)))}};g=f([y(0,p.IBufferService)],g),n.OscLinkService=g},8343:(S,n)=>{function u(f,y,p){y.di$target===y?y.di$dependencies.push({id:f,index:p}):(y.di$dependencies=[{id:f,index:p}],y.di$target=y)}Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0,n.serviceRegistry=new Map,n.getServiceDependencies=function(f){return f.di$dependencies||[]},n.createDecorator=function(f){if(n.serviceRegistry.has(f))return n.serviceRegistry.get(f);const y=function(p,g,E){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");u(y,p,E)};return y.toString=()=>f,n.serviceRegistry.set(f,y),y}},2585:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOscLinkService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;const f=u(8343);var y;n.IBufferService=(0,f.createDecorator)("BufferService"),n.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),n.ICoreService=(0,f.createDecorator)("CoreService"),n.ICharsetService=(0,f.createDecorator)("CharsetService"),n.IInstantiationService=(0,f.createDecorator)("InstantiationService"),(y=n.LogLevelEnum||(n.LogLevelEnum={}))[y.DEBUG=0]="DEBUG",y[y.INFO=1]="INFO",y[y.WARN=2]="WARN",y[y.ERROR=3]="ERROR",y[y.OFF=4]="OFF",n.ILogService=(0,f.createDecorator)("LogService"),n.IOptionsService=(0,f.createDecorator)("OptionsService"),n.IOscLinkService=(0,f.createDecorator)("OscLinkService"),n.IUnicodeService=(0,f.createDecorator)("UnicodeService"),n.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(S,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;const f=u(8460),y=u(225);n.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const p=new y.UnicodeV6;this.register(p),this._active=p.version,this._activeProvider=p}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(p){if(!this._providers[p])throw new Error(`unknown Unicode version "${p}"`);this._active=p,this._activeProvider=this._providers[p],this._onChange.fire(p)}register(p){this._providers[p.version]=p}wcwidth(p){return this._activeProvider.wcwidth(p)}getStringCellWidth(p){let g=0;const E=p.length;for(let C=0;C<E;++C){let m=p.charCodeAt(C);if(55296<=m&&m<=56319){if(++C>=E)return g+this.wcwidth(m);const s=p.charCodeAt(C);56320<=s&&s<=57343?m=1024*(m-55296)+s-56320+65536:g+=this.wcwidth(s)}g+=this.wcwidth(m)}return g}}}},i={};function l(S){var n=i[S];if(n!==void 0)return n.exports;var u=i[S]={exports:{}};return r[S].call(u.exports,u,u.exports,l),u.exports}var d={};return(()=>{var S=d;Object.defineProperty(S,"__esModule",{value:!0}),S.Terminal=void 0;const n=l(3236),u=l(9042),f=l(7975),y=l(7090),p=l(5741),g=l(8285),E=["cols","rows"];S.Terminal=class{constructor(C){this._core=new n.Terminal(C),this._addonManager=new p.AddonManager,this._publicOptions=Object.assign({},this._core.options);const m=c=>this._core.options[c],s=(c,a)=>{this._checkReadonlyOptions(c),this._core.options[c]=a};for(const c in this._core.options){const a={get:m.bind(this,c),set:s.bind(this,c)};Object.defineProperty(this._publicOptions,c,a)}}_checkReadonlyOptions(C){if(E.includes(C))throw new Error(`Option "${C}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new f.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new y.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new g.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const C=this._core.coreService.decPrivateModes;let m="none";switch(this._core.coreMouseService.activeProtocol){case"X10":m="x10";break;case"VT200":m="vt200";break;case"DRAG":m="drag";break;case"ANY":m="any"}return{applicationCursorKeysMode:C.applicationCursorKeys,applicationKeypadMode:C.applicationKeypad,bracketedPasteMode:C.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:m,originMode:C.origin,reverseWraparoundMode:C.reverseWraparound,sendFocusMode:C.sendFocus,wraparoundMode:C.wraparound}}get options(){return this._publicOptions}set options(C){for(const m in C)this._publicOptions[m]=C[m]}blur(){this._core.blur()}focus(){this._core.focus()}resize(C,m){this._verifyIntegers(C,m),this._core.resize(C,m)}open(C){this._core.open(C)}attachCustomKeyEventHandler(C){this._core.attachCustomKeyEventHandler(C)}registerLinkProvider(C){return this._core.registerLinkProvider(C)}registerCharacterJoiner(C){return this._checkProposedApi(),this._core.registerCharacterJoiner(C)}deregisterCharacterJoiner(C){this._checkProposedApi(),this._core.deregisterCharacterJoiner(C)}registerMarker(C=0){return this._verifyIntegers(C),this._core.addMarker(C)}registerDecoration(C){var m,s,c;return this._checkProposedApi(),this._verifyPositiveIntegers((m=C.x)!==null&&m!==void 0?m:0,(s=C.width)!==null&&s!==void 0?s:0,(c=C.height)!==null&&c!==void 0?c:0),this._core.registerDecoration(C)}hasSelection(){return this._core.hasSelection()}select(C,m,s){this._verifyIntegers(C,m,s),this._core.select(C,m,s)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(C,m){this._verifyIntegers(C,m),this._core.selectLines(C,m)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(C){this._verifyIntegers(C),this._core.scrollLines(C)}scrollPages(C){this._verifyIntegers(C),this._core.scrollPages(C)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(C){this._verifyIntegers(C),this._core.scrollToLine(C)}clear(){this._core.clear()}write(C,m){this._core.write(C,m)}writeln(C,m){this._core.write(C),this._core.write(`\r
`,m)}paste(C){this._core.paste(C)}refresh(C,m){this._verifyIntegers(C,m),this._core.refresh(C,m)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(C){return this._addonManager.loadAddon(this,C)}static get strings(){return u}_verifyIntegers(...C){for(const m of C)if(m===1/0||isNaN(m)||m%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...C){for(const m of C)if(m&&(m===1/0||isNaN(m)||m%1!=0||m<0))throw new Error("This API only accepts positive integers")}}})(),d})()})})(E_);function k_(e){const[t,r]=Q.useState(null);return Q.useEffect(()=>{let i;return e.terminalRef.current&&(i=new po.Terminal(e.options),i.open(e.terminalRef.current),r(i),e.onBinary&&i.onBinary(e.onBinary)),()=>{i&&i.dispose()}},[e.terminalRef]),t}function L_(){const e=Q.useRef(null),t=k_({terminalRef:e});C_({outf:(...S)=>{console.log(S),t&&t.writeln(...S)},xterInst:t});const r=Q.useRef();Q.useEffect(()=>{t&&t.writeln("# Python 3.7: Skulpt")},[t]);function i(S){r.current=S}const l=`import turtle as t  # 导入turtle并起别名t，下面的t就表示turtle

def face():  # 定义face函数
    t.fillcolor('blue')  # 设置填充颜色为蓝色
    t.begin_fill()  # 开始填充
    t.circle(100)  # 画半径为100的圆
    t.end_fill()  # 结束填充
    t.fillcolor('white')  # 设置填充颜色为白色
    t.begin_fill()  # 开始填充
    t.circle(80)  # 画半径为80的圆
    t.end_fill()  # 结束填充

def eyes():  # 定义eyes函数
    for i in [-1, 1]:  # for循环，变量i分别赋值-1、1，循环2次
        t.penup()  # 抬笔
        t.goto(20*i, 140)  # 移动画笔到指定坐标位置
        t.pendown()  # 落笔
        t.fillcolor('white')  # 设置填充颜色为白色
        t.begin_fill()  # 开始填充
        t.circle(20)  # 画半径为20的圆
        t.end_fill()  # 结束填充
        t.penup()  # 抬笔
        t.goto(10*i, 160)  # 移动画笔到指定坐标位置
        t.pendown()  # 落笔
        t.dot(10)  # 画直径为10的实心点

def nose():  # 定义nose函数
    t.penup()  # 抬笔
    t.goto(0, 115)  # 移动画笔到坐标(0, 115)位置
    t.pendown()  # 落笔
    t.fillcolor('red')  # 设置填充颜色为红色
    t.begin_fill()  # 开始填充
    t.circle(15)  # 画半径为15的圆
    t.end_fill()  # 结束填充

def mouth():  # 定义mouth函数
    t.penup()  # 抬笔
    t.goto(0, 110)  # 移动画笔到坐标(0, 110)位置
    t.pendown()  # 落笔
    t.goto(0, 25)  # 移动画笔到坐标(0, 25)位置
    t.circle(120, 35)  # 画半径为120、角度为35度的圆弧
    t.circle(120, -70)  # 画半径为120的圆、角度为70度的圆弧，与上面左右方向相反

def beard():  # 定义beard函数
    for i in [-1, 1]:  # for循环，变量i分别赋值-1、1，循环2次
        t.penup()  # 抬笔
        t.goto(15*i, 90)  # 移动画笔到指定坐标位置
        t.pendown()  # 落笔
        t.goto(70*i, 90)  # 移动画笔到指定坐标位置
        for j in [-1, 1]:  # for循环，变量i分别赋值-1、1，循环2次
            t.penup()  # 抬笔
            t.goto(15*i, 90+10*j)  # 移动画笔到指定坐标位置
            t.pendown()  # 落笔
            t.goto(65*i, 90+30*j)  # 移动画笔到指定坐标位置

face()  # 调用face函数
eyes()  # 调用eyes函数
nose()  # 调用nose函数
mouth()  # 调用mouth函数
beard()  # 调用beard函数
t.hideturtle()  # 隐藏画笔形状
t.done()  # 画图完毕
print('drawing done')`;function d(){const S=r.current&&r.current.getValue();Sk.misceval.asyncToPromise(function(){return Sk.importMainWithBody("<stdin>",!1,S,!0)})}return Re.jsxs("div",{className:"cards",children:[Re.jsxs("div",{className:"card",children:[Re.jsx("h3",{children:"Python Code"}),Re.jsx(y_,{height:"40vh",defaultLanguage:"python",defaultValue:l,onMount:i}),Re.jsx("div",{className:"run-button",onClick:d,children:"run"})]}),Re.jsxs("div",{className:"card",children:[Re.jsx("h3",{children:"Drawing Board"}),Re.jsx("div",{id:"mycanvas"})]}),Re.jsxs("div",{className:"card",children:[Re.jsx("h3",{children:"Terminal"}),Re.jsx("div",{ref:e})]})]})}ms.createRoot(document.getElementById("root")).render(Re.jsx($t.StrictMode,{children:Re.jsx(L_,{})}));
