/*!
 * Copyright (c) 2017 Nobook inc.
 * 
 * (TBD)
 * 
 * Version: 3.14.4
 * Date: Wed Nov 22 2023 10:00:19 GMT+0000 (Coordinated Universal Time)
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("ChemicalCanvas",[],t):"object"==typeof exports?exports.ChemicalCanvas=t():e.ChemicalCanvas=t()}(window,function(){return function(D){function P(e){delete installedChunks[e]}var i=window.webpackHotUpdateChemicalCanvas;window.webpackHotUpdateChemicalCanvas=function(e,t){!function(e,t){if(F[e]&&d[e]){for(var i in d[e]=!1,t)Object.prototype.hasOwnProperty.call(t,i)&&(k[i]=t[i]);0==--h&&0===c&&I()}}(e,t),i&&i(e,t)};var L,n=!0,N="76e67ed90a14ebd8b3a9",t=1e4,J={},_=[],a=[];function r(t){var i=H[t];if(!i)return G;function n(e){return i.hot.active?(H[e]?-1===H[e].parents.indexOf(t)&&H[e].parents.push(t):(_=[t],L=e),-1===i.children.indexOf(e)&&i.children.push(e)):_=[],G(e)}for(var e in G)Object.prototype.hasOwnProperty.call(G,e)&&"e"!==e&&"t"!==e&&Object.defineProperty(n,e,function(t){return{configurable:!0,enumerable:!0,get:function(){return G[t]},set:function(e){G[t]=e}}}(e));return n.e=function(e){return"ready"===s&&E("prepare"),c++,G.e(e).then(t,function(e){throw t(),e});function t(){c--,"prepare"===s&&(u[e]||f(e),0===c&&0===h&&I())}},n.t=function(e,t){return 1&t&&(e=n(e)),G.t(e,-2&t)},n}var o=[],s="idle";function E(e){s=e;for(var t=0;t<o.length;t++)o[t].call(null,e)}var l,k,q,R,h=0,c=0,u={},d={},F={};function j(e){return+e+""===e?+e:e}function p(e){if("idle"!==s)throw new Error("check() is only allowed in idle status");return n=e,E("check"),r=(r=t)||1e4,new Promise(function(t,i){if("undefined"==typeof XMLHttpRequest)return i(new Error("No browser support"));try{var n=new XMLHttpRequest,a=G.p+""+N+".hot-update.json";n.open("GET",a,!0),n.timeout=r,n.send(null)}catch(e){return i(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)i(new Error("Manifest request to "+a+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)i(new Error("Manifest request to "+a+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void i(e)}t(e)}}}).then(function(e){if(!e)return E(V()?"ready":"idle"),null;d={},u={},F=e.c,q=e.h,E("prepare");e=new Promise(function(e,t){l={resolve:e,reject:t}});k={};return f(0),"prepare"===s&&0===c&&0===h&&I(),e});var r}function f(e){var t,i;F[e]?(d[e]=!0,h++,t=e,(i=document.createElement("script")).charset="utf-8",i.src=G.p+""+t+"."+N+".hot-update.js",document.head.appendChild(i)):u[e]=!0}function I(){E("ready");var t=l;if(l=null,t)if(n)Promise.resolve().then(function(){return g(n)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e,i=[];for(e in k)Object.prototype.hasOwnProperty.call(k,e)&&i.push(j(e));t.resolve(i)}}function g(e){if("ready"!==s)throw new Error("apply() is only allowed in ready status");return function e(i){V();var t;var n;var a;var c;function r(e){for(var t=[e],i={},n=t.map(function(e){return{chain:[e],id:e}});0<n.length;){var a=n.pop(),r=a.id,o=a.chain;if((c=H[r])&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:r};if(c.hot._main)return{type:"unaccepted",chain:o,moduleId:r};for(var s=0;s<c.parents.length;s++){var l=c.parents[s],h=H[l];if(h){if(h.hot._declinedDependencies[r])return{type:"declined",chain:o.concat([l]),moduleId:r,parentId:l};-1===t.indexOf(l)&&(h.hot._acceptedDependencies[r]?(i[l]||(i[l]=[]),u(i[l],[r])):(delete i[l],t.push(l),n.push({chain:o.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:i}}function u(e,t){for(var i=0;i<t.length;i++){var n=t[i];-1===e.indexOf(n)&&e.push(n)}}var o={};var s=[];var l={};var h=function(){};for(var d in k)if(Object.prototype.hasOwnProperty.call(k,d)){var p;y=j(d),p=k[d]?r(y):{type:"disposed",moduleId:d};var f=!1,I=!1,g=!1,m="";switch(p.chain&&(m="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":i.onDeclined&&i.onDeclined(p),i.ignoreDeclined||(f=new Error("Aborted because of self decline: "+p.moduleId+m));break;case"declined":i.onDeclined&&i.onDeclined(p),i.ignoreDeclined||(f=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+m));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(p),i.ignoreUnaccepted||(f=new Error("Aborted because "+y+" is not accepted"+m));break;case"accepted":i.onAccepted&&i.onAccepted(p),I=!0;break;case"disposed":i.onDisposed&&i.onDisposed(p),g=!0;break;default:throw new Error("Unexception type "+p.type)}if(f)return E("abort"),Promise.reject(f);if(I)for(var y in l[y]=k[y],u(s,p.outdatedModules),p.outdatedDependencies)Object.prototype.hasOwnProperty.call(p.outdatedDependencies,y)&&(o[y]||(o[y]=[]),u(o[y],p.outdatedDependencies[y]));g&&(u(s,[p.moduleId]),l[y]=h)}var v=[];for(n=0;n<s.length;n++)y=s[n],H[y]&&H[y].hot._selfAccepted&&l[y]!==h&&!H[y].hot._selfInvalidated&&v.push({module:y,parents:H[y].parents.slice(),errorHandler:H[y].hot._selfAccepted});E("dispose");Object.keys(F).forEach(function(e){!1===F[e]&&P(e)});var C;var M=s.slice();for(;0<M.length;)if(y=M.pop(),c=H[y]){var b={},x=c.hot._disposeHandlers;for(a=0;a<x.length;a++)(t=x[a])(b);for(J[y]=b,c.hot.active=!1,delete H[y],delete o[y],a=0;a<c.children.length;a++){var O=H[c.children[a]];O&&0<=(C=O.parents.indexOf(y))&&O.parents.splice(C,1)}}var A;var T;for(y in o)if(Object.prototype.hasOwnProperty.call(o,y)&&(c=H[y]))for(T=o[y],a=0;a<T.length;a++)A=T[a],0<=(C=c.children.indexOf(A))&&c.children.splice(C,1);E("apply");void 0!==q&&(N=q,q=void 0);k=void 0;for(y in l)Object.prototype.hasOwnProperty.call(l,y)&&(D[y]=l[y]);var S=null;for(y in o)if(Object.prototype.hasOwnProperty.call(o,y)&&(c=H[y])){T=o[y];var w=[];for(n=0;n<T.length;n++)A=T[n],(t=c.hot._acceptedDependencies[A])&&-1===w.indexOf(t)&&w.push(t);for(n=0;n<w.length;n++){t=w[n];try{t(T)}catch(e){i.onErrored&&i.onErrored({type:"accept-errored",moduleId:y,dependencyId:T[n],error:e}),i.ignoreErrored||(S=S||e)}}}for(n=0;n<v.length;n++){var B=v[n];y=B.module,_=B.parents,L=y;try{G(y)}catch(t){if("function"==typeof B.errorHandler)try{B.errorHandler(t)}catch(e){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:y,error:e,originalError:t}),S=(S=!i.ignoreErrored?S||e:S)||t}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:y,error:t}),i.ignoreErrored||(S=S||t)}}if(S)return E("fail"),Promise.reject(S);if(R)return e(i).then(function(t){return s.forEach(function(e){t.indexOf(e)<0&&t.push(e)}),t});E("idle");return new Promise(function(e){e(s)})}(e=e||{})}function V(){if(R)return k=k||{},R.forEach(m),!(R=void 0)}function m(e){Object.prototype.hasOwnProperty.call(k,e)||(k[e]=D[e])}var H={};function G(e){if(H[e])return H[e].exports;var t,n,i=H[e]={i:e,l:!1,exports:{},hot:(n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:L!==(t=e),active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)n._acceptedDependencies[e[i]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){e=n._disposeHandlers.indexOf(e);0<=e&&n._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,s){case"idle":(k={})[t]=D[t],E("ready");break;case"ready":m(t);break;case"prepare":case"check":case"dispose":case"apply":(R=R||[]).push(t)}},check:p,apply:g,status:function(e){if(!e)return s;o.push(e)},addStatusHandler:function(e){o.push(e)},removeStatusHandler:function(e){e=o.indexOf(e);0<=e&&o.splice(e,1)},data:J[t]},L=void 0,n),parents:(a=_,_=[],a),children:[]};return D[e].call(i.exports,i,i.exports,r(e)),i.l=!0,i.exports}return G.m=D,G.c=H,G.d=function(e,t,i){G.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},G.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},G.t=function(t,e){if(1&e&&(t=G(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(G.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)G.d(i,n,function(e){return t[e]}.bind(null,n));return i},G.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return G.d(t,"a",t),t},G.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},G.p="",G.h=function(){return N},r(423)(G.s=423)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var a=i(46);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),a(e,n.key,n)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),a(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(t,e,i){var n=i(294),a=i(476);function r(e){return t.exports=r=n?a:function(e){return e.__proto__||a(e)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(e,t,i){e.exports=i(462)},function(e,t,i){var n=i(46),a=i(224),r=i(481);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n(e,"prototype",{value:a(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(61).default,a=i(19);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var n=i(467),a=i(223),r=i(472);function o(){return"undefined"!=typeof Reflect&&n?e.exports=o=n:e.exports=o=function(e,t,i){var n=r(e,t);if(n){n=a(n,t);return n.get?n.get.call(arguments.length<3?e:i):n.value}},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,d){"use strict";var a=d(4),s=d(44),l=d(42),h=d(43),c=d(37),i=d(0),m=i(d(9)),p=i(d(25)),n=i(d(130)),r=i(d(77)),P=i(d(37)),o=i(d(24)),f=i(d(59)),I=i(d(1)),g=i(d(2)),y=i(d(19)),v=i(d(5)),u=i(d(6)),C=i(d(3));function M(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return b(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function x(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,C.default)(i);return t=n?(e=(0,C.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var L=d(11),O=d(228),N=d(97),J=d(26),A=d(18),_=d(31),E=d(32),T=d(132),S=d(16),w=d(27),i=d(180),B=d(115),D=i.canDragInLimitAreaAry,k=i.doubleRectEqAry,q=i.hitPlugFixData,R=i.doubleRectEqAry2,F=i.gasBottleHitData,j=i.twoContainerCollisionAry,V=d(143),H=d(361),G=d(131),z=d(908),X=d(909),W=d(29).getLan,i=function(e){(0,v.default)(u,e);var t=x(u);function u(){var i;(0,I.default)(this,u),(i=t.call(this)).dataVersion=7,i.isEquipment=!0,i.mouseIn=!1,i.activeCount=L.ACTIVE_COUNT,i.mouseStateCode=S.status.DRAG,_.register(E.COLLISION),_.register(E.IRONCLAMP),_.register(E.CHECKPUREPU),_.register(E.CHECKPUREJIAN),i.addedNode=[],i.maxOpenMouth=0,i.rotateSpriteIcon=void 0,i.ctrlButtonAry=[],i.pascal=L.PASCAL,i.tweenTime=L.TWEENTIME,i.listenAddNode(),i.once(NBEvent.ADDED_TO_STAGE,i.addedToStage),i.once("creationComplete",i.creationComplete),i.on(NBDrag.event.STOP_DRAG,i.eqStopDrag),i.on(NBDrag.event.DRAG_MOVE,i.checkCollision),i.on(NBEvent.ADDED_TO_STAGE,i.eqAdded),i.on(NBEvent.REMOEVD_FROM_STAGE,i.eqRemoved),i.on(NBEvent.del.PREPARE_DELETE,i.eqPrepareDelete),i.on(NBEvent.del.DELETE,i.destroy),i.on(NBDrag.event.PREPARE_DRAG,i.eqPrepareChoice);var e=L.isDebug;i.conf_show_temp=e,i.conf_show_volume=e,i.conf_show_mol=e,i.conf_chemical_equation=e,i.conf_ionic_equation=!1,i.conf_show_sol=e,i.conf_show_weight=e,i.conf_show_name=e,i._isFullObj_=null;var n=i.originGetBounds=i.getBounds;return i.getBounds=function(e,t){if(t)return n.call((0,y.default)(i),e,t);t=i.root.__time__;return i.boundsUpdateId!==t&&(i.boundsUpdateId=t,i.boundsRect=n.call((0,y.default)(i),e)),i.boundsRect.clone()},i.clamp=null,i.isRubberPlug=!1,i.pM=null,i.pU=null,i.chemTextAry=[],i.changeBgcEvent=null,i.notHandleEqTap=!1,i.canCheckPure=!0,i}return(0,g.default)(u,[{key:"pascal",get:function(){return this._pascal},set:function(e){this.setPascal(e)}},{key:"setPascal",value:function(e){this._pascal=Math.floor(e),(!0===this.isGlassCatheter&&!this.addedBottle||this.addedNode.length<this.maxOpenMouth)&&(this._pascal=L.PASCAL),this._pascal!==L.PASCAL&&this.emit("pascalChange",{pascal:this._pascal})}},{key:"rotateSpriteIcon",get:function(){return this._rotateSpriteIcon||this._freeRotateIcon},set:function(e){this._rotateSpriteIcon=e}},{key:"execute",value:function(e,t){return this.root.execute(e,t)}},{key:"listenAddNode",value:function(){var t=this;this.on("appendEquipment",function(e){t.root.resetPascalNode(),-1===t.addedNode.indexOf(e)&&t.addedNode.push(e)}),this.on("removeEquipment",function(e){t.root.resetPascalNode();e=t.addedNode.indexOf(e);-1!==e&&t.addedNode.splice(e,1)})}},{key:"eqPrepareDrag",value:function(){var e=this;if(!(e.isBaseContainer&&e.parent&&e.parent.isBaseContainer)){if(this.isTypeOne())return this.undoCommadStyle=1,e.dontEmitUndoCommand=!1,this.stageWithPrepareDrag={currentObj:e,currentHitObj:e.currentHitObj},void(this.newEvent=null);if(e.hasCallLimitDrag&&e.hasCallLimitDrag.enabled){this.undoCommadStyle=2,e.dontEmitUndoCommand=!1;var t=void 0;return e.dragRect&&(t=null==e.dragRect.enabled||e.dragRect.enabled),void(this.stageWithPrepareDrag={currentObj:e,currentHitObj:e.currentHitObj,currentHotsport:e.currentHotsport,prepareDragEvent:e.eqAddToViewStack,newAddEvents:e.limitDragNewAddEvents,needRemoveEvents:e.limitDragNeedRemoveEvents,dragRect:e.dragRect,dragRectEnable:t})}e.canDragInLimitArea&&e.canDragInLimitArea.enabled&&(this.undoCommadStyle=3,e.dontEmitUndoCommand=!1,t=void 0,e.dragRect&&(t=null==e.dragRect.enabled||e.dragRect.enabled),this.stageWithPrepareDrag={currentObj:e,currentContainer:e.currentContainer||e.getViewStack(),currentPlug:e.currentPlug,newAddEvents:e.dragInlimitAreaNewAddEvents,needRemoveEvents:e.dragInlimitAreaNeedRemoveEvents,prepareDragEvent:e.eqAddToViewStack,dragRect:e.dragRect,dragRectEnable:t,currentPosition:{x:e.x,y:e.y}})}}},{key:"isTypeOne",value:function(){var e,t=[];this.hasCallLimitDrag?(e=this.hasCallLimitDrag.enabled,t.push(e)):t.push(!1),this.canDragInLimitArea?(e=this.canDragInLimitArea.enabled,t.push(e)):t.push(!1);for(var i=0;i<t.length;i++)if(t[i])return!1;return!0}},{key:"addedToStage",value:function(){}},{key:"creationComplete",value:function(){var t=this;this.on(NBEvent.ADDED,this.addhideCtrlButton),this.on("hasTweenComplete",this.removeWholeRotateType.bind(this,void 0,!0)),this.on("hasTweenComplete",this.updateAllButtonPos.bind(this)),this.originLocalBounds=(0,m.default)({},this.localBounds||this.getLocalBounds()),this.alpha=1;var e=this.root.mouseManager;this.napeObj&&(this.napeObj.mass||L.EQUIPMENT_MASS_OBJ[this.name])&&(L.EQUIPMENT_MASS_OBJ[this.name]&&(this.napeObj.mass=L.EQUIPMENT_MASS_OBJ[this.name]),this.napeObj.oriMass=this.napeObj.mass);var i=this.dragArea||this;T.tapGesture(i,null,this),i.on(T.gesture.TAP,this.eqTap.bind(this)),this.on(MouseEvent.MOUSE_OVER,function(){!1!==t._collapse&&e.changeMouseStatus(S.status.DRAG,!0,t)}),this.on(MouseEvent.MOUSE_OUT,function(){!1!==t._collapse&&e.changeMouseStatus(S.status.DRAG,!1,t)}),void 0===this.localBounds&&(this.localBounds=this.getLocalBounds().clone()),this.removeListener(),this.name&&(D.find(function(e){return e===t.name})&&(this.canDragInLimitArea=!0),j.find(function(e){return e===t.name})&&(this.hasCallContainerCollision=!0),X.initTwoContainerCollision(this),"WoodenStick"!==this.name&&"PaperChannel"!==this.name&&V.initDragInLimitArea(this),L.OPENAIRARY.has(this.name)&&(this.isOpenAirContainer=!0),F[this.name]&&O.getHitProperty(this.name,"GasCollectingBottle")&&this.addEventEqForGasBottle(),this.initBgChangeEvents())}},{key:"initBgChangeEvents",value:function(){this.bgColorChanged(),this.changeBgcEvent=this.bgColorChanged.bind(this),this.root.on(NBEvent.change.BGC,this.changeBgcEvent)}},{key:"bgColorChanged",value:function(){var e,t=this.root.isGrayBgc?L.TEXT_COLOR.DARK:L.TEXT_COLOR.LIGHT;this.growLiqText&&(this.growLiqText.style.fill=t),this.growSolidText&&(this.growSolidText.style.fill=t),this.bg&&this.bg.dial&&(t=this.root.isGrayBgc?1:0,this.bg.dial.currentFrame=t,this.bg.dial1&&(this.bg.dial1.currentFrame=t)),this.name.includes("Burette")&&this.degree1&&this.degree2&&(e=this.root.isGrayBgc?1:0,this.degree1.currentFrame=e,this.degree2.currentFrame=e),this.name.includes("PlasticInjector")&&this.barrel&&this.barrel.dial&&(e=this.root.isGrayBgc?1:0,this.barrel.dial.currentFrame=e)}},{key:"addhideCtrlButton",value:function(e){this.lastAddedEquipment!==e&&(this.lastAddedEquipment=e,this.eqContainerAdded(),e===this.getEqLayer()||this.addNoClearButton||this.addWholeRotateType(),this.addNoClearButton=!1)}},{key:"eqContainerAdded",value:function(){this.rotateSpriteIcon&&(this.viewStack?this.rotateSpriteIcon.setEnabled(!0):(this.rotateSpriteIcon.setEnabled(!1),this!==L.currentConfigEq||this.addNoClearButton||(L.currentConfigEq=null)))}},{key:"addedNodeRemove",value:function(e){var t=this.addedNode.indexOf(e);-1!==t&&this.addedNode.splice(t,1),!e||-1!==(t=e.addedNode.indexOf(this))&&e.addedNode.splice(t,1)}},{key:"addedNodePush",value:function(e){e&&(this.addedNode.includes(e)||this.addedNode.push(e),e.addedNode.includes(this)||e.addedNode.push(this))}},{key:"eqPrepareChoice",value:function(){this.eqPrepareDrag()}},{key:"eqStopDrag",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this;if(!this.noCombine){this.root.resetPascalNode(),e&&e.evt&&e.evt.isEmit&&(e.evt.isEmit=null,n.addNoClearButton=!0);for(var a,r,o=i||this.perfectHitObj(),s=0;s<this.children.length;s++)if(this.children[s]===o)return;if(e&&e.isEquipment&&(o=e,r=!0),"BigHardGlassTube"===n.name&&(n.twoHitClamp&&(r=!0),this.breakTwoHitClamp()),o){if(o instanceof Array)return void(n.hitTwoIronClamp instanceof Function&&n.hitTwoIronClamp(o));if("AsbestosFreeWireGauze"===o.name&&n.isGasBottle&&(!n.isOpen||0<n.currentEquipmentValue))return;if("PlasticBag"===n.name&&o.addedBlackBag)return;if("GlassBar"===n.name&&!o.isOpen)return;if(n.isBeaker&&"AlcoholBurner"===o.name&&Math.abs(Math.abs(n.rotation)-Math.PI)>Math.PI/4)return;if(n.isBeaker&&"Candle"===o.name&&1===o.coverType&&Math.abs(Math.abs(n.rotation)-Math.PI)>Math.PI/4)return;if("NonPorousRubberPlugBig"===n.name)if(n.children.forEach(function(e){e instanceof u&&(t.getCollisionRelation(e,o)||(a=!0))}),a)return;i=this.getCollisionRelation(n,o);return o.parent&&o.parent.parent&&(o.parent.parent===n||o.parent.parent.parent===n)?void 0:("IronClamp"!==o.name||o.clamp.isFull&&o.clamp.isFull()||this.isHardGlassTube||!n.hitTest(o.clamp)||(void 0===(e=this.worldRotation)&&(e=this.rotation),o.clamp.rotation=e),"BigTestTube"!==o.name&&"SmallTestTube"!==o.name||!n.isRubberPlug||(o.canCheckPure=!0),void function(i,n,t,e){var a=i[t.hotspotA]||i,r=n[t.hotspotB]||n,o=r.bg?a.hitTest(r.bg):a.hitTest(r);"hotspotA"===t.hotspotA&&(a=i);"containerHitArea"===t.hotspotB&&(r=n);if(o)if(a.canDragInLimitArea&&r===n&&(r.eqLimitBounds||r.eqLimitBoundsAry)&&a.isEmptyObject(t))a.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:r,dragObj:a});else if(a.hasCallContainerCollision&&r===n&&(r.eqLimitBounds||r.eqLimitBoundsAry)&&a.isEmptyObject(t))a.emit(NBEvent.HITTED_TWOCONTAINER,{hitObj:r,dragObj:a});else{if(void 0===(r=r.getChildAt(0)instanceof PIXI.Graphics&&1===r.children.length?r.parent:r).isFull&&(r.isFull=r.parent.isFull),"NonPorousRubberPlugBig"!==n.name){if(n!==r?(n.emit("hitted",{hitObj:n,dragObj:a,hasHotspot:r}),a.emit("hitted",{hitObj:n,dragObj:a,hasHotspot:r})):(r.emit("hitted",{hitObj:r,dragObj:a}),a.emit("hitted",{hitObj:r,dragObj:a})),a.isBeaker&&"Candle"===r.name&&0===r.coverType)return}else a.hitPlug(r);var s;r.chooseArea&&r.chooseAreaIsFull()||(r.isFull&&r.isFull(a)?r.currentPlug===a&&r.addChildAtWithSamePos(i,0):a.currentContainer||"BigBeaker"===a.name&&"GlassSheet"===r.name&&r.currentHitObj||a.isEmptyObject(t)||r.isBaseContainer&&r.isCovered()&&r.passAdsorb()||r.isCoverGS&&"NonPorousRubberPlugBig"===a.name||r.getChildByName("GlassBar")||r.getChildByName("TurnBrush")||"AsbestosFreeWireGauze"===r.name&&("BaseGasMedicine"===a.medTypeName||"GasCollectingBottle"===a.medTypeName)&&a.isCovered()||(NBDrag.removeDrag(a),i.lastRotation=A.retrieveRotation(i.worldTransform),i.currentHitObj=n,t.zIndex?(s=t.zIndex,"top"==t.zIndex&&(s=r.children.length),r.children.forEach(function(e){"WoodenStick"===e.name&&(t.zIndex=Number(t.zIndex)+1)}),r.addChildAtWithSamePos(i,Number(s)),"HoffmanElectrolyticDevice"===r.name&&(i.oriScale={x:i.scale.x,y:i.scale.y},i.scale.x=1/r.scale.x,i.scale.y=1/r.scale.y),"IronSupport"===r.name&&(r.addChildAtWithSamePos(i,r.children.length-1),r.saveTopObj=i)):r.addChildWithSamePos(i),"NonPorousRubberPlugBig"===i.name&&(r.chooseArea?(s=V.findChooseArea(i,r))&&(s.currentPlug=i):r.currentPlug=i,i.choicePlugScale(r),r.currentEquipmentValue=0,r.findChildDragInArea().forEach(function(e){var t;"ThreeNeckedFlask"===r.name&&(e.name.includes("CondenserTube")||e.name.includes("DroppingFunnel"))||"SmallTestTube"===e.name&&"BigTestTube"===r.name||(V.getData(e,r)&&r.getViewStack().addChildWithSamePos(e),e.isGlassCatheter&&e.addedBottle&&(e.addedBottle=!1),e.isClamp||(t=e.getCollisionRelation(e,n),e.canDragInLimitArea&&r===n&&(r.eqLimitBounds||r.eqLimitBoundsAry)&&e.isEmptyObject(t)&&(e.currentContainer=void 0,e.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:r,dragObj:e,fromSetJson:!0}))),i.rotation=0)}),i.children.concat([]).forEach(function(e){e instanceof u&&e.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:e.parent.parent,dragObj:e,fromSetJson:!0},!0)})),i.resetEqRotaton(r,t),i.adsorbInChooseArea(n,t),i.adsorbEq(r,t,e)))}}(2===arguments.length?arguments[1]:n,o,i,r))}this.parent===this.getEqLayer()&&(this.notBringToFront?n.bringToFront=!1:n.bringToFront=!0),n.emit("stopDragNoPerfectObj",{dragObj:n}),"NonPorousRubberPlugBig"===n.name&&this.children.forEach(function(e){e instanceof u&&e.dragRect&&e.canDragInLimitArea&&(e.dragRect.enabled=!1,e.canDragInLimitArea.enabled=!1,k[e.name]&&(e.forceHitPlug=!0,e.eqStopDrag()))}),this.rotateSpriteIcon&&!this.rotateSpriteIcon.visible&&(this.rotateSpriteIcon.visible=!0),isNaN(this.lastRotation)||TweenMax.isTweening(this)||(this.rotateSpriteIcon&&this.isHardGlassTube||this.isCondenser?this.rotation!==this.lastRotation?TweenMax.to(this,.3,{rotation:this.lastRotation,onComplete:function(){t.lastRotation=void 0}}):this.lastRotation=void 0:0!==this.rotation?TweenMax.to(this,.3,{rotation:0,onComplete:function(){t.lastRotation=void 0}}):this.lastRotation=void 0),!L.destoryByWasteWaterVat.includes(n.name)||(r=n.getSortDisHitObjects()[0])&&r.objB&&("WasteWaterVat"===r.objB.name||"DirtCup"===r.objB.name)&&this.execute(NBCommand.DELETE_EQUIPMENT,{eq:[n]})}}},{key:"hitPlug",value:function(e,t){var i,n,a,r,o,s=this;switch(s.rotation=0,e.bg.scale.x){case e.smallScale:i="small";break;case e.bigScale:i="big";break;case e.hugeScale:i="huge"}i&&(a=("GlassCatheter"===s.name?s.constructor:s).name,o=R[s.name]||q[a]||{topX:0,botY:0},s.eqAddToViewStack(),e.addChildAtWithSamePos(s,0),s.currentPlug=e,V.addEvents(s),s.defaultYInPlug&&e.bg&&s.ropePoint[1].y<s.defaultYInPlug+e.bg.height&&(s.ropePoint[1].y=s.defaultYInPlug+e.bg.height),e.checkChildEqNum(),n=(r=e.bg).width,a=r.height,r=(e=s.originLocalBounds).x,e=e.y,o={maxLeft:.2*n-o.topX-r,maxRight:.72*n-o.topX-r,maxTop:-o.botY-e},NBDrag.removeDrag(s),e={x:s.x,y:s.y},"RotateGlassCatheter"===s.constructor.name&&(o.maxLeft=.1*n+8.5,o.maxRight=.9*n-8.5,o.maxTop=-25),e.x=s.x>o.maxRight?o.maxRight:s.x,e.x=e.x<o.maxLeft?o.maxLeft:e.x,R[s.name]?(o.maxTop+=a,e.y=s.y<o.maxTop?o.maxTop:s.y):s.isGlassCatheter?e.y=o.maxTop:e.y=s.y>o.maxTop?o.maxTop:s.y,TweenMax.to(s,.2,{x:e.x,y:e.y,onComplete:function(){NBDrag.addDrag(s),t||s.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[s]})}}))}},{key:"isFull",value:function(r){var t=this,o=this,e=L.ISPAPEREQUIPMENT.find(function(e){return e===t.name});if(e&&"Forceps"===r.name&&!r.isEmpty())return!0;if(this._isFullObj_)return!0;if(this.chooseArea){if(0==this.chooseArea.children.length)return!0;if("LongIronClampSideLook"===this.name)if(r.canPutTwo){if(this.chooseArea.area2.thisAreaWasFull)return!0}else for(var i=0;i<this.chooseArea.children.length;i++)if(this.chooseArea.children[i].thisAreaWasFull)return!0;for(var n=0;n<this.chooseArea.children.length;n++)if(r.hitTest(this.chooseArea.children[n])&&!this.chooseArea.children[n].thisAreaWasFull)return!1;return!0}return function e(t){{if(o&&o.isBaseContainer){if(o.currentPlug)return!(!r||"NonPorousRubberPlugBig"!==r.name)||!(!isNaN(o.currentPlug.curValue)&&o.currentPlug.curValue<o.currentPlug.maxValue);var i=0;return r&&"NonPorousRubberPlugBig"===r.name&&(i=isFinite(r.curValue)?r.curValue-1:-1),!(isFinite(o.currentEquipmentValue)&&o.currentEquipmentValue+i<o.maxEquipmentValue)}for(var n=0;n<t.length;n++){var a=t[n];if(a instanceof u&&!a.isBlockMedicine)return!0;if(t.children)return e(t.children)}}return!1}(this.children)}},{key:"resetEqRotaton",value:function(e,t){var i=A.retrieveRotation(e.worldTransform);t.rotation?this.finalRotation=t.rotation:this.finalRotation=i,this.parent!==e&&(this.rotation-=i)}},{key:"adsorbInChooseArea",value:function(e,t){if(e.chooseArea){for(var i=this,n=e.chooseArea.children,a=[],r=0;r<n.length;r++){var o=n[r].toGlobal({x:0,y:0}),o=(i.parent===e?e:e.getViewStack()).toLocal(o),o=NBPoint.distance(i,o);a.push({obj:n[r],dis:o}),"LongIronClampSideLook"!==e.name&&a.sort(function(e,t){return e.dis-t.dis})}for(var s=0;s<a.length;s++){var l=a[s].obj,h=i.hitTest(l);if("LongIronClampSideLook"===e.name)if("SmallTestTube"===i.name||"BigTestTube"===i.name){if(1<s){i.getEqLayer().addChildWithSamePos(i),NBDrag.addDrag(i);continue}}else if(s<2)continue;if(!h){var c=i.parent.children.indexOf(i),u=i.parent;i.getEqLayer().addChildWithSamePos(i),h=i.hitTest(l);try{u.addChildAtWithSamePos(i,c)}catch(e){return}s!==a.length-1||h||(i.getEqLayer().addChildWithSamePos(i),NBDrag.addDrag(i))}if(h&&!l.thisAreaWasFull&&!i.currentArea){i.currentArea=l,(i.currentContainer=e).clampEquipments&&e.clampEquipments.push(i),l.thisAreaWasFull=!l.thisAreaWasFull,TweenMax.killTweensOf(i),i._gsTweenID&&delete TweenLite._internals.tweenLookup[i._gsTweenID];var d=this.findLimitArea(e,l)||l,p=d.pos?d.pos.clone():e.toLocal(l.position,l.parent);0!=i.rotation&&(i.rotation>Math.PI?TweenMax.to(i,.2,{rotation:2*Math.PI}):i.rotation>-Math.PI?TweenMax.to(i,.2,{rotation:0}):TweenMax.to(i,.2,{rotation:2*-Math.PI}));var f,I,g,m=Number(t.y);return i.isRubberPlug&&(0!=Math.abs(d.rotation)&&(g=d.rotation,I=Number(t.y),f=p.x,u=p.y+I,c=f-p.x,h=u-p.y,I=c*Math.cos(g)-h*Math.sin(g),g=c*Math.sin(g)+h*Math.cos(g),this.parent&&(p.x=f+I+c,m=u-g+h),TweenMax.to(i,.5,{rotation:d.rotation})),i.on(NBDrag.event.PREPARE_DRAG,i.eqAddToViewStack),(l.currentPlug=i).currentArea=l,e.addCoverBody(void 0,l),e.root.resetPascalNode(),i.curValue=i.curValue||0,i.maxValue=3,e.name&&e.name.includes("HardGlassTube")&&(m="area0"==l.name?-20:e.localBounds.height+20,d=0,"HardGlassTube"===e.name&&(d="area0"===l.name?-3:3),"BigHardGlassTube"===e.name&&(d="area0"===l.name?2:6),p.x+=d)),"ThreeNeckedFlask"===e.name&&("area0"===l.name?(p.x-=5,m+=8):"area1"===l.name?(p.x-=5,m+=7.5):"area2"===l.name&&(p.x-=4)),null!=t.offSetX&&(p.x+=+t.offSetX,m+=+t.offSetY),"BlastAlcoholBurner"===i.name&&(m+=i.localBounds.y),i.stopContainerAdsotb=!0,t.rotation&&i.rotation!==t.rotation&&TweenMax.to(i,.5,{rotation:Number(t.rotation)}),e.oriChoose&&(m+=e.chooseArea.y-e.oriChoose.y),e.chooseArea&&e[l.name]&&e.setChildIndex(e[l.name],e.children.length-1),void TweenMax.to(i,.5,{x:p.x,y:m,onComplete:function(){i.stopContainerAdsotb=!1,e.constructor&&"IronSupport"===e.name&&_.play(E.COLLISION),function(){if(i.needLimitObjAry)for(var e=0;e<i.needLimitObjAry.length;e++)if(i.currentHitObj.constructor.name==i.needLimitObjAry[e])return}(),NBDrag.addDrag(i),i.emit("hasTweenComplete"),e.emit("dragObjComplete",{hitObj:e,dragObj:i})}})}}}}},{key:"adsorbEq",value:function(r,e,t){var o,s,l,h,i,n;function a(){var e,t,i,n,a;o.isBaseContainer&&r&&r.isBaseContainer&&(e=o.toGlobal({x:0,y:0}),t=o.getViewStack().scale.x,i=o.getBounds().x,a=o.getBounds().y,n=o.getBounds().height/t,o.getBounds().width,(a={x:e.x-i,y:e.y-a}).x/=t,a.y/=t,TweenMax.to(o,.5,{x:l+a.x,y:h+a.y-(n-o.localBounds.height),onComplete:function(){"clamp"==s.name&&_.play(E.IRONCLAMP),NBDrag.addDrag(o),o.emit("hasTweenComplete"),r.emit("dragObjComplete",{hitObj:r,dragObj:o}),"BigBeaker"===r.name&&r._pourOutObj_&&"Mortar"===r._pourOutObj_.name&&r._pourOutObj_.emit(NBDrag.event.STOP_DRAG,{target:r._pourOutObj_})}}))}r.chooseArea||(o=this,s=r,l=Number(e.x)||0,h=Number(e.y)||0,o.bottleOffset&&(l=(0,p.default)(l)+o.bottleOffset.x,h=(0,p.default)(h)+o.bottleOffset.y),o.isRubberPlug&&(o.on(NBDrag.event.PREPARE_DRAG,o.eqAddToViewStack),r.currentPlug=o,r.addCoverBody(),o.curValue=o.curValue||0,o.maxValue=3),TweenMax.killTweensOf(o),o._gsTweenID&&delete TweenLite._internals.tweenLookup[o._gsTweenID],o.rotation=A.retrieveRotation(o.worldTransform),i=o.currentHotsport?A.retrieveRotation(o.currentHotsport.worldTransform):o.currentHitObj?A.retrieveRotation(o.currentHitObj.worldTransform):o.parent.rotation,n=0,n=!e.rotation&&(o.hasCallLimitDrag||!o.isBaseContainer)?"IronClamp"===r.name?o.rotation>Math.PI?2*Math.PI:o.rotation>-Math.PI?0:2*-Math.PI:(o.rotation-=i,0):(o.rotation-=i,o.finalRotation),n=Number(n),o.rotation-n>Math.PI?n+=2*Math.PI:n-o.rotation>Math.PI&&(n-=2*Math.PI),Math.abs(n)-Math.PI<.002&&!("GlassBar"===o.name||o.isBeaker&&"ShapeGlassCatheter"===r.name)&&(n=0<o.rotation?Math.abs(n):-Math.abs(n)),"Pledget"===(i=o).name&&r.isBeaker&&(i=r,o.rotation=n=0),i.rotation===n?a():TweenMax.to(i,.5,{rotation:n,onComplete:function(){a()}}),o.isBaseContainer&&r&&r.isBaseContainer||("BlastAlcoholBurner"===o.name&&(h+=o.localBounds.y,l+=o.localBounds.x),n=.5,o.isHardGlassTube&&t&&(l=o.x,h=o.y,n=.01,o.dragRect=null),TweenMax.to(o,n,{x:l,y:h,onComplete:function(){"clamp"==s.name&&_.play(E.IRONCLAMP),function(){if(o.needLimitObjAry)for(var e=0;e<o.needLimitObjAry.length;e++)if(o.currentHitObj.constructor.name==o.needLimitObjAry[e])return}(),NBDrag.addDrag(o,o.dragRect),o.emit("hasTweenComplete"),r.emit("dragObjComplete",{hitObj:r,dragObj:o})}})))}},{key:"findChildDragInArea",value:function(t){var i=[];return this.children.forEach(function(e){e.isEquipment&&(e.isBlockMedicine||"Cotton"!==e.name&&"AbrasiveCotton"!==e.name&&"PerforatedDisc"!==e.name&&"PaperFlower"!==e.name&&("NonPorousRubberPlugBig"===e.name||t&&!t.includes(e.name)||i.push(e)))}),i}},{key:"autoAddPlug",value:function(){var s=this;if(this.currentPlug||this.chooseArea){if(this.chooseArea){for(var e=0;e<this.children.length;e++)this.children[e]&&this.children[e].isEquipment&&(this.children[e].currentContainer=null,this.children[e].addedBottle=null,this.children[e].emit("hitted",{hitObj:s,dragObj:this.children[e]},!0));for(var t=0;t<1e4;t++){var i=this.chooseArea["area"+t];if(!i)return;i.currentPlug||o(this.whetherCanAddPlug(),i)}}}else if(this.currentEquipmentValue){this.currentEquipmentValue=0;for(var n=this.findChildDragInArea(),a=0;a<n.length;a++){var r=n[a];s.getViewStack().addChildWithSamePos(r),r.currentContainer=void 0,r.isGlassCatheter&&r.addedBottle&&(r.addedBottle=!1),r.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:s,dragObj:r},!0)}}else this.isCoverGS||o(this.whetherCanAddPlug());function o(e,t){var i=t||s,n=s.execute(NBCommand.CREATE_EQUIPMENT,e);n.alpha=0;var a=s.getHitProperty(n,s),r=0;a.offSetX&&(r=Number(a.offSetX));var o=Number(a.y);n.once("creationComplete",function(){n.choicePlugScale(s,0),n.alpha=1});e=Number(a.zIndex);t&&(a=(a=s.findLimitArea(s,t)||child).pos?a.pos.clone():s.toLocal(t.position,t.parent)),(i.currentPlug=n).currentArea=i,s.addChildAt(n,e),n.x=Number(a.x)+r,n.y=Number(o),s.plugInit(n),s.addCoverBody(void 0,t),NBDrag.addDrag(n)}}},{key:"whetherCanAddPlug",value:function(){for(var e=["NonPorousRubberPlugBig"],t=this.constructor.name,i=0;i<e.length;i++)if(O.getHitProperty(e[i],t))return e[i];return!1}},{key:"plugInit",value:function(e){e.curValue=0,e.maxValue=3,e.on(NBDrag.event.PREPARE_DRAG,e.eqAddToViewStack)}},{key:"autoDeletePlug",value:function(){if(this.root.resetPascalNode(),this.chooseArea)for(var e=0;e<1e3;e++){var t=this.chooseArea["area"+e];if(!t)break;if(t.currentPlug){this.removeCoverBody(void 0,t);var i=t.currentPlug;if(i.curValue<=0)this.currentEquipmentValue=0,t.currentPlug.destroy(),t.currentPlug=void 0;else{for(var n=[],a=i.parent.children.indexOf(this.currentPlug),r=0;r<i.children.length;r++)i===i.children[r].currentPlug&&i.children[r].isEquipment&&n.push(i.children[r]);for(var o=0;o<n.length;o++){var s=n[o];s.currentPlug=void 0,g(s,this),this.addChildWithSamePos(s),-1!==a&&this.addChildAt(s,a),s.savePosPlug="area"+o,s.emit("removeFromPlug"),i.destroy(),t.currentPlug=void 0}}}}else if(this.currentPlug){this.removeCoverBody();var l=[],h=this.currentPlug.curValue;if(h<=0)return this.currentPlug.destroy(),void(this.currentPlug=void 0);for(var c=this.currentPlug.children.length,u=this.currentPlug.parent.children.indexOf(this.currentPlug),d=0;d<c;d++){var p=this.currentPlug.children[d];p.isEquipment&&l.push(p)}for(var f=0;f<l.length;f++){var I=l[f];I.currentPlug=void 0,g(I,this),this.addChildWithSamePos(I),-1!==u&&this.addChildAt(I,u),I.emit("removeFromPlug")}this.currentEquipmentValue=h,this.maxEquipmentValue=this.currentPlug.maxValue,this.currentPlug.destroy(),this.currentPlug=null}function g(e,t){var i,n;e.dragRect&&t!=e.parent&&(n={x:(i=e.dragRect).x,y:i.y},n=t.toLocal(n,e.parent),e.dragRect={x:n.x,y:n.y,width:i.width,height:i.height},e.lastDragRect=(0,m.default)({},e.dragRect),NBDrag.addDrag(e,e.dragRect))}}},{key:"checkCollision",value:function(){this.activeCount=L.ACTIVE_COUNT}},{key:"eqAdded",value:function(){this.getViewStack().eqChildren.push(this),this.stage=this.root}},{key:"eqRemoved",value:function(){var e=this.getViewStack().eqChildren.indexOf(this);this.getViewStack().eqChildren.splice(e,1),this.stage=null}},{key:"addedToSelectionLayer",value:function(){this.getViewStack().selectionLayer.addItem(this)}},{key:"eqPrepareDelete",value:function(){try{if(TweenMax.killTweensOf(this),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID],this.removeAllText(),this.parent&&this.parent.isClamp&&this.parent.holdObj===this&&(this.parent.holdObj=null),this.addedNode instanceof Array)for(var e=this.addedNode.length-1;-1<e;e--){var t=this.addedNode[e];this.addedNodeRemove(t)}!this.napeObj||(n=this.napeObj.get_space())&&(n.remove(this.napeObj),this.napeObj.userData&&(this.napeObj.userData=null)),this.napeObj2&&(this.napeObj2.get_space().remove(this.napeObj2),this.napeObj2.userData&&(this.napeObj2.userData=null)),this.tubeDrip&&this.tubeDrip.clearAllDrip&&this.tubeDrip.clearAllDrip()}catch(e){}this.engine&&(this.engine.rootContainer=null,this.engine.destroy(),this.engine=null);var i=this.getViewStack();"NonPorousRubberPlugBig"===this.name&&(this.parent!==this.getEqLayer()&&(this.parent.currentPlug=null,this.parent.removeCoverBody&&this.parent.removeCoverBody()),this.currentArea&&this.currentArea.currentPlug===this&&(this.currentArea.currentPlug=null,this.currentArea.thisAreaWasFull=!1)),this.mouseIn&&this.root.mouseManager.changeMouseStatus(-1,!1,this,!0);var n=this.rotateSpriteIcon;n&&n.parent&&n.parent.removeChild(n),this.addedRubber&&this.addedRubber.parent===this&&!this.addedRubber.isEquipment&&(this.addedRubber.rubber.parent&&i.eqLayer.addChildWithSamePos(this.addedRubber),this.addedRubber.equipment=null),this.bubbleParticle&&(this.bubbleParticle.particleFantan?this.bubbleParticle=null:this.bubbleParticle.destroy(!0)),this.currentArea&&(this.currentArea.thisAreaWasFull=!1,this.currentArea=void 0),this.bubbleSound&&(this.bubbleSound.stop(),this.bubbleSound=null),"BigHardGlassTube"===this.name&&this.breakTwoHitClamp(),this.bubbleSound&&(this.bubbleSound.stop(),this.bubbleSound=null),this.__border__&&(this.__border__.destroy(),this.__border__=null),this.outsideContainer&&(this.outsideContainer.outsidePlug=null,this.outsideContainer=null),this.outsidePlug&&(this.outsidePlug.outsideContainer=null,this.outsidePlug=null),this.root.off(NBEvent.change.BGC,this.changeBgcEvent),this.changeBgcEvent=null,this.growLiqText&&(this.growLiqText=null),this.growSolidText&&(this.growSolidText=null),this.bottleGasManager&&(this.bottleGasManager.equipment=null,this.bottleGasManager=null)}},{key:"changedBoundsAndFreshSelect",value:function(){this.originLocalBounds=this.getLocalBounds().clone();var e=this.getViewStack(),t=e.selectionLayer.selectedObj;t&&t.includes(this)&&e.topLayer.renderSelectedObj(t,!0)}},{key:"eqTap",value:function(e){if(!this.notHandleEqTap){for(var t,i=this.root.PointerManager.getPointEquipment(e.data.global),n=[],a=0,r=i.length;a<r;a++)(t=i[a]).dontDrag||n.push(t);var o,s,l=(i=n).length;2!==l&&3!==l||(o=(s=i.concat().sort(function(e,t){return e=e.z_index||0,(t=t.z_index||0)-e}))[0],s=s[l-1],"IronClamp"!==o.name||o.parent!==s&&s.parent!==o.clamp||(l=1,i=[o]),2===l&&o.parent&&o.parent.parent&&o.parent.parent.parent===s&&(l=1,i=[o])),0===l||(1===l?i[0].emitTap():this.root.emit(NBEvent.communicate.angular.SHOW_EQ_LIST,{children:i,data:this.getStageToDomPos(e.data.global)}))}}},{key:"emitTap",value:function(){var e=this.addedNode?this:this.parent;e.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[e]}),e.execute(NBCommand.communicate.angular.SHOW_EQ_ATTRIBUTE,{children:[e]}),e.addedToSelectionLayer()}},{key:"getChildByTypeResuly",value:function(e){var i=this.children,n=[];return e?(e instanceof Array?e.forEach(function(e){t(e)}):t(e),n):i;function t(t){i.forEach(function(e){"[object String]"===Object.prototype.toString.call(t)?e.name===t&&n.push(e):t&&t.isEquipment&&e.isEquipment&&n.push(e)})}}},{key:"matchPlugStyle",value:function(e){for(var t=["NonPorousRubberPlugSmall","NonPorousRubberPlugBig","NonPorousRubberPlugHuge"],i=e.constructor.name,n=0;n<t.length;n++)if(O.getHitProperty(t[n],i))return t[n];return!1}},{key:"_setSwitch_",value:function(){var t,e,i=this;this.ani&&(this._switchIsOpen_=!1,e=(t=this).root.mouseManager,this.ani.on(MouseEvent.MOUSE_OVER,function(){e.changeMouseStatus(S.status.PAN,!0,i.ani)}),this.ani.on(MouseEvent.MOUSE_OUT,function(){e.changeMouseStatus(S.status.PAN,!1,i.ani)}),this.ani.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){e.stopPropagation(),this.currentFrame=0==this.currentFrame?1:0,t._switchIsOpen_=0!=this.currentFrame,t.emit("switchChange",{data:t._switchIsOpen_})}))}},{key:"chooseAreaIsFull",value:function(){if(null!=this.chooseArea){for(var e=0;e<this.chooseArea.children.length;e++)if(!this.chooseArea.children[e].currentPlug)return!1;return!0}}},{key:"setFull",value:function(e){this._isFullObj_=e}},{key:"getFull",value:function(){return this._isFullObj_}},{key:"needPlug",value:function(){for(var e=["NonPorousRubberPlugSmall","NonPorousRubberPlugBig","NonPorousRubberPlugHuge"],t=this.constructor.name,i=0;i<e.length;i++)if(O.getHitProperty(e[i],t))return e[i];return!1}},{key:"isEmpty",value:function(){return function e(t){for(var i=0;i<t.length;i++){var n=t[i];if(n.isEquipment)return!1;if(t.children)return e(t.children)}return!0}(this.children)}},{key:"isEmptyObject",value:function(e){for(var t in e)if(!t.includes("hotspot"))return!1;return!0}},{key:"getHitProperty",value:function(e,t){e=e.constructor.name.toString(),t=t.constructor.name.toString();return O.getHitProperty(e,t)}},{key:"isInChoiceContainer",value:function(e){var t=this.parent;return t===this.getEqLayer()?t:!!t&&("head"!==t.name&&(t instanceof e?t:t.viewStack!=t.root.viewStack&&t!=t.root.viewStack&&(t=!(t.isInChoiceContainer instanceof Function)?t.parent:t).isInChoiceContainer(e)))}},{key:"containsChild",value:function(e){if(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])for(var t=e;;){if(t===this)return!0;if(!(t=t.parent))return!1}else if(e===this||e.parent===this)return!0;return!1}},{key:"findParentContainer",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,i=this.parent;return i!==this.getEqLayer()&&(i[t?"isBaseContainer":"isEquipment"]?e&&i.isRubberPlug?i.findParentContainer(e):i:void 0)}},{key:"perfectHitObj",value:function(){var e,s=this;this.isRubberPlug&&(e=this.bg);var l=this.getSortDisHitObjects(e);function h(e,t){if("NonPorousRubberPlugBig"!==t.name||!t.parent||t.parent===t.getEqLayer()){e=e.constructor.name.toString(),t=t.constructor.name.toString();return O.getHitProperty(e,t)}}return function(){if(s.isHardGlassTube){for(var e=[],t=0;t<l.length;t++){var i=l[t].objB;if("IronClamp"===i.name&&"IronSupport"===i.parent.name&&s.hitTest(i.clamp)){i.selectByIndex=!0;var n=i.bg?s.hitTest(i.bg):s.hitTest(i);if(n&&(i.selectByIndex=!1,e.push(i),1<e.length))break}}if(1<e.length)return e[0].parent.toGlobal({x:0,y:0}).x>e[1].parent.toGlobal({x:0,y:0}).x&&e.unshift(e.pop()),e}for(var a=0;a<l.length;a++){var r=l[a].objB,o=r.bg?s.hitTest(r.bg):s.hitTest(r);if((o=s.isHardGlassTube&&"IronClamp"===r.name?s.hitTest(r.clamp):o)&&h(s,r))return function(e,t,i){for(var n=i+1;n<e.length;n++){var a=e[n].objB;if(a.parent==t&&"ThreeNeckedFlask"!==t.name&&h(s,a))return a}return t}(l,r,a);if(o&&"TestTubeHolder"===s.name&&s.clampObjAry.includes(r.name)&&!s.isFull()&&r.parent===r.getEqLayer())return r.eqStopDrag(null,s);if(o&&"DistillingFlask"===s.name&&("CondenserPipeStraight"===r.name||"CondenserPipeSphere"===r.name)&&r.parent===r.getEqLayer())return r.eqStopDrag(null,s);if(o&&"Cotton"===s.name&&r.checkCanAddCotton&&r.checkCanAddCotton())return r.addAbsorbCotton(s);if(o&&"PlasticBrick"===s.name&&/(HardGlassTube)$/.test(l[a].objB.name))return l[a].objB}}()}},{key:"intersectRect",value:function(e){if(e){var h=[],t=this.localBounds,i=e.localBounds;if(t&&i){var c=this.toGlobal({x:t.x,y:t.y}),u=this.toGlobal({x:t.x+t.width,y:t.y}),d=this.toGlobal({x:t.x,y:t.y+t.height}),p=this.toGlobal({x:t.x+t.width,y:t.y+t.height}),f=e.toGlobal({x:i.x,y:i.y}),I=e.toGlobal({x:i.x+i.width,y:i.y}),g=e.toGlobal({x:i.x,y:i.y+i.height}),m=e.toGlobal({x:i.x+i.width,y:i.y+i.height});!function(){for(var e=[c,u,p,d],t=[f,I,m,g],i=0;i<e.length;i++)for(var n=e[i],a=e[(i+1)%e.length],r=0;r<t.length;r++){var o=t[r],s=t[(r+1)%t.length];y(n,a,o,s)&&(s=y(n,a,o,s),h.push(new N(s.x,s.y)))}for(var l=0;l<e.length;l++)J.containsPoint(t,e[l])&&h.push(new N(e[l].x,e[l].y)),J.containsPoint(e,t[l])&&h.push(new N(t[l].x,t[l].y))}(),function(e){if(!(e.length<2)){var t;e.sort(function(e,t){return e.y-t.y}),e[0].y==e[1].y&&e[1].x<e[0].x&&(t=e[0],e[0]=e[1],e[1]=t);for(var i=0;i<e.length-1;i++){var n=e[0],a=e[i+1],n=Math.atan2(a.y-n.y,a.x-n.x);n<0&&dubbger,a._r=n}e.sort(function(e,t){return e._r-t._r})}}(h);e=t.width*t.height,t=i.width*i.height,i=this.getViewStack().scale.x,i=J.getRealArea(h)/Math.pow(i,2);return e<t?i/e:i/t}}function y(e,t,i,n){var a=(t.y-e.y)*(n.x-i.x)-(e.x-t.x)*(i.y-n.y);if(0==a)return!1;var r=((t.x-e.x)*(n.x-i.x)*(i.y-e.y)+(t.y-e.y)*(n.x-i.x)*e.x-(n.y-i.y)*(t.x-e.x)*i.x)/a,a=-((t.y-e.y)*(n.y-i.y)*(i.x-e.x)+(t.x-e.x)*(n.y-i.y)*e.y-(n.x-i.x)*(t.y-e.y)*i.y)/a;return(r-e.x)*(r-t.x)<=1e-6&&(a-e.y)*(a-t.y)<=1e-6&&(r-i.x)*(r-n.x)<=1e-6&&(a-i.y)*(a-n.y)<=1e-6&&{x:r,y:a}}}},{key:"drawBg",value:function(e,t,i,n,a){var r=this;if(!r.bg)throw"容器的flash中没有bg这个元件，请添加上";var o=d(360);if(r.bg.parent){var s,l,h=o.createCloneBg(r.bg),c=e.name;"NonPorousRubberPlugBig"===r.name&&(s=L.PLUGTOSMALL.has(c),o=L.PLUGTOBIG.has(c),c=L.PLUGTOHUGE.has(c),s?(h.scale.x=r.smallScale,h.scale.y=r.smallScale):o?(h.scale.x=r.bigScale,h.scale.y=r.bigScale):c&&(h.scale.x=r.hugeScale,h.scale.y=r.hugeScale)),(l=n?n.zIndex:l)&&!isNaN(Number(l))?e.addChildAt(h,l):e.addChild(h),"HoffmanElectrolyticDevice"===e.name&&(h.scale.x=1/e.scale.x,h.scale.y=1/e.scale.y);e=h.getLocalBounds().clone();return n&&n.rotation&&(h.rotation=Number(n.rotation)),a&&(h.scale.x=a.x,h.scale.y=a.y),h.x=t-e.x,h.y=i-e.y,h}}},{key:"removeGraphicsOrBg",value:function(){var e=this;function t(e){var t;e.willAdsorbEqBounds&&(e.willAdsorbEqBounds instanceof PIXI.Graphics?e.willAdsorbEqBounds.clear():((t=e.willAdsorbEqBounds).parent&&t.parent.removeChild(t),t.removeAllListeners()),e.willAdsorbEqBounds=void 0)}e.lastHitEquipment&&(e.lastHitEquipment.chooseArea&&e.lastHitArea?(t(e.lastHitArea),e.lastHitArea=void 0):("DryingTube"===e.lastHitEquipment.name?e.lastHitEquipment.tRef.willAdsorbEqBounds?t(e.lastHitEquipment.tRef):e.lastHitEquipment.bRef.willAdsorbEqBounds?t(e.lastHitEquipment.bRef):t(e.lastHitEquipment):t(e.lastHitEquipment),e.lastHitEquipment=void 0))}},{key:"getCollisionRelation",value:function(e,t){e=e||this,e="string"==typeof e?e:e.constructor.name.toString(),t="string"==typeof t?t:t.constructor.name.toString(),t=O.getHitProperty(e,t);return t||!1}},{key:"eqAddToViewStack",value:function(){var e;this.viewStack===this.root.viewStack||TweenMax.isTweening(this)||("QualitativeFilterPaper"===this.name&&(this.parent.hasFiltePaper=!1),this.emit("addToViewStack",{target:this.parent}),this.parent.emit("_childPrepareDrag_",{child:this}),this.isRubberPlug&&(this.parent.chooseArea?(this.parent.removeCoverBody(void 0,this.currentArea),this.currentArea&&(this.currentArea.currentPlug=null,this.currentArea.thisAreaWasFull=!1)):(this.parent.removeCoverBody(),this.parent.currentPlug=null),this.children.forEach(function(e){e.currentContainer=null,e.addedBottle=null,e.currentArea=null})),this.currentContainer&&this.currentContainer.currentEquipmentValue&&this.currentContainer.currentEquipmentValue--,this.currentContainer&&(this.currentContainer===this.getSelfParent()&&(this.currentContainer.addedNodeRemove(this),this.currentContainer.clampEquipments&&this.currentContainer.clampEquipmentsRemove(this)),this.currentContainer=null),this.dragRect&&(this.dragRect.enabled=!1),this.addedBottle&&(this.addedBottle=null),this.oriScale&&(this.scale.x=this.oriScale.x,this.scale.y=this.oriScale.y),this.coveredGasBottle===this.parent&&this.parent.coveredGasBottle===this&&(this.addedNode.splice(this.addedNode.indexOf(this.coveredGasBottle),1),this.parent.addedNode.splice(this.parent.addedNode.indexOf(this.parent.coveredGasBottle),1),this.coveredGasBottle=null,this.parent.coveredGasBottle=null),-1===this.parent.scale.x&&(e=J.rotatePoly([{x:-this.width,y:-this.height}],this.rotation)[0],this.parent.reversalX?this.x-=e.x:(this.x+=e.x,this.y-=e.y)),this.root.viewStack.addChildWithSamePos(this),this.addToVIewResetRotation||(this.rotation=A.retrieveRotation(this.worldTransform)),this.currentArea&&(this.currentArea.thisAreaWasFull=!1,this.currentArea=void 0))}},{key:"dragDropOffset",value:function(){return new PIXI.Point(0,0)}},{key:"getEquipmentsByType",value:function(e,t){if(e instanceof Array){for(var i=[],n=0;n<e.length;n++)i=i.concat(this.getEquipmentsByType(e[n],t));return i}e=e||u;for(var a=this.getViewStack().eqChildren,r=[],o=0;o<a.length;o++)a[o]instanceof e&&a[o]!==this&&(t instanceof Function&&!t(a[o])||r.push(a[o]));return r}},{key:"getHitObjectsByType",value:function(e){for(var t=[],i=this.getEquipmentsByType(e),n=0;n<i.length;n++){var a=i[n];this.hitTest(a)&&t.push(i[n])}return t}},{key:"getObjectByAABB",value:function(e,t,i,n,a){for(var r=this.getEquipments(null,n),o=[],s=0,l=r.length;s<l;s++){var h,c,u=r[s];if(u!==this){if(a){if(u.isBaseContainer&&u.preventCalEffect&&"VacuumGlassTube"!==u.name)continue;if(!(u.isBaseContainer||u.lightOn||u.getHeatDt||u.eqHeat||u.increaseTemp))continue}"Candle"===u.name&&u.smokeParticle&&0<u.smokeRenderCount?o.push(u):(h=u.allowGetBounds,i&&u.isBlockMedicine&&(u.allowGetBounds=!0),"BlockCu2"===u.name&&(t=!0),c=void 0,c=u.getBounds(),Math.abs((c.x+c.right)/2-(e.x+e.right)/2)<=(c.width+e.width)/2&&Math.abs((c.y+c.bottom)/2-(e.y+e.bottom)/2)<=(c.height+e.height)/2?o.push(u):t&&(c=u.toGlobal({x:0,y:0}),e.contains(c.x,c.y)&&o.push(u)),u.allowGetBounds=h)}}return o}},{key:"enableRotate",value:function(e,t,i){if(e){if(t=t||this.rotationConf||{},1!==i)return this.setVRotateButton();this.rotateSpriteIcon?this.rotateSpriteIcon.setEnabled(!0):this.setRotateButton(),this.rotateSpriteIcon.setEnabled(!0,t)}else this.rotateSpriteIcon&&this.rotateSpriteIcon.setEnabled(!1);return this.rotateSpriteIcon}},{key:"setRotateButton",value:function(){var e,t={x:this.localBounds.width/2+this.localBounds.x,y:this.localBounds.y-L.BUTTON_DIS};"TestTubeHolder"===this.name&&(e=this.getCenterPosition(),t.x=e.x,t.y-=t.x/2),this.rotateSpriteIcon=new z(this,t)}},{key:"setVRotateButton",value:function(){this.vRotateSprite&&this.vRotateSprite.setEnabled(!1);var e=d(362);return this.vRotateSprite=new e(this),this.vRotateSprite.setEnabled(!0,this),this.vRotateSprite}},{key:"hideVRotateBtn",value:function(){var e;this.vRotateSprite&&(e=!!this.rotateCircle&&this.rotateCircle.visible,this.vRotateSprite.setEnabled(!1,e,!0),this.vRotateSprite=void 0)}},{key:"getEquipmentByUUID",value:function(o,s){var l=this;return new n.default(function(i,n){var a=0;var r=setTimeout(function e(){if(a++,l.isDeleting&&r)return clearTimeout(r),r=null,void n("器材已删除,不做后续处理");if(100<a)return clearTimeout(r),void n("获取器材超时".concat(o));var t=s?function e(t){var i=t;return i.parent&&i.parent!==i.getViewStack().eqLayer?i.parent.getUUID()===o?i.parent:e(t.parent):null}(l):function(){for(var e=l.getEquipments(),t=0;t<e.length;t++){var i=e[t];if(i.getUUID()===o)return i}return null}();t?(clearTimeout(r),i(t)):r=setTimeout(e,100)},100)})}},{key:"getEquipments",value:function(e,t){return this.getEquipmentsByType(e,t)}},{key:"showBorder",value:function(e,t){var r,o=20,s=this;void 0===this.__border__?(this.__border__=new PIXI.Graphics,(r=this.__border__).alpha=0):r=this.__border__;var i,n=this.getBounds().clone();function a(e){var t=s.getViewStack(),i=t.toLocal(e),n=t.scale.x,a=i.x-o,t=i.y-o,i=e.width/n+2*o,n=e.height/n+2*o;r&&(r.clear(),r.lineStyle(2,16777215),r.drawRoundedRect(a,t,i,n,25))}t&&(t=t.getBounds().clone(),n.union(t)),a(n),e?(null==r.parent&&this.root.viewStack.addChild(r),TweenMax.to(r,L.SECOND_PER_ALPHA*(1-r.alpha),{alpha:1}),this.lastBorderRect=n):(i=this,r&&r.parent&&(this.lastBorderRect&&a(this.lastBorderRect),TweenMax.to(r,L.SECOND_PER_ALPHA*r.alpha,{alpha:0,onComplete:function(){r.parent&&i.root.viewStack.removeChild(r)}})))}},{key:"setPosition",value:function(e,t){var i,n;this.napeBody?(this.napeBody.posx=e,this.napeBody.posy=t):(this.moveThisToXY&&(i=e-this.x,n=t-this.y,this.moveThisToXY(i,n)),this.x=e,this.y=t)}},{key:"setRotation",value:function(e){this.napeBody?this.napeBody.set_rotation(e):this.rotation=e}},{key:"getViewStack",value:function(){return this.root.viewStack}},{key:"getEqLayer",value:function(){return this.getViewStack().eqLayer}},{key:"viewStack",get:function(){if(null===this.parent)return null;var e=this.parent.parent;return e===this.getViewStack()?e:null}},{key:"destroy",value:function(){this.parent&&this.parent.removeChild(this),this.root.viewStack.selectionLayer.deleteChoice(this),NBDrag.removeDrag(this),this.removeAllListeners()}},{key:"updateRotationNum",value:function(){Math.abs(this.rotation)>Math.PI&&(0<this.rotation?this.rotation=this.rotation-2*Math.PI:this.rotation=this.rotation+2*Math.PI)}},{key:"update",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.016666;if(this.rotateSpriteIcon&&this.updateRotationNum(),this.isGlassCatheter){var n=[this],a=[];this.addedNode.forEach(function(e){a.push({node:e,parent:t})});for(var r=[],o=!0,i=function(){if(0===a.length||!o)return"break";o=!1;for(var i=[],e=0;e<a.length;e++)!function(e){var t=a[e].node;-1===n.indexOf(t)&&(o=!0,n.push(t),t&&(t.liquidVertexUp?r.push(a[e]):(t.isGlassCatheter&&t.addedBottle&&(t.addedRubber||t.addedRubberCount+1===t.maxOpenMouth)||!1===t.catheterIsStoped&&t.addedNode[0]&&t.addedNode[1]||!0===t.catheterIsStoped)&&(t.catheterIsStoped||t.addedNode.forEach(function(e){i.push({node:e,parent:t})}))))}(e);a=i};;)if("break"===i())break;for(var s=0,l=!1,h=0;h<r.length;h++)0!==r[h].parent.isUnderLiquid&&!r[h].node._switchIsOpen_||!1!==l||(l=!0),s+=r[h].node.pascal;0===this.isUnderLiquid&&(l=!1),this.connectContainer=r,l&&(this.pascal=s/r.length)}var c,u,d=this.particlesOfAlOrMgAndI;d&&(c=d.fire,u=d.smoke,c.render(e),u.render(e),0==(d=d.count--)?this.root.particleManager.destroyParticleofAlandIGroup(this):d<50&&(c.setParticleProp("maxParticles",d/50*50),u.setParticleProp("maxParticles",d/50*100)))}},{key:"replaceNapeBody",value:function(e){var t,i;(this.isBlockMedicine||this.container)&&(!(i=this.polyDataMap[e])||i.length<1||(t=[],i[0].forEach(function(e){t.push(new nape.geom.Vec2(e.x,e.y))}),(e=this.napeBody)&&(e.get_shapes().clear(),i=this.medVo,i=new nape.phys.Material(.2,4,5,(0,r.default)(i.dat.density_solid),500),i=new nape.shape.Polygon(t,i,null),e.add(i),i.get_filter().set_collisionGroup(2),i.get_filter().set_fluidGroup(2),this.napeShape=i)))}},{key:"radiantHeat",value:function(e,i,t,n,a,r){var o;this.root.viewStack.hasEqMove||!this.heatRectObjAry?this.heatRectObjAry=o=this.getObjectByAABB(i,!0,void 0,void 0,!0):o=this.heatRectObjAry,!0!==a||o.includes(this)||o.push(this);for(var s,l=1/0,h=null,c=i.width/2,u={x:i.x+i.width/2,y:i.y+i.height/2},d=0;d<o.length;d++){var p,f,I,g,m=o[d];if(m.liquidVertexUp&&(p=J.getMinDistance(m.liquidVertexUp,new N(u)),(p=J.containsPoint(m.liquidVertexUp,u)||this.isHoldAnimation?0:p)<l&&(l=p,h=m),f=Math.abs(c-p),p<c&&(s=n,I=f/p,I=L.DEFAULT_TEMP+(s-L.DEFAULT_TEMP)*I,g=t*e*f/c,n=m.gasTempReduce(n=s<I?s:I,m.getTotalCapacity()),m.medicineData.increaseGasHeat(g,n),m.hasReact+=2,m.medicineData.needTempLoss=!0)),m.liquidVertex&&(I=J.getMinDistance(m.liquidVertex,new N(u)),(J.containsPoint(m.liquidVertex,u)||this.isHoldAnimation)&&(I=0),g=Math.abs(c-I),I<c&&m.medicineData.increaseHeat(t*e*g/c,n)),m.lightOn instanceof Function&&200<n)try{var y=m.getLightOnPoint(u);((0,P.default)(y)?y:[y]).forEach(function(e,t){e&&Math.abs(e.x-u.x)<i.width/2&&Math.abs(e.y-u.y)<i.height/2&&m.lightOn(e,t,i)})}catch(e){}"WoodenStick"===m.name&&m.getHotPower instanceof Function&&m.getHotPower(m,m.getShapeVector(),"wood"),m.increaseTemp instanceof Function&&m.increaseTemp(i,n,this)}r&&r.ifScaleParticle&&((a=r.heatInfoObj)&&a.eq===h||(r.heatInfoObj={eq:h}))}},{key:"newRadiantHeat",value:function(u,i,d,e,t,p,n){var a,r=this,f=e,I=1,g=this.getViewStack().scale.x,m={x:i.x+i.width/2,y:i.y+i.height};this.root.viewStack.hasEqMove||!this.heatRectObjAry?this.heatRectObjAry=a=this.getObjectByAABB(i,!0,void 0,void 0,!0):a=this.heatRectObjAry,!0!==t||a.includes(this)||a.push(this);for(var o=1/0,s=null,l=0;l<a.length;l++){var h=a[l];if("AsbestosFreeWireGauze"===h.name||"CopperWire"===h.name||"IronWire"===h.name||"AsbestosFreeWireGauzeSpecil"===h.name){var c={},y=new N(m),v=h.getShapeVector();if(!v)break;v=J.getMinDistance(v,y,c)/g;v<o&&(o=v,s=h);var C,M,c=c.projectPoint,y={x:c.x-y.x,y:c.y-y.y};0===y.x&&(!C||C<y.y)&&h.name.includes("AsbestosFreeWireGauze")&&(M=i.height,i.height=-(C=y.y),i.y+=M+y.y,D(h,h.getShapeVector(),"AsbestosFreeWireGauze"))}"EvaporatingDish"!==h.name&&"BigEvaporatingDish"!==h.name&&"BlockCu2"!==h.name||(M=h.toLocal(m),y=h.toGlobal({x:0,y:0}),y={x:M.x,y:m.y-y.y},"Candle"===this.name?h.heatWithCandle(y):"BunsenBurner"!==this.name&&"BlastAlcoholBurner"!==this.name&&"AlcoholBurner"!==this.name||"BlockCu2"===h.name||h.heatWithAlcohol(y))}for(var b=0;b<a.length;b++){var x=a[b];if(x.localBounds){var O=f,A=x.realCapacityVertex;!A&&x.isBlockMedicine&&x.getRealCapacityVertex&&(A=x.getRealCapacityVertex());A=D.call(this,x,A,"total",!0);if(A<o&&(o=A,s=x),x.isFireOpen||D.call(this,x,x.liquidVertexUp,"gas"),D.call(this,x,x.liquidVertex),"WoodenStick"===x.name&&D(x,x.getShapeVector(),"wood"),x.lightOn instanceof Function)try{var T=x.getLightOnPoint(m);((0,P.default)(T)?T:[T]).forEach(function(e){var t;e&&(t=i.width/2,"AbrasiveCotton"===x.name&&(t=i.width),Math.abs(e.x-m.x)<t&&e.y-m.y<0&&m.y-e.y<L.DISTANCE_ALCOHOL_OUTER_FIRE*r.root.viewStack.scale.x&&x.lightOn(e,m))})}catch(e){}if(x.lightOnBySmoke instanceof Function&&x.lightOnBySmoke(n),p&&x.lightOnAlcohol instanceof Function)try{var S=x.getLightOnPoint(m);((0,P.default)(S)?S:[S]).forEach(function(e){e&&Math.abs(e.x-m.x)<i.width/2&&e.y-m.y<0&&x.lightOnAlcohol(e,m)})}catch(e){}if(x.increaseTemp instanceof Function){if(("Thermometer"===x.name||"ThermometerPlus"===x.name)&&x.currentContainer&&x.currentContainer.liquidVertex){A=x.toGlobal(x.center.position);if(J.containsPoint(x.currentContainer.liquidVertex,A))continue}if(x.isBlockMedicine){if(x.container&&x.container.isBaseContainer&&x.container.currentContainer&&x.container.currentContainer.liquidVertex){var w=x.container.currentContainer.liquidVertex,B=x.toGlobal({x:0,y:0});if(J.containsPoint(w,B))continue}if(x.container&&("QualitativeFilterPaper"===x.container.name||"CopperSheet"===x.container.name))continue}w=x.toLocal(m),B=x.toGlobal({x:0,y:0}),B=(w.x,m.y-B.y);"BlockCu2"===x.name&&170<B&&"Candle"===this.name&&(O=150),x.increaseTemp(i,O,this)}}}function D(n,e,t,i){if(e&&!(e.length<1)){var a=f;I=1;var r={},o=new N(m),s=J.getMinDistance(e,o,r)/g,l=r.projectPoint;"total"===t&&function(e,t,i){e=G.containsPoint(e,t,i);if((n.isFireOpen=e)&&n.canCheckPure&&n.isOpen&&n.medicineData&&3e-4<n.medicineData.getGasMol()){t=n.getTotalCapacity();if(!(.8<n.getCurrentCapacity()/t)){i=n.medicineData.getGasMol(),e=n.medicineData.getFireGas(),t=e.gasMol/i;if(!(t<.5)){if(n.pureSoundTime){i=new Date;if(i-n.pureSoundTime<5e3)return;n.pureSoundTime=i}else n.pureSoundTime=new Date;.85<t?_.play(E.CHECKPUREPU):_.play(E.CHECKPUREJIAN),e.fireAry.forEach(function(e){var t=e.getMol();e.setMol(.8*t)}),n.canCheckPure=!1}}}}(l,e[e.length-1],e[0]);var h=l.x-o.x,r=l.y-o.y,h=r<5?180*Math.atan(r/h)/Math.PI:0;h=Math.abs(h),p?(a=s<L.DISTANCE_ALCOHOL_CENTER_FIRE?u=L.TEMP_ALCOHOL_CENTER_FIRE:s<L.DISTANCE_ALCOHOL_INTER_FIRE?u=L.TEMP_ALCOHOL_INTER_FIRE:s<L.DISTANCE_ALCOHOL_OUTER_FIRE?u=L.TEMP_ALCOHOL_OUTER_FIRE:s<L.DISTANCE_ALCOHOL_ALL_FIRE?(u=L.TEMP_ALCOHOL_OUTER_FIRE,(I=(L.DISTANCE_ALCOHOL_ALL_FIRE-s)/(L.DISTANCE_ALCOHOL_ALL_FIRE-L.DISTANCE_ALCOHOL_INTER_FIRE))*(u-L.DEFAULT_TEMP)):(I=0,L.DEFAULT_TEMP),this&&this.heatValueRatio&&(u*=this.heatValueRatio),J.containsPoint(e,m)&&(a=u=L.TEMP_ALCOHOL_OUTER_FIRE,I=1,h=90),"CopperSheet"===n.name&&(I*=2)):(u=a,100<s?(I=(L.DISTANCE_ALCOHOL_ALL_FIRE+100-s)/L.DISTANCE_ALCOHOL_ALL_FIRE)<0&&(I=0):I=1,a=I*(a-L.DEFAULT_TEMP),this&&this.isCombustionSpoon&&J.containsPoint(e,m)&&(this.currentContainer===n?(h=90,I=2):!n.liquidVertex||(c=J.getMinDistance(n.liquidVertex,o))<=200&&(h=90,I=.2+(200-c)/200*.8)));var c=d*u*I*(h/90)*.8;if(a=(a=a*(h/90)*I)<L.DEFAULT_TEMP?L.DEFAULT_TEMP:a,0!==c)return n.isTestTube&&n.currentContainer&&n.currentContainer.isBeaker&&(a=n.currentContainer.medicineData.getLiquidAverageTemp()),"VacuumGlassTube"===n.name?n.heatSelf(a,c):"gas"===t?(a=n.gasTempReduce(a,n.getTotalCapacity()),n.medicineData.increaseGasHeat(c/1.5,a)):"wood"===t?n.getHeatDt(l,c,a,s):"AsbestosFreeWireGauze"===t?n.eqHeat(a,c):(n.getTotalCapacity&&n.getTotalCapacity()<30&&(c*=.5),n.medicineData&&n.medicineData.increaseHeat(c,a)),i?s:void 0;"wood"===t&&Math.abs(l.x-o.x)<50&&(o={x:o.x,y:o.y-20},n.getHeatDt(o,10,f,s))}}n&&n.ifScaleParticle&&((t=n.heatInfoObj)&&t.eq===s||(n.heatInfoObj={eq:s}))}},{key:"gasTempReduce",value:function(e,t){if(e<L.DEFAULT_TEMP)return e;var i=Math.pow(e-L.DEFAULT_TEMP,2)/5e5,i=1-.428*t/250*(i=1<i?1:i);return e*=i=i<.4?.4:i}},{key:"getUUID",value:function(){return void 0===this._uuid_&&(this._uuid_=Math.random().toString().substring(2)),this._uuid_}},{key:"setUUID",value:function(e){this._uuid_=e}},{key:"medicineManager",get:function(){return this.root===this?null:this.root.medicineManager}},{key:"getSolidMedicineInfo",value:function(){return new o.default}},{key:"getLiquidMedicineInfo",value:function(){return new o.default}},{key:"getGasMedicineInfo",value:function(){var e,t;return this.gasAry||(e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),e=new w(e,20),t=new w(t,80),this.gasAry=[e,t]),this.gasAry[0].setMol(20),this.gasAry[1].setMol(80),(new o.default).set("O2",this.gasAry[0]).set("N2",this.gasAry[1])}},{key:"setReactStatus",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;"0"!==e.Available&&(this.isBlockMedicine?this.container?(t=this.container,this.conf_chemical_equation=!1):(t=this).conf_chemical_equation=!0:t=this.isCombustionSpoon&&this.getSelfParent&&this.getSelfParent()&&this.getSelfParent().isBaseContainer?this.getSelfParent():this,t.medicineData&&t.medicineData.chemicalFuncAry.add({equation:e,lifeTime:i}))}},{key:"getConfigureData",value:function(){return{confArr:[]}}},{key:"getShapeVector",value:function(){var e=this,t=this.getViewStack().scale.x;if(!e.localBounds)return!1;var i=e.localBounds;"WoodenStick"===e.name&&(i=e.bg.getLocalBounds());var n=e.toGlobal(i),e=n.x,n=n.y;return[new N({x:e+i.width*t,y:n}),new N({x:e+i.width*t,y:n+i.height*t}),new N({x:e,y:n+i.height*t}),new N({x:e,y:n})]}},{key:"findTwoContainerRotate",value:function(e){var t=A.retrieveRotation(e.worldTransform),e=A.retrieveRotation(this.worldTransform);return Math.abs(e-t)>Math.PI?2*Math.PI-Math.abs(e-t):Math.abs(e-t)}},{key:"getRealRotation",value:function(){return A.retrieveRotation(this.worldTransform)}},{key:"colorFilter",value:function(e,t,i){this.diffuseColor||(this.diffuseColor=new PIXI.filters.ColorMatrixFilter,this.filters=[this.diffuseColor],this.diffuseColor.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.vc={x:0,y:0,z:0});var n=0,a=0,r=0;this.defaultColor&&(n=this.defaultColor>>16,a=this.defaultColor>>8&255,r=255&this.defaultColor);var o=0;e<0&&(e=-e,o=1),n=(e>>16)-n,a=(e>>8&255)-a,r=(255&e)-r,n/=255,a/=255,r/=255;var s=this.diffuseColor,l=this.vc;if(TweenMax.killTweensOf(this.vc),this.vc._gsTweenID&&delete TweenLite._internals.tweenLookup[this.vc._gsTweenID],o&&(n=-n,a=-a,r=-r),0===t)return this.vc={x:n,y:a,z:r},s.matrix[4]=this.vc.x,s.matrix[9]=this.vc.y,s.matrix[14]=this.vc.z,void(i&&i());TweenMax.to(this.vc,t,{x:n,y:a,z:r,onUpdate:function(){s.matrix[4]=l.x,s.matrix[9]=l.y,s.matrix[14]=l.z},onComplete:function(){s.matrix[4]=l.x,s.matrix[9]=l.y,s.matrix[14]=l.z,i&&i()}})}},{key:"getSortDisHitObjects",value:function(e,t,i){var n=this,a=(e||this).getBounds(),r=n.sortDisOffsetObj;r&&(e=n.getViewStack().scale.x,r.x&&(a.x-=r.x*e),r.y&&(a.y-=r.y*e),r.width&&(a.width-=r.width*e),r.height&&(a.height-=r.height*e));var o=this.getObjectByAABB(a),s=[];if(0<o.length){for(var l=0;l<o.length;l++)if(!o[l].noInteract&&(t||!function(e){for(var t=0;t<n.children.length;t++)if(n.children[t]==e)return!0;return!1}(o[l]))&&!o[l].ifExistPaper){if(!i){if(o[l].isCovered instanceof Function&&o[l].isCovered()&&!o[l].naturalCover)continue;if(o[l].isCovered instanceof Function&&!o[l].isCovered()&&o[l].isCoverGS&&o[l].openArea<.3)continue}var h=n.getCollisionRelation(n,o[l]),c=o[l][h.hotspotB]||o[l];if(void 0===c.isFull&&(c.isFull=c.parent.isFull),!("AsbestosFreeWireGauze"===c.name&&c.isFull(this)||c.getFull instanceof Function&&c.getFull())){g(this);var u={x:a.x+this.localBounds.width/2,y:a.y+this.localBounds.height/2};g(o[l]);var h=void 0,h=c!==o[l]?o[l].toGlobal(c):o[l].toGlobal({x:o[l].localBounds.x+o[l].localBounds.width/2,y:o[l].localBounds.y+o[l].localBounds.height/2});if(o[l].chooseArea){for(var d={x:0,y:0},p=0,f=0;f<10;f++){var I=o[l].chooseArea["area"+f];if(!I)break;d.x+=I.x+I.width/2,d.x+=I.y+I.height/2,p++}d.x/=p=p||1,d.y/=p,h=o[l].chooseArea.toGlobal(d)}c=(c=h,h=void 0,h=u.x-c.x,c=u.y-c.y,Math.sqrt(h*h+c*c));s.push({objA:this,objB:o[l],dis:c})}}s.sort(function(e,t){return e.dis-t.dis})}function g(e){null==e.localBounds&&(e.localBounds=e.getLocalBounds().clone())}return s}},{key:"graphicsMoveMessage",value:function(e,t,i,n){var a=!i.medVO;n=e.toLocal(n,t),i.x=n.x,i.y=n.y,t.graphicsMoveContainer(i,t,e,a,n)}},{key:"graphicsMoveContainer",value:function(e,t,i,n,a){var r,o=e.container.medicineData.solidAry,s=e.solidMedicineInfo,l=M(s.keys());try{for(l.s();!(r=l.n()).done;){var h=r.value,c=o[h];c&&c.mol<=0&&delete o[h]}}catch(e){l.e(e)}finally{l.f()}t.removeNbGraphic([e]),e.container=i,n?(i.addChild(e),"Fe"===e.name&&(a.x-=10),this.containerAddSurFaceVo(t,e.surFaceVo,!1)):(i.particleMedContainer.addChild(e),i.addNBGraphic(e.medVO.name,[e])),i.noAddMedicine&&e.destroy(),e.napeBody.set_position(new nape.geom.Vec2(a.x,a.y)),e.napeBody.set_space(i.engine.space);t=e.container.rotation,a=Math.sin(t)*L.BODY_DROP_SPEED,t=Math.cos(t)*L.BODY_DROP_SPEED;e.napeBody.set_velocity(new nape.geom.Vec2(a,t));var u,d=i.medicineData.solidAry,p=M(s.keys());try{for(p.s();!(u=p.n()).done;){var f=u.value,I=s.get(f);I&&(d[f]?d[f].mol+=I.mol:d[f]=I.deepClone())}}catch(e){p.e(e)}finally{p.f()}this.containerAddSurFaceVo(i,e.surFaceVo,!0)}},{key:"containerAddSurFaceVo",value:function(i,e,n){e instanceof Array&&e.forEach(function(e){var t=!0===n?e.getMol():-e.getMol();i.medicineData.addSolidMedicine(e.name,t)})}},{key:"addDragTakeParent",value:function(e){var t=this,i=t.parent;i&&i!==t.getEqLayer()&&(t.dragParentData=e,t.addEventListener(NBDrag.event.DRAG_MOVE,t.dragTakeParent))}},{key:"removeDragTakeParent",value:function(){this.dragParentData=null,this.removeEventListener(NBDrag.event.DRAG_MOVE,this.dragTakeParent)}},{key:"dragTakeParent",value:function(){var e,t,i,n,a=this,r=a.parent;r&&r!==a.getEqLayer()&&a.dragParentData&&(e=(n=a.dragParentData).maxRight,t=n.maxLeft,i=n.maxTop,n=n.maxBottom,e&&a.x>e&&(r.x+=a.x-e,a.x=e),t&&a.x<t&&(r.x+=a.x-t,a.x=t),i&&a.y<i&&(r.y+=a.y-i,a.y=i),n&&a.y>n&&(r.x+=a.y-n,a.y=i),a.hitTest(r.bg)||(a.dragParentData=null,a.removeEventListener(NBDrag.event.DRAG_MOVE,a.dragTakeParent),a.on(NBDrag.event.STOP_DRAG,this.eqAddToViewStack)))}},{key:"findLimitArea",value:function(e,t){var i=t.name;if(e.eqLimitBoundsAry)for(var n=0;n<e.eqLimitBoundsAry.length;n++)if(e.eqLimitBoundsAry[n].name==i)return e.eqLimitBoundsAry[n]}},{key:"getSelfParent",value:function(){var e=this;return e.parent?("NonPorousRubberPlugBig"===e.parent.name||e.parent.isClamp?e.parent:e).parent:null}},{key:"glassSheetLimitByGlassCatheter",value:function(){var e,t=this,i=t.parent;!i.isGasBottle&&!i.isBeaker||(e=i.children.find(function(e){return F[e.name]||e.isGlassCatheter}))&&(i=F[e.name]||{leftOffset:0,rightOffset:0},e=e.x-(e.limitRotateType?e.pivot.x:0),t.x>=e+i.leftOffset-L.MOVEERROR&&(t.glassCatheterAspect="right"),t.x+t.width<=e+i.leftOffset+L.MOVEERROR&&(t.glassCatheterAspect="left"),"right"===t.glassCatheterAspect&&t.x<e+i.leftOffset+L.MOVEERROR&&(t.x=e+i.leftOffset),"left"===t.glassCatheterAspect&&t.x+t.width>e+i.leftOffset-L.MOVEERROR&&(t.x=e-t.width+i.leftOffset))}},{key:"getChildBlock",value:function(){var t=[];return this.children.forEach(function(e){e.isBlockMedicine&&t.push(e)}),t}},{key:"getMinDisHitObjectByType",value:function(e,t,i,n){var a=this.getEquipmentsByType(t);i=i||{x:0,y:0};var r=e.toGlobal({x:0,y:0});r.x+=i.x,r.y+=i.y;for(var o=null,s=1/0,l=0;l<a.length;l++){var h,c=a[l];this.hitTest(c)&&(n&&n(c)||(h=NBPoint.distance(c.toGlobal({x:0,y:0}),r))<s&&(s=h,o=c))}return o}},{key:"moveLimitGlassSheet",value:function(){var e,t=this,i=t.parent;!i.isGasBottle&&!i.isBeaker||(e=i.children.find(function(e){return"GlassSheet"===e.name}))&&(i.bg&&!t.hitTest(i.bg)||(i=F[t.name]||{leftOffset:0,rightOffset:0},t.x+i.leftOffset<=e.x+L.MOVEERROR&&(t.glassSheetAspect="left"),t.x+i.leftOffset>=e.x+e.width-L.MOVEERROR&&(t.glassSheetAspect="right"),"left"===t.glassSheetAspect&&t.x+i.leftOffset>e.x+L.MOVEERROR&&(t.x=e.x-i.leftOffset),"right"===t.glassSheetAspect&&t.x+i.leftOffset<=e.x+e.width-L.MOVEERROR&&(t.x=e.x+e.width-i.leftOffset)))}},{key:"addEventEqForGasBottle",value:function(){this.on(NBDrag.event.DRAG_MOVE,this.moveLimitGlassSheet)}},{key:"getPositionToEqLayer",value:function(){return this.getEqLayer().toLocal(this.toGlobal({x:0,y:0}))}},{key:"getCenterPositionToEqLayer",value:function(){var e=this.getPositionToEqLayer(),t=this.getCenterPosition(),i={};i.x=e.x+t.x*this.scale.x,i.y=e.y+t.y*this.scale.y;t=this.getRealRotation();return i=0!==t?B.rotaPoint(i,e,t):i}},{key:"getCenterPosition",value:function(){var e={},t=this.localBounds||this.getLocalBounds();return e.x=t.width/2+t.x,e.y=t.height/2+t.y,e}},{key:"getCurrentContainer",value:function(){var e;return this.currentContainer?e=this.currentContainer:this.holdParent&&this.holdParent.currentContainer&&(e=this.holdParent.currentContainer),e}},{key:"addWholeRotateType",value:function(t,e){this.ctrlButtonAry.forEach(function(e){e=e.typeRoot;t instanceof Array&&t.includes(e.name)||e.hideButton()}),e&&(this.root.emit(NBEvent.communicate.angular.CLOSE_SETTINGPOP),this.getViewStack().selectionLayer.selectedObj=null)}},{key:"updateAllButtonPos",value:function(t){this.ctrlButtonAry.forEach(function(e){e=e.typeRoot;t instanceof Array&&t.includes(e.name)||e.setBtnPosition()})}},{key:"removeWholeRotateType",value:function(t,e){var i=this.getViewStack();i.hasEqMove=2,this===L.currentConfigEq&&(i.selectionLayer.selectedObj=[this],this.ctrlButtonAry.forEach(function(e){e=e.typeRoot;t instanceof Array&&t.includes(e.name)||e.showButton()}),e||this.root.emit(NBEvent.communicate.angular.UPDATE_EQ_ATTRIBUTE,this))}},{key:"toJSON",value:function(){var t=this,i=[];this.addedNode.forEach(function(e){"RubberCatheter"!==t.name&&("StraightGlassWithBalloon"===t.name&&"Balloon"===e.name||e&&e.isEquipment&&!e.cannotSave&&i.push(e.getUUID()))});var e=[];if(this.chooseArea)for(var n=0;n<20&&this.chooseArea["area"+n];n++)e.push(this.chooseArea["area"+n].thisAreaWasFull);var a={};this.children.forEach(function(e){if(e.isBlockMedicine&&(a[e.name]?a[e.name].setMol(e.medVo.getMol()+a[e.name].getMol()):a[e.name]=e.medVo.deepClone(),e.impurity))for(var t=0;t<e.impurity.length;t++)a[e.impurity[t].name]?a[e.impurity[t].name].setMol(e.impurity[t].getMol()+a[e.impurity[t].name].getMol()):a[e.impurity[t].name]=e.impurity[t].deepClone()}),"DryingTubeOfCaO"===this.name&&(a.CaO=this.medicineData.solidAry.CaO,a.NaOH=this.medicineData.solidAry.NaOH),"DryingTubeOfP2O5"===this.name&&(a.P2O5=this.medicineData.solidAry.P2O5),this.currentPlug&&this.currentPlug.getUUID;var r,o={x:this.x,y:this.y,rotation:this.rotation,index:this.parent.getChildIndex(this),name:this.constructor.name,limitDragData:this.getLimitData?this.getLimitData():void 0,uuid:this.getUUID(),dragRect:this.dragRect&&!1!==this.dragRect.enabled?this.dragRect:void 0,hitObj:this.hitObj&&this.hitObj.getUUID?this.hitObj.getUUID():this.hitObj,addedNode:i,currentPlug:this.currentPlug&&this.currentPlug.getUUID?this.currentPlug.getUUID():this.currentPlug,outsidePlug:this.outsidePlug&&this.outsidePlug.getUUID?this.outsidePlug.getUUID():this.outsidePlug,outsideContainer:this.outsideContainer&&this.outsideContainer.getUUID?this.outsideContainer.getUUID():this.outsideContainer,currentPlugCurValue:this.currentPlug?this.currentPlug.curValue:null,currentContainer:this.currentContainer&&this.currentContainer.getUUID?this.currentContainer.getUUID():this.currentContainer,currentArea:this.currentArea?this.currentArea.name:null,listenI2Container:this.listenI2Container&&this.listenI2Container.getUUID?this.listenI2Container.getUUID():this.listenI2Container,plugAnimation:!!this.plugAnimation,fun:!!this.fun,holdAnimation:!!this.holdAnimation,scaleX:this.scale.x,scaleY:this.scale.y,areaWasFullAry:e,currentHitObj:this.currentHitObj&&this.currentHitObj.getUUID?this.currentHitObj.getUUID():this.currentHitObj,addedBottle:this.addedBottle&&this.addedBottle.getUUID?this.addedBottle.getUUID():this.addedBottle,curValue:this.curValue,addToVIewResetRotation:this.addToVIewResetRotation,constructorAttribute:{dataBuild:!0},lastRotation:this.lastRotation,medicineData:this.medicineData&&this.medicineData.toJSON instanceof Function?this.medicineData.toJSON(a):null,bringToFront:this.bringToFront,instanceName:this.instanceName,dataVersion:7};return null!=this.heatValueRatio&&(o.heatValueRatio=this.heatValueRatio),(this.balance||this.balanceObj)&&(r=this.balance||this.balanceObj,o.balance=r.getUUID(),o.y-=50),this.plugAnimationOpen&&(o.plugAnimationOpen=this.plugAnimationOpen),this.hasAnimation&&(o.hasAnimation=this.hasAnimation),this.canCheckPure&&(o.canCheckPure=this.canCheckPure),o}},{key:"widthInContainer",value:function(e){return this.getBounds().x+this.getBounds().width<e.getBounds().x+e.getBounds().width}},{key:"positionDistanceSort",value:function(e){var a=this,r=[];s(a);var o=(a.isClamp?a.getBlock:a).getBounds();function s(e){null==e.localBounds&&(e.localBounds=e.getLocalBounds().clone())}return e.forEach(function(e){s(e);var t={x:o.x+a.localBounds.width/2,y:o.y+a.localBounds.height/2},i=e.toGlobal({x:e.localBounds.x+e.localBounds.width/2,y:e.localBounds.y+e.localBounds.height/2});e.chooseArea&&(i={x:(n=e.toGlobal({x:e.chooseArea.x,y:e.chooseArea.y})).x+e.chooseArea.width/2,y:n.y+e.chooseArea.height/2});var n=(n=i,i=t.x-n.x,n=t.y-n.y,Math.sqrt(i*i+n*n));r.push({objA:a,objB:e,dis:n})}),r.sort(function(e,t){return e.dis-t.dis}),r}},{key:"commandDelete",value:function(){this.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[this]})}},{key:"removeLeakgeMedicine",value:function(e){for(var t=0;t<e.length;t++){var i=e[t];i.mol<1e-18?(e.splice(t,1),t--):i instanceof w&&(i.mol/=2)}}},{key:"getAsbestosUnderEquipment",value:function(e){for(var t=this.getViewStack().eqChildren,i=[],n=this.toGlobal({x:0,y:0}),a=0;a<t.length;a++){var r=t[a],o=r.toGlobal({x:0,y:0}),s=o.x-n.x,o=o.y-n.y;"AsbestosFreeWireGauze"===r.name&&!this.hasObjBetweenEquipment(r)&&(!r.isFull()||r.isFull()&&r.dropPowder)&&s>e.minX&&s<e.maxX&&o>e.minY&&o<e.maxY&&(r.dropPowder=!0,i.push(r))}for(var l=null,h=1/0,c=0;c<i.length;c++){var u=i[c].toGlobal({x:0,y:0});h>u.y&&(h=u.y,l=i[c])}return l}},{key:"hasObjBetweenEquipment",value:function(e){var t,i,n=this.getBounds(),a=e.getBounds(),r=[];(n.y+n.height<a.y||a.y+a.height<n.y)&&!(n.x+n.width<a.x||a.x+a.width<n.x)&&(t=Math.max(n.x,a.x),i=n.y>a.y?a.y+a.height:n.y+n.height,a=Math.max(n.y,a.y)-i,n=n.width,r=this.root.viewStack.topLayer.renderSelectionArea(new PIXI.Rectangle(t,i,n,a)));for(var o=0;o<r.length;o++)if(r[o]!==this&&r[o]!==e&&r[o]!==this.parent&&(!e.bg.onBalance||e.bg.onBalance&&"Balance"!==r[o].name))return!0;return!1}},{key:"setJSON",value:function(t){var i=this;t=H.setJSON(t,this),this.medicineData&&!this.noSetMedJson&&this.medicineData.setJSON(t),t.instanceName?(n=t.instanceName.split("^")[0],L.EQ_CHANGE_TYPE.reactor_to_aid.includes(n)?this.instanceName=t.instanceName.replace(".reactor.",".aid."):L.EQ_CHANGE_TYPE.aid_to_reactor.includes(n)?this.instanceName=t.instanceName.replace(".aid.",".reactor."):this.instanceName=t.instanceName):this.root.InstanceNameManager.setInstance(this),this.setUUID(t.uuid);var e,n,a=this;if(a.moveThisToXY&&(e=t.x-a.x,n=t.y-a.y,a.moveThisToXY(e,n)),this.x=t.x,this.y=t.y,"WeightBox"===this.name&&this.func_initWeight(),this.rotation=t.rotation,this.dragRect=t.dragRect,this.hitObj=t.hitObj,this.currentPlug=t.currentPlug,t.scaleX&&t.scaleY&&(this.scale.x=t.scaleX,this.scale.y=t.scaleY),t.currentPlug&&this.getEquipmentByUUID(t.currentPlug).then(function(e){a.currentPlug=e,a.currentPlug&&(a.plugInit(a.currentPlug),a.currentPlug.curValue=t.currentPlugCurValue)}),t.outsidePlug&&this.getEquipmentByUUID(t.outsidePlug).then(function(e){a.outsidePlug=e}),t.listenI2Container&&this.getEquipmentByUUID(t.listenI2Container).then(function(e){a.listenI2Container=e}),t.outsideContainer&&this.getEquipmentByUUID(t.outsideContainer).then(function(e){a.outsideContainer=e}),t.curValue&&(this.curValue=t.curValue),this.hitObj&&this.getEquipmentByUUID(this.hitObj).then(function(e){(a.hitObj=e)&&a.hitObjListen instanceof Function&&a.hitObjListen()}),this.needLimitObjAry&&!t.twoHitClamp&&(l=c(this.parent,this.getEqLayer()),(s=this.getCollisionRelation(this,l))&&(this.emit("hitted",{hitObj:l,dragObj:this,hasHotspot:l[s.hotspotB]}),this.emit("hasTweenComplete"))),t.addedBottle&&this.getEquipmentByUUID(t.addedBottle).then(function(e){i.addedBottle=e,i.eqContainerAdded()}),t.addedNode)for(var r=0;r<t.addedNode.length;r++){var o=t.addedNode[r];this.getEquipmentByUUID(o).then(function(e){-1===i.addedNode.indexOf(e)&&i.addedNode.push(e),i.root.resetPascalNode()})}var s,l=c(this.parent,this.getEqLayer(),!0);if(t.currentContainer&&(t.dragRect&&this.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:l,dragObj:this,fromSetJson:!0}),this.currentContainer=l,t.currentArea&&(this.currentArea=l.chooseArea[t.currentArea]),t.addTwoContainerCollision&&(a.updateTransform(),s=X.getHitType(a,l),a.typeInContainer=s)),t.areaWasFullAry&&0<t.areaWasFullAry.length)for(var h=0;h<t.areaWasFullAry.length;h++)this.chooseArea["area"+h].thisAreaWasFull=t.areaWasFullAry[h];function c(e,t,i){return!(e==t||!e)&&(e instanceof u?i&&"NonPorousRubberPlugBig"===e.name?c(e.parent,t,i):e:c(e.parent,t))}t.currentHitObj&&(this.currentHitObj=l),t.limitDragData&&"WoodenStick"!==this.name&&"PaperChannel"!==this.name&&this.setLimitData(t.limitDragData),(this.dragRect&&this.dragRect.enabled||!1===t.bringToFront)&&(NBDrag.addDrag(this,this.dragRect,{bringToFront:t.bringToFront}),this.dragRect&&this.dragRect.enabled&&!this.isClamp&&(this.canDragEnable=!0,this.lastDragRect=(0,m.default)({},this.dragRect),V.addEvents(this))),this.isRubberPlug&&(this.currentArea?this.currentContainer.addCoverBody(void 0,this.currentArea):this.currentHitObj&&this.currentHitObj.addCoverBody()),this.lastRotation=t.lastRotation,null!=t.heatValueRatio&&(this.heatValueRatio=t.heatValueRatio),t.balance&&this.getEquipmentByUUID(t.balance).then(function(e){setTimeout(function(){e&&e.checkHit&&e.checkHit(i)},50)}),t.plugAnimation&&this.plug(),t.fun&&this.smellMedicine(),t.holdAnimation&&this.hold(),t.plugAnimationOpen&&(this.plugAnimationOpen=t.plugAnimationOpen),t.hasAnimation&&(this.hasAnimation=t.hasAnimation),t.canCheckPure&&(this.canCheckPure=t.canCheckPure)}},{key:"addCursor",value:function(e,t){S.addMouseEvent(this.root.mouseManager,e,t)}},{key:"removeCursor",value:function(e){this.root.mouseManager.changeMouseStatus("",!1,e,!0)}},{key:"toTop",value:function(){this.parent&&this.parent.setChildIndex(this,this.parent.children.length-1)}},{key:"toBottom",value:function(){this.parent&&this.parent.setChildIndex(this,0)}},{key:"getSpoonPourInfo",value:function(){return{p0:this.toGlobal(this.pM),p1:this.toGlobal(this.pU)}}},{key:"getSpoonHintInfo",value:function(e){if(L.SPECIL_LABSPOON_HINT_CONTAINER.includes(this.name)){var t=this.toLocal(e),i=this.getLocalBounds(),n=i.x+i.width/2;"TestTubeWithSideNeck"===this.name&&(n-=36);e=i.y+i.height,e=1<this.getCurrentCapacity()&&this.localLiquidVertex&&0<this.localLiquidVertex.length?Math.min.apply(Math,[e].concat((0,f.default)(this.localLiquidVertex.map(function(e){return e.y})),[t.y])):Math.min(e,t.y);e=Math.max(i.y+1,e);e={x:n,y:e-=50},i={x:n,y:i.y-50};return this.pM=e,this.pU=i,{p0:this.medRefOfLabSpoon=e,p1:i}}return{p0:this.pM,p1:this.pU}}},{key:"canSpoonPour",value:function(){return!1}},{key:"canSpoonTake",value:function(){return!1}},{key:"canAddCandle",value:function(){return!1}},{key:"addCandle",value:function(e){e.allowGetBounds=!1,(e.addedEq=this).addChildWithSamePos(e),e.rotation=e.rotation-this.rotation,this.tweenCandle(e)}},{key:"tweenCandle",value:function(){}},{key:"removeCandle",value:function(e){e.removeNape(),e.rotation=e.getRealRotation(),TweenMax.killTweensOf(e),e._gsTweenID&&delete TweenLite._internals.tweenLookup[e._gsTweenID],this.getEqLayer().addChildWithSamePos(e),e.allowGetBounds=!0,e.addedEq=null}},{key:"getGlobalScale",value:function(){return this.getEqLayer().scale.x}},{key:"canClampPick",value:function(){return!1}},{key:"clampPick",value:function(){}},{key:"getClamPickBlock",value:function(){return this}},{key:"canClampPut",value:function(){return!1}},{key:"clampPut",value:function(){}},{key:"removeBlockMedicine",value:function(){}},{key:"getStageToDomPos",value:function(e){var t=(0,p.default)(this.root.canvas.style.width)/this.root.W,i=(0,p.default)(this.root.canvas.style.height)/this.root.H;return{x:e.x*t,y:e.y*i}}},{key:"checkForefathers",value:function(e){return!(!e||e===this.getEqLayer())&&(e===this||this.checkForefathers(e.parent))}},{key:"showTip",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=this.tipGra;n||(n=new PIXI.Graphics,(this.tipGra=n).txt=this.getText(e,{fontSize:t+"px",fontFamily:"Microsoft YaHei",fill:16777215}),n.addChild(n.txt)),n.txt.text=e;var a,r=n.txt.getLocalBounds(),o=r.width,t=r.height,e=o+30,r=t+20;return n.clear(),n.beginFill(3321855),n.drawRoundedRect(.5*-e,.5*-r,e,r,10),n.moveTo(-10,.5*-r),n.lineTo(0,.5*-r-10),n.lineTo(10,.5*-r),n.endFill(),i?(a=this.getLocalBounds(),this.addChild(n),n.x=a.x+a.width/2,n.y=a.y+a.height/3):(this.getEqLayer().addChild(n),i=this.getCenterPositionToEqLayer(),a=this.pointToCenterDis||0,n.x=i.x,n.y=i.y+a+.5*n.getLocalBounds().height+20),n.txt.x=.5*-o,n.txt.y=.5*-t,n.allowGetBounds=!1,n.alpha=0,n}},{key:"getText",value:function(e,t){e=W(e);t=this.root.cachePool.popText(e,t);return this.chemTextAry.push(t),t.allowGetBounds=!0,t}},{key:"removeText",value:function(e){this.root.cachePool.pushText(e)}},{key:"removeAllText",value:function(){var t=this;this.chemTextAry.forEach(function(e){t.removeText(e)}),this.chemTextAry.length=0}}]),u}(PIXI.Container);e.exports=i},function(e,t,i){e.exports=i(482)},function(e,t,n){"use strict";var a=n(4),s=n(44),l=n(42),h=n(43),c=n(37),i=n(0),E=i(n(24)),b=i(n(60)),y=i(n(25)),r=i(n(46)),o=i(n(69)),S=i(n(37)),u=i(n(96)),k=i(n(77)),d=i(n(95)),p=i(n(9)),x=i(n(59)),f=i(n(114)),I=i(n(1)),g=i(n(2)),m=i(n(19)),v=i(n(7)),C=i(n(5)),M=i(n(6)),O=i(n(3));function w(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return A(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function T(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,O.default)(i);return t=n?(e=(0,O.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,M.default)(this,t)}}var B=n(21),D=n(8),j=n(97),P=n(108),L=n(75),N=n(34),J=n(18),V=n(26),H=n(165),_=n(144),G=n(11),q=n(257),R=n(22),z=n(31),X=n(32),W=n(20),Z=n(195),U=n(387),K=n(27),Y=n(33),Q=n(168),$=n(250),ee=n(57),te=n(79),ie=n(169),ne=n(53),ae=n(50),re={},oe=PIXI.Point,se=["BaseMedicine","BaseSolidMedicine","BaseLiquidMedicine","BaseLiquidBrownDropMedicine","BaseSolidBrownMedicine","BaseLiquidWhiteDropMedicine","QualitativeFilterPaper","AirBalloon","KippsFunnel","LongNeckFunnel"],le=n(29).getLan,he=n(131),i=function(){(0,C.default)(F,D);var t=T(F);function F(){var e;return(0,I.default)(this,F),(e=t.call(this))._liquidVertex=null,e.showBubble=!0,e.bubbleReduce=0,e.waveHeight=0,e.waveDirection=1,e.waveStep=1,e.maxWaveHeight=0,e.hasReact=0,e.medicineParticleMap=new E.default,e.dripMedPosMap=new E.default,e.isBaseContainer=!0,z.register(X.GLASSBREAK),z.register(X.BOOM),e.currentCapacity=-1,e.currentEquipmentValue=0,e.maxEquipmentValue=3,e.napeDisX=0,e.napeDisY=0,e.blockMedicineMap=new E.default,e.particles=[],e.liquidVertexUp&&(e.gasArea=V.getArea(e.liquidVertexUp)),e.touchIdSet=new b.default,e.isHot=!1,e.breakNum=0,e.canBreakImg=!0,e.tempLossFactor={liquid:1,gas:1},e.sound=null,e.medicineData=new L((0,m.default)(e)),e.capacityVertex=[],e.waterMask=new PIXI.Graphics,e.waterMask.renderable=!1,e.waterContainer=new PIXI.Container,e.waterContainer.allowGetBounds=!1,e.rewriteAddChild({container:e.waterContainer,mask:e.waterMask}),e.gasMask=new PIXI.Graphics,e.gasMask.hitArea=new PIXI.Rectangle(0,0,0,0),e.gasMask.alpha=0,e.gasMask.renderable=!1,e.gasMask.forceSelfInteractive=!0,e.gasContainer=new PIXI.Container,e.gasContainer.name="gas",e.gasContainer.allowGetBounds=!1,e.rewriteAddChild({container:e.gasContainer,mask:e.gasMask}),e.gasOutMask=new PIXI.Container,e.gasOutMaskGra=new PIXI.Graphics,e.gasOutMask.alpha=0,e.gasOutMask.renderable=!1,e.gasOutMask.addChild(e.gasOutMaskGra),e.gasOutMask.allowGetBounds=!1,e.gasOutMask.interactive=!1,e.gasOutMask.interactiveChildren=!1,e.capacityMask=new PIXI.Graphics,e.capacityMask.alpha=0,e.capacityMask.renderable=!1,e.fogTimer=null,e.on("gotDrip",e.curContainergotDrip),e.medicineNBGraphicMap=new E.default,e.containSoap=!1,e.containSoapCa=!1,e.containOil=!1,e.oilActiveCount=0,e.worldRotated=!0,e.bubble={isReacting:0},e.a_para=0,e.overflowCount=0,e.mn2o7BoomCount=0,e.plugAnimationOpen=!0,e}return(0,g.default)(F,[{key:"liquidVertex",get:function(){return this._liquidVertex},set:function(e){this._liquidVertex=e}},{key:"currentPlug",get:function(){return this._currentPlug},set:function(e){e!==this._currentPlug&&this.root.resetPascalNode(),e instanceof D&&(this.outsidePlug&&e!==this.outsidePlug&&(this.outsidePlug.outsideContainer=null,this.outsidePlug=null),this.outsidePlug=e,this.parent!==e&&(e.outsideContainer=this)),this._currentPlug&&!e?(this._currentPlug=e,this.isDeleting||this.calculateLiquid()):this._currentPlug=e}},{key:"hasRubberPlug",get:function(){if(this.chooseArea&&this.chooseArea.area0){for(var e=0;e<1e3&&this.chooseArea["area"+e];e++)if(this.chooseArea["area"+e].currentPlug)return!0;return!1}return Boolean(this.currentPlug||this.outsidePlug)},set:function(e){if(e)this.outsidePlug||this.autoAddPlug();else{if(this.currentPlug)this.autoDeletePlug();else if(this.outsidePlug){for(var t=this.outsidePlug.children.length,i=0;i<t;i++){var n=this.outsidePlug.children[i];n instanceof D&&(n.currentPlug=void 0,this.root.viewStack.addChildWithSamePos(n),n.emit("removeFromPlug"))}this.root.execute(P.DELETE_EQUIPMENT,{eq:[this.outsidePlug]})}this.outsidePlug&&(this.outsidePlug.outsideContainer=null,this.outsidePlug=null)}}},{key:"isOpen",get:function(){if(this.isKippsCenter)return!this.addedCatheter;var e=this.allowRubberCatheter,t=this.addedRubber,i=this.chooseAreaIsFull(),i=void 0===i?this.currentPlug&&!this.isFunnel||this.isCovered instanceof Function&&this.isCovered():!1!==i;if((!1===this._switchIsOpen_||!0===this._switchIsOpen_)&&t)return!1;if(i){if(!e)return!1;if(t)return!1}return!0}},{key:"setPascal",value:function(e){var i=this,t=0;if(!(e<0))if(this.noPascal)this._pascal=G.PASCAL;else{if(this._pascal=Math.floor(e),this.listenPascal instanceof Function&&this.listenPascal(e),e>G.PASCAL_MAX){var n,a=!1;if(t++<10)return;if(!0===this.chooseAreaIsFull()){var r,a=!0,o=0;for(r in this.chooseArea)/area[0-9]/.test(r)&&o++;var s=(0,y.default)(Math.random()*o),l=this.chooseArea["area".concat(s)].currentPlug;TweenMax.to(l,.2,{y:l.y-200,ease:Power2.easeOut,onComplete:function(){var e=l.children;i.getViewStack().addChildWithSamePos(l);for(var t=0;t<e.length;t++)e[t]instanceof D&&(e[t].emit("removeEquipment",i),i.emit("removeEquipment",e[t]),i.removeCoverBody(void 0,i.chooseArea["area".concat(s)]))}}),this.chooseArea.children[s].thisAreaWasFull=!1}return this.currentPlug&&(a=!0,e=(n=this.currentPlug).y,TweenMax.to(n,.2,{y:e-200,ease:Power2.easeOut,onComplete:function(){var e=n.children;i.removeCoverBody(),i.getViewStack().addChildWithSamePos(n);for(var t=0;t<e.length;t++)e[t]instanceof D&&(e[t].addedNode.splice(e[t].addedNode.indexOf(i),1),i.addedNode.splice(i.addedNode.indexOf(e[t]),1))}}),this.currentPlug=null),void(void 0===this._switchIsOpen_&&a&&(this._pascal=G.PASCAL))}t=0,this._pascal!==G.PASCAL&&this.emit("pascalChange",{pascal:this._pascal})}}},{key:"rewriteAddChild",value:function(e){var t,i,n;e instanceof Array?(t=this,e.forEach(function(e){t.rewriteAddChild(e)})):((i=e.container).originAddChild=i.addChild,n=e.mask,i.addChild=function(e){this.mask||(this.mask=n),this.originAddChild(e)},i.originAddChildAt=i.addChildAt,i.addChildAt=function(e,t){this.mask||(this.mask=n),this.originAddChildAt(e,t)})}},{key:"initNormalBubble",value:function(){var e=this.bubble.isReacting||0;this.bubble=N.getParticle(N.particles.bubble),this.bubble.isReacting=e,this.waterContainer.addChild(this.bubble)}},{key:"initSplashParticle",value:function(){this.splashParticle=N.getParticle(N.particles.nongliusuanfeijian),this.splashParticle.allowGetBounds=!1,this.splashParticle.visible=!1,this.splashDrop=N.getParticle(N.particles.feijianyedi),this.splashDrop.allowGetBounds=!1,this.splashDrop.visible=!1}},{key:"addSplashParticle",value:function(e){this.splashParticle||this.initSplashParticle&&this.initSplashParticle();var t,i=this.splashParticle;i&&(t=this.splashDrop,i.visible=!0,t.visible=!0,i.parent!=this&&(this.addChild(i),this.gasContainer.addChild(t),i.mask=this.capacityMask),i.particle&&!1===i.particle.emit&&(i.setParticleProp("emit",!0),i.setParticleProp("_spawnTimer",0),i.setParticleProp("emitterLifetime",e)),t.particle&&!1===t.particle.emit&&(t.setParticleProp("emit",!0),i.setParticleProp("_spawnTimer",0),i.setParticleProp("emitterLifetime",e)))}},{key:"initBubble",value:function(){var e,t={};for(e in G.SMALLCONTAINER.includes(this.name)?(t.bubbleUp=N.getParticle(N.particles.shiguan_qipao_s),this.waterContainer.addChild(t.bubbleUp),t.bubbleTop1=N.getParticle(N.particles.shiguan_qipao_top),this.gasContainer.addChild(t.bubbleTop1),t.bubbleTop2=N.getParticle(N.particles.shiguan_qipao_top),this.addChild(t.bubbleTop2),this.rewriteAddChild({container:t.bubbleTop2,mask:this.capacityMask}),t.bubbleBottom=N.getParticle(N.particles.shiguan_qipao),this.waterContainer.addChild(t.bubbleBottom)):(t.bubbleUp1=N.getParticle(N.particles.shuifeiteng_xiaoqipao_up),this.waterContainer.addChild(t.bubbleUp1),t.bubbleUp2=N.getParticle(N.particles.shuifeiteng_xiaoqipao_up_s),this.waterContainer.addChild(t.bubbleUp2),t.bubbleUp3=N.getParticle(N.particles.shuifeiteng_xiaoqipao_up_ss),this.waterContainer.addChild(t.bubbleUp3),t.bubbleUp4=N.getParticle(N.particles.shuifeiteng_xiaoqipao_up_ss),this.waterContainer.addChild(t.bubbleUp4),t.bubbleTop=N.getParticle(N.particles.shuifeiteng_qipao),this.gasContainer.addChild(t.bubbleTop),t.bubbleTopLeft=N.getParticle(N.particles.shuifeiteng_xiaoqipao_dibu),t.bubbleTopLeft.scale.x*=-1,this.waterContainer.addChild(t.bubbleTopLeft),t.bubbleTopRight=N.getParticle(N.particles.shuifeiteng_xiaoqipao_dibu),this.waterContainer.addChild(t.bubbleTopRight)),t)t[e].allowGetBounds=!1;return{particles:t,visible:!0}}},{key:"initSolidBubble",value:function(){var e,t={};for(e in t.bubbleTop1=N.getParticle(N.particles.fenmo_biaomian_qipao_b),this.gasContainer.addChild(t.bubbleTop1),t.bubbleTop2=N.getParticle(N.particles.fenmo_biaomian_qipao),this.waterContainer.addChild(t.bubbleTop2),t.bubbleStart=N.getParticle(N.particles.fenmo_start_qipao),this.waterContainer.addChild(t.bubbleStart),t)t[e].allowGetBounds=!1,t[e].setParticleProp("frequency",0),t[e].visible=!1;return t}},{key:"updateWave",value:function(){var e;0!==this.maxWaveHeight&&(this.maxWaveHeight*=.99,this.maxWaveHeight<3?this.maxWaveHeight=0:20<this.maxWaveHeight&&(this.maxWaveHeight=20),(e=this.waveHeight+this.waveStep*this.waveDirection)>this.maxWaveHeight?(e=this.maxWaveHeight,this.waveDirection=-1):e<-this.maxWaveHeight&&(e=-this.maxWaveHeight,this.waveDirection=1),this.waveHeight=e)}},{key:"creationComplete",value:function(){(0,v.default)((0,O.default)(F.prototype),"creationComplete",this).call(this),this.testShake(),this.initCapacityMask(),this.creationTipContainer(),NBGesture.takeGesture(this),this.creationContainerHitArea(),this.creationPourOutHitArea(),this.setCapacityScale(),this.addMaskGraphics(),this.initLiquidGra(),this.initStuffAir(),this.initBottleGasManager(),this.addChildAt(this.waterContainer,0),this.initParticleMedContainer(),this.addChildAt(this.gasContainer,0);var e,t,i,n,a,r,o=this.liquidGraBgContainer=new PIXI.Container;this.rewriteAddChild({container:o,mask:this.capacityMask}),this.addChildAt(o,0),-1!=G.NORMALCONTAINER.indexOf(this.name)&&ie.addFogPic(this),this.label&&(t=(e=this.label.children[0]).width,i=e.height,n=e.x,r=e.y,a=Math.min(10,.15*t),o=new PIXI.Graphics,this.label.removeChild(e),this.label.addChildAt(o,0),(this.label.lableBg=o).x=n,o.y=r,o.lineStyle(4,2328041,1),o.beginFill(16777215,.5),o.moveTo((r={x:a,y:0}).x,r.y),o.lineTo(t-a,0),o.lineTo(t,a),o.lineTo(t,i-a),o.lineTo(t-a,i),o.lineTo(a,i),o.lineTo(0,i-a),o.lineTo(0,a),o.lineTo(r.x,r.y)),this.pM&&this.pU||(r=this.localBounds,this.pU=new oe(r.x+r.width/2,r.y),this.medRef?this.pM=new oe(this.medRef.x,this.medRef.y):this.pM=new oe(r.x+r.width/2,r.y+Math.min(160,r.height/2))),this.on("hitted",this.hitCandle)}},{key:"realCapacityVertex",get:function(){return this.getRealCapacityVertex()}},{key:"getRealCapacityVertex",value:function(){var e,t,i=[];if(0<this.capacityVertex.length)if(0<this.activeCount||!this._capacityVertex){for(var n=0;n<this.capacityVertex.length;n++){var a={},r=this.capacityVertex[n];a.x=r.get_x(),a.y=r.get_y();a=this.toGlobal(a),a=new j(a.x,a.y);i[n]=a}this._capacityVertex=i}else i=this._capacityVertex;else this.addRealCapacityVertex&&((e=function(e){e=t.toGlobal(e),e=new j(e.x,e.y);i.push(e)})({x:(t=this).localBounds.width,y:0}),e({x:this.localBounds.width,y:this.localBounds.height}),e({x:0,y:this.localBounds.height}),e({x:0,y:0}));return i}},{key:"initBottleGasManager",value:function(){this.needlePos||(this.bottleGasManager=new ee(this,this.gasContainer))}},{key:"initParticleMedContainer",value:function(){this.particleMedContainer=new PIXI.Container,this.addChildAt(this.particleMedContainer,0);var e=this.medContainerIndex||0;"top"===this.medContainerIndex&&(e=this.children.length-1),this.addChildAt(this.particleMedContainer,e)}},{key:"initStuffAir",value:function(){var e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),i=this.getTotalCapacity()/1e6*G.PASCAL/(G.R*te.convertCToK(G.DEFAULT_TEMP)),n=.8*i;this.medicineData.push([new K(e,.2*i),new K(t,n)])}},{key:"initCapacityMask",value:function(){for(var e=this.capacityMask,t=[],i=0;i<this.capacityVertex.length;i++){var n=this.capacityVertex[i];t.push({x:n.get_x(),y:n.get_y()})}this.addChildAt(e,0),e.clear(),e.beginFill(16777215,0),H.drawPolygon(e,t);e=this.gasGra=new PIXI.Graphics;this.gasContainer.addChildAt(e,0),H.drawPolygon(e,t),this.addChildAt(this.gasContainer,0)}},{key:"initLiquidGra",value:function(){var e=this.liquidGraContainer=new PIXI.Container;this.liquidGra=[],this.addChildAt(e,0),e.mask=this.capacityMask;e=this.solidifyLiquidGraContainer=new PIXI.Container;this.solidifyLiquidGra=[],this.addChildAt(e,0),this.solidifyBody=[],this.solidifyStopGraphic=[]}},{key:"eqPrepareDelete",value:function(){var t=this;(0,v.default)((0,O.default)(F.prototype),"eqPrepareDelete",this).call(this);try{for(var e=0;e<this.addedNode.length;e++){var i=this.addedNode[e];i.isGlassCatheter&&(!i.addedRubber||i.addedRubber instanceof D?i.addedRubberArray&&0!==i.addedRubberArray.length&&(i.addedRubberArray.forEach(function(e){e&&(t.getEqLayer().addChildWithSamePos(e),e.equipment=null)}),i.addedRubberArray=[]):(this.getEqLayer().addChildWithSamePos(i.addedRubber),i.addedRubber.equipment=null,i.addedRubber=null))}this.soapBubble&&(this.soapBubble.destroy(),this.soapBubble=null,this.containSoap=!1,this.containSoapCa=!1),this.soapBubbleBlow&&(this.soapBubbleBlow.destroy(),this.soapBubbleBlow=null),this.oilBubble&&(this.oilBubble.destroy(),this.oilBubble=null),this.emulsionBubble&&(this.emulsionBubble.destroy(),this.emulsionBubble=null,this.containO=!1)}catch(e){}}},{key:"addMaskGraphics",value:function(){this.addChildAt(this.waterMask,0),this.addChildAt(this.gasMask,0),this.addChildAt(this.gasOutMask,0),this.gasOutMask=this.gasOutMaskGra}},{key:"setCapacityScale",value:function(){var e,t;this.capacityScale=1,$[this.constructor.name]&&(e=$[this.constructor.name].volume,t=this.getTotalCapacity(),this.capacityScale=e/t)}},{key:"creationContainerHitArea",value:function(){var e,t;this.containerHitArea||this.containerHitArea instanceof PIXI.Graphics||(e=this.getLocalBounds(),this.containerHitArea=new PIXI.Graphics,this.containerHitArea.beginFill(16711680,0),this.specialContainerHitArea?(t=this.specialContainerHitArea,this.containerHitArea.drawRect(t.x,t.y,t.width,t.height)):this.containerHitArea.drawRect(e.x,e.y,e.width,e.height/2),this.containerHitArea.alpha=0,this.addChildAt(this.containerHitArea,0),this.containerHitArea.endFill())}},{key:"creationPourOutHitArea",value:function(){!this.pourOut||this.pourOutHitArea||this.pourOutHitArea instanceof PIXI.Graphics||(this.pourOutHitArea=this.containerHitArea)}},{key:"creationTipContainer",value:function(){var y=this,v=this,e=new PIXI.Container,t=this.root.isGrayBgc?G.TEXT_COLOR.DARK:G.TEXT_COLOR.LIGHT;e.allowGetBounds=!1,e.interactive=!1,e.interactiveChildren=!1,this.addChild(e),this.growLiquid=new PIXI.Graphics,this.growLiquid.lineStyle(1,t,1),this.growLiqText=this.getText("",{fontSize:"36px",fontFamily:"Arial",fill:t,align:"left",stroke:0,strokeThickness:0,wordWrapWidth:1}),this.growLiqText.x=this.localBounds.x-10,this.growLiqText.anchor.x=1;var i=this.growLiqText.x;e.addChildAt(this.growLiquid,0),e.addChild(this.growLiqText),(0,r.default)(this.growLiquid,"deltaCapacity",{set:function(e){var t;0<e&&e<.1&&(e=0),this.enable||(e=0),v.growLiqText&&(1e-5<e?(v.growLiqText.rotation=0,v.growLiqText.x=i,v.chooseArea&&v.getChooseAreaMaxY instanceof Function&&v.pourIn&&v.pourIn===v.pourInChoice1&&(v.growLiqText.rotation=Math.PI,v.growLiqText.x=i+80),v.growLiqText.alpha=1,t=(t=v.root.viewStack.scale.x)<1?1/t:t>G.INFO_TEXT_MAX_SCALE?G.INFO_TEXT_MAX_SCALE/t:1,v.growLiqText.scale.x=v.growLiqText.scale.y=t,v.growLiqText.text="".concat(le("增量"),":").concat(e.toFixed(1),"mL\n").concat(le("总量"),":").concat((v.medicineData.getLiquidCapacity()+e).toFixed(1),"mL")):Math.abs(e)<1e-5&&(v.growLiqText.alpha=0,v.growLiqText.y=0,v.growLiquid.alpha=e=0)),this._deltaCapacity=e},get:function(){return this._deltaCapacity}}),this.growLiquid.deltaCapacity=0;var n=this.growSolid=new PIXI.Graphics,C=this.growSolidText=this.getText("",{fontSize:"36px",fontFamily:"Arial",fill:t,align:"left",stroke:0,strokeThickness:0,wordWrapWidth:1});e.addChild(n),e.addChild(C);var M=this.getLocalBounds().clone(),b=C.x=M.x-10;C.anchor.x=1,M.x+=.1*M.width,M.width*=.8,20<.1*M.height?M.height-=20:M.height*=.9;var x=C.y=M.y+M.height-30,O=Math.floor(M.width/G.TIP_SOLID_RADIUS/2),A=G.POUR_SOLID_MAX_MOL/G.POUR_SOLID_MAX_SOLID_COUNT,T=[],S=[];S.refill=function(){for(var e=S.length=0;e<O;e++)S.push(e);S.sort(function(){return Math.random()-.5})},(0,o.default)(n,{setSilidSource:{set:function(e){this.solidSource=e},get:function(){}},deltaCapacity:{set:function(e){if(e<.005)return S.length=T.length=0,y.growSolid.clear(),y.growSolid._deltaCapacity=e,void(y.growSolid.alpha=C.alpha=0);var t,i=y.growSolid.solidSource.medicineData.solidAry,n=0,a=0,r=0,o=0,s=0;for(t in i){var l=i[t],h=l.mol*l.mm;a+=h,o+=l.mm,s++,r+=h/l.dat.density_solid,n+=l.mol}var c=300*a/r/(o/s)/10,u=Math.floor(a/n*e*10)/10;c<(e=u*n/a)&&(e=c,u=Math.floor(a/n*c*10)/10),y.growSolid.alpha=1,C.alpha=1;c=(c=v.root.viewStack.scale.x)<1?1/c:c>G.INFO_TEXT_MAX_SCALE?G.INFO_TEXT_MAX_SCALE/c:1;C.scale.x=C.scale.y=c,C.text="".concat(e.toFixed(2),"mol\n").concat(u.toFixed(1),"g"),C.rotation=0,C.y=x,C.x=b,y.chooseArea&&y.getChooseAreaMaxY instanceof Function&&(y.growSolid.alpha=0,y.pourIn&&y.pourIn===y.pourInChoice1&&(C.rotation=Math.PI,C.y=M.y+30,C.x=80+b));var d=e;y.growSolid.clear();for(var p=y.growSolid.solidSource.medConfData.color,f=0;f<T.length;f++){var I=T[f];if(!(0<(d-=A))){d<0?(y.growSolid.beginFill(p,(A+d)/A),y.growSolid.drawCircle(I.x,I.y,G.TIP_SOLID_RADIUS)):f--;for(var g=f+1;g<T.length;g++)S.push(T[g].index),S.length>=O&&(S.length=0);T.length=f+1;break}y.growSolid.beginFill(p,1),y.growSolid.isEllipse?y.growSolid.drawEllipse(I.x,I.y,G.TIP_SOLID_RADIUS,G.TIP_SOLID_RADIUS/3):y.growSolid.drawCircle(I.x,I.y,G.TIP_SOLID_RADIUS)}for(;0<d;){0===S.length&&S.refill();var m=S.pop(),m={x:M.x+2*m*G.TIP_SOLID_RADIUS+G.TIP_SOLID_RADIUS,y:M.y+M.height-(Math.floor(T.length/O)*G.TIP_SOLID_RADIUS*2-G.TIP_SOLID_RADIUS)/3,index:m};d-=A,T.push(m),0<d?y.growSolid.beginFill(p,1):y.growSolid.beginFill(p,(A+d)/A),y.growSolid.drawCircle(m.x,m.y,G.TIP_SOLID_RADIUS)}y.growSolid._deltaCapacity=e},get:function(){return this._deltaCapacity}}})}},{key:"curContainergotDrip",value:function(e){if(!this.noNeedDrip){this.maxWaveHeight=G.BUBBLE_WAVE_HEIGHT;var t=e.drip,i=t.medicineData;if(i){this.hasReact=G.ACTIVE_COUNT,this.activeCount=G.ACTIVE_COUNT;for(var n=0;n<i.length;n++){var a=i[n];this.dripMedPosMap.set("".concat(a.name),e.point)}var r=e.point.x,o=this.liquidVertex[0].y,s=this.liquidGra,t=t.color;if(s[s.length-1]&&!(s[s.length-1].graphicsData.length<1)){if(e.point.y-o<100&&s[s.length-1].graphicsData[0].fillColor!==t&&t&&(this.dripSpreadParticle?this.dripSpreadParticle.loaded&&(h=this.toLocal({x:r,y:o}),l=this.worldRotation,(c=this.dripSpreadParticle).x=h.x,c.y=h.y,c.setParticleProp("minStartRotation",80+180*l/Math.PI),c.setParticleProp("maxStartRotation",100+180*l/Math.PI),c.setParticleProp("startColor",h=[t>>16,t>>8&255,255&t]),c.setParticleProp("endColor",h),c.renderCount+=60,c.particle._emit=!0,c.visible=!0):(this.dripSpreadParticle=N.getParticle(N.particles.liquidSpread),this.waterContainer.addChild(this.dripSpreadParticle),this.dripSpreadParticle.renderCount=0)),this.splashParticle){var l=e.drip.medicineData,t=this.medicineData.liquidAry,h=l.find(function(e){return"H2O"===e.name});if(!h||h.getMol()<G.dripError)return;var c=t.find(function(e){return"H2SO4"===e.name});if(!c||c.getMol()<G.dripError)return;t=l.find(function(e){return"H2SO4"===e.name}),l=h.getMol(),h=t?t.getMol():0,t=c.getMol(),c=this.getCurrentCapacity()/1e3;.001<t&&12<t/c&&0<l&&h/l<1/49&&this.addSplashParticle(1)}else-1!=G.NORMALCONTAINER.indexOf(this.name)&&this.initSplashParticle();this.onGotDrip&&this.onGotDrip(e)}}}}},{key:"eqStopDrag",value:function(e){if((0,v.default)((0,O.default)(F.prototype),"eqStopDrag",this).call(this,e),!(this.parent!==this.getEqLayer()||this.rotation||"Balance"===this.name||"ElectronicBalance"===this.name||this.isDamaged||this.isLiquidMedicine))for(var t=this.root.viewStack.eqLayer.children,i=0;i<t.length;i++){var n=t[i];"Balance"!==n.name&&"ElectronicBalance"!==n.name||n.checkHit(this)}}},{key:"eqPrepareDrag",value:function(){(0,v.default)((0,O.default)(F.prototype),"eqPrepareDrag",this).call(this),this.napeObj&&this.napeObj.get_type()==nape.phys.BodyType.get_DYNAMIC()&&(this.napeObj.set_type(nape.phys.BodyType.get_KINEMATIC()),this.napeObj.setShapeFilters(new nape.dynamics.InteractionFilter),this.onBalance&&this.hideRotateSpriteIconByBalance&&(this.rotateSpriteIcon.enabled=!0,this.hideRotateSpriteIconByBalance=!1))}},{key:"isCovered",value:function(){return!(!this.hasCovered||"CopperSheet"===this.coveredType)||(!(!this.isCoverGS||this.openArea)||(!(!this.coveredGasBottle||!this.coveredGasBottle.isCoverGS)||(!this.plugAnimationOpen||(this.head?this.head.parent===this:void 0))))}},{key:"addNBGraphic",value:function(e,t){(0,S.default)(t)||(t=[t]);var i=this.medicineNBGraphicMap;i.has(e)||i.set(e,new b.default);var n=i.get(e);t.forEach(function(e){return n.add(e)})}},{key:"removeNbGraphic",value:function(e){var s=this;(0,S.default)(e)||(e=[e]);var l=this.medicineNBGraphicMap;e.forEach(function(e){if(e){var t,i=w(e.medicines());try{for(i.s();!(t=i.n()).done;){var n=(0,f.default)(t.value,2),a=n[0],r=n[1];s.medicineData.addSolidMedicine(a,-r.mol);var o=l.get(a);o?(o.delete(e),0==o.size&&(l.delete(a),delete s.medicineData.solidAry[a])):delete s.medicineData.solidAry[a]}}catch(e){i.e(e)}finally{i.f()}}})}},{key:"addedToStage",value:function(){(0,v.default)((0,O.default)(F.prototype),"addedToStage",this).call(this),this.root.execute(P.DRAG_SHOW_BORDER,{dragObj:this})}},{key:"setContentMass",value:function(){var e,i,n=this.napeObj;n&&(n.mass=void 0!==n.oriMass?n.oriMass:10,e=this.medicineData,n.mass+=e.getLiquidMass()+e.getSolidMass()+e.getGasMass()+e.getDissolveMass(),this.children.forEach(function(e){e instanceof F?(e.setContentMass(),n.mass+=e.napeObj?e.napeObj.mass:0):("Candle"===e.name||e instanceof D&&!e.isBlockMedicine)&&e.getMass instanceof Function&&(n.mass+=e.getMass())}),i=["NonPorousRubberPlugBig"],this.children.forEach(function(t){for(var e=0;e<i.length;e++)t.name===i[e]&&(n.mass+=5,t.children.forEach(function(e){e.isBaseContainer&&e.napeObj?(t.setContentMass&&t.setContentMass(),n.mass+=e.napeObj.mass):e.isEquipment&&e.getMass instanceof Function&&(e.connectContainer&&e.connectContainer[0]&&"AirBalloon"===e.connectContainer[0].node.name&&(e.connectContainer[0].node.setContentMass(),n.mass+=e.connectContainer[0].node.napeObj?e.connectContainer[0].node.napeObj.mass:0),n.mass+=e.getMass())}))}))}},{key:"setLabelText",value:function(e,t,i){var n=this.label;this.top=void 0===e?this.top:e,this.bottom=void 0===t?this.bottom:t;var a=n.txt;this.initedLabel||(this.initedLabel=!0,a.allowGetBounds=!1,a.style.wordWrap=!1,r=n.getLocalBounds(),a.anchor.set(.5),a.x=r.x+r.width/2,a.y=r.y+r.height/2),0===n.alpha&&(n.alpha=1,n.getChildAt(0).alpha=.9);var r=/\s/g;this.top=le(this.top.replace(r,"")),this.bottom=le(this.bottom.replace(r,"")),this.top&&this.bottom?a.text=this.top+"\n"+this.bottom:a.text=this.top||this.bottom,a.scale.x=1;r=a.width,n=n.lableBg.width;n<r&&(a.scale.x=n/r),i||this.setLabelText(e,t,!0),this.top||this.bottom||this.removeLabel()}},{key:"removeLabel",value:function(){var e=this.label,t=e.txt;e.alpha=0,t.text=""}},{key:"getConfigureData",value:function(){var n=this,a={confArr:[]};return this.noConfig||function(){for(var e=["温度","体积","物质的量","化学方程式","浓度","质量"],i=["conf_show_temp","conf_show_volume","conf_show_mol","conf_chemical_equation","conf_show_sol","conf_show_weight"],t=0;t<e.length;t++)!function(t){a.confArr.push(B.inputSwitch(e[t],n[i[t]],function(e){this[i[t]]=e.checked,this.forceUpdate=!0}.bind(n)))}(t);!n.canCommandPlug||n.isCovered()||n.isCoverGS||n.currentContainer&&"Flume"===n.currentContainer.name||a.confArr.push(B.getSwitch("橡胶塞",n.hasRubberPlug,function(e){if(this.fun||this.holdAnimation||this.plugAnimation)return!0;this.hasRubberPlug=e.checked}.bind(n))),n.canEditLable&&(a.confArr.push(B.getTextInput("上标签",n.top,function(e){this.setLabelText(e&&e.showValue)}.bind(n),n)),a.confArr.push(B.getTextInput("下标签",n.bottom,function(e){this.setLabelText(void 0,e&&e.showValue)}.bind(n),n)))}(),this.hideLabel&&a.confArr.push(B.getSwitch("显示标签",!this.labelHide,function(e){this.labelHide=!e.checked}.bind(this))),a}},{key:"updateOtherParticles",value:function(){for(var n,e,t,a=this,i=0;i<this.particles.length;i++)this.particles[i].update();if(this.splashParticle&&!0===this.splashParticle.visible&&(this.fumePic&&this.splashParticle.particle&&!0===this.splashParticle.particle.emit&&!this.medicineData.gasAry.quickMap.get("Hg")&&ie.increaseFogAlpha(this,.05),this.splashParticle.render(),this.splashDrop.render()),this.waterSmoke&&this.waterSmoke.loaded&&(0<this.waterSmoke.renderCount?(this.waterSmoke.y=Math.max(this.toLocal(this.liquidVertex[0]).y,this.toLocal(this.liquidVertex[this.liquidVertex.length-1]).y),this.waterSmoke.particle.spawnRect.width=this.localBounds.width,this.waterSmoke.render(),this.waterSmoke.renderCount--):(this.waterSmoke.destroy(),this.waterSmoke=null)),this.CaOHParticle&&this.CaOHParticle.loaded&&(0<this.CaOHParticle.renderCount?!this.CaOHParticle.children[0]&&this.CaOHParticle.particle?(this.CaOHParticle.particle.spawnRect.width=this.localBounds.width,this.CaOHParticle.render()):this.CaOHParticle.children[0].scale.x<3&&(this.CaOHParticle.render(),this.CaOHParticle.renderCount--):this.CaOHParticle.__timer__=(0,u.default)()),this.CaOH2OSprayParticle&&this.CaOH2OSprayParticle.loaded&&(0<(r=this.CaOH2OSprayParticle).renderCount?(r.setted||(r.particle.spawnRect.width=this.localBounds.width,r.setParticleProp("startColor",[255,255,255]),r.setParticleProp("endColor",[255,255,255]),r.setParticleProp("startAlpha",.1),r.setParticleProp("endAlpha",0),r.particle.acceleration.y=-300,r.setted=!0),r.render(),r.renderCount--):(r.parent.removeChild(r),r.destroy(),this.CaOH2OSprayParticle=null)),this.blackbreadSmoke&&(0<this.blackbreadSmoke.count?(this.blackbreadSmoke.render(),this.blackbreadSmoke.count--):(this.root.particleManager.destroy(this.blackbreadSmoke),this.blackbreadSmoke=null)),this.fumePic&&this.fumePic.visible&&(.001<this.fumePic.alpha?this.fumePic.alpha-=.001:(this.fumePic.alpha=0,this.fumePic.visible=!1)),this.HgFumePic&&this.HgFumePic.visible&&(.005<this.HgFumePic.alpha?this.HgFumePic.alpha-=.005:(this.fogTimer&&clearTimeout(this.fogTimer),this.fogTimer=setTimeout(function(){a.HgFumePic.alpha=0,a.HgFumePic.visible=!1},3e3))),this.medicineData.liquidAry.quickMap.get("C2H5OH")&&this.woodenStick&&this.woodenStick.currentContainer===this){for(var r,o,s,l=-1,h=0,c=this.woodenStick.secData.length;h<c;h++)if(1===this.woodenStick.secData[h].burnStatus){l=h;break}-1!==l&&((r=this.woodenStick.getSecPoint({index:l},!0)).x-=10,r=this.woodenStick.toGlobal(r),V.containsPoint(this.liquidVertex,r)&&!this.alcoholInConFireParticle&&(o={x:((s=this.liquidVertex)[0].x+s[s.length-1].x)/2,y:s[0].y},s=.8*Math.abs(s[0].x-s[s.length-1].x)/this.getViewStack().scale.x,this.alcoholInConFireParticle=N.getParticle(N.particles.alcoholInCon_fire),this.alcoholInConFireParticle.liquidWidth=s,this.alcoholInConFireParticle.insteadWidth=!1,this.alcoholInConFireParticle.rotation=-J.retrieveRotation(this.worldTransform),this.addChild(this.alcoholInConFireParticle),this.alcoholInConFireParticle.position=this.toLocal(o),this.alcoholInConFireParticle.mask=this.gasOutMask))}this.soapBubbleBlow&&(o={x:((s=this.liquidVertex)[0].x+s[s.length-1].x)/2,y:s[0].y},n=.8*Math.abs(s[0].x-s[s.length-1].x)/this.getViewStack().scale.x,this.soapBubbleBlow.position=this.toLocal(o),this.soapBubbleBlow.rotation=-J.retrieveRotation(this.worldTransform),this.soapBubbleBlow.render(),this.soapBubbleBlow.particle&&!1===this.soapBubbleBlow.particle._emit&&0===this.soapBubbleBlow.children.length&&(this.soapBubbleBlow.destroy(),this.soapBubbleBlow=null),(o=this._isFullObj_)&&"MatchStick"===o.name&&"onFire"===o.fireStyle&&this.soapBubbleBlow&&this.soapBubbleBlow.children&&5<this.soapBubbleBlow.children.length&&function(){for(var i=a.medicineData.gasAry,e=0,t=0;t<i.length;t++)!function(t){G.CANBURNGAS.find(function(e){return e===i[t].name})&&(e+=i[t].getMol(),i[t].setMol(0))}(t);.2<e/a.medicineData.getGasMol()&&(z.play(X.BOOM),a.soapBubbleFireParticle||(a.soapBubbleFireParticle=N.getParticle(N.particles.soapBubble_fire),a.soapBubbleFireParticle.liquidWidth=n,a.soapBubbleFireParticle.insteadWidth=!1,a.soapBubbleFireParticle.rotation=a.soapBubbleBlow.rotation,a.addChild(a.soapBubbleFireParticle),a.soapBubbleFireParticle.x=a.soapBubbleBlow.x,a.soapBubbleFireParticle.y=a.soapBubbleBlow.y,a.soapBubbleFireParticle.mask=a.gasOutMask,a.soapBubbleFireParticle.renderCount=30,a.soapBubbleBlow.destroy(),a.soapBubbleBlow=null))}()),this.soapBubbleFireParticle&&(e=(t=this.soapBubbleFireParticle).liquidWidth,!t.insteadWidth&&t.getParticleProp("spawnRect")&&t.getParticleProp("spawnRect").width!==e&&(t.getParticleProp("spawnRect").width=e,t.getParticleProp("spawnRect").x=-e/2,t.insteadWidth=!0),0<t.renderCount?(t.render(),t.renderCount--):(this.soapBubbleFireParticle.destroy(),this.soapBubbleFireParticle=null)),this.alcoholInConFireParticle&&(t=(e=this.alcoholInConFireParticle).liquidWidth,!e.insteadWidth&&e.getParticleProp("spawnRect")&&e.getParticleProp("spawnRect").width!==t&&(e.getParticleProp("spawnRect").width=t,e.getParticleProp("spawnRect").x=-t/2,e.insteadWidth=!0),this.medicineData.liquidAry.quickMap.get("C2H5OH")?(e.render(),this.needBurn=!0,this.showBubble=!1):(this.alcoholInConFireParticle.destroy(),this.alcoholInConFireParticle=null,this.needBurn=!1,this.showBubble=!0))}},{key:"updateParticlePosition",value:function(){var o=this;if(this.localLiquidVertex){var s,l,h,e,c,u,d,t,i=this.localLiquidVertex,n=i.length,a=this.getViewStack().scale.x,r=V.getAABB(this.liquidVertex).width/a,p=V.getAABB(this.liquidVertex).height/a,f=-J.retrieveRotation(this.worldTransform),I={x:(i[0].x+i[n-1].x)/2,y:(i[0].y+i[n-1].y)/2};if(i[0].x<i[n-1].x?(s={x:i[0].x,y:i[0].y},e={x:i[n-1].x,y:i[n-1].y}):(e={x:i[0].x,y:i[0].y},s={x:i[n-1].x,y:i[n-1].y}),this.splashParticle&&!0===this.splashParticle.visible&&(i=this.splashParticle,n=this.splashDrop,i.particle&&(i.particle.spawnRect.width=r,i.position=s,i.rotation=f,n.particle&&(n.particle.spawnRect.width=r),n.position=s,n.rotation=f)),this.soapBubbleBlow&&(this.soapBubbleBlow.position=I,this.soapBubbleBlow.rotation=f),this.soapBubble&&(this.soapBubbleUp.rotation=this.soapBubble.rotation=f,this.soapBubbleUp.position=this.soapBubble.position=s,this.soapBubble.loaded&&this.soapBubble.particle&&(this.soapBubble.particle.spawnRect.width=r),this.soapBubbleUp.particle&&(this.soapBubbleUp.particle.spawnRect.width=r)),this.CaOH2OSprayParticle&&(this.CaOH2OSprayParticle.position=s),0<this.medicineParticleMap.size&&(c=r,u=p,d=s,l=I,h=e,1<this.liquidGra.length&&((p=this.liquidGra.find(function(e){return e&&e.med&&"H2O"===e.med.name}))&&p.curVertex&&0<p.curVertex.length&&(e=p.curVertex,t=p.curLocalVertex,e=V.getAABB(e),c=e.width/a,u=e.height/a,d=t[t.length-1],t[0].x>d.x?h=t[0]:(h=d,d=t[0]),l={x:.5*(d.x+h.x),y:.5*(d.y+h.y)})),this.medicineParticleMap.forEach(function(e,t){if(("Fe(OH)2"!==t&&"Fe(OH)3"!==t||o.noFeOHFloat)&&"Cu2O"!==t){if(G["PARTICLE_".concat(t)]&&"H2SiO3"!==t){var i,n,a=e.mainParticle;if("Cu(OH)2"===t)return a.rotation=f,void(a.position=s);a.loaded&&a.particle&&(a.particle.spawnRect.width=c+20,i=a.position.y,n=(d.y>h.y?d:h).y,a.setedPos?n-=a.particle.spawnRect.height+20:n-=a.particle.spawnRect.height,a.y=i=i<n?n:i)}}else for(var r in e)e[r].x=l.x,e[r].rotation=f,e[r].loaded&&("Cu2O"===t?(e[r].particle.spawnRect.height=u,e[r].particle.spawnRect.width=2*c,e[r].particle.spawnRect.x=-c,e[r].y=l.y):(e[r].particle.spawnRect.width=c,e[r].particle.spawnRect.x=-c/2))})),this.copperWireCreateBubble&&this.solidBubbleGroup&&this.solidBubbleGroup.bubbleTop1.visible)for(var g in this.solidBubbleGroup){g=this.solidBubbleGroup[g];g.loaded&&g.setParticleProp("frequency",.01),g.position=I,g.rotation=f}this.mainSilMirPic&&(this.mainSilMirPic.y<(this.localBounds||this.getLocalBounds()).y&&(this.stopCalcLiquidCount=1,ie.updateSilMirPos(this)),(t=this.medicineData.liquidAry.quickMap.get("HNO3"))&&1e-7<t.getMol()&&ie.cleanSilMir(this)),this.alcoholInConFireParticle&&(this.alcoholInConFireParticle.position=I,this.alcoholInConFireParticle.rotation=f)}}},{key:"transFlocParticle",value:function(){var e,t,i=this;for(e in this.medicineData.solidAry)G["PARTICLE_".concat(e)]&&1e-7<i.getFlocMedMol(e)/i.getCurrentCapacity()&&((t=i.medicineParticleMap.get(e))||(t=i.root.particleManager.initFlocParticle.call(i),i.medicineParticleMap.set(e,t)))}},{key:"updateFlocParticles",value:function(){var d=this;this.medicineParticleMap.size<=0||this.medicineParticleMap.forEach(function(e,t){if(!d.medicineData.solidAry[t]||d.medicineData.solidAry[t].mol<1e-7){for(var i in e)TweenMax.killTweensOf(e[i]),e[i]._gsTweenID&&delete TweenLite._internals.tweenLookup[e[i]._gsTweenID],e[i].destroy&&e[i].destroy();d.medicineParticleMap.delete(t)}else{if("Fe(OH)2"===t&&!d.noFeOHFloat){for(var n in e){var a,r;0<e[n].alpha&&e[n].loaded&&((a=d.liquidGra.find(function(e){return e.med&&"H2O"===e.med.name}))?(r=e[n].particle.spawnRect.height*e[n].scale.y,e[n].y<d.localBounds.y+d.localBounds.height-r-10&&(d.sedimentCurY?d.sedimentCurY+=.01:d.sedimentCurY=.01),e[n].y=a.curLocalVertex[0].y+d.sedimentCurY,e[n].render()):(e[n].destroy(),d.removeChild(e[n])))}return d.medicineData.liquidAry.quickMap.get("植物油")||(.01<e.particle3.alpha?e.particle3.alpha-=.01:e.particle3.alpha=0),1e-4!==e.particle2.alpha||d.medicineData.liquidAry.quickMap.get("植物油")||(e.particle2.alpha=1),void(d.medicineData.liquidAry.quickMap.get("植物油")?e.particle2.alpha=1e-4:.1<e.particle2.alpha&&(e.particle2.alpha-=5e-4))}if("Fe(OH)3"===t&&(e.particle1.alpha<.8&&(e.particle1.alpha+=5e-4),e.particle1.loaded&&((h=d.liquidGra.find(function(e){return e.med&&"H2O"===e.med.name}))?(l=e.particle1.particle.spawnRect.height*e.particle1.scale.y,e.particle1.y<d.localBounds.y+d.localBounds.height-l-10&&(d.sedimentCurY?d.sedimentCurY+=.01:d.sedimentCurY=.01),e.particle1.y=h.curLocalVertex[0].y+d.sedimentCurY,e.particle1.render()):(e.particle1.destroy(),d.removeChild(e.particle1)))),"Cu2O"===t)for(var o in e)0<e[o].alpha&&e[o].render();var s,l,h,c,u=G["PARTICLE_".concat(t)];u&&(s=e.dripParticle,l=e.mainParticle,h=e.fullParticle,"H2SiO3"===t?(0!==s.alpha&&(s.alpha=0),l.loaded&&!l.setedStatus&&(c=d.localBounds,s.setParticleProp("startColor",u.startColor),s.setParticleProp("endColor",u.endColor),l.setParticleProp("startColor",u.startColor),l.setParticleProp("endColor",u.endColor),l.particle&&(l.particle.spawnRect.width=c.width,l.particle.spawnRect.height=c.height,l.setParticleProp("startScale",8),l.setParticleProp("startScale",8)),l.position.set(c.x,c.y),l.setedStatus=!0,l.rotation=-J.retrieveRotation(d.worldTransform)),(c=d.getFlocMedMol(t)/10)<.03?c=.03:.15<c&&(c=.15),l.alpha=c,l.render()):(l.loaded&&s.loaded&&h.loaded&&(c=.2+100*d.getFlocMedMol(t)*Math.pow(200/(d.localBounds||d.getLocalBounds()).width,2),d.getFlocMedMol(t)<1e-7?l.visible=!1:l.visible=!0,l.setParticleProp("startScale",c=8<c?8:c),l.setParticleProp("endScale",c),l.setedColor||(s.setParticleProp("startColor",u.startColor),s.setParticleProp("endColor",u.endColor),l.setParticleProp("startColor",u.startColor),l.setParticleProp("endColor",u.endColor),h.setParticleProp("startColor",u.startColor),h.setParticleProp("endColor",u.endColor),l.setedColor=!0),"Cu(OH)2"!==t&&((t=l.y)<d.localBounds.y+d.localBounds.height-l.particle.spawnRect.height-10&&(t+=.08),l.x=d.localBounds.x,l.y=t)),l.render(),0===l.alpha&&TweenMax.to(l,.3,{alpha:1})),.01<s.alpha?(s.render(),s.alpha-=.01):(s.alpha=0,s.visible=!1),h&&(.01<h.alpha?(h.render(),h.alpha-=.001):(h.alpha=0,h.visible=!1)))}})}},{key:"showChildrenBlockEquation",value:function(){var t=this;this.children.forEach(function(e){e.isBlockMedicine&&(e.conf_chemical_equation=t.conf_chemical_equation)})}},{key:"listenBoom",value:function(){if(this.medicineData.needTempLoss){var i=this.medicineData.gasAry;if(!(i.length<2))if(!this.isDestroy)if(G.GLASSCONTAINER[this.name]){var e=i.quickMap.get("O2");if(e&&!(e.getTemp()<G.GASBOOMTEMP)){for(var n=[],t=0;t<i.length;t++)!function(t){G.CANBURNGAS.find(function(e){return e===i[t].name})&&n.push(i[t])}(t);var a,r=this.medicineData.getFireGas();r.fireAry.length<1||(a=this.medicineData.getGasMol(),((r=r.gasMol)+e.getMol())/a<G.FIREGASBOOMDENS||(a=this.getTotalCapacity(),this.getCurrentCapacity()/a>G.CANNOTBOOMWATERDENS||(e=r/e.getMol())>G.FIREGASANDO2DENS.min&&e<G.FIREGASANDO2DENS.max&&(e>G.FIREGASANDO2DENS.betterMin&&e<G.FIREGASANDO2DENS.betterMax||this.currentPlug||this.isCovered()?this.happenBoom("big"):this.happenBoom("small"))))}}}}},{key:"happenBoom",value:function(e){var i,n,t,a=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.isDestroy||(n=(i=this).root.execute(P.ADD_EQUIPMENT,{name:"GlassPiece"}),t=this.globalMessage(),n.position.set(t.position.x,t.position.y),n.rotation=t.rotation,n.targetLocalBounds=t.localBounds,"small"===e&&(G.GLASSCONTAINER[i.name].detonateImage||(e="big")),"small"===e?n.setCurrentGlass(this.name):"big"!==e&&"ball"!==e||n.setBigBoom(e),r&&n.setSmokeColor(r),n.on("creationComplete",function(){"BigHardGlassTube"===i.name&&i.breakTwoHitClamp(),i.execute(P.SHAKE_STAGE,{equipment:i,noPush:n});var t=[];i.children.forEach(function(e){e.isBlockMedicine||"Cotton"===e.name||e instanceof D&&t.push(e)}),t.forEach(function(e){if(e.eqAddToViewStack(),"NonPorousRubberPlugBig"===e.name)for(var t=0;t<e.children.length;t++){var i=e.children[t];i.isGlassCatheter&&(i.dragRect=void 0)}}),a.root.execute(P.communicate.angular.HAPPEN_BOOM,{eq:a}),i.root.execute(P.DELETE_EQUIPMENT,{eq:[i]})}),this.isDestroy=!0)}},{key:"globalMessage",value:function(){var e={},t=this.toGlobal({x:this.localBounds.x,y:this.localBounds.y});return e.position=this.getEqLayer().toLocal(t),e.rotation=J.retrieveRotation(this.worldTransform),e.localBounds=this.localBounds,e}},{key:"checkContainColloid",value:function(){if(this.currentCapacity<.1&&this.solidifyLiquidGra.length<=0||!this.liquidVertex)return!1;for(var e=0;e<G.COLLOID_MED_ARY.length;e++){var t=this.medicineData.liquidAry.quickMap.get(G.COLLOID_MED_ARY[e]);if(t&&1e-8<t.mol)return!0}return!!this.medicineParticleMap.get("H2SiO3")}},{key:"updateColloidLight",value:function(){var e,n,a,r,o=this;this.colLightGra&&this.colLightGra.drawed&&(this.colLightGra.clear(),this.colLightHaloGra.clear(),this.colLightPointGra.clear(),this.colLightGra.drawed=!1),this.liquidVertex&&this.liquidVertexUp&&((e=this.getViewStack().eqChildren.filter(function(e){return"LaserPen"===e.name&&e.switchType})).length<=0||(n=this.checkContainColloid(),r=(a=this).getViewStack(),e.forEach(function(e){var t=r.toGlobal({x:e.x+e.width/2-5,y:e.y}),i=r.toGlobal({x:e.x+e.width,y:e.y}),e=_.getJiao_polygon_line(t,i,a.globalAry),i=e.length;1<i&&(e.sort(function(e,t){return e.x-t.x}),e[0].x<t.x||he.containsPoint(e[0],o.liquidVertexUp[0],o.liquidVertexUp[o.liquidVertexUp.length-1])||a.drawColloidLight(a.toLocal(e[0]),a.toLocal(e[i-1]),n))})))}},{key:"drawColloidLight",value:function(e,t,i){var n;this.colLightGra||(this.colLightHaloGra=new PIXI.Graphics,n=this.children.indexOf(this.liquidGraContainer)+1,this.addChildAt(this.colLightHaloGra,n),this.colLightHaloGra.mask=this.waterMask,this.colLightHaloGra.filters=[new PIXI.filters.BlurFilter(3,3,3)],this.colLightGra=new PIXI.Graphics,this.addChildAt(this.colLightGra,n+1),this.colLightGra.mask=this.waterMask,this.colLightPointGra=new PIXI.Graphics,this.addChildAt(this.colLightPointGra,n+2),this.colLightPointGra.mask=this.capacityMask,this.colLightPointGra.filters=[new PIXI.filters.BlurFilter(4,4,4)]),i&&(this.colLightGra.beginFill(16711680,.4),this.colLightGra.lineStyle(2,16711680,.4),this.colLightGra.moveTo(e.x,e.y),this.colLightGra.lineTo(t.x,t.y),this.colLightGra.endFill(),this.colLightHaloGra.beginFill(16777215,.6),this.colLightHaloGra.lineStyle(8,16711680,.6),this.colLightHaloGra.moveTo(e.x,e.y),this.colLightHaloGra.lineTo(t.x,t.y),this.colLightHaloGra.endFill()),this.colLightPointGra.beginFill(16711680,.9),this.colLightPointGra.drawCircle(e.x,e.y,8),this.colLightPointGra.endFill(),this.colLightGra.drawed=!0}},{key:"updateSedimentsParticle",value:function(e){if(!this.liquidVertex||0===this.medicineNBGraphicMap.size||this.noNbGraphics||this.noSedimentsParticle)this.sedimentParticle&&0<this.sedimentParticle.alpha&&(this.sedimentParticle.alpha=0);else{var t,i,n=this.medicineData.solidAry,a=[0,0,0],r=[],o=0,s=0;if(1===this.liquidGra.length)for(var l in n)G.FLOCPRECIPITATE.includes(l)&&(!this.noFeOHFloat||"Fe(OH)2"!==l&&"Fe(OH)3"!==l)||(i=(t=n[l]).sediment,"线型酚醛树脂"!==t.name&&"体型酚醛树脂"!==t.name?1e-13<i&&"I2"!==l?(i>t.mol&&(i=t.sediment=t.mol),l=(0,y.default)(t.dat.color||16777215),a[0]+=(l>>16)*i,a[1]+=(l>>8&255)*i,a[2]+=(255&l)*i,s+=i,r.push(i),o++,"S"!==t.name&&(t.sediment*=t.sedRate)):t.sediment=0:t.sediment=t.mol);if(0===o||s<=1e-7)this.sedimentParticle&&((m=this.sedimentParticle.alpha-.001)<=0?this.sedimentParticle.visible=!1:this.sedimentParticle.alpha=m);else{a[0]=Math.round(a[0]/s),a[1]=Math.round(a[1]/s),a[2]=Math.round(a[2]/s),this.sedimentParticle||(this.sedimentParticle=N.getParticle(N.particles.general_sediment),this.waterContainer.addChild(this.sedimentParticle));var h=1<(h=this.sedimentParticle.alpha+.001)?1:h;this.sedimentParticle.alpha=h,this.sedimentParticle.visible=!0;var c=this.sedimentParticle;if(c.loaded){c.particle.customEase||(c.particle.customEase=function(e){return e<.5?2*e:2-2*e}),c.setParticleProp("startColor",a),c.setParticleProp("endColor",a);for(var u=this.localBounds,d=-1/0,p=1;p<this.liquidVertex.length;p++){var f=this.liquidVertex[p];f.y>d&&(d=f.y)}var I=u.width,g=3e8*s/I,m=(d-this.liquidVertex[0].y)*this.getViewStack().scale.x*.9,h=u.x,u=u.y+u.height-(g=m<g?m:g),m=c.getParticleProp("spawnRect");m.x=h,m.y=u;g=1<(g=500/((m.width=I)*(m.height=g)))?1:g;c.setParticleProp("frequency",g=g<.03?.03:g),c.render(e)}}}}},{key:"updateAddIonIncreaseHeat",value:function(){var e,t;this.medicineData&&this.medicineData.addIonHeatValue&&(e=this.medicineData,Math.abs(e.addIonHeatValue)>G.HEATVALUE_PER_FRAME?(t=0<e.addIonHeatValue?G.HEATVALUE_PER_FRAME:-G.HEATVALUE_PER_FRAME,e.addIonHeatValue-=t):(t=e.addIonHeatValue,e.addIonHeatValue=0),this.preventAddIonIncreaseHeat||e.increaseHeat(t,0<t?9999:-100))}},{key:"updateCrystalParticle",value:function(){var e,t,i;!this.coohPic||(t=this.medicineData.solidAry).C6H5COOH&&t.C6H5COOH.getMass()<.01&&(this.coohPic.y=this.coohPic.initPosY,this.coohPic.mass=0),0<this.benjsCount&&(!this.coohPic&&this.needCoohPic&&(ie.addCoohRecrystallizationPic(this),this.coohPic.mass=0),20<=this.benjsCount&&(this.benjsParticle?this.benjsParticle.loaded&&(this.benjsParticle.setParticleProp("startColor",[255,255,255]),this.benjsParticle.setParticleProp("endColor",[255,255,255]),e=this.liquidVertex,t=this.toLocal({x:(e[0].x+e[e.length-1].x)/2,y:e[0].y}),this.benjsParticle.x=t.x,this.benjsParticle.y=t.y,this.benjsParticle.particle.spawnRect.width=this.localBounds.width,this.benjsParticle.particle.spawnRect.x=-this.localBounds.width/2,this.coohPic&&e[0].y<this.coohPic.toGlobal({x:0,y:0}).y&&(i=this.medicineData.solidAry.C6H5COOH.getMass()-this.lastCoohMass,this.coohPic.y-=30*i,this.coohPic.mass+=i,this.lastCoohMass=this.medicineData.solidAry.C6H5COOH.getMass())):(this.coohPic&&(this.coohPic.alpha=1,this.coohPic.visible=!0),this.benjsParticle=N.getParticle(N.particles.jiejing),this.waterContainer.addChild(this.benjsParticle),this.lastCoohMass=this.medicineData.solidAry.C6H5COOH.getMass())),this.benjsParticle&&this.benjsParticle.render(),this.benjsCount--,0===this.benjsCount&&this.benjsParticle&&(this.benjsParticle.destroy(),this.benjsParticle=null)),0<this.liusuantongCount&&(20<=this.liusuantongCount&&(this.liusuantongParticle?this.liusuantongParticle.loaded&&(this.liusuantongParticle.setParticleProp("startColor",[7,43,221]),this.liusuantongParticle.setParticleProp("endColor",[7,43,221]),i=this.liquidVertex,i=this.toLocal({x:(i[0].x+i[i.length-1].x)/2,y:i[0].y}),this.liusuantongParticle.x=i.x,this.liusuantongParticle.y=i.y,this.liusuantongParticle.particle.spawnRect.width=this.localBounds.width,this.liusuantongParticle.particle.spawnRect.x=-this.localBounds.width/2):(this.liusuantongParticle=N.getParticle(N.particles.jiejing),this.waterContainer.addChild(this.liusuantongParticle))),this.liusuantongParticle&&this.liusuantongParticle.render(),this.liusuantongCount--,0===this.liusuantongCount&&this.liusuantongParticle&&(this.liusuantongParticle.destroy(),this.liusuantongParticle=null))}},{key:"update",value:function(e){if(!e)throw new Error("请传入时间");(0,v.default)((0,O.default)(F.prototype),"update",this).call(this,e);var t=this.root.viewStack;(t.rightMoveTime||t.lastScaleTime)&&(this.activeCount=G.ACTIVE_COUNT);var i=!0,n=J.retrieveRotation(this.worldTransform);this.worldRotation!==n?(i=!0,this.activeCount=G.ACTIVE_COUNT,this.worldRotation=n):i=!1,1<Math.abs(n)&&(this.waveHeight=0,this.maxWaveHeight=0);var a=this.medicineData.getCapacity();this.currentCapacity=a;var r=this.maxWaveHeight;this.updateWave();t=this.maxWaveHeight;if(0<this.stirLiquidCount&&this.stirLiquidCount--,this.preventCalEffect||(this.updateAddIonIncreaseHeat(),this.updateSedimentsParticle(e),this.updateOtherParticles(e),this.updateFlocParticles(),this.testTubeExplode(),this.showChildrenBlockEquation(),this.listenIsHot(e),this.listenBoom(),this.updateCrystalParticle()),"PlasticInjector"!==this.name&&(this.containerDeliverTemp(),this.gasH2OTransformLiquidH2O()),this.autoAdjustRotation(),this.dripSpreadParticle&&0<this.dripSpreadParticle.renderCount&&this.dripSpreadParticle.visible&&((n=this.dripSpreadParticle).renderCount--,n.render(e),n.renderCount<=0&&(n.visible=!1)),this.growLiquid&&0===this.growLiquid.deltaCapacity&&(this.growLiquid.alpha=this.growLiqText.alpha=0),R.genEffectFunc(this,e),a>this.getTotalCapacity()&&!this.isPourOutHold&&this.setCurrentCapacity(this.getTotalCapacity()),this.globalAry=this.getGlobalVertexes(),this.topGlobalAry=this.getTopGlobalVertexes(),"PlasticInjector"!==this.name&&this.medicineData.tempLoss(e),this.onBalance&&this.setContentMass(),this.medicineData.update(e),this.updateContainSoap(e),this.updateP4BottleSmoke(e),this.updateColloidLight(),0!==this.capacityVertex.length){if(this.getCurrentCapacity()>.98*this.getTotalCapacity()&&(this.forceUpdateLiquidGra=!0),Math.abs(a-this.lastCapacity)<1e-7&&5<this.stopCalcLiquidCount&&!this.worldRotated&&!this.justShaked&&!this.forceUpdateLiquidGra?this.updateLiquidGraAndGasGraColor(0!==r&&0===t,a):(this.stopCalcLiquidCount||(this.stopCalcLiquidCount=5),Math.abs(a-this.lastCapacity)<1e-7?this.stopCalcLiquidCount++:this.stopCalcLiquidCount=1,this.updateTransform(),this.globalAry=this.getGlobalVertexes(!0),this.calculateLiquid(this.forceUpdateLiquidGra||this.stopCalcLiquidCount<5),this.forceUpdateLiquidGra=!1,this.updateGasVertex(),this.justShaked=!1,this.updateParticlePosition(),this.transFlocParticle(),this.checkReCalSolvent()),this.worldRotated=i,this.bottleGasManager.update(e),this.updateMedicineTemple(e),this.checkMn2O7Boom(),a||0<this.lastCapacity&&this.liquidVertex?(this.updateBubble(e),this.updateNapeLiquidBody(),this.H2SO4AbsorbH2O()):this.isPourOut=!1,0<this.lastCapacity&&0===a)for(var o=0,s=this.liquidGra.length;o<s;o++){var l=this.liquidGra[o];l&&(l.clear(),l.liquidBg.clear(),l.splitLineGra&&l.splitLineGra.clear())}this.lastCapacity=a,this.updateContainerHeightDiff(),a<=0&&(this.containSoap&&(this.containSoap=!1,this.containSoapCa=!1),this.containOil&&(this.containOil=!1)),0<this.a_para&&(this.a_para-=.015)}else this.worldRotated=i}},{key:"checkReCalSolvent",value:function(){var i,n,a,r,o,s,l,h,c=this;1<this.liquidGra.length&&(h=l=s=o=r=a=n=i=!1,this.liquidGra.forEach(function(e){var t;e&&e.med&&("CH3COOH"!==e.med.name&&"CH3CH2CH2OH"!==e.med.name||(i=!0),"C6H6"===e.med.name&&(a=!0),"Br2"!==e.med.name&&"C6H5Br"!==e.med.name||"C6H6"===e.med.solvent||(r=!0),"Br2"===e.med.name&&(s=!0,"Br2"===e.med.solvent&&(h=!0)),"H2O"===e.med.name&&(n=!0),"CCl4"===e.med.name&&(l=!0,t=c.medicineData.liquidAry.quickMap.get("Mn2O7"),!e.solute.Mn2O7&&t&&1e-15<t.getMol()&&(o=!0)))}),(i&&n||r&&a||o&&n||l&&s||s&&n&&h)&&this.reCalSolvent())}},{key:"H2SO4AbsorbH2O",value:function(){var e=this.medicineData;if(e){for(var t,i,n=e.liquidAry,a=0;a<n.length;a++){var r=n[a],o=r.name;if("H2O"===o){if(t=r,i)break}else if("H2SO4"===o&&(i=r,t))break}t&&i&&t.getTemp()<80&&this.isOpen&&14<i.mol/this.getCurrentCapacity()*1e3&&(t.mol+=1e-5*i.mol*(80-t.getTemp())/50)}}},{key:"updateBubble",value:function(e){if(this.solidBubbleGroup&&0<this.lastCapacity&&0===this.currentCapacity&&(this.solidBubbleCount=0),this.solidBubbleGroup&&-10!==this.solidBubbleCount){if(this.solidBubbleCount<10){if(this.copperWireCreateBubble&&(this.copperWireCreateBubble=null),this.solidBubbleGroup.bubbleTop1.visible)for(var t in this.solidBubbleGroup){t=this.solidBubbleGroup[t];t.visible=!1,t.loaded&&t.setParticleProp("frequency",0),this.solidBubbleCount=-10}}else for(var i in this.solidBubbleGroup){i=this.solidBubbleGroup[i];i.visible||(i.visible=!0),i.render()}this.solidBubbleCount--}if(0<this.bubble.isReacting&&2<this.currentCapacity?(this.bubble.isReacting--,this.bubble.visible&&this.bubble.render(e)):this.bubble.visible&&(this.bubble.isReacting=0,this.bubble.setParticleProp("frequency",0),this.bubble.visible=!1),this.medicineData.needTempLoss){var n=this.medicineData.solidAry["AmBpO2p·nH2O"],a=this.medicineData.solidAry["碎瓷片"],r=!1;(n&&1e-7<n.getMol()||a&&1e-7<a.getMol())&&(r=!0);var a=this.medicineData.liquidAry,o=-1/0;a.map(function(e){.01<e.getVol()&&(e=e.getTemp()/e.getBoilingPoint(),o<e&&(o=e))});((o="WaterBath"===this.name?0:o)<.95||0<this.stirLiquidCount)&&0<this.boilingTimer&&(this.boilingTimer=Math.max(this.boilingTimer-2,0));a=this.medicineData.gasAry.quickMap.get("Hg");if(this.medicineData.gasAry&&a&&1e-15<a.mol&&this.HgFumePic&&ie.increaseHgFogAlpha(this),o<=.95||this.currentCapacity<2){if(this.bubbleGroup&&this.bubbleGroup.visible){var s,l=this.bubbleGroup.particles;for(s in this.bubbleGroup.visible=!1,l){var h=l[s];h.visible=!1,h.loaded&&h.setParticleProp("frequency",0)}}}else{this.boilingTimer=Math.min(180,(this.boilingTimer||0)+1),(this.fumePic||this.HgFumePic)&&(a=this.medicineData.gasAry.quickMap.get("Hg"),this.HgFumePic&&this.medicineData.gasAry&&a&&1e-15<a.mol?ie.increaseHgFogAlpha(this):ie.increaseFogAlpha(this)),this.bubbleGroup?this.bubbleGroup.visible=!0:this.bubbleGroup=this.initBubble(),120<this.boilingTimer&&.999<o&&!r&&!this.stirLiquidCount&&this.addSplashParticle(1);var c,u=(o-.95)/(1-.95),d=V.getAABB(this.liquidVertex),p=this.toLocal({x:d.x+d.width/2,y:d.y+d.height}),f={x:d.x+d.width/2,y:d.y},I=this.bubbleGroup.particles;for(c in I){var g,m,y=I[c];y.visible=!0,y.loaded&&(m=.01<(g=1/(u*(y.getParticleProp("maxParticles")-1)+1))?g:.01,r&&(-1!=c.indexOf("Top")?(m=0,y.visible=!1):m=.1),g=this.toLocal(f),y.setParticleProp("frequency",m),"bubbleUp"===c&&(y.x=p.x,y.y=p.y),"bubbleBottom"===c&&(y.x=p.x-40,y.y=p.y-20),"bubbleTop1"!==c&&"bubbleTop2"!==c||(y.x=g.x,y.y=g.y,(m=y.getParticleProp("spawnRect"))&&(m.width=d.width/this.getViewStack().scale.x,m.x=-m.width/2)),"bubbleUp1"===c&&(y.x=p.x-15,y.y=p.y),"bubbleUp2"===c&&(y.x=p.x+15,y.y=p.y),"bubbleUp3"===c&&(y.x=p.x-60,y.y=p.y),"bubbleUp4"===c&&(y.x=p.x+60,y.y=p.y),"bubbleTop"===c&&(y.x=g.x,y.y=g.y-5),"bubbleTopLeft"!==c&&"bubbleTopRight"!==c||(y.x=g.x,y.y=g.y-15),y.rotation=-J.retrieveRotation(this.worldTransform),y.render(e))}}}else if(this.bubbleGroup&&this.bubbleGroup.visible){var v,C=this.bubbleGroup.particles;for(v in this.bubbleGroup.visible=!1,C){var M=C[v];M.visible=!1,M.loaded&&M.setParticleProp("frequency",0)}}}},{key:"updateP4BottleSmoke",value:function(e){var t,i;this.p4BottleSmoke&&(this.p4BottleSmoke.reactCount--,0<(t=this.p4BottleSmoke.reactCount)?(i=this.getLocalBounds().y,this.p4BottleSmoke.y>i&&--this.p4BottleSmoke.y,this.p4BottleSmoke.alpha=t<100?t/100:1,this.p4BottleSmoke.render(e)):(this.p4BottleSmoke.destroy(),this.p4BottleSmoke=null))}},{key:"updateContainSoap",value:function(e){var t,i,n;if(this.containSoap&&!this.enableEmulsionBubble()?(this.containSoapCa?this.SOAPMINMOL=5e-4:this.SOAPMINMOL=2e-5,this.soapCount<1200&&this.soapMol>4*this.SOAPMINMOL&&.1<=this.getCurrentCapacity()?(this.soapBubble||(this.soapBubble=N.getParticle(N.particles.soapBubble),this.soapBubble.allowGetBounds=!1,this.soapBubbleUp=N.getParticle(N.particles.soapBubble_up),this.soapBubbleUp.allowGetBounds=!1),this.soapBubble.loaded&&this.soapBubbleUp.loaded&&(this.soapBubble.setedStatus||(this.updateParticlePosition(),this.soapBubble.setedStatus=!0),t=(1200-this.soapCount)/1200,this.soapBubble.parent!=this&&(this.addChild(this.soapBubble),this.soapBubble.mask=this.capacityMask),this.soapBubbleUp.parent!=this.waterContainer&&this.waterContainer.addChild(this.soapBubbleUp),i=this.soapBubble.getParticleProp("spawnRect"),n=this.containSoapCa?.2:1,this.soapBubble.setParticleProp("maxParticles",80*t*n),i.height=20*t,this.soapBubble.renderable=!0,this.soapBubble.render(e),this.soapBubbleUp.render(e),150<=this.stirCount&&(this.stirCount=0),this.soapCount++)):this.soapBubble&&this.soapBubble.parent===this&&(this.removeChild(this.soapBubble),this.waterContainer.removeChild(this.soapBubbleUp))):this.soapBubble&&this.soapBubble.parent===this&&(this.removeChild(this.soapBubble),this.waterContainer.removeChild(this.soapBubbleUp)),this.emulsionBubble&&(this.emulsionBubble.render(),e=this.getCurrentCapacity(),this.emulsionBubble.isFresh?e<.1&&(this.emulsionBubble.isFresh=!1):(e>this.getTotalCapacity()/15&&(this.emulsionBubble.addedWater=!0),this.emulsionBubble.addedWater&&e<.1&&(this.emulsionBubble.destroy(),this.emulsionBubble=null))),this.containOil&&0<this.oilActiveCount&&(this.oilActiveCount===G.OIL_ACTIVE_COUNT/4&&(this.forceUpdateLiquidGra=!0),this.oilActiveCount--),this.oilBubble&&this.oilBubble.parent===this.waterContainer){if("Br2"===this.liquidGra[0].med.name){if(!this.liquidGra[1])return;this.oilBubble.position=this.liquidGra[1].pb}else this.oilBubble.position=this.liquidGra[0].pb;this.oilBubble.rotation=-J.retrieveRotation(this.worldTransform),this.oilBubble.render()}}},{key:"updateNapeLiquidBody",value:function(){if(!(this.activeCount<=0)){var e=this.liquidVertex;if(this.liquidBody){var t=V.getAABB(e),i=this.toLocal({x:t.x,y:t.y}),n=this.toLocal({x:t.x+t.width,y:t.y}),e=this.toLocal({x:t.x,y:t.y+t.height}),t=this.toLocal({x:t.x+t.width,y:t.y+t.height}),a=[i,n,t,e];this.liquidShapePointAry={ltPoint:i,rtPoint:n,rbPoint:t,lbPoint:e};t=this.liquidBody.get_shapes();if(1==t.get_length()){for(var e=t.at(0),r=e.zpp_inner_zn.wrap_lverts,o=r.get_length(),s=0;s<o;s++){var l=r.at(s),h=a[s];l.setxy(h.x,h.y)}t=1;1===this.liquidGra.length&&this.liquidGra[0].med&&this.liquidGra[0].med.dat&&0<this.liquidGra[0].med.dat.density_liquid&&(t=this.liquidGra[0].med.dat.density_liquid),e.get_fluidProperties().set_density(t)}}else this.createLiquidShape()}}},{key:"createLiquidShape",value:function(){var e,t=n(50),i=n(123);this.liquidBody instanceof t||(e=nape.shape.Polygon,i=new t(i.KINEMATIC),(e=new e(e.rect(0,0,1,1))).get_filter().set_collisionMask(0),e.set_fluidEnabled(!0),e.get_filter().set_fluidMask(2),e.get_fluidProperties().set_density(1),e.get_fluidProperties().set_viscosity(6),e.set_body(i),i.set_space(this.engine.space),this.liquidBody=i)}},{key:"updateMedicineTemple",value:function(u){for(var d,e,p,f=this,t=this.medicineData.liquidAry,i=this.medicineData.getLiquidAverageTemp(),n=0,a=0;a<t.length;a++)n+=t[a].mol;0<t.length&&.001<n&&(d=i,25!==Math.round(d)&&(e=(d-25)/.4,p=this.getViewStack().scale.x,(i=V.getAABB(this.liquidVertex)).x-=e*=p,i.y-=e,i.width+=2*e,i.height+=2*e,i=new PIXI.Rectangle(i.x,i.y,i.width,i.height),i=this.getObjectByAABB(i,!0,void 0,function(e){return("Thermometer"===e.name||"ThermometerPlus"===e.name||e.isBlockMedicine)&&e.isCreationComplete}).reduce(function(e,t){if("Thermometer"!==t.name&&"ThermometerPlus"!==t.name||t.currentContainer&&t.currentContainer===f){if(t.isBlockMedicine){var i=t.getNapeBounds(),n=i.x,a=i.y,r=i.width,o=i.height;if(0===r&&0===o)return 0;var s=r*o,l=t.getTemp();t.hitFluidArea()?(i=Math.min(r,o),e-=i=-.2*s*(l-d)/i*u,t.increaseTemp(i)):(c=V.getMinDistance(f.liquidVertex,new j({x:n+r/2,y:a+o/2})),h=-.2*s*(l-d)/c*u,t.passTempToBlock instanceof Function?t.passTempToBlock(t.parent):(e-=h,t.increaseTemp(h)))}}else{var h,c=t.toGlobal(t.center.position);V.containsPoint(f.liquidVertex,c)?t.currentTemp=d:(h=V.getMinDistance(f.liquidVertex,new j(t.toGlobal(t.center.position)),f),c=t.currentTemp,.8*d+-.4*(h/=p)<c?c-=.1:c=.8*d+-.4*h,t.currentTemp=25<c?c:25)}return e},0),this.medicineData.increaseHeat(i)))}},{key:"updateGasVertex",value:function(){if(this.localLiquidVertexUp){var e=this.localLiquidVertexUp,t=this.gasMask,i=this.gasOutMask;t.clear(),t.beginFill(16711680),"GlassSheet"===this.name?(o=this.localBounds.width,r=this.localBounds.height,a=this.localBounds.x+o/2,r=this.localBounds.y+r/2-o/2*1.732,t.drawCircle(a,r,o)):H.drawPolygon(t,e);var n=this.getGlobalVertexes(),a=n[n.length-1],r=n[0],o=this.getViewStack().scale.x,t=J.retrieveRotation(this.worldTransform),t=V.rotatePoly([{x:0,y:-80*o}],t)[0];n.push(new j({x:a.x+t.x,y:a.y+t.y})),n.unshift(new j({x:r.x+t.x,y:r.y+t.y})),this.gasLiquidLine=[this.liquidVertex[0],this.liquidVertex[this.liquidVertex.length-1]],this.gasLiquidLine&&(n=(d=V.getDivideSpace(n,this.gasLiquidLine[0],this.gasLiquidLine[1]))?d.up:n);for(var s,l=[],h=0;h<n.length;h++)s=this.toLocal(n[h]),l.push(s);i.clear(),i.beginFill(16711680),H.drawPolygon(i,l);var c,u,t=Math.pow(this.getViewStack().scale.x,2),d=V.getArea(this.liquidVertexUp)/t*this.capacityScale,i=Q.getMixerColor(d,this.medicineData.gasAry),t=this.gasGra;t.gasCapacity=d,(i||void 0!==t.gasLastCapacity&&.001<Math.abs(t.gasLastCapacity-d)&&t.gasColor)&&(t.clear(),i?(c=i.color,u=i.alpha,t.gasColor=c,t.gasAlpha=u):(c=t.gasColor,u=t.gasAlpha=0),t.beginFill(c,u),H.drawPolygon(t,e),t.endFill()),t.gasLastCapacity=d}}},{key:"updateLiquidGraAndGasGraColor",value:function(e,t){var i=this.liquidGra,n=i.length,a=this.localLiquidVertex,r=this.localLiquidVertexUp,o=this.liquidVertex,s=this.liquidVertexUp;this.currentCapacity<=0&&this.waterContainer.mask&&(0===this.solidifyLiquidGra.length&&this.waterContainer.mask.clear(),this.liquidGra.forEach(function(e){e.clear(),e.liquidBg.clear(),e.splitLineGra&&e.splitLineGra.clear()}));var l=this.toGlobal(a[0]),h=o[0];if(1<Math.abs(l.x-h.x)||1<Math.abs(l.y-h.y)){this.globalAry=this.getGlobalVertexes(!0);var c=a.length;o.length=c;for(var u=0;u<c;u++)o[u]=new j(this.toGlobal(a[u]));for(var d=0;d<n;d++){var p,f,I=i[d];I&&(f=I.pb,p=I.med,f&&(f=this.toGlobal(f),I.pa=f,p&&(p.pa=f)))}c=r.length,s.length=c;for(var g=0;g<c;g++)s[g]=new j(this.toGlobal(r[g]))}var m,y,v=!1;if(--this.medicineData.colorGradient<0?this.medicineData.colorGradient=0:v=!0,0<t)for(var C=0,M=0;M<n;M++){var b=i[M];if(this.hasReact||v){b.liquidBg.alpha=.2;var x=this.medicineData.getContainerLiquidMixColor(b.med&&b.med.name||void 0,M),O=b.currentPath,A=b.liquidBg.currentPath;if(x){b.clear(),b.liquidBg.clear();var T=x.color,S=x.alpha,x=.8<(x=S)?.8:x;b.beginFill(T,x),b.liquidColor=T,S=(S=(b.liquidAlpha=x)-.05)<.2?.2:S,b.liquidBg.beginFill(16777215),b.liquidBg.alpha=S,(0!==this.maxWaveHeight||e)&&this.root.dt<G.RENDER_RESTRICT&&b.vertex?(H.drawLiquidPolygon(b,b.vertex,this.waveHeight,C),H.drawLiquidPolygon(b.liquidBg,b.vertex,this.waveHeight,C)):O&&(O.points&&1<O.points.length&&(C+=(S=O.points.filter(function(e,t){return t%2==1}).sort())[S.length-1]-S[0]),b.drawPolygon(O.shape),b.liquidBg.drawPolygon(A.shape));continue}}(0!==this.maxWaveHeight||e)&&b.vertex&&(b.clear(),b.liquidBg.clear(),b.beginFill(b.liquidColor,b.liquidAlpha),b.liquidBg.beginFill(16777215),this.root.dt<G.RENDER_RESTRICT?(H.drawLiquidPolygon(b,b.vertex,this.waveHeight),H.drawLiquidPolygon(b.liquidBg,b.vertex,this.waveHeight)):(this.maxWaveHeight=0,H.drawPolygon(b,b.vertex),H.drawPolygon(b.liquidBg,b.vertex))),b.endFill()}(this.hasReact||v)&&(h=(l=this.gasGra).gasCapacity,"Compressor"===this.name&&(h=this.getTotalCapacity()),(t=Q.getMixerColor(h,this.medicineData.gasAry))?("Compressor"===this.name&&(this.isPushed?t.alpha*=.6:t.alpha*=1.4,t.alpha=Math.min(t.alpha,1)),y=l.currentPath.shape,l.clear(),h=t.color,m=t.alpha,l.beginFill(h,m),l.gasColor=h,l.gasAlpha=m,l.drawPolygon(y),l.endFill()):l.gasColor&&(m=l.currentPath.shape,l.clear(),y=l.gasColor,l.beginFill(y,0),l.drawPolygon(m),l.gasColor=null,l.gasAlpha=null))}},{key:"changeSolidifyLiquidColor",value:function(i,e,t){var n,a,r,o,s=this;function l(e){e=(e=Math.floor(e)).toString(16);return 1<e.length?e:"0"+e}!i||((r=i.currentMixerColor)||e)&&(n=r.color,a=e.color,r=r.alpha,e=e.alpha,o={r:n>>16,g:n>>8&255,b:255&n,a:r},TweenMax.to(o,t||0,{r:a>>16,g:a>>8&255,b:255&a,a:e,onUpdate:function(){i.clear();var e=o.a,t="0x"+l(o.r)+l(o.g)+l(o.b),t=Number(t),e=1<e?1:e;i.beginFill(t,e),i.liquidColor=t,i.liquidAlpha=e,i.alpha=e,H.drawPolygon(i,i.vertex,s.waveHeight),i.currentMixerColor={color:t,alpha:e},i.endFill()}}))}},{key:"calculateSolidifyLiquid",value:function(e,t,i,n,a){var r=this.solidifyLiquidGra,o=this.solidifyBody,s=Math.pow(this.getViewStack().scale.x,2),l=this.globalAry;t&&(l=this.topGlobalAry||this.globalAry);var h=V.getAABB(l),c=V.getDivideSpace,u=(0,V.iterator)(l,h,e/this.capacityScale,s);if(u){var d=u[0],p=u[u.length-1],h=r[0],e=o[0];if(t&&(h=r[r.length],e=o[o.length]),h||((h=new PIXI.Graphics).allowGetBounds=!1,this.solidifyLiquidGra.push(h),this.solidifyLiquidGraContainer.addChild(h)),e||(s=this.toLocal(d),u=this.toLocal(p),t=this.toLocal({x:p.x,y:p.y+5}),r=this.toLocal({x:d.x,y:p.y+5}),(e=ne.BodyFromArray([[s,u,t,r]])).set_type(ae.kinematic),e.set_space(this.engine.space),e.name=i,e.allowGetBounds=!1,o.push(e)),p=c(l,d,p)){this.setTopCapacityVertex(p.up);for(var f=p.down,I=[],g=0;g<f.length;g++){var m=this.toLocal(f[g]);I.push(m)}h.clear(),h.beginFill(16777215);var p=a||this.medicineData.getContainerLiquidMixColor(i);p?(a=p.color,i=(p=.85<(p=i=p.alpha)?.85:p)-.05,h.beginFill(a,i=i<.2?.2:i),h.liquidColor=a,h.liquidAlpha=p,h.alpha=p,h.currentMixerColor={color:a,alpha:p}):(h.liquidColor=16777215,h.liquidAlpha=.2,h.alpha=.2,h.currentMixerColor={color:16777215,alpha:.2}),h.pa=f[0],h.pb=I[0],n&&(h.type=n),H.drawPolygon(h,I,this.waveHeight);var y=[];this.getAllGraphic().forEach(function(e){V.containsPoint(I,e.napeBody.get_position().zpp_inner)&&(y.push(e),e.staticNBGraphics())}),this.solidifyStopGraphic.push(y),h.vertex=I,h.endFill()}}}},{key:"calculateLiquid",value:function(e){if(!(!e&&this.currentCapacity<=0&&0<this.liquidGra.length)){for(var t=this.liquidGra,i=Math.pow(this.getViewStack().scale.x,2),n=this.medicineData.liquidAry,u=[],a=u.sumCapacity=0,d=new E.default,r=0,o=0,s=0;s<n.length;s++){var l,h,c,p,f=n[s];f.getMol()&&(h=isNaN(Number(f.isSolidify))?0:Number(f.isSolidify),l=f.getVol()-h,isNaN(l)||(a+=l,c=f.name,h=this.medicineData.liquidAry.quickMap.get("H2O"),h="DripHole"===this.name&&"Br2"===c&&h&&1e-7<h.mol,"TRUE"===f.dat["solution_".concat(c)]&&!h||"H2O"===c?("H2O"===c?r=l:"C2H5OH"===c&&(o=l),u.push({vo:f,capacity:p=l}),u.sumCapacity+=p):(c=f.solvent||"H2O",(p=(p=d.get(c))||{})[f.name]?0:p[f.name]=l,p.capacity=p.capacity||0,p.capacity+=l,u.sumCapacity+=l,d.set(c,p))))}var I=o<r?o:r;if(0===a)for(var g=0;g<t.length;g++)t[g]&&t[g].clear();for(var m=0;m<u.length;m++)(function(e){var t=u[e],i=t.vo,n=i.name,a=d.get(n);"C2H5OH"!==n&&"H2O"!==n||i.setMixCapacity(I);i=a?a.capacity:0;t.capacity+=i,t.solute=a||{capacity:0};var r=t.vo.solvent;if(r){var o=u.find(function(e){return e.vo.name===r}),a="H2O"===r?"solubility":"solution_"+r;if(o&&(100<(0,k.default)(t.vo.dat[a])||"TRUE"===t.vo.dat[a])&&(!o.vo.getVol||o.vo.getVol()<=0||9999===(0,k.default)(t.vo.dat[a]))){if(t===o)return m=e;u.indexOf(o)<e&&(o.capacity+=t.capacity);var s,a=t.capacity-t.solute.capacity;for(s in o.solute||(d.get(o.vo.name)?o.solute=d.get(o.vo.name):(o.solute={capacity:0},d.set(o.vo.name,o.solute))),t.solute)o.solute[s]?o.solute[s]+=t.solute[s]:o.solute[s]=t.solute[s];t.solute=null,o.solute[t.vo.name]=a,o.solute.capacity+=t.capacity,u.splice(e,1),e--}}else for(var l="H2O"===n?"solubility":"solution_".concat(n),h=0;h<u.length;h++){var c=u[h];9999!=(0,k.default)(c.vo.dat[l])&&"TRUE"!==c.vo.dat[l]||(t.capacity+=c.capacity,c.vo.solvent=n,u.splice(h,1),h--)}m=e})(m);if(0===u.length&&0<u.sumCapacity&&u.push({vo:new Y(this.root.medicineManager.getMedicineData("H2O"),0),capacity:u.sumCapacity}),0!==this.capacityVertex.length){var y,v=this.topGlobalAry||this.globalAry||this.getGlobalVertexes(!0);if(0<u.length){this.drawLiquidGra(y,u);var C=this.liquidVertex,M=this.liquidVertexUp;if(C){for(var b=[],x=[],O=0;O<C.length;O++)b.push(this.toLocal(C[O]));for(var A=0;A<M.length;A++)x.push(this.toLocal(M[A]));this.localLiquidVertex=b,this.localLiquidVertexUp=x}}else{var T=V.getAABB(v),S=V.iterator,e=V.getDivideSpace,S=S(v,T,this.getCurrentCapacity()/this.capacityScale,i);if(!S)return;T=this.liquidGra[0];T||((T=new PIXI.Graphics).allowGetBounds=!1,this.liquidGra.push(T),this.liquidGraContainer.addChild(T),(i=T.liquidBg=new PIXI.Graphics).alpha=.2,this.liquidGraBgContainer.addChild(i),i.allowGetBounds=!1,T.blendMode=2);e=e(v,S[0],S[S.length-1]);if(e){this.liquidVertex=y=e.down;for(var w=this.liquidVertexUp=e.up,B=[],D=0;D<y.length;D++){var P=this.toLocal(y[D]);B.push(P)}for(var L=[],N=0;N<w.length;N++){var J=this.toLocal(w[N]);L.push(J)}this.localLiquidVertex=B,this.localLiquidVertexUp=L,T.clear(),T.liquidBg.clear(),T.liquidBg.beginFill(16777215),T.beginFill(16777215);var v=this.medicineData.getContainerLiquidMixColor();v?(S=v.color,v=.8<(v=e=v.alpha)?.8:v,T.beginFill(S,v),T.liquidBg.alpha=e=(e=v-.05)<.2?.2:e,T.liquidColor=S,T.liquidAlpha=v):(T.liquidColor=16777215,T.liquidAlpha=.2,T.liquidBg.alpha=.2),T.pa=y[0],T.pb=B[0],this.root.dt<G.RENDER_RESTRICT?(H.drawLiquidPolygon(T,B,this.waveHeight),H.drawLiquidPolygon(T.liquidBg,B,this.waveHeight)):(H.drawPolygon(T,B),H.drawPolygon(T.liquidBg,B)),T.vertex=B,T.endFill()}}var _=this.waterMask;_.clear(),this.localLiquidVertex&&(_.beginFill(0,0),this.root.dt>G.RENDER_RESTRICT?(H.drawPolygon(_,this.localLiquidVertex),_.endFill()):H.drawLiquidPolygon(_,this.localLiquidVertex,this.waveHeight)),0<this.solidifyLiquidGra.length&&this.solidifyLiquidGra.forEach(function(e){e&&e.vertex&&(_.beginFill(0,0),H.drawPolygon(_,e.vertex),_.endFill())})}}}},{key:"drawLiquidGra",value:function(e,t){var i=this.isCovered instanceof Function&&this.isCovered()||this.volumeInfinity||this.isLiquidMedBottle||!0===this.chooseAreaIsFull()||this.currentPlug&&this.currentPlug!==this.parent||this.parent.liquidVertex&&this.parent instanceof F&&this.getViewStack().toLocal({x:this.capacityVertex[0].get_x(),y:this.capacityVertex[0].get_y()},this).y>this.getViewStack().toLocal(this.parent.liquidVertex[0]).y,n=this.topGlobalAry||this.globalAry,a=this.getTotalCapacity();this.roudBDown=!1,this.stateChange=!1;var r=Math.pow(this.getViewStack().scale.x,2),o=V.getAABB(n),s=V.iterator,l=V.getDivideSpace,h=t.find(function(e){return"C6H6"===e.vo.name});h&&(h.solute&&(0<h.solute.C6H5NO2||0<h.solute.C6H5Br)?(q=h.solute.C6H5NO2||h.solute.C6H5Br,h.liquidDensity=(h.vo.dat.density_liquid*h.vo.getVol()+1.2*q)/(q+h.vo.getVol())):h.liquidDensity=null),t.sort(function(e,t){return(t.liquidDensity||t.vo.dat.density_liquid)-(e.liquidDensity||e.vo.dat.density_liquid)});var c=this.getPourInObj(),u=this.getCurrentCapacity(),d=u-t.sumCapacity,p=0,f=n,I=Math.max(n[0].y,n[n.length-1].y);this.chooseArea&&this.getChooseAreaMaxY instanceof Function&&!this.roudBDown&&(I=this.getChooseAreaMaxY(I)),"KippsFunnel"===this.name&&(I=Math.max(n[1].y,n[n.length-2].y));for(var g,m,y=0,v=c&&!(c.isCovered instanceof Function&&!0===c.isCovered())&&this.vRotateSprite&&(!c.getTotalCapacity&&!c.getCurrentCapacity||1<c.getTotalCapacity()-c.getCurrentCapacity()),C=H.drawPolygon,M=0;M<t.length;M++)t[M].pa=null;for(var b=0;b<t.length;b++){b===t.length-1&&!(this.parent instanceof F)&&.01<u/a&&(C=H.drawLiquidPolygon);var x=t[b];x.capacity+=d*(t.sumCapacity?x.capacity/t.sumCapacity:0);var O=s(n,o,(p+=x.capacity)/this.capacityScale,r);if(O){for(var A=void 0,T=b;T<this.liquidGra.length;T++){var S=this.liquidGra[T];if(S&&S.med&&S.med.name===x.vo.name){A=S;T!==b&&(S=this.liquidGra[b],this.liquidGra[b]=A,this.liquidGra[T]=S);break}}if(A||(this.liquidGra[b]&&this.liquidGra.push(this.liquidGra[b]),(A=new PIXI.Graphics).allowGetBounds=!1,this.liquidGra[b]=A,this.liquidGraContainer.addChild(A),(_=A.liquidBg=new PIXI.Graphics).allowGetBounds=!1,_.alpha=.2,this.liquidGraBgContainer.addChild(_),A.blendMode=2),g=O[0],m=O[O.length-1],.01<I-g.y&&!i&&!this.waterAbsorption){var w=Math.min(I-g.y,10);if(v&&(w=I-g.y),this.pourOutSituation(A,t.slice(b),y,g,m,f,w,r,v),!(v||this.isBeaker&&0<this.fumeWaterData)){this.forceUpdateLiquidGra=!0;for(var B=b+1;B<this.liquidGra.length;B++)this.liquidGra[B]&&this.liquidGra[B].clear();break}}this.isPourOut=!1,y+=x.capacity;var D=l(f,g,m);if(D){var P=D.down;x.vo.pa=P[0],f=D.up,A.clear(),A.beginFill(16777215),A.liquidBg.clear(),A.liquidBg.beginFill(16777215),A.liquidBg.alpha=.2,this.noLiquidGra&&(A.liquidBg.visible=!1);for(var L=[],N=0;N<P.length;N++){var J=this.toLocal(P[N]);L.push(J)}A.curVertex=P,A.curLocalVertex=L;var _=x.vo.name,O=this.medicineData.getContainerLiquidMixColor(_,b);A.med=x.vo,A.solute=x.solute,A.pa=P[0];var w=void 0,D=void 0,O=.8<(O=D=O?(w=O.color,O.alpha):(w=A.liquidColor=16777215,A.liquidAlpha=.2))?.8:O;A.beginFill(w,O),A.liquidBg.alpha=D=(D=O-.05)<.2?.2:D,A.liquidColor=w,A.liquidAlpha=O,C===H.drawLiquidPolygon?A.vertex=L:delete A.vertex,A.pb=L[0],C(A,L,this.waveHeight),C(A.liquidBg,L,this.waveHeight),A.endFill(),"Hg"===_&&this.drawSilMir&&this.drawSilMir(A),1<t.length&&b<t.length-1&&(!this.containOil||this.oilActiveCount<G.OIL_ACTIVE_COUNT/4)?(A.splitLineGra||((_=A.splitLineGra=new PIXI.Graphics).allowGetBounds=!1,this.liquidGraContainer.addChild(_)),A.splitLineGra.clear(),t[b+1].vo&&("9999"===x.vo.dat["solution_".concat(t[b+1].vo.name)]||"9999"===t[b+1].vo.dat["solution_".concat(x.vo.name)])||(A.splitLineGra.lineStyle(1,w,O+.2),A.splitLineGra.moveTo(L[0].x,L[0].y+.5),A.splitLineGra.lineTo(L[L.length-1].x,L[L.length-1].y+.5))):A.splitLineGra&&A.splitLineGra.clear()}}}for(var E=t.length;E<this.liquidGra.length;E++){var k=this.liquidGra[E];k&&(k.clear(),k.liquidBg.clear(),k.parent.removeChild(k),k.liquidBg.parent.removeChild(k.liquidBg),k.splitLineGra&&(k.splitLineGra.clear(),k.splitLineGra.parent.removeChild(k.splitLineGra)))}this.liquidGra.length=t.length;var q=t[t.length-1].vo.pa;if(q&&I-q.y<=0)if(g&&c&&!(c.isCovered instanceof Function&&!0===c.isCovered())&&this.growLiquid&&this.growLiquid.deltaCapacity<0){h=Math.max(n[0].y,n[n.length-1].y)-g.y,q=V.lineIntersect(n,new j(0,g.y+h),new j(1,g.y+h));if(q.length<=1)return this.growLiquid.clear(),this.growLiquid.alpha=0,this.growLiquid.deltaCapacity=0,c.growLiquid.clear(),c.growLiquid.alpha=0,void(c.growLiquid.deltaCapacity=0);h=l(n,q[0],q[q.length-1]);if(!h)return this.growLiquid.clear(),this.growLiquid.alpha=0,this.growLiquid.deltaCapacity=0,c.growLiquid.clear(),c.growLiquid.alpha=0,void(c.growLiquid.deltaCapacity=0);this.liquidVertex=h.down,this.liquidVertexUp=h.up;var q=this.getCurrentCapacity()-V.getArea(h.down)*this.capacityScale/r;q<0&&(h=this.growLiquid.deltaCapacity,c.drawTipLiquid.call(c,{globalScale:r,deltaCapacity:(q=q<h?h:q)-h,sourceContainer:this}),this.drawTipLiquid({globalScale:r,deltaCapacity:h-q,globalAry:n,rect:o,pa:g,pb:m}))}else{var R=l(n,g,m);R&&(this.liquidVertex=R.down,this.liquidVertexUp=R.up)}else{R=l(n,g,m);R&&(this.liquidVertex=R.down,this.liquidVertexUp=R.up)}}},{key:"pourOutSituation",value:function(e,t,i,n,a,r,o,s,l){var h=V.lineIntersect(r,new j(0,n.y+o),new j(1,n.y+o));if(this.isPourOut=!0,!(h.length<=1&&(h=V.lineIntersect(r,new j(0,n.y+(o*=.99)),new j(1,n.y+o))).length<=1)){o=V.getDivideSpace(r,h[0],h[h.length-1],h);if(o){var c=o.down,r=this.getCurrentCapacity(),o=V.getArea(c)*this.capacityScale/s,r=r-i-(o=o<this.getTotalCapacity()/100?0:o);if(!(r<1e-5)){!this.isPour&&this.overflowCount<20&&(this.overflowCount=Math.min(this.overflowCount+5,20));i=this.getPourInObj();if(i instanceof F||!i)if(l){o=i.getTotalCapacity(),l=i.getCurrentCapacity();i.drawTipLiquid.call(i,{globalScale:s,deltaCapacity:o<l+r?o-l:r,sourceContainer:this}),this.drawTipLiquid({globalScale:s,deltaCapacity:-r,pa:n,pb:a})}else{a=this.medicineData.convertVolumeToLiquidAcToPos(r,h[0]);this.medicineData.minusCovertedLiuqid(a),this.currentContainer&&this.currentContainer.realCapacityVertex&&V.containsPoint(this.currentContainer.realCapacityVertex,n)&&this.currentContainer.addMedicine(a),e.clear(),e.beginFill(16777215),e.liquidBg.clear(),e.liquidBg.beginFill(16777215),e.liquidBg.alpha=.2;for(var u=[],d=0;d<c.length;d++){var p=this.toLocal(c[d]);u.push(p)}var n=t[0].vo.name,a=this.liquidGra.indexOf(e),n=this.medicineData.getContainerLiquidMixColor(n,a);e.med=t[0].vo,e.index=a,n?(t=n.color,n=.8<(n=a=n.alpha)?.8:n,e.beginFill(t,n),e.liquidBg.alpha=a=(a=n-.05)<.2?.2:a,e.liquidColor=t,e.liquidAlpha=n):(e.liquidColor=16777215,e.liquidAlpha=.2),e.pa=c[0],e.pb=u[0],H.drawPolygon(e,u,this.waveHeight),H.drawPolygon(e.liquidBg,u,this.waveHeight),e.endFill()}else{h=this.medicineData.convertVolumeToLiquidAcToPos(r,h[0]);this.medicineData.minusCovertedLiuqid(h),i.addMedicine(h)}}}}}},{key:"drawTipLiquid",value:function(e){var t=e.globalScale,i=e.deltaCapacity,n=e.globalAry,a=e.rect,r=e.pa,o=e.pb,s=e.sourceContainer,n=n||this.topGlobalAry||this.globalAry,l=this.growLiquid;if(l.deltaCapacity=i,this.liquidVertex&&this.liquidVertex[0]){this.growLiqText.y=0===this.growLiqText.y?this.toLocal(this.liquidVertex[0]).y-20:this.growLiqText.y;a=a||V.getAABB(n),e=V.iterator;if(!r||!o){var h=e(n,a,this.getCurrentCapacity()/this.capacityScale,t);if(!h)return;r=h[0],o=h[h.length-1]}h=V.getDivideSpace,a=e(n,a,(this.getCurrentCapacity()+i)/this.capacityScale,t);if(a){n=h(n,a[0],a[a.length-1]);if(n){if(u=h(0<i?n.down:n.up,r,o)){var c,u=0<i?u.up:u.down;l.clear(),l.alpha=1,0<i&&s?c=s.liquidGra.liquidColor:i<0&&void 0===s&&(c=0),l.beginFill(c,.2);var d=this.toLocal(u[0]),p=[d];l.moveTo(d.x,d.y);for(var f=1;f<u.length;f++)d=this.toLocal(u[f]),p.push(d),l.lineTo(d.x,d.y);l.endFill(),l.lineStyle(2,16777215);for(var I=p[0],g=1;g<p.length;g++){var m=p[g];H.dashTo(l,I,m,5,t),I=m,g===p.length-1&&H.dashTo(l,m,p[0],5,t)}a=this.toLocal(a[0].x>a[1].x?a[1]:a[0]);return void(this.growLiqText.y=a.y-20)}this.growLiquid.deltaCapacity=0,this._pourOutObj_&&this._pourOutObj_.growLiquid&&(this._pourOutObj_.growLiquid.deltaCapacity=0)}l.deltaCapacity=i,this.growLiqText.y=0===this.growLiqText.y?this.toLocal(this.liquidVertex[0]).y-20:this.growLiqText.y}}}},{key:"listenIsHot",value:function(e){var t;this.isHot&&(t=this.getBounds(),this.radiantHeat(G.HUMAN_HOT_SCALE,t,e,G.TEMP_HUMAN,!0))}},{key:"testTubeExplode",value:function(){var e,n,t,i,a;this.breakImg&&1!==this.breakImg.alpha&&(a=this.medicineData,e=a.liquidAry,i=a.gasAry,n=this,0<e.length&&(t=(t=this.getViewStack()).lastScaleTime||t.rightMoveTime?!this.canBreakImg:function(){if(!n.liquidVertex)return!1;var e=n.toLocal(n.liquidVertex[0]),t=n.toLocal(n.liquidVertex[n.liquidVertex.length-1]),i=n.breakImg,i=[{x:i.x-2,y:i.y},{x:i.x+i.width+4,y:i.y},{x:i.x+i.width+4,y:i.y+i.height},{x:i.x-2,y:i.y+i.height}];return!(!V.containsPoint(i,e)&&!V.containsPoint(i,t))}(),a.getCapacity()<1&&0<i.length||!t?(this.canBreakImg=!0,this.breakNum=0):(this.breakNum++,60<this.breakNum&&(this.canBreakImg=!1)),1===e.length&&e.quickMap.get("Hg")||1<i.length&&this.canBreakImg&&(i=a.getGasAverageTemp(),this.bottleTemp||(this.bottleTemp=G.DEFAULT_TEMP),this.bottleTemp=Math.max(i,G.DEFAULT_TEMP,this.bottleTemp-1),0<e.length&&1<a.getCapacity()&&(a=a.getLiquidAverageTemp(),200<this.bottleTemp-a&&0<a&&t&&this.doBreakImg()))))}},{key:"doBreakImg",value:function(){this.breakImg&&1!==this.breakImg.alpha&&(this.breakImg.alpha=1,z.play(X.GLASSBREAK))}},{key:"autoAdjustRotation",value:function(){var e,t;this.worldRotated&&(this.rotation>2*Math.PI||this.rotation<2*Math.PI)&&(this.rotation=this.rotation%(2*Math.PI)),this.engine?0<this.activeCount&&(0<this.medicineNBGraphicMap.size||0<this.blockMedicineMap.size||this.hasPestle)&&(this.engine.update(),t=J.retrieveRotation(this.worldTransform),e=q.DEFAULT_GRAVITY*Math.sin(t)+this.napeDisX,t=q.DEFAULT_GRAVITY*Math.cos(t)+this.napeDisY,this.napeDisX=this.napeDisY=0,this.engine.space.get_gravity().set_y(t),this.engine.space.get_gravity().set_x(e)):0!==this.medicineData.solidAry.length&&this.createPhysicsEngine(),--this.activeCount<0&&(this.activeCount=0)}},{key:"createPhysicsEngine",value:function(){this.dragMoveNapeChange();var e=n(1006);this.engine instanceof e||((e=new e(this)).init(),this.engine=e)}},{key:"dragMoveNapeChange",value:function(){var r,o=this,s={x:0,y:0};this.on(NBDrag.event.DRAG_MOVE,function(e){var t,i,n,a;0!==o.medicineData.solidAry.length&&(t=e.data.global,r?(i=(a={x:t.x-r.x,y:t.y-r.y}).x-s.x,n=a.y-s.y,s=a,e=J.retrieveRotation(o.worldTransform),a=Math.sin(e),e=Math.cos(e),o.napeDisX=150*(i*e+n*a),o.napeDisY=150*(-i*a+n*e)):r={x:t.x,y:t.y})}),this.on(NBDrag.event.STOP_DRAG,function(){r=void 0,s={x:0,y:0}})}},{key:"gasH2OTransformLiquidH2O",value:function(){var e,t,i,n=this.medicineData?this.medicineData.gasAry.quickMap.get("H2O"):null;!n||n.mol<1e-4||((t=this.h2o)&&90<t.getTemp()||1e-4<n.getMol()&&(e=this.medicineData.getGasMol(),(t=(i=n.getMol())/e)>G.WATER_GAS_PROPORTION&&(t=t-G.WATER_GAS_PROPORTION,i=Math.sqrt(Math.pow(t,3))/20*e/i,i=n.getTemp()<G.DEFAULT_TEMP?Math.min(1,8*i):i,i=n.getMol()*i,n.setMol(n.getMol()-i),n=this.medicineManager.getMedicineData("H2O"),i=new Y(n,i),this.medicineData.push(i))))}},{key:"containerDeliverTemp",value:function(){var e=this,t=e.currentContainer;if(t&&t instanceof F&&!(this.name.includes("Funnel")||t.name.includes("Funnel")||this.name.includes("CondenserTube")||t.name.includes("CondenserTube"))){var i,n,a,r=e.medicineData,o=t.medicineData,s=0<r.liquidAry.length,l=0<o.liquidAry.length,h=s?r.getLiquidAverageTemp():G.DEFAULT_TEMP,c=r.getGasAverageTemp();switch(isFinite(h)||(h=G.DEFAULT_TEMP),isFinite(c)||(c=G.DEFAULT_TEMP),i=l?o.getLiquidAverageTemp():G.DEFAULT_TEMP,n=o.getGasAverageTemp(),isFinite(i)||(i=G.DEFAULT_TEMP),isFinite(n)||(n=G.DEFAULT_TEMP),!0){case s&&l:Math.abs(i-h)<.1||((a=h<i?{hot:t,cold:e}:{hot:e,cold:t}).hot.medicineData.increaseHeat(-5,a.cold.medicineData.getLiquidAverageTemp()+.4),a.cold.medicineData.increaseHeat(5)),d(),u();break;case s&&!l:d();break;case l&&!s:u()}}function u(){Math.abs(c-i)<.1||(o.increaseHeat(-2,c+.4),r.increaseGasHeat(2,i))}function d(){Math.abs(n-h)<.1||(r.increaseHeat(-2,n+.4),o.increaseGasHeat(2,h))}}},{key:"getLiquidMedicineInfo",value:function(){var t=this,i=new E.default;return this.medicineData.liquidAry.forEach(function(e){e.container=t,i.set(e.name,e)}),i}},{key:"getGasMedicineInfo",value:function(){var t,i=this;if(this.isOpenAirContainer){if(!this.isOpenInContainer){var e=this.medicineManager.getMedicineData("O2"),n=this.medicineManager.getMedicineData("N2"),e=new K(e,20),n=new K(n,80);return this.gasAry=[e,n],this.gasAry[0].setMol(20),this.gasAry[1].setMol(80),(new E.default).set("O2",this.gasAry[0]).set("N2",this.gasAry[1])}this.findParentContainer()instanceof F&&(t=new E.default,this.findParentContainer().medicineData.gasAry.forEach(function(e){e.container=i,t.set(e.name,e)}))}var a=new E.default;return this.medicineData.gasAry.forEach(function(e){e.container=i,a.set(e.name,e)}),a}},{key:"getTotalCapacity",value:function(){return this.totalCapacity=.99*V.getArea(this.capacityVertex),this.totalCapacity*this.capacityScale}},{key:"getSpecialTotalCapacity",value:function(){for(var e=this.capacityVertex,t=[],i=1;i<e.length-1;i++)t.push(e[i]);return this.totalCapacity=.99*V.getArea(t),this.totalCapacity*this.capacityScale}},{key:"getPosVertexes",value:function(){for(var e=this.capacityVertex,t=[],i=0;i<e.length;i++){var n=new j(e[i].get_x()+this.x,e[i].get_y()+this.y);t.push(this.toGlobal(n))}return t}},{key:"getGlobalVertexes",value:function(e){if(e||this.activeCount>G.ACTIVE_COUNT-2){for(var t=this.capacityVertex,i=[],n=0,a=t.length;n<a;n++){var r=new j(t[n].get_x(),t[n].get_y());i.push(this.toGlobal(r))}return this.globalAry=i,[].concat(i)}return[].concat(this.globalAry)}},{key:"getTopGlobalVertexes",value:function(){var e=this.topCapacityVertex;if(!e)return null;for(var t=[],i=0;i<e.length;i++){var n=new j(e[i].get_x(),e[i].get_y());t.push(this.toGlobal(n))}return t}},{key:"setTopCapacityVertex",value:function(e){this.topCapacityVertex=[];for(var t=0;t<e.length;t++){var i=this.toLocal(e[t]),i=new nape.geom.Vec2(i.x,i.y);this.topCapacityVertex.push(i)}}},{key:"particleDestroy",value:function(e){e&&e.particle&&(e.particle.parent&&e.particle.parent.removeChild(e.particle),e.particle.destroy()),e&&e.parent&&(e.parent.removeChild(e),e.destroy())}},{key:"passAdsorb",value:function(){return!this.allowPass}},{key:"setPosition",value:function(e,t){return(0,v.default)((0,O.default)(F.prototype),"setPosition",this).call(this,e,t)}},{key:"containerShake",value:function(){var e,t;this.isShake||(t=(e=this).x,this.isShake=!0,TweenMax.to(e,.05,{x:e.x+20,onComplete:function(){TweenMax.to(e,.1,{x:e.x-20,ease:Sine.easeOut,repeat:3,yoyo:!0,onComplete:function(){TweenMax.to(e,.05,{x:t,onComplete:function(){e.isShake=!1,e.reCalSolvent()}})}})}}))}},{key:"reCalSolvent",value:function(){var i=this,n=this.medicineData.liquidAry,e=this.medicineData.solidAry,t=n.quickMap.get("C17H35COONa");t&&1e-5<t.mol&&(this.containSoap=!0,this.soapCount=0,this.soapMol=t.mol),this.containSoap&&(e["(C17H35COO)2Ca"]||(a=n.quickMap.get("(C17H35COO)2Ca"))&&0<a.mol)&&(this.containSoapCa=!0);var e=n.quickMap.get("植物油")||n.quickMap.get("Phenol"),a=n.quickMap.get("H2O");e&&1e-7<e.mol&&a&&1e-5<a.mol&&(this.containOil=!0,this.oilActiveCount=G.OIL_ACTIVE_COUNT);for(var r=new b.default,o=[],s=0;s<n.length;s++)(function(e){var t=n[e],e=t.getVol();if(e<1e-5||isNaN(e))return;e=t.name;"TRUE"===t.dat["solution_".concat(e)]||"H2O"===e?(r.add(e),("Br2"===e||"C2H5OH"===e||"CH3COOH"===e||"CH3CH2CH2OH"===e||"H2O"!==e&&(0,x.default)(r).find(function(e){return"9999"===t.dat["solution_".concat(e)]}))&&o.push(t)):o.push(t)})(s);for(var l=0;l<o.length;l++){var h,c=o[l],u=-1/0,d="H2O",p=w(r);try{for(p.s();!(h=p.n()).done;){var f=h.value,I="H2O"!==f?"solution_".concat(f):"solubility",g=(0,k.default)(c.dat[I]);isNaN(g)||u<g&&(u=g,d=f)}}catch(e){p.e(e)}finally{p.f()}c.solvent=d}if(this.oilBubble){var m,y,v,C=w(r);try{for(C.s();!(v=C.n()).done;){var M=v.value;"H2O"===M&&(m=!0),-1!=G.OILMEDICINE.indexOf(M)&&(y=!0)}}catch(e){C.e(e)}finally{C.f()}y&&m&&(this.oilBubble.parent!=this.waterContainer&&this.waterContainer.addChildAt(this.oilBubble,this.waterContainer.children.length),this.oilBubble&&this.oilBubble.particle&&!1===this.oilBubble.particle.emit&&(this.oilBubble.setParticleProp("emit",!0),this.oilBubble.setParticleProp("_spawnTimer",0),this.oilBubble.setParticleProp("emitterLifetime",5)))}else-1!==G.NORMALCONTAINER.indexOf(this.name)&&(this.oilBubble=N.getParticle(N.particles.oil_bubble),this.oilBubble.allowGetBounds=!1);this.enableEmulsionBubble()&&(this.emulsionBubble||(this.emulsionBubble=N.getParticle(N.particles.emulsionBubble),this.addChildAt(this.emulsionBubble,this.children.indexOf(this.waterContainer)+1),this.emulsionBubble.mask=this.capacityMask),this.emulsionBubble.isFresh=!0,this.emulsionBubble.stirCount?this.emulsionBubble.stirCount<5&&this.emulsionBubble.stirCount++:this.emulsionBubble.stirCount=1,this.emulsionBubble.loaded?(e=this.localBounds,(a=this.emulsionBubble.getParticleProp("spawnRect")).x=e.x,a.y=e.y,a.width=e.width,a.height=e.height,this.emulsionBubble.setParticleProp("maxParticles",200*this.emulsionBubble.stirCount)):this.emulsionBubble.once("particle_load",function(){var e=i.localBounds,t=i.emulsionBubble.getParticleProp("spawnRect");t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,i.emulsionBubble.setParticleProp("maxParticles",200*i.emulsionBubble.stirCount)})),this.justShaked=!0}},{key:"enableEmulsionBubble",value:function(){return this.containOil&&this.containSoap&&"BigTestTube"===this.name}},{key:"mixFlocParticle",value:function(){this.medicineParticleMap.size<=0||this.medicineParticleMap.forEach(function(e,t){"H2SiO3"!==t&&e.fullParticle&&(e.fullParticle.alpha=1,e.fullParticle.visible=!0)})}},{key:"testShake",value:function(){var r,o,s=this,l=0,h={};this.on(NBDrag.event.PREPARE_DRAG,function(e){r=o=void(l=0);e=e.data.global;h.x=e.x,h.y=e.y}),this.on(NBDrag.event.DRAG_MOVE,function(e){var t=e.data.global,i=t.x-h.x,e=t.y-h.y;if(void 0!==r&&(r*i<0||o*e<0)&&l++,r=i||r,o=e||o,h.x=t.x,h.y=t.y,5<l){s.reCalSolvent(),s.mixFlocParticle(),s.soapBubbleUp&&s.soapBubbleUp.particle&&!1===s.soapBubbleUp.particle.emit&&(s.soapBubbleUp.setParticleProp("emit",!0),s.soapBubbleUp.setParticleProp("_spawnTimer",0),s.soapBubbleUp.setParticleProp("emitterLifetime",.5)),s.maxWaveHeight+=20;for(var n=s.medicineData.gasAry,a=0;a<n.length;a++)"O2"!=n[a].name?"NO2"!=n[a].name?n[a].isBubble+=8:n[a].isBubble+=60:(s.bubbleReduce++,s.bubbleReduce%10==0&&(n[a].isBubble+=8));s.showSedimentParticle(),l=0,s.hasReact+=5}})}},{key:"showSedimentParticle",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=this.medicineData.solidAry;for(e in i){var n,a=i[e];"PbI2"!==e&&("泥土"!==e||this.medicineData.ionAry.quickMap.get("Fe3")||this.medicineData.ionAry.quickMap.get("Al3"))||(a.sediment=a.mol),1e-14<a.sediment&&(!G.FLOCPRECIPITATE.includes(e)||this.noFeOHFloat&&("Fe(OH)2"===e||"Fe(OH)3"===e))&&(n=a.mol,t&&a.sediment>n/10||(a.sediment+=(n-a.sediment)/20))}}},{key:"getCurrentCapacity",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&arguments[0]?this.medicineData.getLiquidCapacity():this.medicineData.getCapacity()}},{key:"getGasDensity",value:function(t){var i=0,n=0;return this.medicineData.gasAry.forEach(function(e){e.name===t&&(n+=e.mol),i+=e.mol}),0===i?0:n/i}},{key:"getChooseAreaOpenLine",value:function(){var e={};if(this.chooseArea)for(var t=0;t<1e3;t++){var i=this.chooseArea["area"+t];if(!i)break;i={pa:{x:i.x,y:i.y},pb:{x:i.x+i.width,y:i.y}};e["area"+t]=i}return e}},{key:"drawSoapDashed",value:function(e,t,i,n){var a;i<t&&(a=i,i=t,t=a);for(var r=i-t,o=0,s={x:t,y:n},l={x:t,y:n};o<r;){s.x=l.x=t+o;var h=4*Math.random()+1,c=2*Math.random()+3;o+=h,l.x=t+(o=r<o?r:o),e.lineWidth=h;var u=this.toLocal(s),h=this.toLocal(l);e.moveTo(u.x,u.y),e.lineTo(h.x,h.y),o+=c}}},{key:"getPourInObj",value:function(){var e=this._pourInObj_;return e=e&&"GlassBar"===e.name&&e.parent&&e.parent.isBaseContainer?e.parent:e}},{key:"getFlocMedMol",value:function(e){var t=0,e=this.medicineData.solidAry[e];return t=e&&(t=e.sediment)>e.mol?e.mol:t}},{key:"judgeCircuit",value:function(){var a=!0,r=new b.default,o=[],s=[],l=[];if(!function e(t){if(!r.has(t)&&a&&t&&(r.add(t),t.addedNode&&0!=t.addedNode.length)){switch(!0){case t.isMetalPiece:o.push(t),t.addedNode.length<2&&(a=!1);break;case t.isWire:break;case t instanceof F:s.push(t);break;case"Galvanometer"===t.name:l.push(t)}for(var i=t.addedNode,n=0;n<i.length;n++)e(i[n])}}(this),o.length<2&&(a=!1),2==s.length){if(!this.parent||"ElectrolyticBridge"!=this.parent.name)return a=!1;if(this.parent&&"ElectrolyticBridge"==this.parent.name){for(var e=new b.default,t=this.parent.children,i=0;i<t.length;i++){var n=t[i];n instanceof F&&e.add(n)}for(var h=0;h<s.length;h++){var c=s[h];if(!e.has(c))return a=!1}}}return a}},{key:"judgeCircuitNew",value:function(){}},{key:"getChemicalFuncFromEqa",value:function(e){return e.showEquationDat&&!e.Passivation?e.showEquationDat:-1==e.PhysicalState.indexOf("i")?e:null}},{key:"getIonicFuncFromEqa",value:function(e){return e.ionicEquation&&!e.Passivation?e.ionicEquation:-1!=e.PhysicalState.indexOf("i")?e:null}},{key:"checkMn2O7Boom",value:function(){50<this.mn2o7BoomCount&&this.happenBoom("big",11337983)}},{key:"chargeMn2O7Boom",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=this.medicineData.liquidAry.quickMap.get("Mn2O7");t&&1e-15<t.getMol()&&(this.mn2o7BoomCount+=e)}},{key:"setReactStatus",value:function(w){var e,B=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=!1;if("KMnO4_KMnO4"===w.Name&&this.transKMnO4&&this.transKMnO4(),"HCl_NH3"===w.Name&&(this.needBottleSmoke=!0),"Mn2O7_Mn2O71"!==w.Name&&"Mn2O7_H2"!==w.Name&&"Mn2O7_CH4"!==w.Name||(this.mn2o7BoomCount+=10),"C6H6_Br2_Fe"!==w.Name||(e=this.medicineData.gasAry.quickMap.get("HBr"))&&(e.fogCount=Math.min(100,e.fogCount+10)),/I2_Mg|I2_Mg_H2O|Al_I2|Al_I2_H2O/.test(w.Name)&&(!this.h2o||45<this.h2o.getTemp())&&this.root.particleManager.initParticleOfAlOrMgAndIGroup(this),this.conf_chemical_equation&&(w.showEquationDat&&!w.Passivation?(0,v.default)((0,O.default)(F.prototype),"setReactStatus",this).call(this,w.showEquationDat,t):(i=!0,(0,v.default)((0,O.default)(F.prototype),"setReactStatus",this).call(this,w,t))),this.conf_ionic_equation&&(w.ionicEquation&&!w.Passivation?(0,v.default)((0,O.default)(F.prototype),"setReactStatus",this).call(this,w.ionicEquation,t):i||(i=!0,R.convertEquationToIonEquation(w),(0,v.default)((0,O.default)(F.prototype),"setReactStatus",this).call(this,w,t))),this.judgeCircuit())return this.conf_chemical_equation=!1,void(this.conf_ionic_equation=!1);if("DripHole"!==this.name){var n,D=w.Products;if("Cu(OH)2_Cu(OH)2"===w.Name&&(void 0===this.hasC?this.hasC=600:this.hasC=300<this.hasC?this.hasC-.2:this.hasC+.2),"H2O2_MnO2"!==w.Name&&"H2O2_I!1"!==w.Name||(a=this.medicineData.liquidAry.quickMap.get("H2O2"))&&0<a.mol&&.006<a.getMol()/this.currentCapacity&&(this.maxWaveHeight=8*Math.abs(Math.cos(this.rotation||0)),this.waterSmoke||(this.waterSmoke=N.getParticle(N.particles.waterSmoke),this.waterSmoke.allowGetBounds=!1,this.gasContainer.addChild(this.waterSmoke),this.waterSmoke.x=this.localBounds.x),r=Math.min(1,Math.max(.1,100*(a.getMol()/this.currentCapacity-.005))),this.waterSmoke.alpha=r,this.waterSmoke.renderCount=20),this.blackBread&&w.Name.includes("C12H22O11_H2SO4")&&D.includes("C")){var a=(this.C_mol||0)/1.67;if(this.blackBread.pic.y>-this.blackBread.pic.height){var r,o=(this.blackBread.pic.y/this.blackBread.pic.height*7-.6)/5;if(this.blackbreadSmoke?(this.blackbreadSmoke.count=25,(r=this.localBounds.y-this.blackBread.pic.y)>this.toLocal(this.liquidVertex[0]).y&&(r=this.toLocal(this.liquidVertex[0]).y),this.blackbreadSmoke.y=r):(this.blackbreadSmoke=N.getParticle(N.particles.blackbread_smoke),this.blackbreadSmoke.allowGetBounds=!1,this.addChildAt(this.blackbreadSmoke,0),this.blackbreadSmoke.x=this.localBounds.width/2,this.blackbreadSmoke.y=this.localBounds.y,this.blackbreadSmoke.count=25,this.bg.alpha=.75),-this.blackBread.pic.y>(this.blackBread.pic.height-50)*a+50)return;this.blackBread.pic.y+=o}this.addedPMedToFloor||(this.addChildAt(this.particleMedContainer,0),this.addedPMedToFloor=!0)}if(this.fumePic&&this.fumePic.alpha<.3&&"NaHCO3_NaHCO3"===w.Name&&ie.increaseFogAlpha(this),"CaO_H2O"!==w.Name||this.noNbGraphics||(this.CaOHParticle||(this.CaOHParticle=N.getParticle(N.particles.yanghuagaiyushui),this.CaOHParticle.allowGetBounds=!1,this.addChild(this.CaOHParticle),this.CaOHParticle.mask=this.capacityMask,n=this.localBounds,this.CaOHParticle.position={x:n.x,y:n.y+n.height-10}),this.CaOHParticle.renderCount=10,o=this.medicineData.solidAry.CaO,n=this.medicineData.liquidAry.quickMap.get("H2O"),o=o&&o.mol||0,n=n&&n.mol||0,0<o&&0<n&&.01<o/n&&(this.CaOH2OSprayParticle||(this.CaOH2OSprayParticle=N.getParticle(N.particles.bottle_gas),this.gasContainer.addChild(this.CaOH2OSprayParticle),this.CaOH2OSprayParticle.allowGetBounds=!1),this.CaOH2OSprayParticle.renderCount=30)),"P_O2"===w.Name&&G.NORMALCONTAINER.includes(this.name)&&(this.p4BottleSmoke||(l=this.getLocalBounds(),this.p4BottleSmoke=this.root.particleManager.initP4BottleSmoke.call(this),this.p4BottleSmoke.x=l.x,this.p4BottleSmoke.y=l.y+l.height),this.p4BottleSmoke.reactCount=800),w.Name.includes("Ag(NH3)2OH")&&w.Products.includes("Ag")&&this.liquidVertex)if(this.mainSilMirPic)this.mainSilMirPic.alpha<1&&(u=this.mainSilMirPic.alpha,this.mainSilMirPic.alpha=u=1<(u+=.01)?1:u,this.transSilMirPic.alpha=u);else{var s,l=!1,h=this.medicineData.solidAry,c=0;for(s in h)h[s]&&"Ag"!==h[s].name&&(c+=h[s].mol);ie.addSilverMirror(this,l=.01<c?!0:l),ie.drawSilMirMask(this);var u=this.liquidVertex,l=this.toLocal(u[0]),u=this.toLocal(u[u.length-1]),u=(l.y<u.y?l:u).y;this.mainSilMirPic.y=u-this.mainSilMirPic.silverPic.height-30,this.transSilMirPic.y=u-this.transSilMirPic.silverPic.height}if("F2_H2"===w.Name&&this.happenBoom("small"),this.liquidVertex)for(var d=0;d<D.length;d++)(function(e){var t=D[e],i=B.medicineData.solidAry,n=i[t],a=B.getCurrentCapacity();if(!n||!a||n.mol/a<1e-8||n.sediment/a<=1e-10)return;var r=B.medicineParticleMap.get(t);if("Cu2O"===t){if(!r){var o,s=B.localLiquidVertex[0],l=B.localLiquidVertex[B.localLiquidVertex.length-1];for(o in 1<B.liquidGra.length&&((u=B.liquidGra.find(function(e){return e&&e.med&&"H2O"===e.med.name}))&&u.curLocalVertex&&2<u.curLocalVertex.length&&(s=u.curLocalVertex[0],l=u.curLocalVertex[u.curLocalVertex.length-1])),r=B.root.particleManager.initCu2O.call(B)){var h=r[o];h.x=(s.x+l.x)/2,h.y=(s.y+l.y)/2,h.rotation=-J.retrieveRotation(B.worldTransform)}B.medicineParticleMap.set(t,r)}var c=i.Cu2O,e=i["Cu(OH)2"],a=0,u=0;return 0<(a=c?c.mol:a)+(u=e?e.mol:u)&&(e=r.particle1.alpha,e=(u=u/(a+u))<(e+=1e-5)?u:e,TweenMax.to(r.particle1,10,{onStart:function(){r.particle1.alpha=0},alpha:e}),TweenMax.to(r.particle2,10,{onStart:function(){r.particle2.alpha=0},alpha:1-e}))}if("Fe(OH)2"===t&&!B.noFeOHFloat){if(!r){var d,p=B.localLiquidVertex[0],f=B.localLiquidVertex[B.localLiquidVertex.length-1];for(d in 1<B.liquidGra.length&&((m=B.liquidGra.find(function(e){return e&&e.med&&"H2O"===e.med.name}))&&m.curLocalVertex&&2<m.curLocalVertex.length&&(p=m.curLocalVertex[0],f=m.curLocalVertex[m.curLocalVertex.length-1])),r=B.root.particleManager.initFeOH2.call(B)){var I=r[d];I.x=(p.x+f.x)/2,I.y=(p.y+f.y)/2,I.rotation=-J.retrieveRotation(B.worldTransform)}B.medicineParticleMap.set(t,r)}var g=i["Fe(OH)3"],m=0;g&&(m=g.mol);var y,v,C=(n.mol+m)/B.localBounds.width*3e3;for(y in C=1.2<(C=C<.05?.05:C)?1.2:C,r)r[y].loaded&&(v=C-r[y].scale.y,v=r[y].particle.spawnRect.height*v,r[y].height+=v),r[y].scale.y=C;return}if("Fe(OH)3"===t&&!B.noFeOHFloat){r||(g=B.localLiquidVertex[0],M=B.localLiquidVertex[B.localLiquidVertex.length-1],1<B.liquidGra.length&&((m=B.liquidGra.find(function(e){return e&&e.med&&"H2O"===e.med.name}))&&m.curLocalVertex&&2<m.curLocalVertex.length&&(g=m.curLocalVertex[0],M=m.curLocalVertex[m.curLocalVertex.length-1])),(r=B.root.particleManager.initFeOH3.call(B)).particle1.x=(g.x+M.x)/2,r.particle1.y=(g.y+M.y)/2,r.particle1.rotation=-J.retrieveRotation(B.worldTransform),(M=B.medicineParticleMap.get("Fe(OH)2"))&&(r.particle1.alpha=0,r.particle1.y=M.particle2.y,B.addChild(M.particle2),B.addChild(M.particle3)),B.medicineParticleMap.set(t,r));var i=i["Fe(OH)2"],M=0;i&&(M=i.mol);M=(n.mol+M)/B.localBounds.width*3e3;return M=1.2<(M=M<.05?.05:M)?1.2:M,r.particle1.loaded&&(b=M-r.particle1.scale.y,S=r.particle1.particle.spawnRect.height*b,r.particle1.y-=S),r.particle1.scale.y=M}var b=G["PARTICLE_".concat(t)];if(r){for(var x=w.Reactants,O=0;O<x.length;O++){var A=x[O],T=B.dripMedPosMap.get(A);if(!T&&"OH!1"===A&&B.dripMedPosMap.get("NH3H2O")&&(T=B.dripMedPosMap.get("NH3H2O"),B.dripMedPosMap.delete("NH3H2O")),T){T=B.toLocal(T),B.dripMedPosMap.delete(A);A=r.dripParticle;A.alpha=1,A.visible=!0,B.dripSpreadParticle&&(B.dripSpreadParticle.visible=!1),A.position.set(T.x,T.y),A.particle&&(!1===A.particle.emit?(A.setParticleProp("emit",!0),A.setParticleProp("_spawnTimer",0),A.setParticleProp("emitterLifetime",2)):A.setParticleProp("_spawnTimer",0));break}}var S=r.fullParticle;return S&&S.loaded&&!S.setedPos&&(M=B.localBounds,S.position.set(M.x,M.y),S.particle.spawnRect.width=M.width,S.particle.spawnRect.height=M.height)}b&&(r=B.root.particleManager.initFlocParticle.call(B),B.medicineParticleMap.set(t,r))})(d)}}},{key:"setCurrentCapacity",value:function(e){e=Math.max(0,e),this.medicineData.setCapacity(e)}},{key:"addMedicine",value:function(i,n,a,e){var r,o,s,l,t,h=this;if(!this.noAddMedicine&&"BaseSolidMedicine"!==this.name)if(n||!this.addSolidMedPos||e||(n=this.addSolidMedPos),(0,S.default)(i))i.forEach(function(e){e.countOfAll=i.length,5<e.countOfAll&&(e.countOfAll=5);var t=G.PARTICLE_COUNT_PER_MOL%e.countOfAll,t=e.countOfAll+t/e.countOfAll;e.realMolMultiple=t,h.addMedicine(e,n,a)});else if(i)if(i instanceof W){if(i.countOfAll||(i.countOfAll=1),/(HardGlassTube)$/.test(this.name)&&"C2H4"===i.name){var c=this.medicineManager.getMedicineData(i.name);this.medicineData.push(new W(c,i.mol))}else if(t=n?{x:n.x,y:n.y}:this.medRef?{x:this.medRef.x,y:this.medRef.y}:!a&&this.liquidVertex&&this.capacityVertex&&.05<this.getCurrentCapacity()/this.getTotalCapacity()?(r=this.liquidVertex[0].x,o=this.liquidVertex[0].y,this.liquidVertex.forEach(function(e,t){e.y>o&&(o=e.y),t===h.liquidVertex.length-1&&(r+=e.x,r/=2,o=e.y+(o-e.y)/3*2)}),{x:this.localBounds.x+this.localBounds.width/2,y:this.toLocal({x:r,y:o}).y}):!a&&this.liquidVertexUp&&1<this.liquidVertexUp.length?(s=-1/0,l=-1,this.liquidVertexUp.forEach(function(e,t){e.y>s&&(s=e.y,l=t)}),{x:this.localBounds.x+this.localBounds.width/2,y:this.toLocal(this.liquidVertexUp[l]).y-10}):{x:(c=this.localBounds).x+c.width/2,y:c.y+c.height/3},this.isFunnel,"TestTubeWithSideNeck"===this.name&&(t.x/=2,t.x-=12),i instanceof W)if(this.engine){if(this.hasReact=G.ACTIVE_COUNT,this.activeCount=G.ACTIVE_COUNT,i.dat.density_solid){re[i.dat.chemical]||(re[i.dat.chemical]=new nape.phys.Material(.2,4,5,(0,k.default)(i.dat.density_solid),500));var u=re[i.dat.chemical],d=i,p=i.mol;if(a){var f=3*i.dat.density_solid/i.dat.molecular_mass/10;"高吸水性树脂"===i.name&&(f/=10);var I=i.deepClone();I.setMol(p),this.medicineData.push(I);for(var g=[];p;){var m=Math.min(f,p);(p-=m)<1e-10&&(m+=p,p=0),d.dat.density_solid;m=d.deepClone(m),m=new Z(this,u,m,{x:t.x+(Math.random()-.5)*(n&&n.width||20),y:t.y+(Math.random()-.5)*(n&&n.height||0)});e&&(m.alpha=0),g.push(m)}this.addNBGraphic(d.name,g)}else{I=this.medicineNBGraphicMap.get(d.name);if(I)if(0<p)I.forEach(function(e){var t=e.getMaxStableMol(d),t=Math.min(t,p);e.addMedicine(d.deepClone().setMol(t)),p-=t});else{var y,v=w(I.values());try{for(v.s();!(y=v.n()).done;){var C=y.value,M=C.solidMedicineInfo.get(d.name);if(M){var b=M.mol,b=(p=b+=p)<0?0:b;if(M.mol=b,C.updateMedSize(),0<=p){p=0;break}}}}catch(e){v.e(e)}finally{v.f()}}if(0<p){var x=3*i.dat.density_solid/i.dat.molecular_mass/10;"高吸水性树脂"===i.name&&(x/=10);I=i.deepClone();I.setMol(p),this.medicineData.push(I);for(var O=[];p;){var A=Math.min(x,p);(p-=A)<1e-10&&(A+=p,p=0),d.dat.density_solid;var T=new nape.phys.Material(.2,4,5,(0,k.default)(d.dat.density_solid),500),A=d.deepClone(A),A=new Z(this,T,A,{x:t.x+(Math.random()-.5)*(n&&n.width||20),y:t.y+(Math.random()-.5)*(n&&n.height||0)});e&&(A.alpha=0),O.push(A)}this.addNBGraphic(d.name,O)}}this.medicineData.updateSolidCapacity=!0}}else this.medicineData.push(i)}else this.medicineData.push(i)}},{key:"getPutMedicinePoint",value:function(){var e;return e=this.medRef?{x:this.medRef.x,y:this.medRef.y}:{x:(e=this.localBounds).x+e.width/2,y:e.y},this.toGlobal(e)}},{key:"canSpoonPour",value:function(){return this.isOpen&&!(this.isLiquidMedicine||this.isSolidMedBottle||"BaseBlockMedicine"===this.name)}},{key:"canAddBlockMedicine",value:function(){return!se.includes(this.name)}},{key:"getAllGraphic",value:function(){var t=[];return this.medicineNBGraphicMap.forEach(function(e){(0,x.default)(e).forEach(function(e){t.push(e)})}),t}},{key:"increaseTemp",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(this.engine){var a,r={x:(e=i?this.getBounds():e).x,y:e.y},o={x:e.x+e.width,y:e.y+e.height},r=this.toLocal(r),o=this.toLocal(o),s=this.toLocal({x:e.x+e.width,y:e.y}),l=this.toLocal({x:e.x,y:e.y+e.height}),i=Math.min(r.x,o.x,s.x,l.x),h=Math.min(r.y,o.y,s.y,l.y),c=Math.max(r.x,o.x,s.x,l.x)-i,s=Math.max(r.y,o.y,s.y,l.y)-h,l=this.engine.space;i==i&&h==h&&c==c&&s==s||(h=i=0,s=this.getBounds().height,c=this.getBounds().width);h=new nape.geom.AABB(i,h,c,s);try{a=l.bodiesInAABB(h)}catch(e){return}for(var u=0;u<a.get_length();u++){var d,p=a.at(u),f=p.get_userData();p&&f&&(!(d=f.view)||d.isFloatage||d.isBlockMedicine||"MortarPestle"===d.name||(p=this.toGlobal(d.position),f=U.getHeatValueFromPoint(p,t,e),d.medVO&&"PE"===d.medVO.name?d.setTemp((f-d.getTemp())/200+d.getTemp()):(p=Math.max((f-d.getTemp())/100,1.2),p=Math.min(f-d.getTemp(),p),f=5,d.medVO&&"I2"===d.medVO.name&&(f=n?0:1.5),d.setTemp((f<p?f:p)+d.getTemp()))))}}else{var I,c=this.getBounds(),s=c.x,l=c.y,h=c.width,c=c.height,g=U.getHeatValueFromPoint({x:s+h/2,y:l+c/2},t,e),m=this.medicineData.solidAry;for(I in m){var y=m[I],v=y.getTemp();y.setTemp(v+(g-v)/200)}}}},{key:"addCoverBody",value:function(e,t){void 0===e&&(this.coverBodys&&t?this.coverBodys[t.name].set_space(this.engine.space):this.coverBody&&this.coverBody.set_space(this.engine.space))}},{key:"removeCoverBody",value:function(e,t){void 0===e&&(this.coverBodys&&t?this.coverBodys[t.name].set_space(null):this.coverBody&&this.coverBody.set_space(null))}},{key:"getTemp",value:function(){return 0}},{key:"changeBubbleStyle",value:function(e){if(this.liquidVertex){this.bubble.render||this.initNormalBubble();var t=V.getAABB(this.liquidVertex),i=this.getViewStack().scale.x,n=this.toLocal({x:t.x,y:t.y+t.height});if(this.bubble.particle)for(var a in this.bubble.particle.spawnRect.width=t.width/i,e)try{var r=e[a],o=this.bubble.getParticleProp(a);isNaN(o)||(r=(r+o)/2),this.bubble.setParticleProp(a,r)}catch(e){return}this.bubble.x=n.x,this.bubble.y=n.y,this.bubble.isReacting=100,this.bubble.rotation=-J.retrieveRotation(this.worldTransform),this.bubble.visible=this.showBubble}}},{key:"updateContainerHeightDiff",value:function(){var e,t,i,n=this;this.noHeightDiff||"Flume"===this.parent.name||this.name.includes("ADropper")||this.name.includes("CombustionSpoon")||n instanceof F&&n.parent===n.currentContainer&&n.parent instanceof F&&((i=n.getTotalCapacity()-n.currentCapacity)<.1||(t=n.parent,e=n.realCapacityVertex,t.liquidVertex&&n.liquidVertex&&e&&!(e.length<=0)&&(e=(e[0].y>e[e.length-1].y?e[0]:e[e.length-1]).y,t=t.liquidVertex[0].y,n.liquidVertex[0].y-t<.5||.5<e-t&&(t=n.totalCapacity/500,i=n.parent.medicineData.covertVolumeToLiquid(t=i<t?i:t),n.parent.setCurrentCapacity(n.parent.getCurrentCapacity()-t),n.addMedicine(i)))))}},{key:"reset",value:function(){var e,t=this.medicineData,i=w(this.medicineNBGraphicMap.keys());try{for(i.s();!(e=i.n()).done;){var n,a=e.value,r=this.medicineNBGraphicMap.get(a),o=w(r);try{for(o.s();!(n=o.n()).done;)n.value.destroy()}catch(e){o.e(e)}finally{o.f()}r.clear()}}catch(e){i.e(e)}finally{i.f()}t.gasAry.clear(),t.liquidAry.clear(),t.ionAry.clear(),t.dissolveAry.clear(),t.ionMedicineAry.clear(),t.solidAry={},this.medicineNBGraphicMap.clear();var s=G.PASCAL*this.getTotalCapacity()/1e3/8.314/te.convertCToK(G.DEFAULT_TEMP),l=this.medicineManager.getMedicineData("O2"),h=this.medicineManager.getMedicineData("N2");t.push([new K(l,.2*s),new K(h,.8*s)])}},{key:"ifContainerSome",value:function(){if(this.medicineData){var e=!1;this.medicineData.solidAry&&0<(0,d.default)(this.medicineData.solidAry).length&&(e=!0);var t=!1;return(t=this.medicineData.liquidAry&&0!=this.medicineData.liquidAry.length?!0:t)||e}return!!this.children.find(function(e){return"Candle"===e.name})}},{key:"checkContainerHasEquation",value:function(t){if(this.infoItem&&this.infoItem.chemicalEquationsMap)for(var e=(0,x.default)(this.infoItem.chemicalEquationsMap),i=0;i<e.length;i++)if(e[i][0]===t)return!0;if(this.medicineData.chemicalFuncAry&&(0,x.default)(this.medicineData.chemicalFuncAry).find(function(e){if(e.equation.Name===t)return!0}))return!0;return!1}},{key:"eqPrepareChoice",value:function(e){(0,v.default)((0,O.default)(F.prototype),"eqPrepareChoice",this).call(this,e),!this.isInverted()||(e=this.getChildCandle())&&(this.removeCandle(e),this.isCoverGS=!1)}},{key:"getChildCandle",value:function(){return this.children.find(function(e){return"Candle"===e.name})||this.bg&&this.bg.children.find(function(e){return"Candle"===e.name})}},{key:"hitCandle",value:function(e){this.isInverted()&&this.isOpen&&"Candle"===e.hitObj.name&&(0===(e=e.hitObj).coverType&&!e.addedEq&&this.canAddCandle()&&this.addCandle(e))}},{key:"outCandle",value:function(){this.isCoverGS&&(this.isCoverGS=!1)}},{key:"canAddCandle",value:function(){var e=/Flask|Beaker|TestTube|Cylinder|GasCollectingBottle|Flume|WasteWaterVat|BaseGasMedicine|DirtCup/.test(this.name);return this.isInverted()?e&&!this.getChildCandle():e}},{key:"isInverted",value:function(){return Math.abs(this.rotation)>Math.PI/2}},{key:"addCandle",value:function(e){(0,v.default)((0,O.default)(F.prototype),"addCandle",this).call(this,e)}},{key:"tweenCandle",value:function(e){var t,i;this.bg&&this.bg.addChildAtWithSamePos(e,0),this.isInverted()?(this.isCoverGS=!0,this.enableRotate(!1),TweenMax.to(this,.3,{rotation:0<=this.rotation?Math.PI:-Math.PI}),t=(i=this.localBounds).x+i.width/2,i=i.y+e.bottomY,TweenMax.to(e,.3,{x:t,y:i,rotation:0<=e.rotation?Math.PI:-Math.PI}),this.stopShowBorder=!0):e.initNape(this)}},{key:"removeCandle",value:function(e){var t=this;(0,v.default)((0,O.default)(F.prototype),"removeCandle",this).call(this,e),this.rotateSpriteIcon&&setTimeout(function(){t.rotateSpriteIcon&&t.rotateSpriteIcon.setEnabled(!0,t)},250),this.outCandle()}},{key:"eqAddToViewStack",value:function(){(0,v.default)((0,O.default)(F.prototype),"eqAddToViewStack",this).call(this),this.stopShowBorder&&(this.stopShowBorder=null);var e=this.getChildCandle();e&&!e.napeBody&&0!==e.rotation&&(this.getEqLayer().addChildWithSamePos(e),e.rotation=0,this.rotateSpriteIcon&&this.rotateSpriteIcon.setEnabled(!0,this),this.isCoverGS=!1)}},{key:"setTempLossFactor",value:function(e,t){return void 0===this.tempLossFactor[e]?null:(this.tempLossFactor[e]=Number(t),this)}},{key:"getTempLossFactor",value:function(e){return e?this.tempLossFactor[e]:this.tempLossFactor}},{key:"toJSON",value:function(){var e=(0,v.default)((0,O.default)(F.prototype),"toJSON",this).call(this);return void 0!==this.openArea&&(e.openArea=this.openArea),this.needCoohPic&&(e.needCoohPic=this.needCoohPic),this.noConfig&&(e.noConfig=!0),this.hasCovered&&(e.hasCovered=this.hasCovered),(0,p.default)({breakImgAlpha:this.breakImg?this.breakImg.alpha:null,addTwoContainerCollision:this.addTwoContainerCollision,elecLine:this.elecLine,labelTop:this.top,labelBottom:this.bottom,preventAddIonIncreaseHeat:this.preventAddIonIncreaseHeat,noFeOHFloat:this.noFeOHFloat,addCotton:this.addCotton},e)}},{key:"setJSON",value:function(e){(0,v.default)((0,O.default)(F.prototype),"setJSON",this).call(this,e),e.breakImgAlpha&&this.breakImg&&(this.breakImg.alpha=e.breakImgAlpha),e.preventAddIonIncreaseHeat&&(this.preventAddIonIncreaseHeat=!0),e.addTwoContainerCollision&&this.restoreSave instanceof Function&&this.restoreSave(),e.elecLine&&(this.elecLine=!0,NBDrag.removeDrag(this)),e.noFeOHFloat&&(this.noFeOHFloat=!0),this.parent!==this.getEqLayer()&&this.setEnableRotate&&this.setEnableRotate(!1),this.canEditLable&&(e.labelTop&&0<e.labelTop.length||e.labelBottom&&0<e.labelBottom.length)&&this.setLabelText(e.labelTop,e.labelBottom),void 0!==e.openArea&&(this.openArea=e.openArea),e.needCoohPic&&(this.needCoohPic=e.needCoohPic),e.addCotton&&(this.addCotton=e.addCotton),e.noConfig&&(this.noConfig=!0),e.hasCovered&&(this.hasCovered=e.hasCovered),this.worldRotated=!0,this.updateTransform(),this.reCalSolvent()}},{key:"getTagetLiquidMPV",value:function(e){e=this.medicineData.liquidAry.quickMap.get(e);return e?e.mol/(this.medicineData.getLiquidCapacity()/1e3):0}}]),F}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(59)),r=n(i(95)),o=n(i(129)),s=n(i(24)),l=n(i(60)),n={MAX_VALUE:2147483647};window.int=n,window.TouchEvent=window.TouchEvent||function(){},window.MouseEvent=window.MouseEvent||function(){},void 0===r.default&&(Object.values=function(i){return(0,o.default)(i).reduce(function(e,t){return e.push(i[t])&&e},[])},Object.entries=function(i){return(0,o.default)(i).reduce(function(e,t){return e.push([t,i[t]])&&e},[])}),TouchEvent.TOUCH_BEGIN="pointerdown",TouchEvent.TOUCH_MOVE="pointermove",TouchEvent.TOUCH_END="pointerup",TouchEvent.TAP="tap",TouchEvent.TOUCH_END_OUTSIDE="pointerupoutside",window.nb=window.nb||{},nb.MAX_SCALE_VALUE=2,nb.MIN_SCALE_VALUE=.25,s.default&&void 0===s.default.prototype.toJSON&&(s.default.prototype.toJSON=function(){return(0,a.default)(s.default.prototype.entries.call(this))}),l.default&&void 0===l.default.prototype.toJSON&&(l.default.prototype.toJSON=function(){return(0,a.default)(l.default.prototype.values.call(this))}),TouchEvent.simulateTouchDown=function(e,t){e.emit(t.type,t),e._isLeftDown=!0},TouchEvent.simulateTouchUp=function(e,t){e.emit(t.type,t),e._isLeftDown=!1},nb.canvasWidth=2048,nb.canvasHeight=1536,nb.canvasArea=15e3,MouseEvent.TOUCH_BEGIN="mousedown",MouseEvent.TOUCH_MOVE="mousemove",MouseEvent.TOUCH_END="mouseup",MouseEvent.TAP="click",MouseEvent.TOUCH_END_OUTSIDE="mouseupoutside",MouseEvent.MOUSE_OVER="mouseover",MouseEvent.MOUSE_OUT="mouseout",nb.PIXELS_PER_ML=100,nb.PASCAL_PIXELS_PER_ML=nb.PIXELS_PER_ML/10,nb.PASCAL_PIXELS_PER_CM=nb.PIXELS_PER_ML/3,nb.SECOND_PER_PIXEL=.005,nb.SECOND_PER_RADIUS=.127323954,nb.SECOND_PER_ALPHA=.8,nb.DEFAULT_TEMP=25,nb.MIN_TEMP=-20,nb.SOL_SPEED=.01,nb.DEFAULT_SED_RATE=.995;r=nb.HEAT_SCALE=1e4;nb.ALCOHOL_HEAT_VALUE=3e7/r,nb.ALCOHOL_HEAT_VALUE=3e7/r,nb.WOOD_HEAT_VALUE=12e6/r,nb.MG_HEAT_VALUE=2e7/r,nb.H2_HEAT_VALUE=14e7/r,nb.CH4_HEAT_VALUE=556e5/r,nb.C2H4_HEAT_VALUE=556e5/r,nb.CO_HEAT_VALUE=118e4/r,nb.DEFAULT_HEAT_CAPACITY=4200,nb.ABSOLUTE_ZERO=-273.15,nb.HEATVALUE_PER_FRAME=40,nb.TEMP_ALCOHOL=520,nb.TEMP_BUNSEN_BURNER=850,nb.TEMP_ALCOHOL_WIDTH_LAMP_NET=650,nb.TEMP_BLAST_ALCOHOL_BURNER=1e3,nb.TEMP_MATCH=400,nb.TEMP_MG=800,nb.TEMP_H2=1360,nb.TEMP_H2_Cl2=700,nb.TEMP_H2S=800,nb.TEMP_CH4=1e3,nb.TEMP_C2H4=1e3,nb.TEMP_CO=1050,nb.TEMP_HUMAN=36,nb.HOT_FINGER_COUNT=4,nb.HUMAN_HOT_SCALE=100,nb.BODY_DROP_SPEED=5,nb.DISTANCE_ALCOHOL_CENTER_FIRE=40,nb.DISTANCE_ALCOHOL_INTER_FIRE=80,nb.DISTANCE_ALCOHOL_OUTER_FIRE=150,nb.DISTANCE_ALCOHOL_ALL_FIRE=320,nb.TEMP_ALCOHOL_CENTER_FIRE=432,nb.TEMP_ALCOHOL_INTER_FIRE=600,nb.TEMP_ALCOHOL_OUTER_FIRE=692,nb.ENVIRONMENT_K=298,nb.DEFALUT_BACKGROUND_COLOR=3422529,nb.ASBESTOS_CONDUCTHEAT=.3,nb.PARTICLE_COUNT_PER_MOL=10,nb.PRECISION=3,nb.MIN_DEVIATION=1e-15,nb.config={URI_PREFIX:""},nb.INIT_DATA={totalEquipmentMessageData:["assets/totalEquipmentMessage.json","assets/totalEquipmentMessage.json"],effectData:["assets/effect.json","assets/effect.json"],nbMedicine:["assets/nb-medicine.json","assets/nb-medicine.json"],equationData:["assets/equationData.json","assets/equationData.json"]},nb.EARTH_GRAVITY=9.8,nb.PASCAL=101325,nb.PASCAL_DISTANCE=0,nb.PASCAL_MAX=1e7,nb.R=8.314,nb.AIR_MM=27,nb.nape={group:{BALANCE_COLLISION:2,BALANCE_MASK:2,ELE_BALANCE_MASK:4}},nb.COLOR_CU2={color:2926304,multiple:.4},nb.COLOR_FE2=10157826,nb.COLOR_FE3={color:6769244,multiple:.05},nb.COLOR_FEOH2={color:12744196,multiple:50},nb.COLOR_FUNGUS2={color:16750591,multiple:1},nb.COLOR_FEFUNGUSCOLOR=7433797,nb.COLOR_CO2=16744381,nb.COLOR_NI2=8453753,nb.COLOR_CR2=8322778,nb.COLOR_CR3={color:3825216,multiple:20},nb.COLOR_CD2=8650203,nb.COLOR_AU3=16308087,nb.COLOR_S22={color:16764940,multiple:20},nb.COLOR_MNO41={color:3866711,multiple:50},nb.COLOR_MNO42=7385709,nb.COLOR_CR2O72={color:15491584,multiple:2},nb.COLOR_CRO42={color:16050688,multiple:2},nb.COLOR_CU2CL4={color:26407,multiple:.5},nb.COLOR_APPLEPIGMENT={color:13743497,multiple:100},nb.COLOR_ORANGEPIGMENT={color:14782740,multiple:100},nb.COLOR_TOMATOPIGMENT={color:13058604,multiple:100},nb["COLOR_FE(C6H5O)63"]=5832868,nb["COLOR_FE(C7H5O3)3"]={color:5832868,multiple:15},nb["COLOR_FE(CN)63"]=16706663,nb["COLOR_FEOH(SCN)2"]={color:14483456,multiple:8e3},nb["COLOR_FE(SCN)3"]={color:14483456,multiple:5e3},nb["COLOR_[CU(NH3)4](OH)2"]={color:928426,multiple:4},nb.COLOR_C6H10O5={color:11099400,multiple:1},nb.COLOR_CHI3={color:14068264,multiple:1e4},nb.COLOR_I2={color:void 0,multiple:void 0},nb.COLOR_NAI3=[{concentration:1e-5,color:void 0,multiple:void 0},{concentration:1/0,color:16764173,multiple:1e3}],nb.COLOR_BR2={color:10103580,multiple:3},nb.COLOR_CL2={color:13885774,multiple:4},nb.COLOR_C20H19N3={color:14231808,multiple:200},nb["COLOR_(C17H35COO)2CA"]={color:4473924,multiple:1e15,solColor:14540253,defaultColor:4473924},nb["MEDICINE_BR2%1.2&H2O%98.8"]={defaultColor:14232320,defaultAlpha:.8},nb.MEDICINE_K2CR2O7={defaultColor:15696384,defaultAlpha:.8},nb["Fe(OH)3(胶体)"]={color:6557455,multiple:3e3},nb.COLOR_MN2O7={color:611626,multiple:100},nb["COLOR_NA2[CUCL4]"]=[{concentration:.05,color:32227,multiple:200},{concentration:1/0,color:488704,multiple:200}],nb["COLOR_NA[CUBR3]"]={color:11183698,multiple:200},nb["COLOR_NA2[CU(CH3COO)4]"]={color:32227,multiple:200},nb["COLOR_NA2[CU(OH)4]"]={color:997792,multiple:200},nb.LITMUSFLOWER_COLOR=[{ph:-1/0,color:14423166},{ph:1,color:14423166},{ph:4,color:13442733},{ph:6,color:12461803},{ph:7,color:10507499},{ph:8.3,color:6248640},{ph:10,color:991207},{ph:1/0,color:991207}],nb.LITMUS_COLOR=[{ph:-1/0,color:14949180},{ph:1,color:14949180},{ph:4.5,color:13523019},{ph:5.5,color:10042013},{ph:8,color:12461803},{ph:8.3,color:6248640},{ph:10,color:991207},{ph:1/0,color:991207}],nb.PHENOLPHTHALEIN_COLOR=[{ph:-1/0,color:16777215},{ph:8,color:16777215},{ph:8.2,color:15773898},{ph:10,color:14423166},{ph:1/0,color:14423166}],nb.HUAQINFSU_COLOR=[{ph:-1/0,color:14548992},{ph:0,color:14548992},{ph:1,color:12719390},{ph:2,color:12588090},{ph:3,color:16150933},{ph:4,color:11952289},{ph:5,color:9657501},{ph:6,color:6836894},{ph:7,color:5851040},{ph:8,color:2177654},{ph:9,color:20325},{ph:10,color:672037},{ph:11,color:7050604},{ph:12,color:13483870},{ph:13,color:14205513},{ph:14,color:15512645},{ph:1/0,color:15512645}],nb.MEIGUIHUAHONGSESU_COLOR=[{ph:-1/0,color:13523041},{ph:7.1,color:13523041},{ph:7.1000001,color:12100421},{ph:1/0,color:12100421}],nb.METHYL_ORANGE=[{ph:-1/0,color:16332294},{ph:3.1,color:16332294},{ph:4.4,color:16575038},{ph:1/0,color:16575038}],nb.METHYL_RED=[{ph:-1/0,color:14229273},{ph:4.4,color:14229273},{ph:6.2,color:16183045},{ph:1/0,color:16183045}],nb.ORGANICGASARY=["CH2=CH2","C2H2"],nb.INCLUDE_VOLUME=new l.default(["H2SO4","CH3COOH","C2H5OH","H2O","NH3H2O","Fe(SCN)3","FeOH(SCN)2","H3PO4","HNO3"]),nb.MIX_SYMBOL="·",nb.VOLATILIZEDENSITY=12,nb.WATERVOLATILIZE=.01,nb.NH3H2OVOLATILIZE=.1,nb.VOLATILIZEMIN=6,nb.VOLATILIZEMINALPHA=8,nb.GLASSSHEET_WATER_MAXNUM=.2,nb.SUBLIMATE_I2_MININUM=100,nb.SUBLIMATE_I2_CONTAINER=["CopperSheet","GlassSheet","WatchGlass"],nb.WATER_GAS_PROPORTION=.3,nb.GRAPHIC_MOL=.005,nb.OTHER_MASS_DEFAULT=20,nb.POUR_SOLID_MAX_MOL=.7,nb.POUR_SOLID_MAX_SOLID_COUNT=70,nb.TIP_SOLID_RADIUS=5,nb.currentConfigEq=null,nb.extraConfigEq=[],nb.BUTTON_RADIUS=36,nb.BUTTON_DIS=80,nb.BUBBLE_WAVE_HEIGHT=5,nb.dripError=1e-13,nb.CANBURNGAS=["H2","CO","CH4","C2H2","H2S","CH2=CH2"],nb.EQUIPMENT_MASS_OBJ={SmallTestTube:13,BigTestTube:25,SmallBeaker:53,BigBeaker:100,HugeBeaker:180,ConicalFlask100ml:60,ConicalFlask250ml:150,RoundBottomFlask:130,SmallRoundBottomFlask:130,FlorenceFlask:130,SeparatingFunnelBulbShape:120,SeparatingFunnelBulbShapeWithHose:120,SeparatingFunnelPearShape:120,SeparatingFunnelStraight:200,GasCollectingBottle:130,BaseGasMedicine:130,TestTubeWithSideNeck:30,DistillingFlask:135,MeasuringCylinder10ml:12,MeasuringCylinder50ml:25,MeasuringCylinder100ml:50,VolumetricFlask50ml:40,VolumetricFlask100ml:80,VolumetricFlask250ml:120,NarrowMouthedBottle:60,ElectronicBalance:200,CopperSheet:100,ThreeNeckedFlask:"150"},nb.GLASSCONTAINER={BigTestTube:{detonateImage:!0,naBoom:!0},RoundBottomFlask:{detonateImage:!1,naBoom:!1},SmallRoundBottomFlask:{detonateImage:!1,naBoom:!1},FlorenceFlask:{detonateImage:!1,naBoom:!1},SeparatingFunnelBulbShape:{detonateImage:!1,naBoom:!1},SeparatingFunnelBulbShapeWithHose:{detonateImage:!1,naBoom:!1},SeparatingFunnelStraight:{detonateImage:!1,naBoom:!1},GasCollectingBottle:{detonateImage:!0,naBoom:!1},BaseGasMedicine:{detonateImage:!0,naBoom:!1},SmallTestTube:{detonateImage:!0,naBoom:!0},TestTubeWithSideNeck:{detonateImage:!0,naBoom:!0},BigBeaker:{detonateImage:!0,naBoom:!1},SmallBeaker:{detonateImage:!0,naBoom:!1},HugeBeaker:{detonateImage:!0,naBoom:!1},ConicalFlask100ml:{detonateImage:!0,naBoom:!1},ConicalFlask250ml:{detonateImage:!0,naBoom:!1},DistillingFlask:{detonateImage:!1,naBoom:!1},SeparatingFunnelPearShape:{detonateImage:!1,naBoom:!1},UTubeWithSideNeck:{detonateImage:!1,naBoom:!0},UTube:{detonateImage:!0,naBoom:!0},MeasuringCylinder10ml:{detonateImage:!0,naBoom:!0},MeasuringCylinder50ml:{detonateImage:!0,naBoom:!0},MeasuringCylinder100ml:{detonateImage:!0,naBoom:!0},VolumetricFlask50ml:{detonateImage:!0,naBoom:!1},VolumetricFlask100ml:{detonateImage:!0,naBoom:!1},VolumetricFlask250ml:{detonateImage:!0,naBoom:!1},HardGlassTube:{detonateImage:!0,naBoom:!1},BigHardGlassTube:{detonateImage:!0,naBoom:!1},AlkaliBurette:{detonateImage:!1,naBoom:!0},GeiserBurette:{detonateImage:!1,naBoom:!0},NarrowMouthedBottle:{detonateImage:!1,naBoom:!1},UShapeTube:{detonateImage:!1,naBoom:!0},WaterBath:{detonateImage:!1,naBoom:!1},WaterBathWithIronPillar:{detonateImage:!1,naBoom:!1},DustExplode:{detonateImage:!0,naBoom:!1}},nb.EQUIPMENTINTESTTUBE=["ADropper","LongADropper","RotateGlassCatheter","StraightGlassCatheter","GlassBar","ThermometerPlus","Thermometer","ShapeGlassCatheter","TGlassCatheter","YGlassCatheter","SmallCombustionSpoon","PlatinumWire","CopperWire","MagnesiumRibbon","PlasticInjector","BigPlasticInjector","WoodenStick","LongNeckFunnel","FunnelSmall","FunnelBig","SeparatingFunnelPearShape","SeparatingFunnelStraight"],nb.EQUIPMENTSPECIFICHEAT={CopperSheet:390},nb.CANNOTBOOMWATERDENS=.7,nb.GASBOOMTEMP=300,nb.H2F2BOOMDENS=.1,nb.H2ORF2BOOMDENS=.05,nb.H2F2BIGBOOM=.15,nb.FIREGASBOOMDENS=.4,nb.FIREGASANDO2DENS={min:.14285714285714285,max:15,betterMin:.5,betterMax:2},nb.MULTI_MOUSE_CONARY=["DistillingFlask","DryingTubeOfCaO","DryingTubeOfP2O5","DryingTube"],nb.OPENAIRARY=new l.default(["CopperSheet","GlassSheet","WatchGlass","CombustionSpoon","QualitativeFilterPaper","PureCopper","ElectronicBalance","SmallCombustionSpoon"]),nb.INNER_CONTAINER=["CombustionSpoon","QualitativeFilterPaper","PureCopper","ElectronicBalance","SmallCombustionSpoon"],nb.AIRGASO2=2e6,nb.AIRGASN2=8e6,nb.BIG_BLOCK=new l.default(["C"]),nb.CANNOT_HIT_BLOCK=new l.default(["SeparatingFunnelPearShape","movePortraitSwitchButton","FunnelSmall","FunnelBig","VolumetricFlask100ml","VolumetricFlask250mL","VolumetricFlask50mL","AlkaliBurette","GeiserBurette","PlasticInjector","NO2Ball","NO2BallGroup","AirBalloon","UDryingTube","DryingTube","TailNozzle","KippsFunnel"]),nb.CANNOT_HIT_BIGBLOCK=new l.default(["BigTestTube","SmallTestTube","CombustionSpoon","SmallCombustionSpoon","UTube","TestTubeWithSideNeck","ConicalFlask250ml","HardGlassTube","NarrowMouthedBottle","UShapeTube","UTubeWithSideNeck","TestTubeWithSideNeck"]),nb.PLUGTOSMALL=new l.default(["SmallTestTube","ConicalFlask100ml","UTube","UTubeWithSideNeck","UShapeTube","HardGlassTube","UDryingTube","UDryingTubeOfCaO","UTubeWithSideNeckRight","UTubeWithSideNeckLeft","CondenserTubeForOrganic"]),nb.PLUGTOHUGE=new l.default(["GasCollectingBottle","GasCollectingBottleOfDivide","GasBottle","BaseGasMedicine","DryingBottle","ElectrolysisUTubeWithSideNeck"]),nb.PLUGTOBIG=new l.default(["TestTubeWithSideNeck","RoundBottomFlask","SmallRoundBottomFlask","FlorenceFlask","DistillingFlask","ThreeNeckedFlask","DryingTube","DryingTubeOfCaO","DryingTubeOfP2O5","BigTestTube","ConicalFlask250ml","BigHardGlassTube"]),nb.PLUGSCALE={hugeScale:1.552,bigScale:1,smallScale:.65},nb.TWEENTIME=.2,nb.LIBAREA={bottleLibWidth:95,left:-143,right:42},nb.MOVEERROR=10,nb.FLOCPRECIPITATE=["Cu(OH)2","Al(OH)3","H2SiO3","Fe(OH)2","Fe(OH)3","Cu2O","C6H5COOH","CuSO4·5H2O"],nb["PARTICLE_Cu(OH)2"]={startColor:[1,169,192],endColor:[62,173,193]},nb["PARTICLE_Al(OH)3"]={startColor:[255,255,255],endColor:[255,255,255]},nb.SPECIAL_COMBINE=[{anion:{name:"Cl-1",powValue:2},cation:{name:"Mn2",powValue:1},showIndex:1,color:16763621,multiple:1}],nb.OILMEDICINE=["CCl4","C8H18","C6H6"],nb.SMALLCONTAINER=["SmallTestTube","BigTestTube","TestTubeWithSideNeck","MeasuringCylinder100ml","MeasuringCylinder50ml","MeasuringCylinder10ml"],nb.isIonEquation=!1,nb.minDeliquesce=.3,nb.deliquesceNum=nb.minDeliquesce/400,nb.NaOHCreaseHotMax=200,nb.ISPAPEREQUIPMENT=["RedLitmusPaper","UniversalPhIndicatorPaper","PhenolphthaleinTestPaper","BlueLitmusPaper","PhenolphthaleinTestPaper"],nb.MAX_RELEASE_GAS=3e-5,nb.MIN_RELEASE_GAS=1e-5,nb.EGGSOLIDTEMP=80,nb.EGGSOLIDALPHA=.95,nb.FALLROTATION=Math.PI/1.3,nb.NORMALCONTAINER=["BaseGasMedicine","SeparatingFunnelBulbShape","SeparatingFunnelBulbShapeWithHose","SeparatingFunnelPearShape","SeparatingFunnelStraight","RoundBottomFlask","SmallRoundBottomFlask","FlorenceFlask","GasCollectingBottle","SmallTestTube","BigTestTube","TestTubeWithSideNeck","SmallBeaker","BigBeaker","HugeBeaker","ConicalFlask250ml","ConicalFlask100ml","DistillingFlask","UTubeWithSideNeck","EvaporatingDish","MeasuringCylinder50ml","MeasuringCylinder10ml","MeasuringCylinder100ml","HardGlassTube","BigHardGlassTube","Flume","Mortar","BigEvaporatingDish","WatchGlass"],nb.ADDINOUTSIDECONTAINER=["QualitativeFilterPaper","FunnelBig","BigEvaporatingDish","EvaporatingDish","CombustionSpoon","CopperSheet","SmallCombustionSpoon","Mortar","WeighingPaper","AsbestosFreeWireGauzeSpecil"],nb.specialBoundsAry=["RotateGlassCatheter","IronSupport","RubberCatheter","GlassPiece","Wire","BlackWire"],nb.destoryByWasteWaterVat=["AirBalloon","Match","MatchStick","PaperChannel","PaperFlower","QualitativeFilterPaper","UniversalPhIndicatorPaper","TestPaper","RedLitmusPaper","BlueLitmusPaper","PhenolphthaleinTestPaper","StarchKITestPaper","Cotton","NonPorousRubberPlugBig","AbrasivePaper","ClothStrap","FireWorks","WeighingPaper","WoodenStick","GlassPiece","Tissue"],nb.isDebug=i(460).isDebug,nb.__debug__version__="v0.0.0",nb.RENDER_RESTRICT=30,window.eqFind=function(t){var i=[];return chemicalMain.viewStack.eqChildren.forEach(function(e){e.name===t&&i.push(e)}),1===i.length?i[0]:1<i.length?i:void 0},window.changeMol=function(e,t){t=t.getConfigureData();t&&t.confArr&&t.confArr[0]&&(t=t.confArr[0]).showValue&&(t.showValue=e)},nb.ACTIVE_COUNT=300,nb.CHEM_EQU_INFO_DEFAULT_SCALE=2,nb.TEXT_COLOR={LIGHT:16777215,DARK:3422529},nb.INFO_TEXT_MAX_SCALE=2,nb.EQ_CHANGE_TYPE={reactor_to_aid:["main.reactor.Flume","main.reactor.ADropper","main.reactor.PlasticInjector","main.reactor.NO2BallGroup","main.reactor.AirBalloon","main.reactor.MortarPestle"],aid_to_reactor:["main.aid.DryingBottle","main.aid.LongNeckFunnel","main.aid.FunnelBig","main.aid.FunnelSmall","main.aid.UDryingTube","main.aid.UTube","main.aid.PlasticWashBottle","main.aid.Mortar","main.aid.DripBoard","main.aid.CO2Bottle"]},nb.COLLOID_MED_ARY=["(C6H10O5)n","Fe(OH)3(胶体)","H2SiO3(胶体)","变性的鸡蛋清","变性的鸡蛋清(硝酸)","硝化的鸡蛋清","鸡蛋清(沉淀)","变性的鸡蛋清(其他)","PE(凝固)"],nb.HNO3_CONC_MIN_NUM=10,nb.OIL_ACTIVE_COUNT=300,nb.SPECIL_LABSPOON_HINT_CONTAINER=["BigTestTube","SmallTestTube","RoundBottomFlask","GasCollectingBottle","TestTubeWithSideNeck","SmallBeaker","BigBeaker","HugeBeaker","ConicalFlask100ml","ConicalFlask250ml","WildMouthedBottle"],e.exports=nb},function(e,t,i){"use strict";t.name="matrix",t.factory=function(n,e,t,i){return(i=i("matrix",{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a})).toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function a(e,t,i){return new(n.Matrix.storage(t||"default"))(e,i)}}},function(e,t,i){"use strict";e.exports=function t(e,i,n){return e&&"function"==typeof e.map?e.map(function(e){return t(e,i,n)}):i(e)}},function(e,u,t){"use strict";var n=t(17),a=t(40),l=(t(28),t(182),t(49)),i=t(159);u.size=function(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t},u.validate=function(e,t){if(0==t.length){if(Array.isArray(e))throw new l(e.length,0)}else!function e(t,i,n){var a=t.length;if(a!=i[n])throw new l(a,i[n]);if(n<i.length-1)for(var r=n+1,o=0;o<a;o++){var s=t[o];if(!Array.isArray(s))throw new l(i.length-1,i.length,"<");e(t[o],i,r)}else for(o=0;o<a;o++)if(Array.isArray(t[o]))throw new l(i.length+1,i.length,">")}(e,t,0)},u.validateIndex=function(e,t){if(!n.isNumber(e)||!n.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&t<=e)throw new i(e,t)},u.UNINITIALIZED={},u.resize=function(e,t,i){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!n.isNumber(e)||!n.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+a.format(t)+")")}),function e(t,i,n,a){var r;var o;var s=t.length;var l=i[n];var h=Math.min(s,l);t.length=l;if(n<i.length-1){var c=n+1;for(r=0;r<h;r++)o=t[r],Array.isArray(o)||(o=[o],t[r]=o),e(o,i,c,a);for(r=h;r<l;r++)o=[],t[r]=o,e(o,i,c,a)}else{for(r=0;r<h;r++)for(;Array.isArray(t[r]);)t[r]=t[r][0];if(a!==u.UNINITIALIZED)for(r=h;r<l;r++)t[r]=a}}(e,t,0,void 0!==i?i:0),e},u.reshape=function(t,i){function n(e){return e.reduce(function(e,t){return e*t})}var e,a=u.flatten(t);if(!Array.isArray(t)||!Array.isArray(i))throw new TypeError("Array expected");if(0===i.length)throw new l(0,n(u.size(t)),"!=");try{e=function e(t,i){var n=[];var a;if(0===i.length){if(0===t.length)throw new l(null,null,"!=");return t.shift()}for(a=0;a<i[0];a+=1)n.push(e(t,i.slice(1)));return n}(a,i)}catch(e){if(e instanceof l)throw new l(n(i),n(u.size(t)),"!=");throw e}if(0<a.length)throw new l(n(i),n(u.size(t)),"!=");return e},u.squeeze=function(e,t){for(var i=t||u.size(e);Array.isArray(e)&&1===e.length;)e=e[0],i.shift();for(var n=i.length;1===i[n-1];)n--;return n<i.length&&(e=function e(t,i,n){var a,r;if(n<i){var o=n+1;for(a=0,r=t.length;a<r;a++)t[a]=e(t[a],i,o)}else for(;Array.isArray(t);)t=t[0];return t}(e,n,0),i.length=n),e},u.unsqueeze=function(e,t,i,n){var a=n||u.size(e);if(i)for(var r=0;r<i;r++)e=[e],a.unshift(1);for(e=function e(t,i,n){var a,r;if(Array.isArray(t)){var o=n+1;for(a=0,r=t.length;a<r;a++)t[a]=e(t[a],i,o)}else for(var s=n;s<i;s++)t=[t];return t}(e,t,0);a.length<t;)a.push(1);return e},u.flatten=function(e){if(!Array.isArray(e))return e;var i=[];return e.forEach(function e(t){Array.isArray(t)?t.forEach(e):i.push(t)}),i},u.map=function(e,t){return Array.prototype.map.call(e,t)},u.forEach=function(e,t){Array.prototype.forEach.call(e,t)},u.filter=function(e,t){if(1!==u.size(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)},u.filterRegExp=function(e,t){if(1!==u.size(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,function(e){return t.test(e)})},u.join=function(e,t){return Array.prototype.join.call(e,t)},u.identify=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],i=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?i++:i=0,t.push({value:e[n],identifier:i});return t},u.generalize=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],i=0;i<e.length;i++)t.push(e[i].value);return t},u.isArray=Array.isArray},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2));e.exports=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"execute",value:function(){throw"必须重写该方法"}}]),e}()},function(e,t,i){"use strict";var n=i(0),o=n(i(25)),a=n(i(1)),s=n(i(2)),i=function(){function r(e){(0,a.default)(this,r),r.lastObj=null,this.root=e}return(0,s.default)(r,[{key:"changeMouseStatus",value:function(e,t,i,n){if(n)return this.root.execute(NBCommand.interactive.MOUSE_CURSOR_ENABLED,{code:-1,obj:i}),void(r.lastObj=null);var a=this.root.viewStack;i&&(i.mouseIn=t,i.mouseStateCode=t?e:r.status.DRAG,e=-1,(i=(t?function e(t){for(var i=0;i<t.children.length;i++){var n=t.children[i];if(!0===n.mouseIn&&0<n.alpha)return e(n)}return t}:function e(t){return t.parent===a?t:t.parent&&!0===t.parent.mouseIn&&0<t.parent.alpha&&!0===t.parent.visible?t.parent:t.rubber&&!0===t.rubber.mouseIn?t.rubber:t.parent?e(t.parent):t})(i)).mouseIn&&(e=i.mouseStateCode),t?(null===r.lastObj||!function e(t,i){if(i.parent===a||!i.parent)return!1;return i.parent===t||e(t,i.parent)}(i,r.lastObj)?r.lastObj=i:e=(i=r.lastObj).mouseStateCode,i===a.eqLayer&&(r.lastObj=null)):r.lastObj=r.lastObj===i?null:i,this.root.execute(NBCommand.interactive.MOUSE_CURSOR_ENABLED,{code:(0,o.default)(e),obj:i}))}}],[{key:"addMouseEvent",value:function(e,t,i){t.addEventListener(MouseEvent.MOUSE_OVER,function(){e.changeMouseStatus(i,!0,t)}),t.addEventListener(MouseEvent.MOUSE_OUT,function(){e.changeMouseStatus(i,!1,t)})}}]),r}();i.status={STRETCH:0,ROTATE:1,DRAG:2,OPEN:3,CLOSE:4,PINCH:5,PLUCK:6,PAN:7,SHAKE:8,PEN:9,KNIFE:10},e.exports=i},function(e,s,t){"use strict";function l(e){for(var t=[],i=0;i<e;i++)t.push(0);return t}s.isNumber=function(e){return"number"==typeof e},s.isInteger=function(e){return!!isFinite(e)&&e==Math.round(e)},s.sign=Math.sign||function(e){return 0<e?1:e<0?-1:0},s.format=function(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var i="auto",n=void 0;switch(t&&(t.notation&&(i=t.notation),s.isNumber(t)?n=t:t.precision&&(n=t.precision)),i){case"fixed":return s.toFixed(e,n);case"exponential":return s.toExponential(e,n);case"engineering":return s.toEngineering(e,n);case"auto":return s.toPrecision(e,n,t&&t.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},s.splitNumber=function(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var i=t[1],e=t[2],n=parseFloat(t[4]||"0"),t=e.indexOf(".");n+=-1!==t?t-1:e.length-1;e=e.replace(".","").replace(/^0*/,function(e){return n-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===e.length&&(e.push(0),n++),{sign:i,coefficients:e,exponent:n}},s.toEngineering=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var i=s.roundDigits(s.splitNumber(e),t),n=i.exponent,a=i.coefficients,e=n%3==0?n:n<0?n-3-n%3:n-n%3,t=0<=n?n:Math.abs(e);a.length-1<t&&(a=a.concat(l(t-(a.length-1))));for(var r=Math.abs(n-e),o=1;0<=--r;)o++;t=a.slice(o).join(""),t=t.match(/[1-9]/)?"."+t:"",e=a.slice(0,o).join("")+t+"e"+(0<=n?"+":"")+e.toString();return i.sign+e},s.toFixed=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var i=s.splitNumber(e),n=s.roundDigits(i,i.exponent+1+(t||0)),a=n.coefficients,e=n.exponent+1,i=e+(t||0);return a.length<i&&(a=a.concat(l(i-a.length))),e<0&&(a=l(1-e).concat(a),e=1),t&&a.splice(e,0,0===e?"0.":"."),n.sign+a.join("")},s.toExponential=function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var i=s.splitNumber(e),n=t?s.roundDigits(i,t):i,e=n.coefficients,i=n.exponent,t=(e=e.length<t?e.concat(l(t-e.length)):e).shift();return n.sign+t+(0<e.length?"."+e.join(""):"")+"e"+(0<=i?"+":"")+i},s.toPrecision=function(e,t,i){if(isNaN(e)||!isFinite(e))return String(e);var n=i&&void 0!==i.lower?i.lower:.001,a=i&&void 0!==i.upper?i.upper:1e5,r=s.splitNumber(e),i=Math.abs(Math.pow(10,r.exponent));if(i<n||a<=i)return s.toExponential(e,t);var i=t?s.roundDigits(r,t):r,e=i.coefficients,r=i.exponent;e=(e=e.length<t?e.concat(l(t-e.length)):e).concat(l(r-e.length+1+(e.length<t?t-e.length:0)));t=0<r?r:0;return t<(e=l(-r).concat(e)).length-1&&e.splice(t+1,0,"."),i.sign+e.join("")},s.roundDigits=function(e,t){for(var i={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=i.coefficients;t<=0;)n.unshift(0),i.exponent++,t++;if(n.length>t&&5<=n.splice(t,n.length-t)[0]){var a=t-1;for(n[a]++;10===n[a];)n.pop(),0===a&&(n.unshift(0),i.exponent++,a++),n[--a]++}return i},s.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},s.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,s.nearlyEqual=function(e,t,i){if(null==i)return e==t;if(e==t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<s.DBL_EPSILON||n<=Math.max(Math.abs(e),Math.abs(t))*i}return!1}},function(e,t,i){"use strict";function n(){}n.retrieveRotation=function(e){return-Math.atan2(e.c,e.d)},e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(70),s=i(11),l=i(45),i=function(){function i(e,t){(0,a.default)(this,i),this.type=o.SOLID,e&&(this.name=e.chemical),this.sediment=0,this.sedRate=s.DEFAULT_SED_RATE,this._mol=t,this.dat=e,this.mm=this.name?l.getMoleculeRelativeMass(this.name)||this.dat.molecular_mass:0,this._temp_=s.DEFAULT_TEMP,this.setTemp(s.DEFAULT_TEMP),this.volConst=this.mm/this.getDensity()}return(0,r.default)(i,[{key:"getColor",value:function(){return this.dat.color}},{key:"getHeatCapacity",value:function(){return this.dat.heat_capacity||s.DEFAULT_HEAT_CAPACITY}},{key:"getTemp",value:function(){return this._temp_}},{key:"getMass",value:function(){var e=this.mol;return isNaN(e)&&(e=0),this.mm*e}},{key:"setTemp",value:function(e){return this._temp_=0<e?e:s.DEFAULT_TEMP,"KMnO4"===this.name&&(this._temp_>this.dat.decompose_point?this.isDecomposing=!0:this.isDecomposing&&delete this.isDecomposing),this}},{key:"mol",get:function(){return this._mol},set:function(e){this.setMol(e)}},{key:"setMol",value:function(e){return this._mol=e,this}},{key:"getMol",value:function(){return this._mol}},{key:"setVol",value:function(e){this.mol=e/this.volConst}},{key:"getVol",value:function(){return this.mol*this.volConst}},{key:"getDensity",value:function(){return this.dat.density_solid}},{key:"deepClone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.mol,e=new i(this.dat,e);return e.setProportion(this.realProportion),e.setTemp(this.getTemp()),e.sedRate=this.sedRate,e.isSolidify=this.isSolidify,e}},{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.mol;return{name:this.name,type:this.type,mol:e,realProportion:this.realProportion,sediment:this.sediment,sedRate:this.sedRate,temp:this.getTemp(),dat:this.dat}}},{key:"restoreFromEasyClone",value:function(e){this.setProportion(e.realProportion),this.setTemp(e.temp),this.sediment=e.sediment,this.sedRate=e.sedRate||s.DEFAULT_SED_RATE}},{key:"setProportion",value:function(e){this.realProportion=e}}]),i}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(9)),c=n(i(69)),u=n(i(25)),d=n(i(77)),o=n(i(46)),s=n(i(96));function p(){}p.prototype.create=function(e){var t=new p;return(0,a.default)(t,e),t},p={RADIO:1,CHECKBOX:2,SELECT:3,BOOL:4,INPUT:5,LABEL:6,DRAG:7,BUTTON:8,ANGLE:9,INPUTBOOL:10,getLabel:function(e,t){var i={type:p.LABEL};return i.name=e,i.text=t,i},getScrollBar:function(e,t,i,n,a,r,o,s,l){var h={type:p.DRAG};h.name=e,h.canEnter=t,h.enterUnit=i,h.maxValue=n,h.minValue=a,(0,c.default)(h,{showValue:{set:function(e){h._showValue=e,h.callBack&&h.callBack.call(l,h)},get:function(){return h._showValue.toFixed,Function,h._showValue}}});var a=o.toExponential(),a=0<(a=(0,u.default)(a.substring(a.indexOf("e")+1)))?0:-a;return h.precision=a,h.showValue=(0,d.default)(r.toFixed(a)),h.step=o,h.callBack=s,h.this=l,h},getSwitch:function(e,t,i,n){var a={type:p.BOOL};a.name=e;var r=0;return(0,o.default)(a,"checked",{get:function(){return a._checked},set:function(e){var t=(0,s.default)();e===a._checked||t-r<500||(r=t,a._checked=e,i&&(t=i.call(n,a),a.ischange&&t&&(a._checked=!e)))}}),a.checked=t,r=0,a.this=n,a},getDropMenu:function(e,t,i,n,a,r,o,s,l){var h={type:p.SELECT};return h.name=e,h.canEnter=t,h.enterUnit=i,h.maxValue=s,h.minValue=l,h.showValue=n,h.value=a,h.this=r,h.callBack=o,h},getRadio:function(e,t,i,n,a){var r={type:p.RADIO};return r.name=e,r.checked=t,r.value=i,r.callBack=n,r.this=a,r},getButton:function(e,t,i,n){var a={type:p.BUTTON};return a.icon=e,a.text=t,a.callBack=i,a.this=n,a},getTextInput:function(e,t,i,n){e={name:e,type:p.INPUT,showValue:t,callBack:i};return i.call(n,t),e},inputSwitch:function(e,t,i,n){var a={type:p.INPUTBOOL};a.name=e;var r=0;return(0,o.default)(a,"checked",{get:function(){return a._checked},set:function(e){var t=(0,s.default)();e===a._checked||t-r<500||(r=t,a._checked=e,i&&i.call(n,a))}}),a.checked=t,r=0,a.this=n,a}},e.exports=p},function(module,exports,__webpack_require__){"use strict";var _Array$from=__webpack_require__(44),_Symbol=__webpack_require__(42),_Symbol$iterator=__webpack_require__(43),_Array$isArray=__webpack_require__(37),_interopRequireDefault=__webpack_require__(0),_toConsumableArray2=_interopRequireDefault(__webpack_require__(59)),_slicedToArray2=_interopRequireDefault(__webpack_require__(114)),_typeof2=_interopRequireDefault(__webpack_require__(61)),_assign=_interopRequireDefault(__webpack_require__(9)),_map2=_interopRequireDefault(__webpack_require__(24)),_set2=_interopRequireDefault(__webpack_require__(60)),_parseInt2=_interopRequireDefault(__webpack_require__(25)),_parseFloat2=_interopRequireDefault(__webpack_require__(77));function _createForOfIteratorHelper(e,t){var i=void 0!==_Symbol&&e[_Symbol$iterator]||e["@@iterator"];if(!i){if(_Array$isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?_Array$from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var LiquidVO=__webpack_require__(33),SolidVO=__webpack_require__(20),GasVO=__webpack_require__(27),IonVO=__webpack_require__(100),DissolveVO=__webpack_require__(194),nb=__webpack_require__(11),MatrixUtil=__webpack_require__(18),NBGraphics=__webpack_require__(195),NBMath=__webpack_require__(115),MedicineType=__webpack_require__(70),ChemicalConst=__webpack_require__(133),IonMedVo=__webpack_require__(166),ParticleUtil=__webpack_require__(34),EquationUtil=__webpack_require__(252),LiquidUtil=__webpack_require__(255),SplitMedicineNameToIon=__webpack_require__(926),ChemicalUtilTool=__webpack_require__(45),DissolveGeneralFunc=__webpack_require__(927),ChemicalUtil={},MAX_MULTIPLE=10;ChemicalUtil.getMedicineData=null,window.ChemicalUtil=ChemicalUtil;var densityMap={},ionEquations={},plus="⁺",minus="⁻",gasSign="↑",solidSign="↓",subscriptMap={0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉",".":"·"},superScriptMap={0:"º",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};ChemicalUtil.superScriptMap=superScriptMap,ChemicalUtil.subscriptMap=subscriptMap,ChemicalUtil.setMoleculeDensity=function(e,t,i,n){var a=densityMap[e]||{};a.s=t||a.s,a.l=i||a.l,a.g=n||a.g,densityMap[e]=a},ChemicalUtil.getMoleculeDensity=function(e){return densityMap[e]},ChemicalUtil.generageIonEquation=function(e,t,i){if(ionEquations[t])return ionEquations[t];var n=ChemicalUtilTool.convertToChemicalName,a=i?"solid"===i?(i=solidSign,"s"):(i=gasSign,"g"):(i="","l"),r=[],o=[],s=[];e.forEach(function(e){r.push(e.count),o.push("".concat(e.name,"!").concat(Math.abs(e.valence))),s.push("i")}),r.push(1),s.push(a);i={Modulus:r,Name:o.join("_"),Products:[t],preventCombine:"TRUE",Reactants:o,ProductStatus:n(t)+i,PhysicalState:s};return ionEquations[t]=i},ChemicalUtil.convertIonToChemicalName=function(e){var t=e.getValence();return 0<t?1===t?e.name+plus:e.name+superScriptMap[t]+plus:t<0?-1===t?e.name+minus:e.name+superScriptMap[-t]+minus:e.name},ChemicalUtil.splitMedicineNameToIon=SplitMedicineNameToIon,ChemicalUtil.covertVolumeToLiquid=function(e,t){for(var i=e.length,n=0,a=0;a<i;a++){var r=e[a];r.type===MedicineType.LIQUID&&(n+=r.getVol())}for(var o=[],s=0;s<i;s++){var l,h=e[s];h.type===MedicineType.LIQUID&&((l=h.deepClone()).setVol(t*h.getVol()/n),o.push(l))}return o};var EffectFuncs=[],EquationMap={};function genObj(n,a,r){var e,o=n.length;n.forEach(function(e,t){var i;a[e]||(a[e]={}),1==o?a[e].equationAry?a[e].equationAry.push(r):a[e].equationAry=[r]:((i=(0,_assign.default)([],n)).splice(t,1),genObj(i,a[e],r))}),2==n.length&&n[0]==n[1]&&(e=n[0],a[e][e].equationAry.pop())}ChemicalUtil.EquationMap=EquationMap,ChemicalUtil.convertEquationToIonEquation=function(e){var o=[],s=[],l=[],h=e.PhysicalState,c=e.Modulus,u=!0,d=ChemicalUtil.root.medicineManager;e&&e.Reactants&&e.Reactants.forEach,e.Reactants.forEach(function(e,t){var i,n=h[t],a=c[t],r=!0;"l"===n&&(i=ChemicalUtil.splitMedicineNameToIon(e),t=d.getMedicineData(e),i&&"H2O"!==e&&t&&!t.kab&&(u=r=!1,i.forEach(function(e){o.push("".concat(e.name,"!").concat(Math.abs(e.valence))),s.push("i"),l.push(a*e.count)}))),r&&(o.push(e),s.push(n),l.push(a))});var p=e.Reactants.length,f=[];if(e.Products.forEach(function(e,t){var i,n=h[t+p],a=c[t+p],r=!0;"l"===n&&(i=ChemicalUtil.splitMedicineNameToIon(e),t=d.getMedicineData(e),i&&"H2O"!==e&&t&&!t.kab&&(u=r=!1,i.forEach(function(e){var t=a*e.count,i="".concat(e.name,"!").concat(Math.abs(e.valence)),n=o.indexOf(i);if(-1!==n){e=l[n]-=t;switch(!0){case 0<e:return;case e<=0:l.splice(n,1),o.splice(n,1),s.splice(n,1);case 0==e:return}}f.push(i),s.push("i"),l.push(t)}))),r&&(f.push(e),s.push(n),l.push(a))}),u)return e;NBMath.GetGroupGCD(l);var t={};return(0,_assign.default)(t,e),t.Reactants=o,t.Products=f,t.Modulus=l,t.PhysicalState=s,t.Name=t.Reactants.join("_"),delete t.ProductStatus,EquationUtil.checkPhystatus(t),e.ionicEquation=t},ChemicalUtil.loadData=function(e){function t(e){e=LiquidUtil.convertGas(e),EffectFuncs=e,(ChemicalUtil.EffectFuncs=EffectFuncs).forEach(function(e){genObj(e.Name.split("_"),EquationMap,e)})}ChemicalUtil.root=window.chemicalMain,"string"==typeof e?$.get(nb.config.URI_PREFIX+"assets/effect.json").done(t(data)):t(e)};var effectDat=__webpack_require__(928);function liquidStrong(u,d,e,t){var i,n=u.medicineData.solidAry,a=u.medicineData.liquidAry,r=DissolveGeneralFunc.getSolventFromLiquid(a,["H2O"]);for(i in n){var o=n[i],s=u.medicineNBGraphicMap.get(o.name);if(u.noNbGraphics||s||o.fromSolidCompose){var l=o.dat.ions,h=!!(l&&2<=l.length&&t);if("NaOH"===o.name&&h&&(s=r.get("C2H5OH"),l=o.dat,s&&s.getMass()*l.solution_C2H5OH>t*l.solubility&&(h=!1)),h)calStrongElectrolyte(u,d,o,t,"C6H5COOH"===o.name);else{var c,p=o.name,f=_createForOfIteratorHelper(r.keys());try{for(f.s();!(c=f.n()).done;){var I=c.value,g=o.dat["solution_".concat(I)];"H2O"===I?S(e.getSolution(p,r.get(I).getTemp()),r.get(I),p,o):0<g&&S(g,r.get(I),p,o)}}catch(e){f.e(e)}finally{f.f()}}}}for(var m=0;m<a.length;m++){var y=a[m];if(!y.ions&&"Liquid"!==y.dat.type||"C6H5COOH"===y.dat.chemical){var v=y.name,C=y.solvent;if(C){var M,b=void 0;b="H2O"===C?(M=a.quickMap.get(C),e.getSolution(v,(M||y).getTemp())):y.dat["solution_".concat(C)];C=a.quickMap.get(C);b&&"TRUE"!==b&&C&&ChemicalUtil.separateOut(b,C,v,y,u)}else{var x,O=_createForOfIteratorHelper(r.keys());try{for(O.s();!(x=O.n()).done;){var A=x.value,T=y.dat["solution_".concat(A)];"H2O"===A?ChemicalUtil.separateOut(e.getSolution(v,r.get(A).getTemp()),r.get(A),v,y,u):0<T&&ChemicalUtil.separateOut(T,r.get(A),v,y,u)}}catch(e){O.e(e)}finally{O.f()}}}}function S(e,t,i,s){var l,h,n,a,c,r,o;0<e&&(c=0,(o=u.medicineNBGraphicMap.get(i))&&(l=s.dat.c_speed||5e-5,h=[],o.forEach(function(e){for(var t=5*e.velocity.get_length(),i=(e.getTemp()-25)*(s.dat.solution_temp||.05)/3+1,n=e.napeBody.shapesAt(0),a=n.get_radius?n.get_radius():n.get_area()/2,r=e.napeBody.get_arbiters(),o=0;o<r.get_length();o++)if(r.at(o)instanceof nape.dynamics.FluidArbiter){c+=Math.sqrt(1+t)*d*l*a*i,h.push(e);break}}),0<h.length&&(n=t.getVol()/100*e/s.mm,o=h,(a=u.medicineData.liquidAry.quickMap.get(s.name))&&(n-=a.mol),(c=n<c?n:c)<0||(c="C6H5OH"!==i||9998!==e&&"9999"!==e?2e-4<c?2e-4:c:.006<c?.006:c,e=o.length,r=c/e,o.forEach(function(e){e.addMedicine(s.deepClone().setMol(-r)),e.updateMedSize()}),(e=new LiquidVO(s.dat,c)).solvent=t.name,u.coohPic&&u.coohPic.y<u.coohPic.initPosY&&(o=c*s.mm*Math.random(),u.coohPic.y+=30*o,u.coohPic.mass-=o),"C6H5COOH"!==e.name&&"C6H5OH"!==e.name||e.setTemp(t.getTemp()||t._temp_),u.medicineData.push(e)))))}}function calStrongElectrolyte(e,a,r,t,i){if(t&&e.liquidVertex){var n=r.name;if(!("CuSO4"===n&&r.type===MedicineType.SOLID||"CaC6H6O7"===n||"H2SiO3(胶体)"===n||r.isSolidify)){var o=e.medicineData,s=o.ionAry,l=s.quickMap.get("H1"),h=s.quickMap.get("OH-1");if(!("H2O"!==n&&l&&h&&(l.mol<0||h.mol<0))){var c=n;/[.·]/.test(n)&&(c=n.replace(/\.|·\d+H2O/,""));var u=e.medicineManager,d=t.getTemp();if(9999!==u.getSolution(n,d)||r.type!==MedicineType.SOLID){var p=r.dat.ions,f=u.getKsp(c,d,r),I=null;r.type===MedicineType.SOLID&&(I=e.medicineNBGraphicMap.get(n));var l=o.getCurrentIonKspData(p,t,i?r.name:""),h=l.ksp,d=Math.abs(h-f)/f,i=Math.pow(2,f);if(!((d*=i=Math.min(Math.max(i,1),1e7))<.005)){var g,m=0;if(I){var y=r.dat.c_speed||5e-5,v=[];if(I.forEach(function(e){var t=5*e.velocity.get_length(),i=(e.getTemp()-25)*(r.dat.solution_temp||.05)/3+1,n=e.napeBody.shapesAt(0),n=n.get_radius?n.get_radius():n.get_area()/2;e.stayInLiquid("H2O")&&(i=Math.sqrt(1+t)*a*y*n*i,m+=i,v.push(e))}),m=.001<m?.001:m,0===v.length)return;I=v}else if(r.mol)e.noNbGraphics&&!e.name.includes("PlasticInjector")?(m=r.mol,(S=r.deepClone()).mol=-r.mol,o.push(S)):(w=n.replace("·",""),e.blockMedicineMap?(X=e.blockMedicineMap.get(w),r.type===MedicineType.SOLID&&X&&0<X.size?(g=!1,X.forEach(function(e){"inWater"===e.posStatus&&(g=!0)}),g&&(m=r.mol/100)):m=r.mol):m=r.mol);else{m=1/0;for(var C=0;C<p.length;C++){var M=p[C],b=s.quickMap.get(M.name+M.valence);m=b?(M=b.mol/M.count)<m?M:m:0}}var x=l[p[0].name]?l[p[0].name].cons:0,O=l[p[1].name]?l[p[1].name].cons:0,A=p[0].count,T=p[1].count,S=function(e){return Math.pow(x+A*e,A)*Math.pow(O+T*e,T)-f},w=function(e){return A*A*Math.pow(x+A*e,A-1)*Math.pow(O+T*e,T)+T*T*Math.pow(O+T*e,T-1)*Math.pow(x+A*e,A)},l=NBMath.newtonIterator(h,S,w,100);if(isNaN(l)&&(l=NBMath.newtonIterator(.1,S,w,100)),r.deepClone&&(r=r.deepClone()),!isNaN(l)){l*=t.getVol()/1e3;w=Math.abs(1-h/f);if(!(0<w&&w<1&&f<1e-14||(w=isNaN(w)||w===1/0?1:w,w=Math.sqrt(w),m*=w,Math.abs(m)<=1e-20&&"H2O"!==n))){if(0<l){if(l<m&&(m=l),void 0===r.mol)return;if(r.type!==MedicineType.GAS&&r.type!==MedicineType.SOLID){for(var B=1/0,D=0;D<p.length;D++)var P=p[D],P=o.ionAry.quickMap.get(P.name+P.valence),P=P?P.mol:0,B=(P/=p[D].count)<B?P:B;h=o.ionMedicineAry.quickMap.get(c),w=r.mol;h&&isFinite(h.mol)&&(h.mol<0&&(h.mol=0),0<B&&(h.mol=h.mol>B?B:h.mol),w-=h.mol),m=Math.min(w,m)}else m=Math.min(r.mol,m);if(m<=0)return}else{if("Cu(OH)2"===c&&o.lastPh<4)return;if("BaSO3"===c&&o.lastPh<4)return;for(var L=ChemicalUtil.splitMedicineNameToIon(c),N=-l,J=0;J<L.length;J++){var _=L[J],E=o.ionAry.quickMap.get(_.name+_.valence);if(void 0===E)return;N>E.mol/_.count&&(N=E.mol/_.count)}m=.99*-N}if(0<m&&!r.deepClone&&(m=0),isNaN(m),m){if(e.hasReact=nb.ACTIVE_COUNT,m<0&&("CaSO4"===c||"Na2SO4"===c||"AgBr"===c||"ZnS"===c)){var k=o.ionMedicineAry.find(function(e){return e.name===c});if(k){if(k.mol<0)return void(k.mol=0);m=-Math.min(k.mol,-m)}}if(!isNaN(m)&&0!==m){if(!r.dat.ionize_by_effect){var q=o.ionMedicineAry.quickMap.get(r.name);if(m<0&&q&&"H2O"!==r.name){if(q.getMol()<=0)return void q.setMol(0);q.getMol()+m<0&&(m=-q.getMol())}o.addIonMedicine(r.clone?r.deepClone():r,m)}l=u.getMedicineData(c);(o.liquidAry.quickMap.get(c)||0<m)&&r.type===MedicineType.SOLID&&(R=new LiquidVO(l,m),e.addMedicine(R));k=m,q=e.h2o;if(0<m)if("CuSO4·5H2O"===n&&(q.mol+=5*m),I){var R=I.length,F=m/R;I.forEach(function(e){return e.addMedicine(r.deepClone().setMol(-F)).updateMedSize()})}else{if(X){var j,V=_createForOfIteratorHelper(X);try{for(V.s();!(j=V.n()).done;){var H=j.value,G=H.medVo.getMol(),z=G;if((G-=m)<0?G+=m:G=m,m-=G,H.medVo.setMol(z-G),m<=0)break}}catch(e){V.e(e)}finally{V.f()}}r.type===MedicineType.SOLID&&e.addMedicine(r.deepClone().setMol(-m))}else{var X=!1;if(l.boiling_point-1<t.getTemp()){var W=new GasVO(l,-m),Z="gas";e.addMedicine(W)}else if("Liquid"!==l.type){Z="solid","CuSO4"===l.chemical&&(W=e.h2o&&e.h2o.getVol()||0,Y=0,(Y=(K=o.liquidAry.quickMap.get("H2SO4"))&&0<K.getMol()?K.getMol()/(W+K.getVol())*1e3:Y)<8&&(l=u.getMedicineData("CuSO4·5H2O"),q.mol+=5*m));var U=new SolidVO(l,-m);if(e.noNbGraphics)o.push(U);else{var K=e.medicineNBGraphicMap.get(n),Y=m;if(K){var Q,$=_createForOfIteratorHelper(K.values());try{for($.s();!(Q=$.n()).done;){var ee,te=Q.value,ie=te.getMaxStableMol(U,3);0!==(ie=Math.min(ie,-m))&&((ee=U.clone()).mol=ie,te.addMedicine(ee),te.updateMedSize(),m+=ie)}}catch(e){$.e(e)}finally{$.f()}}var ne,u=o.solidAry[n],q=u?u.mol:0;if(o.push(new SolidVO(l,-Y)),(u=o.solidAry[n])&&(!K||0<u.sediment)&&(u.sediment-=Y),!u||K&&0!==K.size||(K=q,(q=e.blockMedicineMap)&&q.has(n)&&(n=q.get(n),ne=0,n.forEach(function(e){ne+=e.medVo.mol}),K-=ne),0<K&&(m+=-K)),u&&1e-8<u.mol&&m<0){X=!0,u=U.dat.density_solid;if(!u)return;var ae=3*u/U.dat.molecular_mass/10;"高吸水性树脂"===U.name&&(ae/=10);u=e.medicineNBGraphicMap.get(U.name);if(u&&15<u.size){var re=(0,_toConsumableArray2.default)(u),oe=U.deepClone(-m),se=oe.mol/u.size;re.forEach(function(e){var t=oe.clone();t.mol=se,e.addMedicine(t),e.updateMedSize&&e.updateMedSize();t=e.alpha;t<1&&((e=o.solidAry[oe.name])&&(e.sediment+=(1-t)*se))}),m=0}else{for(var re=e.liquidVertex,le=e.toLocal(re[0]),re=e.toLocal(re[re.length-1]),he=Math.abs(re.x-le.x),ce=(le.x+re.x)/2,ue=[];m;){var de=Math.min(ae,-m);if(m+=de,de<1e-6)break;var pe=new nape.phys.Material(.2,4,5,(0,_parseFloat2.default)(U.dat.density_solid),500),fe={x:ce+(.5<Math.random()?1:-1)*Math.random()*he*.3,y:le.y-Math.random()},de=U.deepClone(de),fe=new NBGraphics(e,pe,de,fe);fe.alpha=0,ue.push(fe)}e.addNBGraphic(U.name,ue)}}}}if((k<-1e-7||X)&&"H2SO4"!==c&&.02<e.getCurrentCapacity()/e.getTotalCapacity()){var Ie=k<1e-4||X?(Ie=2e5*-k)<100?100:Ie:20;if(X&&(Ie=1e3),"H2O"===c||f<1){X=ChemicalUtil.generageIonEquation(p,c,Z),Z=ChemicalUtil.fitToIonEquationToChemEquation(X,p,c,e,Z);if(EquationUtil.convertIonEquationToChemEquation(Z,e),"H2O"===c&&Z.showEquationDat)if(Z.showEquationDat.Reactants.find(function(e){return"H3BO3"===e}))return;Z=Z.showEquationDat;Z?Z.ionicEquation=X:Z=X,"Al2(SO4)3_NH3H2O"!==Z.Name&&e.setReactStatus(Z,Ie,-k)}}}}}}}}}}}}}function calWeakElectrolyte(e,t,i){var n=t.vo,a=t.ary,r=n.name,o=i.getVol()/1e3;if(!("H2O"===r||i.mol<.05)){var s=e.medicineData.getCurrentIonKspData(a),l=e.medicineManager,t=i.getTemp(),h=l.getKsp(r,t,n),c=s[a[0].name]?s[a[0].name].cons:0,u=s[a[1].name]?s[a[1].name].cons:0,d=a[0].count,p=a[1].count,i=function(e){return Math.pow(c+d*e,d)*Math.pow(u+p*e,p)-h},t=function(e){return d*d*Math.pow(c+d*e,d-1)*Math.pow(u+p*e,p)+p*p*Math.pow(u+p*e,p-1)*Math.pow(c+d*e,d)},s=NBMath.newtonIterator(s.ksp,i,t,100);if(isNaN(s)&&(s=NBMath.newtonIterator(.1,i,t,100)),!(0<(s*=o)||isNaN(s))){var f=s,s=e.medicineData.liquidAry.quickMap.get(r);if(s){f=Math.max(f,-s.mol),f*=.99;l=l.getMedicineData(r);if("ion"!==l.type&&void 0!==l.density_solid&&("H"!==a[0].name||"H2SiO3"===r)){var I=new SolidVO(l,-f),l=e.medicineData.liquidAry.quickMap.get(n.name);if(l){n=Math.min(l.getMol(),-f);if(0!==n){e.addMedicine(l.deepClone().setMol(-n));n=e.medicineNBGraphicMap.get(r);if(n&&n.forEach(function(e){var t=e.getMaxStableMol(I),t=Math.min(t,-f);e.addMedicine(I.deepClone().setMol(t)),f+=t}),f<0){var r=I,g=3*r.dat.density_solid/r.dat.molecular_mass/10;"高吸水性树脂"===r.name&&(g/=10);var r=e.liquidVertex,m=e.toLocal(r[0]),r=e.toLocal(r[r.length-1]),y=Math.abs(r.x-m.x),v=(m.x+r.x)/2,C=[],M=e.medicineData.solidAry[I.name];e.medicineData.push(new SolidVO(I.dat,-f));for(!M||n&&0!==n.size||(f=-M.mol,0),f<-1e-8&&M&&(M.sediment-=f);M&&1e-4<M.mol&&f;){var b=Math.min(g,-f);if(f+=b,null==I.dat.density_solid)return;I.dat.density_solid;var x=new nape.phys.Material(.2,4,5,(0,_parseFloat2.default)(I.dat.density_solid),500),O={x:v+(.5<Math.random()?1:-1)*Math.random()*y*.3,y:m.y-Math.random()},b=I.deepClone(b),O=new NBGraphics(e,x,b,O);O.alpha=0,C.push(O)}e.hasReact=nb.ACTIVE_COUNT,e.addNBGraphic(I.name,C)}}}}}}}}ChemicalUtil.loadData(effectDat),ChemicalUtil.getChemicalsFromIons=function(e,t){for(var i=ChemicalConst.ionsGroup,n=ChemicalConst.ionMap,a=[],r=[],o={},s=0;s<e.length;s++){var l=e[s];try{(0<(l.valence||l.dat.valence)?a:r).push(l)}catch(e){}}for(var h=0;h<a.length;h++)for(var c=a[h],u=i[c.name+c.valence],d=0;d<r.length;d++){var p,f=r[d],I=u[f.name+f.valence];void 0!==I&&(p=t.getMedicineData(I.name),o[I.name]={dat:t.getMedicineData(I.name),name:I.name},"ion"==p.type&&(f=i.H1,p=n[I.name],(I=f[I.name+p])&&(o[I.name]={dat:t.getMedicineData(I.name),name:I.name},(p=n[I.name])&&(I=f[I.name+p])&&(o[I.name]={dat:t.getMedicineData(I.name),name:I.name}))))}return o},ChemicalUtil.privateFindReaction=function(e,v){var C={s:SolidVO,l:LiquidVO,g:GasVO,i:IonVO},t=ChemicalUtil.EquationMap,M=new _map2.default,b=[];e.forEach(function(e){e.mol>nb.MIN_DEVIATION&&b.push({name:e.name+(e.dat.valence?"!"+Math.abs(e.dat.valence):""),med:e})});var x=["Cl2","I2","Br2","PH3"];for(x.forEach(function(e){for(var t,i=-1,n=0;n<b.length;n++)if(b[n].name===e){if(-1<i){b[n].med.getMol()<b[i].med.getMol()&&(t=b[n],b[n]=b[i],b[i]=t);break}i=n}});0<b.length;){var i=b[b.length-1],n={};n[i.name]={medVo:i.med,modulus:0},function g(m,y){if(m instanceof Array){var e,t=function(i){var n=m[i];if(n instanceof Array){var e=b.filter(function(e){return e.name===i});e&&0<e.length&&e.map(function(e){var t=(0,_assign.default)({},y);!y[i]&&e.med&&(t[i]={medVo:e.med,modulus:0}),g(n,t)})}else{if(!n.Reactants){for(var t=0;t<b.length;t++){var a,r=b[t],o=n[r.name];o&&(a=(0,_assign.default)({},y),y[r.name]||(a[r.name]={medVo:r.med,modulus:0}),g(o,a))}return{v:void 0}}if(n.fake)return"continue";/Na_Cl2|Mg_O2|Mg_N2/.test(n.Name)&&(n.Condition="点燃");e=M.get(n.Name);if(e&&e.equation!==n&&(n.Name+="1"),!M.has(n.Name)&&(!(v instanceof RegExp)||v.test(n.PhysicalState))){for(var s=!0,l=n.PhysicalState,h=!0,c=0;c<n.Reactants.length;c++)if(!y[n.Reactants[c]]){h=!1;break}if(h)for(var u in y){var d=y[u].medVo,p=n.Reactants.indexOf(u),f=l[p],u=C[f];"g"===f&&(I=l.indexOf("l"),p=l.indexOf("i"),(I=(I=-1===I?1/0:I)<(p=-1===p?1/0:p)?I:p)<n.Reactants.length&&(u=DissolveVO));var I=nb.ORGANICGASARY.includes(d.name);if(!(d instanceof u||"TRUE"===n.isOrganic||x.includes(d.name)&&"g"===f||I&&d.type===MedicineType.GAS&&"SO2"!==d.name)){s=!1;break}}else s=!1;n.showEquationDat&&delete n.showEquationDat,!s&&"C2H4_O2"!==n.Name||M.set(n.Name,{equation:n,med:y})}}};for(e in m){var i=t(e);if("continue"!==i&&"object"===(0,_typeof2.default)(i))return i.v}}else if(m instanceof Object){m.equationAry&&g(m.equationAry,y);for(var n=0;n<b.length;n++){var a,r=b[n],o=m[r.name];o&&(a=(0,_assign.default)({},y),y[r.name]||(a[r.name]={medVo:r.med,modulus:0}),g(o,a))}}}(t[i.name],n),b.pop()}return M},ChemicalUtil.generalFindEquation=function(e,Se,we,Be,De,Pe,Le){var Ne=ChemicalUtil.privateFindReaction(e),Je=[];if(0<Ne.size){var _e,t=_createForOfIteratorHelper(Ne.keys());try{var i=function(){var e=_e.value,t={reactants:[],products:[]},i=(n=Ne.get(e)).med,n=n.equation;if((/^(S_O2|Na_Cl2|Mg_O2|Mg_N2|Mg_CO2|P4_O21|P_O2)/.test(n.Name)||"C_O2"===n.Name&&De.name&&De.name.includes("CombustionSpoon"))&&(n.Condition="△"),De&&De.medicineData.liquidAry.quickMap.get("植物油")&&"Fe(OH)2_O2_H2O"===n.Name)return"continue";if(De&&n.Condition&&-1!==n.Condition.indexOf("点燃")&&(!De.needBurn||-1===n.Name.indexOf("C2H5OH_C2H5OH"))&&"C2H4_O2"!==n.Name)return"continue";if(!("研磨"!==n.Condition||De&&De.isGrinding))return"continue";(/^(S_O2|Na_Cl2|Mg_O2|Mg_N2|Mg_CO2|P4_O21|P_O2)/.test(n.Name)||"C_O2"===n.Name&&De.name&&De.name.includes("CombustionSpoon"))&&(n.Condition="点燃");var a=(t.equationDat=n).Reactants.concat([]);Le&&a.includes(Le);var r=n.Products.concat([]),o=n.Modulus.concat([]),s=n.PhysicalState.concat([]);if(Be&&-1===s.indexOf(Be)||0===n.Speed)return"continue";for(var l=1/0,h=new _set2.default,c=new _set2.default,u=0,d=a[0]===a[1]?1:a.length,p=0;p<d;p++){var f=a[p];switch(s[p]){case"s":c.add(f);break;case"l":case"i":u=1;break;case"g":u=2}}for(var I,g,m,y,v=new _map2.default,C=0;C<a.length;C++){var M=a[C],b=o.shift(),x=s.shift(),O=M+x;if(!h.has(O)){h.add(O),i[M];var A=void 0,T=0;if(i[M].medVo,i[M].medVo.type===MedicineType.SOLID&&De&&!De.noNbGraphics){(A=new _set2.default).mol=0;var S=i[M].medVo;if(S.mol<=0){delete De.medicineData.solidAry[S.name],l=0;break}var w=De.medicineNBGraphicMap.get(S.name),B=0;if(!w||w.size<=0){var D=S.name.replace("·",""),P=De.blockMedicineMap.get(D);if("C2H4"===D&&(A.add(S),A.mol+=S.mol),Pe&&!P&&"Al2O3"===D?P=De.blockMedicineMap.get("Al"):Pe&&!P&&"Fe2O3"===D&&(P=De.blockMedicineMap.get("Fe")),Pe&&!P&&(P=De.blockMedicineMap.get(D+"_s")),Pe&&!P&&!0!==Pe){var L=Pe.solidAry[S.name];L&&(A.add(Pe),O=L.mol,A.mol+=O,B+=O,T+=L.getTemp()*O)}else if(Pe&&P){var N,J=_createForOfIteratorHelper(P);try{for(J.s();!(N=J.n()).done;){var _=N.value,E=_.medVo.mol;switch("Al2O3"!==D&&"Fe2O3"!==D||(E=_.impurity&&_.impurity[0]&&_.impurity[0].mol||0),u){case 0:break;case 1:"inWater"===_.posStatus&&(A.add(_),A.mol+=E,B+=E,T+=_.getTemp()*E);break;case 2:("inAir"===_.posStatus||"inContainerAir"===_.posStatus||"inContainerHasWater"===_.posStatus||"inWater"===_.posStatus&&_.inWaterCanBurn)&&(A.add(_),A.mol+=E,B+=E,T+=_.getTemp()*E)}}}catch(e){J.e(e)}finally{J.f()}}}if(w&&0<w.size){var k,q=_createForOfIteratorHelper(w);try{for(q.s();!(k=q.n()).done;){var R=k.value,F=R.solidMedicineInfo.get(S.name);if(F){var j,V=F.mol;switch(B+=V,u){case 0:var H=R.getTemp(),G=H>=n.MinTemp&&H<=n.MaxTemp;if(1===c.size)G&&(T+=H*V,A.add(R),A.mol+=V);else if(v.has(S.name))v.has(S.name)&&(A=v.get(S.name)).has(R)&&(T+=H*R.medVO.mol);else for(var z=R.napeBody.get_arbiters(),X=0;X<z.get_length();X++){var W=z.at(X).get_body2().get_userData().view;if(W&&W.medicines instanceof Function){var Z,U=_createForOfIteratorHelper(W.medicines());try{for(U.s();!(Z=U.n()).done;){var K,Y,Q=(0,_slicedToArray2.default)(Z.value,2),$=Q[0],ee=Q[1];c.has($)&&$!==S.name&&(K=W.getTemp(),(G||K>=n.MinTemp&&K<=n.MaxTemp)&&((Y=v.get($))||((Y=new _set2.default).mol=0,v.set($,Y)),Y.add(W),Y.mol+=ee.mol,A.add(R),T+=K*V,A.mol+=V))}}catch(e){U.e(e)}finally{U.f()}}}break;case 1:R.stayInLiquid(a)&&(A.add(R),A.mol+=V);break;case 2:R.isFloatage||(j=R.getTemp())>=n.MinTemp&&j<=n.MaxTemp&&(T+=j*V,A.add(R),A.mol+=V)}}else w.delete(R)}}catch(e){q.e(e)}finally{q.f()}var te=S.name.replace("·",""),ie=De.blockMedicineMap.get(te)||De.blockMedicineMap.get(S.name+"_s");if(ie&&0<ie.size){var ne,ae=_createForOfIteratorHelper(ie);try{for(ae.s();!(ne=ae.n()).done;){var re=ne.value.solidMedicineInfo;re&&re.get(S.name)&&0<re.get(S.name).getMol()&&(B+=re.get(S.name).getMol())}}catch(e){ae.e(e)}finally{ae.f()}}}0!==B&&(i[M].medVo.mol=B)}P=i[M].medVo.deepClone(),te=i[M].medVo,ie={med:P,originMed:i[M].medVo,modules:b,physicalState:x};A&&(ie.availableGraphics=A,0!==u&&2!==u||T===nb.DEFAULT_TEMP||0===A.mol||(x=(M=n.MaxTemp)<(x=T/A.mol)?M:x,isNaN(x)||(ie.med.setTemp(x),te.setTemp(x))),ie.med.mol=A.mol,ie.solidStatus=u),l>=P.mol/(b||1)&&(l=P.mol/(b||1)),t.reactants.push(ie)}}if(0===u)for(var oe=t.reactants,se=0;se<oe.length;se++){var le=oe[se],he=le.availableGraphics||new _set2.default,ce=le.med,ue=ce.name,de=le.modules,le=v.get(ue);if(le&&0<le.size){var pe,fe=_createForOfIteratorHelper(le.values());try{for(fe.s();!(pe=fe.n()).done;){var Ie,ge=pe.value;he.has(ge)||(he.add(ge),Ie=ge.solidMedicineInfo.get(ue).mol,he.mol+=Ie,ce.mol+=Ie,l+=Ie/de)}}catch(e){fe.e(e)}finally{fe.f()}}l>ce.mol/de&&(l=ce.mol/de)}if(l<=1e-16)return"continue";(t.maxReactableMol=l)>n.Speed&&(l=n.Speed),"S2O3!2_H!1"!==n.Name&&"Zn_H2SO4"!==n.Name&&"Zn_H!1"!==n.Name&&"CaCO3_H!1"!==n.Name||(g=1,y=De.getCurrentCapacity()/1e3||1e-20,I=0,a.forEach(function(e,t){0!==i[e].medVo.type&&(g*=i[e].medVo.getMol()/o[t]||0,I++)}),m="S2O3!2_H!1"===n.Name?.1:"CaCO3_H!1"===n.Name?1:2,g=Math.pow(g,1/(I||1))/y/m,y="CaCO3_H!1"===n.Name?.005:.1,l*=g=Math.min(10,Math.max(g,y))),"H2C2O4_KMnO4_H2SO4"===n.Name&&(y=(m=De.medicineData).getLiquidCapacity()/1e3||1e-20,y=((null===(m=m.liquidAry.quickMap.get("H2C2O4"))||void 0===m?void 0:m.mol)||0)/y,l*=Math.min(Math.max(y/.5,.1),10));for(var me=0;me<t.reactants.length;me++){var ye=t.reactants[me];ye.med.mol=l*ye.modules}var ve=!1;h.clear();for(var Ce=0;Ce<r.length;Ce++){var Me,be=r[Ce],xe=o.shift(),Oe=s.shift(),Ae=we.getMedicineData(be),Te=be+Oe;h.has(Te)||(be===Se&&(ve=!0),h.add(Te),Me=l*xe,function(){switch(!0){case Ae&&("Gas"===Oe||"g"===Oe):Ae=new GasVO(Ae,Me);break;case Ae&&("Liquid"===Oe||"l"===Oe):Ae=new LiquidVO(Ae,Me);break;case Ae&&("Solid"===Oe||"s"===Oe):Ae=new SolidVO(Ae,Me);break;case"i"===Oe:var e=be.split("!"),t=(0,_slicedToArray2.default)(e,2),e=t[0],i=t[1],i=(0,_parseInt2.default)(i),t=ChemicalConst.changeableIon[e];i=t?t.find(function(e){return Math.abs(e)===i}):ChemicalConst.ionMap[e],Ae=new IonVO({name:e,valence:i},Me)}}(),xe={med:Ae,modules:xe,physicalState:Oe},ve?t.products.unshift(xe):t.products.push(xe))}Je.push(t)};for(t.s();!(_e=t.n()).done;)i()}catch(e){t.e(e)}finally{t.f()}}return Je.sort(function(e,t){return t.equationDat.priority-e.equationDat.priority}),Je},ChemicalUtil.addAnyMedicine=function(t,e,i,n,a,r,o){if(t instanceof Array)for(var s=0;s<t.length;s++)ChemicalUtil.addAnyMedicine(t[s],e,i,n,a);else if(0!==t.mol)if(t.clone,Function,t.type===MedicineType.SOLID)if(e.noNbGraphics)e.medicineData.push(t.clone()),e.medicineData.solidAry[t.name].sediment=0;else if(0<t.mol)if("C12H22O11_H2SO4"!==r.Name&&"C12H22O11_H2SO41"!==r.Name||!e.isBeaker||(void 0===e.C_mol?e.C_mol=0:e.C_mol+=t.mol),i&&"Ag2O"!==t.name){var l,h=t.mol/i.size,c=_createForOfIteratorHelper(i);try{for(c.s();!(l=c.n()).done;){var u=l.value,d=t.clone();d.mol=h,u.addMedicine(d),n||(u.alpha=1),u.updateMedSize&&u.updateMedSize();var p,f=u.alpha;f<1&&((p=e.medicineData.solidAry[t.name])&&(r.sedimentNoFade?p.sediment=0:n&&(p.sediment+=(1-f)*h)))}}catch(e){c.e(e)}finally{c.f()}}else{var I=r.sedimentNoFade,g=null;I&&((g=LiquidUtil.getBottom(e.liquidVertex||e.liquidVertexUp))?((g=e.toLocal(g)).x=e.localBounds.x+e.localBounds.width/2,g.y-=10):g={x:e.localBounds.x+e.localBounds.width/2,y:e.localBounds.y+e.localBounds.height-10}),e.addMedicine(t,g,null,!I&&n),!I&&n&&(e.medicineData.solidAry[t.name].sediment+=t.mol)}else{var m=t.mol,y=e.medicineData.solidAry[t.name];y&&n&&(y.sediment+=t.mol);var v=i||e.medicineNBGraphicMap.get(t.name);if(v){var C,M=_createForOfIteratorHelper(v);try{for(M.s();!(C=M.n()).done;){var b=C.value,x=void 0,O=(x=b.solidMedicineInfo?b.solidMedicineInfo.get(t.name):b.solidAry[t.name])?x.mol:0;if(0<O){var A=-m<O?m:-O;if(b.isBlockMedicine&&(A/=v.size),b.addMedicine(t.deepClone(A)),b.updateMedSize&&b.updateMedSize(),0<=(m-=A))break}}}catch(e){M.e(e)}finally{M.f()}}else;}else{if(t.type===MedicineType.GAS){if(i){i.forEach(function(e){e.isBlockMedicine?1e-9<t.mol&&("Mg"===e.name||"Al"===e.name||"BlockFeIm"===e.constName||"ParaffinGlass"===e.constName?(e.calMedVo=t.deepClone(),e.reactCount=10):e.updateBubbleParticle(t)):"MedicineBottleWithHole"===e.name&&e.updateBubbleParticle(t)});I=e.h2o,y=0;0<(y=I?I.getMass():y)&&(D=t.getSolubility(),"SO2"===t.name&&(D*=ChemicalUtil.getSO2DissolveRate(e.medicineData)),0<(D=y/100*D/t.mm-((D=e.medicineData.dissolveAry.quickMap.get(t.name))?D.mol:0))&&(P=(t.mol>D?D:t.mol)/2,t.mol-=P,e.medicineData.push(new DissolveVO(t.dat,P))));var T=[],S=new _set2.default,w=0,B=!0;if(i.forEach(function(e){e.isFloatage&&(e.bubbleParticle?(w++,S.add(e)):T.push(e)),e.isBlockMedicine||(B=!1)}),B||o)return void(e.medicineData&&e.medicineData.push(t));T.sort(function(){return.5<Math.random()});var D=5e6*t.mol;if(2<=D){var P=Math.ceil(D/40),L=P-w;if(L<0){o=(0,_toConsumableArray2.default)(S);o.length=P,S=new _set2.default(o)}else if(0<L){var N,J=_createForOfIteratorHelper(T);try{for(J.s();!(N=J.n()).done;){var _=N.value;S.add(_);var E=_.bubbleParticle=ParticleUtil.getParticle(ParticleUtil.particles.solid_bubble);if(e.waterContainer.addChild(E),E.bind(_),0==--L)break}}catch(e){J.e(e)}finally{J.f()}}var k=2*((k=1/D*P)<.01?.01:k),q=-1*Math.min(500+8*D,1e3),R=90-180*MatrixUtil.retrieveRotation(e.worldTransform)/Math.PI,F=0,j=0;void 0===e.solidBubbleCount&&(e.solidBubbleCount=0),e.solidBubbleCount<-10&&(e.solidBubbleCount=-10),e.solidBubbleCount<=15&&(e.solidBubbleCount+=5,e.solidBubbleGroup||(e.solidBubbleGroup=e.initSolidBubble()));var V,H=_createForOfIteratorHelper(S);try{for(H.s();!(V=H.n()).done;){var G=V.value,z=G.bubbleParticle;z.loaded&&10<=e.solidBubbleCount&&(z.setParticleProp("minStartRotation",R-10),z.setParticleProp("maxStartRotation",10+R),z.setParticleProp("frequency",k),z.particle.acceleration.y=q),z.destroyCount=15;var X=e.toGlobal(G.position);F+=X.x,j+=X.y}}catch(e){H.e(e)}finally{H.f()}if(10<=e.solidBubbleCount&&0<S.size){var W,Z=F/S.size,U=j/S.size,K=e.toLocal({x:Z,y:U});for(W in e.solidBubbleGroup){var Y=e.solidBubbleGroup[W];Y.visible=!0,Y.loaded&&Y.setParticleProp("frequency",k),Y.position=K,Y.rotation=-MatrixUtil.retrieveRotation(e.worldTransform)}}else if(S.size<=0&&(e.solidBubbleCount=0),e.solidBubbleCount<=0)for(var Q in e.solidBubbleGroup)e.solidBubbleGroup[Q].visible=!1}}else if(n){D=t.mol,Z=e.h2o,U=0;if(0<(U=Z?Z.getMass():U)&&($=t.getSolubility(),"SO2"===t.name&&($*=ChemicalUtil.getSO2DissolveRate(e.medicineData)),0<($=U/100*$/t.mm-(($=e.medicineData.dissolveAry.quickMap.get(t.name))?$.mol:0))&&(ee=(t.mol>$?$:t.mol)/2,"NH3"===t.name&&"△"!==r.Condition&&(ee*=2),t.mol-=ee,e.medicineData.push(new DissolveVO(t.dat,ee)))),!(2e-7<t.mol))return;if(r&&"H2SO3_H2SO3"===r.Name)return;var $=(0,_parseInt2.default)(t.dat.color_gas||t.dat.color),$=isNaN($)?16777215:$,ee={};ee.endColor=ee.startColor=$=[$>>16,$>>8&255,255&$];D=2e6*D;ee.maxParticles=Math.ceil(100<D?100:D),ee.frequency=.01<1/D?1/D:.01,e.bubble.isReacting=60,ee._spawnTimer=0,e.changeBubbleStyle.call(e,ee,t.mol,a)}0<t.mol&&(t.isBubble=0)}e.medicineData.push(t)}},ChemicalUtil.genEffectFunc=function(e,T,S){var t=e.root.viewStack;if(e.hasReact&&!t.lastScaleTime&&(e.hasReact/=2,e.hasReact<1&&(e.hasReact=0)),!e.preventCalEffect)if(e.isReacting=!0,e.engine)e.medicineNBGraphicMap.forEach(function(e){e.forEach(function(e){return e.update(T)})}),e.isPourOut||e.isPouring||(ChemicalUtil.solidDeliquesce(e),0<e.hasReact&&(!(o=e.h2o)&&.01<e.currentCapacity&&(o=e.h2o=e.medicineData.liquidAry.quickMap.get("H2O")),ChemicalUtil.calOtherEquation(e,o,T),ChemicalUtil.calLiquidEquation(e,o,T),ChemicalUtil.calGasEquation(e,o,T))),e.isReacting=void 0;else{var n=e.getSolidMedicineInfo();if(e.container&&e.container.medicineData){var i=e.container,a=i.medicineData,r=a.solidAry,t=a.liquidAry,o=a.ionAry,s=a.dissolveAry,a=ChemicalUtil.openContainerGetGasAry(i,e.isBlockMedicine),l=[];if(!e.isBlockMedicine){if(r=(0,_assign.default)({},r),e.medicineData&&e.medicineData.solidAry){var h,c=e.medicineData.solidAry;for(h in c)r[h]||(r[h]=c[h])}for(var u in r)n.has(u)||l.push(r[u].deepClone())}var d,p=_createForOfIteratorHelper(n.keys());try{for(p.s();!(d=p.n()).done;){var f=d.value;e.medicineData.solidAry[f]&&l.push(e.medicineData.solidAry[f].deepClone())}}catch(e){p.e(e)}finally{p.f()}s=a.concat(t).concat(l).concat(o).concat(s),s=ChemicalUtil.generalFindEquation(s,void 0,i.medicineManager,void 0,i,!0);if(0<s.length&&ChemicalUtil.calOtherEquation(i,i.h2o,T,s,e),!e.isBlockMedicine)return}var i=e.getLiquidMedicineInfo(),s=e.getGasMedicineInfo(),I=[];if(n){var g,m=_createForOfIteratorHelper(n.values());try{for(m.s();!(g=m.n()).done;){var y=g.value;I.push(y)}}catch(e){m.e(e)}finally{m.f()}}if(i){var v,C=_createForOfIteratorHelper(i.values());try{for(C.s();!(v=C.n()).done;){var M=v.value;M.mol,I.push(M)}}catch(e){C.e(e)}finally{C.f()}}if(s){var b,x=_createForOfIteratorHelper(s.values());try{for(x.s();!(b=x.n()).done;){var O=b.value;I.push(O)}}catch(e){x.e(e)}finally{x.f()}}!function(b,x){var e=(0,_toConsumableArray2.default)(ChemicalUtil.privateFindReaction(x));if(0!==(e=e.filter(function(e){var t=e[0],e=e[1].equation;if(e&&"点燃"===e.Condition&&b.cannotBurn&&!/^(S_O2|Na_Cl2|Mg_O2|Mg_N2|Mg_CO2|P4_O21|P_O2)/.test(e.Name))return!1;if(e&&"点燃"===e.Condition&&b.isBlockMedicine&&n){var i=!0;if(e.Reactants.forEach(function(e){n.get(e)&&(i=!1)}),i)return!1}return!("Cu_O2"===t&&"BlockCu2"===b.name&&b.medicineData.solidAry.CuO&&b.medicineData.solidAry.CuO.mol>b.maxImpurityCuO)&&((!e||"FALSE"!==e.onlyBlock)&&(("Cotton"!==b.name||!e.PhysicalState.every(function(e){return"g"===e}))&&!("NO2_NO21"===t||"NO2_NO2"===t||"NO_O2"===t||"N2O4_N2O4"===t)))})).length){for(var t=0;t<e.length;t++)e[t]=e[t][1];e.sort(function(e,t){e=e.equation.priority||0;return(t.equation.priority||0)-e});var O=-1/0,A=0;x.forEach(function(e){e.type&&1===e.type&&e.getVol&&(A+=e.getVol())}),e.forEach(function(e){var d=e.equation,t=e.med;if(!d.Passivation){if(d.specialMedStatus){if(!isFinite(A)||0===A)return;var n,i=d.specialMedStatus.split(","),a=!0,r=_createForOfIteratorHelper(i);try{for(r.s();!(n=r.n()).done;)if("break"===function(){var t=n.value.split("_"),e=x.find(function(e){return t[0].includes("!")?e.type===MedicineType.ION&&e.searchName===t[0].replace("!",""):e.type===MedicineType.LIQUID&&e.name===t[0]});if(!e||!isFinite(e.mol))return a=!1,"break";var i=t[1].split("~"),e=e.mol/A*1e3;return e<=i[0]||e>i[1]?(a=!1,"break"):void 0}())break}catch(e){r.e(e)}finally{r.f()}if(!a)return}"Cu_HNO3"===d.Name&&b.getSelfContainer&&((h=b.getSelfContainer()).preventEquation||(h.preventEquation={}),h.preventEquation.H2O_NO2=10,h.preventEquation.H2O_N2O4=10);var p=d.Reactants,f=d.Modulus;if(d.PhysicalState){var o=d.PhysicalState;2===p.length&&p[0]===p[1]&&(p=[p[0]],f=f.slice(1),o=o.slice(1));var s=d.Products,l=+d.Speed,e=d.MinTemp,i=d.MaxTemp,h=p.length+s.length;h!==o.length||f.length;var c=0,u=[];if(p.forEach(function(e){e=t[e].medVo;u.push(e),c=Math.max(e.getTemp(),c)}),e<=c&&c<=i){var I=u.map(function(e,t){return e.getMol()/f[t]}).sort(function(e,t){return e-t})[0];if(!(I<=nb.MIN_DEVIATION)){e=l*T*10,i=b.getSelfParent&&b.getSelfParent();if(b.isBlockMedicine&&i&&i.name&&i.name.includes("CombustionSpoon")&&"inContainer"===i.posStatus&&(e*=.1),I="number"==typeof S?0==l?0:S<I?S:I:e<I?e:I,!0===S&&(I=e),("Na_H2O"!==d.Name||"BlockNa"!==b.constName||b.inH2O())&&0!==I){var g=b.container&&b.container.medicineData;if(g){for(var m=0,y=0;y<g.liquidAry.length;y++)m+=g.liquidAry[y].mol;for(var v=0;v<u.length;v++){var C=u[v];C.type===MedicineType.LIQUID&&(C=.05<C.mol/m?C.mol/m:.05,I*=C)}}e=d.priority||0;O<e?O=e:I/=1e3*(O-e)||1,u.forEach(function(t){var e=p.indexOf(t.name),i=f[e]*I,e=t.deepClone().setMol(-i);if(b.addMedicine(e),t.type===MedicineType.LIQUID&&g){var n=g.ionMedicineAry.findIndex(function(e){return e.name===t.name});if(-1!==n&&0<g.ionMedicineAry[n].mol){e=g.ionMedicineAry[n],i=(i=i)>e.mol?e.mol:i;d.priority<9900&&(e.mol-=i);for(var a=t.ions,r=i,o=0;o<a.length;o++){var s=a[o],l=g.ionAry.quickMap.get(s.name+s.valence);if(!l){g.ionMedicineAry.splice(n,1),r=0;break}r=Math.min(r,l.mol/s.count)}if(0<(r=r<0?0:r))for(var h=0;h<a.length;h++){var c=a[h],u=g.ionAry.quickMap.get(c.name+c.valence);if(!u){g.ionMedicineAry.splice(n,1);break}u.mol-=r*c.count}0<i-r&&t.setMol((t.mol||t.getMol())-(i-r))}}});var M=u.length;s.forEach(function(e,t){var i=f[t+M]*I,t=o[t+M],n=null;switch(t){case"s":n=SolidVO;break;case"l":n=LiquidVO;break;case"g":n=GasVO;break;default:return}i=new n(b.medicineManager.getMedicineData(e),i);"l"!==t&&i.setTemp(c),b.addMedicine(i,g?void 0:u)}),"C2H5OH_CuO"===d.Name?b.setReactStatus(ChemicalUtil.EquationMap.C2H5OH.O2.equationAry[0],1e10*I):b.setReactStatus(d,1e8*I)}}}}}})}}(e,I)}},ChemicalUtil.calGasEquation=function(e,t){var i,n=e.medicineData,a=n.gasAry,r=n.liquidAry.quickMap,o=n.dissolveAry,s=0,l=e.parent.h2o;if("Flume"===e.parent.name&&3<Math.abs(e.rotation)&&l&&(s+=l.getMass(),i=e.parent.medicineData.dissolveAry),t&&!(t.mol<1e-7)){s+=t.getMass();var h=1-(n.getLiquidAverageTemp()-nb.DEFAULT_TEMP)/(100-nb.DEFAULT_TEMP),t=n.getLiquidAverageTemp(),c=1;0<(t-=nb.DEFAULT_TEMP)&&(c=1-t/75);for(var u=0;u<a.length;u++){var d=a[u],p=Number(d.dat.boiling_point);if(!("TRUE"===d.dat["solution_".concat(d.name)]&&p&&d.getTemp()>=p)){if("Cl2"===d.name){var f=n.ionAry.quickMap.get("Cl-1");if(f&&.006<f.mol/n.getLiquidCapacity())continue}var I,g=void 0;null!=(g=d.getSolubility())&&("SO2"===d.name&&(g*=ChemicalUtil.getSO2DissolveRate(n)),(p=s/100*(g*=c)/d.mm*h)<0&&(p=1e-10),g=(f=o.quickMap.get(d.name))?f.mol:0,i&&(I=i.quickMap.get(d.name),g+=Math.max(I?I.getMol():0,0)),I=(1-g/p)/2*p,isNaN(I)||I<=0||((g=d.isBubble)<0?g=0:120<g&&(g=120),(d.isBubble=g)<1?("O2"==d.name?I=e.isOpen?4e-5*I:0:I*=2e-5,"CO2"==d.name&&isFinite(n.lastPh)&&(n.lastPh<6?I*=.25:8<n.lastPh?I*=2:I*=.5)):e.hasReact=nb.ACTIVE_COUNT,"SO2"===d.name&&(p=.2,(g=r.get("NaOH"))&&0<g.getMol()&&0<s&&(.01<(g=g.getMol()/s*1e3)&&(g<.1?p=.2+.8*(g-.01)/.09:g<11&&(p=1))),I*=p),0<(I=I>d.mol?d.mol:I)&&d.isBubble--,"NH3"===d.dat.chemical&&e.isOpen&&(I*=.2),f?f.mol+=I:n.push(new DissolveVO(d.dat,I)),e.coverBigBeaker&&(I*=.5),d.mol-=I))}}for(var m=0;m<o.length;m++){var y=o[m],v=y.getSolubility(),C=s/100*(v*=c)/y.mm*h,v=e.pascal/nb.PASCAL;(C*=v=Math.max(.5,Math.min(v,2)))<y.mol&&(v=a.quickMap.get(y.name),C=.001*(y.mol-C),v?v.mol+=C:n.push(new GasVO(y.dat,C)),y.mol-=C)}}},ChemicalUtil.openContainerGetGasAry=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=e.medicineData.gasAry,n=e.medicineManager.airGas,a=i;if(e.currentContainer&&e.currentContainer.medicineData)-1!==nb.INNER_CONTAINER.indexOf(e.name)?a=e.currentContainer.medicineData.gasAry:/PlasticInjector$/.test(e.name)?a=i:Math.abs(e.rotation)<3&&(a=m(i,e.currentContainer.medicineData.gasAry));else if(!e.coveredGasBottle||e.isCoverGS||e.coveredGasBottle.isCoverGS){if(nb.OPENAIRARY.has(e.name))a=m(i,n);else if(t&&e.isOpen){for(var r=0,o=0,s=[],l=0,h=i.length;l<h;l++){var c=i[l],u=c.getMol();"O2"!==c.name&&"N2"!==c.name&&(r+=u,s.push(c)),o+=u}r/o<.1&&(t=n[0].deepClone(),n=n[1].deepClone(),s.push(t,n),a=s)}}else{for(var d=[],p=e.coveredGasBottle.medicineData.gasAry,f=0;f<i.length;f++){var I=i[f].deepClone();d.push(I)}for(var g=0;g<p.length;g++)!function(e){var t=p[e],e=d.find(function(e){return e.name===t.name});e?e.mol+=t.mol:d.push(t)}(g);a=d}return a;function m(e,t){var i=[];return[].concat((0,_toConsumableArray2.default)(e),(0,_toConsumableArray2.default)(t)).forEach(function(t){var e=i.findIndex(function(e){return e.name===t.name});-1===e?i.push(t.deepClone()):i[e].mol+=t.mol}),i}},ChemicalUtil.calOtherEquation=function(container,h2oVo,dt,existEquations,reactionOri,fromEleMetal){var medicineData=container.medicineData,hIon=container.ionH,ohIon=container.ionOH,hCons;hIon&&ohIon&&h2oVo&&h2oVo.getVol()&&(hCons=0<ohIon.correctMol?1e-7*Math.sqrt(hIon.correctMol/ohIon.correctMol):hIon.correctMol/h2oVo.getVol()*1e3);var solidAry=[],prop;for(prop in medicineData.solidAry)solidAry.push(medicineData.solidAry[prop]);var gasAry=ChemicalUtil.openContainerGetGasAry(container),openContainerParent=container.currentContainer,equations,totalMedicineAry,equations;if(equations=existEquations||(totalMedicineAry=gasAry.concat(medicineData.liquidAry).concat(solidAry).concat(medicineData.ionAry).concat(medicineData.dissolveAry),ChemicalUtil.generalFindEquation(totalMedicineAry,void 0,container.medicineManager,void 0,container)),0<equations.length){var priorities=new _set2.default,liquidAverageTemp=medicineData.getLiquidAverageTemp(),gasVol=(container.getTotalCapacity()-container.getCurrentCapacity())/1e3;if(gasAry!==medicineData.gasAry){for(var gasVol=0,i=0;i<gasAry.length;i++)gasVol+=gasAry[i].getVol();gasVol/=1e3}if(equations=EquationUtil.filterEquation(equations,container,gasVol,reactionOri&&reactionOri.isBlockMedicine),equations&&0!==equations.length){equations.sort(function(){return Math.random()-.5});for(var firstEquationPriority={true:-1/0,false:-1/0},showEquations=[],_loop5=function _loop5(_i13){var equation=equations[_i13],equationDat=equation.equationDat,products=equation.products,reactants=equation.reactants;if(equationDat.Passivation||"C2H4_O2"===equationDat.Name)return showEquations.push({dat:equationDat,count:100}),"continue";if("CH3COO!1_H!1"===equationDat.Name&&medicineData.liquidAry.quickMap.get("H2SO4"))return"continue";if(("H2CO3_H2CO3"===equationDat.Name||"H2CO3_H2CO31"===equationDat.Name)&&ohIon&&hIon&&0<hIon.mol&&1.01<ohIon.mol/hIon.mol)return"continue";if("CO3!2_H!1"===equationDat.Name&&container.preventProduceHCO3)return"continue";if(/浓硫酸/.test(equationDat.Condition)){for(var totalVol=container.h2o&&container.h2o.getVol()||0,liquidAry=medicineData.liquidAry,density=0,j=0,_length=liquidAry.length;j<_length;j++){var liquid=liquidAry[j];if("H2SO4"===liquid.name){totalVol+=liquid.getVol(),totalVol/=1e3,density=liquid.mol/totalVol;break}}if(density<8)return"continue"}if("C6H12O6(葡萄糖)_Cu(OH)2"===equationDat.Name){if(1e-7<hCons)return"continue";var cuoh2=equation.reactants.find(function(e){return"Cu(OH)2"===e.originMed.name});if(cuoh2&&cuoh2.originMed.sediment<=0)return"continue"}if(!("TRUE"!==equationDat.onlyBlock||reactionOri&&reactionOri.isBlockMedicine))return"continue";var checkMol=1/0,physicalState=equationDat.PhysicalState,liquidIndex=physicalState.indexOf("l"),ionIndex=physicalState.indexOf("i");-1===liquidIndex?liquidIndex=ionIndex:-1!==ionIndex&&(liquidIndex=Math.min(liquidIndex,ionIndex));for(var gasIndex=physicalState.indexOf("g"),solidIndex=physicalState.indexOf("s"),gasEquationSpeedUp=!1,reactantLength=reactants.length,_j=0;_j<reactantLength;_j++){var react=reactants[_j];(0<react.originMed.isBubble||react.originMed.type===MedicineType.DISSOLVE)&&(gasEquationSpeedUp=!0,react.originMed.isBubble--);var mol=react.originMed.mol/react.modules,checkMol=mol<checkMol?mol:checkMol}if(gasIndex<reactantLength&&-1!==gasIndex&&liquidIndex<reactantLength&&-1!==liquidIndex&&!gasEquationSpeedUp&&"C2H4_O2"!==equationDat.Name&&"TRUE"!==equationDat.isOrganic&&(checkMol/=1e8),checkMol<1e-10&&reactantLength<=solidIndex)return"continue";var tempMed=reactants[0];if(tempMed.med.mol/tempMed.modules>checkMol)for(var _j2=0;_j2<reactants.length;_j2++){var _react=reactants[_j2];_react.med.mol=checkMol*_react.modules}var balanceIndex=void 0,reactIndex=void 0,averageTemp=0,maxReactableMol=reactants[0].med.mol/reactants[0].modules,reactSpeed=equationDat.Speed,maxReactableMol=reactSpeed*MAX_MULTIPLE<maxReactableMol?reactSpeed*MAX_MULTIPLE:maxReactableMol;reactionOri&&reactionOri.isBlockMedicine&&reactants.forEach(function(e){var t,i;e&&"g"===e.physicalState&&(t=e.med.name,i=reactionOri.getCurrentGas().find(function(e){return"O2"===e.name}),"O2"!==t||!i||0<(i=i.getMol())&&(e=reactSpeed>i/300/e.modules?i/300/e.modules:reactSpeed,reactSpeed=e=e<5e-7?5e-7:e))});for(var maxReactSpeed=10*reactSpeed,reactName=new _set2.default,redundant=new _set2.default,allSolid=new _set2.default,anySolid=void 0,liuqidEquation=!1,_j3=0;_j3<reactants.length;_j3++){var reactant=reactants[_j3],med=reactant.med,originMed=reactant.originMed;reactName.add(med.name+med.dat.valence+reactant.physicalState);var temp=averageTemp,temp=originMed.type===MedicineType.LIQUID||originMed.type===MedicineType.ION?liquidAverageTemp:med.getTemp?med.getTemp():averageTemp,averageTemp=(0,_parseFloat2.default)(temp<averageTemp?averageTemp:temp),originMol=originMed.mol;if(0===originMol){balanceIndex=1/0,maxReactSpeed=reactSpeed=0;break}originMed.type!==MedicineType.LIQUID&&originMed.type!==MedicineType.ION||(liuqidEquation=!0),reactant.availableGraphics&&reactant.availableGraphics.forEach(function(e){allSolid.add(e),anySolid=anySolid||e})}for(var reactIndex=equation.reactIndex,_j4=0;_j4<products.length;_j4++){var product=products[_j4],_med8=product.med,_physicalState=product.physicalState;_med8&&(_med8.dat,reactName.has(_med8.name+_med8.dat.valence+_physicalState)&&redundant.add(_med8.name+_med8.dat.valence+_physicalState))}var balanceIndex=equation.balanceIndex,curBalanceIndex=void 0,curReactIndex=void 0,maxMultiple,maxMultiple;if(equationDat.balanceIndex){if(equationDat.balanceIndex instanceof Function||(equationDat.balanceIndex=eval("(function(){return function(temp){return ".concat(equationDat.balanceIndex,"}})()"))),curBalanceIndex=equationDat.balanceIndex(averageTemp),curBalanceIndex<=balanceIndex)return"continue";reactSpeed*=(curBalanceIndex-balanceIndex)/curBalanceIndex}if(equationDat.maxReactIndex){equationDat.maxReactIndex instanceof Function||(equationDat.maxReactIndex=eval("(function(){return function(temp){return ".concat(equationDat.maxReactIndex,"}})()")));var maxReactIndex=equationDat.maxReactIndex(averageTemp);if(maxReactIndex<=reactIndex)return"continue"}if(equationDat.reactIndex){if(equationDat.reactIndex instanceof Function||(equationDat.reactIndex=eval("(function(){return function(temp){return ".concat(equationDat.reactIndex,"}})()"))),curReactIndex=equationDat.reactIndex(averageTemp),reactIndex<=curReactIndex)return"continue";var percent=(reactIndex-curReactIndex)/curReactIndex*2,percent=percent<1?1:percent;percent=1e3<percent?1e3:percent,reactSpeed*=percent}"TRUE"===equationDat.tempEffected&&(maxMultiple=(averageTemp+8)/40,maxMultiple=Math.max(.2,Math.min(maxMultiple,MAX_MULTIPLE)),"H2O2_H2O2"!==equationDat.Name&&"H2O2_FeCl3"!==equation.Name&&"H2O2_HCl"!==equationDat.Name||(maxMultiple=Math.max(.2,Math.pow(10,(averageTemp-25)/30))),reactSpeed*=maxMultiple,maxReactableMol=equation.maxReactableMol,reactants.forEach(function(e){e.med.mol*=maxMultiple}),products.forEach(function(e){e.med.mol*=maxMultiple})),reactSpeed=maxReactableMol<reactSpeed?maxReactableMol:reactSpeed,reactSpeed=maxReactSpeed<reactSpeed?maxReactSpeed:reactSpeed,reactSpeed=reGetBalance(reactants,products,reactSpeed,curBalanceIndex,curReactIndex),fromEleMetal&&(reactSpeed*=.01),container.name&&container.name.includes("CombustionSpoon")&&"inContainer"===container.posStatus&&(reactSpeed*=.7);var priority=equationDat.priority,tempPriority=firstEquationPriority[liuqidEquation],dis,targetTemp,temperature,_temperature;if(priority<tempPriority&&priority<9900&&(dis=1e3*(firstEquationPriority[liuqidEquation]-priority),reactSpeed/=dis),9900<priority&&(priorities.has(priority-1)||!h2oVo||0===h2oVo.mol))return"continue";if(reactSpeed<=1e-10){if(!(9900<priority))return"continue";if(reactSpeed<1e-16)return"continue"}container.hasReact=nb.ACTIVE_COUNT,priorities.add(priority),priority<9900&&(firstEquationPriority[liuqidEquation]=priority),equationDat.effectHeat&&(targetTemp=0<equationDat.effectHeat?1e10:-1e10,container.medicineData.increaseHeat(equationDat.effectHeat*reactSpeed*1e3,targetTemp),/I2_Mg_H2O/.test(equationDat.Name)&&35<h2oVo.getTemp()&&(temperature=400,container.increaseTemp&&container.increaseTemp(null,temperature,!0)),/Al_I2_H2O/.test(equationDat.Name)&&(_temperature=400,container.increaseTemp&&container.increaseTemp(null,_temperature,!0)));for(var reactIon=new _map2.default,gotIon=!1,_j5=0;_j5<reactants.length;_j5++){var _reactant=reactants[_j5],_med9=_reactant.med,modules=_reactant.modules,_originMed=_reactant.originMed;redundant.has(_med9.name+_med9.dat.valence+_reactant.physicalState)||_med9.type===MedicineType.ION&&(gotIon=!0,reactIon.set(_med9.name+_med9.dat.valence,{ion:_med9,connectMed:new _set2.default,modules:modules,sumMol:0,originMed:_originMed}))}if(gotIon){for(var ionMedicineAry=medicineData.ionMedicineAry,_liquidAry=medicineData.liquidAry,ionAry=medicineData.ionAry,indexMap=[1,0],_j6=0;_j6<ionMedicineAry.length;_j6++){var ionMedicine=ionMedicineAry[_j6],_liquid=_liquidAry.quickMap.get(ionMedicine.name);if(!(!_liquid||_liquid.mol<=0||ionMedicine.mol<=0)&&!("H2SO4"===ionMedicine.name&&"CH3COO!1_H!1"===equationDat.Name&&9900<equationDat.priority)){for(var ions=ionMedicine.ions,ionMol=ionMedicine.mol,k=0;k<ions.length;k++){var ionDat=ions[k],ion=ionAry.quickMap.get(ionDat.name+ionDat.valence);if(!ion){ionMol=0;break}var _mol6=ion.mol/ionDat.count;_mol6<ionMol&&(ionMol=_mol6)}if(ionMedicine.mol=ionMol,0!==ionMol){var maxMol=_liquid.mol;maxMol<ionMol&&(ionMedicine.mol=ionMol=maxMol);var index=void 0,connectIon=ions.filter(function(e,t){if(reactIon.has(e.name+e.valence))return index=t,!0});if(0<connectIon.length)if(1===connectIon.length){var _ion3=connectIon[0],obj=reactIon.get(_ion3.name+_ion3.valence),totalMol=_ion3.count*ionMol,anotherIon=ions[indexMap[index]];"OH"===_ion3.name&&"Al(OH)3_OH!1"===equationDat.Name&&_liquid.dat.kab||(obj.connectMed.add({mol:totalMol,count:_ion3.count,liquidVo:_liquid,ionMedVo:ionMedicine,anotherIon:anotherIon}),obj.sumMol+=totalMol)}else for(var w=0;w<connectIon.length;w++){var _ion4=connectIon[w],_obj4=reactIon.get(_ion4.name+_ion4.valence),_totalMol=_ion4.count*ionMol,res={mol:_totalMol,count:_ion4.count};0===w&&(res.liquidVo=_liquid,res.ionMedVo=ionMedicine),_obj4.connectMed.add(res),_obj4.sumMol+=_totalMol}}else ionMedicineAry.splice(_j6,1),_j6--}}var _iterator16=_createForOfIteratorHelper(reactIon.keys()),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _k4=_step16.value,_obj5=reactIon.get(_k4),sumMol=_obj5.sumMol,targetMol;_obj5.ion.mol>sumMol&&(_obj5.ion.mol=sumMol),"I3"!==_obj5.ion.name?(1e-14<Math.abs(_obj5.originMed.mol-sumMol)&&(_obj5.originMed.mol=sumMol),targetMol=_obj5.ion.mol/_obj5.modules,targetMol<reactSpeed&&(reactSpeed=targetMol)):_obj5.originMed.mol-=reactSpeed}}catch(err){_iterator16.e(err)}finally{_iterator16.f()}var _iterator17=_createForOfIteratorHelper(reactIon.values()),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var v=_step17.value;v.ion.mol=reactSpeed*v.modules}}catch(err){_iterator17.e(err)}finally{_iterator17.f()}}for(var productIon=new _map2.default,_j7=0;_j7<products.length;_j7++){var _product=products[_j7],_med10=_product.med,_modules=_product.modules,_temp6,_temp6,halfBoilingPoint,fromLiquid;_med10&&_med10.name&&(redundant.has(_med10.name+_med10.dat.valence+_product.physicalState)||(_med10.mol=reactSpeed*_modules,_med10.type!==MedicineType.ION?(_temp6=void 0,anySolid&&(_temp6=anySolid.getTemp?anySolid.getTemp():anySolid.medVO?anySolid.medVO.getTemp():nb.DEFAULT_TEMP,halfBoilingPoint=_med10.getBoilingPoint?_med10.getBoilingPoint()/2:1/0,_temp6=halfBoilingPoint<_temp6?halfBoilingPoint:_temp6),_med10.setTemp(anySolid&&"Mn2O7"!==_med10.name?_temp6:averageTemp),fromLiquid=liquidIndex<reactants.length&&-1!==liquidIndex,_med10.type===MedicineType.GAS&&openContainerParent&&-1!==nb.INNER_CONTAINER.indexOf(container.name)?ChemicalUtil.addAnyMedicine(_med10,openContainerParent,0<allSolid.size?allSolid:void 0,fromLiquid,dt,equationDat):("AgOH_AgOH"===equationDat.Name&&(fromLiquid=!0),ChemicalUtil.addAnyMedicine(_med10,container,0<allSolid.size?allSolid:void 0,fromLiquid,dt,equationDat,fromEleMetal))):(productIon.set(_med10.name,_med10),gotIon=!0)))}if(gotIon&&9900<equation.equationDat.priority&&2===productIon.size&&1===reactants.length){var _ionMedicineAry=medicineData.ionMedicineAry,liquidMed=reactants[0].med,ionMed=_ionMedicineAry.quickMap.get(liquidMed.name);ionMed?ionMed.mol+=reactSpeed:liquidMed.dat.ionize_by_effect||(liquidMed.type===MedicineType.ION?_ionMedicineAry.push(new IonMedVo(container,container.root.medicineManager.getMedicineData(liquidMed.name),reactSpeed)):_ionMedicineAry.push(new IonMedVo(container,liquidMed.dat,reactSpeed)));var _iterator18=_createForOfIteratorHelper(productIon.values()),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _v=_step18.value;medicineData.push(_v)}}catch(err){_iterator18.e(err)}finally{_iterator18.f()}return"continue"}for(var _loop6=function(e){var t=reactants[e],i=t.med,n=t.modules,a=t.originMed;if(redundant.has(i.name+i.dat.valence+t.physicalState))return"continue";if(i.mol=-reactSpeed*n,"C2H4"===i.name)return"continue";if(a.type===MedicineType.LIQUID&&"H2O"!==i.name){var r=medicineData.ionMedicineAry.findIndex(function(e){return e.name===a.name});if(-1!==r&&0<medicineData.ionMedicineAry[r].mol){e=medicineData.ionMedicineAry[r],n=(n=-i.mol)>e.mol?e.mol:n;equationDat.priority<9900&&(e.mol-=n);for(var o=a.ions,s=n,l=0;l<o.length;l++){var h=o[l],c=medicineData.ionAry.quickMap.get(h.name+h.valence);if(!c){medicineData.ionMedicineAry.splice(r,1),s=0;break}s=Math.min(s,c.mol/h.count)}if(0<(s=s<0?0:s))for(var u=0;u<o.length;u++){var d=o[u],p=medicineData.ionAry.quickMap.get(d.name+d.valence);if(!p){medicineData.ionMedicineAry.splice(r,1);break}p.mol-=s*d.count}0<n-s&&a.setMol((a.mol||a.getMol())-(n-s))}}i.type!==MedicineType.ION&&(i.type===MedicineType.GAS&&openContainerParent&&-1!==nb.INNER_CONTAINER.indexOf(container.name)?ChemicalUtil.addAnyMedicine(i,openContainerParent,t.availableGraphics,void 0,dt,equationDat):equationDat.priority<9900&&ChemicalUtil.addAnyMedicine(i,container,t.availableGraphics,void 0,dt,equationDat))},_j8=0;_j8<reactants.length;_j8++)var _ret5=_loop6(_j8);if(gotIon){var getName=function(e,t){e=1<t?1<e.match(/[A-Z]/g).length?"(".concat(e,")").concat(t):e+t:e;return e},findMaxNum=function e(t,i,n,a){return t<n||i<n?a:e(t,i,n+1,a=t%n==0&&i%n==0?n:a)},recalBalance=function(a,r,o,s){var e=medicineData.ionMedicineAry,t=medicineData.ionAry,l=Math.min(a.mol,r.mol/3),h=3*l;a.mol-=l,r.mol+=h;for(var i=[],n=[],c=0;c<t.length;c++){var u=t[c];0<u.mol&&(0<u.valence?i:n).push({ion:u})}var d,p,f,I,g,n=n.filter(function(e){var t=e.ion,i=a.valence*-t.valence/findMaxNum(a.valence,-t.valence,1,1),n=i/a.valence,i=i/-t.valence,t=getName(o,n)+getName(t.name,i),i=container.medicineManager.getMedicineData(t);return e.medName=t,e.mol=l/n,i&&i.ions}).sort(function(e,t){return t.ion.mol-e.ion.mol}),m=(i=i.filter(function(e){var t=e.ion,i=-r.valence*t.valence/findMaxNum(-r.valence,t.valence,1,1),n=i/t.valence,i=i/-r.valence,t=getName(t.name,n)+getName(s,i),n=container.medicineManager.getMedicineData(t);return e.medName=t,e.mol=h/i,n&&n.ions}).sort(function(e,t){return t.ion.mol-e.ion.mol}))[0],y=n[0];m&&y&&(I=(f=m.ion.valence*-y.ion.valence/findMaxNum(m.ion.valence,-y.ion.valence,1,1))/m.ion.valence,g=f/-y.ion.valence,d=getName(m.ion.name,I)+getName(y.ion.name,g),p=h/y.ion.valence/g,f=container.medicineManager.getMedicineData(m.medName),I=container.medicineManager.getMedicineData(y.medName),g=container.medicineManager.getMedicineData(d),f=new LiquidVO(f,m.mol),I=new LiquidVO(I,y.mol),g=new LiquidVO(g,p),medicineData.push([f,I,g]),e.forEach(function(e){e.name===m.medName&&e.setMol(e.getMol()+m.mol),e.name===y.medName&&e.setMol(e.getMol()+y.mol),e.name===d&&e.setMol(e.getMol()+p)}))},remainIon={true:new _map2.default,false:new _map2.default},_iterator19=_createForOfIteratorHelper(reactIon.keys()),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var ionName=_step19.value,_obj6=reactIon.get(ionName),_ion5=_obj6.ion,_sumMol=_obj6.sumMol,connectMed=_obj6.connectMed;if(!(_sumMol<=0)){var _dis=_ion5.mol+_sumMol;_dis<0&&(_ion5.mol=-_sumMol,_obj6.originMed.mol=_sumMol);var connectMedAry=(0,_toConsumableArray2.default)(connectMed),tempSumMol=_sumMol,tempIonMol=_ion5.mol,sameMed=connectMedAry.find(function(e){return!e.anotherIon}),dltMol,dltMol;if(sameMed&&(dltMol=tempIonMol/sameMed.count,dltMol=sameMed.mol>-dltMol?dltMol:-sameMed.mol,0!==dltMol&&(sameMed.ionMedVo&&(sameMed.ionMedVo.mol+=dltMol,sameMed.liquidVo.mol+=dltMol),tempIonMol-=sameMed.count*dltMol,tempSumMol+=sameMed.count*dltMol),connectMedAry.splice(connectMedAry.indexOf(sameMed),1)),0!==tempSumMol)for(var _i15=0;_i15<connectMedAry.length;_i15++){var _med11=connectMedAry[_i15],_targetMol=_med11.mol/tempSumMol*tempIonMol/_med11.count;_med11.ionMedVo&&(_med11.ionMedVo.mol+=_targetMol,_med11.liquidVo.mol+=_targetMol);var _anotherIon=_med11.anotherIon,map,_temp7;_anotherIon&&(map=remainIon[0<_anotherIon.valence],_temp7=map.get(_anotherIon.name),_temp7||(_temp7={valence:_anotherIon.valence,mol:0},map.set(_anotherIon.name,_temp7)),_temp7.mol+=_anotherIon.count*-_targetMol)}medicineData.push(_ion5)}}}catch(err){_iterator19.e(err)}finally{_iterator19.f()}var _iterator20=_createForOfIteratorHelper(productIon.keys()),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var name=_step20.value,ionVo=productIon.get(name),_map=remainIon[0<ionVo.dat.valence],_temp8=_map.get(name);_temp8||(_temp8={valence:ionVo.dat.valence,mol:0},_map.set(name,_temp8)),_temp8.mol+=ionVo.mol,medicineData.push(ionVo)}}catch(err){_iterator20.e(err)}finally{_iterator20.f()}var needAddLiquid=new _map2.default,positive=remainIon.true,negative=remainIon.false,_iterator21=_createForOfIteratorHelper(positive.keys()),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var po=_step21.value,poDat=positive.get(po),_iterator23=_createForOfIteratorHelper(negative.keys()),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var ne=_step23.value,neDat=negative.get(ne),needPlus,_v2,pIndex,nIndex,_name,dat,pPerMol,nPerMol,minMol;0!==poDat.mol&&0!==neDat.mol&&("H"===po&&"OH"===ne||("Fe"!==po||"SCN"!==ne?"FeOH"===po&&"SCN"===ne||"Ag(NH3)2"===po&&"OH"===ne||(needPlus=0,"H"===ne[0]&&"H"===po&&(ne=ne.substring(1),neDat.valence--,needPlus++),_v2=poDat.valence*-neDat.valence/findMaxNum(poDat.valence,-neDat.valence,1,1),pIndex=_v2/poDat.valence,nIndex=_v2/-neDat.valence,_name=getName(po,pIndex)+getName(ne,nIndex),needPlus&&(neDat.valence+=needPlus,_v2=poDat.valence*-neDat.valence/findMaxNum(poDat.valence,-neDat.valence,1,1),pIndex=_v2/poDat.valence,nIndex=_v2/-neDat.valence),dat=container.medicineManager.getMedicineData(_name),dat&&(pPerMol=poDat.mol/pIndex,nPerMol=neDat.mol/nIndex,minMol=nPerMol<pPerMol?nPerMol:pPerMol,poDat.mol-=minMol*pIndex,neDat.mol-=minMol*nIndex,needAddLiquid.set(_name,{dat:dat,mol:minMol}))):recalBalance(poDat,neDat,po,ne)))}}catch(err){_iterator23.e(err)}finally{_iterator23.f()}}}catch(err){_iterator21.e(err)}finally{_iterator21.f()}var _iterator22=_createForOfIteratorHelper(needAddLiquid.keys()),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var _name2=_step22.value,needAddObj=needAddLiquid.get(_name2),shouldMol=needAddObj.mol,liquidVo=medicineData.liquidAry.quickMap.get(_name2),ionMedVo=medicineData.ionMedicineAry.quickMap.get(_name2),_dat=needAddObj.dat;liquidVo?liquidVo.mol+=shouldMol:(liquidVo=new LiquidVO(_dat,shouldMol),medicineData.push(liquidVo)),ionMedVo?ionMedVo.mol+=shouldMol:(ionMedVo=new IonMedVo(container,_dat,shouldMol),medicineData.ionMedicineAry.push(ionMedVo));var ary=ionMedVo.ions,currentMol=ionMedVo.mol;if(ary&&ary.length){for(var _i16=0;_i16<ary.length;_i16++){var tempIon=ary[_i16],_ion6=medicineData.ionAry.quickMap.get(tempIon.name+tempIon.valence),_mol7=_ion6?_ion6.mol:0;_mol7/=ary[_i16].count,currentMol=_mol7<currentMol?_mol7:currentMol}var disMol=ionMedVo.mol-currentMol;0<disMol&&(liquidVo.mol-=disMol,ionMedVo.mol-=disMol)}}}catch(err){_iterator22.e(err)}finally{_iterator22.f()}medicineData.liquidAry.newMedicineAry=new _set2.default}var count=Math.round(1e10*reactSpeed),_dat2;priority<9900&&(count*=priority||1),"CH3COOH_C2H5OH_H2SO4"===equationDat.Name&&(medicineData.addIonHeatValue=0),(equation.visible||equation.gotGas)&&0<count&&(_dat2=equationDat,equation.showEquationDat&&(_dat2.showEquationDat=equation.showEquationDat),showEquations.push({dat:_dat2,count:count}))},_i13=0;_i13<equations.length;_i13++)var _ret4=_loop5(_i13);var showLength=showEquations.length,eq;1===showLength&&(eq=showEquations[0],"H2CO3_H2CO3"===eq.dat.Name&&(showEquations.length=0));for(var _i14=0,length=showEquations.length;_i14<length;_i14++){var _eq=showEquations[_i14];container.setReactStatus(_eq.dat,_eq.count)}}}function reGetBalance(e,t,i,n,a){if(!n&&!a)return i;var r,o;if(n=n||1/0,a=a||-1/0,isNaN(i))return 0;i*=2;for(var s=0;void 0===r&&void 0===o||n<r||o<a;){if(r=1,s++,0===i||5<s&&i<2e-10){i=2e-10;break}i/=2;for(var l=0;l<e.length;l++){var h=e[l];h.vol&&(r/=Math.pow((h.originMed.mol-i*h.modules)/h.vol,h.modules))}if(o=1/r,n!==1/0)for(var c=0;c<t.length;c++){var u=t[c];u.vol&&(r*=Math.pow((u.existMol||0+i*u.modules)/u.vol,u.modules))}}return isNaN(r),i}},ChemicalUtil.separateOut=function(e,t,i,n,a){t=t.getVol()/100*e/n.mm,e=n.getMol();if(!(-1e-6<t-e)){a.hasReact+=2;var r=e-t,e=a.medicineNBGraphicMap.get(n.name),o=new SolidVO(n.dat,n.mol);n.setMol(t),"C6H5COOH"!==n.name||a.medicineData.liquidAry.quickMap.get("C7H8")||(a.benjsCount?a.benjsCount<100&&(a.benjsCount+=10):a.benjsCount=5),e&&e.forEach(function(e){var t=e.getMaxStableMol(o);(e.getSolidMedicineInfo().get(o.name)?e.getSolidMedicineInfo().get(o.name).mol:0)<=t&&(e.addMedicine(o.deepClone().setMol(r)),e.updateMedSize(),r=0)});var s,t=a.liquidVertex;n=t?(s=a.toLocal(t[0]),a.toLocal(t[t.length-1])):(s={x:(p=a.localBounds).x,y:p.y+p.height},{x:p.x+p.width,y:p.y+p.height});var l=Math.abs(n.x-s.x),h=(s.x+n.x)/2,c=[];if(r){var u=r;if(u<1e-10)return;o.dat.density_solid;var d=new nape.phys.Material(.2,4,5,(0,_parseFloat2.default)(o.dat.density_solid),500),e={x:h+(.5<Math.random()?1:-1)*Math.random()*l*.3,y:s.y-Math.random()-5},t=o.deepClone(u),p=new NBGraphics(a,d,t,e);if(p.radius>p.MAX_RADIUS){var f=u,I=(p.MAX_RADIUS-t.b)/t.k;for(p.destroy();I<f;){var g=o.deepClone(I),m={x:h+(.5<Math.random()?1:-1)*Math.random()*l*.3,y:s.y-Math.random()-5},m=new NBGraphics(a,d,g,m);a.medicineData.push(g.clone(),!1,u),c.push(m),f-=I}n=o.deepClone(f),e=new NBGraphics(a,d,n,e);a.medicineData.push(n.clone(),!1,u),c.push(e)}else a.medicineData.push(t.clone()),c.push(p)}a.addNBGraphic(o.name,c)}},ChemicalUtil.fitToIonEquationToChemEquation=function(e,t,i,n,a){var r={equationDat:e,reactants:[],products:[]},o=r.reactants,s=r.products,l=e.Modulus;"Fe(OH)2"!==i&&(e.priority=9901);for(var h=0,c=t.length;h<c;h++){var u=t[h],u=new IonVO(u,l[h]);o.push({med:u})}i=new("solid"===a?SolidVO:LiquidVO)(n.medicineManager.getMedicineData(i),l[t.length]);return s.push({med:i}),r},ChemicalUtil.calLiquidEquation=function(s,l,h){var c=s.medicineManager;if(liquidStrong(s,h,c,l),l){var e=s.medicineData,u=l,d=e.ionMedicineAry.quickMap.get("H2O");d&&(l=l.deepClone().setMol(l.getMol()-d.getMol()));var a=new _map2.default,e=e.liquidAry,r=new _map2.default;e.forEach(function e(t){var i=t.name;t.dat||ChemicalUtil.splitMedicineNameToIon(i)&&(t.dat=s.medicineManager.getMedicineData(i));var n=t.dat?t.dat.ions:null;n&&2<=n.length&&(t.dat||(t.dat=s.medicineManager.getMedicineData(t.name)),a.set(i,{vo:t,ary:n}),r.set(n[0].name,n[0]),r.set(n[1].name,n[1]),n.forEach(e))});var t,e=(0,_toConsumableArray2.default)(r.values()),i=ChemicalUtil.getChemicalsFromIons(e,c);for(t in i){var n=i[t],o=n.dat.ions;o&&2<=o.length&&(a.has(t)||a.set(t,{vo:n,ary:o}))}var p=[],f=new _map2.default;a.forEach(function(e,t){var i,n,a=e.ary,r=e.vo,o=r.dat||c.getMedicineData(t);o&&("kab"in o?((i=e.vo).clone&&(i={dat:i.dat,name:i.name,mol:i.mol},e.vo=i),i.valence||i.dat.valence||(n=s.medicineData.liquidAry.quickMap.get(i.name),o=s.medicineData.ionMedicineAry.quickMap.get(i.name),e.liquid=n?n.mol:0,e.ionMed=o?o.mol:0),p.push(e),f.set(t,{svo:i,ions:i.dat.ions}),f.set(a[0].name,{svo:a[0],ions:ChemicalUtil.splitMedicineNameToIon(a[0].name)}),f.set(a[1].name,{svo:a[1],ions:ChemicalUtil.splitMedicineNameToIon(a[1].name)})):calStrongElectrolyte(s,h,e.vo,l),r.type!==MedicineType.SOLID&&r.type!==MedicineType.LIQUID&&r.type!==MedicineType.GAS||(e.vo=r.deepClone()),"H2O"!==t&&"H2SO4"!==t||(t=e.vo,e.vo={dat:t.dat,name:t.name,mol:t.mol},p.push(e),t=u,e.liquid=t?t.mol:0,e.ionMed=d?d.mol:0,f.set(a[0].name,{svo:a[0]}),f.set(a[1].name,{svo:a[1]})))}),p.forEach(function(e){calWeakElectrolyte(s,e,l)}),calStrongElectrolyte(s,h,u.deepClone(),l)}},ChemicalUtil.getSO2DissolveRate=function(e){var t=e.liquidAry.quickMap.get("H2SO4"),e=e.getLiquidCapacity()/1e3;if(t&&1e-7<t.getMol()&&0<e){e=t.getMol()/e;return 8<=e?0:(8-e)/8}return 1},ChemicalUtil.solidDeliquesce=function(o){var e=o.medicineNBGraphicMap.get("NaOH");if(e){var t=o.medicineData.solidAry.NaOH;if(t&&!(t.getMol()<1e-7)){var i=[],n=o.medicineData.gasAry.quickMap.get("H2O"),a=o,s=o.medicineManager.getMedicineData("H2O"),r=(0,_toConsumableArray2.default)(e),l=a.medicineData.liquidAry,h=l.quickMap.get("H2O"),e=l.quickMap.get("C2H5OH"),l=h?h.getMass():0,h=e?e.getMass():0;if(l||h){e=t.getMass();if(e<9*(l+h))return;for(var e=1<(e=50*l/e)?1:e,c=Math.floor(e*r.length),u=0,d=0;d<c;d++){var p=r[d];p.NaOHCreaseHotNum||(p.NaOHCreaseHotNum=0),p.NaOHCreaseHotNum<nb.NaOHCreaseHotMax&&(r[d].NaOHCreaseHotNum++,u++)}a.medicineData.increaseHeat(u/c*t.getMol()*2200/nb.NaOHCreaseHotMax)}t=!!((t=n)&&1e-7<t.getMol());!function(){if(a.isCovered())return!1;if(a.isCoverGS&&!a.openArea)return!1;if(a.chooseArea){for(var e=0;e<a.chooseArea.children.length;e++)if(!a.chooseArea.children[e].currentPlug)return!1}else if(a.currentPlug)return!1;return!0}()?t&&r.forEach(function(e){e.isFloatage||i.push(e)}):r.forEach(function(e){e.isFloatage||i.push(e)}),0<i.length&&function(e,t,i){var n=t.length,a=2e-7*t.length;i&&(a=Math.min(e.getMol(),a));var r=o.medicineData.liquidAry.find(function(e){return"H2O"===e.name});r?r.setMol(r.getMol()+a):o.medicineData.liquidAry.push(new LiquidVO(s,a));i&&e.setMol(e.getMol()-n*a);t.forEach(function(e){e.alpha>nb.minDeliquesce&&(e.alpha-=nb.deliquesceNum)})}(n,r,t)}}},ChemicalUtil.calculateGasLiquidFinish=function(e){var t=e.medicineData,i=t.gasAry,n=t.liquidAry,a=t.dissolveAry,t=t.ionAry,a=a.concat(i);i.clear();for(var r=0;r<a.length;r++){var o=a[r];o.type===MedicineType.GAS&&(a[r]=new DissolveVO(o.dat,o.getMol()))}t=a.concat(n).concat(t),t=ChemicalUtil.generalFindEquation(t,null,e.medicineManager,null,e);ChemicalUtil.calOtherEquation(e,e.medicineData.liquidAry.quickMap.get("H2O"),.1666,t)},module.exports=ChemicalUtil},function(e,i,t){"use strict";var n=t(529);i.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},i.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},i.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var a={deg:"^\\circ"};i.escape=function(e){return n(e,{preserveFormatting:!0})},i.toSymbol=function(e,t){return(t=void 0!==t&&t)?a.hasOwnProperty(e)?a[e]:"\\mathrm{"+i.escape(e)+"}":i.symbols.hasOwnProperty(e)?i.symbols[e]:i.escape(e)}},function(e,t,i){e.exports=i(446)},function(e,t,i){e.exports=i(485)},function(e,t,i){"use strict";var f={},g=i(131),m=i(97);f.getArea=function(e){return f.getRealArea(e)/nb.PIXELS_PER_ML},f.getRealArea=function(e){if(!e||e.length<=0)return 0;var t=e.length,i=0;if(e[0].get_x)for(var n=0;n<t;n++){var a=e[n],r=e[(n+1)%t];i+=a.get_x()*r.get_y()-r.get_x()*a.get_y()}else for(var o=0;o<t;o++){var s=e[o],l=e[(o+1)%t];i+=s.x*l.y-l.x*s.y}return(i=i<0?-i:i)/2||0},f.lineIntersect=function(e,t,i){for(var n=[],a=e.length,r=t.y===i.y,o=t.y,s=0;s<a;s++){var l,h=e[s],c=(s+1)%a,u=e[c],d=h.x,p=h.y,f=u.x,I=u.y;g.isParallel(h,u,t,i)||(r&&o<=p==I<=o?((l=new m).x=(f-d)/(I-p)*(o-p)+d,l.y=o,l.vertexA=s,l.vertexB=c,n.push(l)):(u=g.lineIntersect(t,i,h,u)).x>=d==u.x<=f&&(u.vertexA=s,u.vertexB=c,n.push(u)))}return n},f.bottomLineIntersect=function(e,t,i){for(var n={x:-1/0,y:-1/0},a=e.length,r=t.y===i.y,o=t.y,s=0;s<a-1;s++){var l,h=e[s],c=e[(s+1)%a],u=h.x,d=h.y,p=c.x,f=c.y;g.isParallel(h,c,t,i)||(r&&o<=d==f<=o?((l=new m).x=(p-u)/(f-d)*(o-d)+u,l.y=o,l.pa=h,l.pb=c,l.y>n.y&&l.y<i.y&&(n=l)):(l=g.lineIntersect(t,i,h,c)).x>=u==l.x<=p&&(l.pa=h,l.pb=c,l.y>n.y&&l.y<i.y&&(n=l)))}if(isFinite(n.y))return n},f.containsPoint=function(e,t){if(e&&t){for(var i=t.x,n=t.y,a=!1,r=0,o=e.length-1;r<e.length;o=r++){var s=e[r].x,l=e[r].y,h=e[o].x,c=e[o].y;n<l!=n<c&&i<(h-s)*(n-l)/(c-l)+s&&(a=!a)}return a}},f.minkowskiDifference=function(e,t){for(var i=e.length,n=t.length,a=new Array(i*n),r=0,o=0;o<i;++o)for(var s=e[o],l=0;l<n;++l){var h=t[l];a[r++]=[s.x-h.x,s.y-h.y]}return f.createConvexHull(a)},f.createConvexHull=function(e){for(var t,i=0,n=e[0][0],a=1;a<e.length;a++)(n<(t=e[a][0])||t===n&&e[a][1]<e[i][1])&&(i=a,n=t);var r,o,s,l,h,c=e.length,u=[],d=0,p=i,f=[0,0],I=[0,0];do{for(u[d]=p,r=0,o=1;o<c;++o)r!==p?(f[0]=e[r][0]-e[u[d]][0],f[1]=e[r][1]-e[u[d]][1],I[0]=e[o][0]-e[u[d]][0],I[1]=e[o][1]-e[u[d]][1],(s=f[0]*I[1]-f[1]*I[0])<0&&(r=o),l=Math.sqrt(I[0]*I[0]+I[1]*I[1]),h=Math.sqrt(f[0]*f[0]+f[1]*f[1]),0==s&&h<l&&(r=o)):r=o}while(++d,(p=r)!==i);var g=[];for(a=0;a<d;++a)g.push(e[u[a]]);return g},f.getMassCenter=function(e){for(var t,i,n,a=0,r=0,o=e.length-1,s=0;s<e.length;o=s++)t=e[s],n=(i=e[o]).cross(t),a+=(t.x+i.x)*n,r+=(t.y+i.y)*n;return{x:a/(n=6*f.getRealArea(e)),y:r/n}},f.getAABB=function(e){for(var t={x:e[0].x,y:e[0].y},i={x:t.x,y:t.y},n=1;n<e.length;n++){var a=e[n];t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y),i.x=Math.max(i.x,a.x),i.y=Math.max(i.y,a.y)}return{x:t.x,y:t.y,width:i.x-t.x,height:i.y-t.y}},f.drawPoly=function(e,t){t||(void 0===window.gra&&(window.gra=new PIXI.Graphics,chemicalMain.viewStack.addChild(window.gra)),t=window.gra),t.clear(),t.beginFill(16711680,.5);for(var i=0;i<e.length;i++)t.drawCircle(e[i].x,e[i].y,6)},f.getMinDistance=function(e,t,i){var n,a,r,o=e.length,s=1/0;t.sub||(t=new m(t.x,t.y));for(var l=0;l<o;l++){var h=e[l],c=e[(l+1)%o];c.sub||(h=new m(h.x,h.y),c=new m(c.x,c.y));var u,d=c.sub(h),p=t.sub(h),f=p.projectTo(d),I=0;f.length()>d.length()||f.dot(d)<0?(I=Math.min(t.sub(h).length(),t.sub(c).length()),u=t.sub(h).length(),d=t.sub(c).length(),I<s&&(n=h,a=c,s=I,r=d<u?{x:c.x,y:c.y}:{x:h.x,y:h.y})):(I=p.sub(f).length())<s&&(s=I,a=c,r={x:(n=h).x+f.x,y:h.y+f.y})}return i&&(i.minDis=s,i.projectPoint=r,i.pa=n,i.pb=a),s},f.getFireMinDistance=function(e,t,i){var n,a,r,o=e.length,s=1/0;t.sub||(t=new m(t.x,t.y));for(var l=0;l<o;l++){var h=e[l],c=e[(l+1)%o];c.sub||(h=new m(h.x,h.y),c=new m(c.x,c.y));var u,d,p=c.sub(h),f=t.sub(h),I=f.projectTo(p),g=0;I.length()>p.length()||I.dot(p)<0?(u=t.sub(h).length(),d=t.sub(c).length(),(g=Math.min(u,d))<s&&(p=void 0,(p=d<u?{x:c.x,y:c.y}:{x:h.x,y:h.y}).x<=t.x&&p.y<=t.y&&(r=p,n=h,a=c,s=g))):(g=f.sub(I).length())<s&&((I={x:h.x+I.x,y:h.y+I.y}).x<=t.x&&I.y<=t.y&&(s=g,n=h,a=c,r=I))}return i&&(i.minDis=s,i.projectPoint=r,i.pa=n,i.pb=a),s},f.getMinPerpendicularDistance=function(e,t){for(var i=e.length,n=1/0,a=0;a<i;a++){var r=e[a],o=e[(a+1)%i].sub(r);t.sub;var s=t.sub(r),r=s.projectTo(o);r.length()>o.length()||r.dot(o)<0||(r=s.sub(r).length())<n&&(n=r)}return n},f.getDivideSpace=function(e,t,i,n){var a,r;if(n)a=t,p=i,r=n;else{if(!t||!i)return;a=(r=f.lineIntersect(e,t,i))[0],p=r[r.length-1]}if(void 0===a||void 0===p)return null;var o=a.y,s=[],l=[];s.push(a),l.push(a);for(var h=a.vertexB,c=1;;){var u=(h-1+e.length)%e.length,d=h%e.length;if(c<r.length&&g.containsPoint(r[c],e[u],e[d])&&(s.push(r[c]),l.push(r[c]),c++),e[d].y>=o&&s.push(e[d]),e[d].y<=o&&l.push(e[d]),++h%e.length===a.vertexB)break}var p=l.indexOf(e[0]);return-1!==p&&(p===l.length-1?l.unshift(l.pop()):l=l.splice(p).concat(l)),{result:r,up:l,down:s}},f.iterator=function(e,t,i,n){if(!e||!e.length)return null;var a=f.getArea(e)/n;if(a<=0)return null;var r=.999*(1-i/a),o=new m(t.x,t.y+t.height*r),a=new m(t.x+t.width,t.y+t.height*r),o=f.getDivideSpace(e,o,a);if(null===o)return null;a=f.getArea(o.down)/n;return!(1<Math.abs(a-i))||100*a<i?o.result:a<i?f.iterator(o.up,{x:t.x,y:t.y,width:t.width,height:t.height*r},i-a,n):f.iterator(o.down,{x:t.x,y:t.y+t.height*r,width:t.width,height:t.height*(1-r)},i,n)},f.rotatePoly=function(e,n){var a=[];return e.forEach(function(e){var t=e.x,i=e.y,e=t*Math.cos(n)-i*Math.sin(n),t=i*Math.cos(n)+t*Math.sin(n);a.push({x:e,y:t})}),a},e.exports=f},function(e,t,i){"use strict";var n=i(0),a=n(i(77)),r=n(i(25)),o=n(i(1)),s=n(i(2)),l=i(70),h=i(11),c=i(158),u=i(45),i=function(){function i(e,t){(0,o.default)(this,i),this.type=l.GAS,this.name=e?e.chemical:void 0,this.fromSolidCompose=!1,this._mol=t,this.isBubble=0,this.dat=e,this.mm=this.name?u.getMoleculeRelativeMass(this.name)||this.dat.molecular_mass:0,this.setTemp(h.DEFAULT_TEMP),this.fogCount=0}return(0,s.default)(i,[{key:"getHeatCapacity",value:function(){return this.dat.gas_heat_capacity||7}},{key:"getSolubility",value:function(){if("I2"===this.name)return 0;var e=(0,a.default)(this.dat.solubility);return e=isNaN(e)?0:e}},{key:"getTemp",value:function(){return this._temp_}},{key:"setTemp",value:function(e){return e<0&&(e=0),isNaN(e)&&(e=h.DEFAULT_TEMP),this._temp_=e,this}},{key:"getAlpha",value:function(){return this.dat.alpha_gas||.6}},{key:"getVol",value:function(){return 22400*this.mol}},{key:"getDensity",value:function(){return this.dat.density_gas||.001}},{key:"getColor",value:function(){return"HBr"===this.name&&0<this.fogCount?(this.fogCount--,16711422):"N2O4"===this.name&&this.container&&"NO2Ball"===this.container.name?13421568:(0,r.default)(this.dat.color_gas||this.dat.color)}},{key:"getRybColor",value:function(){if(void 0===this._ryb_||"HBr"===this.name&&this._ryb_){var e=this.getColor();if(!e)return null;e=c.rgbToRyb([e>>16,e>>8&255,255&e]),this._ryb_=e}return this._ryb_.concat()}},{key:"getMultiple",value:function(){var e;return void 0===this._multiple_&&(e=1,"NO2"===this.dat.chemical&&this.container&&this.container.name.includes("PlasticInjector")&&(e=4),this._multiple_=e),this._multiple_}},{key:"setVol",value:function(e){this.mol=e/22400}},{key:"mol",get:function(){return this._mol},set:function(e){this.setMol(e)}},{key:"setMol",value:function(e){return this._mol=e,this}},{key:"getMol",value:function(){return this._mol}},{key:"deepClone",value:function(){var e=new i(this.dat,this.mol);return e.setTemp(this.getTemp()),e.isBubble=this.isBubble,e.fogCount=this.fogCount,e.fromSolidCompose=this.fromSolidCompose,e}},{key:"getMass",value:function(){var e=this.mol;return isNaN(e)&&(e=0),this.mm*e}},{key:"clone",value:function(){return{dat:this.dat,mol:this.mol,name:this.name,type:this.type,temp:this.getTemp(),isBubble:this.isBubble,fromSolidCompose:this.fromSolidCompose}}},{key:"restoreFromEasyClone",value:function(e){this.setTemp(e.temp),this.isBubble=e.isBubble,this.fromSolidCompose=e.fromSolidCompose}}]),i}();e.exports=i},function(e,r,t){"use strict";var n=t(230);r.clone=function e(t){var i=typeof t;if("number"==i||"string"==i||"boolean"==i||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map(e);if(t instanceof Number)return new Number(t.valueOf());if(t instanceof String)return new String(t.valueOf());if(t instanceof Boolean)return new Boolean(t.valueOf());if(t instanceof Date)return new Date(t.valueOf());if(n(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return r.map(t,e)},r.map=function(e,t){var i,n={};for(i in e)r.hasOwnProperty(e,i)&&(n[i]=t(e[i]));return n},r.extend=function(e,t){for(var i in t)r.hasOwnProperty(t,i)&&(e[i]=t[i]);return e},r.deepExtend=function e(t,i){if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n in i)if(r.hasOwnProperty(i,n))if(i[n]&&i[n].constructor===Object)void 0===t[n]&&(t[n]={}),t[n].constructor===Object?e(t[n],i[n]):t[n]=i[n];else{if(Array.isArray(i[n]))throw new TypeError("Arrays are not supported by deepExtend");t[n]=i[n]}return t},r.deepEqual=function(e,t){var i,n,a;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(n=0,a=e.length;n<a;n++)if(!r.deepEqual(e[n],t[n]))return!1;return!0}if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(i in e)if(!r.deepEqual(e[i],t[i]))return!1;for(i in t)if(!r.deepEqual(e[i],t[i]))return!1;return!0}return typeof e==typeof t&&e==t},r.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(e){}return!1},r.lazy=function(e,t,i){var n,a;r.canDefineProperty()?(n=!0,Object.defineProperty(e,t,{get:function(){return n&&(a=i(),n=!1),a},set:function(e){a=e,n=!1},configurable:!0,enumerable:!0})):e[t]=i()},r.traverse=function(e,t){var i=e;if(t)for(var n=t.split("."),a=0;a<n.length;a++){var r=n[a];r in i||(i[r]={}),i=i[r]}return i},r.hasOwnProperty=function(e,t){return e&&Object.hasOwnProperty.call(e,t)},r.isFactory=function(e){return e&&"function"==typeof e.factory}},function(e,t,i){"use strict";function n(){return window.localStorage.getItem("use_translate")||"zh"}var a={zh:{"C6H4(NO2)2":"m-C6H4(NO2)2","NH₃H₂O":"NH3·H2O",NH3H2O:"NH3·H2O","H2SiO3↓":"H₂SiO₃(胶体)","H₂SiO₃↓":"H₂SiO₃(胶体)",H2SO4_conc:"浓硫酸\nH₂SO₄",StopWatch_lap:"计次",StopWatch_reset:"复位",StopWatch_start:"启动",StopWatch_stop:"停止",StopWatch_no:"第",StopWatch_time:"次：",eq_DC:"直流",eq_power:"电源",eq_overload:"过载",eq_clear:"去皮",eq_heat:"加热",eq_keep:"恒温",eq_switch:"开关",eq_cond:"电导率",eq_conductivity:"电导率",eq_read:"读数",eq_pHStart:"开始滴加",eq_pHStop:"停止滴加",eq_reset:"重置",eq_pHHide:"隐藏图像",eq_phShow:"显示图像",eq_grind:"研磨",eq_stir:"持续搅拌",eq_shortStir:"短时搅拌",eq_push:"挤压",eq_stretch:"拉伸",eq_stackKITestPaper:"淀粉碘化钾试纸",eq_blueLitmusPaper:"蓝色石蕊试纸",eq_redLitmusPaper:"红色石蕊试纸",eq_phenolphthalein:"酚酞试纸",eq_wasteWaterVat:"废液缸",eq_measuringCylinderTip:"量筒未竖直，无法显示视线",eq_DirtCup:"污物杯",eq_ironwireTip:"铁丝在瓶口两端继续拖动，可使铁丝倾斜"},en:{"温度":"temp","压强":"p","质量":"wt","体积":"vol","物质的量":"ams","浓度":"conc","C6H12O6(葡萄糖)":"C6H12O6(Glc)","C6H12O6(果糖)":"C6H12O6(Fru)","Fe(OH)3(胶体)":"Fe(OH)3(col)","钝化":"passivation","C6H4(NO2)2":"m-C6H4(NO2)2","NH₃H₂O":"NH3·H2O",NH3H2O:"NH3·H2O","碎瓷片":"Broken ceramics","石蜡油":"Paraffin oil","杂质":"impurities","沙子":"sand","NaCl(熔融)":"NaCl(fusion)","S(熔融)":"S(fusion)","唾液淀粉酶":"Salivary amylase","泥土":"soil","植物油":"vegetable oil","H2SO4(浓)":"H2SO4(conc)","H2SO4(稀)":"H2SO4(dil)","HNO3(浓)":"HNO3(conc)","HNO3(稀)":"HNO3(dil)","点燃":"ignite","高温":"high temp","通电":"electricity","放电":"electric shock","光照":"illumination","浓硫酸":"H2SO4(conc)","H2SiO3↓":"H₂SiO₃(col)","H₂SiO₃↓":"H₂SiO₃(col)","催化剂":"catalyst","海带灰":"seaweed ash","PE(凝固)":"PE(block)","鸡蛋清":"egg white","硝化的鸡蛋清":"denatured egg whites","变性的鸡蛋清":"denatured egg whites","变性的鸡蛋清(硝酸)":"denatured egg whites","变性的鸡蛋清(其他)":"denatured egg whites","鸡蛋清(沉淀)":"egg white(s)","鸡蛋清溶液":"Egg white solution","84消毒液":"84 Disinfectant","洁厕灵":"ToiletCleaner","增量":"inc","总量":"tol","淀粉溶液":"Starch solution","乙醇":"ethanol","品红溶液":"Magenta solution","碘水":"Iodine water","溴水":"Bromine water","硬水":"Hard water","工业乙醇":"Industrial ethanol","肥皂水":"Soapy water","自来水":"Tap water","苯酚钠溶液":"Sodium phenate solution","乙醛溶液":"Acetaldehyde solution","氯水":"Chlorine water","酚酞":"Phenolphthalein","石蕊":"Litmus","甲基红":"Methyl red","甲基橙":"Methyl orange","乙酸":"Acetic acid","补铁口服液":"Iron supplement oral liquid","唾液":"saliva","汽油":"gasoline","粗苯甲酸":"Crude Benzoic Acid","木炭粉":"Charcoal powder","活性炭":"Activated carbon","沸石":"Zeolite","粗盐":"Coarse salt","连通水管":"Connecting",H2SO4_conc:"H₂SO₄\n(conc)",StopWatch_lap:"Lap",StopWatch_reset:"Reset",StopWatch_start:"Start",StopWatch_stop:"Stop",StopWatch_no:"Lap",StopWatch_time:" :  ","饱和食盐水":"Saturated brine","酸性高锰酸钾":"KMnO₄(H⁺)","溴的四氯化碳":"Br₂/CCl₄","溶液":"Solution","氢氧化钠甲醇溶液":"NaOH/CH₃OH","氢氧化钠乙醇溶液":"NaOH/C₂H₅OH",eq_DC:"DC",eq_power:"power",eq_overload:"overload",eq_clear:"clear",eq_heat:"heating",eq_keep:"keeping",eq_switch:"Switch",eq_cond:"cond",eq_conductivity:"Conductivity",eq_read:"ENTER",eq_pHStart:"start",eq_pHStop:"stop",eq_reset:"reset",eq_pHHide:"hide view",eq_phShow:"show view",eq_grind:"Grind",eq_stir:"Stir",eq_shortStir:"Stir Once",eq_push:"Push",eq_stretch:"Stretch",eq_stackKITestPaper:"Potassium iodide-starch paper",eq_blueLitmusPaper:"Blue litmus paper",eq_redLitmusPaper:"Red litmus paper",eq_phenolphthalein:"Phenolphthalein paper",eq_wasteWaterVat:"Waste container",eq_measuringCylinderTip:"The measuring cylinder is not upright and cannot show the line of sight !","高吸水性树脂":"super absorbent resin",eq_DirtCup:"Dirt Cup","线型酚醛树脂":"novolac resin","体型酚醛树脂":"body type phenolic resin","银氨溶液":"silver ammonia solution","阿司匹林":"aspirin","明矾":"alum","C12H22O11(麦芽糖)":"C12H22O11(maltose)","(C6H10O5)n(纤维素)":"(C6H10O5)n(cellulose)",eq_ironwireTip:"Drag the wire on both ends of the bottle mouth to tilt the wire"}};e.exports={getLanType:n,getLan:function(e){var t=n();return a[t][e]||e}}},function(e,t){e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},function(e,t,i){"use strict";var n={},h=i(11);n.register=function(e){""!==h.config.URI_PREFIX&&-1===e.src.indexOf(h.config.URI_PREFIX)&&(e.src=h.config.URI_PREFIX+e.src);var t=createjs.Sound.activePlugin;createjs.Sound.registerSound(e),t||createjs.Sound.setMute(createjs.Sound.getMute())},n.loadCommonSounds=function(e){createjs.Sound.addEventListener("fileload",e)},n.play=function(e,t,i,n,a,r,o,s,l){if(void 0!==e)return"string"==typeof e?createjs.Sound.play(h.config.URI_PREFIX+e,t,i,n,a,r,o,s,l):createjs.Sound.play(e.id,e.interrupt,e.delay,e.offset,e.loop||a,e.volume||r,e.pan,e.startTime,e.duration)},n.stop=function(){return createjs.Sound.stop()},e.exports=n},function(e,t,i){"use strict";var n={ADDGLASSSTOPPER:{src:"assets/sounds/addGlassStopper.mp3",id:"ADDGLASSSTOPPER"},ADDRUBBERPLUG:{src:"assets/sounds/addRubberPlug.mp3",id:"ADDRUBBERPLUG"},ADDWATER:{src:"assets/sounds/addWater.mp3",id:"ADDWATER"},AL2O3:{src:"assets/sounds/al2o3.mp3",id:"AL2O3"},BALLOON:{src:"assets/sounds/balloon.mp3",id:"BALLOON"},BLAST_BURNER:{src:"assets/sounds/blast_burner.mp3",id:"BLAST_BURNER"},BLOCKNAWATERREACTION:{src:"assets/sounds/blockNaWaterReAction.mp3",id:"BLOCKNAWATERREACTION"},BOOM:{src:"assets/sounds/boom.mp3",id:"BOOM"},BUBBLING:{src:"assets/sounds/bubbling.mp3",id:"BUBBLING"},CHECKPUREJIAN:{src:"assets/sounds/checkPureJian.mp3",id:"CHECKPUREJIAN"},CHECKPUREPU:{src:"assets/sounds/checkPurePu.mp3",id:"CHECKPUREPU"},COLLISION:{src:"assets/sounds/collision.mp3",id:"COLLISION"},EXTRACTGLASSSTOPPER:{src:"assets/sounds/extractGlassStopper.mp3",id:"EXTRACTGLASSSTOPPER"},EXTRACTRUBBERPLUG:{src:"assets/sounds/extractRubberPlug.mp3",id:"EXTRACTRUBBERPLUG"},FIREWORKBOOM:{src:"assets/sounds/fireworkBoom.mp3",id:"FIREWORKBOOM"},FIREWORKSHOOT:{src:"assets/sounds/fireworkShoot.mp3",id:"FIREWORKSHOOT"},GLASSBREAK:{src:"assets/sounds/glassBreak.mp3",id:"GLASSBREAK"},IRONCLAMP:{src:"assets/sounds/ironClamp.mp3",id:"IRONCLAMP"},IRON_BURN:{src:"assets/sounds/iron_burn.mp3",id:"IRON_BURN"},LINEFIRE:{src:"assets/sounds/lineFire.mp3",id:"LINEFIRE"},MAGBURN:{src:"assets/sounds/magBurn.mp3",id:"MAGBURN"},MATCH:{src:"assets/sounds/match.mp3",id:"MATCH",volume:.1},MATTESWITCH:{src:"assets/sounds/matteSwitch.mp3",id:"MATTESWITCH"},PUTINWATER:{src:"assets/sounds/putInWater.mp3",id:"PUTINWATER"},SHAKEBOTTLE:{src:"assets/sounds/shakeBottle.mp3",id:"SHAKEBOTTLE"},THERMOMETER:{src:"assets/sounds/thermometer.mp3",id:"THERMOMETER"}};e.exports=n},function(e,t,i){"use strict";var n=i(0),a=n(i(25)),r=n(i(77)),o=n(i(1)),s=n(i(2)),l=i(70),h=i(158),c=i(45),u=i(11),i=function(){function i(e,t){(0,o.default)(this,i),e&&(this.type=l.LIQUID,this.name=e.chemical,this.mixCapacity=0,this.ions=e.ions,this._mol=t,this.dat=e,this.mm=this.name?c.getMoleculeRelativeMass(this.name)||this.dat.molecular_mass:0,this.setTemp(u.DEFAULT_TEMP),this.solvent="H2O"),this._temp_=u.DEFAULT_TEMP,this._classMapping="LiquidVO",this.volConst=this.mm/this.getDensity()}return(0,s.default)(i,[{key:"mol",get:function(){return this._mol},set:function(e){this.setMol(e)}},{key:"setMol",value:function(e){return isNaN(e)||(this._mol=e),this}},{key:"getMol",value:function(){return this._mol}},{key:"getTemp",value:function(){return this._temp_}},{key:"setTemp",value:function(e){return e=(e=isNaN(e)||e<-1e3?u.DEFAULT_TEMP:e)<u.MIN_TEMP?u.MIN_TEMP:e,this._temp_=e,this}},{key:"getHeatCapacity",value:function(){return this.dat.heat_capacity||u.DEFAULT_HEAT_CAPACITY}},{key:"getVol",value:function(){var e=this.ions;if(!e||e.length<2||u.INCLUDE_VOLUME.has(this.name)){e=this.mol*this.volConst;return this.mixCapacity&&(e-=this.mixCapacity/20),e}return 0}},{key:"setVol",value:function(e){this.mol=e/this.volConst}},{key:"setMixCapacity",value:function(e){this.mixCapacity=e||0}},{key:"getDensity",value:function(){return this.dat.density_liquid}},{key:"deepClone",value:function(){var e=new i(this.dat,this.mol);return e.setTemp(this.getTemp()),e.solvent=this.solvent,this.originDensity&&(e.originDensity=this.originDensity),"变性的鸡蛋清(硝酸)"!==this.name&&"变性的鸡蛋清(其他)"!==this.name&&"硝化的鸡蛋清"!==this.name&&"鸡蛋清(沉淀)"!==this.name||(e.name=this.name,e.solidType=this.solidType),e}},{key:"clone",value:function(){var e={dat:this.dat,mol:this.mol,name:this.name,type:this.type,temp:this.getTemp(),solvent:this.solvent};return this.originDensity&&(e.originDensity=this.originDensity),e}},{key:"restoreFromEasyClone",value:function(e){this.mol=e.mol,this.setTemp(e.temp),this.solvent=e.solvent,e.originDensity&&(this.originDensity=e.originDensity)}},{key:"getMass",value:function(){var e=this.mol;return isNaN(e)&&(e=0),this.mm*e}},{key:"getColor",value:function(){return(0,a.default)(this.dat.color)}},{key:"getRybColor",value:function(){if(void 0===this._ryb_){var e=this.getColor();if(!e||16777215===e)return null;e=h.rgbToRyb([e>>16,e>>8&255,255&e]),this._ryb_=e}return this._ryb_.concat()}},{key:"getAlpha",value:function(){return this.dat.alpha_liquid||1}},{key:"getBoilingPoint",value:function(){return(0,r.default)(this.dat.boiling_point)||100}},{key:"getHeatVaporization",value:function(){return(0,r.default)(this.dat.heat_vaporization)||40800}}]),i}();window.LiquidVO=i,e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(37)),f=n(i(96)),n={},I=i(26),g=i(18);n.getParticle=function(e){var p=new PIXI.Container;p.interactive=!1,p.interactiveChildren=!1,p.ifScaleParticle=!1,p.fireInContainer=!1;var i=(i=(0,a.default)(e.texture)?e.texture:[e.texture]).map(function(e){return PIXI.Texture.fromFrame(e)});return $.getJSON(nb.config.URI_PREFIX+e.path,function(e,t){"success"==t&&p&&(p.particle=new PIXI.particles.Emitter(p,i,e),p.loaded=!0,p.emit("particle_load"))}),p.bindObjPosition=null,p.render=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(null!=this.particle){null!=this.bindObj&&(o=this.parent.toLocal({x:0,y:0},this.bindObj),t&&(r=g.retrieveRotation(this.bindObj.transform.worldTransform),i=this.x,t=this.y,this.bindObjPosition&&(i=this.bindObjPosition.x,t=this.bindObjPosition.y),this.x=i*Math.cos(r)-t*Math.sin(r),this.y=t*Math.cos(r)+i*Math.sin(r)),this.particle.updateOwnerPos(o.x+this.bindOffsetX,o.y+this.bindOffsetY));var i=(0,f.default)();if(this.particle.update(e||.001*(i-this.__timer__||0)),this.__timer__=i,p)if(p.gasLeakage&&(a=p.allowGetBounds,p.allowGetBounds||(p.allowGetBounds=!0),n=p.getBounds(),p.allowGetBounds=a,p.bindParent.getObjectByAABB(n).forEach(function(e){e.hitReact&&e.hitReact(p.gasLeakage)})),p.ifScaleParticle&&p.heatInfoObj&&p.heatInfoObj.eq&&p.heatInfoObj.eq.globalAry){var n,a,r=p.heatInfoObj,o=r.rectangle,e=p.root.viewStack,s=r.modifyPosFunc;if(o&&!e.hasEqMove&&s||(i=function(e,t){var i=e.pa,n=e.pb;100<Math.abs((i.y-n.y)/(i.x-n.x))&&(e.y=(i.y>n.y?i:n).y),i=t.pa,n=t.pb,100<Math.abs((i.y-n.y)/(i.x-n.x))&&(t.y=(i.y>n.y?i:n).y);var i=p.toLocal(e),a=p.toLocal(t),n=p.toGlobal({x:p.particle.ownerPos.x,y:p.particle.ownerPos.y+10}).y;if(e.y>n||t.y>n)return!0;var r=(i.y-a.y)/(i.x-a.x);if(isNaN(r)||10<Math.abs(r)){var o=(i.y>a.y?i:a).y+10;return function(e){var t=e.y,i=!1,e=e.x;return t<o&&(i=!0,e+=10*(Math.random()-.5),t=o),{x:e,y:t,changed:i}}}return function(e){var t=(e.x-a.x)*r+a.y+10,i=e.x,n=!0,t=e.y>t?(n=!1,e.y):((i+=10*(Math.random()-.5))-a.x)*r+a.y+10;return{x:i,y:t,changed:n}}},(a=p.allowGetBounds)||(p.allowGetBounds=!0),o=p.getBounds(),p.allowGetBounds=a,r.rectangle=o,n=r.eq.globalAry,e={},a={},e=I.bottomLineIntersect(n,{x:o.x,y:o.y},{x:o.x,y:o.y+o.height}),a=I.bottomLineIntersect(n,{x:o.x+o.width,y:o.y},{x:o.x+o.width,y:o.y+o.height}),s=e&&a?i(e,a):!(o=I.bottomLineIntersect(n,{x:o.x+o.width/2,y:o.y},{x:o.x+o.width/2,y:o.y+o.height}))||i(o,o),r.modifyPosFunc=s),s&&!0!==s){for(var l=this.children.length,h=0,c=0;c<l;c++){var u=this.children[c],d=s(u.position);d.changed&&(u.x=d.x,u.y=d.y,h++)}var r=h/l;this.isAlcoholParticle&&(r<.9?(this.particle.minStartRotation=90-(r=240*r),this.particle.maxStartRotation=90+r):this.particle.minStartRotation=this.particle.maxStartRotation=90)}else this.isAlcoholParticle&&(this.particle.minStartRotation=this.particle.maxStartRotation=90)}else this.isAlcoholParticle&&(this.particle.minStartRotation=this.particle.maxStartRotation=90)}},p.bind=function(e,t,i){p.bindObj=e,p.bindOffsetX=t||0,p.bindOffsetY=i||0},p.destroy=function(){this.parent&&this.parent.removeChild(this),p&&(p.bindObj=null,p.particle&&p.particle.destroy.apply(p.particle),delete p.bindObj,i=p=null)},p.setParticleProp=function(e,t){var i,n;p&&p.particle&&(i=!1,/^end/.test(e)&&(e=e.replace("end","start"),i=!0),void 0!==(n=p.particle[e]).isStepped?!n.next&&i||(n=i?n.next:n,t instanceof Array?(n.value.r=t[0],n.value.g=t[1],n.value.b=t[2]):n.value=t):p.particle[e]=t)},p.getParticleProp=function(e){if(p.particle){if("startColor"===e){var t=p.particle.startColor.value;return[t.r,t.g,t.b]}if("endColor"!==e)return/^start/.test(e)?p.particle[e].value:/^end/.test(e)?(e=e.replace("end","start"),(p.particle[e].next||p.particle[e]).value):p.particle[e];e=(p.particle.startColor.next||p.particle.startColor).value;return[e.r,e.g,e.b]}},p},n.particles={overflowLiquid:{path:"assets/particles/overflow_liquid.json",texture:"particle.spirit_fire"},emulsionBubble:{path:"assets/particles/emulsion_bubble.json",texture:"particle.bubbles32.png"},candleSmoke:{path:"assets/particles/candle_smoke.json",texture:["particle.mg_smoke.1","particle.mg_smoke.2","particle.mg_smoke.3","particle.mg_smoke.4","particle.mg_smoke.5","particle.mg_smoke.6"]},alcoholSpray:{path:"assets/particles/alcohol_spray.json",texture:["particle.spirit_fire"]},alcoholBoom:{path:"assets/particles/alcohol_boom.json",texture:["particle.smoke"]},waterSmoke:{path:"assets/particles/waterSmoke.json",texture:["particle.mg_smoke.3"]},buretteWater:{path:"assets/particles/burette_water.json",texture:"particle.spirit_fire"},boomWave:{path:"assets/particles/boom_wave.json",texture:"particle.smoke"},jiejing:{path:"assets/particles/jiejing.json",texture:["jiejing1","jiejing2","jiejing3","jiejing4","jiejing5","jiejing6","jiejing7","jiejing8","jiejing9","jiejing10","jiejing11","jiejing12","jiejing13","jiejing14","jiejing15","jiejing16","jiejing17","jiejing18","jiejing19","jiejing20","jiejing21","jiejing22","jiejing23","jiejing24"]},paperFire:{path:"assets/particles/paper_fire.json",texture:"particle.spirit_fire"},tubeSmoke:{path:"assets/particles/tube_smoke.json",texture:["particle.mg_smoke.1"]},CaC2Bubble:{path:"assets/particles/CaC2Bubble.json",texture:["particle.bubbles32.png"]},KFiremInWater:{path:"assets/particles/K_fire_in_water.json",texture:["particle.spirit_fire"]},somkeOfIandAl:{path:"assets/particles/Al_I_smoke.json",texture:["particle.smoke","particle.spirit_fire"]},fireOfIandAl:{path:"assets/particles/Al_I_fire.json",texture:["particle.spirit_fire"]},paraffin_smoke:{path:"assets/particles/paraffin_smoke.json",texture:["particle.smoke"]},paraffin_smoke_2:{path:"assets/particles/paraffin_smoke_2.json",texture:["particle.smoke"]},metalBubble:{path:"assets/particles/metalBubble.json",texture:["particle.bubbles32.png"]},copper_wire_bubble:{path:"assets/particles/copper_wire_bubble.json",texture:["particle.bubbles32.png"]},general_sediment:{path:"assets/particles/generalSediment.json",texture:["particle.whiteSmoke"]},line_spark:{path:"assets/particles/lineSpark.json",texture:["particle.alumn.4"]},fireWorks_halo:{path:"assets/particles/fireworksHalo.json",texture:["particle.smoke2"]},fireWorks_fire:{path:"assets/particles/fireworks.json",texture:["particle.alumn.3","particle.iron_fire.1","particle.smoke2"]},fireWorks_emitter:{path:"assets/particles/fireworkEmitter.json",texture:["particle.iron_fire.1"]},alcoholInCon_fire:{path:"assets/particles/alcoholInCon_fire.json",texture:"particle.spirit_fire"},soapBubble_fire:{path:"assets/particles/soapBubble_fire.json",texture:"particle.spirit_fire"},Na_bubble:{path:"assets/particles/Na_bubble.json",texture:["particle.bubbles32.png"]},blackbread_smoke:{path:"assets/particles/blackbread_smoke.json",texture:["particle.mg_smoke.1","particle.mg_smoke.4","particle.mg_smoke.3","particle.mg_smoke.4","particle.mg_smoke.5","particle.mg_smoke.6"]},yanghuagaiyushui:{path:"assets/particles/yanghuagaiyushui.json",texture:"yanghuagaiyushui"},feijianyedi:{path:"assets/particles/feijianyedi.json",texture:"Bitmap 2"},nongliusuanfeijian:{path:"assets/particles/nongliusuanfeijian.json",texture:["Bitmap 2","particle.bubbles32.png"]},oil_bubble:{path:"assets/particles/oil_bubble.json",texture:"particle.bubbles32.png"},iron_cl_up:{path:"assets/particles/iron_cl_up.json",texture:["particle.smoke","particle.spirit_fire","particle.spirit_fire"]},iron_cl_out:{path:"assets/particles/iron_cl_out.json",texture:["particle.smoke","particle.spirit_fire"]},iron_cl_bottle:{path:"assets/particles/iron_cl_bottle.json",texture:["particle.smoke"]},copper_cl_up:{path:"assets/particles/copper_cl_up.json",texture:["particle.smoke","particle.spirit_fire","particle.spirit_fire"]},copper_cl_out:{path:"assets/particles/copper_cl_out.json",texture:["particle.smoke","particle.spirit_fire"]},copper_cl_bottle:{path:"assets/particles/copper_cl_bottle.json",texture:["particle.smoke"]},blockCu_cl_bottle:{path:"assets/particles/blockCu_cl_bottle.json",texture:["particle.smoke"]},ball_Boom:{path:"assets/particles/ball_Boom.json",texture:["ball.particle1","ball.particle2","ball.particle3","ball.particle4","ball.particle5","ball.particle6","ball.particle7"]},huge_Boom:{path:"assets/particles/huge_Boom.json",texture:["boli.particle1","boli.particle2","boli.particle3","boli.particle4","boli.particle5","boli.particle6","boli.particle7","boli.particle8","boli.particle9","boli.particle10","boli.particle11","boli.particle12","boli.particle13","boli.particle14","boli.particle15","boli.particle16","boli.particle17","boli.particle18","boli.particle19","boli.particle20","boli.particle21"]},big_Boom:{path:"assets/particles/big_Boom.json",texture:["boli.particle1","boli.particle2","boli.particle3","boli.particle4","boli.particle5","boli.particle6","boli.particle7","boli.particle8","boli.particle9","boli.particle10","boli.particle11","boli.particle12","boli.particle13","boli.particle14","boli.particle15","boli.particle16","boli.particle17","boli.particle18","boli.particle19","boli.particle20","boli.particle21"]},small_Boom:{path:"assets/particles/small_Boom.json",texture:["boli.particle1","boli.particle2","boli.particle3","boli.particle4","boli.particle5","boli.particle6","boli.particle7","boli.particle8","boli.particle9","boli.particle10","boli.particle11","boli.particle12","boli.particle13","boli.particle14","boli.particle15","boli.particle16","boli.particle17","boli.particle18","boli.particle19","boli.particle20","boli.particle21"]},liusuanyatie_dibu:{path:"assets/particles/liusuanyatie_dibu.json",texture:["particle.smoke"]},liusuanyatie_diru:{path:"assets/particles/liusuanyatie_diru.json",texture:["particle.smoke1","particle.mg_smoke.3","particle.mg_smoke.5","particle.mg_smoke.6"]},xuzhuang_full:{path:"assets/particles/xuzhuang_full.json",texture:["particle.smoke"]},xuzhuang_cuoh2:{path:"assets/particles/xuzhuang_cuoh2.json",texture:["particle.smoke"]},liusuanyatie_chendian_red_lv2:{path:"assets/particles/liusuanyatie_chendian_red_lv2.json",texture:["particle.smoke"]},liusuanyatie_chendian_lv2:{path:"assets/particles/liusuanyatie_chendian_lv2.json",texture:["particle.smoke"]},liusuanyatie_chendian_lv:{path:"assets/particles/liusuanyatie_chendian_lv.json",texture:["xuzhuang_test"]},liusuanlvshaobei_top2:{path:"assets/particles/liusuanlvshaobei_top2.json",texture:["xuzhuang_test"]},liusuanlvshaobei_diru:{path:"assets/particles/liusuanlvshaobei_diru.json",texture:["xuzhuang_test"]},liusuanlvshaobei_top:{path:"assets/particles/liusuanlvshaobei_top.json",texture:["xuzhuang_test"]},liusuanlv_shiguanbi:{path:"assets/particles/liusuanlv_shiguanbi.json",texture:["particle.smoke1","particle.mg_smoke.3","particle.mg_smoke.5","particle.mg_smoke.6"]},liusuanlv_top:{path:"assets/particles/liusuanlv_top.json",texture:["xuzhuang_test"]},xiaosuanbei_left:{path:"assets/particles/xiaosuanbei_left.json",texture:["xuzhuang_test"]},xiaosuanbei_right:{path:"assets/particles/xiaosuanbei_right.json",texture:["xuzhuang_test"]},xiaosuanbei_down:{path:"assets/particles/xiaosuanbei_down.json",texture:["xuzhuang_test"]},xiaosuanbei_up:{path:"assets/particles/xiaosuanbei_up.json",texture:"xuzhuang_test"},xiaosuanbei_diru:{path:"assets/particles/xiaosuanbei_diru.json",texture:"xuzhuang_test"},xuzhuang_diru_qing2:{path:"assets/particles/xuzhuang_diru_qing2.json",texture:["particle.smoke1","particle.mg_smoke.2","particle.mg_smoke.3","xuzhuang_test"]},mutanranshao:{path:"assets/particles/mutanranshao.json",texture:"particle.spirit_fire"},xuzhuang_diru_qing:{path:"assets/particles/xuzhuang_diru_qing.json",texture:["particle.smoke1","particle.mg_smoke.2","particle.mg_smoke.3","xuzhuang_test"]},xuzhuang_diru2:{path:"assets/particles/xuzhuang_diru2.json",texture:"xuzhuang_test"},xuzhuang_diru:{path:"assets/particles/xuzhuang_diru.json",texture:"xuzhuang_test"},fenmo_diru_qipao:{path:"assets/particles/fenmo_diru_qipao.json",texture:"particle.bubbles32.png"},fenmo_diru_qipao_b:{path:"assets/particles/fenmo_diru_qipao_b.json",texture:"particle.bubbles10.png"},fenmo_jump_qipao:{path:"assets/particles/fenmo_jump_qipao.json",texture:"particle.bubbles32.png"},fenmo_start_qipao:{path:"assets/particles/fenmo_start_qipao.json",texture:"particle.bubbles32.png"},fenmo_biaomian_qipao_b:{path:"assets/particles/fenmo_biaomian_qipao_b.json",texture:"particle.bubbles32.png"},fenmo_biaomian_qipao:{path:"assets/particles/fenmo_biaomian_qipao.json",texture:"particle.bubbles32.png"},paraffin_glass_qipao:{path:"assets/particles/paraffin_glass_qipao.json",texture:"particle.bubbles32.png"},meitiao_fuzhuo_qipao_s:{path:"assets/particles/meitiao_fuzhuo_qipao_s.json",texture:"particle.bubbles32.png"},meitiao_up_qipao_s:{path:"assets/particles/meitiao_up_qipao_s.json",texture:"particle.bubbles32.png"},meitiao_shiguan_top:{path:"assets/particles/meitiao_shiguan_top.json",texture:"particle.bubbles32.png"},meitiao_shiguan_left:{path:"assets/particles/meitiao_shiguan_left.json",texture:"particle.bubbles32.png"},meitiao_shiguan_right:{path:"assets/particles/meitiao_shiguan_right.json",texture:"particle.bubbles32.png"},meitiao_left_qipao:{path:"assets/particles/meitiao_left_qipao.json",texture:"particle.bubbles32.png"},meitiao_right_qipao:{path:"assets/particles/meitiao_right_qipao.json",texture:"particle.bubbles32.png"},meitiao_fantan_qipao:{path:"assets/particles/meitiao_fantan_qipao.json",texture:"particle.bubbles32.png"},meitiao_up_qipao:{path:"assets/particles/meitiao_up_qipao.json",texture:"particle.bubbles32.png"},meitiao_fuzhuo_qipao:{path:"assets/particles/meitiao_fuzhuo_qipao.json",texture:"particle.bubbles32.png"},soapBubble_up:{path:"assets/particles/soapBubble_up.json",texture:"particle.bubbles32.png"},shiguan_qipao_top1:{path:"assets/particles/shiguan_qipao_top1.json",texture:"particle.bubbles29.png"},shiguan_qipao_top:{path:"assets/particles/shiguan_qipao_top.json",texture:"particle.bubbles32.png"},shiguan_qipao_s:{path:"assets/particles/shiguan_qipao_s.json",texture:"particle.bubbles32.png"},shiguan_qipao:{path:"assets/particles/shiguan_qipao.json",texture:"particle.bubbles32.png"},shuifeiteng_qipao:{path:"assets/particles/shuifeiteng_qipao.json",texture:"particle.bubbles29.png"},shuifeiteng_xiaoqipao_up_ss:{path:"assets/particles/shuifeiteng_xiaoqipao_up_ss.json",texture:"particle.bubbles32.png"},shuifeiteng_xiaoqipao_up_s:{path:"assets/particles/shuifeiteng_xiaoqipao_up_s.json",texture:"particle.bubbles32.png"},shuifeiteng_xiaoqipao_up:{path:"assets/particles/shuifeiteng_xiaoqipao_up.json",texture:"particle.bubbles32.png"},shuifeiteng_xiaoqipao_dibu:{path:"assets/particles/shuifeiteng_xiaoqipao_dibu.json",texture:"particle.bubbles32.png"},hugebreak_qipao_up:{path:"assets/particles/hugebreak_qipao_up.json",texture:"particle.bubbles32.png"},hugebreak_qipao_midd:{path:"assets/particles/hugebreak_qipao_midd.json",texture:"particle.bubbles29.png"},hugebreak_qipao_right:{path:"assets/particles/hugebreak_qipao_right.json",texture:"particle.bubbles29.png"},hugebreak_qipao:{path:"assets/particles/hugebreak_qipao.json",texture:"particle.bubbles16.png"},glass_guan_qipao_right:{path:"assets/particles/glass_guan_qipao_right.json",texture:"particle.bubbles16.png"},glass_guan_qipao_top:{path:"assets/particles/glass_guan_qipao_top.json",texture:"particle.bubbles16.png"},glass_guan_qipao_b:{path:"assets/particles/glass_guan_qipao_b.json",texture:"particle.bubbles32.png"},glass_guan_qipao_s:{path:"assets/particles/glass_guan_qipao_s.json",texture:"particle.bubbles32.png"},na_lv_halo_gas:{path:"assets/particles/na_lv_halo_gas.json",texture:["particle.spirit_fire"]},na_lv_smoke_gas_up:{path:"assets/particles/na_lv_smoke_gas_up.json",texture:["particle.spirit_fire"]},na_lv_smoke_gas_down:{path:"assets/particles/na_lv_smoke_gas_down.json",texture:["particle.smoke"]},na_air_smoke:{path:"assets/particles/na_air_smoke.json",texture:["particle.smoke1","particle.mg_smoke.2","particle.mg_smoke.3"]},na_air_fire:{path:"assets/particles/na_air_fire.json",texture:["particle.spirit_fire"]},p4_bottle_smoke:{path:"assets/particles/p4_bottle_smoke.json",texture:"particle.smoke"},bailin_fire_main_1:{path:"assets/particles/bailin_fire_main_1.json",texture:["particle.spirit_fire"]},bailin_fire_main:{path:"assets/particles/bailin_fire_main.json",texture:"particle.spirit_fire"},qingqi_fire_b:{path:"assets/particles/qingqi_fire_b.json",texture:"particle.spirit_fire"},qingqi_fire_s:{path:"assets/particles/qingqi_fire_s.json",texture:"particle.spirit_fire"},mianhua_fire:{path:"assets/particles/mianhua_fire.json",texture:"particle.spirit_fire"},pepanel_fire:{path:"assets/particles/pepanel_fire.json",texture:"particle.spirit_fire"},fe_s_fire:{path:"assets/particles/fe_s_fire.json",texture:"particle.spirit_fire"},iron_fire_spark01:{path:"assets/particles/iron_fire_spark01.json",texture:"particle.rain"},iron_fire_spark:{path:"assets/particles/iron_fire_spark.json",texture:"particle.rain"},iron_fire:{path:"assets/particles/iron_fire.json",texture:["particle.spirit_fire","particle.smoke"]},jiqipin_red_lin_smoke:{path:"assets/particles/jiqipin_red_lin_smoke.json",texture:["particle.mg_smoke.1","particle.mg_smoke.4","particle.mg_smoke.3","particle.mg_smoke.6","particle.mg_smoke.5"]},jiqipin_red_lin_smoke_up:{path:"assets/particles/jiqipin_red_lin_smoke_up.json",texture:["particle.mg_smoke.1","particle.mg_smoke.4","particle.mg_smoke.3"]},red_lin_smoke:{path:"assets/particles/red_lin_smoke.json",texture:["particle.mg_smoke.1","particle.mg_smoke.4","particle.mg_smoke.3"]},red_lin_fire:{path:"assets/particles/red_lin_fire.json",texture:"particle.spirit_fire"},red_lin_fire_cu:{path:"assets/particles/red_lin_fire_cu.json",texture:"particle.spirit_fire"},s_burn_fire_m1:{path:"assets/particles/s_burn_fire_m1.json",texture:"particle.spirit_fire"},s_burn_fire_m:{path:"assets/particles/s_burn_fire_m.json",texture:"particle.spirit_fire"},c_burn_fire:{path:"assets/particles/c_burn_fire.json",texture:"particle.spirit_fire"},all_fire:{path:"assets/particles/fire.json",texture:"particle.spirit_fire"},spirit_fire:{path:"assets/particles/spirit_fire.json",texture:"particle.spirit_fire"},spirit_fire_blue:{path:"assets/particles/spirit_fire_blue.json",texture:"particle.spirit_fire"},match_fire:{path:"assets/particles/mutiao_ranshao.json",texture:"particle.spirit_fire"},candle_fire:{path:"assets/particles/candle_fire.json",texture:"particle.spirit_fire"},water_vapor:{path:"assets/particles/water_vapor.json",texture:"particle.spirit_fire"},seed_fire:{path:"assets/particles/seed_fire.json",texture:"particle.spirit_fire"},seed_fire2:{path:"assets/particles/seed_fire2.json",texture:"particle.spirit_fire"},outSide_fire:{path:"assets/particles/outSide_fire.json",texture:"particle.spirit_fire"},huasheng_fire:{path:"assets/particles/huasheng_fire.json",texture:"particle.spirit_fire"},bubble:{path:"assets/particles/bubble.json",texture:"particle.bubbles32.png"},solid_bubble:{path:"assets/particles/solidBubble.json",texture:"particle.bubbles32.png"},test:{path:"assets/particles/test.json",texture:"particle.spirit_fire"},BlastAlcoholBurner_Up:{path:"assets/particles/BlastAlcoholBurner_Up.json",texture:"particle.spirit_fire"},BlastAlcoholBurner_Low:{path:"assets/particles/BlastAlcoholBurner_Low.json",texture:"particle.spirit_fire"},soap_bubble_blow:{path:"assets/particles/soap_bubble_blow.json",texture:"particle.bubbles32.png"},soapBubble:{path:"assets/particles/soapBubble.json",texture:"particle.bubbles32.png"},mg_white_fire:{path:"assets/particles/sprite_fire_white.json",texture:["particle.mg.1","particle.mg.2","particle.mg.3","particle.mg.4"]},mg_white_fire1:{path:"assets/particles/sprite_fire_white1.json",texture:["particle.mg.2"]},mg_white_fire2:{path:"assets/particles/sprite_fire_white2.json",texture:["particle.rain"]},mg_white_fire3:{path:"assets/particles/sprite_fire_white3.json",texture:["particle.mg.1","particle.mg.2","particle.mg.4"]},thermometer_broke:{path:"assets/particles/thermomter_broke.json",texture:"particle.spirit_fire"},sprite_others:{path:"assets/particles/sprite_others.json",texture:"particle.spirit_fire"},little_match:{path:"assets/particles/little_match.json",texture:"particle.spirit_fire"},catheter_bulle:{path:"assets/particles/catheter_bulle.json",texture:"particle.bubbles32.png"},electrolytic_bubble:{path:"assets/particles/electrolytic_bubble.json",texture:"particle.bubbles32.png"},alumn_fire:{path:"assets/particles/alumn.json",texture:["particle.alumn.1","particle.alumn.2","particle.alumn.3","particle.alumn.4"]},alumn_fire1:{path:"assets/particles/alumn.1.json",texture:["particle.alumn.1","particle.alumn.2","particle.alumn.3","particle.alumn.4"]},alumn_fire2:{path:"assets/particles/alumn.2.json",texture:["particle.mg.1","particle.mg.2","particle.mg.3","particle.mg.4"]},burn_na_in_air:{path:"assets/particles/burn_na_in_air.json",texture:"particle.spirit_fire"},na_smoke:{path:"assets/particles/na_smoke.json",texture:"particle.spirit_fire"},CatheterFire:{path:"assets/particles/CatheterFire.json",texture:"particle.spirit_fire"},mg_burn_smoke:{path:"assets/particles/mg_burn_smoke.json",texture:["particle.mg_smoke.1","particle.mg_smoke.2","particle.mg_smoke.3","particle.mg_smoke.4","particle.mg_smoke.5","particle.mg_smoke.6"]},pepanel_burn_smoke:{path:"assets/particles/pepanel_burn_smoke.json",texture:["particle.mg_smoke.1","particle.mg_smoke.2","particle.mg_smoke.3","particle.mg_smoke.4","particle.mg_smoke.5","particle.mg_smoke.6"]},gas_collecting_bottle_bubble:{path:"assets/particles/gas_collecting_bottle_bubble.json",texture:"particle.bubbles32.png"},water_spray:{path:"assets/particles/water_spray.json",texture:"particle.spirit_fire"},iron_fire_01:{path:"assets/particles/iron_fire_01.json",texture:["particle.alumn.4"]},p_fire_01:{path:"assets/particles/p_fire_01.json",texture:"particle.spirit_fire"},dust:{path:"assets/particles/dust.json",texture:"particle.spirit_fire"},explode:{path:"assets/particles/explode.json",texture:["particle.mg.1","particle.mg.3","particle.mg.4"]},carbon_fire:{path:"assets/particles/carbonFire.json",texture:"particle.spirit_fire"},wooden_spark:{path:"assets/particles/wooden_spark.json",texture:"particle.spirit_fire"},wooden_fire:{path:"assets/particles/mutiao_ranshao_big.json",texture:"particle.spirit_fire"},s_burn_fire:{path:"assets/particles/s_burn_fire.json",texture:"particle.spirit_fire"},bottle_gas:{path:"assets/particles/bottle_gas.json",texture:["particle.mg_smoke.1","particle.mg_smoke.2","particle.mg_smoke.3","particle.mg_smoke.4","particle.mg_smoke.5","particle.mg_smoke.6"]},Na_react:{path:"assets/particles/Na_react.json",texture:["particle.mg_smoke.1","particle.mg_smoke.2","particle.mg_smoke.3","particle.mg_smoke.4","particle.mg_smoke.5","particle.mg_smoke.6"]},Na_fire:{path:"assets/particles/Na_fire.json",texture:"particle.spirit_fire"},Na_fire_in_cl2:{path:"assets/particles/Na_fire_in_cl2.json",texture:"particle.spirit_fire"},cotton_fire_normal:{path:"assets/particles/cotton_fire_normal.json",texture:"particle.spirit_fire"},BunsenBurner_innerFire:{path:"assets/particles/bunsenBurner_innerFire.json",texture:"particle.spirit_fire"},BunsenBurner_outerFire:{path:"assets/particles/bunsenBurner_outerFire.json",texture:"particle.spirit_fire"},liquidSpread:{path:"assets/particles/liquid_spread.json",texture:"particle.spirit_fire"},liquidVapour:{path:"assets/particles/liquid_vapour.json",texture:"particle.spirit_fire"},liquidSplash:{path:"assets/particles/liquid_splash.json",texture:"particle.spark"},spreadOut:{path:"assets/particles/spreadOut.json",texture:["particle.mg_smoke.1","particle.mg_smoke.4","particle.spark","particle.spirit_fire"]},spreadOut_cold:{path:"assets/particles/spreadOut_cold.json",texture:"particle.spirit_fire"}},global.ParticleUtil=n,e.exports=n},function(e,t,i){"use strict";var u=i(28).clone;t.name="algorithm14",t.factory=function(e,t,i,l){var h=e.DenseMatrix,c=function(e,t,i,n,a,r,o){var s=[];if(t===i.length-1)for(var l=0;l<n;l++)s[l]=o?e(r,a[l]):e(a[l],r);else for(var h=0;h<n;h++)s[h]=c(e,t+1,i,i[t+1],a[h],r,o);return s};return function(e,t,i,n){var a,r=e._data,o=e._size,s=e._datatype,e=i;"string"==typeof s&&(t=l.convert(t,a=s),e=l.find(i,[a,a]));n=0<o.length?c(e,0,o,o[0],r,t,n):[];return new h({data:n,size:u(o),datatype:a})}}},function(e,t,i){var a=i(28).hasOwnProperty;t.factory=function(){var n={};return{register:function(e,t){if(void 0!==n[e])throw new Error('Cannot register type "'+e+'": already exists');n[e]=t},compile:function(e,t,i){if(a(n,e.type))return(0,n[e.type])(e,t,i);if("function"!=typeof e._compile||a(e,"_compile"))throw new Error('Cannot compile node: unknown type "'+e.type+'"');return e._compile(t,i)}}}},function(e,t,i){e.exports=i(425)},function(e,t,i){function I(e,t,i){var n,a,r,o=e&I.F,s=e&I.G,l=e&I.S,h=e&I.P,c=e&I.B,u=e&I.W,d=s?m:m[t]||(m[t]={}),p=d[M],f=s?g:l?g[t]:(g[t]||{})[M];for(n in i=s?t:i)(a=!o&&f&&void 0!==f[n])&&C(d,n)||(r=(a?f:i)[n],d[n]=s&&"function"!=typeof f[n]?i[n]:c&&a?y(r,g):u&&f[n]==r?function(n){function e(e,t,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,i)}return n.apply(this,arguments)}return e[M]=n[M],e}(r):h&&"function"==typeof r?y(Function.call,r):r,h&&((d.virtual||(d.virtual={}))[n]=r,e&I.R&&p&&!p[n]&&v(p,n,r)))}var g=i(48),m=i(30),y=i(92),v=i(101),C=i(102),M="prototype";I.F=1,I.G=2,I.S=4,I.P=8,I.B=16,I.W=32,I.U=64,I.R=128,e.exports=I},function(e,t,i){"use strict";var n=i(86),I=i(49);n.string.isString;t.name="algorithm13",t.factory=function(e,t,i,d){var p=e.DenseMatrix,f=function(e,t,i,n,a,r){var o=[];if(t===i.length-1)for(var s=0;s<n;s++)o[s]=e(a[s],r[s]);else for(var l=0;l<n;l++)o[l]=f(e,t+1,i,i[t+1],a[l],r[l]);return o};return function(e,t,i){var n=e._data,a=e._size,r=e._datatype,o=t._data,s=t._size,l=t._datatype,h=[];if(a.length!==s.length)throw new I(a.length,s.length);for(var c,u=0;u<a.length;u++){if(a[u]!==s[u])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+s+")");h[u]=a[u]}e=i;"string"==typeof r&&r===l&&(t=d.convert(t,c=r),e=d.find(i,[c,c]));o=0<h.length?f(e,0,h,h[0],n,o):[];return new p({data:o,size:h,datatype:c})}}},function(e,o,t){"use strict";var r=t(17).format,s=t(524).format,l=t(230);o.isString=function(e){return"string"==typeof e},o.endsWith=function(e,t){var i=e.length-t.length,n=e.length;return e.substring(i,n)===t},o.format=function(e,t){if("number"==typeof e)return r(e,t);if(l(e))return s(e,t);if((i=e)&&"object"==typeof i&&"number"==typeof i.s&&"number"==typeof i.n&&"number"==typeof i.d||!1)return t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d;var i;if(Array.isArray(e))return function e(t,i){{if(Array.isArray(t)){for(var n="[",a=t.length,r=0;r<a;r++)0!=r&&(n+=", "),n+=e(t[r],i);return n+="]"}return o.format(t,i)}}(e,t);if(o.isString(e))return'"'+e+'"';if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"==typeof e){if("function"==typeof e.format)return e.format(t);if(e&&e.toString()!=={}.toString())return e.toString();var n,a=[];for(n in e)e.hasOwnProperty(n)&&a.push('"'+n+'": '+o.format(e[n],t));return"{"+a.join(", ")+"}"}return String(e)},o.stringify=function(e){for(var t=String(e),i="",n=0;n<t.length;){var a=t.charAt(n);"\\"===a?(i+=a,n++,""!==(a=t.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(a)||(i+="\\"),i+=a):i+='"'===a?'\\"':a,n++}return'"'+i+'"'},o.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(60)),o=n(i(24)),d=n(i(77)),s=n(i(9)),l=n(i(1)),h=n(i(2)),c=n(i(7)),u=n(i(5)),p=n(i(6)),f=n(i(3));function I(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(i);return t=n?(e=(0,f.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,p.default)(this,t)}}var g=i(8),m=i(11),y=i(20),v=i(50),C=i(20),M=i(27),b=i(18),x=i(195),O=i(10),AsbestosFreeWireGauze=i(403),A=i(75),T=i(22),S=i(26),w=["P4","Mg","PingPong","FilterPaper"],i=function(){(0,u.default)(n,g);var i=I(n);function n(e){var t;return(0,l.default)(this,n),(t=i.call(this)).medConfData=e,t.conf_chemical_equation=!0,t.isBlockMedicine=!0,t.canAddMedToContainer=!0,t.rSpeed=900,t.temp=m.DEFAULT_TEMP,t._fluidRate=0,t.originCapacity=5,t}return(0,h.default)(n,[{key:"noChoice",get:function(){return this.parent!==this.getEqLayer()},set:function(e){}},{key:"fluidRate",get:function(){return this._fluidRate},set:function(e){this._fluidRate!==e&&(this._fluidRate=e,this.container&&this.container.medicineData&&(this.container.medicineData.updateBlockCapacity=!0))}},{key:"creationComplete",value:function(){var e=this;(0,c.default)((0,f.default)(n.prototype),"creationComplete",this).call(this),this.allowGetBounds=!1;var t=this.root.medicineManager.getMedicineData(this.getMedicineName());this.meltingPoint=t.melting_point,this.burningPoint=t.burning_point||1/0,this.on(NBEvent.del.PREPARE_DELETE,function(){e.clear(),e.destroy()}),this.on(NBEvent.del.DELETE,function(){e.clear(),e.destroy()}),this.napeScale=.9,this.medicineData=new A(this),this.outFrame=!0,this.parentMoveAngle=0}},{key:"container",get:function(){return this._container},set:function(e){var t,i,n=this.getBlockMedName();if(e){if(!e.blockMedicineMap)return void(this._container=e);(t=e.blockMedicineMap.get(n))||(t=new r.default,e.blockMedicineMap.set(n,t)),t.add(this),this.blockMedMapAry||(this.blockMedMapAry=[]),this.blockMedMapAry.includes(e.blockMedicineMap)||this.blockMedMapAry.push(e.blockMedicineMap)}!this._container||this._container===e||this.parent&&this.parent.isCombustionSpoon&&!e||this._container.blockMedicineMap&&(i=this._container.blockMedicineMap.get(n))&&(i.delete(this),!this.blockMedMapAry||0<=(i=this.blockMedMapAry.indexOf(this._container.blockMedicineMap))&&this.blockMedMapAry.splice(i,1)),this._container=e,this.setParticleMask(e)}},{key:"getBlockMedName",value:function(){return this.name}},{key:"setParticleMask",value:function(e){}},{key:"setMedVo",value:function(e,t){var i=this.medicineManager.getMedicineData(e);this.resetMol&&(t=this.resetMol,this.resetMol=null);var n=new y(i,t);this.medVo=n,this.solidMedicineInfo=(new o.default).set(e,n);i=this.medicineManager.getMedicineData(e);this.solidMedicine=new C(i,t),this.medicineData.solidAry[e]=n}},{key:"getRealCapacityVertex",value:function(){if(this.polyDataMap&&this.polyDataMap.refA){var e,t;if(this.globalAry&&(0<(t=this.polyDataMap.refA[0]).length&&(t=t[0]),e=this.toGlobal(t),t=this.globalAry[0],1<Math.abs(e.x-t.x)+Math.abs(e.y-t.y)&&(this.globalAry=null)),!this.globalAry){for(var i=[],n=this.polyDataMap.refA[0],a=0,r=n.length;a<r;a++)i.push(this.toGlobal(n[a]));this.globalAry=i}return this.globalAry}}},{key:"initNape",value:function(e){this.napeBody&&this.removeNape(),this.container=e,this.changeScale=1;var t=e.toLocal(this.toGlobal({x:0,y:0})),i=[];if(this.polyDataMap)if("C"===this.name||"CuSO45H2O"===this.name||"Fe"===this.name||"Cu"===this.name||"Mg"===this.name||"CaCO3"===this.name||"CaC2"===this.name||"Candle"===this.name||"Al"===this.name||"(C6H10O5)n(纤维素)_s"===this.name||"C9H8O4"===this.name||"PingPong"===this.name||"FilterPaper"===this.name||"C15H12O4"===this.name||"C16H14O4"===this.name)for(var n=this.polyDataMap.refA[0],a=n.length,r=0;r<a;r++){var o=n[r];i.push(new nape.geom.Vec2(o.x,o.y))}else{var s;s=this.image?(u=["refA","refB","refC"][this.image.currentFrame||0],this.polyDataMap[u][0]):this.polyDataMap.refA[0];for(var l=0;l<s.length;l++){var h=s[l];i.push(new nape.geom.Vec2(h.x,h.y))}}var c=this.medVo,u=new nape.phys.Material(.2,4,5,(0,d.default)(c.dat.density_solid),500),t=t,t=new v(nape.phys.BodyType.get_DYNAMIC(),new nape.geom.Vec2(t.x+6*Math.random()-3,t.y+30*Math.random()));t.medicineData=c.dat;c=new nape.shape.Polygon(i,u,null);(this.napeShape=c).get_filter().set_collisionGroup(2),c.get_filter().set_fluidGroup(2),t.get_shapes().add(c),t.setShapeMaterials(u),m.nacbtype||(m.nacbtype=new nape.callbacks.CbType),t.get_cbTypes().add(m.nacbtype),e.engine&&t.set_space(e.engine.space),(t.get_userData().view=this).napeBody=t}},{key:"addToContainer",value:function(e){var t,i,n;e.noAddMedicine||(this.initNape(e),this.canAddMedToContainer&&(e.medicineData.push(this.medVo),this.containerAddSurFaceVo(e,this.surFaceVo,!0),this.containerAddSurFaceVo(e,this.impurity,!0)),e.activeCount=m.ACTIVE_COUNT,t=e.children.length-1,e.waterContainer&&0<=e.children.indexOf(e.waterContainer)&&(t=e.children.indexOf(e.waterContainer)),void 0!==e.medContainerIndex&&(t="top"===e.medContainerIndex?e.children.length-1:e.medContainerIndex),i=b.retrieveRotation(this.worldTransform)-b.retrieveRotation(e.worldTransform)||0,e.addChildAtWithSamePos(this,t),this.setRotation(i),this.setStartInitTimePosition(),this.addToContainerCenter?(n=e.getCenterPosition(),this.setPosition(n.x,n.y)):(t=e.localBounds,i=this.localBounds,(n=t.y+t.height-(this.y+i.y+i.height)-40)<0&&this.setPosition(this.x,this.y+n),("BlockC"===this.constName&&"BigHardGlassTube"===e.name||t.width<i.width)&&this.setRotation(Math.PI/2)),this.allowGetBounds=!1)}},{key:"setStartInitTimePosition",value:function(){var e,t=this.parent;"BigTestTube"!==t.name&&"SmallTestTube"!==t.name&&"RoundBottomFlask"!==t.name&&"FlorenceFlask"!==t.name&&"SmallRoundBottomFlask"!==t.name||"Na"!==this.name&&"Fe"!==this.name&&"CaCO3"!==this.name&&"CaC2"!==this.name||(e=Math.abs(b.retrieveRotation(t.worldTransform)),.14<Math.abs(e)||.1<t.medicineData.getLiquidMol()||this.position.y>t.localBounds.y+80||(this.initHitContainer=t,this.startInitTime=1))}},{key:"checkHitContainerBottom",value:function(){var e,t,i;"Fe"!==this.name&&"CaCO3"!==this.name&&"CaC2"!==this.name||this.startInitTime&&(60<this.startInitTime||.3<this.parentMoveAngle||(e=this.parent)===this.initHitContainer&&(t=Math.abs(b.retrieveRotation(e.worldTransform)),"number"!=typeof this.lastSaveAngle||(this.parentMoveAngle+=Math.abs(this.lastSaveAngle-t)),this.lastSaveAngle=t,"Fe"===this.name&&(i=85),"CaCO3"!==this.name&&"CaC2"!==this.name||(i=35),this.startInitTime++,this.y>e.height+e.localBounds.y-i&&(e.doBreakImg(),this.startInitTime=null,this.startInitTime=0,this.parentMoveAngle=0,this.initHitContainer=null)))}},{key:"increaseTemp",value:function(e,t){var i,n,a,r,o;this.isCreationComplete&&(o=1,e.width&&e.height&&(i=e.x+e.width/2,n=e.y+e.height,r=this.getViewStack().scale.x,a=this.toGlobal({x:0,y:0}),r=(Math.abs(i-a.x)+Math.abs(n-a.y))/r,o=Math.min(1,Math.max(0,(500-r)/500))),r=("number"==typeof e?e:500)*o*(void 0!==this.alcoholBurnerTempScale?this.alcoholBurnerTempScale:1)/this.getHeatCapacity()+this.getTemp(),e=this.getTemp(),o=t*o,"inContainerAir"===this.posStatus&&this.container&&this.container.getCurrentCapacity&&5<this.container.getCurrentCapacity()&&(o=Math.min(o,this.container.medicineData.getLiquidAverageTemp()+5)),"inWater"!==this.posStatus&&(r<e||o<e)||this.setTemp(o<(r-e)/.5+e?o:(r-e)/.5+e))}},{key:"autoLowerTemp",value:function(){this.temp-=.2,this.temp<m.DEFAULT_TEMP&&(this.temp=m.DEFAULT_TEMP)}},{key:"judgeStatus",value:function(){if(this.container=this.increaseParent(this.parent),this.container instanceof AsbestosFreeWireGauze)return this.posStatus="inAir",void(this.fluidRate=0);if(this.container){if(null!=this.hitFluidArea()&&0!=this.hitFluidArea())return void(this.posStatus="inWater");var e=this.container.medicineData.getMedVo("H2O","liquid");if(e&&0<e.mol)return this.posStatus="inContainerHasWater",void(this.fluidRate=0)}this.fluidRate=0,this.container&&this.container.capacityVertex&&0<this.container.capacityVertex.length?this.posStatus="inContainerAir":this.posStatus="inAir"}},{key:"checkFloatMove",value:function(){var e,t;"inWater"!==this.posStatus||(e=this.container)&&0<e.activeCount&&e.activeCount<10&&(this.lastMovePos?(t={x:this.x,y:this.y},this.lastMovePos.x===t.x&&this.lastMovePos.y===t.y||(e.activeCount+=10,this.lastMovePos=t)):this.lastMovePos={x:this.x,y:this.y})}},{key:"hitFluidArea",value:function(e){var t,i=e||this,e=i.napeBody;if(e){for(var n=e.get_arbiters(),a=0;a<n.get_length();a++)if(n.at(a).get_type()==nape.dynamics.ArbiterType.get_FLUID()){t=n.at(a);break}if(t){e=t.get_overlap(),i=i.napeShape.get_area(),i=Math.round(e/(i||1e3)*100)/100;return this.fluidRate=i}return 0}}},{key:"getSolidMedicineInfo",value:function(){var e=this.medVo;return(new o.default).set(e.name,e.deepClone(this.INITMOL/this.rSpeed))}},{key:"getRealSolidMedicineInfo",value:function(){var e=this.medVo;return(new o.default).set(e.name,e.deepClone(this.INITMOL/this.INITMOL))}},{key:"getLiquidMedicineInfo",value:function(){if(this.parent&&this.parent instanceof O&&"inWater"===this.posStatus){var e=this.parent.medicineData.liquidAry,t=new o.default;return e.forEach(function(e){t.set(e.name,e)}),t}return(0,c.default)((0,f.default)(n.prototype),"getLiquidMedicineInfo",this).call(this)}},{key:"isAirContainer",value:function(e){if(m.OPENAIRARY.has(e))return!0}},{key:"initBubbleParticle",value:function(){var e=this.bubbleParticle=ParticleUtil.getParticle(ParticleUtil.particles.solid_bubble);this.container.waterContainer.addChild(e),this.particleContainer=this.container,this.bubbleParticle.alpha=1,e.bind(this)}},{key:"updateBubbleParticle",value:function(e){var t,i;2===e.type&&this.parent instanceof O&&"CrucibleTong"!==this.parent.name&&0<this.medVo.getMol()&&(e.mol<0||(this.renderSpecialBubble instanceof Function&&this.renderSpecialBubble(),this.bubbleParticle?(i=3e6*e.mol,t=1/(i=Math.min(Math.max(1,i),100)),e=Math.min(50+2*i,200),i=Math.min(150+2*i,300),this.bubbleParticle.setParticleProp("frequency",t),this.bubbleParticle.setParticleProp("startSpeed",e),this.bubbleParticle.setParticleProp("endSpeed",i),this.bubbleParticle.render(),this.bubbleParticle.alpha=1):this.initBubbleParticle()))}},{key:"getGasMedicineInfo",value:function(){if("inContainerAir"===this.posStatus&&!this.isAirContainer(this.parent.name)||"inWater"===this.posStatus&&"P4"===this.name&&this.bubbleHit()){var e=this.increaseParent(this.parent)instanceof O?this.increaseParent(this.parent):this.container,t=e.medicineData.gasAry,i=new o.default;return t.forEach(function(e){i.set(e.name,e)}),i}return!this.parent||this.parent.blockMedicine!==this&&this.parent.holdObj!==this&&!this.isAirContainer(this.parent.name)&&this.parent!==this.getEqLayer()?new o.default:(this.gasAry||(e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),e=new M(e,20),t=new M(t,80),this.gasAry=[e,t]),this.gasAry[0].setMol(m.AIRGASO2),this.gasAry[1].setMol(m.AIRGASN2),(new o.default).set("O2",this.gasAry[0]).set("N2",this.gasAry[1]))}},{key:"getMol",value:function(){return this.medVo.getMol()||.1}},{key:"medicines",value:function(){return this.solidMedicineInfo.entries()}},{key:"getMass",value:function(){return this.medVo.getMol()*this.medVo.dat.molecular_mass}},{key:"getTemp",value:function(){return"inWater"===this.posStatus&&this.container&&this.container.medicineData&&this.container.medicineData.liquidAry&&this.container.medicineData.liquidAry[0]?this.container.medicineData.getLiquidAverageTemp():this.temp}},{key:"getFluidCapacity",value:function(){return 0<this.fluidRate?this.fluidRate*this.originCapacity*Math.pow(this.scale.x,2):0}},{key:"autoDeliverGasTemp",value:function(){var e,t,i;"inContainerAir"===this.posStatus&&this.container&&this.container instanceof O&&(this.container.currentContainer&&this.container.currentContainer.liquidVertex?(t=this.container.currentContainer.liquidVertex,i=this.toGlobal({x:0,y:0}),S.containsPoint(t,i)&&(e=this.container.currentContainer.medicineData.getLiquidAverageTemp())):e=this.container.medicineData.getGasAverageTemp(),this.temp<e&&this.increaseTemp(200))}},{key:"getHeatCapacity",value:function(){return this.medVo&&this.medVo.dat.heat_capacity||1e3}},{key:"getNapeBounds",value:function(){this.allowGetBounds=!0;var e=this.getBounds();return this.allowGetBounds=!1,e}},{key:"destoryParticle",value:function(){this.particle&&this.particle.destroy()}},{key:"setTemp",value:function(e){"number"!=typeof e&&isNaN(e)||(this.temp=e<25?25:e,this.temp>this.burningPoint&&(this.particle||(this.particle=this.getParticle())))}},{key:"getParticle",value:function(){return null}},{key:"passTempToBlock",value:function(){}},{key:"addMedicine",value:function(e){e instanceof C||e&&e.dat&&"p"===e.dat.type?e.name===this.medVo.name?this.addMed(e):this.addNewSolid(e):e&&this.container&&this.container.addMedicine instanceof Function&&this.container.addMedicine(e)}},{key:"addMed",value:function(e){var t;this.medVo.name===e.name&&(t=this.medVo.getMol()+e.mol,this.medVo.setMol(t),this.parent&&this.parent.medicineData&&this.parent.medicineData.addMedicine(this.medVo.name,e.mol))}},{key:"addNewSolid",value:function(e){if(this.parent){e.getMol||(e=A.getMedFromEasyMed(e));var t=this.parent;if(this.container&&this.generageBottleGasAccProduct instanceof Function&&this.generageBottleGasAccProduct(e),"Fe"===this.name){if(this.impurity&&this.impurity[0].name===e.name)return this.impurity[0].setMol(this.impurity[0].getMol()+e.getMol()),void(this.parent.medicineData&&this.parent.medicineData.addSolidMedicine(e.name,e.getMol()));var i=e.name;this.surFaceVo||(this.surFaceVo=[]);var n=this.surFaceVo.find(function(e){return e.name===i});return n?n.setMol(n.getMol()+e.getMol()):this.surFaceVo.push(e),this.surFaceFun instanceof Function&&this.surFaceFun(),void(this.parent.medicineData&&this.parent.medicineData.addSolidMedicine(i,e.getMol()))}if("Al"===this.name&&this.impurity&&this.impurity[0].name===e.name)return this.impurity[0].setMol(this.impurity[0].getMol()+e.getMol()),void(this.parent.medicineData&&this.parent.medicineData.addSolidMedicine(e.name,e.getMol()));if("CaCO3"!==this.name||"CaSO4"!==e.name)if(t instanceof AsbestosFreeWireGauze)t.addProduct(e);else{if(("Forceps"===this.parent.name||"CrucibleTong"===this.parent.name||this.parent===this.getEqLayer())&&this.offsetWithAsbestos){var a=this.getAsbestosUnderEquipment(this.offsetWithAsbestos);if(a)return void a.addProduct(e)}if(t instanceof O){var r=e.mol;this.container&&this.container.needBottleSmoke&&"NaCl"===e.name&&this.container.pushSmokeMedicine instanceof Function&&(c=e.deepClone().setMol(r/2),this.container.pushSmokeMedicine(c),r/=2),"P2O5"===e.name&&this.container&&this.container.p4BottleSmoke&&this.container.isOpen&&(r*=.3);var o,s=new C(e.dat,e.mol),l=t.medicineNBGraphicMap.get(e.name);l&&(o=this.remainTadius||2.2,l.forEach(function(e){var t=e.getMaxStableMol(s,o);(e.getSolidMedicineInfo().get(s.name)?e.getSolidMedicineInfo().get(s.name).mol:0)<=t&&(e.addMedicine(s.deepClone().setMol(r)),r=0)}));var n=this.position.x,h=this.position.y,a={x:n,y:h};(c={x:n,y:h}).x-=20,a.x+=20;l=Math.abs(a.x-c.x),n=(c.x+a.x)/2,h=[];if(r){a=r;if(a<1e-10)return;l={x:n+(.5<Math.random()?1:-1)*Math.random()*l*.3,y:c.y-Math.random()-5};s.dat.density_solid;var c=s.deepClone(a);t.isBaseContainer?t.addMedicine(c,l):(a=new nape.phys.Material(.2,4,5,s.dat.density_solid,500),l=new x(t,a,c,l),t.medicineData.push(c.clone()),h.push(l))}0<h.length&&t.addNBGraphic(s.name,h)}}else{h=this.solidMedicineInfo.get("CaSO4");h?h.setMol(h.getMol()+e.getMol()):this.solidMedicineInfo.set("CaSO4",e.deepClone())}}}},{key:"removeContainerOtherMed",value:function(){var e=this.parent;e&&e.medicineData&&(this.containerAddSurFaceVo(e,this.surFaceVo,!1),this.containerAddSurFaceVo(e,this.impurity,!1))}},{key:"removeFromParent",value:function(){var e,t=this;if(this.fluidRate=0,this.blockMedMapAry)for(var i=0;i<this.blockMedMapAry.length;i++){var n,a=this.blockMedMapAry[i];!a||(n=a.get(this.name))&&(n.delete(this),0===n.size&&a.delete(this.name))}this.parent&&this.parent.blockMedicineMap&&((e=this.parent.blockMedicineMap.get(this.name))&&(e.delete(this),0===e.size&&this.parent.blockMedicineMap.delete(this.name))),this.removeContainerOtherMed(),this.parent&&this.parent.isClamp&&(this.parent.holdObj=null),this.parent&&"AsbestosFreeWireGauze"===this.parent.name&&(this.parent.emit("BlockDestroy",this.medVo),this.parent.blockMedicine=null),!this.parent||"QualitativeFilterPaper"!==this.parent.name||-1!==(e=this.parent.blockMedicine.indexOf(this))&&this.parent.blockMedicine.splice(e,1),this.parent&&this.parent.pascal&&this.parent.medicineData&&0<this.medVo.mol&&this.parent.medicineData.addMedicine(this.medVo.name,-this.medVo.mol),this.napeBody&&this.napeBody.destroy(),this.napeBody=null,this.destoryParticle(),this.destroySpecialBubble&&this.destroySpecialBubble(),this.bubbleParticle&&(this.bubbleParticle.destroy||(this.bubbleParticle.destroy=function(){for(var e in t.bubbleParticle){e=t.bubbleParticle[e];e&&e.destroy&&(e.parent.removeChild(e),e.destroy(),e=null)}}),this.bubbleParticle.destroy(),this.bubbleParticle=null),this.parent&&this.parent.removeChild(this),this.isBurn=!1}},{key:"destroy",value:function(){this.removeFromParent(),NBDrag.removeDrag(this),this.removeAllListeners()}},{key:"burnUpdateTemp",value:function(){this.temp<Number(this.burningPoint)+2&&(this.temp=Number(this.burningPoint)+1.5)}},{key:"increaseParent",value:function(e){return!(e==this.getEqLayer()||!e)&&(e instanceof O&&"CrucibleTong"!==e.name&&!e.isCombustionSpoon?e:"AsbestosFreeWireGauze"===e.name?this.container instanceof O?this.container:e:this.increaseParent(e.parent))}},{key:"getCurrentGas",value:function(){return T.openContainerGetGasAry(this.container,!0)}},{key:"getCurrentGasDens",value:function(t){var i,e=this.getCurrentGas(),n=e.find(function(e){return e.name===t}),a=0;return n&&(i=0,e.forEach(function(e){i+=e.getMol()}),a=n.getMol()/i,i<1e-7&&(a=0)),a}},{key:"calCanReactDens",value:function(e,t){var i=!1,n=this.name;if(n)try{i=(T.EquationMap[n][e].equationAry[0].reactIndex||t||.001)<this.getCurrentGasDens(e)/2}catch(e){return!1}return i}},{key:"clearBubbleParticle",value:function(e){if(this.bubbleParticle&&this.bubbleParticle)if("Mg"===this.name||"Al"===this.name){if(0<this.bubbleParticle.particleSelf.alpha)for(var t in this.bubbleParticle)this.bubbleParticle[t].alpha-=.2;if(this.bubbleParticle.particleSelf.alpha<=0||e){for(var i in this.bubbleParticle){i=this.bubbleParticle[i];this.root.particleManager.destroy(i)}this.reactCount=0,this.bubbleParticle=null}}else 0<this.bubbleParticle.alpha&&(this.bubbleParticle.alpha-=.2),(this.bubbleParticle.alpha<=0||e)&&(this.parent.particleDestroy(this.bubbleParticle),this.bubbleParticle=null)}},{key:"autoChangeScale",value:function(){var e,t=this;"Na"!==t.name&&"BlockCu2"!==t.name&&("Fe"===t.name&&(.1<t.CuSurface.alpha||.1<t.AgSurface.alpha)||(t.blockScale=Math.sqrt(t.medVo.getMol()/t.INITMOL),isNaN(t.blockScale)&&(t.blockScale=0),1<t.blockScale||(t.scale.x=t.blockScale,t.scale.y=t.blockScale,t.autoReleaseImpurity instanceof Function&&t.autoReleaseImpurity(),t.napeBody&&t.napeScale>Number(t.blockScale)&&0<Number(t.blockScale.toFixed(1))&&(e=t.napeScale,t.napeScale-=.1,(e=t.napeScale/e)<=0||(t.napeBody.scaleShapes(e,e),t.napeScale=Number(t.napeScale.toFixed(1)),t=this.fluidRate,this.fluidRate=0,this.fluidRate=t)))))}},{key:"autoReleaseFireHot",value:function(e){var t,i;this.isBurn&&w.includes(this.name)&&this.fireParticle&&this.fireParticle._particles&&(this.mainParticle||this.llSmoke)&&(this.mainParticle?(t=this.mainParticle).allowGetBounds=!0:t=this.llSmoke,t.updateTransform(),0!==(i=t.getBounds().clone()).width&&0!==i.height&&this.newRadiantHeat(m.WOOD_HEAT_VALUE,i,e,m.TEMP_MATCH),this.mainParticle&&(t.allowGetBounds=!1))}},{key:"blockToAsbestosFreeWireGauze",value:function(e){var t=this;t.initNape(e),e.addChildWithSamePos(t),t.x=e.blockSetPos.x,t.y=e.blockSetPos.y,t.rotationInAsbestosFreeWireGauze&&(t.rotation=t.rotationInAsbestosFreeWireGauze,t.y+=14,NBDrag.removeDrag(t)),e.blockMedicine=t}},{key:"getMessage",value:function(){return{mol:this.medVo.getMol(),temp:this.temp,constName:this.constName,surFaceVo:this.surFaceVo,impurity:this.impurity,cutType:this.cutType,INITMOL:this.INITMOL,rustState:this.rustState,assignInfo:this.getAssignInfo()}}},{key:"getAssignInfo",value:function(){return null}},{key:"removeNape",value:function(){this.napeBody&&(this.napeBody.get_space()&&this.napeBody.get_space().remove(this.napeBody),this.napeBody.userData&&(this.napeBody.userData=null),this.napeBody=null)}},{key:"clear",value:function(){}},{key:"autoClear",value:function(){}},{key:"update",value:function(e){(0,c.default)((0,f.default)(n.prototype),"update",this).call(this,e),this.judgeStatus(),this.autoLowerTemp(),this.medVo.setTemp(this.temp),this.autoChangeScale(),this.checkFloatMove(),this.autoReleaseFireHot(e),this.checkHitContainerBottom(),this.autoDeliverGasTemp()}},{key:"toJSON",value:function(){return(0,s.default)({temp:this.temp,voMol:this.medVo.getMol()},(0,c.default)((0,f.default)(n.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,c.default)((0,f.default)(n.prototype),"setJSON",this).call(this,e),"Candle"!==e.name&&"BlockPingPong"!==e.name&&"BlockFilterPaper"!==e.name&&"BlockFeIm"!==e.name&&"BlockC9H8O4"!==e.name&&"BlockC16H14O4"!==e.name&&"BlockC15H12O4"!==e.name&&"BlockSpinach"!==e.name&&"BlockFungus"!==e.name&&NBDrag.removeDrag(this),this.parent&&this.parent.isClamp||(this.y-=15),this.medVo.setMol(e.voMol),this.temp=e.temp,this.parent&&this.parent instanceof O&&(this.initNape(this.parent),this.canAddMedToContainer&&this.parent.medicineData.push(this.medVo)),this.parent&&"QualitativeFilterPaper"===this.parent.name&&this.destroy()}}]),n}();e.exports=i},function(e,t,i){e.exports=i(428)},function(e,t,i){e.exports=i(434)},function(e,t,i){e.exports=i(439)},function(e,t,i){"use strict";var s=i(44),l=i(42),h=i(43),c=i(37),n=i(0),B=n(i(24)),m=n(i(25));function D(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var a=i(505),i=i(133),y={},v={},C=i.atomsMap;y.getLiquidFromIons=function(e,t){for(var i=new B.default,n=new B.default,a=new B.default,r=0;r<e.length;r++){var o=e[r],s=Number(o.dat.valence),l=o.name,o={valence:s,mol:o.mol};(0<s?n:a).set(l,o)}var h,c=D(n.keys());try{for(c.s();!(h=c.n()).done;){var u,d=h.value,p=n.get(d),f=D(a.keys());try{for(f.s();!(u=f.n()).done;){var I,g,m,y,v,C,M,b,x,O,A=u.value,T=a.get(A);0!==p.mol&&0!==T.mol&&("H"===d&&"OH"===A||"Fe"===d&&"SCN"===A||("H"===A[I=0]&&"H"===d&&(A=A.substring(1),T.valence--,I++),m=(g=p.valence*-T.valence/w(p.valence,-T.valence,1,1))/p.valence,y=g/-T.valence,v=S(d,m)+S(A,y),((C=t.getMedicineData(v))||(v=S(A,y)+S(d,m),C=t.getMedicineData(v)))&&(I&&(T.valence+=I,g=p.valence*-T.valence/w(p.valence,-T.valence,1,1),m=(g*=.99)/p.valence,y=g/-T.valence),M=p.mol/m,b=T.mol/y,x=1,O=void 0,x=b<M?(O=b,y):(O=M,m),O=b<M?b:M,p.mol-=O*m,T.mol-=O*y,i.set(v,{dat:C,mol:O,fractal:x,index:new B.default([[d,m],[A,y]])}))))}}catch(e){f.e(e)}finally{f.f()}}}catch(e){c.e(e)}finally{c.f()}return i;function S(e,t){e=1<t?1<e.match(/[A-Z]/g).length?"(".concat(e,")").concat(t):e+t:e;return e}function w(e,t,i,n){return e<i||t<i?n:w(e,t,i+1,n=e%i==0&&t%i==0?i:n)}},y.findAnyMedicine=function(t,e,i){var n,a,r={s:"solidAry",g:"gasAry",l:"liquidAry",i:"ionAry",p:"solidAry"},o=e.medicineData;if(i)return s(r[i]);for(a in r)if(n=s(r[a]))return n;function s(e){e=o[e];return n=e instanceof Array?e.find(function(e){return e.name===t}):e[t]}},y.convertToChemicalName=function(e){return a.dealWith(e)},y.getMoleculeRelativeMass=function(e){if(void 0!==v[e])return v[e];var t,i=e,n=0,a=e.match(/\.|·/);if("植物油"===e&&(n=18.02),"鸡蛋清"===e&&(n=20),"PE"===e&&(n=100),"碎瓷片"===e&&(n=200),"石蜡油"===e&&(n=72),"杂质"===e&&(n=nb.OTHER_MASS_DEFAULT),"沙子"===e&&(n=60),"泥土"===e&&(n=60),"唾液淀粉酶"===e&&(n=20),"线型酚醛树脂"===e&&(n=124),"体型酚醛树脂"===e&&(n=124),"[Cu(NH3)4](OH)2"===e&&(n=165.5),"[Cu(NH3)4]SO4·H2O"===e&&(n=227.5),"高吸水性树脂"===e&&(n=1),e.includes("Pigment")&&(n=100),"H2SiO3(胶体)"===e&&(n=18),e=e.replace(/[^\x00-\xff]/g,""),a&&((t=(g=e.substring(a.index+1)).match(/^\d*/))&&(g="(".concat(g.substring(t[0].length),")").concat(t[0])),e=e.substring(0,a.index)+g),"AmBpO2p(nH2O)"===e&&(n=218.2),"C_s"===e&&(n=12),"Al_s"===e&&(n=27),"(C6H10O5)n"===e&&(n=88),"CH2=CH2"===e&&(n=28),"CH3CH2CH=CH2"===e&&(n=56),"CH2=CH(CH2)3CH3"===e&&(n=84),"CHBr=CHBr"===e&&(n=186),n="OTHERS"===e?nb.OTHER_MASS_DEFAULT:n)return v[i]=n;for(var r=0,o=0;o<e.length;o++){var s=0,l=e.charAt(o),h=e.charAt(o+1);if("("===l){for(var c=1,u=o;;){u++;var d=e.charAt(u);if("("===d?c++:")"===d&&c--,0===c)break}var p=e.substring(o+1,u),o=u,s=y.getMoleculeRelativeMass(p)}else s="a"<=h&&h<="z"?(o++,C[l+h]):C[l];for(var f="";;){var I=e.charAt(o+1);if(!("0"<=I&&I<="9")){""!==f&&(s*=(0,m.default)(f));break}f+=I,o++}r+=s}var r=Number(r.toFixed(3)),g=chemicalMain.medicineManager.medData;return isNaN(r)?g[e]&&(n=Number(g[e].molecular_mass),isNaN(n)||(r=Number(n.toFixed(3)))):g[e]&&(g[e].molecular_mass=r||0),v[i]=r},e.exports=y},function(e,t,i){e.exports=i(465)},function(e,t,i){"use strict";var r=i(17).nearlyEqual,o=i(116);t.factory=function(e,i,t,n){var a=n("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return e===t||r(e,t,i.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||o(e,t,i.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return a(e.value,t.value)},"string, string":function(e,t){return e===t}});return a}},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t,i){"use strict";function n(e,t,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=i,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}(n.prototype=new RangeError).constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0,e.exports=n},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(364),i=function(e){(0,s.default)(n,e);var i=c(n);function n(e,t){return(0,r.default)(this,n),(t=i.call(this,e,t)).userData={dragLevel:0,noDrag:!1},t.shapes=t.zpp_inner.wrap_shapes,t}return(0,o.default)(n,[{key:"constraints",get:function(){return this.zpp_inner.wrap_constraints||(this.zpp_inner.wrap_constraints=zpp_nape.util.ZPP_ConstraintList.get(this.zpp_inner.constraints,!0)),this.zpp_inner.wrap_constraints}},{key:"cbTypes",get:function(){return this.zpp_inner.wrap_cbTypes||this.zpp_inner.setupcbTypes(),this.zpp_inner.wrap_cbTypes}},{key:"arbiters",get:function(){return this.zpp_inner.wrap_arbiters||(this.zpp_inner.wrap_arbiters=zpp_nape.util.ZPP_ArbiterList.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters}},{key:"bullet",get:function(){return this.zpp_inner.bulletEnabled},set:function(e){this.zpp_inner.bulletEnabled=e}},{key:"posx",get:function(){return this.zpp_inner.posx},set:function(e){this.zpp_inner.posx=e}},{key:"posy",get:function(){return this.zpp_inner.posy},set:function(e){this.zpp_inner.posy=e}},{key:"isSleep",get:function(){return this.zpp_inner.component.sleeping}},{key:"rotation",get:function(){return this.zpp_inner.rot},set:function(e){this.zpp_inner.rot=e,this.zpp_inner.invalidate_rot(),this.zpp_inner.wake()}},{key:"type",get:function(){return this.zpp_inner.type},set:function(e){this.zpp_inner.type=e}},{key:"noallowRotation",get:function(){return this.zpp_inner.norotate},set:function(e){this.zpp_inner.norotate=e,this.zpp_inner.invalidate_inertia()}},{key:"angularVel",get:function(){return this.zpp_inner.angvel},set:function(e){this.zpp_inner.angvel=e}},{key:"velocity",get:function(){return new nape.geom.Vec2(this.zpp_inner.velx,this.zpp_inner.vely)},set:function(e){this.zpp_inner.velx=e.zpp_inner.x,this.zpp_inner.vely=e.zpp_inner.y}},{key:"position",get:function(){return nape.geom.Vec2.get(this.zpp_inner.posx,this.zpp_inner.posy)}},{key:"setPosition",value:function(e){this.set_position(new nape.geom.Vec2(e.x,e.y))}},{key:"bounds",get:function(){return this.zpp_inner.aabb}},{key:"space",get:function(){return this.zpp_inner.space.outer}},{key:"isStatic",get:function(){return this.zpp_inner.type===zpp_nape.util.ZPP_Flags.id_BodyType_STATIC}},{key:"isDynamic",get:function(){return this.zpp_inner.type===zpp_nape.util.ZPP_Flags.id_BodyType_DYNAMIC}},{key:"isKinematic",get:function(){return this.zpp_inner.type===zpp_nape.util.ZPP_Flags.id_BodyType_KINEMATIC}},{key:"mass",get:function(){return this.zpp_inner.cmass},set:function(e){this.zpp_inner.massMode=zpp_nape.util.ZPP_Flags.id_MassMode_FIXED,this.zpp_inner.cmass=e,this.zpp_inner.invalidate_mass(),this.zpp_inner.validate_mass()}},{key:"sensorEnabled",value:function(e){for(var t=0;t<this.shapes.get_length();t++)this.shapes.at(t).set_sensorEnabled(e)}},{key:"addCbType",value:function(e){this.cbTypes.add(e)}},{key:"forbidDrag",value:function(e){this.userData.noDrag=e}},{key:"add",value:function(e){this.zpp_inner.wrap_shapes.add(e)}},{key:"remove",value:function(e){return this.zpp_inner.wrap_shapes.remove(e)}},{key:"shapesAt",value:function(e){return this.zpp_inner.wrap_shapes.at(e)}},{key:"localPointToWorld",value:function(e){e=u.rotateVec2(e,this.zpp_inner.rot);return nape.geom.Vec2.get(this.posx+e.get_x(),this.posy+e.get_y())}},{key:"worldPointToLocal",value:function(e){e=nape.geom.Vec2.get(e.get_x()-this.posx,e.get_y()-this.posy);return u.rotateVec2(e,-this.zpp_inner.rot)}},{key:"set_sensorEnabled_at",value:function(e,t){this.shapesAt(e).set_sensorEnabled(t)}},{key:"set_shape_sensorEnabled",value:function(e,t){e.set_sensorEnabled(t)}},{key:"setFilter_cm",value:function(e,t,i){e.zpp_inner.filter.collisionGroup=t,e.zpp_inner.filter.collisionMask=i}},{key:"setGroup",value:function(e){this.zpp_inner.setGroup(e.zpp_inner)}},{key:"setShapeFluidEnabled",value:function(e,t){e.zpp_inner.immutable_midstep("Shape::fluidEnabled"),(e.zpp_inner.fluidEnabled=t)&&!e.zpp_inner.fluidProperties&&e.set_fluidProperties(new nape.phys.FluidProperties),e.zpp_inner.wake()}},{key:"getShapeFluidEnabled",value:function(e){return e.zpp_inner.fluidEnabled}},{key:"setFluidDensity",value:function(e,t){e.zpp_inner.immutable_midstep("Shape::fluidProperties"),e.zpp_inner.fluidProperties||e.zpp_inner.setFluid((new nape.phys.FluidProperties).zpp_inner),e.zpp_inner.fluidProperties.wrapper().set_density(t),e.zpp_inner.material.density=t/1e3}},{key:"getFluidDensity",value:function(e){return e.zpp_inner.immutable_midstep("Shape::fluidProperties"),e.zpp_inner.fluidProperties||e.zpp_inner.setFluid((new nape.phys.FluidProperties).zpp_inner),e.zpp_inner.fluidProperties.wrapper().get_density()}},{key:"setFluidViscosity",value:function(e,t){e.zpp_inner.immutable_midstep("Shape::fluidProperties"),e.zpp_inner.fluidProperties||e.zpp_inner.setFluid((new nape.phys.FluidProperties).zpp_inner),e.zpp_inner.fluidProperties.wrapper().set_viscosity(t)}},{key:"getFluidViscosity",value:function(e){return e.zpp_inner.immutable_midstep("Shape::fluidProperties"),e.zpp_inner.fluidProperties||e.zpp_inner.setFluid((new nape.phys.FluidProperties).zpp_inner),e.zpp_inner.fluidProperties.wrapper().get_viscosity()}},{key:"getShapeArea",value:function(e){return e?e.zpp_inner.area:null}},{key:"wake",value:function(){this.zpp_inner.wake()}},{key:"destroy",value:function(){var e=this.userData||this.get_userData();!e||(e=e.view)&&e.destroy(),this.get_space()&&this.get_space().remove(this)}}]),n}(nape.phys.Body);i.dynamic=nape.phys.BodyType.get_DYNAMIC(),i.static=nape.phys.BodyType.get_STATIC(),i.kinematic=nape.phys.BodyType.get_KINEMATIC(),e.exports=i},function(e,t,M){"use strict";var b=M(28).extend,x=M(14);t.name="multiply",t.factory=function(i,e,t,N){var n=M(23),a=t(M(12)),J=t(M(62)),_=t(M(73)),L=t(M(47)),r=t(M(65)),o=t(M(35)),y=i.DenseMatrix,E=i.SparseMatrix,s=N("multiply",b({"Array, Array":function(e,t){l(x.size(e),x.size(t));t=s(a(e),a(t));return i.isMatrix(t)?t.valueOf():t},"Matrix, Matrix":function(e,t){var i=e.size(),n=t.size();return l(i,n),1===i.length?1===n.length?h(e,t,i[0]):c(e,t):(1===n.length?d:p)(e,t)},"Matrix, Array":function(e,t){return s(e,a(t))},"Array, Matrix":function(e,t){return s(a(e,t.storage()),t)},"Matrix, any":function(e,t){var i;switch(e.storage()){case"sparse":i=r(e,t,_,!1);break;case"dense":i=o(e,t,_,!1)}return i},"any, Matrix":function(e,t){var i;switch(t.storage()){case"sparse":i=r(t,e,_,!0);break;case"dense":i=o(t,e,_,!0)}return i},"Array, any":function(e,t){return o(a(e),t,_,!1).valueOf()},"any, Array":function(e,t){return o(a(t),e,_,!0).valueOf()},"any, any":_,"Array | Matrix | any, Array | Matrix | any, ...any":function(e,t,i){for(var n=s(e,t),a=0;a<i.length;a++)n=s(n,i[a]);return n}},_.signatures)),l=function(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}},h=function(e,t,i){if(0===i)throw new Error("Cannot multiply two empty vectors");var n=e._data,e=e._datatype,a=t._data,t=t._datatype,r=J,o=_;e&&t&&e===t&&"string"==typeof e&&(r=N.find(J,[e=e,e]),o=N.find(_,[e,e]));for(var s=o(n[0],a[0]),l=1;l<i;l++)s=r(s,o(n[l],a[l]));return s},c=function(e,t){if("dense"===t.storage())return u(e,t);throw new Error("Not implemented")},u=function(e,t){var i,n=e._data,a=e._size,r=e._datatype,o=t._data,e=t._size,t=t._datatype,s=a[0],l=e[1],h=J,c=_;r&&t&&r===t&&"string"==typeof r&&(h=N.find(J,[i=r,i]),c=N.find(_,[i,i]));for(var u=[],d=0;d<l;d++){for(var p=c(n[0],o[0][d]),f=1;f<s;f++)p=h(p,c(n[f],o[f][d]));u[d]=p}return new y({data:u,size:[l],datatype:i})},d=function(e,t){switch(e.storage()){case"dense":return f(e,t);case"sparse":return m(e,t)}},p=function(e,t){switch(e.storage()){case"dense":switch(t.storage()){case"dense":return I(e,t);case"sparse":return g(e,t)}break;case"sparse":switch(t.storage()){case"dense":return v(e,t);case"sparse":return C(e,t)}}},f=function(e,t){var i,n=e._data,a=e._size,e=e._datatype,r=t._data,t=t._datatype,o=a[0],s=a[1],l=J,h=_;e&&t&&e===t&&"string"==typeof e&&(l=N.find(J,[i=e,i]),h=N.find(_,[i,i]));for(var c=[],u=0;u<o;u++){for(var d=n[u],p=h(d[0],r[0]),f=1;f<s;f++)p=l(p,h(d[f],r[f]));c[u]=p}return new y({data:c,size:[o],datatype:i})},I=function(e,t){var i,n=e._data,a=e._size,r=e._datatype,o=t._data,e=t._size,t=t._datatype,s=a[0],l=a[1],h=e[1],c=J,u=_;r&&t&&r===t&&"string"==typeof r&&(c=N.find(J,[i=r,i]),u=N.find(_,[i,i]));for(var d=[],p=0;p<s;p++){var f=n[p];d[p]=[];for(var I=0;I<h;I++){for(var g=u(f[0],o[0][I]),m=1;m<l;m++)g=c(g,u(f[m],o[m][I]));d[p][I]=g}}return new y({data:d,size:[s,h],datatype:i})},g=function(e,t){var i=e._data,n=e._size,a=e._datatype,r=t._values,o=t._index,s=t._ptr,e=t._size,t=t._datatype;if(!r)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var l=n[0],h=e[1],c=J,u=_,d=L,p=0;a&&t&&a===t&&"string"==typeof a&&(c=N.find(J,[m=a,m]),u=N.find(_,[m,m]),d=N.find(L,[m,m]),p=N.convert(0,m));for(var f=[],I=[],g=[],m=new E({values:f,index:I,ptr:g,size:[l,h],datatype:m}),y=0;y<h;y++){g[y]=I.length;var v=s[y],C=s[y+1];if(v<C)for(var M=0,b=0;b<l;b++){for(var x,O=b+1,A=v;A<C;A++){var T=o[A];M!==O?(x=u(i[b][T],r[A]),M=O):x=c(x,u(i[b][T],r[A]))}M!==O||d(x,p)||(I.push(b),f.push(x))}}return g[h]=I.length,m},m=function(e,t){var i=e._values,n=e._index,a=e._ptr,r=e._datatype;if(!i)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var o,s=t._data,l=t._datatype,e=e._size[0],h=t._size[0],c=[],u=[],t=[],d=J,p=_,f=L,I=0;r&&l&&r===l&&"string"==typeof r&&(d=N.find(J,[o=r,o]),p=N.find(_,[o,o]),f=N.find(L,[o,o]),I=N.convert(0,o));for(var g=[],m=[],y=t[0]=0;y<h;y++){var v=s[y];if(!f(v,I))for(var C=a[y],M=a[y+1],b=C;b<M;b++){var x=n[b];m[x]?g[x]=d(g[x],p(v,i[b])):(m[x]=!0,u.push(x),g[x]=p(v,i[b]))}}for(var O=u.length,A=0;A<O;A++){var T=u[A];c[A]=g[T]}return t[1]=u.length,new E({values:c,index:u,ptr:t,size:[e,1],datatype:o})},v=function(e,t){var i=e._values,n=e._index,a=e._ptr,r=e._datatype;if(!i)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var o=t._data,s=t._datatype,e=e._size[0],l=t._size[0],h=t._size[1],c=J,u=_,d=L,p=0;r&&s&&r===s&&"string"==typeof r&&(c=N.find(J,[m=r,m]),u=N.find(_,[m,m]),d=N.find(L,[m,m]),p=N.convert(0,m));for(var f=[],I=[],g=[],m=new E({values:f,index:I,ptr:g,size:[e,h],datatype:m}),y=[],v=[],C=0;C<h;C++){g[C]=I.length;for(var M=C+1,b=0;b<l;b++){var x=o[b][C];if(!d(x,p))for(var O=a[b],A=a[b+1],T=O;T<A;T++){var S=n[T];v[S]!==M?(v[S]=M,I.push(S),y[S]=u(x,i[T])):y[S]=c(y[S],u(x,i[T]))}}for(var w=g[C],B=I.length,D=w;D<B;D++){var P=I[D];f[D]=y[P]}}return g[h]=I.length,m},C=function(e,t){var i=e._values,n=e._index,a=e._ptr,r=e._datatype,o=t._values,s=t._index,l=t._ptr,h=t._datatype,e=e._size[0],c=t._size[1],u=i&&o,d=J,p=_;r&&h&&r===h&&"string"==typeof r&&(d=N.find(J,[b=r,b]),p=N.find(_,[b,b]));for(var f,I,g,m,y,v=u?[]:void 0,C=[],M=[],b=new E({values:v,index:C,ptr:M,size:[e,c],datatype:b}),x=u?[]:void 0,O=[],A=0;A<c;A++){M[A]=C.length;for(var T=A+1,S=l[A],w=l[A+1],B=S;B<w;B++)if(y=s[B],u)for(I=a[y],g=a[y+1],f=I;f<g;f++)O[m=n[f]]!==T?(O[m]=T,C.push(m),x[m]=p(o[B],i[f])):x[m]=d(x[m],p(o[B],i[f]));else for(I=a[y],g=a[y+1],f=I;f<g;f++)O[m=n[f]]!==T&&(O[m]=T,C.push(m));if(u)for(var S=M[A],D=C.length,P=S;P<D;P++){var L=C[P];v[P]=x[L]}}return M[c]=C.length,b};return s.toTex={2:"\\left(${args[0]}"+n.operators.multiply+"${args[1]}\\right)"},s}},function(e,t,i){"use strict";var n={distance:function(e,t){var i=e.x-t.x,t=e.y-t.y;return Math.sqrt(i*i+t*t)},distanceSquare:function(e,t){var i=e.x-t.x,t=e.y-t.y;return i*i+t*t},interpolate:function(e,t,i){var n={};return n.x=e.x+(t.x-e.x)*(i=1-i),n.y=e.y+(t.y-e.y)*i,n}};global.NBPoint=n,e.exports=n},function(e,t,i){"use strict";var n=i(0),a=n(i(61)),r=n(i(1)),o=n(i(2)),h=nape.shape.Polygon,c=nape.geom.Vec2,s=i(911),u=nape.geom.GeomPolyList,d=nape.geom.MarchingSquares,p=nape.geom.AABB,f=i(912),n=function(){function l(){(0,r.default)(this,l)}return(0,o.default)(l,null,[{key:"destoryBody",value:function(e){if(e){for(var t=e.space,i=e.constraints,n=i.get_length()-1;0<=n;n--){var a=i.at(n);a.body1=null,a.body2=null,a.body3=null,a.body4=null,t.constraints.remove(a)}e.group=null,t.remove(e),e.userData=null}}},{key:"destoryJoint",value:function(e){var t=e.zpp_inner.space.outer;e.active=!1,e.body1=null,e.body2=null,e.body3=null,e.body4=null,t.constraints.remove(e)}},{key:"BodyFromSprite",value:function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2,a=new PIXI.RenderTexture(window.instance.renderer,e.width,e.height);a.render(e);var r=new f(a),e=new p(0,0,e.width,e.height),i=i||8,i=new c(i,i),n=d.run(function(e,t){return r.iso.call(r,e,t)},e,i,n),o=new u,s=t;return n.foreach(function(e){o.merge(e.convexDecomposition())}),o.foreach(function(e){s.add(new h(e,new nape.phys.Material))}),s}},{key:"getBodyFromCb",value:function(e){return[e.zpp_inner.int1.outer,e.zpp_inner.int2.outer]}},{key:"createBody",value:function(){return new(i(50))}},{key:"BodyFromArray",value:function(r,e,o){for(var s=e||l.createBody(),t=0;t<r.length;t++){var i=function(e){var t=r[e],i=new nape.geom.Vec2List;$.each(t,function(e,t){i.push(new c(t.x,t.y))});e=new h(i,o),t=e.validity().toString();if("VALID"===t)s.add(e);else{if("DEGENERATE"===t)return{v:void 0};t=new nape.geom.GeomPoly(i);if(l.isDegenerate(t))return{v:void 0};try{var n=t.simpleDecomposition(),a=new nape.geom.GeomPolyList;n.foreach(function(e){a.merge(e.convexDecomposition())}),a.foreach(function(e){s.add(new h(e,o))})}catch(e){}}}(t);if("object"===(0,a.default)(i))return i.v}return s}},{key:"setShapeMass",value:function(e,t){var i=e.zpp_inner.area;e.zpp_inner.material.density=t/i}},{key:"getShapeMass",value:function(e){return e.get_area()*(e.get_material().get_density()/1e3)}},{key:"setShapeMaterial",value:function(e,t){var i=e.zpp_inner.material;$.each(t,function(e,t){i[e]=t})}},{key:"setBodyMaterial",value:function(e,t){e.shapes.foreach(function(e){var i=e.zpp_inner.material;$.each(t,function(e,t){i[e]=t})})}},{key:"frezzBody",value:function(e){e.velocity=new nape.geom.Vec2(0,0),e.angularVel=0}},{key:"getcastPolygon",value:function(e){return e.zpp_inner.type==zpp_nape.util.ZPP_Flags.id_ShapeType_POLYGON?e.zpp_inner.polygon.outer_zn:null}},{key:"getAllCollisionBodys",value:function(t,i){var n=[];return t?(t.arbiters.foreach(function(e){l.arbiterIsCollision(e)&&(e=e.zpp_inner,t===e.b1.outer?(i||e.b2.outer.isDynamic)&&n.push(e.b2.outer):(i||e.b1.outer.isDynamic)&&n.push(e.b1.outer))}),n):[]}},{key:"arbiterIsCollision",value:function(e){return e.zpp_inner.type===zpp_nape.dynamics.ZPP_Arbiter.COL}},{key:"findLinkBodys",value:function(e,t,i){var n=new nape.phys.BodyList;return e&&l.findRelationBody(e,n,i),t&&n.filter(function(e){return e.isDynamic}),n}},{key:"findRelationBody",value:function(i,n,a){a&&s.arrayContainsValue(a,i)||(n.add(i),i.constraints.foreach(function(e){var t=e.body1,e=e.body2;t&&!n.has(t)&&t!==t.space.world&&t!==i&&l.findRelationBody(t,n,a),e&&!n.has(e)&&e!==e.space.world&&e!==i&&l.findRelationBody(e,n,a)}))}},{key:"setShapeGroup",value:function(e,t){if(1===t.length)switch(t[0]){case 1:e.zpp_inner.filter.collisionGroup=1,e.zpp_inner.filter.collisionMask=~(14|l.s(7)|l.s(8)|l.s(9)|l.s(13));break;case 2:e.zpp_inner.filter.collisionGroup=2,e.zpp_inner.filter.collisionMask=~(13|l.s(5)|l.s(6)|l.s(9)|l.s(12));break;case 3:e.zpp_inner.filter.collisionGroup=4,e.zpp_inner.filter.collisionMask=~(11|l.s(4)|l.s(6)|l.s(8)|l.s(11));break;case 4:e.zpp_inner.filter.collisionGroup=8,e.zpp_inner.filter.collisionMask=~(7|l.s(4)|l.s(5)|l.s(7)|l.s(10))}else 2===t.length?s.arrayContainsArray(t,[1,2])?(e.zpp_inner.filter.collisionGroup=l.s(4),e.zpp_inner.filter.collisionMask=~(12|l.s(9))):s.arrayContainsArray(t,[1,3])?(e.zpp_inner.filter.collisionGroup=l.s(5),e.zpp_inner.filter.collisionMask=~(10|l.s(8))):s.arrayContainsArray(t,[1,4])?(e.zpp_inner.filter.collisionGroup=l.s(6),e.zpp_inner.filter.collisionMask=~(6|l.s(7))):s.arrayContainsArray(t,[2,3])?(e.zpp_inner.filter.collisionGroup=l.s(7),e.zpp_inner.filter.collisionMask=~(9|l.s(6))):s.arrayContainsArray(t,[2,4])?(e.zpp_inner.filter.collisionGroup=l.s(8),e.zpp_inner.filter.collisionMask=~(5|l.s(5))):s.arrayContainsArray(t,[3,4])&&(e.zpp_inner.filter.collisionGroup=l.s(9),e.zpp_inner.filter.collisionMask=~(3|l.s(4))):3===t.length?s.arrayContainsArray(t,[1,2,3])?(e.zpp_inner.filter.collisionGroup=l.s(10),e.zpp_inner.filter.collisionMask=-9):s.arrayContainsArray(t,[1,2,4])?(e.zpp_inner.filter.collisionGroup=l.s(11),e.zpp_inner.filter.collisionMask=-5):s.arrayContainsArray(t,[1,3,4])?(e.zpp_inner.filter.collisionGroup=l.s(12),e.zpp_inner.filter.collisionMask=-3):s.arrayContainsArray(t,[2,3,4])&&(e.zpp_inner.filter.collisionGroup=l.s(13),e.zpp_inner.filter.collisionMask=-2):4===t.length&&(e.zpp_inner.filter.collisionGroup=l.s(14),e.zpp_inner.filter.collisionMask=~l.s(14))}},{key:"s",value:function(e){return Math.pow(2,e)}},{key:"createRectShape",value:function(e,t,i,n){return new h(h.rect(e,t,i,n))}},{key:"createBoxShape",value:function(e,t,i,n){n=new h(h.box(i,n));return n.set_localCOM(new nape.geom.Vec2(e,t)),n}},{key:"createCircleBody",value:function(){var e=l.createBody(),t=new nape.shape.Circle(20);return e.get_shapes().add(t),e}},{key:"createPolygonShape",value:function(e,t){var i,n;return e&&1<e.length&&(i=new nape.geom.Vec2List,$.each(e,function(e,t){i.push(new c(t.x,t.y))}),"VALID"!==(n=new h(i,t)).validity()&&(n=null)),n}},{key:"isDegenerate",value:function(e){if(e&&e.zpp_disp)throw"Error: GeomPoly has been disposed and cannot be used!";return null===e.zpp_inner.vertices||null===e.zpp_inner.vertices.next||e.zpp_inner.vertices.prev===e.zpp_inner.vertices.next||e.area()<nape.Config.epsilon}}]),l}();e.exports=n},function(e,t,i){"use strict";var n=i(28).hasOwnProperty;function a(e,t){return!(!e||"object"!=typeof e)&&(!!n(s,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function r(e,t){return!(!e||"function"!=typeof e[t])&&(!(n(e,t)&&e.__proto__&&t in e.__proto__)&&(!!n(l,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function o(e){return"object"==typeof e&&e&&e.constructor===Object}var s={length:!0,name:!0},l={toString:!0,valueOf:!0,toLocaleString:!0};t.getSafeProperty=function(e,t){if(o(e)&&a(e,t))return e[t];if("function"==typeof e[t]&&r(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')},t.setSafeProperty=function(e,t,i){if(o(e)&&a(e,t))return e[t]=i;throw new Error('No access to property "'+t+'"')},t.isSafeProperty=a,t.validateSafeMethod=function(e,t){if(!r(e,t))throw new Error('No access to method "'+t+'"')},t.isSafeMethod=r,t.isPlainObject=o},function(e,t,o){"use strict";t.factory=function(e,t,i,n){var a=i(o(73)),r=n("divide",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){e=e.clone();return e.value=r(null===e.value?e._normalize(1):e.value,t),e},"number | Fraction | BigNumber, Unit":function(e,t){t=t.pow(-1);return t.value=a(null===t.value?t._normalize(1):t.value,e),t},"Unit, Unit":function(e,t){return e.divide(t)}});return r}},function(e,t,l){"use strict";var h=l(236),c=l(28).deepEqual,u=l(28).hasOwnProperty;t.name="Node",t.path="expression.node",t.math=!0,t.factory=function(t,e,i,n,a){var r=i(l(36)).compile;function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator")}function s(e){for(var t in e)if(u(e,t)&&t in h)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}return o.prototype.eval=function(e){return this.compile().eval(e)},o.prototype.type="Node",o.prototype.isNode=!0,o.prototype.comment="",o.prototype.compile=function(){if(0<arguments.length)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var e={math:a.expression.mathWithTransform,args:{},_validateScope:s},t=r(this,e,{}),t=Object.keys(e).map(function(e){return"    var "+e+' = defs["'+e+'"];'}).join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+t+";  }};";return new Function("defs",t)(e)},o.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},o.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},o.prototype._ifNode=function(e){if(!t.isNode(e))throw new TypeError("Callback function must return a Node");return e},o.prototype.traverse=function(e){e(this,null,null),function n(e,a){e.forEach(function(e,t,i){a(e,t,i),n(e,a)})}(this,e)},o.prototype.transform=function(e){return function n(e,a){return e.map(function(e,t,i){return n(a(e,t,i),a)})}(e(this,null,null),e)},o.prototype.filter=function(n){var a=[];return this.traverse(function(e,t,i){n(e,t,i)&&a.push(e)}),a},o.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},o.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},o.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},o.prototype.cloneDeep=function(){return this.map(function(e){return e.cloneDeep()})},o.prototype.equals=function(e){return!!e&&c(this,e)},o.prototype.toString=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},o.prototype.toHTML=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},o.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},o.prototype.toTex=function(e){var t;if(e&&"object"==typeof e)switch(typeof e.handler){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},o.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},o.prototype.getIdentifier=function(){return this.type},o.prototype.getContent=function(){return this},o}},function(e,t,i){"use strict";var s=i(44),l=i(42),h=i(43),c=i(37),a=i(129),r=i(366),_=i(223),E=i(367),k=i(69),q=i(46),n=i(0),o=n(i(24)),u=n(i(69)),f=n(i(9)),R=n(i(25)),F=n(i(77)),j=n(i(60)),V=n(i(124)),d=n(i(1)),p=n(i(2));function H(t,e){var i,n=a(t);return r&&(i=r(t),e&&(i=i.filter(function(e){return _(t,e).enumerable})),n.push.apply(n,i)),n}function G(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return I(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var g=i(34),m=i(18),y=i(165),z=i(27),X=i(11),W=i(33),i=function(){function J(e,t){var i=this;(0,d.default)(this,J),this.equipment=e,this.gasContainer=t,this.destroyCount=0,this.bottleMouth=[],this.equipment.on(NBEvent.del.PREPARE_DELETE,function(){i.destroyAll(!0)}),this.vertexArray=[];for(var n=0;n<this.equipment.capacityVertex.length;n++){var a=this.equipment.capacityVertex[n];this.vertexArray.push({x:a.get_x(),y:a.get_y()})}this.equipment.bottleGasMask?(this.smokeStick=this.equipment.bottleGasMask.getChildAt(0),this.path=this.smokeStick.currentPath.shape.clone()):(this.smokeStick=new PIXI.Graphics,this.smokeStick.beginFill(0),y.drawPolygon(this.smokeStick,this.vertexArray),this.equipment.addChildAt(this.smokeStick,0)),this.smokeStick.alpha=0,this.smokeStick.med=new o.default,this.smokeStick.medAry=[],this.otherParticle=[],this.manageMouthParticle(),e.bottleGas=this}return(0,p.default)(J,[{key:"manageMouthParticle",value:function(){var i=this;if(this.equipment.eqLimitBoundsAry)for(var e=0;e<this.equipment.eqLimitBoundsAry.length;e++)!function(e){var e=i.equipment.eqLimitBoundsAry[e],t={particle:null,area:i.equipment.chooseArea[e.name]};(0,u.default)(t,{allowParticle:{get:function(){return!t.area.currentPlug}}}),i.bottleMouth.push(t)}(e);else{var t={particle:null,area:this.equipment};(0,u.default)(t,{allowParticle:{get:function(){return!i.equipment.isCovered()&&!i.equipment.isCoverGS&&(!t.area.currentPlug||t.area.currentPlug===t.area.parent||t.area.addedNode.some(function(e){return e.isGlassCatheter&&!e.addedRubber&&!e.topAirBalloon}))}}}),this.bottleMouth.push(t)}}},{key:"initBottleMouthParticle",value:function(){for(var e=this.equipment.getViewStack(),t=0;t<this.bottleMouth.length;t++){var i=this.bottleMouth[t];i.allowParticle?i.particle||(i.particle=g.getParticle(g.particles.bottle_gas),e.addChild(i.particle),i.particle.allowGetBounds=!1,i.particle.ifScaleParticle=!0):i.particle&&(J.destroy(i.particle),i.particle=null)}}},{key:"destroyAll",value:function(e){if(this.destroyCount++,e||20<this.destroyCount)for(var t=this.destroyCount=0;t<this.bottleMouth.length;t++){var i=this.bottleMouth[t];i.particle&&(J.destroy(i.particle),i.particle=null)}}},{key:"adjustSmokeStick",value:function(e,t){var i=!1;if(0===e)for(var i=!0,n=0;n<t.length;n++)e+=t[n].mol;for(var a=[],r=0,o=[],s=!1,l=0;l<t.length;l++){var h=(0,f.default)({},t[l]);!1===h.disappear&&(s=!0);var c=h.mol/200,u=(0,R.default)(h.dat.color),d=this.smokeStick.med.get(u);void 0!==d?(i||(d=Math.min(d+c,h.mol)),0!==(d=h.disappear||(0,F.default)(h.dat.boiling_point)<this.equipment.medicineData.gasAry[0]._temp_?Math.max(0,d-c/2):d)?(this.smokeStick.med.set(u,d),a.push({dat:{color:u},mol:d}),r+=d,h.mol=d,o.push(h)):this.smokeStick.med.delete(u)):this.smokeStick.med.set(u,0)}this.smokeStick.medAry=o,i||(p=J.getMixColor(e,a),this.smokeStick.clear(),this.smokeStick.beginFill(p.number),!1!==s&&this.equipment.bottleGasMask?this.smokeStick.drawPolygon(this.path.shape):y.drawPolygon(this.smokeStick,this.vertexArray));var p=Math.max(Math.min(.7,20*r),0);p<.001&&(p=0),this.smokeStick.alpha=i&&!1===s?Math.min(p,this.smokeStick.alpha-.001):s?Math.max(this.smokeStick.alpha,p):p}},{key:"adjustParticle",value:function(e,t,i){for(var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5,n=Math.min(n,1),a=0;a<this.bottleMouth.length;a++){var r=this.bottleMouth[a];if(r.particle){var o=m.retrieveRotation(r.particle.worldTransform),s=0,l=0,h=this.equipment.eqLimitDis||r.area||this.equipment;r.area&&r.area.currentPlug&&0<r.area.addedNode.length&&((u=r.area.addedNode.find(function(e){return e.isGlassCatheter&&!e.addedRubber}))&&(s=(h=u).rubberPos.x-15,l=u.rubberPos.y));var c=r.particle,u=c.particle;if(c.bindObj!==h&&r.particle.bind(h),c.position.x===s&&c.position.y===l||r.particle.position.set(s,l),u&&(l=-500*Math.sin(o),o=-500*Math.cos(o),u.acceleration.x===l&&u.acceleration.y===o||r.particle.setParticleProp("acceleration",{x:l,y:o}),l=c.getParticleProp("startColor"),o=t.array,l[0]===o[0]&&l[1]===o[1]&&l[2]===o[2]||c.setParticleProp("startColor",t.array),(l=c.getParticleProp("endColor"))[0]===o[0]&&l[1]===o[1]&&l[2]===o[2]||c.setParticleProp("endColor",t.array),c.alpha!==n&&(c.alpha=n),r.area.localBounds||(r.area.localBounds=r.area.getLocalBounds()),u.spawnRect.width!==r.area.localBounds.width&&c.setParticleProp("spawnRect",new PIXI.Rectangle(0,0,r.area.localBounds.width,0)),.5!==u.minLifeTime&&(c.setParticleProp("minLifetime",.5),c.setParticleProp("maxLifetime",1)),0<this.currentCapacity?(c.setParticleProp("startAlpha",n/2),c.setParticleProp("endAlpha",0)):c.setParticleProp("startAlpha",n)),i.gasLeakage||i.volatilizeGasAry){r.particle.gasLeakage||(r.particle.gasLeakage=[]);for(var d=i.gasLeakage||i.volatilizeGasAry,p=0;p<d.length;p++)r.particle.gasLeakage[p]=d[p];r.particle.bindParent=i,d.length=0}r.particle.render(e)}}}},{key:"update",value:function(e){var h=this.equipment;if(!h.preventVolatilize){var c=0,u=0,d=[],t=[];this.currentCapacity=h.getCurrentCapacity();var p=[],f=0,I=[],i=this.equipment.currentContainer&&"Flume"===this.equipment.currentContainer.name&&3<Math.abs(this.equipment.rotation);if(!i&&(this.bottleMouth[0].allowParticle||!h.isLiquidMedBottle&&!(h.pascal&&h.pascal>1.05*X.PASCAL))){if(0<this.currentCapacity){for(var n=0;n<h.medicineData.liquidAry.length;n++){var a=h.medicineData.liquidAry[n],r="无色"===a.dat.color?16777215:(0,R.default)(a.dat.color);a.addedMol=a.addedMol||0,a._temp_>a.dat.boiling_point-1&&a._temp_>X.DEFAULT_TEMP&&!isNaN(r)&&0<a.addedMol&&(c+=a.addedMol,a={dat:a.dat,mol:a.addedMol,disappear:!0},u=Math.max(.5,u),d.push(a),t.push(a))}var g=h.medicineData.liquidAry,m=g.find(function(e){return e instanceof W&&"H2O"===e.name}),y=m&&m.getVol()||0,v=(m&&m.getTemp()||X.DEFAULT_TEMP)+X.ENVIRONMENT_K;h.splashParticle&&h.splashParticle.visible&&h.splashParticle.particle&&h.splashParticle.particle.emit&&(c+=1e-5);var C=h.bottleRadius||.1;g.forEach(function(e){var t,i,n,a,r,o,s,l;e instanceof W&&("Br2"!==e.name||h.preventEvolutBr?"NH3H2O"!==e.name?"C6H6"!==e.name?y&&e.dat.volatilize&&((n=e.mol/(y/1e3))>X.VOLATILIZEMIN&&(a=X.VOLATILIZEMIN*(1-(v-X.DEFAULT_TEMP)/(100-X.DEFAULT_TEMP)),t=Number(e.dat.volatilize)/(X.ENVIRONMENT_K*X.VOLATILIZEDENSITY)*v*(n-a)*C/1e3,i=Number(e.dat.volatilize)/(X.ENVIRONMENT_K*X.VOLATILIZEDENSITY)*v*(X.VOLATILIZEMINALPHA-a)*C/1e3,n=e.getMol(),(a=h.medicineData.ionMedicineAry.quickMap.get(e.name))&&(t=t>a.mol?a.mol:t,h.medicineData.addIonMedicine(e.deepClone(),-t)),e.setMol(n-t),h.medicineData.addGasMedicine(e.name,t),1<(u=0<t-i?Math.max((t-i)/6e-7,u):u)&&(u=Math.max(1,u)),d.push({dat:e.dat,mol:t,disappear:!0}),c+=t,h.isLiquidMedicine&&p.push(new z(e.dat,t/10)))):0<(o=e.getMol())&&40<e.getTemp()&&(r=e.getTemp()+X.ENVIRONMENT_K,r=X.WATERVOLATILIZE/(X.ENVIRONMENT_K*X.VOLATILIZEDENSITY)*r*C/4,r=Math.min(o,r),e.setMol(o-r),h.medicineData.addGasMedicine("C6H6",r),d.push({dat:e.dat,mol:r,disappear:!0}),u=Math.max(.5,u),c+=r):(r=(o=e.getMol())/h.currentCapacity*12e4,.003<o/h.currentCapacity&&(l=e.getTemp()+X.ENVIRONMENT_K,s=X.NH3H2OVOLATILIZE/(X.ENVIRONMENT_K*X.VOLATILIZEDENSITY)*l*C/r*2,s=Math.min(o,s),r=(l=h.root.medicineManager).getMedicineData("NH3H2O"),o=l.getMedicineData("NH3"),l=l.getMedicineData("H2O"),r=new W(r,-1*s),o=new z(o,s),l=new W(l,s),h.medicineData.push(r),h.medicineData.push(o),h.medicineData.push(l),I.push({dat:e.dat,mol:s,disappear:!0}),f+=s,d.push({dat:e.dat,mol:s,disappear:!0}),u=Math.max(.5,u),c+=s)):(l=g.quickMap.get("CCl4"),m&&.1<m.getMol()||l&&.1<l.getMol()||499<e.dat["solution_".concat(e.solvent)]||0<(s=e.getMol())&&(l=e.getTemp()+X.ENVIRONMENT_K,l=X.WATERVOLATILIZE/(X.ENVIRONMENT_K*X.VOLATILIZEDENSITY)*l*C/100,l=Math.min(s,l),e.setMol(s-l),h.medicineData.addGasMedicine("Br2",l),d.push({dat:e.dat,mol:l,disappear:!0}),u=Math.max(.5,u),c+=l)))})}h.gasLeakage instanceof Array&&h.isBaseContainer&&h.gasLeakage.find(function(e){var t;("NH3"===e.name||"HCl"===e.name)&&0<e.getMol()&&(t=e.getMol(),I.push({dat:e.dat,mol:e.getMol(),disappear:!0}),f+=t)});for(var o=0;o<this.otherParticle.length;o++){var s=this.otherParticle[o];void 0===s.bindObj&&(0<s.mol&&(c+=s.mol,s.stickOnly||d.push(s),(s.isStick||s.stickOnly)&&(t.push(s),s.disappear&&(s.mol*=.995)),u=Math.max(1,u)),s.mol<1e-10&&(this.otherParticle.splice(o,1),o--))}}if(h.medicineData.solidAry)for(var l in h.medicineData.solidAry){var M=h.medicineData.solidAry[l],b=!1,x=h.medicineNBGraphicMap.get(l)||new j.default;if(0<this.currentCapacity?x.forEach(function(e){e.isFloatage||(b=!0)}):0===this.currentCapacity&&(b=!0),b&&"I2"===l){var O,A=0,T=G(x);try{for(T.s();!(O=T.n()).done;){var S,w,B,D,P=O.value;P.temp>X.SUBLIMATE_I2_MININUM&&(S=(0,F.default)(M.dat.boiling_point),1<=(u=Math.max((P.temp-X.SUBLIMATE_I2_MININUM)/S,u))&&(u=Math.min(1,u)),A+=w=Math.min(P.solidMedicineInfo.get(l).mol,5e-4*e*u),B=M.dat,D=new z(B,w),P.addMedicine(M.deepClone().setMol(-w)).addMedicine(D).updateMedSize())}}catch(e){T.e(e)}finally{T.f()}x={dat:M.dat,mol:A,disappear:!1};i||!this.bottleMouth[0].allowParticle&&(h.isLiquidMedBottle||h.pascal&&h.pascal>1.05*X.PASCAL)||(d.push(x),t.push(x),c+=x.mol)}}var L=null,L=0===c?{array:[255,255,255],number:16777215}:J.getMixColor(c,d);if(this.lastGasColor&&16777215!==this.lastGasColor.number){for(var N=0;N<3;N++)L.array[N]>this.lastGasColor.array[N]?this.lastGasColor.array[N]=L.array[N]=this.lastGasColor.array[N]+2:L.array[N]<this.lastGasColor.array[N]&&(this.lastGasColor.array[N]=L.array[N]=this.lastGasColor.array[N]-2);this.lastParticleAlpha>u?u=Math.max(0,this.lastParticleAlpha-.003):this.lastParticleAlpha<u&&(u=Math.min(1,this.lastParticleAlpha+.004))}else this.lastGasColor=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?H(Object(i),!0).forEach(function(e){(0,V.default)(t,e,i[e])}):E?k(t,E(i)):H(Object(i)).forEach(function(e){q(t,e,_(i,e))})}return t}({},L);0<u?(this.destroyCount=0,this.initBottleMouthParticle(),this.adjustParticle(e,L,h,u),this.adjustSmokeStick(c,t)):0<f?(this.destroyCount=0,this.initBottleMouthParticle(),this.adjustParticle(e,L,h,0)):(this.destroyAll(),0<this.smokeStick.alpha&&this.adjustSmokeStick(0,this.smokeStick.medAry)),h.isLiquidMedicine&&(h.volatilizeGasAry=p)}}}],[{key:"test",value:function(){}},{key:"destroy",value:function(e,t){function i(){e.parent&&e.parent.removeChild(e),e.destroy()}e&&(t?i():TweenMax.to(e,.1,{alpha:0,onComplete:i}))}},{key:"getMixColor",value:function(e,t){var i=0,n=0,a=0;if(t){for(var r=0;r<t.length;r++){var o=t[r].mol/e,s=(0,R.default)(t[r].dat.color_gas||t[r].dat.color);i+=((s=(s="HI"===t[r].dat.chemical?16763485:s)||16777215)>>16)*o,n+=s>>8&255*o,a+=(255&s)*o}return{array:[i=(0,R.default)(i),n=(0,R.default)(n),a=(0,R.default)(a)],number:(i<<16)+(n<<8)+a}}}}]),J}();e.exports=i},function(e,t,i){"use strict";var r=i(0)(i(61)),o=i(18);e.exports=function(){var l,h,c,u=this;this.hasCallLimitDrag={enabled:!1},this.getLimitData=function(){return u.rotateSpriteIcon?{type:c,dragRect:u.dragRect,rotateSpriteIcon:u.rotateSpriteIcon.visible}:{type:c,dragRect:u.dragRect}},this.setLimitData=function(e){e.dragRect&&void 0===e.dragRect.enabled&&(c=e.type,u.dragRect=e.dragRect,u.rotateSpriteIcon&&(u.rotateSpriteIcon.visible=e.rotateSpriteIcon),NBDrag.addDrag(u,e.dragRect,{bringToFront:!1}),u.removeEventListener(NBDrag.event.PREPARE_DRAG,u.eqAddToViewStack),u.addEventListener(TouchEvent.TOUCH_END,f),u.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,f))};var d=!0;function n(){this.hasCallLimitDrag.enabled=!0,this.rotateSpriteIcon&&(this.rotateSpriteIcon.visible=!1);var e=this.currentHitObjBounds,t=this.getBounds(),i=this.hitObjLocalBounds;if(d){var n=0;if(void 0===this.barrier){var a=this.y+this.localBounds.y;switch(a<i.y&&(n=this.localBounds.height-Math.abs(a)),c){case 0:this.dragRect={x:this.x,y:this.y-n+l,width:0,height:n-h-l};break;case 1:this.dragRect={x:this.x,y:this.y-n,width:0,height:n};break;case 2:this.dragRect={x:this.x,y:this.y-n+l,width:0,height:this.localBounds.height+e.height-h-l};break;case 3:this.y<i.y?(n=e.height-(this.y+this.localBounds.height),this.dragRect={x:this.x,y:this.y-e.height+n+l,width:0,height:e.height-h-l}):(n=this.y-i.y+this.localBounds.height,this.dragRect={x:this.x,y:this.y-n+l,width:0,height:e.height-h-l})}}else{var r=this.parent.toLocal(this.barrier.position,this),o=0,s=0;if(r.y<0)switch(c){case 0:n=this.localBounds.height-Math.abs(this.y),this.dragRect={x:this.x,y:this.y-n+l,width:0,height:n-h-l};break;case 2:c=3,s=this.localBounds.height-Math.abs(this.y),o=Math.abs(r.y),this.dragRect={x:this.x,y:this.y-s+l,width:0,height:o+s}}else 2===c&&(c=1,s=r.y-e.height,o=r.y-this.y-s,this.dragRect={x:this.x,y:this.y-s+l,width:0,height:o+s})}}else n=e.height-(t.y+t.height)+e.y,this.dragRect={x:this.x,y:this.y-e.height+n,width:0,height:e.height};NBDrag.addDrag(this,this.dragRect,{bringToFront:!1}),function(){if(d)switch(c){case 0:u.on("outTopBounds",p);break;case 1:u.on("outBottomBounds",p);break;case 2:u.on("outBottomBounds",p),u.on("outTopBounds",p);break;case 3:u.on("outTopBounds",p)}else u.on("outTopBounds",p);u.addEventListener(TouchEvent.TOUCH_END,f),u.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,f)}()}function p(){u.twoHitClamp?i():(u.dragRect.enabled=!1,u.hasCallLimitDrag.enabled=!1,u.on(NBDrag.event.PREPARE_DRAG,u.eqAddToViewStack),null!=this.hitChooseArea&&(this.hitChooseArea.thisAreaWasFull=!1,this.hitChooseArea=void 0))}function i(){if("object"==(0,r.default)(u._events))for(var e in u._events)"outTopBounds"==e&&u.removeEventListener(e,p),"outBottomBounds"==e&&u.removeEventListener(e,p);u.removeEventListener(TouchEvent.TOUCH_END,f),u.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,f)}function f(){var e,t;this.viewStack!=this.root.viewStack&&this.dragRect&&0==this.dragRect.enabled&&!TweenMax.isTweening(u)&&(e=this.parent.rotation,t=this.parent,this.currentHitObj,this.currentArea&&(this.currentArea.thisAreaWasFull=!1,this.currentArea=void 0,this.currentContainer=null),this._cancelDragRect=p,i(),this.root.viewStack.addChildWithSamePos(u),this.removeEventListener("hasTweenComplete",n),this.currentHitObj&&null!=this.currentHitObj.currentHitPlug&&this.currentHitObj.currentHitPlug.isEmpty()&&(this.currentHitObj.currentHitPlug.destroy(),this.currentHitObj.holeNum=0),null!=this.currentHitObj&&(this.currentHitObj=void 0),this.rotateSpriteIcon&&0==this.rotateSpriteIcon.visible&&(this.rotateSpriteIcon.visible=!0),0!=e&&(this.rotation=o.retrieveRotation(t.worldTransform)),t=(e=o.retrieveRotation(this.worldTransform))-u.lastRotation,0!=u.rotation&&(t>Math.PI?TweenMax.to(u,.2,{rotation:2*Math.PI-e-u.rotation}):Math.PI))}function a(e){var t=e.toGlobal({x:e.localBounds.x,y:e.localBounds.y});return{x:t.x,y:t.y,width:e.localBounds.width,height:e.localBounds.height}}this.isSendAttr=function(e){return d=e},u.on("hitted",function(e){var t,i=e.hitObj;null!=this.currentHitObj&&this.currentHitObj==i||function(e){if(!u.needLimitObjAry)return 1;for(var t=0;t<u.needLimitObjAry.length;t++)if(e.constructor.name==u.needLimitObjAry[t])return 1}(i=i.portoThisParentLimitD?i.parent:i)&&(this.removeEventListener(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),u.on("hasTweenComplete",n),d&&(l=i.hitThisAttachAttr.offsetUp,h=i.hitThisAttachAttr.offsetDown,c=i.hitThisAttachAttr.type),this.on("hitObjIsNotFull",function e(){NBDrag.removeDrag(this);this.removeEventListener("hitObjIsNotFull",e)}),this.lastRotation=o.retrieveRotation(this.worldTransform),this.currentHitObj=i,this.currentHotsport=e.hasHotspot,e.hasHotspot?(e.hasHotspot.localBounds=e.hasHotspot.getLocalBounds().clone(),this.currentHitObjBounds=a(e.hasHotspot),this.parent===e.hasHotspot?(t=e.hasHotspot.children.indexOf(this),e.hasHotspot.removeChild(this),e.hasHotspot.updateTransform(),this.hitObjLocalBounds=e.hasHotspot.getLocalBounds().clone(),e.hasHotspot.addChildAt(this,t)):this.hitObjLocalBounds=e.hasHotspot.getLocalBounds().clone(),e.hasHotspot.updateTransform()):(this.currentHitObjBounds=a(i),this.hitObjLocalBounds=i.localBounds))})}},function(e,t,i){var n=i(424),a=i(427),r=i(285),o=i(441);e.exports=function(e){return n(e)||a(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){e.exports=i(455)},function(t,e,i){var n=i(42),a=i(43);function r(e){return t.exports=r="function"==typeof n&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof n&&e.constructor===n&&e!==n.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(e,t,i){"use strict";t.factory=function(e,t,i,n){var a=n("add",{"number, number":function(e,t){return e+t},"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");e=e.clone();return e.value=a(e.value,t.value),e.fixPrefix=!1,e}});return a}},function(e,t,i){"use strict";var w=i(49);t.name="algorithm03",t.factory=function(e,t,i,T){var S=e.DenseMatrix;return function(e,t,i,n){var a=e._data,r=e._size,o=e._datatype,s=t._values,l=t._index,h=t._ptr,e=t._size,t=t._datatype;if(r.length!==e.length)throw new w(r.length,e.length);if(r[0]!==e[0]||r[1]!==e[1])throw new RangeError("Dimension mismatch. Matrix A ("+r+") must match Matrix B ("+e+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c,u=r[0],d=r[1],p=0,f=i;"string"==typeof o&&o===t&&(p=T.convert(0,c=o),f=T.find(i,[c,c]));for(var I=[],g=0;g<u;g++)I[g]=[];for(var m=[],y=[],v=0;v<d;v++){for(var C=v+1,M=h[v],b=h[v+1],x=M;x<b;x++){var O=l[x];m[O]=n?f(s[x],a[O][v]):f(a[O][v],s[x]),y[O]=C}for(var A=0;A<u;A++)y[A]===C?I[A][v]=m[A]:I[A][v]=n?f(p,a[A][v]):f(a[A][v],p)}return new S({data:I,size:[u,d],datatype:c})}}},function(e,t,i){"use strict";t.name="algorithm12",t.factory=function(e,t,i,b){var x=e.DenseMatrix;return function(e,t,i,n){var a=e._values,r=e._index,o=e._ptr,s=e._size,e=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=s[0],h=s[1],c=i;"string"==typeof e&&(t=b.convert(t,d=e),c=b.find(i,[d,d]));for(var u=[],d=new x({data:u,size:[l,h],datatype:d}),p=[],f=[],I=0;I<h;I++){for(var g=I+1,m=o[I],y=o[I+1],v=m;v<y;v++){var C=r[v];p[C]=a[v],f[C]=g}for(var M=0;M<l;M++)0===I&&(u[M]=[]),f[M]===g?u[M][I]=n?c(t,p[M]):c(p[M],t):u[M][I]=n?c(t,0):c(0,t)}return d}}},function(e,t,n){"use strict";t.name="algorithm11",t.factory=function(e,t,i,x){var O=i(n(47)),A=e.SparseMatrix;return function(e,t,i,n){var a=e._values,r=e._index,o=e._ptr,s=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var e=s[0],h=s[1],c=O,u=0,d=i;"string"==typeof l&&(c=x.find(O,[g=l,g]),u=x.convert(0,g),t=x.convert(t,g),d=x.find(i,[g,g]));for(var p=[],f=[],I=[],g=new A({values:p,index:f,ptr:I,size:[e,h],datatype:g}),m=0;m<h;m++){I[m]=f.length;for(var y=o[m],v=o[m+1],C=y;C<v;C++){var M=r[C],b=n?d(t,a[C]):d(a[C],t);c(b,u)||(f.push(M),p.push(b))}}return I[h]=f.length,g}}},function(e,t,i){"use strict";var a=i(4),n=i(0),s=n(i(9)),r=n(i(1)),o=n(i(2)),l=n(i(19)),h=n(i(7)),c=n(i(5)),u=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=i(8),I=i(269),g=i(131),m=i(133),y=i(75),v=i(70),i=function(){(0,c.default)(i,f);var t=p(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).allowElecWire=!0,e.rubberPos={x:70.5,y:9,rotation:-Math.PI/2},e.isMetalPiece=!0,e.hasCorroded=!1,e.medicineData=new y((0,l.default)(e)),e.solidAry=e.medicineData.solidAry,e.isReacting=!1,e.z_index=19.2,e.totalPieces=50,e.pointNum=50,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,h.default)((0,d.default)(i.prototype),"creationComplete",this).call(this),this.metalMaskLeftPos=[],this.metalMaskRightPos=[];for(var e=0;e<=this.totalPieces;e++)this.metalMaskLeftPos.push({x:this.metal.x,y:this.metal.y+this.metal.height/this.totalPieces*e}),this.metalMaskRightPos.push({x:this.metal.x+this.metal.width,y:this.metal.y+this.metal.height/this.totalPieces*e});this.corrodedCount=0,this.drawMetalMask(),this.metal.mask=this.metalMask,this.metalHitWaterPoint={left:null,center:null,right:null},this.on("hasTweenComplete",this.calcMetalOriLine),this.on(NBDrag.event.STOP_DRAG,this.calcMetalOriLine),this.conf_chemical_equation=!0,this.conf_show_name=!0,this.initAdhringTexture()}},{key:"initAdhringTexture",value:function(){this.adhringTexture=new PIXI.RenderTexture.create(this.metal.width,this.metal.height);var e=new PIXI.Sprite(this.adhringTexture);this.graSilver=new PIXI.Graphics,this.graSilver.beginFill(15066597,1),this.graSilver.drawCircle(0,0,2),this.graSilver.endFill(),this.graCopper=new PIXI.Graphics,this.graCopper.beginFill(14398355,1),this.graCopper.drawCircle(0,0,2),this.graCopper.endFill(),this.metal.addChild(e)}},{key:"calcMetalOriLine",value:function(){var e,t;this.parent!==this.getEqLayer()&&this.metal&&(e=this.metal,t={x:this.x+e.x,y:this.y+e.y},this.leftMetalLine={pa:{x:t.x,y:t.y},pb:{x:t.x,y:t.y+e.height}},this.rightMetalLine={pa:{x:t.x+e.width,y:t.y},pb:{x:t.x+e.width,y:t.y+e.height}},this.centerMetalLine={pa:{x:t.x,y:t.y+e.height},pb:{x:t.x+e.width,y:t.y+e.height}})}},{key:"addMedicine",value:function(e){var t;e.type===v.SOLID?(e.deepClone||(e=y.getMedFromEasyMed(e)),(t=this.solidAry[e.name])?t.mol+=e.mol:0<e.mol&&(this.solidAry[e.name]=e)):e.type===v.GAS&&this.currentContainer&&this.currentContainer.medicineData.push(e)}},{key:"getSolidMedicineInfo",value:function(){var e,t=[],i=this.solidAry;for(e in i)t.push(i[e].deepClone());return t}},{key:"calcMetalHitWaterLine",value:function(){var e={left:null,center:null,right:null},n=this,t=this.currentContainer;if(!t||t.liquidGra.length<1)return e;var a=t.liquidGra.find(function(e){if(e.med)return"H2O"===e.med.name});if(!a)return e;var i,r=o("left"),t=o("right");function o(e){var t;if(!n[e+"MetalLine"])return n.calcMetalOriLine(),!1;var i=n[e+"MetalLine"].pa,e=n[e+"MetalLine"].pb;return a.vertex?(t=g.lineIntersect(i,e,a.vertex[0],a.vertex[a.vertex.length-1]),t=g.containsPoint(t,i,e)?t:null):t}return r&&t?i=null:(r||t)&&(i=o("center")),e.left=r,e.right=t,e.center=i,e}},{key:"isHitWater",value:function(){this.metalHitWaterPoint=this.calcMetalHitWaterLine();var e,t=0;for(e in this.metalHitWaterPoint)this.metalHitWaterPoint[e]&&t++;return 1<t}},{key:"addWire",value:function(e){var t;this.currentWire||(t=e.rubber,this.addedNode.includes(t)||this.addedNode.push(t),this.currentWire=e)}},{key:"removeWire",value:function(e){this.currentWire&&(e=e.rubber,-1!==(e=this.addedNode.indexOf(e))&&this.addedNode.splice(e,1),this.currentWire=null)}},{key:"isFullWire",value:function(){return!!this.currentWire}},{key:"getMetalName",value:function(){return this.metalName}},{key:"getReact",value:function(e,t){var i,n,a=this.currentContainer;this.isReacting=!0,this.isElectrolysising?(i=this.electrolysisConfig)&&i.ProductStatus&&i.ProductStatus.includes("↑")&&this.needGasBubble(!0):(0<e?1===(n=I.judgeGotElecIon(a)).length?(i=n[0])&&1e-6<i.mol&&("H"===i.name?this.needGasBubble(!0):this.adheringMetal(i.name,this.metalHitWaterPoint)):n&&n.length&&2===n.length&&1e-6<n.chemical.mol&&"HNO3"===n.chemical.name&&this.needGasBubble(!0):this.corrodingMetal(),I.genElectricReaction(this,this.getSolidMedicineInfo(),e,n,t),n&&n.length&&1==n.length?(t=n[0],this.generateEquation(e,t)):n&&n.length&&2==n.length?("HNO3"!=(n=n.chemical.name)||(a=a.getTagetLiquidMPV("HNO3"))&&a<8&&(n="HNO3_x"),(n=m.ionGroupEqua[n])&&this.setReactStatus(n,1e3,!0)):e<0&&this.generateEquation(e))}},{key:"generateEquation",value:function(e,t,i){var n=t,a={};if(n&&0<n.valence&&0<e){var r,o="".concat(n.name,"!").concat(Math.abs(n.valence));a.Name="".concat(o,"_e!1");t=!(a.Reactants=[o,"e!1"]),o="H"===n.name?(r="H2",t=!0,[2,2,1]):"Fe"===n.name&&3===n.valence?(r="Fe!2",[1,1,1]):(r=n.name,[1,n.valence,1]);a.Products=[r],a.ProductStatus=r+(t?"↑":""),a.Modulus=o}else if(e<0){o=this.getSolidMedicineInfo()[0];if(!o)return;e=o.name,o=m.ionMap[e];n&&n.valence<0&&(e=n.name,o=n.valence);n="".concat(e,"!").concat(Math.abs(o));a.Name="".concat(e,"_e"),a.Reactants=[e,"e!1"],a.Products=[n],a.Modulus=[1,Math.abs(o),1],a.needReverseEle=!0}i&&(a=(0,s.default)(a,i)),(this.electrolysisConfig=a).Reactants,this.setReactStatus(a,1e3,!0)}},{key:"drawMetalMask",value:function(){this.metalMask?this.metalMask.clear():(this.metalMask=new PIXI.Graphics,this.metalMask.alpha=0,this.metalMask.renderable=!1,this.addChild(this.metalMask)),this.metalMask.beginFill(16777215,1);var e=this.metalMaskLeftPos[0];this.metalMask.moveTo(e.x,e.y);for(var t=1;t<=this.pointNum;t++){var i=this.metalMaskLeftPos[t];this.metalMask.lineTo(i.x,i.y)}for(var n=this.pointNum;0<=n;n--){var a=this.metalMaskRightPos[n];this.metalMask.lineTo(a.x,a.y)}this.metalMask.endFill()}},{key:"corrodingMetal",value:function(){var e={};if(e.pa=this.metalHitWaterPoint&&this.metalHitWaterPoint.left&&this.metalHitWaterPoint.left.y-this.y||this.metal.y+this.metal.height,e.pb=this.metalHitWaterPoint&&this.metalHitWaterPoint.right&&this.metalHitWaterPoint.right.y-this.y||this.metal.y+this.metal.height,this.corrodedCount++,this.currentContainer&&this.corrodedCount%50==0){for(var t=250<this.corrodedCount?.001:.1,i=Math.round((e.pa-this.metal.y)/this.metal.height*this.totalPieces),e=Math.round((e.pb-this.metal.y)/this.metal.height*this.totalPieces),i=Math.max(i,0),e=Math.max(e,0),n=i;n<=this.pointNum;n++){var a=t*Math.random()*20;this.metalMaskLeftPos[n],this.metalMaskLeftPos[n].x+t+a<this.metalMaskRightPos[n].x-2?this.metalMaskLeftPos[n].x+=t+a:(this.metalMaskLeftPos[n].x=this.metalMaskRightPos[n].x-2,n===this.pointNum&&this.pointNum--)}for(var r=e;r<=this.pointNum;r++){var o=t*Math.random()*20;this.metalMaskRightPos[r].x-t-o>this.metalMaskLeftPos[r].x+2?this.metalMaskRightPos[r].x-=t+o:(this.metalMaskRightPos[r].x=this.metalMaskLeftPos[r].x+2,r===this.pointNum&&this.pointNum--)}this.drawMetalMask()}}},{key:"needGasBubble",value:function(e){this.bubbleParticle?this.bubbleParticle.loaded&&(this.isStick&&(this.bubbleParticle.particle.spawnRect.width=20),this.bubbleParticle.isBattary!==e&&(this.bubbleParticle.particle.frequency=e?.02:.05,this.bubbleParticle.isBattary=e)):this.bubbleParticle=this.root.particleManager.initMatelBubble.call(this),this.bubbleCount=10}},{key:"renderBubble",value:function(){this.bubbleParticle&&(0<this.bubbleCount?(this.bubbleParticle.render(),this.bubbleCount--):(this.bubbleParticle.destroy(),this.bubbleParticle=null))}},{key:"adheringMetal",value:function(e,t){this.adheringCount=this.adheringCount||1,this.adheringCount++,this.adheringCount<3||(this.adheringCount=1,e="Cu"===e?this.graCopper:this.graSilver,t=this.getAdheringPoint(t),e.x=t.x,e.y=t.y,this.root.renderer.render(e,this.adhringTexture,!1))}},{key:"getAdheringPoint",value:function(e){var t=Math.random(),i=Math.random(),n=e.center?e.left?(a=e.left,e.center):(a=e.center,e.right):(a=e.left,e.right),e=Math.round(t*(n.x-a.x)+a.x-this.x-this.metal.x),a=t*(n.y-a.y)+a.y-this.y-this.metal.y;return{x:e,y:Math.round(i*(400-a)+a)}}},{key:"update",value:function(e){var t;(0,h.default)((0,d.default)(i.prototype),"update",this).call(this,e),this.renderBubble(),this.stopElectEffect||(this.calculationElectro||I.calEffect(this),this.isReacting?this.isReacting=!1:!this.currentContainer||((t=this.metalHitWaterPoint).left||t.center||t.right)&&(e=(t.left||t.center)&&(t.left||t.center).y,t=(t.right||t.center)&&(t.right||t.center).y,(e<(e=this.metal.height/this.totalPieces*this.pointNum+this.metal.y+this.y)||t<e)&&I.genElectricReaction(this,this.getSolidMedicineInfo(),0)),this.calculationElectro=!1)}}]),i}();e.exports=i},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){var n=i(209)("wks"),a=i(173),r=i(48).Symbol,o="function"==typeof r;(e.exports=function(e){return n[e]||(n[e]=o&&r[e]||(o?r:a)("Symbol."+e))}).store=n},function(e,t,i){e.exports=i(488)},function(e,t,i){"use strict";e.exports={SOLID:0,LIQUID:1,GAS:2,ION:3,ION_MED:4,DISSOLVE:5}},function(e,t,p){"use strict";var f=p(28).extend;t.name="add",t.factory=function(e,t,i,n){var a=i(p(12)),r=i(p(62)),o=p(23),s=i(p(104)),l=i(p(232)),h=i(p(117)),c=i(p(39)),u=i(p(35)),d=n("add",f({"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?l(e,t,r):s(t,e,r,!0):"sparse"===t.storage()?s(e,t,r,!1):c(e,t,r);return t},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?h:u)(e,t,r,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?h:u)(t,e,r,!0);return e},"Array, any":function(e,t){return u(a(e),t,r,!1).valueOf()},"any, Array":function(e,t){return u(a(t),e,r,!0).valueOf()},"any, any":r,"Array | Matrix | any, Array | Matrix | any, ...any":function(e,t,i){for(var n=d(e,t),a=0;a<i.length;a++)n=d(n,i[a]);return n}},r.signatures));return d.toTex={2:"\\left(${args[0]}"+o.operators.add+"${args[1]}\\right)"},d}},function(e,t,I){"use strict";var g=I(49);t.name="subtract",t.factory=function(e,t,i,n){var a=I(23),r=i(I(12)),o=i(I(62)),s=i(I(106)),l=i(I(104)),h=i(I(63)),c=i(I(183)),u=i(I(117)),d=i(I(39)),p=i(I(35)),f=n("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");e=e.clone();return e.value=f(e.value,t.value),e.fixPrefix=!1,e},"Matrix, Matrix":function(e,t){var i=e.size(),n=t.size();if(i.length!==n.length)throw new g(i.length,n.length);return"sparse"===e.storage()?"sparse"===t.storage()?c(e,t,f):h(t,e,f,!0):"sparse"===t.storage()?l(e,t,f,!1):d(e,t,f)},"Array, Array":function(e,t){return f(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return f(r(e),t)},"Matrix, Array":function(e,t){return f(e,r(t))},"Matrix, any":function(e,t){t="sparse"===e.storage()?u(e,s(t),o):p(e,t,f);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?u:p)(t,e,f,!0);return e},"Array, any":function(e,t){return p(r(e),t,f,!1).valueOf()},"any, Array":function(e,t){return p(r(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}"+a.operators.subtract+"${args[1]}\\right)"},f}},function(e,t,i){"use strict";t.factory=function(e,t,i,n){var a=n("multiplyScalar",{"number, number":function(e,t){return e*t},"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){t=t.clone();return t.value=null===t.value?t._normalize(e):a(t.value,e),t},"Unit, number | Fraction | BigNumber | Complex":function(e,t){e=e.clone();return e.value=null===e.value?e._normalize(t):a(e.value,t),e},"Unit, Unit":function(e,t){return e.multiply(t)}});return a}},function(e,t,i){"use strict";var y={},c=i(115);y.event={PREPARE_DRAG:"prepareDrag",STOP_DRAG:"stopDrag",START_DRAG:"startDrag",DRAG_MOVE:"dragMove"};var u=i(910),v=null;y.idMap={},y.napeDragMap={},y.addDrag=function(I,g,l,e,t,m){var h;!1!==I.dragAble&&(y.removeDrag(I),l=l||{bringToFront:!0},I.root.viewStack&&!v&&(v=I.root.viewStack),h=I.dragArea||I,I.bringToFront=l.bringToFront,I.dragFuncObj=e,I.__$conf=l,I.dragFuncObj&&(I.dragFuncObj.this=t||I),I.dragFuncObj&&(I.dragFuncObj.dis=I),I.identifier=null,t=function(n){var i,p,e,t,a,r,o,s,f=null;I.__$conf&&I.__$conf.isLock||((e=n.data.originalEvent)&&I.dragIdentifier&&e.touches&&1===e.touches.length&&(delete y.idMap[I.dragIdentifier],delete I.dragIdentifier),null==I.dragIdentifier&&(I.isMoving=!1,n.stopPropagation(),n.data.originalEvent.changedTouches?(t=n.data.originalEvent.changedTouches,$.each(t,function(e,t){if(null==I.dragIdentifier)return I.dragIdentifier=t.identifier,y.idMap[t.identifier]=I,!(i={x:t.globalX||n.data.global.x,y:t.globalY||n.data.global.y})})):i={x:n.data.global.x,y:n.data.global.y},i&&(I._lastTouchPoint_={x:I.x,y:I.y},I._lastGlobalTouchPoint=I.parent.toGlobal(I),I.emit(y.event.PREPARE_DRAG,{target:I,data:n.data}),p=I.parent.worldTransform.applyInverse(i),n.globalP=new PIXI.Point(i.x,i.y),I.isTouchDown=!0,n.data.isPropagationStopped||I.dragFuncObj&&I.dragFuncObj.beginFore&&!I.dragFuncObj.beginFore.call(I.dragFuncObj.this,n)||(t={x:(e=I.toLocal(i,I.stage)).x,y:e.y},e=I.rotation,(t=c.rotaPoint(t,{x:0,y:0},e)).x*=I.scale.x,t.y*=I.scale.y,l.bringToFront&&(I.addedRubber&&I.addedRubber.rubber&&I.addedRubber.rubber.parent===I.parent&&I.parent.addChild(I.addedRubber.rubber),I.parent.isRubberPlug&&I.parent.bg?I.parent.addChildAt(I,Math.max(I.parent.children.indexOf(I.parent.bg)-1,0)):I.parent.addChild(I)),I.napeBody?(void 0===y.napeDragMap[I.identifier]&&(y.napeDragMap[I.identifier]=new u),(f=y.napeDragMap[I.identifier]).func_touchBegin(I.napeBody,v.toLocal(i)),chemicalMain.nape.renderCount=nb.ACTIVE_COUNT,I.activeCount=nb.ACTIVE_COUNT,I.container&&(I.container.activeCount=nb.ACTIVE_COUNT)):f=null,a=function(e){if(v.activeMutipleTouch)I.__touchEnd__(e);else if(!I.__$conf||!I.__$conf.isLock){I.isMoving=!0,v.hasEqMove=2;var t,i,n,a,r,o,s,l,h,c,u=null;if(e.data.originalEvent.changedTouches){var d=e.data.originalEvent.changedTouches;if($.each(d,function(e,t){if(t.identifier==I.dragIdentifier)return u=t,!1}),!u)return;h={x:u.globalX,y:u.globalY}}else h=e.data.global;h&&null!=h.x&&(e.globalP=new PIXI.Point(h.x,h.y),I.isTouchDown&&(e.data.isPropagationStopped||I.dragFuncObj&&I.dragFuncObj.moveFore&&!I.dragFuncObj.moveFore.call(I.dragFuncObj.this,e)||!0!==I.cannotSystemDrag&&(t=I.parent.worldTransform.applyInverse(h),l={},l=!(g=I.dragRect&&g!==I.dragRect?I.dragRect:g)||!0!==g.enabled&&void 0!==g.enabled?{x:-1/0,y:-1/0,w:1/0,h:1/0,global:!0}:{x:g.x,y:g.y,width:g.width,height:g.height},g&&g.rotate&&(l.rotate=g.rotate),r=t.x-p.x,i=t.y-p.y,!m||null!=m.enabled&&1!=m.enabled||(Math.abs(r)<m.x&&(r=0),Math.abs(i)<m.y&&(i=0)),d=(a=I.parent.toLocal(I._lastGlobalTouchPoint)).x+r,t=a.y+i,l.global?(I.parent.worldTransform.apply(n={x:d,y:t},n),d=n.x,t=n.y,d<l.x?d=l.x:d>l.x+l.width&&(d=l.x+l.width),t<l.y?t=l.y:t>l.y+l.height&&(t=l.y+l.height),n.x=d,n.y=t,d=(o=I.parent.worldTransform.applyInverse(n)).x,t=o.y):!l.rotate||0!==l.width&&0!==l.height?(s=0,d<l.x-.1?(s=d-l.x,d=l.x,I.emit("outLeftBounds",s)):d>l.x+l.width+.1&&(s=d-l.x-l.width,d=l.x+l.width,I.emit("outRightBounds",s)),t<l.y-.1?(t=l.y,I.emit("outTopBounds")):t>l.y+l.height+.1&&(t=l.y+l.height,I.emit("outBottomBounds"))):(r=l.width||l.height,a=l.rotate,i=Math.cos(a)*r,n=Math.sin(a)*r,o=l.x+i,s=l.y+n,a=l.x<o?l.x:o,r=l.y<s?l.y:s,o=0<i?o:l.x,s=0<n?s:l.y,d<a?d=a:o<d&&(d=o),t<r?t=r:s<t&&(t=s),Math.abs(i)>=Math.abs(n)?a<=d&&d<=o&&(t=(0<i?d-a:o-d)/Math.abs(i)*n+l.y):r<=t&&t<=s&&(d=(0<n?t-r:s-t)/Math.abs(n)*i+l.x)),l=Math.abs(I.x-d)+Math.abs(I.y-t),I.napeBody?(f&&(c=v.toLocal(h),f.func_touchMove(c)),chemicalMain.nape.renderCount=nb.ACTIVE_COUNT):(I.moveThisToXY&&(h=d-I.x,c=t-I.y,I.moveThisToXY(h,c)),I.limitRotateType||(I.x=d,I.y=t)),I.activeCount=nb.ACTIVE_COUNT,0<l&&I.emit(y.event.DRAG_MOVE,{target:I,data:e.data}),I.isCtrButton||nb.currentConfigEq&&nb.currentConfigEq!==I&&I.checkForefathers&&I.checkForefathers(nb.currentConfigEq)&&nb.currentConfigEq.updateAllButtonPos&&nb.currentConfigEq.updateAllButtonPos(),I.root&&I.root.emit(NBEvent.communicate.angular.EQ_DRAG_MOVE,{target:I,data:e.data}))))}},r=function(e){e&&(e.isFromEmit=null),s.apply(I,e)},o=function(e){e&&(e.isFromEmit=null),s.apply(I,e)},s=function(){var i;if(n.data.originalEvent.changedTouches){var e=n.data.originalEvent.changedTouches;if($.each(e,function(e,t){if(t.identifier==I.dragIdentifier)return i={x:t.globalX,y:t.globalY},delete y.idMap[I.dragIdentifier],delete I.dragIdentifier,!1}),null!=I.dragIdentifier){if(0!==n.data.originalEvent.touches.length)return;delete y.idMap[I.dragIdentifier],delete I.dragIdentifier}}else i=n.data.global;delete(I=I.ropeRubber?I.ropeRubber:I).__touchEnd__,I.isMoving=!1,h.removeListener(TouchEvent.TOUCH_MOVE,a),I.removeListener(TouchEvent.TOUCH_END,o),I.removeListener(TouchEvent.TOUCH_END_OUTSIDE,r),I.napeBody&&f&&f.func_touchEnd(),I.isTouchDown=!1,I.dragFuncObj&&I.dragFuncObj.endFore&&!I.dragFuncObj.endFore.call(I.dragFuncObj.this,n)||n.data.isPropagationStopped||i&&null!=i.x&&(I.isCtrButton||!I.isEquipment||(e=v.selectionLayer).selectedObj&&1===e.selectedObj.length&&I===e.selectedObj[0]&&I.root&&I.root.emit(NBEvent.communicate.angular.UPDATE_EQ_ATTRIBUTE,I),n.globalP=new PIXI.Point(i.x,i.y),I.emit(y.event.STOP_DRAG,{target:I,evt:n,data:n.data}),I.isDragging=!1,I.dragFuncObj&&I.dragFuncObj.endEnd&&I.dragFuncObj.endEnd.call(I.dragFuncObj.this,n))},h.addEventListener(TouchEvent.TOUCH_MOVE,a),I.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,r),I.addEventListener(TouchEvent.TOUCH_END,o),I.emit(y.event.START_DRAG,{target:I,data:n.data}),I.isDragging=!0,I.__touchEnd__=o,I.dragFuncObj&&I.dragFuncObj.beginEnd&&I.dragFuncObj.beginEnd.call(I.dragFuncObj.this,n),n&&(n.isFromEmit||(I.isRope&&I.parent&&(I.parent.isWire||I.parent.isRubberCatheter)&&(n.target=I.parent,n.isFromEmit=!0,I.parent.emit(TouchEvent.TOUCH_BEGIN,n),n.target=I),I.ropeRubber&&(I.target=I.ropeRubber,n.isFromEmit=!0,I.ropeRubber.emit(TouchEvent.TOUCH_BEGIN,n),n.target=I)))))))},h.addEventListener(TouchEvent.TOUCH_BEGIN,t),I.__touchBegin__=t)},y.removeDrag=function(e){e.removeListener(TouchEvent.TOUCH_BEGIN,e.__touchBegin__),e.dragArea&&e.dragArea.removeEventListener(TouchEvent.TOUCH_BEGIN,e.__touchBegin__),e.__touchEnd__&&e.__touchEnd__(),delete e.__touchBegin__},y.hasDrag=function(e){return void 0!==e.__touchBegin__},window.NBDrag=y,e.exports=y},function(e,t,I){"use strict";var s=I(44),l=I(42),h=I(43),c=I(37),i=I(0),D=i(I(24)),T=i(I(60)),Se=i(I(25)),u=i(I(129)),a=i(I(37)),n=i(I(59)),P=i(I(114)),r=i(I(1)),o=i(I(2));function we(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var ye=I(33),M=I(20),w=I(158),Be=I(11),B=I(1005),ve=I(27),L=I(100),N=I(166),J=I(194),g=I(26),Ce=I(79),_=I(22),E=I(45),Me=I(70),be=I(386),m=I(115),p=I(168);window.SolidVO=M,window.LiquidVO=ye,window.GasVO=ve,window.IonVO=L;var xe=8.314,i=function(){function me(e){(0,r.default)(this,me),this.needTempLoss=!0,this.liquidAry=[],this.liquidAry.quickMap=new D.default,this.gasAry=[],this.gasAry.quickMap=new D.default,this.ionAry=[],this.ionAry.quickMap=new D.default,this.ionMedicineAry=[],this.ionMedicineAry.quickMap=new D.default,this.dissolveAry=[],this.dissolveAry.quickMap=new D.default,this.solidAry={},this.connectedIonMed=new D.default,this.vSolid=0,this.updateSolidCapacity=!0,this.vBlock=0,this.updateBlockCapacity=!0,this.temp=Be.DEFAULT_TEMP,this.addedVolume=0,this.container=e,this.chemicalFuncAry=new T.default,this.emptyingGasMap=new D.default,this.confChemicalFuncSet=new T.default,this.confIonicFuncSet=new T.default,this.fromElcFuncSet=new T.default,this.colorGradient=0,this.testInit()}return(0,o.default)(me,[{key:"testInit",value:function(){for(var t=this,i=["liquidAry","gasAry","dissolveAry","ionMedicineAry","ionAry"],e=0;e<i.length;e++)!function(e){var a=t[i[e]];a.originPush=a.push,a.push=function(e){a.originPush(e),a.quickMap.set(e.searchName||e.name,e)},a.originSplice=a.splice,a.splice=function(){for(var e=a.originSplice.apply(a,arguments),t=e.length,i=0;i<t;i++){var n=e[i];a.quickMap.delete(n.searchName||n.name)}return e},a.originPop=a.pop,a.pop=function(){var e=a.originPop();return a.quickMap.delete(e.searchName||e.name),e},a.originShift=a.shift,a.shift=function(){var e=a.originShift();return a.quickMap.delete(e.searchName||e.name),e},a.originUnshift=a.unshift,a.unshift=function(e){a.originUnshift(e),a.quickMap.set(e.searchName||e.name)},a.clear=function(){this.length=0,this.quickMap.clear()}}(e)}},{key:"clearH2OMed",value:function(){var e=this.ionMedicineAry,t=this.ionAry;e.clear(),t.clear()}},{key:"addIonMedicine",value:function(e,n){var t,i,a,o=this,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=e.name,l=s.match(/\.|·/);l&&(s=s.substring(0,l.index),e.dat=this.container.root.medicineManager.getMedicineData(s)),0<n?(h=e.dat.solutionHeat,(h=1===e.type&&"NaOH"===s?0:h)&&(!e.originDensity||(t=this.liquidAry.quickMap.get(e.name))&&this.container.h2o&&(a=this.container.h2o.getVol(),"H2SO4"===e.name&&(i=this.liquidAry.quickMap.get("CH3COOH"),l=this.liquidAry.quickMap.get("C2H5OH"),i&&(a+=i.getVol()),l&&(a+=l.getVol())),a=t.mol/a*1e3,Math.abs(a-e.originDensity)/e.originDensity<.01&&(h=0),t.originDensity=a),void 0===this.addIonHeatValue&&(this.addIonHeatValue=0),(r||this.container.name&&this.container.name.includes("Funnel"))&&(h=0),this.addIonHeatValue+=500*h*n)):"H2O"===s&&(c=57e3*-n,(r||this.container.name&&this.container.name.includes("Funnel"))&&(c=0),1e-10<Math.abs(c)&&this.increaseHeat(c,1e10));var h=this.ionMedicineAry.quickMap.get(s),r=e.dat.ions,c=!1;h?h.mol+=n:(u=new N(this.container,e.dat,n),this.ionMedicineAry.push(u),h=u);var u=h.mol,d=n;u<0&&"H2O"===s&&(c=!0);var p=[],h=this.liquidAry.quickMap.get(s);if(r&&(r.forEach(function(e){var t,i=o.ionAry.quickMap.get(e.name+e.valence);i?(t=d*e.count,p.push({med:i,disMol:-t,originMol:i.mol,count:e.count}),i.mol+=t,"H2O"===s&&(i.correctMol=i.mol)):(e=new L(e,n*e.count),o.push(e))}),(n=c?u:n)<0&&1<p.length)){for(var f=function(e,t,i,n){var a=t[i],r=e.mol*a.count,o=e.name;r>y[i]&&(y[i]=r,i=v[i]={name:o,dat:e.dat,currentIon:t[i],anotherIon:t[n],mol:r},C.set(o,i)),m.set(o,{mol:r,vo:e,ionName:a.name,count:a.count,anotherIon:t[n]})},I=!h||0===h.mol||c,g=this.ionMedicineAry,m=new D.default,y=[0,0],v=[null,null],C=new D.default,M=0;M<g.length;M++){var b,x=g[M];x.name!==s&&0<x.mol&&((b=x.ions)[0].name===p[0].med.name&&b[0].valence===p[0].med.dat.valence?f(x,b,0,1):b[1].name===p[1].med.name&&b[1].valence===p[1].med.dat.valence&&f(x,b,1,0))}if(0!=C.size){var O=[],A={reactant:v,product:[{name:s,dat:e.dat,mol:p[0].disMol/p[0].count}]};this.container.ionOrigin=new D.default;var T,S=we(m.keys());try{for(S.s();!(T=S.n()).done;)!function(){var e=T.value,t=m.get(e),i=p.find(function(e){return e.med.name===t.ionName}),n=1<(n=t.mol/i.originMol)?1:n;(!o.container.ionOrigin.has(t.ionName)||o.container.ionOrigin.has(t.ionName)&&o.container.ionOrigin.get(t.ionName).per<n)&&o.container.ionOrigin.set(t.ionName,{per:n,name:e});var a=n*i.disMol/t.count;a>t.vo.mol&&(a=t.vo.mol);n=C.get(e);n&&(n.mol=i.disMol/t.count),I&&(t.vo.mol-=a,(r=o.liquidAry.quickMap.get(e))?r.mol-=a:t.vo.mol<0&&g.splice(g.indexOf(t.vo),1));var r=t.anotherIon;O.push(new L(r,r.count*a))}()}catch(e){S.e(e)}finally{S.f()}var w,B=we(E.getLiquidFromIons(O,this.container.medicineManager));try{for(B.s();!(w=B.n()).done;)(function(){var e=(0,P.default)(w.value,2),t=e[0],i=e[1],n=i.dat,a=i.mol;if(a<=0)return;if(!n.ions)return;var r=A.reactant.find(function(e){if(e&&e.anotherIon)return i.index.has(e.anotherIon.name)});if(!r)return;e=r.mol*r.anotherIon.count;A.product.push({name:t,dat:n,mol:e/i.index.get(r.anotherIon.name)}),I&&(r=new ye(n,a),o.push(r),(t=o.ionMedicineAry.quickMap.get(t))?t.mol+=a:o.ionMedicineAry.push(new N(o.container,n,a)))})()}catch(e){B.e(e)}finally{B.f()}if(!A.reactant[0]||!A.reactant[1])return A.array=A.reactant.concat(A.product),A}}}},{key:"addGasMedicine",value:function(t,e){var i,n,a;0!=e&&(a=null,(i=this.gasAry.findIndex(function(e){return e.name===t}))<0&&0<e?(n=this.container.medicineManager.getMedicineData(t),a=new ve(n,e),this.gasAry.push(a)):0<=i&&((a=this.gasAry[i]).mol+e<=0?this.gasAry.splice(i,1):a.mol+=e))}},{key:"addLiquidMedicine",value:function(t,e){var i,n,a,r,o;0!=e&&(n=null,(r=this.liquidAry.findIndex(function(e){return e.name===t}))<0&&0<e?(i=this.container.medicineManager.getMedicineData(t),n=new ye(i,e),this.liquidAry.push(n),a=this.liquidAry.reduce(function(e,t){return e+=t.dat.heat_capacity*t.mol*t.mm*t.getTemp()},0)/this.liquidAry.reduce(function(e,t){return e+=t.dat.heat_capacity*t.mol*t.mm},0),this.liquidAry.forEach(function(e){return e.setTemp(a)})):0<=r&&((n=this.liquidAry[r]).mol+e<=0?this.liquidAry.splice(r,1):(r=this.container.medicineManager.getMedicineData(t),this.liquidAry.push(new ye(r,e)),o=this.liquidAry.reduce(function(e,t){return e+=t.getHeatCapacity()*t.mol*t.mm*t.getTemp()},0)/this.liquidAry.reduce(function(e,t){return e+=t.getHeatCapacity()*t.mol*t.mm},0),this.liquidAry.forEach(function(e){return e.setTemp(o)}),this.liquidAry.pop(),n.mol+=e)))}},{key:"addSolidMedicine",value:function(e,t){var i,n;0!=t&&(this.container&&this.container.noAddMedicine||(!(i=this.solidAry[e])&&0<t?(n=this.container.medicineManager.getMedicineData(e),n=new M(n,t),this.solidAry[e]=n):i&&(i.mol+t<=Be.MIN_DEVIATION?delete this.solidAry[e]:i.mol+=t)))}},{key:"addMedicine",value:function(e,t){if(0!=t){var i,n=this.container.root.medicineManager.getMedicineData(e);switch(n.type){case"Liquid":i=new ye(n,t);break;case"Gas":i=new ve(n,t);break;case"p":case"block":i=new M(n,t)}i&&this.push(i)}}},{key:"popLiquid",value:function(e){if(e)if(e instanceof Array)for(var t=0;t<e.length;t++){var i=void 0;(i=(e[t].deepClone?e[t]:e[t].medicine).deepClone()).setMol(-i.getMol()),this.naiveAddMedicine(i)}else{var n=e.deepClone();n.setMol(-n.getMol()),this.naiveAddMedicine(n)}}},{key:"pop",value:function(e){if(e instanceof Array){for(var t=[],i=0;i<e.length;i++)t.push(this.pop(e[i]));return t}if(e.medicine instanceof ve){var n=new ve(e.medicine.dat,e.mol);n.setTemp(e.medicine.getTemp());var a=e.medicine.mol-e.mol;return 0<a?e.medicine.setMol(a):(e.mol=e.medicine.mol,e.medicine.setMol(0)),n}}},{key:"push",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=this.container;if(e&&!this.noPush)if(e instanceof Array)for(var r=0;r<e.length;r++)this.push(e[r],i);else if(a.hasReact++,e.medVo&&e.medVo instanceof M||(e.deepClone&&(e=(I=e).deepClone(),I.sediment&&(e.sediment=I.sediment),I.fromSolidCompose&&0<I.mol&&(e.fromSolidCompose=!0)),e.medicine&&(f=e.medicine,e=e.medicine.deepClone(),f.sediment&&(e.sediment=f.sediment))),e&&!isNaN(e.mol))if(e.type===Me.LIQUID){for(var o,s=this.liquidAry.length,l=0;l<s;l++){var h=this.liquidAry[l];if(h.name===e.name&&!isNaN(h.getMol())){var c=h.getMol()+e.mol,u=h.getTemp(),d=e.temp||e.getTemp&&e.getTemp(),p=d<u?u:d,d=p<(d=(h.getMol()*u+e.mol*d)/c)?p:d;h.setMol(c),h.setTemp(d),o=h;break}}l===s&&(e instanceof ye||(e=me.getMedFromEasyMed(e)),this.liquidAry.push(e),"H2O"!==e.name||this.container.h2o||(this.container.h2o=e),this.container.h2o||this.container.isPouring||this.recalSolvent(),e.container=this.container,o=e),o.mol<0&&(o.mol=0),this.liquidAry.newMedicineAry||(this.liquidAry.newMedicineAry=new T.default),this.liquidAry.newMedicineAry.add(e.name)}else if(e.type===Me.SOLID){var f,I=this.solidAry;a.hasReact++,I[e.name]?((f=I[e.name]).mol+=e.mol,e.sediment&&(f.sediment+=e.sediment),e.fromSolidCompose&&0<e.mol&&(f.fromSolidCompose=!0)):(I[(e=!(e instanceof M)?me.getMedFromEasyMed(e):e).name]=e).container=this.container,"C6H5OH"===e.name&&10<n*e.mm&&(this.container.oilActiveCount=Be.OIL_ACTIVE_COUNT)}else if(e.type===Me.GAS){if(e.fromSolidCompose){var g=new M(e.dat,e.mol);return g.fromSolidCompose=!0,void this.push(g)}this.needTempLoss=!0;var m=this.gasAry.quickMap.get(e.name);m?(n=22.4*e.mol*1e3,g=m.getVol()+n,0<n&&(n=(m.getVol()*m.getTemp()+n*(e.temp||e.getTemp()))/g,m.setTemp(n)),m.setVol(g),m.isBubble=e.isBubble,0<e.mol&&(m.fogCount=Math.max(e.fogCount,m.fogCount)),m.mol<=1e-100&&(m.mol=1e-100)):(e instanceof ve||(e=me.getMedFromEasyMed(e)),a.hasReact++,this.gasAry.push(e),e.container=this.container,this.gasAry.sort(function(e,t){return t.mm-e.mm}))}else if(e.type===Me.ION){a.hasReact++;for(var y=!1,v=0;v<this.ionAry.length;v++){var C=this.ionAry[v];C.name===e.name&&C.getValence()===e.valence&&(y=!0,C.mol+=e.mol)}!1===y&&(e instanceof L||(e=me.getMedFromEasyMed(e)),this.ionAry.push(e),"H"===e.name&&(this.container.ionH=e),"OH"===e.name&&(this.container.ionOH=e),e.container=this.container)}else e.type===Me.ION_MED?(a.hasReact++,e instanceof N||(e=me.getMedFromEasyMed(e)),this.addIonMedicine(e,e.mol,i)):e.type===Me.DISSOLVE?(m=this.dissolveAry.quickMap.get(e.name),a.hasReact++,m?(m.mol+=e.mol,m.isBubble=2):(e instanceof J||(e=me.getMedFromEasyMed(e)),this.dissolveAry.push(e),e.container=this.container)):e.medVo&&e.medVo instanceof M&&(a.hasReact++,(t=this.solidAry)[e.medVo.name]?t[e.medVo.name].mol+=e.medVo.mol:t[e.medVo.name]=e.medVo.deepClone(),e.impurity&&e.impurity instanceof Array&&e.impurity.forEach(function(e){t[e.name]?t[e.name].mol+=e.mol:t[e.name]=e.deepClone()}))}},{key:"emptyingGas",value:function(i){var n=this;i.map(function(e){var t;n.emptyingGasMap.has(e.name)?((t=n.emptyingGasMap.get(e.name)).lastMol>e.mol?360<=t.emptyingCount?t.isEmptying=!0:t.emptyingCount++:(t.emptyingCount=0,t.isEmptying=!1),t.lastMol=e.mol):n.emptyingGasMap.set(e.name,{lastMol:e.mol,emptyingCount:0,isEmptying:!1})}),this.emptyingGasMap.forEach(function(e,t){i.quickMap.get(t)||n.emptyingGasMap.delete(t)})}},{key:"update",value:function(e){var t=this.gasAry,i=this.liquidAry,n=this.ionMedicineAry,a=this.ionAry,t=[t];this.updatePascal(),this.updateSolidCapacity&&(this.getSolidCapacity(),this.updateSolidCapacity=!1),this.updateBlockCapacity&&(this.getBlockCapacity(),this.updateBlockCapacity=!1),t.forEach(function(e){e.forEach(function(e,t,i){e.getMol()<=0&&i.splice(t,1)})});t=i.quickMap.get("H2O");(!t||t.mol<=1e-20)&&(t&&(t.mol=0),this.container.h2o&&(delete this.container.h2o,a.clear(),n.clear()));for(var r=0;r<i.length;r++){var o=i[r];o.getMol()<=1e-20&&(i.splice(r,1),r--,i.newMedicineAry&&i.newMedicineAry.delete(o.name))}this.updateEggSolidify(e),this.updatePESolidify(),this.updateH2SiO3Solidfy(),this.updateSediment(e)}},{key:"updateSediment",value:function(){var e=this.solidAry["泥土"];e&&(this.ionAry.quickMap.get("Al3")||this.ionAry.quickMap.get("Fe3"))?e.sedRate=.8:e&&(e.sedRate=Be.DEFAULT_SED_RATE)}},{key:"updateEggSolidify",value:function(e){var t,i,n,a,r,o="变性的鸡蛋清(硝酸)",s="变性的鸡蛋清(其他)",l="硝化的鸡蛋清",h="鸡蛋清(沉淀)",c="Pb(CH3COO)2",u=this.liquidAry,d=this.ionAry,p=u.quickMap,f=p.get("HNO3"),I=p.get(c),g=p.get("AgNO3"),m=p.get("CuSO4"),y=p.get("C2H5OH"),v=d.quickMap.get("NH41"),C=p.get("鸡蛋清"),M=p.get(o),b=p.get(s),x=p.get(l),O=p.get(h),A=this.container,T=A.solidifyLiquidGra,S=A.solidifyBody,w=A.solidifyStopGraphic,B=!1,D=!1;if(x)for(var P=T.length;P--;){var L=T[P];"temp"===L.type&&(L.type="tween",A.changeSolidifyLiquidColor(L,{color:15588492,alpha:1},1))}M&&0<M.getMol()&&M.getTemp()>=Be.EGGSOLIDTEMP/2&&(x?x.setMol(x.getMol()+M.getMol()):((x=M.deepClone()).name=l,x.solidType="temp",this.push(x),D=!0),M.setMol(0)),C&&0<C.getMol()&&(r=0,t=C.getMol(),i=f?f.getMol():0,n=g?g.getMol():0,a=I?I.getMol():0,d=m?m.getMol():0,x=y?y.getMol():0,1e-8<i?(r=Math.min(e,t,250*i),f.setMol(f.getMol()-r/250),M?M.setMol(r+M.getMol()):((M=C.deepClone()).name=o,M.setMol(r),M.solidType="HNO3",this.push(M)),C.setMol(C.getMol()-r)):0<a?(r=Math.min(e,t,5e3*a),I.setMol(I.getMol()-r/5e3),b?b.setMol(r+b.getMol()):((b=C.deepClone()).name=s,b.setMol(r),b.solidType=c,this.push(b)),C.setMol(C.getMol()-r)):0<n?(r=Math.min(e,t,5e3*n),g.setMol(g.getMol()-r/5e3),b?b.setMol(r+b.getMol()):((b=C.deepClone()).name=s,b.setMol(r),b.solidType="AgNO3",this.push(b)),C.setMol(C.getMol()-r)):0<d?(r=Math.min(e,t,5e3*d),m.setMol(m.getMol()-r/5e3),b?b.setMol(r+b.getMol()):((b=C.deepClone()).name=s,b.setMol(r),b.solidType="CuSO4",this.push(b)),C.setMol(C.getMol()-r)):0<x?(r=Math.min(e,t,800*x),y.setMol(y.getMol()-r/800),b?b.setMol(r+b.getMol()):((b=C.deepClone()).name=s,b.setMol(r),b.solidType="C2H5OH",this.push(b)),C.setMol(C.getMol()-r)):C.getTemp()>Be.EGGSOLIDTEMP&&(x=0,(y=p.get("H2O"))&&(r=y.getVol(),x=C.getMol()/C.getVol()*r,y.setMol(0)),b?b.setMol(b.getMol()+C.getMol()+x):((b=C.deepClone()).name=s,b.setMol(b.getMol()+x),b.solidType="temp",this.push(b)),C.setMol(0))),v&&0<v.getMol()&&(C&&0<C.getMol()||O&&0<O.getMol())&&(b=p.get("H2O").getVol()/1e3,v=v.getMol(),(_=(E=_=0)!==(v=Math.max(Math.min(40-4*(v/b-1.6),40),0))?b/(1/v-(N=new ye(A.root.medicineManager.getMedicineData("鸡蛋清"),1)).getVol()/1e3/N.getMol()):_)<(E=C&&0<C.getMol()?C.getMol():E)?(J=E-_,O&&0<O.getMol()?O.setMol(O.getMol()+J):((O=C.deepClone()).name=h,O.solidType=h,O.setMol(J),this.push(O)),C.setMol(_)):E<_&&(k=_-E,O&&0<O.getMol()?O.getMol()<k&&(k=O.getMol()):k=0,0<k&&(C?C.setMol(C.getMol()+k):((C=O.deepClone()).name="鸡蛋清",C.setMol(k),this.push(C)),O.setMol(O.getMol()-k))));var N=p.get(o),J=p.get(s),_=p.get(h),E=p.get(l),C=N?N.getMol():0,O=J?J.getMol():0,k=_?_.getMol():0,p=E?E.getMol():0;if(this.solidEggMol===C&&this.otSolidEggMol===O&&this.sedEggMol===k&&this.hotEggMol===p||(B=!0,this.hotEggMol||(D=!0),this.solidEggMol=C,this.otSolidEggMol=O,this.sedEggMol=k,this.hotEggMol=p),B){for(var q,R=T.length;R--;){var F=T[R];"tween"===F.type&&(q=F.currentMixerColor),F.clear(),F.parent&&F.parent.removeChild(F)}T.length=0;for(var j=S.length;j--;)S[j].set_space(null);S.length=0;for(var V=w.length;V--;){var H=w[V];H&&H.length&&H.forEach(function(e){e.dynamicNBGraphics()})}w.length=0,A.topGlobalAry=A.topCapacityVertex=null;for(var G,z=0,X=0,W=u.length;X<W;X++){if((G=u[X]).name===o||G.name===s||G.name===h){z=1;break}if(G.name===l){z=2;break}}var Z,U,K,Y,Q,p=0,B=0;E&&(B=E.isSolidify=E.getVol(),(Q=D?{color:16777215,alpha:.8}:q).force=!0,K=l,Y=E.solidType),N&&(N.isSolidify=N.getVol(),p+=N.getVol()),J&&(J.isSolidify=J.getVol(),p+=J.getVol()),_&&(_.isSolidify=_.getVol(),p+=_.getVol()),p&&(U=Z="变性的鸡蛋清"),1===z?(A.calculateSolidifyLiquid(p,!0,Z,U),A.topGlobalAry=A.getTopGlobalVertexes(),K&&(A.calculateSolidifyLiquid(B,!0,K,Y,Q),A.topGlobalAry=A.getTopGlobalVertexes())):2===z&&(A.calculateSolidifyLiquid(B,!0,K,Y,Q),A.topGlobalAry=A.getTopGlobalVertexes(),Z&&(A.calculateSolidifyLiquid(p,!0,Z,U),A.topGlobalAry=A.getTopGlobalVertexes()))}}},{key:"updatePESolidify",value:function(){var e=this.liquidAry,t=e.quickMap.get("PE"),i=e.quickMap.get("PE(凝固)");if(t||i){var n=this.container,a=n.solidifyLiquidGra,r=n.solidifyBody,o=n.solidifyStopGraphic;if(i&&1e-7<i.getMol())if(120<=i.getTemp()){for(var s,l=a.length-1;0<=l;l--)a[l].clear(),i.isSolidify=0,i.solidType=null,a.splice(l,1);t&&0<t.mol?(t.setMol(t.getMol()+i.getMol()),i.setMol(0)):(s=e.indexOf(i),e.splice(s,1),i.name="PE",t=i,e.push(t));for(var h=r.length-1;0<=h;h--)r[h].set_space(null),r.splice(h,1),o[h].forEach(function(e){e.dynamicNBGraphics()}),o.splice(h,1);if(this.container.calculateSolidifyLiquid(this.getSolidifyCapacity(),!1,"变性的鸡蛋清"),0===this.getSolidifyCapacity()){for(var c=0;c<a.length;c++)a[c].clear(),0;a.length=0}}t&&1e-7<t.getMol()&&t.getTemp()<120&&(n=t.getVol(),i?(i.setMol(i.getMol()+t.getMol()),t.setMol(0),i.isSolidify+=n):(s=e.indexOf(t),e.splice(s,1),t.name="PE(凝固)",(i=t).isSolidify=n,e.push(i)),i.solidType="solidifyPE",this.container.calculateSolidifyLiquid(n,!0,"PE(凝固)","solidifyPE"))}}},{key:"updateH2SiO3Solidfy",value:function(){var e,t,i,n,a,r,o,s;this.container.solidifyLiquidGra.find(function(e){return"H2SiO3_colloid"===e.type})||(a=this.liquidAry.quickMap,r=this.solidAry,n=a.get("H2SiO3"),e=r.H2SiO3,t=(n&&n.getMol()||0)+(e&&e.getMol()||0),s=this.container.getCurrentCapacity(),1e-7<t&&1<s&&.002<t/s*1e3&&(350<(i=this.solidifyColloidCount||0)?(n=(r=a.get("H2O"))&&r.getMol()||0,this.liquidAry.forEach(function(e){"H2O"!==e.name&&"H2SiO3"!==e.name||e.setMol(0)}),this.clearH2OMed(),0<n&&this.addMedicine("H2SiO3(胶体)",n),(r=a.get("H2SiO3(胶体)"))&&(n=r.getVol(),r.isSolidify=n,a={color:16777215,alpha:.8},this.H2SiO3ColloidColor?a=this.H2SiO3ColloidColor:(r=this.getMixerColor())&&(o=r.color.toString(16),o="".concat("000000".substring(0,o.length-6)).concat(o),a.color=(0,Se.default)("0x".concat(w.mix([o,"#FFFFFF"]))),a.alpha=(a.alpha+.9)/2),(o=this.container.medicineNBGraphicMap.get("H2SiO3"))&&0<o.size&&o.forEach(function(e){return e.alpha=0}),e&&(e.isSolidify=!0),this.H2SiO3ColloidColor=a,this.container.calculateSolidifyLiquid(n,!0,"H2SiO3(胶体)","H2SiO3_colloid",a),this.container.children.forEach(function(e){"GlassBar"===e.name&&e.checkLockGlassBar()}))):(i+=.1<(s=t/s*1e3)?3:.02<s?2:1,this.solidifyColloidCount=++i)))}},{key:"forceSetDefaultTemp",value:function(e){e.forEach(function(e){e.setTemp(Be.DEFAULT_TEMP)})}},{key:"tempLoss",value:function(e){if(this.needTempLoss){this.container.name.includes("Funnel")&&(e*=3),this.container.activeCount=Be.ACTIVE_COUNT;for(var t,i,n,a=this,r=0,o=0,s=0;s<this.liquidAry.length;s++){var l=this.liquidAry[s];t||"H2O"!==l.name||(t=l);var h=l.getVol();o+=h,r+=l.getTemp()*h}!t||(i=t.getTemp())<99&&65<i&&(u=(i-60)/65*1e-6,n=this.liquidAry.quickMap.get("C2H5OH"),c=this.liquidAry.quickMap.get("H2SO4"),77<i&&i<79&&n&&n.getMol()>Be.MIN_DEVIATION&&!(c&&c.getMol()>Be.MIN_DEVIATION)&&(u*=20),t.mol-=u,this.push(new ve(t.dat,u)));var c=r/o-Be.DEFAULT_TEMP,u=0;isFinite(c)&&c&&(u=c,0===this.container.hasReact&&v(c)?this.forceSetDefaultTemp(this.liquidAry):this.increaseHeat(-(e*c/10+(0<c?.4:-.1))*this.container.getTempLossFactor("liquid"),Be.DEFAULT_TEMP));for(var r=o=0,d=0;d<this.gasAry.length;d++){var p=this.gasAry[d],f=p.getVol();o+=f,r+=p.getTemp()*f}0===(c=r/o-Be.DEFAULT_TEMP)?0===u&&(this.needTempLoss=!1):v(c)?this.forceSetDefaultTemp(this.gasAry):this.increaseGasHeat(-e*(c/20+(0<c?15:-15))*this.container.getTempLossFactor("gas"));var I,g=this.solidAry;for(I in g){var m=g[I],y=m.getTemp();m.setTemp(y-10*e)}}function v(e){var t;return e=Math.abs(e),a.needTempLoss=!(t=e<.05?!0:t),t}}},{key:"setSolidFriction",value:function(){var e,t=we(this.container.medicineNBGraphicMap.values());try{for(t.s();!(e=t.n()).done;){var i,n=we(e.value);try{for(n.s();!(i=n.n()).done;){var a=i.value.napeShape.get_material();a.set_dynamicFriction(1e4),a.set_staticFriction(1e4),a.set_rollingFriction(1e4)}}catch(e){n.e(e)}finally{n.f()}}}catch(e){t.e(e)}finally{t.f()}}},{key:"increaseGasHeat",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1/0;if(e/=1e4,this.gasAry[0]){for(var i=0,n=0,a=0;a<this.gasAry.length;a++)n+=this.gasAry[a].mm*this.gasAry[a].mol,i+=+this.gasAry[a].getHeatCapacity();i/=this.gasAry.length,n/=1e3,this.solidAry["碎瓷片"]&&(e/=12);for(var r=0;r<this.gasAry.length;r++){var o,s,l=this.gasAry[r],h=l.getTemp();t<h&&0<e||(s=h+(o=e/n/i),s=t===1/0?(s=h+(h>Be.DEFAULT_TEMP&&o<0||h<Be.DEFAULT_TEMP&&0<o?o:-o),(h-Be.DEFAULT_TEMP)*(s-Be.DEFAULT_TEMP)<=0?Be.DEFAULT_TEMP:s):s,s=t<Be.DEFAULT_TEMP?t<s?s:t:t<s?t:s,l.setTemp(s))}}}},{key:"getSolidAverageTemp",value:function(){var e,t=0,i=0,n=0;for(e in this.solidAry){var a=this.solidAry[e],r=a.mm*a.mol;i+=r;var o=+a.getHeatCapacity();t+=o,n+=o*r/1e3*(a.getTemp()-Be.DEFAULT_TEMP)}return t/=(0,u.default)(this.solidAry).length,Be.DEFAULT_TEMP+n/(t*i/1e3)}},{key:"getGasAverageTemp",value:function(){if(!this.needTempLoss)return Be.DEFAULT_TEMP;for(var e=0,t=0,i=0,n=0;n<this.gasAry.length;n++){var a=this.gasAry[n],r=a.mm*a.mol;t+=r;var o=a.getHeatCapacity();e+=o,i+=o*r/1e3*(a.getTemp()-Be.DEFAULT_TEMP)}return e/=this.gasAry.length,Be.DEFAULT_TEMP+i/(e*t/1e3)}},{key:"getMixGas",value:function(e){for(var t=this.gasAry,i=this.getGasMol(),n=[],a=0;a<t.length;a++){var r=t[a],o=r.mol*e/i;n.push({medicine:r,mol:o})}return n}},{key:"pascalIdEqualUpdateAllLine",value:function(){return!!this.pascalAllLines&&this.pascalAllLines.updateId===this.container.root.getResetNodeTime()}},{key:"mixTwoContainerGas",value:function(e,t){var i,n,a,r,o;e.isCoverGS||t.isCoverGS||(i=Math.min(e.medicineData.getGasMol(),t.medicineData.getGasMol())/500,n=i/e.medicineData.getGasMol(),a=i/e.medicineData.getGasMol(),r=[],o=[],e.medicineData.gasAry.forEach(function(e){var t=e.getMol();r.push(e.deepClone().setMol(n*t)),e.setMol((1-n)*t)}),t.medicineData.gasAry.forEach(function(e){var t=e.getMol();o.push(e.deepClone().setMol(a*t)),e.setMol((1-a)*t)}),t.medicineData.push(r),e.medicineData.push(o),e.activeCount=t.activeCount=Be.ACTIVE_COUNT)}},{key:"updatePascal",value:function(){var se=this.container,C=se.root.viewStack;if(se.liquidVertex&&!se.isReacting&&!C.lastScaleTime&&!(this.pascalIdEqualUpdateAllLine()&&!this.needTempLoss&&se.hasReact<=0)){var le=I(362);if(!se.noPascal&&se.liquidVertexUp&&this.gasAry[0]&&(!1!==se._switchIsOpen_||se.tubeDrip)&&(!se.isOldBalloon||se.pascal!==Be.PASCAL)){var o=se.getTotalCapacity()-se.currentCapacity-(se.volumeEncroachment||0),s=Math.pow(C.scale.x,2);o<=0&&(o=g.getArea(se.liquidVertexUp)/s*se.capacityScale),se.gasArea=o,o/=1e6;var e=this.getGasMol()*xe*Ce.convertCToK(this.getGasAverageTemp())/o;isNaN(e)||se.isOldBalloon||(se.pascal=e);var l,t,i,he=se.medicineManager,ce=new ve(he.getMedicineData("O2"),1),ue=new ve(he.getMedicineData("N2"),1),de=this.getGasMol(),pe=this,fe=this.getGasAverageTemp(),Ie=this.getLiquidCapacity(),fe=isNaN(fe)?Be.DEFAULT_TEMP:fe,M=[],b=[],ge=[],p=[];if(this.pascalAllLines&&0===this.pascalAllLines.length||!this.pascalIdEqualUpdateAllLine()){(l=new T.default).add(se),function e(t,i){var n=!1;for(var a=0;a<t.addedNode.length;a++){var r=t.addedNode[a];if(i&&i[0]===r&&t.isGlassCatheter&&2<i.length&&(i.isFake=!0),!l.has(r)&&r)if(n=!0,l.add(r),r.isRubberCatheter&&r.catheterIsStoped||r.noPascal||r.capacityVertex&&!1===r._switchIsOpen_)r.catheterIsStoped&&(l.delete(r),r.stopedContainer.push(se));else if(!(r.bottomAirBalloon&&t!==r.bottomAirBalloon&&t.isBaseContainer||r.isPhTestPart))if(!t.bottomAirBalloon||r===t.bottomAirBalloon||"AirBalloon"===r.name&&!r.topGlassCatheter||t.addedRubber){if((!r.isKippsCatheter||r.catheterSwitchIsOpen)&&(!t.currentPlug||t.parent!==r||r.isCondenser||t.isCondenser||"DryingTube"===t.name&&0===t.rotation))if(r.capacityVertex)!0!==r.noPascal&&!0!==r._switchIsOpen_&&0!==r.releaseGas&&r.globalAry&&(r.parent!==se||!r.isCovered()&&!r.currentPlug||"DryingTube"===r.name&&0===r.rotation||"DroppingFunnelWithBalancedPressure"===r.name)&&(i[0]&&"DroppingFunnelWithBalancedPressure"===i[0].name&&!i[0].isCovered()?ge.push(i.concat(!0)):ge.push(i.concat(r)));else if(r.isRubberCatheter||r.isGlassCatheter||r.addedRubber||r.isCondenser){if(r.addedRubberCount&&void 0!==r.maxOpenMouth&&(r.maxOpenMouth>r.addedRubberCount+1||!r.addedBottle)){n=!1;break}var o=i.concat(r);e(r,o)}}else ge.push(i.concat(!0))}{var s;!1===n&&(i.isFake||t===se&&0===se.addedNode.length&&(se.isCovered()||se.currentPlug)||(s=i.concat(!0),ge.push(s)))}}(se,[se]);for(var n,a,r=!1,h=0;h<ge.length;h++){var c=ge[h];!0===c[c.length-1]&&(r=!0)}!1!==r||se.isBalloon||se.parent.liquidVertex||!se.isOpen&&!1!==se.isCovered()||se.coveredGasBottle||(ge.push([se,!0]),r=!0),"KippsFunnel"!==se.name||se.isCovered()||(ge.push([se,!0]),r=!0),"LongNeckFunnel"===se.name&&(ge.push([se,!0]),r=!0),se.rubberPos&&!se.addedRubber&&se.parent.liquidVertex&&(n=se.parent.liquidVertex[0].y,se.toGlobal(se.rubberPos).y<n?(ge.push([se,!0]),r=!0):se.currentPlug||(a=se.localBounds,se.toGlobal({x:a.x,y:a.y}).y<n&&(ge.push([se,!0]),r=!0))),se.isLeakage=r,(this.pascalAllLines=ge).updateId=se.root.getResetNodeTime()}else ge=this.pascalAllLines;0<ge.length&&(se.rubberAndCatherToTrue=!se.isOpen&&!!ge.find(function(e){return 2<e.length&&!0===e[e.length-1]&&e[1].isGlassCatheter&&(C.toLocal(e[0].liquidVertex[0]).y>C.toLocal(e[1].ropePoint[1],e[1]).y||e[0].topGlassCatheter===e[1])}),ge.forEach(function(e){for(var t,i=[],n=e.length-1,a=0,r=0;r<e.length;r++){var o=e[r],s={node:o};if(r===n){var l=void 0;if(!0!==o){if(void 0===(l=O(e[r-2],e[r-1],e[r],!0)))return}else l=0;l instanceof Object&&(h=l.pos,s.entrance=h,h=pe.getMedColorAcdToPos(h),s.color=h.color,s.alpha=h.alpha,l=l.pascal||0),s.deltaPascal=l,a+=l,i.push(s);break}var h=O(e[r-1],e[r],e[r+1]);h instanceof Object&&(l=h.pos,s.entrance=l,l=pe.getMedColorAcdToPos(l),s.color=l.color,s.alpha=l.alpha,h=h.pascal),s.deltaPascal=h,a+=h,i.push(s),0===r&&(t=h<=1?M:b)}var c=i[i.length-1].node,u=Be.PASCAL;!0!==c&&(u=c.pascal);a=a||0;var d=i[0].node.pascal;u<d+a?(i.sumDeltaPascal=a,t.push(i)):c&&c.isBaseContainer?c.hasReact+=2:!0===c&&d+a<u&&2<i.length&&(i[0].hasReact+=2,p.push(i),i.sumDeltaPascal=a)}),a=M.findIndex(function(e){return!0===e[e.length-1].node}),se.gasIsLeakage=Boolean(-1!==a),n=ge.find(function(e){return 2===e.length&&!0===e[1]}),-1!==a||!se.isOpen&&!se.rubberAndCatherToTrue||!n&&se.currentContainer&&se.currentContainer.isBaseContainer||se.coveredGasBottle||(se.gasIsLeakage=!0,(t=[{node:se,deltaPascal:0},{node:!0,deltaPascal:0}]).sumDeltaPascal=0,M.push(t)),(ge=M.concat(b)).forEach(f),0<p.length&&p.forEach(f),ge[0]||p[0]?(ge[0]&&(n=d(ge),i=M.length+1,t=n.slice(0,i),i=[n[0]].concat(n.slice(i)),u(M,t,!0),u(b,i,!1)),p[0]&&(i=d(p),u(p,i,!0,!0)),"DistillingFlask"===se.name&&se.connectObj&&se.connectObj.addLiquid()):se.coveredGasBottle&&this.mixTwoContainerGas(se,se.coveredGasBottle))}}function u(e,t,i,n){var a=3<arguments.length&&void 0!==n&&n,r=e[0]&&e[0].start;if(r){var o=r.node.pascal;r.mol=pe.getGasMol();for(var s=0;s<e.length;s++){var l=e[s];if(!se.isPourOutHold||se.vRotateSprite){if(i&&2===l.length&&"DroppingFunnelWithBalancedPressure"===l[0].node.name&&!0!==l[1].node&&!l[0].node.isCovered())return;if(!i&&(se.isPouring||se.isPourOutHold))return;if(!i&&2===l.length&&!0===l[1].node&&l[0].node.currentPlug)return;if((2!==l.length||!0!==l[1].node||l[0].node.isOpen||l[0].node.rubberAndCatherToTrue||Be.MULTI_MOUSE_CONARY.includes(l[0].node.name))&&!(i&&2===l.length&&"LongNeckFunnel"===l[1].node.name&&1<l[1].node.currentCapacity||3===l.length&&!0===l[0].node.isOpen&&"StraightGlassCatheter"==l[1].node.name&&!0===l[2].node&&l[1].node.bottomAirBalloon||3<=l.length&&"StraightGlassCatheter"===l[l.length-2].node.name&&l[l.length-2].node.bottomAirBalloon&&l.end.node&&l.end.node.isBaseContainer&&l.end.node!==l[l.length-2].node.bottomAirBalloon)){var h=void 0,c=l.end.node;!0===c?(h=a?Be.PASCAL:-1/0,o=r.node.pascal):(h=l.end.pascal,r.node.gasIsLeakage&&(o=Be.PASCAL));var u=Math.min(r.mol,l.end.mol)/10;if(!(o+l.sumDeltaPascal<=h)||se.isGasBottle&&c.isGasBottle||a){var d=[],p=t[s+1];if(p<0||isNaN(p))return;c=(o+l.sumDeltaPascal)/h;if(c<1.005?c=1:10<c&&(c=10),u*=c*c,2===l.length&&!0===l.end.node&&i){var f=r.node,I=be.getStratifyGas(f,void 0,!1),g=f.getPourInObj();f.gasLeakage instanceof Array||(f.gasLeakage=[]);var m=f.gasLeakage;if(I&&0<I.length){var y=0;if(f.isCoverTwoSmallBeaker&&200<f.molecularTransCount)for(var v=0;v<I.length;v++)for(var C=I[v].vo,M=.001*C.mol,b=C.deepClone().setMol(M),x=0;x<f.coveredTwoSmallBeakers.length;x++)f.coveredTwoSmallBeakers[x].eq.medicineData.push(b),C.setMol(C.getMol()-M);else if(f.coveredByBigBeaker&&200<f.molecularTransCount)for(var O=0;O<I.length;O++){var A=I[O].vo,T=.001*A.mol,S=A.deepClone().setMol(T);f.coverBigBeaker.medicineData.push(S),A.setMol(A.getMol()-T)}else{var w=Ce.convertCToK(fe)/Ce.convertCToK(Be.DEFAULT_TEMP);f.updateMoreGas&&(f.updateMoreGas=!1,w*=150);for(var B=0;B<I.length;B++)!function(e){var t=I[e],i=2e-4*t.mol*w;f.isCoverGS&&null!=f.openArea&&(i*=f.openArea<0?0:f.openArea<1?f.openArea:1);var n,a,r,o=t.vo.deepClone();o.mol=i,g&&f.vRotateSprite instanceof le&&Math.abs(f.rotation)>Math.PI/8?(g.addMedicine(o),"BigBeaker"===g.name&&"CO2"===o.name&&1e-6<o.mol&&((e=g.children.find(function(e){return"IronSheet"===e.name}))&&!e.canAddCandle()&&(n=e.candles[1],a=e.candles[0],n.isLightOn()&&!n.forceOff&&(n.forceOff=!0,r=g.insertSheet?6e3:2500,setTimeout(function(){n&&(n.forceOff=null,n.lightOff())},r)),a.isLightOn()&&!a.forceOff&&(a.forceOff=!0,setTimeout(function(){a&&(a.forceOff=null,a.lightOff())},3500))))):(r=m.find(function(e){return e.name===t.vo.name}))?r.mol+=i:m.push(o),t.vo.mol-=i,y+=i}(B);h=ce.deepClone();h.mol=.2*y;c=ue.deepClone();c.mol=.8*y,pe.push(h),pe.push(c)}}else{for(var D=(fe-Be.ABSOLUTE_ZERO)/5e6*de,P=pe.gasAry,L=0;L<P.length;L++){var N=P[L];N.mol-=N.mol/de*D}var J=ce.deepClone();J.mol=.2*D;var _=ue.deepClone();_.mol=.8*D,pe.push(J),pe.push(_)}}var E=p-l.end.mol,E=Math.min(E,u);!0===l.end.node&&(E=r.mol-(Be.PASCAL-l.sumDeltaPascal)/r.constant),E=de<(E=.01<E?.01:E)?de:E;J=e[0].start.node;if("BaseGasMedicineInGasBag"!==J.name&&"ExhaledBreath"!==J.name||(E=J.releaseGas||0,J.slowRatio&&(E*=J.slowRatio)),!0===l.end.node&&"AirBalloon"===l.start.node.name&&4<l.start.node.firstListenerPascal&&(E*=.01,1e-7<Math.abs(E)&&(se.hasReact+=2)),0!==E&&!(a&&0<E)&&(!(Math.abs(E)<1e-14&&!0===l.end.node&&2==l.length)||se.precisePascal)){_=!0===l.end.node,u=!1;if(E<0){if(!_)continue;E*=-1;J=ce.deepClone();J.mol=.2*E;_=ue.deepClone();_.mol=.8*E,d=[J,_],l.reverse(),u=!0}if(!1===u)if(i){var k=be.getStratifyGas(se,l[0].entrance,!1);se.medicineData.emptyingGas(se.medicineData.gasAry),k instanceof Array?function(){var t=0;k.forEach(function(e){se.medicineData.emptyingGasMap.get(e.vo.name).isEmptying&&e.percent<.1&&(t+=e.percent)});for(var e=0;e<k.length;e++){var i,n=k[e],a=void 0;(a=0<t?se.medicineData.emptyingGasMap.get(n.vo.name).isEmptying&&n.percent<.1?.2*n.percent/t*E:1!==t?.8*n.percent/(1-t)*E:0:E*n.percent)&&(i=he.getMedicineData(n.vo.name),i=new ve(i,-a),se.medicineData.push(i),(n=n.vo.deepClone()).mol=a,d.push(n))}}():d=pe.pop(pe.getMixGas(E));var q=se.medicineData.solidAry.KMnO4;q&&!se.addCotton&&q.isDecomposing&&(R=q.mol<1e-7?q.mol/10:1e-7,(u=new ve(q.dat,R)).fromSolidCompose=!0,d.push(u),q.mol-=R)}else{var q=l.end,R=void 0;if(!0===q.node){if(se.gasIsLeakage&&2===l.length&&1===ge.length)continue;R=1e6*(r.mol*xe*r.temp/(Be.PASCAL-l.sumDeltaPascal)-r.volume),R/=2}else{var R=(1-q.mol/p)*q.volume*1e6,p=q.node.getTotalCapacity()-q.currentCapacity;R=(p=p<.02?0:p)<R?p:R}if(R<.01&&!0!==q.node&&(!se.precisePascal||!q.node.precisePascal))continue;(d=pe.convertVolumeToLiquidAcToPos(R=Ie<(R=.5<R?.5:R)?Ie:R,l.start.entrance))&&pe.minusCovertedLiuqid(d)}var F=l[0].color,j=l[0].alpha,V=void 0,H=void 0,G=void 0;if(d){5e-6<Math.abs(E)&&(se.hasReact+=2);for(var z=1;z<l.length;z++){var X=l[z].node;if(!X.isPlasticInjector){if(1===z&&!0!==X)X.medicine&&X.medicine.push?("CondenserTubeForOrganic"===X.name&&2<l.length&&l.start.node===X.currentHitObj&&X.backFlowMed(d),X.medicine.push(d),X.lineControl&&(X.lineControl(l[0].node,l[2].node,d,F,j),H=X.lines.endColor,G=X.lines.endAlpha)):X.medicineData&&(X.medicineData.push(d,!0),X.activeCount=X.hasReact=Be.ACTIVE_COUNT);else if(X.medicine){var W=V.medicine.leakageMedicine;X.medicine.push(W),X.lineControl&&(X.lineControl(V,l[z+1].node,W,H||F,G||j),H=X.lines.endColor,G=X.lines.endAlpha)}else if(X.medicineData){var Z=void 0;if(V.fireParticlePos&&0<V.fireParticlePos.length&&V.fireParticlePos.forEach(function(e){e.particle&&(Z=!0)}),!Z){V.currentArea&&(W=V.currentArea.name,V.currentContainer&&V.currentContainer.emit("areaPushLeakage",{name:W,med:V.medicine.leakageMedicine}));var U=V.medicine.leakageMedicine;if(l.end.deltaPascal<0&&U.forEach(function(e){e.type===Me.GAS&&(e.isBubble+=2)}),V.isGlassCatheter)for(var K=0,Y=U.length;K<Y;K++){var Q=U[K],$=Q.type,ee=Q.name;pe.checkNeedConvertGasToLiquid($,ee,X.medicineData.liquidAry.quickMap)&&(U[K]=new ye(Q.dat,Q.getMol()))}X.medicineData.push(U),X.hasReact=Be.ACTIVE_COUNT;for(var te=V.medicine.leakageMedicine,ie=X.gasLeakage=[],ne=0;ne<te.length;ne++)ie.push(te[ne].deepClone())}}if(i&&2===l.length&&!0===X){for(var ae=0;ae<d.length;ae++){var re,oe=d[ae];oe.clone||((re=me.getMedFromEasyMed(oe)).restoreFromEasyClone(oe),d[ae]=re)}se.gasLeakage=d}V=X}}}}}}}}}}function d(e){for(var t=[],i=[],n=e[0].start.mol,a=e.length+1,r=0;r<a;r++){var o=e[r],s=[];if(t.push(s),s.length=a,r===e.length){s.fill(1),i.push(n);break}s.fill(0),s[0]=o.start.constant;var l=o.end;s[r+1]=-l.constant,n+=l.mol,i.push(-o.sumDeltaPascal)}return m.GaussianElimination(t,i)}function f(e){var t=e[0],i=e[e.length-1],n=t.node,a=i.node,r=o;return t.volume=r,t.temp=Ce.convertCToK(fe),t.constant=xe*t.temp/r,t.mol=de,t.pascal=n.pascal,!0===a?(i.mol=1e5,i.temp=Ce.convertCToK(Be.DEFAULT_TEMP),i.constant=Be.PASCAL/i.mol,i.volume=xe*i.temp/i.constant,i.pascal=Be.PASCAL,i.currentCapacity=0):(i.currentCapacity=a.getCurrentCapacity(),(n=(a.getTotalCapacity()-a.currentCapacity)/1e6)<=0&&(n=g.getArea(a.liquidVertexUp)*a.capacityScale/1e6/s),i.volume=n,n=a.medicineData.getGasAverageTemp(),n=isNaN(n)?Be.DEFAULT_TEMP:n,i.temp=Ce.convertCToK(n),i.constant=xe*i.temp/i.volume,a.isLeakage?(i.pascal=Be.PASCAL,i.mol=Be.PASCAL/i.constant):(i.pascal=a.pascal,i.mol=a.medicineData.getGasMol())),e.start=t,e.end=i,!0===a}function x(e){var t=e[0],e=e[e.length-1];return C.toLocal(t.y<e.y?t:e)}function O(e,t,i,n){if(t.isShapeCatheter||t.isSharpNoseGlassTube)return 0;if(t.capacityVertex){if(i.isGlassCatheter){var a=t.liquidVertex[0];t.localLiquidVertex&&t.localLiquidVertex[0]&&(a=t.toGlobal(t.localLiquidVertex[0]));var r=C.toLocal(a).y,a=!1;0===t.getCurrentCapacity()&&(a=!0),i.addedRubber===t?o=C.toLocal(i.extendBottmPos||i.rubberPos,i):i.ropePoint?o=C.toLocal(i.ropePoint[1],i):i.isShapeCatheter&&(o=C.toLocal({x:0,y:i.height},i));r=o.y-r;a&&(r=0);var o=C.toGlobal(o);return{pascal:r<=0||isNaN(r)?0:A(r),pos:o}}if(i.isRubberCatheter){var s=C.toLocal({x:0,y:0},i.leftHead.equipment===t?i.leftHead:i.rightHead),l=t.liquidVertex[0];t.localLiquidVertex&&t.localLiquidVertex[0]&&(l=t.toGlobal(t.localLiquidVertex[0]));var h=C.toLocal(l).y,l=s.y-h,h=C.toGlobal(s);return{pascal:l<0||isNaN(l)?0:A(l),pos:h}}if(i.isCondenser){var c=C.toLocal(i.nodePos[t===i.currentHitObj?0:1],i);return{pascal:0,pos:C.toGlobal(c)}}if(!0===i){if(t.rubberPos&&!t.addedRubber&&0<Ie&&!t.cannotRubberLos){s=t.liquidVertex[0];t.localLiquidVertex&&t.localLiquidVertex[0]&&(s=t.toGlobal(t.localLiquidVertex[0]));l=C.toLocal(s).y,h=C.toLocal(t.extendBottmPos||t.rubberPos,t).y;if("DryingTube"===t.name&&t.currentContainer&&0===t.rotation&&!t.currentPlug){c=t.currentContainer;if(c.liquidVertex){if(C.toLocal(c.liquidVertex[0]).y<=l)return 0;var s=h-l;0<s&&(c=A(s),(s=[{node:t,deltaPascal:-c},{node:!0,deltaPascal:0}]).sumDeltaPascal=-c,M.push(s))}}h=h-l;0<h&&(l=A(h),(h=[{node:t,deltaPascal:l},{node:!0,deltaPascal:0}]).sumDeltaPascal=l,b.push(h))}else if(!t.hasRubberPlug){var u=t.capacityVertex[0],d=t.toGlobal({x:u.get_x(),y:u.get_y()}),p=d.y-t.liquidVertex[0].y;if(0<(p=p<0||isNaN(p)?0:p))return{pascal:A(p),pos:d}}return 0}if(i.capacityVertex&&void 0===n){u=0,p=C.toLocal(t.liquidVertex[0]).y;if(i.parent===t||i.currentContainer===t){var f,I=x(i.globalAry);i.allowRubberCatheter&&!i.addedRubber&&i.rubberPos?((d=C.toLocal(i.extendBottmPos||i.rubberPos,i)).y>I.y&&(I=d),!i.UTubeRightPos||(f=C.toLocal(i.UTubeRightPos,i)).y>I.y&&(I=f)):i.kippsPos?I=C.toLocal(i.kippsPos,i):"LongNeckFunnel"===i.name&&(I=C.toLocal(i.dripPos,i))}else{if(t.parent!==i&&t.currentContainer!==i)return;I=x(t.globalAry),t.allowRubberCatheter&&!t.addedRubber&&t.rubberPos?((f=C.toLocal(t.extendBottmPos||t.rubberPos,t)).y>I.y&&(I=f),!t.UTubeRightPos||(f=C.toLocal(t.UTubeRightPos,t)).y>I.y&&(I=f)):t.kippsPos?I=C.toLocal(t.kippsPos,t):"LongNeckFunnel"===t.name&&(I=C.toLocal(t.dripPos,t))}return(u=I.y-p)<0&&(u=0),{pascal:A(u=t.medicineData&&t.medicineData.liquidAry&&t.medicineData.liquidAry.length<1?0:u),pos:I}}}if(i.capacityVertex&&n){I=O(e,i,t);return I instanceof Object&&(I.pascal*=-1),I}if(!0===i&&n)return 0;if(t.isGlassCatheter){var g,m=t.medicine.liquidAry.vol/t.capacity;return 0===(m=t.convertPercent?t.convertPercent(m):m)||isNaN(m)?0:(i.isRubberCatheter?(v=C.toLocal(t.ropePoint[1],t).y,g=C.toLocal({x:0,y:0},i.leftHead.equipment===t?i.leftHead:i.rightHead).y):(i.capacityVertex||!0===i)&&e.isRubberCatheter?(v=C.toLocal({x:0,y:0},e.leftHead.equipment===t?e.leftHead:e.rightHead).y,g=C.toLocal(t.ropePoint[1],t).y):!0===i&&(v=C.toLocal(t.ropePoint[1],t).y,t.rubberPos?g=C.toLocal(t.extendBottmPos||t.rubberPos,t).y:t._rubberPos instanceof Array&&(g=t._rubberPos.map(function(e){return C.toLocal(e,t).y}).reduce(function(e,t){return t<e?t:e}))),A(g-v)*m)}if(t.isRubberCatheter){var y,v=t.medicine.liquidAry.vol/t.capacity;if(0==v)return 0;m={x:0,y:0};return A((t.leftHead.equipment===i||!0===i&&!t.leftHead.equipment?(y=C.toLocal(m,t.rightHead).y,C.toLocal(m,t.leftHead).y):(y=C.toLocal(m,t.leftHead).y,C.toLocal(m,t.rightHead).y))-y)*v}if(!t.isCondenser||!i.liquidVertex&&!0!==i)return 0;i=C.toLocal(t.nodePos[i===t.currentHitObj?1:0],t);return{pascal:0,pos:C.toGlobal(i)}}function A(e,t){e=0===e?0:(1<arguments.length&&void 0!==t?t:1)*Be.EARTH_GRAVITY*e/Be.PIXELS_PER_ML*10;return isNaN(e)?0:e}}},{key:"checkNeedConvertGasToLiquid",value:function(e,t,i){if(e===Me.GAS){if("CH3COOCH2CH3"===t)return!0;if("Br2"===t){i=i.get("CCl4");if(i&&0<i.getMol())return!0}}return!1}},{key:"getMedColorAcdToPos",value:function(e){for(var t=this.container.liquidGra,i=0;i<t.length;i++){var n=t[i];if(!n||!n.pa||void 0===n.liquidColor)break;if(n.pa.y<e.y)return{color:n.liquidColor,alpha:n.liquidAlpha}}return{color:16777215,alpha:.3}}},{key:"getLiquidAverageTemp",value:function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]){var e=this.liquidAry.quickMap.get("H2SO4"),t=this.liquidAry.quickMap.get("C2H5OH");if(e&&t&&.001<e.mol&&.001<t.mol&&60<t.getTemp())return Math.max(t.getTemp(),e.getTemp())}for(var i=0,n=0,a=0;a<this.liquidAry.length;a++){var r=this.liquidAry[a],o=r.getVol();0<o&&(n+=o,i+=o*(isFinite(r.getTemp())?r.getTemp():Be.DEFAULT_TEMP))}return 0<n&&i/n||Be.DEFAULT_TEMP}},{key:"getMixedLiquidDensity",value:function(){for(var e=Math.pow(this.container.getViewStack().scale.x,2),e=g.getArea(this.container.liquidVertex)*this.container.capacityScale/e,t=0,i=0;i<this.liquidAry.length;i++)t+=this.liquidAry[i].mm*this.liquidAry[i].mol;return t/e}},{key:"increaseHeat",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1/0;if(0!==e&&!isNaN(e)){this.needTempLoss=!0,this.container.hasReact++;var i,n,a=this.container;a.canAddTempEq&&(i=Be.EQUIPMENTSPECIFICHEAT[a.name],a.napeObj&&a.napeObj.oriMass&&i&&(n=a.napeObj.oriMass,(a.getTemp()<t&&0<e||e<0)&&(n=e/(i*n/1e3),a.setTemp(a.getTemp()+n))));for(var r,o,s=0,l=0,h=this.liquidAry.length,c=-1/0,u=null,d=!1,p=[],f=1/0,I=0;I<h;I++){var g=this.liquidAry[I],m=g.getBoilingPoint();m<f&&0<g.mol&&(f=m,r=g,o=I),p.push(g)}f!==1/0&&(p.splice(o,1),p.unshift(r));for(var y=0;y<h;y++){var v=this.liquidAry[y];"H2SO4"===v.name&&(u=v);var C=v.getMass();s+=C,l+=C*v.getHeatCapacity()}if(u&&0<u.mol&&this.container.h2o&&8<u.mol/((this.container.h2o.getVol()+u.getVol())/1e3)&&(d=!0),0!==s)for(var M=l/s,b=1/0,x=0;x<h;x++){var O,A,T,S,w,B,D=p[x];D.getTemp()>=t&&0<e||D.getTemp()<=t&&e<0||D.getTemp()>=b||e<0&&D.getTemp()<t&&isFinite(t)||(O=void 0,A=(w=(w=e)<0&&t===1/0&&(O=D.getTemp())<Be.DEFAULT_TEMP?-e:w)/(M*s/1e3),A=0<e?Math.min(A,t-D.getTemp()):Math.max(A,t-D.getTemp()),T=this.liquidAry.quickMap.get(D.solvent),S=void 0,S=(!D.dat.boiling_point&&T&&0<T.getMol()?T:D).getBoilingPoint(),O&&(O+A-Be.DEFAULT_TEMP)*(O-Be.DEFAULT_TEMP)<0?D.setTemp(Be.DEFAULT_TEMP):D.setTemp(D.getTemp()+A),0<D.getVol()&&(c<(B=D.getTemp()/D.getBoilingPoint())&&(c=B)),B=D.getTemp()-S,S<Be.DEFAULT_TEMP||9e3<S||(-.1<B&&0<w&&1e-7<D.mol?d||(b=S,(!this.currentBoilTemp||this.currentBoilTemp<b)&&(this.currentBoilTemp=b)):this.currentBoilTemp=D.getTemp(),0<B&&0<w&&("H2O"===D.name&&d?D.setTemp(S):(w=(B=D.getTemp()-A+w/(M*D.getMass()/1e3)-S)*D.getMass()/1e3*D.getHeatCapacity(),"C2H5OH"===D.name&&d&&(w/=1e3),isNaN(w)||(B=w/D.getHeatVaporization()*D.mm,(w=D.getMass())<B?(B=w,D.addedMol=D.mol):D.addedMol=B/D.mm,0!=D.addedMol&&((B=new ve(D.dat,D.addedMol)).setTemp(S),this.push(B),D.setTemp(S),D.setMol(D.mol-D.addedMol)))))))}else this.liquidAry.clear()}}},{key:"getGasMol",value:function(){for(var e=0,t=0;t<this.gasAry.length;t++)e+=this.gasAry[t].getMol();return e}},{key:"getLiquidMol",value:function(){for(var e=0,t=0;t<this.liquidAry.length;t++)e+=this.liquidAry[t].getMol();return e}},{key:"getLiquidCapacity",value:function(){for(var e=0,t=0;t<this.liquidAry.length;t++){var i=this.liquidAry[t];e+=i.getVol(),i.isSolidify&&0<i.isSolidify&&(e-=i.isSolidify)}return e}},{key:"getCapacity",value:function(){var e=0,t=this.getLiquidCapacity(),i=this.vSolid;return e=(e=t+(i=t<=i?t:i)+this.vBlock)<0?0:e}},{key:"getSolidCapacity",value:function(){if(this.container){var e=0,t=this.container.medicineNBGraphicMap;if(t&&t.size){var i,n=new T.default,a=we(t.keys());try{for(a.s();!(i=a.n()).done;){var r,o=i.value,s=we(t.get(o));try{for(s.s();!(r=s.n()).done;){var l=r.value;if(l.isFloatage&&!n.has(l)){n.add(l);var h,c=we(l.getSolidMedicineInfo().keys());try{for(c.s();!(h=c.n()).done;){var u=h.value,d=l.getSolidMedicineInfo().get(u);e+=d.mol*d.mm/d.dat.density_solid}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){s.e(e)}finally{s.f()}}}catch(e){a.e(e)}finally{a.f()}}this.container&&this.container.capacityScale&&(e*=this.container.capacityScale),this.vSolid=e}}},{key:"getBlockCapacity",value:function(){var t,e;this.container&&this.container.blockMedicineMap&&((t=0)<(e=this.container.blockMedicineMap).size&&e.forEach(function(e){e&&0<e.size&&(0,n.default)(e).forEach(function(e){t+=e.getFluidCapacity()})}),t*=.2,this.vBlock=t)}},{key:"getSolidifyCapacity",value:function(){for(var e=0,t=0,i=0;i<this.liquidAry.length;i++){var n=this.liquidAry[i];n.isSolidify&&0<n.isSolidify&&(t+=n.isSolidify)}return e=(e=t+0)<0?0:e}},{key:"getCapacityArr",value:function(){for(var e=0,t=0;t<this.liquidAry.length;t++)e+=this.liquidAry[t].getVol();return e}},{key:"getCurrentIonKspData",value:function(e,t,i){var n={};if(t)a=t;else{t=this.container.h2o;if(!t)return;var a=t.deepClone(),t=this.ionMedicineAry.quickMap.get("H2O");a.mol-=t?t.mol:0}for(var r=a.getVol()/1e3,o=NaN,s=this.ionAry,l=0,h=e.length;l<h;l++){var c=e[l],u=c.name,d=void 0;if(i)var p=this.liquidAry.quickMap.get(i),d=p?p.getMol()*c.count:0;else{p=s.quickMap.get(u+c.valence);if(!p){o=0;break}d=p.mol}d=d/r;isFinite(d)||(d=0),n[u]={cons:d},isNaN(o)&&0===l&&(o=1),o*=Math.pow(d,c.count)}return n.ksp=isNaN(o)?0:o,n}},{key:"setCapacity",value:function(e){var t=this.getLiquidCapacity();if((e=(e=e-this.vSolid-this.vBlock)<0?0:e)!==t){for(var i=e/t,n=0;n<this.liquidAry.length;n++){var a,r=this.liquidAry[n],o=void 0;o=r.isSolidify?(a=r.isSolidify/r.getVol(),r.getMol()*(a+(1-a)*i)):r.getMol()*i,r.setMol(o)}for(var s=0;s<this.ionAry.length;s++){var l=this.ionAry[s];l.setMol(l.getMol()*i),l.correctMol&&(l.correctMol=l.correctMol*i)}for(var h=0;h<this.ionMedicineAry.length;h++){var c=this.ionMedicineAry[h];c.setMol(c.getMol()*i)}for(var u=0;u<this.dissolveAry.length;u++){var d=this.dissolveAry[u];d.setMol(d.getMol()*i)}}}},{key:"getContainerLiquidMixColor",value:function(e,t){var i=this.container;if(i.getLiquidColor)return i.mixerColor=i.getLiquidColor();if(void 0!==i.defaultColor){var n={color:i.defaultColor,alpha:i.defaultAlpha||.3};return i.mixerColor=n}var t=this.getMixerColor(e,t);return i.mixerColor=t=t||{color:16777215,alpha:.3}}},{key:"getBr2LiquidColor",value:function(e){return e<=.05?14331669:.2<=e?14232320:14320128}},{key:"getMixerColor",value:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"H2O",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(this.container.containOil&&!this.container.containSoap&&0<this.container.oilActiveCount){var a=this.liquidAry.quickMap.get("植物油")||this.liquidAry.quickMap.get("Phenol"),r=this.container.currentCapacity;if(a&&1e-7<a.mol){a=a.mol/r*150,a=Math.min(.9,a),r=Math.min(this.container.oilActiveCount/Be.OIL_ACTIVE_COUNT*4,1);return{color:16777215,alpha:Math.max(.2,a*r)}}}if(this.container.hasC){var o=1-Math.abs(this.container.hasC-300)/300;return this.container.hasC-=.4,{color:0,alpha:o}}if("H2O"===e||"鸡蛋清"===e){o=this.liquidAry.quickMap.get("鸡蛋清");if(o){var s=(o.getTemp()-Be.DEFAULT_TEMP)/(Be.EGGSOLIDTEMP-Be.DEFAULT_TEMP);return{color:16777215,alpha:.2+(s=0<s?s:0)*(.8-.2),force:!0}}}if("变性的鸡蛋清"===e||"硝化的鸡蛋清"===e){var l=.8,s=16777215;return"变性的鸡蛋清"===e?(s=16777215,l=.8):"硝化的鸡蛋清"===e&&(s=15588492,l=1),{color:s,alpha:l,force:!0}}if("PE"===e||"PE(凝固)"===e){l=this.liquidAry.quickMap.get(e);if(l){var h=Be.EGGSOLIDALPHA;return{color:13421772,alpha:h="PE"===e?.2+(p=0<(p=(130-l.getTemp())/10)?p<1?p:1:0)*(Be.EGGSOLIDALPHA-.2):h}}}if("C6H6"===e||"C6H5NO2"===e){var c=this.liquidAry.find(function(e){return"C6H5NO2"===e.name});if(c){"C6H5NO2"!==e||"C6H6"===c.solvent||(g=this.liquidAry.find(function(e){return"C6H6"===e.name}))&&1e-7<g.getMol()&&(c.solvent="C6H6");var u=this.dissolveAry.find(function(e){return"NO2"===e.name});if(u&&1e-13<u.getMol())return{color:16766720,alpha:.4}}}var d,p=this.container.liquidGra[t].liquidColor,h=this.container.liquidGra[t].liquidAlpha,f=null,I=[],g=this.getSpecifySolventVol(e)/18,m=[],y=0,v=0,c=this.ionAry.quickMap.get("H1"),u=this.container.h2o,C=0;if(u)for(var C=u.getVol(),M=0;M<this.dissolveAry.length;M++){var b=this.dissolveAry[M];if("HBr"!==b.name){var x=b.dat.dissolveColor||b.dat.color,O="无色"!==x&&(0,Se.default)(x);if(O){var x=b.mol/C;if("NO2"===b.name){x*=50;b=this.liquidAry.quickMap.get("HNO3");if(!(b&&b.getMol()/C*1e3>Be.HNO3_CONC_MIN_NUM/1.5))continue;b=this.ionAry.quickMap.get("Cu2");if(!(b&&.01<b.getMol()/C*1e3))continue;O=746246,x*=10}x<5e-5||(y+=x=200*x,v+=x,m.push(x),I.push(O=[O>>16,O>>8&255,255&O]))}}}if(c&&!c.correctMol&&(c.correctMol=c.getMol()),c&&0<c.correctMol&&u&&"H2O"===e){d=-Math.log10(c.correctMol/C*1e3),isNaN(d)?d=this.lastPh:this.lastPh=d;for(var A=0;A<this.liquidAry.length;A++){var T=this.liquidAry[A],S=T.mol/C,w=void 0;if("C7H7O4N"===T.name)(w=this.getTransitionColor(d,Be.LITMUS_COLOR)).specialScale=40;else if("C20H14O4"===T.name)f="C20H14O4",(w=this.getTransitionColor(d,Be.PHENOLPHTHALEIN_COLOR)).specialScale=40;else if("C15H12O4"===T.name)w=this.getTransitionColor(d,Be.HUAQINFSU_COLOR),f="C15H12O4";else if("C16H14O4"===T.name)w=this.getTransitionColor(d,Be.MEIGUIHUAHONGSESU_COLOR),f="C16H14O4";else if("(C6H10O5)n"===T.name||"I2"===T.name){var B=this.container.getCurrentCapacity(),D=this.ionAry.quickMap.get("I3-1"),P=this.liquidAry.quickMap.get("I2"),D=D?D.mol/(B/1e3):0,P=P?P.mol/(B/1e3):0,B=this.getLiquidAverageTemp();if(this.getMedVo("I2")&&this.getMedVo("(C6H10O5)n","liquid")&&(1.968e-8<D||1.968e-8<P))return 9<d||50<B?null:35<B?{color:65704,alpha:.8*((50-B)/15)}:d<=2?{color:3086958,alpha:.8}:{color:65704,alpha:.8}}else"C14H14N3SO3Na"===T.name?w=this.getTransitionColor(d,Be.METHYL_ORANGE):"C15H15N3O2"===T.name&&(w=this.getTransitionColor(d,Be.METHYL_RED));(w="Fe(OH)3(胶体)"===T.name?{color:[100,15,15],alpha:.6,specialScale:3e3}:w)&&0!==w.alpha&&(S=2e6*S*w.alpha,w.specialScale&&(S*=w.specialScale),y+=S,v+=S,m.push(S),I.push(w.color))}}if(c||u||(u=this.liquidAry.find(function(e){return"C2H5OH"===e.name}),Te=this.liquidAry.find(function(e){return"C15H15N3O2"===e.name}),u&&Te&&(ve=u.getVol(),Me=[239,32,32],y+=Ce=2e6*(Te.getMol()/ve)*.6,v+=Ce,m.push(Ce),I.push(Me))),1e-10<this.getSolidMol()){var L,N="H2O"===e&&this.container&&this.container.liquidGra&&1<this.container.liquidGra.length;for(L in this.solidAry){var J=this.solidAry[L];if((N||"CuSO4"!==J.name)&&(0<J.sediment&&"C6H5OH"!==J.name)){var _=Be.FLOCPRECIPITATE.includes(J.name)&&!(this.container.noFeOHFloat&&("Fe(OH)2"===J.name||"Fe(OH)3"===J.name)),E=this.container.medicineNBGraphicMap.get(J.name);if(E){var k=J.sediment/J.mol,q=this.container.medicineParticleMap&&this.container.medicineParticleMap.get(J.name);if(_&&q){var R,F=we(E.values());try{for(F.s();!(R=F.n()).done;)R.value.alpha=0}catch(e){F.e(e)}finally{F.f()}}else{var j,V=we(E.values());try{for(V.s();!(j=V.n()).done;)j.value.alpha=.8*(1-k)}catch(e){V.e(e)}finally{V.f()}}5e-12<J.sediment&&!_&&(_=J.dat.color||0,I.push([_>>16,_>>8&255,255&_]),y+=J=500*J.sediment,v+=J,m.push(J))}}}}for(var H=0,G=this.getLiquidCapacity()/1e3,z=0;z<this.liquidAry.length;z++){var X=this.liquidAry[z];if(!(X.mol<=1e-14||!X.solvent&&"H2O"!==e)){if(void 0!==X.solvent&&X.solvent!==e){var W=this.liquidAry.quickMap.get(X.solvent);if("H2O"!==e||!W||9999!==W.dat.solubility)continue}var Z="COLOR_".concat(X.name.toUpperCase());if(Be[Z]){var U=Be[Z];U.solColor&&(this.container.containSoapCa?U.color=U.solColor:U.color=U.defaultColor);var K,Y=1;if(Be[Z]instanceof Array){if("continue"===function(){var e=void 0===X.solvent?"H2O":X.solvent;if(!(e=i.liquidAry.quickMap.get(e)))return"continue";var t=X.mol/G,e=Be[Z].find(function(e){return e.concentration>t});U=e.color,Y=e.multiple}())continue}else Be[Z]instanceof Object&&(U=Be[Z].color,Y=Be[Z].multiple);if("I2"===X.name){var Q=this.getI2ColorTrans(X);if(!Q)continue;U=Q.color,Y=Q.multiple}else"Br2"!==X.name||"H2O"!==X.solvent&&X.solvent?"Br2"===X.name&&"C6H5Br"===X.solvent&&(U=7221762):(Q=this.getLiquidCapacity(),U=0<Q?(K=X.mol/Q*1e3,"DripHole"===this.container.name&&(K/=10),this.getBr2LiquidColor(K)):14326811,Y=1e4);"Fe(SCN)3"!==X.name&&"FeOH(SCN)2"!==X.name||(H+=X.mol),U&&(I.push([U>>16,U>>8&255,255&U]),y+=K=10*X.mol*Y,v+=K,m.push(K))}}}for(var $=0;$<Be.SPECIAL_COMBINE.length;$++){var ee,te,ie=Be.SPECIAL_COMBINE[$],ne=ie.anion,ae=ie.cation,re=this.ionAry.quickMap.get(ne.name),oe=this.ionAry.quickMap.get(ae.name);re&&oe&&(te=this.getCapacity()/1e3,ee=re.mol/te,te=oe.mol/te,Math.pow(ee,ne.powValue)*Math.pow(te,ae.powValue)<ie.showIndex||(I.push([ie.color>>16,ie.color>>8&255,255&ie.color]),y+=ie=(re.mol+oe.mol)/2*10*ie.multiple,v+=ie,m.push(ie)))}if("H2O"===e)for(var se=0;se<this.ionAry.length;se++){var le,he,ce,ue,de=this.ionAry[se],pe=de.mol;pe<=1e-8||(le="COLOR_".concat(de.name.toUpperCase()).concat(Math.abs(de.dat.valence)),Be[le]&&(he=Be[le],ue=1,Be[le]instanceof Object&&(he=Be[le].color,ue=Be[le].multiple),"COLOR_FE3"===le&&this.container.isLiquidMedicine&&2===this.ionAry.length&&(de=(ce=Be.COLOR_FEOH2).color,ce=ce.multiple,I.push([de>>16,de>>8&255,255&de]),y+=ce=.4*pe*10*ce,v+=ce,m.push(ce),pe*=.6),"COLOR_FEOH2"===le&&H&&(ue*=.005),"COLOR_I2"===le&&H&&(ue=0),I.push([he>>16,he>>8&255,255&he]),y+=ue=10*pe*ue,v+=ue,m.push(ue)))}var fe=I.length;if(0===fe||isNaN(I[0][0]))return this.getLiquidMixerColor(e,t,n);var Ie=[0,0,0];if(0<y)for(var ge=0;ge<fe;ge++){var me=m[ge]/y,ye=I[ge];Ie[0]+=ye[0]*me,Ie[1]+=ye[1]*me,Ie[2]+=ye[2]*me}var ve=(Te=[Ie[0],Ie[1],Ie[2]])[0],Ce=Te[1],Me=Te[2];if(p=f&&("C20H14O4"===f||"C15H12O4"===f||"C16H14O4"===f)&&this.container.specialLastColor&&this.container.specialLastColor[e]?this.container.specialLastColor[e]:p){for(var t=p>>16,n=p>>8&255,be=255&p,xe=[ve-t,Ce-n,Me-be],Oe=0,Ae=0;Ae<xe.length;Ae++)xe[Ae]=1<xe[Ae]?1:xe[Ae],xe[Ae]=xe[Ae]<-1?-1:xe[Ae],Oe+=Math.abs(xe[Ae]);1<Oe&&(Te[0]=Math.round(t+xe[0]),Te[1]=Math.round(n+xe[1]),Te[2]=Math.round(be+xe[2]),this.colorGradient++)}var Te=(0,Se.default)(Te[0]<<16|Te[1]<<8|Te[2]),be=v/g*30;return be=.9<(be=be<.2?.2:be)?.9:be,be=this.container.noSedimentsParticle?.2:be,h&&(g=(g=.002<(g=be-h)?.002:g)<-.002?-.002:g,.001<Math.abs(g)&&this.colorGradient++,be=h+g),this.container.specialLastColor=[],{color:this.container.specialLastColor[e]=Te,alpha:be}}},{key:"getI2ColorTrans",value:function(e){var t,i,n=e.getMass()/(this.getLiquidCapacity()||1)*100,a=this.ionAry.quickMap.get("I3-1"),a=(a?a.mol+e.mol:e.mol)/this.getLiquidCapacity()*1e3;if(e.solvent&&"CCl4"!==e.solvent&&"C6H6"!==e.solvent&&"C8H18"!==e.solvent&&"C7H8"!==e.solvent&&"CH3CH2Br"!==e.solvent)if("H2O"===e.solvent||"C2H5OH"===e.solvent||"CH3OH"===e.solvent||"C3H7OH"===e.solvent||"CH3COOCH2CH3"===e.solvent||"CH3CH2CH2OH"===e.solvent||"CH3CH2OCH2CH3"===e.solvent||"CH3COCH3"===e.solvent||"CH3CH2CH2CH2OH"===e.solvent){if(a<1e-5)return null;i=n<.0017?(t=16764173,1e3):n<.0034?(t=16496653,1e3):n<.017?(t=14983181,1e4):n<.034?(t=12156941,1e5):n<.234?(t=p.getMixerColorByRate(12156941,4522496,i=(.234-n)/.2),1e5*i+1e6*(1-i)):(t=4522496,1e6)}else"植物油"===e.solvent?t=9118499:"C8H18"===e.solvent&&(t=16711893);else i=n<.034?(t=15820993,1e3):n<1.034?(t=p.getMixerColorByRate(15820993,5047147,n=1.034-n),1e3*n+1e5*(1-n)):(t=5047147,1e5);return{color:t,multiple:i}}},{key:"getSpecifySolventVol",value:function(e){for(var t=this.liquidAry,i=0,n=0,a=t.length;n<a;n++){var r=t[n];r.name!==e&&r.solvent!==e||(i+=r.getVol())}return i}},{key:"getTransitionColor",value:function(e,t){if(e){for(var i=0;i<t.length;i++)if(e<t[i].ph)break;var n=t[i-1],a=t[i];if(a){var r,o=.6;return{color:r=n?(r=(e-n.ph)/(a.ph-n.ph),isNaN(r)&&(r=0),n=[n.color>>16,n.color>>8&255,255&n.color],r=[((a.color>>16)-n[0])*r,((a.color>>8&255)-n[1])*r,((255&a.color)-n[2])*r],[n[0]+r[0],n[1]+r[1],n[2]+r[2]]):[a.color>>16,a.color>>8&255,255&a.color],alpha:o=16777215===a.color?(765-r[0]-r[1]-r[2])/255:o}}}}},{key:"getLiquidMixerColor",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"H2O",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=[],a=0,r=[],o=0;o<this.liquidAry.length;o++){var s=this.liquidAry[o];(s.solvent||"H2O")!==e&&s.name!==e||(a+=s.getVol(),r.push(s))}for(var l=[],h=0,c=r.length,u=0,d=0;d<c;d++){var p=r[d],f=p.getRybColor(),I=p.getVol();f&&(u+=I*p.getAlpha(),n.push(f),l.push(I)),h<I&&(h=I)}var g=this.container.liquidGra[t].liquidColor,m=this.container.liquidGra[t].liquidAlpha,u=(u/=a)<.2?.2:u;if(0===(c=n.length)&&(!g||16777215===g))return null;for(var y=0;y<c;y++){var v=l[y]/=h,C=n[y];C[0]*=v,C[1]*=v,C[2]*=v}var M=(S=w.rybToRgb(w.mix(n)))[0],b=S[1],x=S[2];if(0===M&&0===b&&0===x&&(S.fill(255),M=b=x=255),void 0===g||i)return{color:(0,Se.default)(M<<16|b<<8|x),alpha:u};for(var m=m||.2,t=g>>16,i=g>>8&255,g=255&g,O=[M-t,b-i,x-g],A=0,T=0;T<O.length;T++)O[T]=1<O[T]?1:O[T],O[T]=O[T]<-1?-1:O[T],A+=Math.abs(O[T]);var S=1<A?(M=Math.round(t+O[0]),b=Math.round(i+O[1]),x=Math.round(g+O[2]),this.colorGradient++,(0,Se.default)(M<<16|b<<8|x)):(0,Se.default)(S[0]<<16|S[1]<<8|S[2]),x=u-m;return x=(x=.002<x?.002:x)<-.002?-.002:x,1e-4<Math.abs(x)&&this.colorGradient++,{color:S,alpha:u=m+x}}},{key:"getLiquidMedicine",value:function(){return this.liquidAry}},{key:"getDissolveMedicine",value:function(){return this.dissolveAry}},{key:"getMedicineByName",value:function(e,t){var i,n;switch(e){case Me.GAS:i=this.gasAry;break;case Me.ION:i=this.ionAry;break;case Me.LIQUID:i=this.liquidAry;break;case Me.SOLID:i=this.solidAry;break;case Me.ION_MED:i=this.ionMedicineAry}if(i){if(!(0,a.default)(i))return i[t];i.every(function(e){return e.name!==t||(n=e,!1)})}return n}},{key:"covertVolumeToLiquid",value:function(n,e,a){for(var t=this.getLiquidMedicine(),i=this.getDissolveMedicine(),r=this.ionMedicineAry,o=this.ionAry,s=t.length,l=0,h=n,c=0;c<s;c++){var u=t[c];l+=Math.max(u.getVol()-(u.isSolidify||0),0)}var d=this.liquidAry.quickMap.get("H2O"),p=d&&0<d.mol?n/d.getVol():0,f=[],I={},g=this;if(a)for(var m=0;m<a.length;m++){var y=a[m].dissolvent;if(y){var v=y.name,C=y.getVol(),M=a[m].solute;M&&(C+=M.capacity);var b,y=C<h?C:h;for(b in h-=y,I[v]=y,M)"capacity"!==b&&(I[b]=M[b]/C)}}for(var x=0;x<s;x++)S(u=t[x]);s=i.length;for(var O=0;O<s;O++)S(i[O]);if(e&&!0!==this.container.isLiquidMedicine){for(var s=r.length,A=0;A<s;A++)S(r[A]);s=o.length;for(var T=0;T<s;T++)S(o[T])}function S(e){var t,i;(e instanceof ye||e instanceof J||e instanceof N||e instanceof L)&&(t=e.deepClone(),(i=e.getVol instanceof Function?Math.max(e.getVol()-(e.isSolidify||0),0):i)?!a||I[e.name]?t.setVol(n*i/l):t.setVol(0):e.isSolidify?t.mol=0:"H2O"===t.solvent?t.mol*=p:(i=0,(e=g.liquidAry.quickMap.get(t.solvent))&&e.getVol?i=n/e.getVol()||0:a||(i=n/l),t.mol*=i),0<t.mol&&isFinite(t.mol)&&f.push(t))}return f}},{key:"transSediments",value:function(e){e=(e=1<e?1:e)<0?0:e;var t,i=this.solidAry,n=[];for(t in i){var a,r,o=i[t];o.isSolidify||(r=o.mol,o.sediment>o.mol&&(o.sediment=o.mol),0<(a=o.sediment)&&((r=e-1+a/r)<=0||(r=o.sediment*r,o.sediment-=r,this.removeSolidGraphics(-r,t),o.mol-=r,(o=o.deepClone(r)).sediment=r,n.push(o))))}return n}},{key:"removeSolidGraphics",value:function(e,t){if(!(0<=e)){var i=this.container.medicineNBGraphicMap.get(t);if(i){var n,a=we(i);try{for(a.s();!(n=a.n()).done;){var r=n.value.solidMedicineInfo.get(t);if(r.mol+=e,e=r.mol,r.mol=r.mol<0?0:r.mol,0<=e)return}}catch(e){a.e(e)}finally{a.f()}}}}},{key:"naiveAddMedicine",value:function(e){var t=this.container;if(t.hasReact+=2,t.activeCount=Be.ACTIVE_COUNT,e instanceof Array){for(var i=0,n=this.liquidAry,a=0,r=n.length;a<r;a++){var o=n[a];"H2SO4"===o.name&&(i+=o.mol)}var s=t.getCurrentCapacity()/1e3;if(.001<i&&12<i/s){for(var l=0,h=0,c=0,u=e.length;c<u;c++)"H2O"!==e[c].name&&"C2H5OH"!==e[c].name||(h+=e[c].mol),"H2SO4"===e[c].name&&(l+=e[c].mol);0<h&&l/h<1/49&&t.addSplashParticle&&t.addSplashParticle(2)}for(var d=0;d<e.length;d++)this.naiveAddMedicine(e[d])}else{var t=this.ionMedicineAry;e instanceof N?(t=t.quickMap.get(e.name))?t.mol+=e.mol:this.ionMedicineAry.push(e):this.push(e)}}},{key:"getSolidMol",value:function(){var e,t=0;for(e in this.solidAry)t+=this.solidAry[e].mol;return t}},{key:"getLiquidMass",value:function(){for(var e=0,t=0;t<this.liquidAry.length;t++)e+=this.liquidAry[t].getMass();return e}},{key:"getSolidMass",value:function(){var e,t=0;for(e in this.solidAry)t+=this.solidAry[e].getMass();return t}},{key:"getGasMass",value:function(){for(var e=0,t=0;t<this.gasAry.length;t++)e+=this.gasAry[t].getMass();return e}},{key:"getDissolveMass",value:function(){for(var e=0,t=0;t<this.dissolveAry.length;t++)e+=this.dissolveAry[t].getMass();return e}},{key:"convertVolumeToLiquidAcToPos",value:function(e,t,i){var n,a,r=this.liquidAry,o=[],s=[],l=this.container.getViewStack();t=t&&l.toGlobal(t);for(var h,c=0;c<r.length;c++){var u=r[c];u.pa?(s.push(u),"H2O"===u.name&&(n=!0),"Br2"===u.name&&(a=!0)):o.push(u)}if(s.length<=1||2===s.length&&n&&a)return this.covertVolumeToLiquid(e,i);for(s.sort(function(e,t){return t.pa.y-e.pa.y}),h=0;h<s.length&&!(t.y>s[h].pa.y);h++);if(h!==s.length){for(var d=[],p=[],f=0,I=h;I<s.length;I++){var g=s[I];if(!(0<e))break;var m=g.getVol(),y=0<e-m?e-m:0,v=e-y,m=1<v/m?1:v/m;p.push(m),e=y;y=g.deepClone();y.mol*=m,d.push(y),"H2O"===g.name&&(f=m)}for(var C=[],M=0;M<o.length;M++)!function(e){var t=o[e],i=t.solvent||"H2O",e=d.findIndex(function(e){return e.name===i});-1!==e&&((t=t.deepClone()).mol*=p[e],C.push(t))}(M);if(0!==f){for(var b=0;b<this.ionAry.length;b++){var x=this.ionAry[b].deepClone();x.mol*=f,C.push(x)}for(var O=0;O<this.ionMedicineAry.length;O++){var A=this.ionMedicineAry[O].deepClone();A.mol*=f,C.push(A)}}return d.concat(C)}}},{key:"minusCovertedLiuqid",value:function(e){if(e){for(var t,i=0;i<e.length;i++){var n=e[i];if(!(n.mol<=0)){var a=void 0;if((a=n.clone?n.clone():a).mol*=-1,a.type===Me.LIQUID){var r=this.liquidAry.quickMap.get(a.name);"H2O"===a.name&&(t=r);n=this.ionMedicineAry.quickMap.get(a.name);if(n){var o=n.mol*(-a.mol/r.mol);n.mol-=o;for(var s=n.dat.ions,l=0;l<s.length;l++){var h=s[l],c=this.ionAry.quickMap.get(h.name+h.valence);c&&(c.mol-=o*h.count)}}}this.push(a)}}t&&0===t.mol&&this.clearH2OMed()}}},{key:"recalSolvent",value:function(){var e=this.container,t=this.liquidAry;if(e.h2o)for(var i=0,n=t.length;i<n;i++){var a=t[i];0==a.dat.solubility&&"H2O"===a.solvent?a.solvent=a.name:9999===a.dat.solubility&&"H2O"!==a.solvent&&(a.solvent="H2O")}else{var r=t.length;if(1===r){var o=t[0],e=o.name;"TRUE"!==o.dat["solution_".concat(e)]&&"H2O"!==e||(t[0].solvent=t[0].name)}else for(var s=0;s<r-1;s++){var l=t[s];if("H2O"===l.solvent||l.solvent===l.name||!l.solvent)for(var h=l.name,c="H2O"===h?"solubility":"solution_".concat(h),u=s+1;u<r;u++){var d=t[u],p=d.name,f="H2O"===p?"solubility":"solution_".concat(p);1e3<d.dat[c]?d.solvent=h:1e3<l.dat[f]&&(l.solvent=p)}}}}},{key:"getInfo",value:function(){for(var e,t,i,n=Be.PRECISION,r=[],a=new D.default,o=this.getLiquidCapacity()/1e3,s=0;s<this.liquidAry.length;s++){var l,h=this.liquidAry[s];1e-7<h.mol/o&&"0"!==h.dat.available&&("H2O"===h.name&&(e=h.getVol()),i=l=void 0,i=(l={}).vol=(t=h).getVol(),l.temp=0!==i?B.round(t.getTemp(),n):void 0,l.mol=t.mol,l.type="liquid",l.weight=l.mol*t.dat.molecular_mass,l.name=0===l.vol||"I2"===t.name?t.name+"(aq)":t.name+"(l)",r.push(l=l),a.set(h.name,l))}var c,u=this.liquidAry.quickMap.get("I2");u&&e&&((c=r.find(function(e){return"I2(aq)"===e.name}))&&(c.sol=u.getMol()/(e/1e3)));var d,p=this.solidAry;for(d in p){var f,I=p[d];I.mol<=1e-15||"0"===I.dat.available||((f={}).name=I.name+"(s)",f.temp=I.getTemp(),f.mol=I.mol,f.type="solid",f.weight=f.mol*I.dat.molecular_mass,r.push(f))}if(this.container.getSpecialSolidMed){var g=this.container.getSpecialSolidMed();if(g)for(var m in g)(function(e){var t=g[e];if(t.mol<1e-12||"0"===t.dat.available)return;var i=t.name+"(s)",n=t.getTemp(),a=t.mol,e=a*t.dat.molecular_mass,t=r.find(function(e){return e.name===i});t?(t.temp=(t.mol*t.temp+n*a)/(t.mol+a),t.mol+=a,t.weight+=e):r.push({name:i,temp:n,mol:a,type:"solid",weight:e})})(m)}for(var u=this.getGasAverageTemp(),y=u=isNaN(u)?Be.DEFAULT_TEMP:u,v=Ce.convertCToK(u),C=0;C<this.gasAry.length;C++){var M,b=this.gasAry[C];b.mol<=1e-15||"0"===b.dat.available||((M={}).name=b.name+"(g)",M.temp=y,M.vol=b.mol*xe*v/this.container.pascal*1e6,(Be.isDebug||this.container.isBalloon)&&(M.vol=b.getVol()),M.mol=b.mol,M.pascal=this.container.pascal,M.type="gas",M.weight=b.mol*b.mm,r.push(M))}if(e)for(var x=e/1e3,O=0;O<this.ionAry.length;O++){var A,T,S=this.ionAry[O];S.mol/x<1e-7&&"H"!==S.name&&"OH"!==S.name||(A={type:"ion"},T=S.correctMol||S.getMol(),A.sol=T/x,A.mol=T,A.name=_.convertIonToChemicalName(S),r.push(A))}return r}},{key:"getMedVo",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"all",i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if("liquid"==t||"all"==t)for(var n=0;n<this.liquidAry.length;n++)if(this.liquidAry[n].name===e)return i?this.liquidAry[n].deepClone():this.liquidAry[n];if(("solid"==t||"all"==t)&&this.solidAry[e])return i?this.solidAry[e].deepClone():this.solidAry[e];if("gas"==t||"all"==t)for(var a=0;a<this.gasAry.length;a++)if(this.gasAry[a].name===e)return i?this.gasAry[a].deepClone():this.gasAry[a];if("dissolve"==t||"all"==t)for(var r=0;r<this.dissolveAry.length;r++)if(this.dissolveAry[r].name===e)return i?this.dissolveAry[r].deepClone():this.gasAry[r]}},{key:"getMedVoProportion",value:function(e,t){for(var e=this.getMedVo(e,t),i=0,n=0;n<this[t+"Ary"].length;n++)"植物油"!==this[t+"Ary"][n].name&&(i+=this[t+"Ary"][n].getMol());return!e||i<=0?0:e.getMol()/i}},{key:"clear",value:function(){this.liquidAry.clear(),this.gasAry.clear(),this.ionAry.clear(),this.dissolveAry.clear()}},{key:"getFireGas",value:function(){for(var i=this.gasAry,t=0,e=[],n=0;n<i.length;n++)!function(t){Be.CANBURNGAS.find(function(e){return e===i[t].name})&&e.push(i[t])}(n);return e.forEach(function(e){t+=e.getMol()}),{fireAry:e,gasMol:t}}},{key:"getHDensity",value:function(){var e,t=0,i=0,n=this.ionAry,a=this.container;a.preventCalEffect&&(e=a.h2o,_.calLiquidEquation(a,e,.16));for(var r=0;r<n.length;r++){var o=n[r];"H"===o.name&&(t=o.mol),"OH"===o.name&&(i=o.mol)}return 1e-7*Math.sqrt(t/i)}},{key:"getGasDensity",value:function(e,t){e=this.getMedVo(e,"gas");return!e||e.getMol()<=0?0:(t=t||(this.container.getTotalCapacity()-this.container.getCurrentCapacity())/1e3,e.getMol()/t)}},{key:"toJSON",value:function(e){var t,i,n=[],a=[],r=[],o=[],s=[],l={};for(t in this.liquidAry.map(function(e){var t={dat:e.dat,mol:e.mol,temp:e.getTemp(),solvent:e.solvent};e.originDensity&&(t.originDensity=e.originDensity),"变性的鸡蛋清(硝酸)"!==e.name&&"变性的鸡蛋清(其他)"!==e.name&&"硝化的鸡蛋清"!==e.name&&"鸡蛋清(沉淀)"!==e.name||(t.spName=e.name,t.solidType=e.solidType),n.push(t)}),this.solidAry){var h=this.solidAry[t],c=l[t]={};c.dat=h.dat,c.mol=h.mol}for(i in e){var u=e[i];l[u.name]&&(l[u.name].mol-=u.mol,l[u.name].mol<=0&&delete l[u.name])}return this.ionMedicineAry.map(function(e){s.push({dat:e.dat,mol:e.mol})}),this.gasAry.map(function(e){a.push({dat:e.dat,mol:e.mol,temp:e.getTemp()})}),this.ionAry.map(function(e){r.push({dat:e.dat,mol:e.mol})}),this.dissolveAry.map(function(e){o.push({dat:e.dat,mol:e.mol,physicalState:e.physicalState})}),{liquid:n,solid:l,gas:a,temp:this.temp,ion:r,dissolve:o,ionMedicine:s,H2SiO3ColloidColor:this.H2SiO3ColloidColor}}},{key:"setJSON",value:function(e){var n=this;function i(e){var t,i=e.name||e.dat&&e.dat.chemical;!i||(t=n.container.root.medicineManager.getMedicineData(i))&&(e.dat=t),e.dat.ions||(t=_.splitMedicineNameToIon(e.dat.chemical))&&(e.dat.ions=t)}var t=e.medicineData;if(t){var a=this;this.clear(),t.liquid&&t.liquid.map(function(e){i(e);var t=new ye(e.dat,e.mol);t.solvent=e.solvent||"H2O",t.setTemp(e.temp),e.originDensity&&(t.originDensity=e.originDensity),"变性的鸡蛋清(硝酸)"!==e.spName&&"变性的鸡蛋清(其他)"!==e.spName&&"硝化的鸡蛋清"!==e.spName&&"鸡蛋清(沉淀)"!==e.spName||(t.name=e.spName,t.solidType=e.solidType),a.push(t)}),t.gas&&t.gas.map(function(e){i(e);var t=new ve(e.dat,e.mol);t.setTemp(e.temp),a.push(t)}),t.ion&&t.ion.map(function(e){i(e);e=new L(e.dat,e.mol);a.push(e)}),t.dissolve&&t.dissolve.map(function(e){i(e);e=new J(e.dat,e.mol,e.physicalState);a.push(e)}),t.ionMedicine&&t.ionMedicine.map(function(e){i(e);e=new N(a.container,e.dat,e.mol);a.ionMedicineAry.push(e)});var r,o=[];for(r in t.solid){var s=t.solid[r];i(s);s=new M(s.dat,s.mol);o.push(s)}this.container.addMedicine(o),this.temp=t.temp,t.H2SiO3ColloidColor&&(this.H2SiO3ColloidColor=t.H2SiO3ColloidColor)}}}],[{key:"getMedFromEasyMed",value:function(e){var t;switch(e.type){case Me.LIQUID:t=new ye(e.dat,e.mol);break;case Me.GAS:t=new ve(e.dat,e.mol);break;case Me.SOLID:t=new M(e.dat,e.mol);break;case Me.ION:t=new L(e.dat,e.mol);break;case Me.ION_MED:t=new N(e.container,e.dat,e.mol);break;case Me.DISSOLVE:t=new J(e.dat,e.mol,e.physicalState)}return t.restoreFromEasyClone(e),t}}]),me}();e.exports=i},function(e,t,i){e.exports=!i(93)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){e.exports=i(492)},function(e,t,o){"use strict";var s=o(28).clone,h=o(14).validateIndex,i=o(54).getSafeProperty,n=o(54).setSafeProperty,c=o(49);function l(e,t){if(1!==t.size().length)throw new c(t.size(),1);t=t.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");return i(e,t)}function u(e,t,i){if(1!==t.size().length)throw new c(t.size(),1);t=t.dimension(0);if("string"!=typeof t)throw new TypeError("String expected as index to retrieve an object property");e=s(e);return n(e,t,i),e}t.name="subset",t.factory=function(a,e,t,i){var r=t(o(12));return(i=i("subset",{"Array, Index":function(e,t){e=r(e).subset(t);return t.isScalar()?e:e.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":l,"string, Index":function(t,e){if(!a.isIndex(e))throw new TypeError("Index expected");if(1!=e.size().length)throw new c(e.size().length,1);var i=t.length;h(e.min()[0],i),h(e.max()[0],i);var e=e.dimension(0),n="";return e.forEach(function(e){n+=t.charAt(e)}),n},"Array, Index, any":function(e,t,i){return r(s(e)).subset(t,i,void 0).valueOf()},"Array, Index, any, any":function(e,t,i,n){return r(s(e)).subset(t,i,n).valueOf()},"Matrix, Index, any":function(e,t,i){return e.clone().subset(t,i)},"Matrix, Index, any, any":function(e,t,i,n){return e.clone().subset(t,i,n)},"string, Index, string":n,"string, Index, string, string":n,"Object, Index, any":u})).toTex=void 0,i;function n(e,t,i,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!=t.size().length)throw new c(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var a,r=t.dimension(0);if((a=r.size()[0])!=i.length)throw new c(r.size()[0],i.length);var o=e.length;h(t.min()[0]),h(t.max()[0]);for(var s=[],l=0;l<o;l++)s[l]=e.charAt(l);if(r.forEach(function(e,t){s[e]=i.charAt(t[0])}),s.length>o)for(l=o-1,a=s.length;l<a;l++)s[l]||(s[l]=n);return s.join("")}}},function(e,t,i){"use strict";var n={};n.convertCToK=function(e){return e+273.15},n.convertKToC=function(e){return e-273.15},e.exports=n},function(e,t,i){"use strict";var n=i(0),h=n(i(1)),a=n(i(2)),r=i(11),f=i(131),i=function(){function y(e,t,i,n,a,r,o,s){var l=this;(0,h.default)(this,y),this.oneDrip=!1,this.hitContainer=s,this.equipment=e,this.medicine=t,this.originDrip=i,this.scale={x:1,y:1},this.startPos=n,this.dropLength=a,this.capacityPerDrip=r,this.timeLength=o,e.on(NBEvent.del.PREPARE_DELETE,function(){l.isDripping=!1}),this._isDripping=!1,this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.colorMatrix=new PIXI.filters.ColorMatrixFilter,this.colorMatrix.matrix=this.matrix,this.drippingAlpha=.3,this.dripAry=[]}return(0,a.default)(y,[{key:"isDripping",get:function(){return this._isDripping},set:function(e){e&&this.totalDrop(),this._isDripping=Boolean(e)}},{key:"dripOne",value:function(e){var t=this.equipment.getCurrentCapacity();t<=r.dripError||(t<e&&(e=t),this.initDrip(),this.drip.scale.set(this.scale.x),this.prepareDrop(e))}},{key:"forceDripWater",value:function(t,i){var n=this;this.initDrip(),TweenMax.to(this.drip.scale,this.timeLength,{x:this.scale.x,y:this.scale.y,onComplete:function(){var e=n.equipment.medicineManager.getMedicineData(t),e=[new LiquidVO(e,i)];n.prepareDrop(i,e)}})}},{key:"getColor",value:function(){if(this.medicine&&this.medicine.getMixerColor instanceof Function){for(var t,e=this.equipment.toGlobal(this.startPos),i=1/0,n=0,a=0;a<this.medicine.liquidAry.length;a++){var r=this.medicine.liquidAry[a],o=r.getVol();r.pa&&0<r.mol&&(e.y-r.pa.y<i&&.05*n<o||20*n<o)&&0<e.y-r.pa.y&&(i=e.y-r.pa.y,t=r,n=o)}if(1===this.medicine.liquidAry.length&&(t=this.medicine.liquidAry[0]),this.equipment.isLiquidDropper&&this.medicine.liquidAry.quickMap&&((l=this.medicine.liquidAry.quickMap.get("H2O"))&&0<l.mol&&(t=l)),!t)return;var s=-1===(s=this.medicine.container.liquidGra.findIndex(function(e){return e.med&&e.med.name===t.name}))?0:s,l=this.medicine.getMixerColor(t.name,s,!0)}else this.equipment.getColor instanceof Function&&(l=this.equipment.getColor());l&&0!==l.color?(s=l.alpha,l=l.color,this.matrix[0]=(l>>16)/255,this.matrix[6]=(l>>8&255)/255,this.matrix[12]=(255&l)/255,this.drippingAlpha=.2<s-.1?s-.1:.2,this.drip.color=l):(this.matrix[0]=1,this.matrix[6]=1,this.matrix[12]=1,this.drippingAlpha=.2,this.drip.color=16777215)}},{key:"checkPascal",value:function(){var e=this.equipment;if(e.currentContainer){var t=Math.round(e.medicineData.getMixedLiquidDensity()*(this.startPos.y-e.toLocal(e.liquidVertex[0]).y)*r.EARTH_GRAVITY/r.PASCAL_PIXELS_PER_CM*10);return e.pascal+t<e.currentContainer.pascal&&!e.isADropper?!1:!0}return!0}},{key:"initDrip",value:function(){this.drip||(this.drip=this.originDrip.clone(),this.getColor(),this.drip.x=this.startPos.x,this.drip.y=this.startPos.y,this.drip.scale.x=0,this.drip.scale.y=0,this.equipment.addChild(this.drip),this.dripAry.push(this.drip),this.drip.filters=[this.colorMatrix],this.drip.alpha=this.drippingAlpha,this.drip.capacity=0,this.equipment.currentContainer&&(this.drip.isOnBottom=!0),this.equipment.getViewStack().addChildWithSamePos(this.drip))}},{key:"totalDrop",value:function(){var i=this,e=this.equipment,n=e.getCurrentCapacity();n<=.01&&!e.isLiquidDropper||this.drip||(this.convertFunc=this.equipment.medicineData.convertVolumeToLiquidAcToPos||this.equipment.medicineData.covertVolumeToLiquid,this.initDrip(),this.capacityPerFram=this.capacityPerDrip/30/this.timeLength,this.drip.realAlpha=this.drip.alpha,this.drip.alpha=0,TweenMax.to(this.drip.scale,this.timeLength,{x:this.scale.x,y:this.scale.y,onUpdate:function(){var e,t;i.isDripping&&0<n&&i.drip?(e=i.drip.capacity,i.drip.capacity+=i.capacityPerFram,t=i.drip.capacity-e,i.drip.capacity>i.capacityPerDrip&&(i.drip.capacity=i.capacityPerDrip,TweenMax.killTweensOf(i.drip.scale),i.drip.scale._gsTweenID&&delete TweenLite._internals.tweenLookup[i.drip.scale._gsTweenID],t=i.drip.capacity-e,i.prepareDrop(),i.isDripping&&!i.oneDrip&&i.totalDrop()),n-=t):i.drip&&(TweenMax.killTweensOf(i.drip.scale),i.drip.scale._gsTweenID&&delete TweenLite._internals.tweenLookup[i.drip.scale._gsTweenID],i.isDripping=!1,n<0&&i.drip&&(i.drip.capacity+=n),i.prepareDrop())},onComplete:function(){i.drip&&(i.prepareDrop(),i.isDripping&&!i.oneDrip&&i.totalDrop())}}))}},{key:"prepareDrop",value:function(e,t){var i,n=this,a=this.equipment.getViewStack();this.drip&&((a=this.equipment.dripParentEq?this.equipment.dripParentEq:a).addChildWithSamePos(this.drip),this.drip.scale.x=this.scale.x,this.drip.scale.y=this.scale.y,a=this.equipment.toGlobal(this.startPos),this.equipment.dripStratPos&&(this.drip.x=this.equipment.dripStratPos.x,this.drip.y=this.equipment.dripStratPos.y),a.y+=10,e&&(this.drip.capacity=e),this.convertFunc||(this.convertFunc=this.equipment.medicineData.convertVolumeToLiquidAcToPos||this.equipment.medicineData.covertVolumeToLiquid),this.equipment.isLiquidDropper?this.drip.medicineData=this.equipment.medicineData.covertVolumeToLiquid(this.drip.capacity,!1):this.drip.medicineData=this.convertFunc.call(this.equipment.medicineData,this.drip.capacity,a),t&&(this.drip.medicineData=t),y.checkMedByVolume(this.drip.medicineData,this.drip.capacity),(t=this.equipment.medicineData.minusCovertedLiuqid)?t.call(this.equipment.medicineData,this.drip.medicineData):this.equipment.setCurrentCapacity(this.equipment.getCurrentCapacity()-this.drip.capacity),this.drip.dH=this.equipment.medicineData.getHDensity(),i=this.drip,this.drip=null,"DroppingFunnelWithBalancedPressure"===this.equipment.name&&(this.equipment.volumeEncroachment=(this.equipment.volumeEncroachment||0)+i.capacity),y.testDropHit(i,this.equipment,this.hitContainer,i.toGlobal({x:0,y:0}).x,i.toGlobal({x:0,y:0}).y,this),y.testDropHitLiquidVertext(i,this.equipment,i.toGlobal({x:0,y:0}).x,i.toGlobal({x:0,y:0}).y,!0,this),void 0!==i.realAlpha&&(i.alpha=i.realAlpha),TweenMax.to(i,2,{y:"+=".concat(this.dropLength),ease:Cubic.easeIn,onUpdate:function(){var e=i.toGlobal({x:0,y:0}),t=e.x,e=e.y;y.testDropHit(i,n.equipment,n.hitContainer,t,e,n),y.testDropHitLiquidVertext(i,n.equipment,t,e,!1,n)},onComplete:function(){n.equipment&&"DroppingFunnelWithBalancedPressure"===n.equipment.name&&(n.equipment.volumeEncroachment=Math.max((n.equipment.volumeEncroachment||0)-i.capacity,0)),n.removeDrip(i)}}))}},{key:"removeDrip",value:function(e){e.parent&&e.parent.removeChild(e),TweenMax.killTweensOf(e),e._gsTweenID&&delete TweenLite._internals.tweenLookup[e._gsTweenID];e=this.dripAry.indexOf(e);0<=e&&this.dripAry.splice(e,1)}},{key:"clearAllDrip",value:function(){this.dripAry.forEach(function(e){TweenMax.killTweensOf(e),TweenMax.killTweensOf(e.scale),e._gsTweenID&&delete TweenLite._internals.tweenLookup[e._gsTweenID],e.scale._gsTweenID&&delete TweenLite._internals.tweenLookup[e._gsTweenID],e.parent&&e.parent.removeChild(e)}),this.dripAry.length=0}},{key:"setTimeLength",value:function(e){this.timeLength=e}}],[{key:"checkMedByVolume",value:function(e,t){var i;t&&e&&e.length&&(i=0,e.forEach(function(e){e&&e.getVol&&(e=e.getVol(),i+=0<e?e:0)}),1.01*t<i&&e.forEach(function(e){e.setMol(e.getMol()*t/i)}))}},{key:"testDropHitLiquidVertext",value:function(e,t,i,n,a,r){if(e.gotCha){var o=e.gotCha;if(o.isLiquidMedicine)return"DroppingFunnelWithBalancedPressure"===t.name&&(t.volumeEncroachment=Math.max((t.volumeEncroachment||0)-e.capacity,0)),r.removeDrip(e),!0;if(!o.noNeedDrip&&o.liquidVertex){var s=e.toGlobal({x:0,y:0}),l=o.liquidVertex,h=s,l=f.lineIntersect(h,{x:h.x,y:h.y+10},{x:l[0].x,y:l[0].y},{x:l[l.length-1].x,y:l[l.length-1].y});if(l){if(h.y>l.y||o.paper&&y.hitTest(s.x,s.y,o.paper)){if(t.parent&&t.parent.magnifier&&o.containerShake&&o.containerShake(),a||o.addMedicine(e.medicineData,h),o.emit("gotDrip",{point:e.toGlobal({x:0,y:0}),drip:e}),"DroppingFunnelWithBalancedPressure"===t.name&&(t.volumeEncroachment=Math.max((t.volumeEncroachment||0)-e.capacity,0)),r.removeDrip(e),o.medicineData&&o.medicineData.gasAry)for(var c=o.medicineData.gasAry,u=0;u<c.length;u++)"O2"!=c[u].name&&(c[u].isBubble+=8);return!0}if(!y.hitTest(i,n,o)){if(t.parent&&t.parent.magnifier&&o.containerShake&&o.containerShake(),o.addMedicine(e.medicineData),r.removeDrip(e),o.medicineData&&o.medicineData.gasAry)for(var d=o.medicineData.gasAry,p=0;p<d.length;p++)d[p].isBubble+=28;return o.emit("gotDrip",{point:e.toGlobal({x:0,y:0}),drip:e}),!0}}}}}},{key:"testDropHit",value:function(e,t,i,n,a,r){var o=t.getEquipments(),s=t.getViewStack(),l=t.getSelfParent?t.getSelfParent():t.parent;l&&o.sort(function(e,t){return(t===l)-(e===l)});for(var h=0;h<o.length;h++){var c=o[h];if(c instanceof i&&c.capacityVertex&&0<c.capacityVertex.length){if((!(c.isCovered instanceof Function&&c.isCovered())||t.name.includes("DroppingFunnel")&&l===c)&&y.hitTest(n,a,c)&&(!c.currentPlug||t.parent===c.currentPlug||c.currentPlug===c.parent)){var u=!1;if(c===t.currentContainer)u=!0;else{var d={x:c.capacityVertex[0].get_x(),y:c.capacityVertex[0].get_y()},p={x:c.capacityVertex[c.capacityVertex.length-1].get_x(),y:c.capacityVertex[c.capacityVertex.length-1].get_y()},d=s.toLocal({x:d.x,y:d.y},c),p=s.toLocal({x:p.x,y:p.y},c);if(c.chooseArea){var f,I=c.getChooseAreaOpenLine();for(f in I){var g=I[f];if(!c.chooseArea[f].currentPlug){var m=s.toLocal({x:g.pb.x,y:g.pb.y},c),g=s.toLocal({x:g.pa.x,y:g.pa.y},c);if(e.x>=g.x&&e.x<=m.x&&0<=e.y-g.y){u=!0;break}}}}else e.x>=p.x&&e.x<=d.x&&0<=e.y-p.y&&(u=!0)}if(u)return e.gotCha=c,e.mask=c.capacityMask,!0}}else if(c.catchDropWaterEq&&y.hitTest(n,a,c)){c.getLiquid instanceof Function&&c.getLiquid(e),"DroppingFunnelWithBalancedPressure"===t.name&&(t.volumeEncroachment=Math.max((t.volumeEncroachment||0)-e.capacity,0)),r.removeDrip(e);continue}}}},{key:"hitTest",value:function(e,t,i){i=i.getBounds();return t>i.y&&t<i.y+i.height&&e>i.x&&e<i.x+i.width}}]),y}();e.exports=i},function(e,t,i){var n=i(67);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){var n=i(81),a=i(271),r=i(206),o=Object.defineProperty;t.f=i(76)?Object.defineProperty:function(e,t,i){if(n(e),t=r(t,!0),n(i),a)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,n){"use strict";var S=n(49);t.name="algorithm02",t.factory=function(e,t,i,O){var A=i(n(47)),T=e.SparseMatrix;return function(e,t,i,n){var a=e._data,r=e._size,o=e._datatype,s=t._values,l=t._index,h=t._ptr,e=t._size,t=t._datatype;if(r.length!==e.length)throw new S(r.length,e.length);if(r[0]!==e[0]||r[1]!==e[1])throw new RangeError("Dimension mismatch. Matrix A ("+r+") must match Matrix B ("+e+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c,e=r[0],u=r[1],d=A,p=0,f=i;"string"==typeof o&&o===t&&(d=O.find(A,[c=o,c]),p=O.convert(0,c),f=O.find(i,[c,c]));for(var I=[],g=[],m=[],y=0;y<u;y++){m[y]=g.length;for(var v=h[y],C=h[y+1],M=v;M<C;M++){var b=l[M],x=n?f(s[M],a[b][y]):f(a[b][y],s[M]);d(x,p)||(g.push(b),I.push(x))}}return m[u]=g.length,new T({values:I,index:g,ptr:m,size:[e,u],datatype:c})}}},function(e,t,BaseLiquidMedicine){"use strict";var a=BaseLiquidMedicine(4),i=BaseLiquidMedicine(0),n=i(BaseLiquidMedicine(77)),r=i(BaseLiquidMedicine(9)),o=i(BaseLiquidMedicine(1)),s=i(BaseLiquidMedicine(2)),l=i(BaseLiquidMedicine(7)),h=i(BaseLiquidMedicine(5)),c=i(BaseLiquidMedicine(6)),u=i(BaseLiquidMedicine(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=BaseLiquidMedicine(109),f=BaseLiquidMedicine(11),I=BaseLiquidMedicine(45),g=BaseLiquidMedicine(21),m=BaseLiquidMedicine(18),y=["淀粉溶液","乙醇","品红溶液","碘水","溴水","硬水","工业乙醇","肥皂水","自来水","苯酚钠溶液","乙醛溶液","氯水","酚酞","石蕊","甲基红","甲基橙","乙酸","补铁口服液","鸡蛋清溶液","唾液","50%乙醇","蔗糖溶液","银氨溶液","酸性高锰酸钾溶液","碘单质-碘化钾"],v=["氯水"],C=["汽油","肥皂水","工业乙醇","自来水","酚酞","石蕊","甲基红","甲基橙","淀粉溶液","硬水","品红溶液","补铁口服液","鸡蛋清溶液","唾液","50%乙醇","蔗糖溶液","银氨溶液","酸性高锰酸钾溶液","碘单质-碘化钾","鸡蛋清","溴水","氯水","碘水"],M=["碘水","碘单质-碘化钾","浓硝酸"],b=BaseLiquidMedicine(110).showPercentageChineseName,x={"H₂SO₄":14,HCl:6.841,"HNO₃":14},O=BaseLiquidMedicine(29).getLan,BaseLiquidMedicine=function(){(0,h.default)(BaseLiquidMedicine,p);var i=d(BaseLiquidMedicine);function BaseLiquidMedicine(e){var t;(0,o.default)(this,BaseLiquidMedicine),(t=i.call(this,e)).name="BaseLiquidMedicine",t.isLiquidMedicine=!0,t.preventCalEffect=!0,t.isLiquidMedBottle=!0,t.noChangeLabel=!1;e=f["MEDICINE_".concat(t.medConfData.chemical.toUpperCase())];e&&(t.defaultColor=e.defaultColor,t.defaultAlpha=e.defaultAlpha);e=b.find(function(e){return t.medConfData.name_cn===e});return t._showMassFraction=Boolean(e),t.z_index=15.38,t.CNName="",t.chemicalName="",t.labelName="",t.minConcentration=.001,t.maxConcentration=.001,t.curConcentration=.001,t.labelTypes=["物质的量浓度","质量分数","隐藏"],t.labelTypeIndex="2"===window.localStorage.getItem("NB_GRADE_ID")?2:0,t.majorSolute=null,t.solvent=null,t.MAX_LABEL_WIDTH=125,t.specialLabel=null,v.includes(t.medConfData.name_cn)&&(t.preventCalEffect=!1,t.activeCount=f.ACTIVE_COUNT,t.liquidActiveCount=f.ACTIVE_COUNT),t}return(0,s.default)(BaseLiquidMedicine,[{key:"showMassFraction",get:function(){return this._showMassFraction},set:function(e){this._showMassFraction=Boolean(e)}},{key:"setTotalCapacity",value:function(e){this.capacityScale=1,this.capacityScale=e/this.getTotalCapacity()}},{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(BaseLiquidMedicine.prototype),"creationComplete",this).call(this),this.setTotalCapacity(250);var t=this.getMedConfDataName();this.CNName=this.medConfData.name_cn,this.chemicalName=I.convertToChemicalName(t),this.label.getChildAt(0).alpha=.8,this.label.txt.anchor.x=.5,this.label.txt.anchor.y=.5,this.label.txt.x=this.MAX_LABEL_WIDTH/2,this.label.txt.y=this.label.txt.height/2,this.bottleLabelMask(),this.labelX=this.label.x,this.rotationConf={start:0,end:-Math.PI/4*3},this.rotaPosition={x:this.width,y:this.height},-1!==C.indexOf(this.CNName)?(t=O(this.CNName),this.labelName=t="鸡蛋清"===(t="银氨溶液"===t?"新制\n银氨溶液":t)?"鸡蛋清溶液":t):this.labelName=this.chemicalName,-1!==M.indexOf(this.CNName)&&(this.noSetMedJson=!0),setTimeout(function(){e.calcMedicineData(),e.canSetConcentration()||(e.labelTypeIndex=2),e.updateLiquidLabel()},0)}},{key:"getMedConfDataName",value:function(){var n,a="";return 1<this.medConfData.chemicalArr.length?(n=this.medConfData.chemicalArr,"银氨溶液"===this.medConfData.name_cn?a=n[0]:"氨水"===this.medConfData.name_cn?a="NH3"+f.MIX_SYMBOL+n[1]:n.forEach(function(e,t){var i;"H2O"!==e&&(-1===(i=e.indexOf("%"))?(a+=e,t<n.length-1&&(a+=f.MIX_SYMBOL)):a+=e.substr(0,i))})):a=this.medConfData.chemical,a=a[a.length-1]===f.MIX_SYMBOL?a.substr(0,a.length-1):a}},{key:"calcMedicineData",value:function(){var e,t,i;this.setTotalCapacity(1250),this.setCurrentCapacity(1e3),this.calcMajorSoluteSolvent(),this.majorSolute&&this.solvent&&(this.curConcentration=this.majorSolute.mol),this.majorSolute&&(i=0,i="CH3COOH"===(e=this.majorSolute.dat.chemical)?17.47:"HNO3"===e?25.75:"H2SO4"===e?18.4:f.INCLUDE_VOLUME.has(e)?18:"HCl"===e?16.79:"NaHCO3"===e?1.142:"H3PO4"===e?19.3:9999===(t=this.getSolubility(e))?20:.001*Math.floor(t/I.getMoleculeRelativeMass(e)*10*1e3),this.maxConcentration=i)}},{key:"calcMajorSoluteSolvent",value:function(){for(var e=this.medicineData.liquidAry,t=0,i=0;i<e.length;i++){var n=e[i];"H2O"===n.name?this.solvent=n:n.mol>t&&(t=n.mol,this.majorSolute=n)}}},{key:"rotateBottle",value:function(e){this.label.x=e?this.label.width/3:this.labelX}},{key:"updateIons",value:function(){var e=this.majorSolute.dat.ions;if(e&&2===e.length){var t=this.majorSolute.name,t=this.medicineData.ionMedicineAry.quickMap.get(t);t&&(t.mol=this.curConcentration);for(var i=0;i<2;i++){var n=e[i],a=this.medicineData.ionAry.quickMap.get(n.name+n.valence);a&&(a.mol=this.curConcentration*n.count)}}}},{key:"concentrationChanged",value:function(e){e=(0,n.default)(e.showValue);isNaN(e)||(this.curConcentration=e,this.majorSolute.mol=e,this.solvent.setVol(1e3-this.majorSolute.getVol()),this.updateIons(),this.updateLiquidLabel(),this.majorSolute.originDensity&&(this.majorSolute.originDensity=this.majorSolute.mol/this.solvent.getVol()*1e3))}},{key:"getSolubility",value:function(e){return this.root.medicineManager.getSolution(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:25)}},{key:"setLabelType",value:function(e){!isNaN(e)&&0<=e&&(this.labelTypeIndex=e,this.updateLiquidLabel())}},{key:"labelTypeChanged",value:function(e){this.setLabelType(e)}},{key:"getMassFraction",value:function(){var e,t=0;return t=this.majorSolute&&this.solvent?100*(e=this.majorSolute.getMass())/(e+this.solvent.getMass()):t}},{key:"getConfigureData",value:function(){var t,i=this,e={confArr:[]};this.canSetConcentration()&&(t=g.getLabel("质量分数",this.getMassFraction().toFixed(1)+"%"),this.maxConcentration>this.minConcentration+.001?e.confArr.push(g.getScrollBar("浓度",!0,"mol/L",this.maxConcentration,this.minConcentration,this.curConcentration,.001,function(e){i.concentrationChanged(e),t.text=i.getMassFraction().toFixed(1)+"%",i.forceUpdateLiquidGra=!0},this)):e.confArr.push(g.getLabel("物质的量浓度",this.curConcentration.toFixed(3)+"mol/L")),e.confArr.push(t,g.getDropMenu("浓度显示",!1,"",this.labelTypes[this.labelTypeIndex],this.labelTypes,this,function(e){i.labelTypeChanged(e),i.forceUpdateLiquidGra=!0})));var n=this.worldRotation||m.retrieveRotation(this.worldTransform);return!this.hasAnimation&&this.isOpen&&0===n&&(TweenMax.isTweening(this)||e.confArr.push(g.getButton(null,"闻气味",function(){this.smellMedicine()}.bind(this),this))),e}},{key:"canSetConcentration",value:function(){return-1===y.indexOf(this.CNName)&&this.majorSolute&&this.solvent}},{key:"getUnderLabel",value:function(){return 1===this.labelTypeIndex?"\n"+this.getMassFraction().toFixed(1)+"%":2===this.labelTypeIndex?"":"\n"+this.curConcentration.toFixed(3)+"mol/L"}},{key:"updateLiquidLabel",value:function(){var e=this.label.txt;e.text=(x[this.labelName]&&this.curConcentration>=x[this.labelName]?"浓":"")+this.labelName+this.getUnderLabel(),e.scale.x=1;var t=e.width;t>this.MAX_LABEL_WIDTH&&(e.scale.x=this.MAX_LABEL_WIDTH/t),e.text.includes("\n")?(e.style.wordWrap=!0,e.y=e.height/2):(e.style.wordWrap=!1,e.y=36)}},{key:"smellMedicine",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.interactive=!1,this.interactiveChildren=!1,this.root.execute(NBCommand.ADD_EQUIPMENT,"Fun",this)}},{key:"update",value:function(e){(0,l.default)((0,u.default)(BaseLiquidMedicine.prototype),"update",this).call(this,e),0<this.liquidActiveCount?this.liquidActiveCount--:this.preventCalEffect=!0}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(BaseLiquidMedicine.prototype),"setJSON",this).call(this,e),this.setLabelType((0,n.default)(e.labelType)),e.specialLabel&&(this.specialLabel=e.specialLabel,this.canSetConcentration()||setTimeout(function(){t.label.txt.text=e.specialLabel},0)),this.liquidActiveCount=e.liquidActiveCount||0}},{key:"toJSON",value:function(){var e="id_"+this.medConfData.id+("l"!==this.medConfData.type||"Liquid"!==this.medConfData.type?"_aq":"");return(0,r.default)((0,l.default)((0,u.default)(BaseLiquidMedicine.prototype),"toJSON",this).call(this),{name:e,labelType:this.labelTypeIndex,specialLabel:this.specialLabel,liquidActiveCount:this.liquidActiveCount})}}]),BaseLiquidMedicine}();e.exports=BaseLiquidMedicine},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(46)),o=n(i(69)),s=n(i(9)),l=n(i(1)),h=n(i(2)),c=n(i(7)),u=n(i(5)),d=n(i(6)),p=n(i(3));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,t)}}var I=i(8),g=i(18),m=i(26),y=i(143),v=i(27),C=i(33),M=i(45),b=i(127),x=i(70),O=i(145),A=i(171),T=i(75),S=i(21),w=i(168),B=i(11),D={StraightGlassCatheter:{defaultAbsortY:5,reduceHeight:70}},i=function(){(0,u.default)(n,I);var t=f(n);function n(){var e;return(0,l.default)(this,n),(e=t.call(this)).maxOpenMouth=2,e.capacity=2,e.medicine={},e.isGlassCatheter=!0,e.name="GlassCatheter",e.allowRubberCatheter=!0,e.addedRubber=null,e._addedBottle=null,e.dontClear=!1,e.z_index=19.07,e.dripUnderWater=!1,e.addEventListener(NBDrag.event.DRAG_MOVE,e.moveLimitGlassSheet),e.addEventListener(NBDrag.event.PREPARE_DRAG,e.topRubberCatheter),e}return(0,h.default)(n,[{key:"addedBottle",get:function(){return this._addedBottle},set:function(e){this._addedBottle=e}},{key:"isUnderLiquid",get:function(){return this.addedBottle&&this.addedBottle.liquidVertex&&this.dripArea&&m.containsPoint(this.addedBottle.liquidVertex,this.dripArea.toGlobal({x:0,y:0}))?this.toGlobal(this.ropePoint[1]).y-this.addedBottle.liquidVertex[0].y:0}},{key:"destroyAllLines",value:function(){var e=this.lines;if(e){for(var t=0;t<e.length;t++){var i=e[t];i.clear(),i.parent.removeChild(i)}e.length=0}}},{key:"fillGas",value:function(){var e=this.root.medicineManager.getMedicineData("O2"),t=this.root.medicineManager.getMedicineData("N2"),i=.2*this.capacity*e.density_gas/M.getMoleculeRelativeMass("O2"),n=.8*this.capacity*t.density_gas/M.getMoleculeRelativeMass("N2");this.medicine.gasAry.length=this.medicine.liquidAry.length=0,this.medicine.gasAry.push(new v(e,i)),this.medicine.gasAry.push(new v(t,n))}},{key:"updateFillGas",value:function(t){var i=this,n=this.medicine.gasAry.vol;0<n&&this.medicine.gasAry.forEach(function(e){e.setMol(e.getMol()*(t-i.capacity+n)/n)}),this.capacity=this.medicine.capacity=t}},{key:"creationComplete",value:function(){(0,c.default)((0,p.default)(n.prototype),"creationComplete",this).call(this);var g=this;this.dripArea.alpha=0,this.medicine.gasAry=[],this.medicine.capacity=this.capacity,this.medicine.liquidAry=[],this.medicine.leakageMedicine=[],this.fillGas(),(0,r.default)(this.medicine.gasAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return 0<e?e:0}}),(0,r.default)(this.medicine.liquidAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return 0<e?e:0}}),(0,o.default)(this.medicine.leakageMedicine,{mol:{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].mol;return 0<e?e:0}}}),this.medicine.getCurrentCapacity=function(){var t=0;return this.gasAry.forEach(function(e){t+=e.getVol()}),this.liquidAry.forEach(function(e){t+=e.getVol()}),t},this.medicine.getLiuqidPercent=function(){return this.liquidAry.vol/g.capacity},this.medicine.pop=function(e,t){this.leakageMedicine.length=0;for(var i=!1,n="gasAry"===e?"liquidAry":"gasAry",a=this[e].vol<=t?(i=!0,1):t/this[e].vol,r=0;r<this[e].length;r++){var o,s,l,h=this[e][r];h.mol<1e-18?this[e].splice(r,1):(o=h.mol*a,isNaN(o)||0==o||(s=void 0,l=.5,"gasAry"===e?((s=h.deepClone()).mol=o,l=g.bubbleParticle?.2:.5):s=new C(h.dat,o),h.mol-=o,h.mol<=0&&(i=!0,s.mol=o+h.mol,this[e].splice(r,1),r--),0<s.mol&&(this.leakageMedicine.push(s),h=s.temp||s.getTemp(),s.setTemp(h*l+B.DEFAULT_TEMP*(1-l)))))}if(i)for(var c=(this.getCurrentCapacity()-this.capacity)/this[n].vol,u=0;u<this[n].length;u++){var d=this[n][u];if(0!==d.mol){var p=d.mol*c;if(isNaN(p)||0==p)return;var f=void 0,I=.5;"gasAry"==n?((f=d.deepClone()).mol=p,I=g.bubbleParticle?.2:.5):f=new C(d.dat,p),d.mol-=p,d.mol<=0&&(i=!0,f.mol=p+d.mol,this[n].splice(u,1),u--),0<f.mol&&(this.leakageMedicine.push(f),d=f.temp||f.getTemp(),f.setTemp(d*I+B.DEFAULT_TEMP*(1-I)))}else this[n].splice(u,1),u--}},this.medicine.push=function(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)this.push(e[i],!0);e[0]&&(e[0].type===x.GAS?0<this.liquidAry.length?this.pop("liquidAry",this.getCurrentCapacity()-this.capacity):this.pop("gasAry",this.getCurrentCapacity()-this.capacity):0<this.gasAry.length?this.pop("gasAry",this.getCurrentCapacity()-this.capacity):this.pop("liquidAry",this.getCurrentCapacity()-this.capacity))}else if(e.type===x.LIQUID){for(var n=this.liquidAry.length,a=0;a<n;a++){var r=this.liquidAry[a];if(r.name===e.name){var o=r.getMol()+e.mol;r.setMol(o);break}}a===n&&(e instanceof C||(e=T.getMedFromEasyMed(e)),this.liquidAry.push(e)),t||this.pop("gasAry",this.getCurrentCapacity()-this.capacity)}else if(e.type===x.GAS){for(var s=this.gasAry.length,l=0;l<s;l++){var h=this.gasAry[l];if(h.name===e.name){var c=22.4*e.mol*1e3,u=h.getVol()+c,c=(h.getVol()*h.getTemp()+c*(e.temp||e.getTemp()))/u;h.fogCount=Math.max(e.fogCount,h.fogCount),h.setVol(u),h.setTemp(c);break}}l===s&&(e instanceof v||(e=T.getMedFromEasyMed(e)),this.gasAry.push(e)),t||this.pop("liquidAry",this.getCurrentCapacity()-this.capacity)}},this.addListeners(),y.initDragInLimitArea(this),this.medicineData=new T(this),this.noSetMedJson=!0}},{key:"convertMovementToExtendLength",value:function(e){var t=this.getViewStack().scale.x,i=g.retrieveRotation(this.worldTransform),n=Math.sin(i),a=Math.cos(i),i=-e.x/t*n,t=e.y/t*a,i=Math.min(61.5+(this.limitBound?this.limitBound.height-this.getHeightMessage(this.name).reduceHeight:500),this.ropePoint[1].y+i+t),t=this.ropePoint[0].y,t=(i=i<=t?t:i)-this.ropePoint[1].y;return 0!=t&&this.extendGlassCatheter(i),{x:-n*t,y:a*t,dis:t}}},{key:"getGlobalRotation",value:function(){return g.retrieveRotation(this.worldTransform)}},{key:"extendGlassCatheter",value:function(e){var t;this.extendOffsetY=e,this.ropePoint[1].y=e,this.addedBottle&&(this.addedBottle.hasReact+=2),"RotateGlassCatheter"===this.name&&(this.straightPersent=e/(e+this.rotatePartLen)),"StraightGlassCatheter"!==this.name||(t=this.addedNode.find(function(e){return"GlassRubberCatheter"===e.name}))&&t.changedBoundsAndFreshSelect(),this.dragRect&&(e=this.dragRect.height=61.5+this.ropePoint[1].y-this.ropePoint[0].y-46,t=this.currentContainer&&this.currentContainer===this.parent?this.currentContainer.localBounds.y:0,this.dragRect.y=this.getHeightMessage(this.name).defaultAbsortY-e+t),this.dripArea.y=this.ropePoint[1].y,this.whiffAreaAry[1].area.y=this.ropePoint[1].y,this.updateLineLength&&this.lines&&(this.updateLineLength(),this.changedBoundsAndFreshSelect())}},{key:"topRubberCatheter",value:function(){for(var e,t=this,i=0;i<this.addedNode.length;i++){var n=this.addedNode[i];"RubberCatheter"===n.name&&(e=n)}var a=1/0;e&&1<e.addedNode.length&&e.addedNode.forEach(function(e){!e||e===t||(e=t.findTopParent(e))&&e.parent&&(e=e.parent.children.indexOf(e),-1!==a&&(a=e<a?e:a))}),e&&e.parent===this.getEqLayer()&&(0<(a=Math.min(e.parent.children.length,a))&&a--,e.parent.addChildAt(e,a))}},{key:"findTopParent",value:function(e){return e.parent&&e.parent!==this.getEqLayer()?this.findTopParent(e.parent):e}},{key:"initWhiff",value:function(){var n=this;this.whiffAreaAry=[],this.fireParticlePos.forEach(function(e){var t=new PIXI.Container,i=new PIXI.Graphics;i.beginFill(16711680),i.alpha=0,i.drawRect(0,0,130,65),t.addChild(i),t.x=e.x,t.y=e.y,t.pivot.y=32.5,t.rotation=e.rotation,t.allowGetBounds=!1,t.interactiveChildren=!1,n.addChild(t);e={area:t,type:e.bindAttr,rotation:e.rotation};n.whiffAreaAry.push(e)})}},{key:"hitWhiff",value:function(){var p,f=this;this.whiffAreaAry&&(p=this).whiffAreaAry.forEach(function(e){if(!p[e.type]){var t=e.area,i=t.children[0],n=t.toGlobal({x:0,y:0}),a={x:0,y:-i.height/2},r={x:0,y:i.height/2},t={x:i.width,y:-i.height/2},i={x:i.width,y:i.height/2},e=m.rotatePoly([a,r,t,i],e.rotation),o=1/0,s=1/0,l=-1/0,h=-1/0;e.forEach(function(e){e.x<o&&(o=e.x),e.x>l&&(l=e.x),e.y<s&&(s=e.y),e.y>h&&(h=e.y)});var c,e=p.getViewStack().scale.x,u=new PIXI.Rectangle(n.x+o*e,n.y+s*e,Math.abs(l-o)*e,Math.abs(h-s)*e);f.root.viewStack.hasEqMove||!f.hitWhiffAry?f.hitWhiffAry=c=p.getObjectByAABB(u,!0):c=f.hitWhiffAry;for(var d=0;d<c.length;d++)c[d].hitReact&&c[d].hitReact instanceof Function&&function(){var t=[];p.medicine.leakageMedicine.forEach(function(e){e instanceof v&&t.push(e)}),c[d].hitReact(t,u)}()}})}},{key:"addListeners",value:function(){var n,a=this;this.on(NBEvent.del.PREPARE_DELETE,function(){for(var e=0,t=a.fireParticlePos.length;e<t;e++){var i=a.fireParticlePos[e];i.particle&&i.particle.destroy(!0),i.waterParticle&&i.waterParticle.destroy(!0)}}),this.on(NBEvent.HITTED_DRAGINLIMITAREA,function(e){n=e}),this.on("full",function(){a.dif&&(a.addedBottle=null)}),this.on("hasTweenComplete",function(e){var t,i;a.parent!==a.getEqLayer()&&(a.addedBottle!=n.hitObj?(a.addedBottle=n.hitObj,a.dif=!0,e.fromSetJson||a.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[a]})):a.dif=!1,a.addedBottle&&(a.limitBound=a.addedBottle.eqLimitBounds||a.addedBottle.eqLimitBoundsAry&&a.addedBottle.eqLimitBoundsAry[0]||a.addedBottle.localBounds,i=a.limitBound.height+61.5-a.getHeightMessage(a.name).reduceHeight,a.ropePoint[1].y>i&&(a.extendGlassCatheter(i),(t=a.extendSprite).getVisible()&&t.showButton()),(i=a.addedBottle)&&i.paramObj&&2<a.isUnderLiquid&&a.root.emit(NBEvent.ADD_EXPERIMENT_OPERATION,{type:OperationType.STRETCH_CATHETER_UNDER_LIQUID,data:i.paramObj.id})),a.dripArea.y=a.ropePoint[1].y,a.originPos={x:a.x,y:a.y},a.dragRect&&(t=a.dragRect.height=61.5+a.ropePoint[1].y-a.ropePoint[0].y-46,i=a.currentContainer&&a.currentContainer===a.parent?a.currentContainer.localBounds.y:0,a.dragRect.y=a.getHeightMessage(a.name).defaultAbsortY-t+i)),a.extendSprite&&a.extendSprite.getVisible()&&a.extendSprite.showButton(),a.RGCRotateSpriteIcon&&a.RGCRotateSpriteIcon.getVisible()&&a.RGCRotateSpriteIcon.showButton()}),this.on("removeFromPlug",function(){a.originPos={x:a.x,y:a.y}}),this.on("removeEquipment",function(){a.limitBound=null})}},{key:"clearLeakageMedicine",value:function(){this.addedNode.length<1&&0<this.medicine.leakageMedicine.length&&(this.medicine.leakageMedicine.length=0)}},{key:"updateFireInStageType",value:function(){for(var e=0;e<this.fireParticlePos.length;e++){var t=this.fireParticlePos[e].particle;t&&(this.addedBottle&&this.addedBottle.gasContainer&&t.inStage?(this.addedBottle.gasContainer.addChild(t.particle),t.inStage=!1):this.inStage||this.addChild(t.particle))}}},{key:"updateWaterParticle",value:function(e){for(var t=[],i=0,n=0;n<this.medicine.leakageMedicine.length;n++){var a=this.medicine.leakageMedicine[n];a instanceof C&&(t.push(a),i+=a.mol,a.mol/=2)}for(var r=0;r<this.fireParticlePos.length;r++){var o,s=this.fireParticlePos[r];s.waterParticle&&!1===s.waterParticle.particleRemoved?(void 0===s.direction||s.direction===this.direction)&&1e-4<i?(o=this.getTwoSidePascalRate(),s.waterParticle.updateMedicine(t,i),s.waterParticle.render(e,o)):s.waterParticle.destroy():1e-4<i&&("addedBottle"===s.bindAttr||null===this[s.bindAttr]||s.secondAttr&&null===this[s.bindAttr][s.secondAttr])&&(void 0!==s.direction&&s.direction!==this.direction||(s.waterParticle=new O(this,i,s))),s.waterParticle&&s.waterParticle.particleRemoved&&(s.waterParticle=null),this.dontClear=!0}}},{key:"updateFireParticle",value:function(e){for(var t=0;t<this.fireParticlePos.length;t++){var i=this.fireParticlePos[t];i.particle&&((i.particle.particleRemoved||this[i.bindAttr]&&(!i.secondAttr||this[i.bindAttr][i.secondAttr])||this.isUnderLiquid)&&(i.particle.particleRemoved||i.particle.destroy(!0),i.particle=null),i.particle&&(i.particle.updateMedicine(this.medicine.leakageMedicine),i.particle.particle.y=i.y,i.particle.smokeParticle.y=i.y+10,"addedBottle"===i.bindAttr&&(this.addedBottle&&this.addedBottle.gasMask?i.particle.particle.mask=this.addedBottle.gasMask:i.particle.particle.mask=null),i.particle.render(e)),this.dontClear=!0)}}},{key:"updateBubbleParticle",value:function(e){if(this.dripUnderWater=this.addedBottle&&this.addedBottle.liquidVertex&&m.containsPoint(this.addedBottle.liquidVertex,this.dripArea.toGlobal({x:0,y:0})),this.dripUnderWater&&this.medicine.leakageMedicine){for(var t,i=0,n=this.currentContainer&&this.currentContainer.medicineData.liquidAry.some(function(e){return"NaOH"===e.name&&1e-7<e.mol}),a=0;a<this.medicine.leakageMedicine.length;a++){var r=this.medicine.leakageMedicine[a];r.mol<1e-18?(this.medicine.leakageMedicine.splice(a,1),a--):r instanceof v&&(n&&("HCl"===r.name||"Cl2"===r.name)||"H2O"===r.name||(i+=r.mol,r.mol/=2))}0<i&&!this.direction?this.bubbleParticle?(this.bubbleParticle.particleRemoved?(this.bubbleParticle.destroy(!0),this.bubbleParticle=null):((t=this.addedBottle.toLocal(this.toGlobal(this.ropePoint[1]))).rotation=-g.retrieveRotation(this.addedBottle.worldTransform),this.bubbleParticle.updateMedicine(this.medicine.leakageMedicine,i,t),this.bubbleParticle.render(e)),this.dontClear=!0):1e-8<i&&!this.direction&&(this.bubbleParticle=new A(this.addedBottle.waterContainer,void 0,this),this.dontClear=!0):this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null)}else this.bubbleParticle?(this.bubbleParticle.destroy(!0),this.bubbleParticle=null):this.removeLeakgeMedicine(this.medicine.leakageMedicine)}},{key:"getTwoSidePascalRate",value:function(){var t=this;if(!this.currentContainer||!this.addedNode||2!==this.addedNode.length)return 0;var e,i=this.getViewStack(),n=this.currentContainer.pascal||B.PASCAL,a=i.toLocal(this.ropePoint[1],this).y,r=a,o=B.PASCAL;return!this.addedRubber||(e=this.addedNode.find(function(e){return e.isRubberCatheter}))&&e.addedNode&&2===e.addedNode.length&&((e=e.addedNode.find(function(e){return e!==t}))&&e.isBaseContainer&&(o=e.pascal||B.PASCAL,e.rubberPos&&(r=i.toLocal(e.rubberPos,e).y)),e&&e.isGlassCatheter&&e.currentContainer&&(o=e.currentContainer.pascal||B.PASCAL,r=i.toLocal(e.ropePoint[1],e).y)),r!==a&&(o+=(a-r)*B.EARTH_GRAVITY/B.PIXELS_PER_ML*10),Math.abs(o-n)/B.PASCAL}},{key:"update",value:function(e){(0,c.default)((0,p.default)(n.prototype),"update",this).call(this,e),this.updateLine(),this.dontClear=!1;for(var t=0;t<this.fireParticlePos.length;t++){var i=this.fireParticlePos[t];if("addedBottle"===i.bindAttr){i.y=this.ropePoint[1].y;break}}this.updateWaterParticle(e),this.updateFireParticle(e),this.updateBubbleParticle(e),this.dontClear&&1e-6<this.medicine.leakageMedicine.mol&&this.hitWhiff(),this.parent!==this.lastParent&&(this.lastParent=this.parent,this.extendSprite&&this.extendSprite.getVisible()&&this.extendSprite.showButton()),this.scale.x!==this.lastScaleX&&(this.lastScaleX=this.scale.x,this.RGCRotateSpriteIcon&&this.RGCRotateSpriteIcon.getVisible()&&this.RGCRotateSpriteIcon.showButton()),this.clearLeakageMedicine()}},{key:"eqAddToViewStack",value:function(){var e=this.currentPlug;(0,c.default)((0,p.default)(n.prototype),"eqAddToViewStack",this).call(this),e&&e.checkChildEqNum()}},{key:"getLightOnPoint",value:function(){var t=this;this.updateTransform();var i=[];return this.fireParticlePos.forEach(function(e){e=t.toGlobal(e);i.push({x:e.x,y:e.y})}),i}},{key:"lightOn",value:function(e){if(!this.isUnderLiquid&&this.medicine){var t;e=this.toLocal(e);for(var i,n=0;n<this.fireParticlePos.length;n++){var a=this.fireParticlePos[n];if(Math.abs(e.x-a.x)<1&&Math.abs(e.y-a.y)<1){t=a;break}}t&&!t.particle&&(!this[t.bindAttr]||t.secondAttr&&!this[t.bindAttr][t.secondAttr])&&this.testIgnitable()&&(this.addedBottle||this.addedRubber||0<this.addedRubberCount)&&(i=t.particle=new b(this),this.addChild(i.smokeParticle),this.addChild(i.particle),i.particle.x=t.x,i.particle.y=t.y,i.particle.rotation=t.rotation,i.smokeParticle.x=t.x,i.smokeParticle.y=t.y+10,i.smokeParticle.rotation=t.rotation,i.updateMedicine(this.medicine.leakageMedicine))}}},{key:"testIgnitable",value:function(){return!!(this.medicine&&this.medicine.leakageMedicine&&0<this.medicine.leakageMedicine.length)}},{key:"initLines",value:function(){this.totalLength=0,this.stableLength=0;var e=this.pointAry[1];this.pointLength=[this.ropePoint[1].y-e.y];for(var t=2;t<this.pointAry.length;t++){var i=this.pointAry[t],n=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)),e=i;this.pointLength.push(n),this.stableLength+=n}this.updateLineLength(),this.gasLines=new PIXI.Container,this.linesContainer=new PIXI.Container,this.addChildAt(this.linesContainer,0),this.addChildAt(this.gasLines,0),this.lines=[]}},{key:"updateLineLength",value:function(){var e=this.ropePoint[1].y-this.pointAry[1].y;this.pointLength[0]=e;var t=this.totalLength=this.stableLength+e,i=0;this.lengthPercent=this.pointLength.map(function(e){return i+=e/t}),this.lengthPercent[this.lengthPercent.length-1]=1}},{key:"lineControl",value:function(e,t,i,n,a){var r=this.lines;if(r){var o=e===this.addedBottle||e===this.currentContainer;this.direction=o;for(var s,l=0,h=!1,c=0,u=0,d=0;d<i.length;d++){var p=i[d];p.getVol&&(l+=p.getVol(),p.type===x.LIQUID&&0<p.mol&&(h=!0,c+=p.mol,!p.dat.color||isNaN(p.dat.color)?u+=16777215*p.mol:u+=p.dat.color*p.mol))}if(s=l/this.capacity,h){var f=!1,e=r[r.length-1];if(e){if(n?(e.liquidColor=n,e.liquidAlpha=a):(e.liquidColor=u/c,e.liquidAlpha=.2),1<=e.percent&&(0===e.startPercent||1===e.startPercent))return e.percent=1,r.endColor=e.liquidColor||"0xff0000",void(r.endAlpha=e.liquidAlpha||"0xff0000");o&&0===e.startPercent&&e.lineDirection||!1==o&&1===e.startPercent&&!e.lineDirection?(e.percent+=s,f=!0):(o&&e.startPercent-e.percent<=0&&!e.lineDirection||!o&&1<=e.startPercent+e.percent&&e.lineDirection)&&(e.percent+=s,o?e.startPercent+=s:e.startPercent-=s,e.startIndex=this.getPointAcdPer(e.startPercent,f=!0))}f||((f=new PIXI.Graphics).liquidColor=n,f.liquidAlpha=a,o?(f.startPercent=0,f.startIndex=0):(f.startPercent=1,f.startIndex=this.pointAry.length-2),f.lineDirection=o,f.x=this.lineFix[o],f.percent=s,f.allowGetBounds=!1,r.push(f),this.linesContainer.addChild(f))}for(var I=0;I<(h?r.length-1:r.length);I++){var g=r[I];if(!g)break;this.lineMove(o,g,s)}}}},{key:"updateLine",value:function(){var n=this,e=this.lines,t=[];if(e&&0<e.length&&this.drawLine)for(var i=0;i<e.length;i++)this.drawLine(e[i]);var a=null===(r=w.getMixerColor(this.capacity,this.medicine.gasAry))||void 0===r?void 0:r.color;if(a){if(e&&0<e.length&&this.drawLine){var r=e[e.length-1];0<r.startPercent&&t.push([0,r.startPercent]);for(var o=e.length-1;0<o;o--){var s=e[o],l=e[o-1],s=s.startPercent+s.percent,l=l.startPercent;s<l&&t.push([s,l])}r=e[0];r.startPercent+r.percent<1&&t.push([r.startPercent+r.percent,1])}0===t.length&&t.push([0,1]),t.forEach(function(e,t){var i;.001<e[1]-e[0]&&(n.gasLines.children[t]||((i=new PIXI.Graphics).allowGetBounds=!1,n.gasLines.addChild(i)),(t=n.gasLines.children[t]).startPercent=e[0],t.lineDirection=!0,t.percent=e[1]-e[0],t.startIndex=n.getPointAcdPer(e[0],!0),t.liquidColor=a,t.liquidAlpha=.3)})}if(this.gasLines.children.length>t.length)for(var h=0;h<this.gasLines.children.length-t.length;h++)this.gasLines.children[h].destroy();if(0<this.gasLines.children.length&&this.drawLine)for(var c=0;c<this.gasLines.children.length;c++)this.drawLine(this.gasLines.children[c])}},{key:"lineMove",value:function(e,t,i){var n=t.startPercent,a=t.lineDirection,r=t.percent;switch(!0){case 1<=(n+=i=e?i:-i)&&a:r=0;break;case n<=0&&a:r+=n,this.lines.endColor=t.liquidColor,this.lines.endAlpha=t.liquidAlpha,n=0;break;case 1<=n&&!a:r-=n-1,n=1,this.lines.endColor=t.liquidColor,this.lines.endAlpha=t.liquidAlpha;break;case n<=0&&!a:r=0}r<=0?this.destroyLine(t):(t.percent=r,t.startPercent=n,t.startIndex=this.getPointAcdPer(n,!0))}},{key:"drawLine",value:function(e){var t=e.startPercent,i=e.lineDirection,n=e.percent,a=e.startIndex,r=e.liquidColor,o=e.liquidAlpha,s=1<=n&&(0===t||1===t)?(e.percent=1,this.pointAry):this.pointMove(this.getPointAcdPer(t),a,n*this.totalLength,i),n=s[0],i=s[s.length-1];if(n.x===i.x&&n.y===i.y||e.percent<=0)this.destroyLine(e);else{e.clear(),e.lineStyle(14,r,o);var l=s[0];e.moveTo(l.x,l.y);for(var h=1;h<s.length;h++)l=s[h],e.lineTo(l.x,l.y)}}},{key:"destroyLine",value:function(e){e.clear(),e.parent.removeChild(e);var t=this.lines;t.splice(t.indexOf(e),1)}},{key:"getPointAcdPer",value:function(e,t){var i,n=this.lengthPercent;if(n[n.length-1]<=e)return t?n.length-1:this.pointAry[this.pointAry.length-1];for(i=0;i<n.length;i++)if(e-n[i]<0)break;if(t)return i;var a=(e-(n[i-1]||0))*this.totalLength/this.pointLength[i];0==i&&a<0&&(a=0),i===n.length-1&&1<a&&(a=1);var r=this.pointAry,t=r[i],r=r[i+1];return{x:t.x+(r.x-t.x)*a,y:t.y+(r.y-t.y)*a}}},{key:"getPerAcdPoint",value:function(e,t){var i=this.pointAry,n=i[t],a=i[t+1],i=this.lengthPercent[t-1]||0,t=this.lengthPercent[t]-i;return n.x===a.x?i+=(e.y-n.y)/(a.y-n.y)*t:i+=(e.x-n.x)/(a.x-n.x)*t,i=(i=1<i?1:i)<0?0:i}},{key:"pointMove",value:function(e,t,i){var n,a,r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=this.pointAry,s=p=t;r?(n=o[t],a=o[t+1]):(n=o[t+1],a=o[t],p++);var l=[e];a.x===n.x?i+=(e.y-n.y)/(a.y-n.y)*this.pointLength[t]:i+=(e.x-n.x)/(a.x-n.x)*this.pointLength[t];for(var h=e=n;0<i;){var c=this.pointLength[s];if(!c)break;if(i-c<0){var u=i/c,d=o[r?++p:--p],u={x:h.x+(d.x-h.x)*u,y:h.y+(d.y-h.y)*u};l.push(u),i=0;break}i-=c;c=p;if(r?(p++,s++):(p--,s--),!(h=o[p])){l.push(o[c]);break}l.push(h)}var e=o.length-2,p=p<0?0:p;return l.index=p=e<p?e:p,l.remainStep=i,l}},{key:"getHeightMessage",value:function(e){return D[e]||{defaultAbsortY:-25,reduceHeight:45}}},{key:"toJSON",value:function(){return(0,s.default)((0,c.default)((0,p.default)(n.prototype),"toJSON",this).call(this),{index:this.parent instanceof I?this.parent.children.indexOf(this):null,parent:this.parent instanceof I?this.parent.getUUID():void 0,addedBottle:this.addedBottle?this.addedBottle.getUUID():void 0,ropePointY:this.ropePoint[1].y,originPos:this.originPos,extendOffsetY:this.extendOffsetY})}},{key:"setJSON",value:function(t){var i=this;(0,c.default)((0,p.default)(n.prototype),"setJSON",this).call(this,t),t.addedBottle&&this.getEquipmentByUUID(t.addedBottle).then(function(e){i.addedBottle=e,i.limitBound=i.addedBottle.eqLimitBounds||i.addedBottle.eqLimitBoundsAry&&i.addedBottle.eqLimitBoundsAry[0]||i.addedBottle.localBounds,t.extendOffsetY&&i.extendGlassCatheter(t.extendOffsetY)}),t.parent&&t.index&&this.getEquipmentByUUID(t.parent).then(function(e){e.addChildAt(i,t.index)}),this.whiffAreaAry||this.initWhiff(),this.dripArea.y=this.ropePoint[1].y=t.ropePointY,this.whiffAreaAry[1]&&(this.whiffAreaAry[1].area.y=t.ropePointY),this.originPos=t.originPos}},{key:"getConfigureData",value:function(){var e={confArr:[]};return e.confArr.push(S.inputSwitch("化学方程式",this.conf_chemical_equation,function(e){this.conf_chemical_equation=e.checked}.bind(this))),e}}]),n}();e.exports=i},function(e,t,i){"use strict";t.array=i(14),t.boolean=i(534),t.function=i(103),t.number=i(17),t.object=i(28),t.string=i(40),t.types=i(182),t.emitter=i(300)},function(e,t,i){"use strict";var x=i(49);t.name="algorithm07",t.factory=function(e,t,i,C){function M(e,t,i,n,a){for(var r=e._values,o=e._index,s=(e=e._ptr)[t],l=e[t+1];s<l;s++){var h=o[s];i[h]=a,n[h]=r[s]}}var b=e.DenseMatrix;return function(e,t,i){var n=e._size,a=e._datatype,r=t._size,o=t._datatype;if(n.length!==r.length)throw new x(n.length,r.length);if(n[0]!==r[0]||n[1]!==r[1])throw new RangeError("Dimension mismatch. Matrix A ("+n+") must match Matrix B ("+r+")");var s=n[0],l=n[1],h=0,c=i;"string"==typeof a&&a===o&&(h=C.convert(0,p=a),c=C.find(i,[p,p]));for(var u=[],d=0;d<s;d++)u[d]=[];for(var p=new b({data:u,size:[s,l],datatype:p}),f=[],I=[],g=[],m=[],y=0;y<l;y++){var v=y+1;for(M(e,y,g,f,v),M(t,y,m,I,v),d=0;d<s;d++)u[d][y]=c(g[d]===v?f[d]:h,m[d]===v?I[d]:h)}return p}}},function(e,t,i){"use strict";var n=i(28).clone,a=i(17).isInteger;t.name="Index",t.path="type",t.factory=function(r){function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var n=arguments[t];if(r.isRange(n))this._dimensions.push(n),this._isScalar=!1;else if(Array.isArray(n)||r.isMatrix(n)){var a=s(n.valueOf());this._dimensions.push(a);a=a.size();1===a.length&&1===a[0]||(this._isScalar=!1)}else if("number"==typeof n)this._dimensions.push(s([n]));else{if("string"!=typeof n)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(n)}}}function s(e){for(var t=0,i=e.length;t<i;t++)if("number"!=typeof e[t]||!a(e[t]))throw new TypeError("Index parameters must be positive integer numbers");return new r.ImmutableDenseMatrix(e)}return o.prototype.type="Index",o.prototype.isIndex=!0,o.prototype.clone=function(){var e=new o;return e._dimensions=n(this._dimensions),e._isScalar=this._isScalar,e},o.create=function(e){var t=new o;return o.apply(t,e),t},o.prototype.size=function(){for(var e=[],t=0,i=this._dimensions.length;t<i;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},o.prototype.max=function(){for(var e=[],t=0,i=this._dimensions.length;t<i;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},o.prototype.min=function(){for(var e=[],t=0,i=this._dimensions.length;t<i;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},o.prototype.forEach=function(e){for(var t=0,i=this._dimensions.length;t<i;t++)e(this._dimensions[t],t,this)},o.prototype.dimension=function(e){return this._dimensions[e]||null},o.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},o.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},o.prototype.isScalar=function(){return this._isScalar},o.prototype.valueOf=o.prototype.toArray=function(){for(var e=[],t=0,i=this._dimensions.length;t<i;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},o.prototype.toString=function(){for(var e=[],t=0,i=this._dimensions.length;t<i;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},o.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},o.fromJSON=function(e){return o.create(e.dimensions)},o}},function(e,t,i){"use strict";var r=i(13);t.name="abs",t.factory=function(e,t,i,n){var a=n("abs",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return r(e,a,!0)},Unit:function(e){return e.abs()}});return a.toTex={1:"\\left|${args[0]}\\right|"},a}},function(e,t,r){"use strict";var o=r(14);t.name="size",t.factory=function(e,t,i,n){var a=i(r(12));return(n=n("size",{Matrix:function(e){return a(e.size())},Array:o.size,string:function(e){return"Array"===t.matrix?[e.length]:a([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:a([])}})).toTex=void 0,n}},function(e,t,i){"use strict";var n=i(0),a=n(i(9)),r=n(i(1)),o=n(i(2)),s=i(11),l=i(132),h={dark:{color:0,alpha:.5,size:2},light:{color:16777215,alpha:1,size:3}},i=function(){function i(e,t){(0,r.default)(this,i),this.target=e,this.otherLayer=this.target.getViewStack().otherLayer,this.btnPosition=(0,a.default)({},t),this.oriBtnPosition=(0,a.default)({},t),this.buttonStyle={color:16777215,alpha:1},this._buttonScale=1.5/this.target.getViewStack().scale.x,this.initButton()}return(0,o.default)(i,[{key:"buttonScale",get:function(){return this._buttonScale},set:function(e){this._buttonScale=e}},{key:"initButton",value:function(){var e=this.target,t=this.button=new PIXI.Container;t.isCtrButton=!0,t.typeRoot=this,t.visible=!1,this.blurIcon=PIXI.Sprite.fromFrame("nb.chemical.blur"),this.activeIcon=PIXI.Sprite.fromFrame("nb.chemical.active"),t.addChildAt(this.blurIcon,0),t.addChildAt(this.activeIcon,0),this.activeIcon.alpha=0,this.blurIcon.alpha=1,this.activeIcon.x=-s.BUTTON_RADIUS,this.activeIcon.y=-s.BUTTON_RADIUS,this.blurIcon.x=-s.BUTTON_RADIUS,this.blurIcon.y=-s.BUTTON_RADIUS,this.setIcon(),this.setOriType();var i=this.tipIcon;t.addChild(i),i.pivot.x=i.width/2,i.pivot.y=i.height/2,i.x=0,i.y=0,e.getViewStack().addChild(this.button),this.setBtnPosition(),this.button.allowGetBounds=!1,this.selcteShow&&(e.on(NBEvent.SHOW_WHOLE_BUTTON,this.showButton.bind(this)),e.on(NBEvent.HIDE_WHOLE_BUTTON,this.hideButton.bind(this))),this.addCtrlAry&&e.ctrlButtonAry.push(this.button);this.addedEventListener=this.setBtnPosition.bind(this),this.target.on(NBDrag.event.DRAG_MOVE,this.addedEventListener),"VRotateSprite"!==this.name&&this.initButtonEvt(),this.target.on(NBEvent.del.PREPARE_DELETE,this.destroy.bind(this)),this.addedZoomEventListener=this.zoomChangePos.bind(this),this.target.root.addEventListener(NBEvent.change.ZOOM,this.addedZoomEventListener),this.zoomChangePos()}},{key:"initButtonEvt",value:function(){var t=this;l.addGesture(this.button,l.gesture.PAN,function(e){switch(e.type){case"begin":t.dragButtonBegin(e);break;case"move":t.dragButtonMove(e);break;case"end":t.dragButtonEnd(e)}})}},{key:"zoomChangePos",value:function(){this.buttonScale=1.5/this.target.getViewStack().scale.x,this.button.scale.x=this.buttonScale,this.button.scale.y=this.buttonScale}},{key:"initUnicorn",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.unicorn=new PIXI.Graphics;this.button.addChildAt(t,0),t.lineStyle(0),t.angle=e,this.updateUnicorn(e)}},{key:"updateUnicorn",value:function(e){var t,i,n;this.unicorn&&(t=this.unicorn,void 0===e?e=t.angle:t.angle=e,t.clear(),t.beginFill(this.buttonStyle.color,this.buttonStyle.alpha),i=-(n=s.BUTTON_RADIUS)*Math.sin(e),n=-n*Math.cos(e),t.moveTo(i,n),t.lineTo(-43*Math.cos(e),43*Math.sin(e)),t.lineTo(-i,-n),t.endFill())}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.rotate")}},{key:"setOriType",value:function(){this.selcteShow=!0,this.addCtrlAry=!0}},{key:"setLineInContainer",value:function(e){this.lineInContainer=e}},{key:"drawLinePoint",value:function(){if(this.lineAry){this.linePointGraphics?this.linePointGraphics.clear():(this.linePointGraphics=new PIXI.Graphics,this.linePointGraphics.allowGetBounds=!1,this.linePointGraphics.interactive=!1,(this.lineInContainer?this.target:this.target.getViewStack()).addChild(this.linePointGraphics));var e=this.linePointGraphics;e.lineStyle(0);for(var t=0;t<this.lineAry.length;t++){var i=this.lineAry[t],n=h[i.type];e.beginFill(n.color,n.alpha);var a=(-1===this.target.scale.x?this.lineAry[this.lineAry.length-1-t]:i).x;e.drawCircle(a,i.y,n.size),e.endFill()}}}},{key:"clearLinePoint",value:function(){this.linePointGraphics&&this.linePointGraphics.clear()}},{key:"dragButtonBegin",value:function(e){e.stopPropagation(),this.lightButton()}},{key:"dragButtonMove",value:function(){this.target.activeCount=s.ACTIVE_COUNT}},{key:"dragButtonEnd",value:function(){this.darkButton()}},{key:"getAtan2Angle",value:function(e,t){return Math.atan2(e.y-t.y,e.x-t.x)}},{key:"lightButton",value:function(){NBDrag.removeDrag(this.target),this.buttonStyle={color:41194,alpha:1},this.activeIcon.alpha=1,this.blurIcon.alpha=0,this.updateUnicorn()}},{key:"generateLinePoints",value:function(e,t,i){var n=(t.x-e.x)/--i,a=(t.y-e.y)/i,r=[],o=e.x,s=e.y;o-=n,s-=a;for(var l=0;l<i;l++)r.push({x:o+=n,y:s+=a});return r.push(t),r}},{key:"setPointAryPercent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length?arguments[1]:void 0,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t=(t=1<t?1:t)<-1?-1:t;var n,a=this.lineAry,r=a.length,o=e+Math.ceil(t*(r-1));if(o=r<=(o=o<0?o+r:o)?o%r:o,i)return a.forEach(function(e){return e.type="dark"}),a[o].type="light",void this.drawLinePoint();if(e===o||1===Math.abs(t)||0===t)return Math.abs(t)<.5?a.forEach(function(e){return e.type="dark"}):a.forEach(function(e){return e.type="light"}),void this.drawLinePoint();for(var i=e<o,s=i?(n=e,o):(n=o,e),l=Number(i==0<=t),h=1^l,c=["dark","light"],u=0;u<r;u++){var d=a[u];switch(!0){case u===e:d.type="light";break;case u===o:d.type="dark";break;case n<u&&u<s:d.type=c[l];break;default:d.type=c[h]}}this.drawLinePoint()}},{key:"destroy",value:function(){TweenMax.killTweensOf(this),l.removeGesture(this.button,l.gesture.PAN),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID],this.button.parent&&(this.button.parent.removeChild(this.button),this.activeIcon.parent.removeChild(this.activeIcon),this.blurIcon.parent.removeChild(this.blurIcon),this.linePointGraphics&&this.linePointGraphics.parent.removeChild(this.linePointGraphics),this.target.removeEventListener(NBDrag.event.DRAG_MOVE,this.addedEventListener),this.target.root.removeEventListener(NBEvent.change.ZOOM,this.addedZoomEventListener))}},{key:"darkButton",value:function(){this.buttonStyle={color:16777215,alpha:1},this.activeIcon.alpha=0,this.blurIcon.alpha=1,this.updateUnicorn(),NBDrag.addDrag(this.target,this.target.dragRect,{bringToFront:this.target.bringToFront})}},{key:"setBtnPosition",value:function(e){this.button.visible&&((e=e||this.btnPosition).target&&(e=this.btnPosition),e=this.otherLayer.toLocal(e,this.target),this.button.x=e.x,this.button.y=e.y,this.setBtnRotate(this.target.scale.x))}},{key:"setBtnRotate",value:function(){}},{key:"showButton",value:function(){TweenMax.isTweening(this.target)&&"ExtendSprite"!==this.name||this.getEnabled()&&(this.button.visible=!0,this.zoomChangePos(),this.setBtnPosition())}},{key:"hideButton",value:function(){this.button.visible=!1}},{key:"setEnabled",value:function(e){(this.enabled=e)||this.hideButton()}},{key:"getEnabled",value:function(){return this.enabled}},{key:"getVisible",value:function(){return this.button.visible}}]),i}();e.exports=i},function(e,t,i){var r=i(112);e.exports=function(n,a,e){if(r(n),void 0===a)return n;switch(e){case 1:return function(e){return n.call(a,e)};case 2:return function(e,t){return n.call(a,e,t)};case 3:return function(e,t,i){return n.call(a,e,t,i)}}return function(){return n.apply(a,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var n=i(212),a=i(174);e.exports=function(e){return n(a(e))}},function(e,t,i){e.exports=i(442)},function(e,t,i){e.exports=i(490)},function(e,t,i){"use strict";var n=i(0),r=n(i(1)),o=n(i(2));e.exports=function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;(0,r.default)(this,a),e instanceof Object?(this.x=e.x,this.y=e.y):(this.x=e,this.y=t)}return(0,o.default)(a,[{key:"addXY",value:function(e,t){var i=new a(this.x,this.y);return i.x+=e,i.y+=t,i}},{key:"add",value:function(e){var t=new a(this.x,this.y);return t.x+=isNaN(e.x)?e.get_x():e.x,t.y+=isNaN(e.y)?e.get_y():e.y,t}},{key:"sub",value:function(e){var t=new a(this.x,this.y);return isNaN(e.x)&&!e.get_x||(t.x-=isNaN(e.x)?e.get_x():e.x,t.y-=isNaN(e.y)?e.get_y():e.y),t}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-e.x*this.y}},{key:"projectTo",value:function(e){var t=e.x,i=e.y,n=e.dot(e),e=t*t/n,t=t*i/n,i=i*i/n,n=new PIXI.Matrix;return n.a=e,n.b=t,n.c=t,n.d=i,new a(n.apply(this))}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"clone",value:function(){return new a(this.x,this.y)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"setLength",value:function(e){this.multiplyScalar(e/this.length())}},{key:"lerp",value:function(e,t){var i=this.clone();return i.x+=(e.x-i.x)*t,i.y+=(e.y-i.y)*t,i}},{key:"rotate",value:function(e){var t=Math.cos(e),e=Math.sin(e);this.x=x*t-y*e,this.y=x*e+y*t}}]),a}()},function(e,t,d){"use strict";t.name="equal",t.factory=function(e,t,i,n){var a=i(d(12)),r=i(d(47)),o=i(d(63)),s=i(d(87)),l=i(d(64)),h=i(d(39)),c=i(d(35)),i=d(23),u=n("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?s(e,t,r):o(t,e,r,!0):"sparse"===t.storage()?o(e,t,r,!1):h(e,t,r);return t},"Array, Array":function(e,t){return u(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return u(a(e),t)},"Matrix, Array":function(e,t){return u(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?l:c)(e,t,r,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?l:c)(t,e,r,!0);return e},"Array, any":function(e,t){return c(a(e),t,r,!1).valueOf()},"any, Array":function(e,t){return c(a(t),e,r,!0).valueOf()}});return u.toTex={2:"\\left(${args[0]}"+i.operators.equal+"${args[1]}\\right)"},u}},function(e,t,n){"use strict";var u=n(842);t.name="compareNatural",t.factory=function(r,e,t,i){var o=t(n(235)),s=(t(n(12)),t(n(142))),l=s.signatures["boolean,boolean"],h=i("compareNatural",{"any, any":function(e,t){var i,n=o(e),a=o(t);if(!("number"!==n&&"BigNumber"!==n&&"Fraction"!==n||"number"!==a&&"BigNumber"!==a&&"Fraction"!==a))return"0"!==(i=s(e,t)).toString()?0<i?1:-1:u(n,a);if("Array"===n||"Matrix"===n||"Array"===a||"Matrix"===a)return 0!==(i=function e(t,i){if(r.isSparseMatrix(t)&&r.isSparseMatrix(i))return c(t.toJSON().values,i.toJSON().values);if(r.isSparseMatrix(t))return e(t.toArray(),i);if(r.isSparseMatrix(i))return e(t,i.toArray());if(r.isDenseMatrix(t))return e(t.toJSON().data,i);if(r.isDenseMatrix(i))return e(t,i.toJSON().data);if(!Array.isArray(t))return e([t],i);if(!Array.isArray(i))return e(t,[i]);return c(t,i)}(e,t))?i:u(n,a);if(n!==a)return u(n,a);if("Complex"===n)return function(e,t){if(e.re>t.re)return 1;if(e.re<t.re)return-1;if(e.im>t.im)return 1;if(e.im<t.im)return-1;return 0}(e,t);if("Unit"===n)return e.equalBase(t)?h(e.value,t.value):c(e.formatUnits(),t.formatUnits());if("boolean"===n)return l(e,t);if("string"===n)return u(e,t);if("Object"===n)return function(e,t){var i=Object.keys(e),n=Object.keys(t);i.sort(u),n.sort(u);var a=c(i,n);if(0!==a)return a;for(var r=0;r<i.length;r++){var o=h(e[i[r]],t[n[r]]);if(0!==o)return o}return 0}(e,t);if("null"===n)return 0;if("undefined"===n)return 0;throw new TypeError('Unsupported type of value "'+n+'"')}});function c(e,t){for(var i=0,n=Math.min(e.length,t.length);i<n;i++){var a=h(e[i],t[i]);if(0!==a)return a}return e.length>t.length?1:e.length<t.length?-1:0}return h.toTex=void 0,h}},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(70),i=function(){function i(e,t){(0,a.default)(this,i),this.type=o.ION,this.name=e.name,this.valence=e.valence,this.searchName=this.name+this.valence,this._mol=t,this.dat=e}return(0,r.default)(i,[{key:"mol",get:function(){return this._mol},set:function(e){this.setMol(e)}},{key:"setMol",value:function(e){this.container&&e<0&&(e=0),isNaN(e)&&(e=0),this._mol=e}},{key:"getAlpha",value:function(){return 1}},{key:"getMol",value:function(){return this.mol}},{key:"getValence",value:function(){return this.dat.valence}},{key:"deepClone",value:function(){return new i(this.dat,this.mol)}},{key:"clone",value:function(){return{name:this.name,dat:this.dat,mol:this.mol,type:this.type,valence:this.dat.valence}}},{key:"restoreFromEasyClone",value:function(){}}]),i}();e.exports=i},function(e,t,i){var n=i(82),a=i(148);e.exports=i(76)?function(e,t,i){return n.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t){t.memoize=function(a,r){return function e(){"object"!=typeof e.cache&&(e.cache={});for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=r?r(t):JSON.stringify(t);return n in e.cache?e.cache[n]:e.cache[n]=a.apply(a,t)}},t.maxArgumentCount=function(e){return Object.keys(e.signatures||{}).reduce(function(e,t){t=(t.match(/,/g)||[]).length+1;return Math.max(e,t)},-1)},t.callWithRightArgumentCount=function(e,t,i){return Object.keys(e.signatures||{}).reduce(function(e,t){t=(t.match(/,/g)||[]).length+1;return Math.max(e,t)},-1)}},function(e,t,i){"use strict";var O=i(49);t.name="algorithm01",t.factory=function(e,t,i,b){var x=e.DenseMatrix;return function(e,t,i,n){var a=e._data,r=e._size,o=e._datatype,s=t._values,l=t._index,h=t._ptr,e=t._size,t=t._datatype;if(r.length!==e.length)throw new O(r.length,e.length);if(r[0]!==e[0]||r[1]!==e[1])throw new RangeError("Dimension mismatch. Matrix A ("+r+") must match Matrix B ("+e+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");for(var c=r[0],u=r[1],o="string"==typeof o&&o===t?o:void 0,d=o?b.find(i,[o,o]):i,p=[],f=0;f<c;f++)p[f]=[];for(var I=[],g=[],m=0;m<u;m++){for(var y=m+1,v=h[m],C=h[m+1],M=v;M<C;M++)I[f=l[M]]=n?d(s[M],a[f][m]):d(a[f][m],s[M]),g[f]=y;for(f=0;f<c;f++)g[f]===y?p[f][m]=I[f]:p[f][m]=a[f][m]}return new x({data:p,size:[c,u],datatype:o})}}},function(e,t,u){"use strict";var d=u(17).nearlyEqual,p=u(116);t.name="larger",t.factory=function(e,i,t,n){var a=t(u(12)),r=t(u(63)),o=t(u(87)),s=t(u(64)),l=t(u(39)),h=t(u(35)),t=u(23),c=n("larger",{"boolean, boolean":function(e,t){return t<e},"number, number":function(e,t){return t<e&&!d(e,t,i.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!p(e,t,i.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"string, string":function(e,t){return t<e},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?o(e,t,c):r(t,e,c,!0):"sparse"===t.storage()?r(e,t,c,!1):l(e,t,c);return t},"Array, Array":function(e,t){return c(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return c(a(e),t)},"Matrix, Array":function(e,t){return c(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,c,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?s:h)(t,e,c,!0);return e},"Array, any":function(e,t){return h(a(e),t,c,!1).valueOf()},"any, Array":function(e,t){return h(a(t),e,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+t.operators.larger+"${args[1]}\\right)"},c}},function(e,t,o){"use strict";var s=o(13);t.name="unaryMinus",t.factory=function(e,t,i,n){var a=o(23),r=n("unaryMinus",{number:function(e){return-e},Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=r(e.value),t},"Array | Matrix":function(e){return s(e,r,!0)}});return r.toTex={1:a.operators.unaryMinus+"\\left(${args[0]}\\right)"},r}},function(e,t,h){"use strict";var c=h(23),u=h(40).stringify,d=h(40).escape,p=h(28).hasOwnProperty,f=h(54).getSafeProperty;t.name="SymbolNode",t.path="expression.node",t.math=!0,t.factory=function(a,e,t,i,n){var r=t(h(36)).register,t=(t(h(36)).compile,t(h(56)));function o(e){return a.Unit&&a.Unit.isValuelessUnit(e)}function s(e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}function l(e){throw new Error("Undefined symbol "+e)}return(s.prototype=new t).type="SymbolNode",s.prototype.isSymbolNode=!0,r(s.prototype.type,function(e,t,i){if(!(e instanceof s))throw new TypeError("No valid SymbolNode");t.undef=l,t.Unit=a.Unit,t.getSafeProperty=f,t.hasOwnProperty=p;var n=u(e.name);return p(i,e.name)?i[e.name]:e.name in t.math?"("+n+" in scope ? getSafeProperty(scope, "+n+") : getSafeProperty(math, "+n+"))":"("+n+" in scope ? getSafeProperty(scope, "+n+") : "+(o(e.name)?"new Unit(null, "+n+")":"undef("+n+")")+")"}),s.prototype.forEach=function(e){},s.prototype.map=function(e){return this.clone()},s.prototype.clone=function(){return new s(this.name)},s.prototype._toString=function(e){return this.name},s.prototype.toHTML=function(e){var t=d(this.name);return"true"==t||"false"==t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"==t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"==t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"==t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"==t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"uninitialized"==t?'<span class="math-symbol math-uninitialized-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},s.prototype._toTex=function(e){var t=!1;void 0===n[this.name]&&o(this.name)&&(t=!0);t=c.toSymbol(this.name,t);return"\\"===t[0]?t:" "+t},s}},function(e,t,i){"use strict";var n={ADD_EQUIPMENT:"ac9d902f1b9249b7b3c34c1d51b8c9a3",CALCULATE_DRAG_RECT:"659a9f66226cd5e1ce2140844a24a45e",CHANGE_BACKGROUND:"5d83aa1ef4be0cf5cd89f9a370c4c997",CHANGE_SYSTEM_SETTING:"0029996a4649d3f996f9920159b85e49",COPY_EQ:"5be133b47e8cc50e0f0facaee840143a",CREATE_EQUIPMENT:"e7c0a061a8159487760e13a1da8f3e4e",CREATE_EXPERIMENT:"ffea9382079dfce2798d107755789e35",DELETE_EQUIPMENT:"459e9a120494e97d1f7f9925e349502e",DRAG_COVER:"b2effa21f1863f1cd457ad355b882018",DRAG_SHOW_BORDER:"349c0c64a100b549fcd0057d105ce8a3",ENABLED_RIGHT_CLICK:"22fa3ed743bb7ca04733d061040aeac1",GET_CHILDREN_JSON:"7f0c1564a73fbf00023c8b4c9a698d69",GET_DATA:"c4f822fec11066d1ed15469717e6d9e1",GET_EQ_CLIENT_POS:"74611350fa4bf5add6ee777c1a85bdf8",GLASS_BAR_MIXER:"f092ac20f121949eaa09e9fa010e52f7",GLASS_SHEET_DRAG:"bedca8feed41d57ad2b3f9a06c2a886a",KEYBOARD:"388a56dbb62a010dc26a378981346247",LIST_SAVED_DATA:"330916536fee9e520470fc67c6f9da13",LISTEN_SCREEN_SHOT:"1894fae85eddab4cd9d29688e2909295",MEDICINE_DRAG:"e64b4be43ca881b138e0bafc18748f43",MOUSE_WHEEL:"3bbbb45f1132e99c6666d093f0d1d687",OLD_SCREEN_SHOT:"f30984c25d2590a90bddecee9b8cdddf",OPEN_API:"b3c4d427ff478f4773452bb81ec830d7",PASTE_EQ:"74e9b99180ef7a540bbc2de804e48069",PRELOAD_TEXTURE:"019f38efd7d0d78312b79bb5bf930f11",REDO_UNDO:"19ce4d14df0707fab7e06a4650821158",REQUEST_EXPERIENCE:"c64457f43b552169067d83c40ec132e7",RESTORE_DATA:"9578dfef10947dc072ea7300a23811a4",SAVE_DATA:"82963a666691ccbd70eee42aa93c1382",SCREEN_SHOT:"c6465d78760aeb98b132ae60212728ce",SDK_SCREEN_SHOT:"b4c14d1d886b65b5b1edcf29e598710e",SELECT_ALL:"d40dca8f15a41825a96e2d6969673297",SET_STAGE_RENDER_ENABLED:"ad7843b0767153e32a89af3bd8f7de28",SHAKE_STAGE:"c08654d70265ae933ff68aa0de5d8cac",SHOW_EXPERIMENT_BY_ID:"18dd5a2fdd78039f750480a059bbfa7b",SHOW_TEMP:"efaabe751f5a81c7e24e48a0d8290da1",SHOW_VERSION_NUMBER:"df93c9b80a98c4a0603f25e908d786f5",ZOOM_IN_OUT:"43c3eb6fae01cdc2d394dd9fea4c2264",communicate:{}};n.communicate.angular={},n.communicate.angular.CHANGE_EQUIPMENT_STATUS="ca3e3e268145b2f91140846ad951830d",n.communicate.angular.CHANGE_PANEL_STATUS="e98e70504bf175d1a70d27910df808dd",n.communicate.angular.HAPPEN_BOOM="fa3473ec7531531ee231ef6a9890e8ea",n.communicate.angular.SHOW_EQ_ATTRIBUTE="3dc61053bc91d256301bc072905d17be",n.document={},n.document.CREATE_NEW_DOCUMENT="afe83a1394e2b917e94bfdb5af3aae7d",n.gesture={},n.gesture.CLONE_GESTURE="eea5a61235fbc8068c6f7c7c1fd6ff2c",n.gesture.PUT_FIRE_GESTURE="7c5010adb14e9a3dc2dab507365926be",n.gesture.ROCK_GESTURE="fa850364957bbbfcd9ab75bac8d71b2d",n.interactive={},n.interactive.MOUSE_CURSOR_ENABLED="4bf40f70152cf061641bddd4dba69303",n.undo={},n.undo.AlcoholBurner={},n.undo.AlcoholBurner.LIGHT_ON_OFF="87b802500c6eaf4b740a61611252b32f",n.undo.DRAG_COVER_UNDO="18373e15e653186c89cd5f838033b569",n.undo.EQ_STOP_DRAG_UNDO="54b6663516d137cb7b8a1db1effb14d2",n.undo.GeiserBurette={},n.undo.GeiserBurette.GEISER_BURETTE_STOP_DRAG="586900a7d8eb01c79d6ab078962b9997",n.undo.NBDRAG_UNDO="a405d69232dd01d84614869376eb99f4",n.undo.SELECT_CHILDREN="e5b81bdb0033b00ac7aa1f94f27d02e7",n.undo.SELECT_MOVE="173eb060d294bb714c8c14122f2c92e8",n.undo.dragInlimitArea={},n.undo.dragInlimitArea.DRAG_INLIMIT_AREA_UNDO="73a003a17e89e21d081b441efe627226",n.undo.GENERAL_HIT_UNDO="4fe5a7d0bb0b41b2c6751dc9e5889e99",n.undo.limitDrag={},n.undo.limitDrag.LIMIT_DRAG_MOUSE_UP="1dbd98316c2772b39be230715bb21201",n.undo.limitDrag.LIMIT_DRAG_UNDO="794fdb86a6dc53a5e1bcf5067fc8c72c",n.registerCommand=function(e){e.registerCommand(n.ADD_EQUIPMENT,i(914)),e.registerCommand(n.CALCULATE_DRAG_RECT,i(915)),e.registerCommand(n.CHANGE_BACKGROUND,i(916)),e.registerCommand(n.CHANGE_SYSTEM_SETTING,i(917)),e.registerCommand(n.COPY_EQ,i(918)),e.registerCommand(n.CREATE_EQUIPMENT,i(919)),e.registerCommand(n.CREATE_EXPERIMENT,i(920)),e.registerCommand(n.DELETE_EQUIPMENT,i(929)),e.registerCommand(n.DRAG_COVER,i(930)),e.registerCommand(n.DRAG_SHOW_BORDER,i(931)),e.registerCommand(n.ENABLED_RIGHT_CLICK,i(932)),e.registerCommand(n.GET_CHILDREN_JSON,i(933)),e.registerCommand(n.GET_DATA,i(934)),e.registerCommand(n.GET_EQ_CLIENT_POS,i(935)),e.registerCommand(n.GLASS_BAR_MIXER,i(936)),e.registerCommand(n.GLASS_SHEET_DRAG,i(937)),e.registerCommand(n.KEYBOARD,i(938)),e.registerCommand(n.LIST_SAVED_DATA,i(939)),e.registerCommand(n.LISTEN_SCREEN_SHOT,i(940)),e.registerCommand(n.MEDICINE_DRAG,i(942)),e.registerCommand(n.MOUSE_WHEEL,i(943)),e.registerCommand(n.OLD_SCREEN_SHOT,i(944)),e.registerCommand(n.OPEN_API,i(945)),e.registerCommand(n.PASTE_EQ,i(946)),e.registerCommand(n.PRELOAD_TEXTURE,i(947)),e.registerCommand(n.REDO_UNDO,i(948)),e.registerCommand(n.REQUEST_EXPERIENCE,i(949)),e.registerCommand(n.RESTORE_DATA,i(950)),e.registerCommand(n.SAVE_DATA,i(951)),e.registerCommand(n.SCREEN_SHOT,i(952)),e.registerCommand(n.SDK_SCREEN_SHOT,i(953)),e.registerCommand(n.SELECT_ALL,i(954)),e.registerCommand(n.SET_STAGE_RENDER_ENABLED,i(986)),e.registerCommand(n.SHAKE_STAGE,i(987)),e.registerCommand(n.SHOW_EXPERIMENT_BY_ID,i(988)),e.registerCommand(n.SHOW_TEMP,i(989)),e.registerCommand(n.SHOW_VERSION_NUMBER,i(990)),e.registerCommand(n.ZOOM_IN_OUT,i(991)),e.registerCommand(n.communicate.angular.CHANGE_EQUIPMENT_STATUS,i(992)),e.registerCommand(n.communicate.angular.CHANGE_PANEL_STATUS,i(993)),e.registerCommand(n.communicate.angular.HAPPEN_BOOM,i(994)),e.registerCommand(n.communicate.angular.SHOW_EQ_ATTRIBUTE,i(995)),e.registerCommand(n.document.CREATE_NEW_DOCUMENT,i(996)),e.registerCommand(n.gesture.CLONE_GESTURE,i(997)),e.registerCommand(n.gesture.PUT_FIRE_GESTURE,i(998)),e.registerCommand(n.gesture.ROCK_GESTURE,i(999)),e.registerCommand(n.interactive.MOUSE_CURSOR_ENABLED,i(1e3)),e.registerCommand(n.undo.AlcoholBurner.LIGHT_ON_OFF,i(1001)),e.registerCommand(n.undo.DRAG_COVER_UNDO,i(379)),e.registerCommand(n.undo.EQ_STOP_DRAG_UNDO,i(381)),e.registerCommand(n.undo.GeiserBurette.GEISER_BURETTE_STOP_DRAG,i(378)),e.registerCommand(n.undo.NBDRAG_UNDO,i(377)),e.registerCommand(n.undo.SELECT_CHILDREN,i(1002)),e.registerCommand(n.undo.SELECT_MOVE,i(1003)),e.registerCommand(n.undo.dragInlimitArea.DRAG_INLIMIT_AREA_UNDO,i(380)),e.registerCommand(n.undo.GENERAL_HIT_UNDO,i(382)),e.registerCommand(n.undo.limitDrag.LIMIT_DRAG_MOUSE_UP,i(1004)),e.registerCommand(n.undo.limitDrag.LIMIT_DRAG_UNDO,i(383))},window.NBCommand=n,e.exports=n},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10);e.exports=function(){(0,h.default)(n,p);var i=d(n);function n(e){var t;return(0,o.default)(this,n),(t=i.call(this)).medConfData=e,t}return(0,s.default)(n,[{key:"getMedicineName",value:function(){return this.medConfData.chemical}},{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(n.prototype),"creationComplete",this).call(this),this.label&&this.label.children&&this.label.children[1]instanceof PIXI.Text&&(this.label.children[1].style.lineHeight=32,this.label.children[1].updateText())}},{key:"bottleLabelMask",value:function(){var e=new PIXI.Graphics;e.beginFill(16711680,1),e.x=this.label.x,e.y=this.label.y,e.drawRect(-2.5,-2.5,this.label.width+5,this.label.height+5),this.addChildAt(e,0),this.label.mask=e}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(n.prototype),"setJSON",this).call(this,e),e.headPos&&this.head&&(this.getEqLayer().addChild(this.head),this.head.x=e.headPos.x,this.head.y=e.headPos.y,this.head.rotation=Math.PI)}},{key:"toJSON",value:function(){var e;return this.head&&this.head.parent!==this&&(e={x:this.head.x,y:this.head.y}),(0,r.default)((0,l.default)((0,u.default)(n.prototype),"toJSON",this).call(this),{headPos:e})}}]),n}()},function(e,t,i){"use strict";e.exports={notNeedGasBagChineseName:["氮气","氢气","一氧化碳","甲烷","空气","氨气","二氧化硫"],notNeedGasBagEnglishName:["N2","H2","CO","CH4","O2，N2","NH3","SO2"],brownDropChineseName:["浓硝酸","稀硝酸","硝酸银溶液","双氧水","碘水","过氧化氢","氯水","溴水","甲基红","甲基橙","高锰酸钾","酸性高锰酸钾溶液","碘单质-碘化钾"],brownDropEnglishName:["HNO3_ln","HNO3_lx","AgNO3","H2O2%30&H2O%70","I2%0.008&H2O%99.992","H2O2","Cl2%3.5&H2O%96.5","Br2%1.2&H2O%98.8","C15H15N3O2%1&C2H5OH%99","C14H14N3SO3Na%1&H2O%99","KMnO4","KMnO4%0.59&H2SO4%1.96&H2O%97.45","I2%0.004&KI%2&KI3%1.5&H2O%96.496"],whiteDropChineseName:["石蕊","酚酞","品红溶液"],whiteDropEnglishName:["C7H7O4N%1&H2O%99","C20H14O4%1&H2O%99","C20H19N3%1&H2O%99.9"],alkBottleChineseName:["氢氧化钠","硅酸钠","氢氧化钾","氢氧化钡","氢氧化钙","氨水","碳酸钾","碳酸钠","碳酸氢钠","澄清石灰水"],alkBottleEngLishName:["NaOH","Na2SiO3","KOH","Ba(OH)2","Ca(OH)2","NH3H2O","K2CO3","Na2CO3","NaHCO3","Ca(OH)2_l"],brownWildMouthBottleChineseName:["硝酸银","氯化银","碘","碘化银","高锰酸钾","氧化汞"],brownWildMouthBottleEnglishName:["AgNO3","AgCl","I2","AgI","KMnO4","HgO"],showPercentageEnglishName:["CH3COOH"],showPercentageChineseName:["乙酸"],smallWhiteBottleENName:["C2H5OH%95&H2O%5"],smallWhiteBottleCNName:["小酒精瓶"],plasticDropChineseName:["氢氟酸"],plasticDropEnglishName:["HF"]}},function(e,t,IronSupport){"use strict";var a=IronSupport(4),i=IronSupport(0),n=i(IronSupport(9)),r=i(IronSupport(1)),o=i(IronSupport(2)),s=i(IronSupport(7)),l=i(IronSupport(5)),h=i(IronSupport(6)),c=i(IronSupport(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=IronSupport(8),p=IronSupport(21),f=IronSupport(11),IronSupport=function(){(0,l.default)(IronSupport,d);var t=u(IronSupport);function IronSupport(){var e;return(0,r.default)(this,IronSupport),(e=t.call(this)).equipment=[],e.z_index=5.05,e.hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e.name="IronSupport",e.CNName="铁架台",e.reversalBtnPos={type0:{x:0,y:743.15},type1:{x:-320,y:743.15},type2:{x:-160,y:880.65}},e.partsAry=["IronClamp","IronRing","IronClampSideLook","DoubleBuretClamp","IronSupport"],e}return(0,o.default)(IronSupport,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(IronSupport.prototype),"creationComplete",this).call(this),this._plateSideIsLeft=!1,this._plateSideIsCenter=!1,this.oriDragArea=this.dragArea,this.dragAreaCenter.allowGetBounds=!1,this.oriChoose={x:this.chooseArea.x,y:this.chooseArea.y},this.deviation=208,this._equipment_=[{x:0,y:-this.bg.height/2-5},{x:0,y:this.bg.height/2-this.deviation}];this.currentEqNum=0,this.maxEqNum=4,this.hasMaxEquipment=2,this.add_eq_ary=["IronRing","IronClamp","DoubleBuretClamp","IronClampSideLook"],this.bg.interactive=!1,this.on("hitted",this._addEvent_),this.on(NBDrag.event.PREPARE_DRAG,this.hideExtraConfigEq),this.plateDirection=0,this.changePlateCenter(!1),NBGesture.tapGesture(this.dragAreaCenter),this.dragAreaCenter.on(NBGesture.gesture.TAP,this.eqTap.bind(this)),NBGesture.tapGesture(this.dragAreaOri),this.dragAreaOri.on(NBGesture.gesture.TAP,this.eqTap.bind(this))}},{key:"plateSideIsLeft",get:function(){return this._plateSideIsLeft},set:function(e){void 0===this.__plateSideIsLeft&&(this.__plateSideIsLeft=!1),(e=!!e)!=this._plateSideIsLeft?(this._plateSideIsLeft=!!e,this.changePlateSide()):this._plateSideIsLeft=!!e}},{key:"plateSideIsCenter",get:function(){return this._plateSideIsCenter},set:function(e){void 0===this._plateSideIsCenter&&(this._plateSideIsCenter=!1),(e=!!e)!=this._plateSideIsCenter&&this.changePlateCenter(e)}},{key:"plateDirection",get:function(){return this._plateDirection},set:function(e){var t=this._plateDirection!==e;void 0===this._plateDirection&&(this._plateDirection=0),0===(this._plateDirection=e)?(this.plateSideIsCenter=!1,this.plateSideIsLeft=!1):1===e?(this.plateSideIsCenter=!1,this.plateSideIsLeft=!0):2===e&&(this.plateSideIsCenter=!0),t&&this.changedBoundsAndFreshSelect()}},{key:"changePlateCenter",value:function(e){var t,i;this.bg.plateCenter.visible=e,this.bg.plateCenter.alpha=!0,this.bg.plateCenter.allowGetBounds=e,this.bg.plate.visible=!e,this.bg.plate.allowGetBounds=!e,NBDrag.removeDrag(this),this.dragArea&&(this.dragArea.visible=!1),e?(this.dragArea=this.dragAreaCenter,t=-350-this.chooseArea.x,i=645-this.chooseArea.y,this.chooseArea.x=-350,this.chooseArea.y=648):(this.dragArea=this.dragAreaOri,this.dragAreaCenter.visible=!1,t=this.oriChoose.x-this.chooseArea.x,i=this.oriChoose.y-this.chooseArea.y,this.chooseArea.x=this.oriChoose.x,this.chooseArea.y=this.oriChoose.y),this.getChooseAreaChild().forEach(function(e){e.x+=t,e.y+=i,e.dragRect.x+=t,e.dragRect.y+=i}),this.dragArea.visible=!0,NBDrag.addDrag(this),this._plateSideIsCenter=e}},{key:"updateTopLayer",value:function(){this.saveTopObj&&this.saveTopObj.parent===this&&this.addChildAt(this.saveTopObj,this.children.length-1)}},{key:"_whetherUpdataEq_",value:function(e){return!!(e&&e.name&&this.add_eq_ary.includes(e.name))}},{key:"addedToStage",value:function(){}},{key:"addClamp",value:function(e){this.addChildWithSamePos(e),this._equipment_.push(e),e.dragRect={x:this.bar.x-110,y:this.bar.y-e.height,width:0,height:this.bar.height+e.height-50},e.y=Math.min(Math.max(-this.bg.height/2-4,e.y),this.bg.height/2-this.deviation-1),NBDrag.addDrag(e,e.dragRect,{bringToFront:!1}),this.updateEq(e)}},{key:"addRing",value:function(e){this.addChildWithSamePos(e),this._equipment_.push(e),e.dragRect={x:this.bar.x+10,y:this.bar.y-e.height,width:0,height:this.bar.height+e.height-50},e.y=Math.min(Math.max(-this.bg.height/2-4,e.y),this.bg.height/2-this.deviation-1),NBDrag.addDrag(e,e.dragRect,{bringToFront:!1}),this.updateEq(e)}},{key:"addDoubleBuretClamp",value:function(e){this.addChildWithSamePos(e);this._equipment_.push(e),e.dragRect={x:this.bar.x-340,y:this.bar.y-100,width:0,height:this.bar.height+100-50},NBDrag.addDrag(e,e.dragRect,{bringToFront:!1}),this.updateEq(e)}},{key:"addIronClampSideLook",value:function(e){this.addChildWithSamePos(e),this._equipment_.push(e),e.dragRect={x:this.bar.x+10,y:this.bar.y-e.height,width:0,height:this.bar.height+e.height-50},NBDrag.addDrag(e,e.dragRect,{bringToFront:!1}),this.updateEq(e)}},{key:"removeEq",value:function(e){e=this._equipment_.indexOf(e);e<0||(this._equipment_.splice(e,1),this.updateEq())}},{key:"updateEq",value:function(){var t=this;this._equipment_.sort(function(e,t){return e.y-t.y});for(var e=this._equipment_.length-1;0<e;e--){var i=this._equipment_[e];i instanceof d&&(i.parent===this?i.parent.addChildAt(i,i.parent.children.length-1):this.removeEq(i))}for(var n,a=this._equipment_.length,r=123,o=0;o<a;o++){var s,l=this._equipment_[o];this._whetherUpdataEq_(l)&&(l.dragRect.y=this._equipment_[o-1].y,s=(this._equipment_[o+1]||this._equipment_[o]).y,l.dragRect.height=o==a-2?s-this._equipment_[o-1].y-1:s-this._equipment_[o-1].y,3<a&&(n=o,t._equipment_[n-1]&&"IronClamp"===t._equipment_[n-1].name||t._equipment_[n-1]&&"DoubleBuretClamp"===t._equipment_[n-1].name?r="IronClamp"===l.name||"DoubleBuretClamp"===l.name?123:105:(t._equipment_[n-1]&&"IronRing"===t._equipment_[n-1].name||t._equipment_[n-1]&&"IronClampSideLook"===t._equipment_[n-1].name)&&(r="IronClamp"===l.name||"DoubleBuretClamp"===l.name?72:54),1<n&&(l.dragRect.y+=r),s=o,n=function(e){t._equipment_[e+1]&&"IronClamp"===t._equipment_[e-1].name||t._equipment_[e+1]&&"DoubleBuretClamp"===t._equipment_[e-1].name?r="IronClamp"===l.name||"DoubleBuretClamp"===l.name?123:105:(t._equipment_[e+1]&&"IronRing"===t._equipment_[e-1].name||t._equipment_[e+1]&&"IronClampSideLook"===t._equipment_[e-1].name)&&(r="IronClamp"===l.name||"DoubleBuretClamp"===l.name?72:54),1<e&&(l.dragRect.height-=r)},t._equipment_[s+1]&&"IronClamp"===t._equipment_[s+1].name||t._equipment_[s+1]&&"DoubleBuretClamp"===t._equipment_[s+1].name?(n(s),r="IronClamp"===l.name||"DoubleBuretClamp"===l.name?123:72):(t._equipment_[s+1]&&"IronRing"===t._equipment_[s+1].name||t._equipment_[s+1]&&"IronClampSideLook"===t._equipment_[s+1].name)&&(n(s),r="IronClamp"===l.name||"DoubleBuretClamp"===l.name?105:54),l.dragRect.height-=r))}this.updateTopLayer()}},{key:"_addEvent_",value:function(e){var t=this,i=e.dragObj;!this.chooseArea.area0.thisAreaWasFull&&i.hitTest(this.chooseArea)&&i.once("hasTweenComplete",function(){(this.chooseAreaObj=i)._currentHitObj_=t,i.removeEventListener(NBDrag.event.PREPARE_DRAG,i.eqAddToViewStack),NBDrag.removeDrag(i),i._cancelDragRect_=t._cancelDragRect_,i._mouseUp_=t._mouseUp_,t._dragRect_(i),NBDrag.addDrag(i,i.dragRect),t._addEvents_(i),i.newEvent={removeEvent:t._removeEvents_,addEvent:t._addEvents_}})}},{key:"_removeEvents_",value:function(e){e.removeEventListener("outRightBounds",e._cancelDragRect_),e.removeEventListener("outLeftBounds",e._cancelDragRect_),e.removeEventListener("outTopBounds",e._cancelDragRect_),e.removeEventListener("outBottomBounds",e._cancelDragRect_),e.removeEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_),e.currentHitObj=void 0,e.on(NBDrag.event.PREPARE_DRAG,e.eqAddToViewStack)}},{key:"_addEvents_",value:function(e){e.on("outRightBounds",e._cancelDragRect_),e.on("outLeftBounds",e._cancelDragRect_),e.on("outTopBounds",e._cancelDragRect_),e.on("outBottomBounds",e._cancelDragRect_),e.addEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_)}},{key:"_mouseUp_",value:function(){this.viewStack!=this.root.viewStack&&this.dragRect&&0==this.dragRect.enabled&&!TweenMax.isTweening(this)&&(this._currentHitObj_&&this._currentHitObj_._removeEvents_(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.root.viewStack.addChildWithSamePos(this),null!=this.currentArea&&(this.currentArea.thisAreaWasFull=!1,this.currentArea=void 0))}},{key:"_cancelDragRect_",value:function(){this.dragRect.enabled=!1,this.currentContainer=null}},{key:"_dragRect_",value:function(e){var t=this.chooseArea,i=e.localBounds;e.dragRect={x:t.x-i.x,y:t.y-(i.height+i.y)+20,height:t.height-40,width:t.width-i.width}}},{key:"eqPrepareDrag",value:function(){(0,s.default)((0,c.default)(IronSupport.prototype),"eqPrepareDrag",this).call(this);for(var e=0;e<this.children.length;e++)this.children[e]&&this.children[e].checkQualitativeFilterPaper&&this.children[e].checkQualitativeFilterPaper()}},{key:"hideExtraConfigEq",value:function(){if(0<f.extraConfigEq.length){for(var e=0;e<f.extraConfigEq.length;e++)f.extraConfigEq[e].emit(NBEvent.HIDE_WHOLE_BUTTON);f.extraConfigEq.length=0}}},{key:"showExtraConfigEq",value:function(){this.children.forEach(function(e){"IronClamp"===e.name&&(e.emit(NBEvent.SHOW_WHOLE_BUTTON,e),f.extraConfigEq.includes(e)||f.extraConfigEq.push(e))})}},{key:"changePlateSide",value:function(){this.dragArea.scale.x*=-1,this.bg.plate.scale.x*=-1;var t=(this.plateSideIsLeft?-1:1)*this.chooseArea.width;this.chooseArea.x+=t,this.oriChoose.x=this.chooseArea.x,this.getChooseAreaChild().forEach(function(e){e.x+=t,e.dragRect.x+=t})}},{key:"getChooseAreaChild",value:function(){for(var e=[],t=0;t<this.children.length;t++){var i=this.children[t];i&&i.isEquipment&&-1===this.partsAry.indexOf(i.name)&&e.push(i)}return e}},{key:"getConfigureData",value:function(){var e=(0,s.default)((0,c.default)(IronSupport.prototype),"getConfigureData",this).call(this);if(e&&e.confArr||(e={confArr:[]}),this.noChangeDir)return e;var t=[1,2,0];return e.confArr.push(p.getRadio("方向",t.indexOf(this.plateDirection),["左","中","右"],function(e){this.plateDirection=t[e]}.bind(this),this)),e}},{key:"reversal",value:function(){switch(this.plateDirection){case 0:this.plateDirection=2;break;case 1:this.plateDirection=0;break;case 2:this.plateDirection=1}}},{key:"eqPrepareDelete",value:function(){(0,s.default)((0,c.default)(IronSupport.prototype),"eqPrepareDelete",this).call(this);try{this.aidSupport&&this.aidSupport.parent&&this.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[this.aidSupport]})}catch(e){}}},{key:"toJSON",value:function(){var e=(0,n.default)({plateSideIsLeft:this.plateSideIsLeft,plateSideIsCenter:this.plateSideIsCenter},(0,s.default)((0,c.default)(IronSupport.prototype),"toJSON",this).call(this));return this.noChangeDir&&(e.noChangeDir=this.noChangeDir),e}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(IronSupport.prototype),"setJSON",this).call(this,e),this.noChangeDir=e.noChangeDir,this.plateSideIsLeft=e.plateSideIsLeft,this.plateSideIsCenter=e.plateSideIsCenter,this.plateSideIsLeft?this.plateDirection=1:this.plateSideIsCenter?this.plateDirection=2:this.plateDirection=0}}]),IronSupport}();e.exports=IronSupport},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(174);e.exports=function(e){return Object(n(e))}},function(e,t,i){var n=i(495),a=i(496),r=i(285),o=i(497);e.exports=function(e,t){return n(e)||a(e,t)||r(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){"use strict";var r=i(0)(i(61)),f=i(507),a={};a.rotaPoint=function(e,t,i){var n=e.x-t.x,a=e.y-t.y,e=Math.cos(i)*n-Math.sin(i)*a,a=Math.sin(i)*n+Math.cos(i)*a;return{x:e+t.x,y:a+t.y}},a.getLCM=function(e,t){return e*t/a.getGCD(e,t)},a.getGCD=function(e,t){for(var i=t<e?t:e,n=1,a=2;a<=i;a++)e%a==0&&t%a==0&&(n=a);return n},a.GetGroupGCD=function(e){var t=e.length;if(!(t<=1)){for(var n=e[0],i=1;i<t&&1!==(n=a.getGCD(n,e[i]));i++);return 1<n&&e.forEach(function(e,t,i){i[t]/=n}),e}},a.GaussianElimination=function(e,t){for(var s=0,l=[].concat(e),h=[].concat(t),i=function(t){var n=l[t][s];if(0===n){for(var e=!1,i=0;i<l.length;i++)(function(n){if(n===t)return;0!==l[n][s]&&(l[t].forEach(function(e,t,i){i[t]+=l[n][t]}),e=!0)})(i);if(!1===e)return{v:void 0};n=l[t][s]}if(0===n){for(var a=0;a<l.length;a++)if("break"===function(e){var n=l[e];if(0!==n[s])return l[t].forEach(function(e,t,i){i[t]+=n[t]}),"break"}(a))break;n=l[t][s]}1!==n&&(l[t].forEach(function(e,t,i){i[t]=e/n}),h[t]=h[t]/n);for(var r=l[t],o=0;o<l.length;o++)(function(e){if(e===t)return;var n=l[e][s];l[e].forEach(function(e,t,i){i[t]=e-n*r[t]}),h[e]=h[e]-n*h[t]})(o);s++},n=0;n<l.length;n++){var a=i(n);if("object"===(0,r.default)(a))return a.v}return h},a.newtonIterator=function(e,a,r,t){return function e(t,i){var n=t,n=n-a(n)/r(n);return isNaN(n)||n==1/0?NaN:i<=0||n===t?n:e(n,i-1)}(e,t||10)},a.newtonJacobianInterator=function(e,t,i,n){return function e(t,i,n,a){for(var r=t,o=[],s=0;s<i.length;s++)o.push(i[s].apply(null,r));for(var l=[],h=0;h<n.length;h++){var c=n[h],u=[];l.push(u);for(var d=0;d<c.length;d++)c[d]instanceof Function?u.push(c[d].apply(null,r)):u.push(c[d])}var p=f.inv(l),p=f.subtract(r,f.multiply(p,o));return a<=0||function(e,t){if(e.length===t.length){for(var i=0;i<e.length;i++)if(e[i]!==t[i])return;return 1}}(p,t)?p:e(p,i,n,a-1)}(e,t,i,n||10)},e.exports=a},function(e,t,i){"use strict";e.exports=function(e,t,i){if(null==i)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;t=e.constructor.max(e.abs(),t.abs());return n.lte(t.times(i))}return!1}},function(e,t,i){"use strict";t.name="algorithm10",t.factory=function(e,t,i,b){var x=e.DenseMatrix;return function(e,t,i,n){var a=e._values,r=e._index,o=e._ptr,s=e._size,e=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=s[0],h=s[1],c=i;"string"==typeof e&&(t=b.convert(t,d=e),c=b.find(i,[d,d]));for(var u=[],d=new x({data:u,size:[l,h],datatype:d}),p=[],f=[],I=0;I<h;I++){for(var g=I+1,m=o[I],y=o[I+1],v=m;v<y;v++){var C=r[v];p[C]=a[v],f[C]=g}for(var M=0;M<l;M++)0===I&&(u[M]=[]),f[M]===g?u[M][I]=n?c(t,p[M]):c(p[M],t):u[M][I]=t}return d}}},function(e,t,u){"use strict";var d=u(17).nearlyEqual,p=u(116);t.name="smaller",t.factory=function(e,i,t,n){var a=t(u(12)),r=t(u(63)),o=t(u(87)),s=t(u(64)),l=t(u(39)),h=t(u(35)),t=u(23),c=n("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!d(e,t,i.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!p(e,t,i.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"string, string":function(e,t){return e<t},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?o(e,t,c):r(t,e,c,!0):"sparse"===t.storage()?r(e,t,c,!1):l(e,t,c);return t},"Array, Array":function(e,t){return c(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return c(a(e),t)},"Matrix, Array":function(e,t){return c(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,c,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?s:h)(t,e,c,!0);return e},"Array, any":function(e,t){return h(a(e),t,c,!1).valueOf()},"any, Array":function(e,t){return h(a(t),e,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+t.operators.smaller+"${args[1]}\\right)"},c}},function(e,t,a){"use strict";var s=a(17).isInteger,l=a(14).resize;t.name="zeros",t.factory=function(r,i,e,t){var o=e(a(12));return(t=t("zeros",{"":function(){return"Array"===i.matrix?n([]):n([],"default")},"...number | BigNumber | string":function(e){if("string"!=typeof e[e.length-1])return"Array"===i.matrix?n(e):n(e,"default");var t=e.pop();return n(e,t)},Array:n,Matrix:function(e){var t=e.storage();return n(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return n(e.valueOf(),t)}})).toTex=void 0,t;function n(e,t){var n,i=(n=!1,e.forEach(function(e,t,i){r.isBigNumber(e)&&(n=!0,i[t]=e.toNumber())}),n)?new r.BigNumber(0):0;if(e.forEach(function(e){if("number"!=typeof e||!s(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}),t){var a=o(t);return 0<e.length?a.resize(e,i):a}a=[];return 0<e.length?l(a,e,i):a}}},function(e,t,ae){"use strict";var re=ae(134),oe=ae(13);t.name="parse",t.path="expression",t.factory=function(r,e,t,i){var n=t(ae(312)),o=t(ae(239)),s=t(ae(314)),a=t(ae(315)),l=t(ae(316)),h=t(ae(137)),c=t(ae(317)),u=t(ae(237)),d=t(ae(319)),p=t(ae(161)),f=t(ae(185)),I=t(ae(162)),g=t(ae(238)),m=t(ae(107));function y(e,t){if(1!=arguments.length&&2!=arguments.length)throw new re("parse",arguments.length,1,2);if(b=t&&t.nodes?t.nodes:{},"string"==typeof e)return x=e,q();if(Array.isArray(e)||e instanceof r.Matrix)return oe(e,function(e){if("string"!=typeof e)throw new TypeError("String expected");return x=e,q()});throw new TypeError("String or matrix expected")}var v={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},C={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},M={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},b={},x="",O="",A=0,T="",S="",w=v.NULL,B=0,D=null;function P(){A++,T=x.charAt(A)}function L(){return x.charAt(A-1)}function N(){return x.charAt(A+1)}function J(){for(w=v.NULL,O=S="";y.isWhitespace(T,B);)P();if("#"==T)for(;"\n"!=T&&""!=T;)O+=T,P();if(""!=T){if("\n"==T&&!B)return w=v.DELIMITER,S=T,void P();var e=T+N(),t=e+x.charAt(A+2);if(3==t.length&&C[t])return w=v.DELIMITER,S=t,P(),P(),void P();if(2==e.length&&C[e])return w=v.DELIMITER,S=e,P(),void P();if(C[T])return w=v.DELIMITER,S=T,void P();if(y.isDigitDot(T)){if(w=v.NUMBER,"."==T)S+=T,P(),y.isDigit(T)||(w=v.DELIMITER);else{for(;y.isDigit(T);)S+=T,P();y.isDecimalMark(T,N())&&(S+=T,P())}for(;y.isDigit(T);)S+=T,P();if(e=N(),"E"==T||"e"==T)if(y.isDigit(e)||"-"==e||"+"==e){if(S+=T,P(),"+"!=T&&"-"!=T||(S+=T,P()),!y.isDigit(T))throw ie('Digit expected, got "'+T+'"');for(;y.isDigit(T);)S+=T,P();if(y.isDecimalMark(T,N()))throw ie('Digit expected, got "'+T+'"')}else if("."==e)throw P(),ie('Digit expected, got "'+T+'"')}else{if(!y.isAlpha(T,L(),N())){for(w=v.UNKNOWN;""!=T;)S+=T,P();throw ie('Syntax error in part "'+S+'"')}for(;y.isAlpha(T,L(),N())||y.isDigit(T);)S+=T,P();w=M.hasOwnProperty(S)?v.DELIMITER:v.SYMBOL}}else w=v.DELIMITER}function _(){for(;J(),"\n"==S;);}function E(){B++}function k(){B--}function q(){A=0,T=x.charAt(0),B=0,D=null,J();var e=function(){var e,t,i=[];""!=S&&"\n"!=S&&";"!=S&&((e=R()).comment=O);for(;"\n"==S||";"==S;)0==i.length&&e&&(t=";"!=S,i.push({node:e,visible:t})),J(),"\n"!=S&&";"!=S&&""!=S&&((e=R()).comment=O,t=";"!=S,i.push({node:e,visible:t}));return 0<i.length?new a(i):(e||((e=new h("undefined","undefined")).comment=O),e)}();if(""!=S)throw w==v.DELIMITER?ne("Unexpected operator "+S):ie('Unexpected part "'+S+'"');return e}function R(){var e,i,t,n,a=function(){var e=function(){var e=F();for(;"or"==S;)_(),e=new p("or","or",[e,F()]);return e}();for(;"?"==S;){var t=D;D=B,_();var i=e,n=R();if(":"!=S)throw ie("False part of conditional expression expected");D=null,_();var a=R();e=new l(i,n,a),D=t}return e}();if("="!=S)return a;if(r.isSymbolNode(a))return e=a.name,_(),t=R(),new s(new m(e),t);if(r.isAccessorNode(a))return _(),t=R(),new s(a.object,a.index,t);if(r.isFunctionNode(a)&&r.isSymbolNode(a.fn)&&(n=!0,i=[],e=a.name,a.args.forEach(function(e,t){r.isSymbolNode(e)?i[t]=e.name:n=!1}),n))return _(),t=R(),new c(e,i,t);throw ie("Invalid left hand side of assignment operator =")}function F(){for(var e=j();"xor"==S;)_(),e=new p("xor","xor",[e,j()]);return e}function j(){for(var e=V();"and"==S;)_(),e=new p("and","and",[e,V()]);return e}function V(){for(var e=H();"|"==S;)_(),e=new p("|","bitOr",[e,H()]);return e}function H(){for(var e=G();"^|"==S;)_(),e=new p("^|","bitXor",[e,G()]);return e}function G(){for(var e=z();"&"==S;)_(),e=new p("&","bitAnd",[e,z()]);return e}function z(){for(var e,t,i,n=X(),a={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};a.hasOwnProperty(S);)t=a[e=S],_(),i=[n,X()],n=new p(e,t,i);return n}function X(){for(var e,t,i,n=W(),a={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};a.hasOwnProperty(S);)t=a[e=S],_(),i=[n,W()],n=new p(e,t,i);return n}function W(){for(var e,t,i,n=Z(),a={to:"to",in:"to"};a.hasOwnProperty(S);)t=a[e=S],_(),n="in"===e&&""===S?new p("*","multiply",[n,new m("in")],!0):(i=[n,Z()],new p(e,t,i));return n}function Z(){var e=[],t=":"==S?new h("1","number"):U();if(":"==S&&D!==B){for(e.push(t);":"==S&&e.length<3;)_(),")"==S||"]"==S||","==S||""==S?e.push(new m("end")):e.push(U());t=3==e.length?new g(e[0],e[2],e[1]):new g(e[0],e[1])}return t}function U(){for(var e,t,i,n=K(),a={"+":"add","-":"subtract"};a.hasOwnProperty(S);)t=a[e=S],_(),i=[n,K()],n=new p(e,t,i);return n}function K(){for(var e,t,i=Y(),n=i,a={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(a.hasOwnProperty(S))t=a[e=S],_(),n=Y(),i=new p(e,t,[i,n]);else{if(!(w===v.SYMBOL||"in"===S&&r.isConstantNode(i))&&(w!==v.NUMBER||r.isConstantNode(n)||r.isOperatorNode(n)&&"!"!==n.op)&&"("!==S)break;n=Y(),i=new p("*","multiply",[i,n],!0)}return i}function Y(){var e,t,i={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return i.hasOwnProperty(S)?(t=i[S],e=S,_(),i=[Y()],new p(e,t,i)):function(){var e,t,i,n;e=function(){var e,t,i,n;e=function(){var e=[];if(w==v.SYMBOL&&b.hasOwnProperty(S)){var t=b[S];if(J(),"("==S){if(e=[],E(),J(),")"!=S)for(e.push(R());","==S;)J(),e.push(R());if(")"!=S)throw ie("Parenthesis ) expected");k(),J()}return new t(e)}return function(){var e;if(w==v.SYMBOL||w==v.DELIMITER&&S in M)return e=S,J(),Q(new m(e));return function(){var e;return'"'!=S?function(){var e,t,i,n;if("["!=S)return function(){if("{"!=S)return function(){var e;return w!=v.NUMBER?function(){var e;if("("!=S)return function(){throw ie(""==S?"Unexpected end of expression":"'"===S?"Value expected. Note: strings must be enclosed by double quotes":"Value expected")}();if(E(),J(),e=R(),")"==S)return B--,J(),e=Q(e=new f(e));throw ie("Parenthesis ) expected")}():(e=S,J(),new h(e,"number"))}();var e,t={};do{if(J(),"}"!=S){if('"'==S)e=$();else{if(w!=v.SYMBOL)throw ie("Symbol or string expected as object key");e=S,J()}if(":"!=S)throw ie("Colon : expected after object key");J(),t[e]=R()}}while(","==S);if("}"==S)return J(),Q(new d(t));throw ie("Comma , or bracket } expected after object value")}();if(E(),J(),"]"!=S){var a=ee();if(";"==S){for(i=1,t=[a];";"==S;)J(),t[i]=ee(),i++;if("]"!=S)throw ie("End of matrix ] expected");k(),J(),n=t[0].items.length;for(var r=1;r<i;r++)if(t[r].items.length!=n)throw ne("Column dimensions mismatch ("+t[r].items.length+" != "+n+")");e=new o(t)}else{if("]"!=S)throw ie("End of matrix ] expected");k(),J(),e=a}}else k(),J(),e=new o([]);return Q(e)}():(e=$(),Q(new h(e,"string")))}()}()}(),t={"!":"factorial","'":"transpose"};for(;t.hasOwnProperty(S);)n=t[i=S],J(),e=Q(e=new p(i,n,[e]));return e}(),"^"!=S&&".^"!=S||(i="^"==(t=S)?"pow":"dotPow",_(),n=[e,Y()],e=new p(t,i,n));return e}()}function Q(e,t){for(var i;!("("!==S&&"["!==S&&"."!==S||t&&-1===t.indexOf(S));)if(i=[],"("===S){if(!(r.isSymbolNode(e)||r.isAccessorNode(e)||r.isFunctionNode(e)))return e;if(E(),J(),")"!==S)for(i.push(R());","===S;)J(),i.push(R());if(")"!==S)throw ie("Parenthesis ) expected");k(),J(),e=new I(e,i)}else if("["===S){if(E(),J(),"]"!==S)for(i.push(R());","===S;)J(),i.push(R());if("]"!==S)throw ie("Parenthesis ] expected");k(),J(),e=new n(e,new u(i))}else{if(J(),w!==v.SYMBOL)throw ie("Property name expected after dot");i.push(new h(S)),J();e=new n(e,new u(i,!0))}return e}function $(){for(var e="";""!=T&&'"'!=T;)"\\"==T&&(e+=T,P()),e+=T,P();if(J(),'"'!=S)throw ie('End of string " expected');return J(),e}function ee(){for(var e=[R()],t=1;","==S;)J(),e[t]=R(),t++;return new o(e)}function te(){return A-S.length+1}function ie(e){var t=te(),e=new SyntaxError(e+" (char "+t+")");return e.char=t,e}function ne(e){var t=te(),e=new SyntaxError(e+" (char "+t+")");return e.char=t,e}return y.isAlpha=function(e,t,i){return y.isValidLatinOrGreek(e)||y.isValidMathSymbol(e,i)||y.isValidMathSymbol(t,e)},y.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},y.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},y.isWhitespace=function(e,t){return" "==e||"\t"==e||"\n"==e&&0<t},y.isDecimalMark=function(e,t){return"."==e&&"/"!==t&&"*"!==t&&"^"!==t},y.isDigitDot=function(e){return"0"<=e&&e<="9"||"."==e},y.isDigit=function(e){return"0"<=e&&e<="9"},y}},function(e,t,i){var n=i(159);t.transform=function(e){return e&&e.isIndexError?new n(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}},function(e,t,i){"use strict";var o=i(181);e.exports=function e(t,i){for(var n=0,a=(t=o(t)?t.valueOf():t).length;n<a;n++){var r=t[n];Array.isArray(r)?e(r,i):i(r)}}},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),i=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"KINEMATIC",get:function(){return zpp_nape.util.ZPP_Flags.BodyType_KINEMATIC}},{key:"DYNAMIC",get:function(){return zpp_nape.util.ZPP_Flags.BodyType_DYNAMIC}},{key:"STATIC",get:function(){return zpp_nape.util.ZPP_Flags.BodyType_STATIC}}]),e}();e.exports=new i},function(e,t,i){var n=i(46);e.exports=function(e,t,i){return t in e?n(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2));e.exports=function(){function e(){(0,a.default)(this,e),this._particles=[],this._x=0,this._y=0}return(0,r.default)(e,[{key:"x",get:function(){return this._x},set:function(t){this._loop(function(e){e.x=t}),this._x=t}},{key:"y",get:function(){return this._y},set:function(t){this._loop(function(e){e.y=t}),this._y=t}},{key:"alpha",get:function(){return this._particles[0].alpha},set:function(t){this._loop(function(e){return e.alpha=t})}},{key:"mask",get:function(){return this._particles[0].mask},set:function(t){this._loop(function(e){return e.mask=t})}},{key:"_loop",value:function(e){this._particles.forEach(e)}},{key:"push",value:function(e){return this._particles.push(e),e.position.set(this._x,this._y),this}},{key:"render",value:function(t){var i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this._particles.forEach(function(e){e.render(t,i)})}},{key:"destroy",value:function(){this._particles.forEach(function(e){e.destroy()}),this._particles=[]}},{key:"setPosition",value:function(t,i){this._particles.forEach(function(e){e.position.set(t,i)}),this._x=t,this._y=i}},{key:"getPosition",value:function(){return{x:this._x,y:this._y}}}]),e}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).isFunnel=!0,e.cannotRubberLos=!0,e.maxTimeLength=1,e.minTimeLength=.01,e}return(0,o.default)(i,[{key:"getIronSupportContainer",value:function(e){return this.drop?(this.parent&&this.parent.parent&&"IronSupport"===this.parent.parent.name&&(i=this.toGlobal(this.drop),e.y>=i.y-50&&(t=this.parent.parent.children.find(function(e){return e.isBaseContainer}))),t):null;var t,i}},{key:"toJSON",value:function(){var e=(0,s.default)((0,c.default)(i.prototype),"toJSON",this).call(this);return 1!==this.maxTimeLength&&(e.maxTimeLength=this.maxTimeLength),e}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(i.prototype),"setJSON",this).call(this,e),void 0!==e.maxTimeLength&&(this.maxTimeLength=e.maxTimeLength)}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),s=n(i(24)),p=n(i(25)),l=n(i(1)),h=n(i(2)),c=n(i(5)),r=n(i(6)),o=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(i);return t=n?(e=(0,o.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var d=i(34),f=i(158),I=(i(10),i(8)),g=i(22),m=i(169),y=i(27),v=i(11),C={C2H2:{color:16773851,temp:v.TEMP_C2H4,heat:v.C2H4_HEAT_VALUE,smokeColor:[0,0,0],smokeScale:2},CO:{color:1541119,temp:v.TEMP_CO,heat:v.CO_HEAT_VALUE},"CH2=CH2":{color:15126453,temp:v.TEMP_C2H4,heat:v.C2H4_HEAT_VALUE,smokeColor:[34,34,34]},CH4:{color:1689343,temp:v.TEMP_CH4,heat:v.CO_HEAT_VALUE},H2:{color:8779775,temp:v.TEMP_H2,heat:v.C2H4_HEAT_VALUE},H2S:{color:2769239,temp:v.TEMP_H2S,heat:v.CO_HEAT_VALUE},Cl2:{H2:{color:16777215,temp:v.TEMP_H2_Cl2,heat:v.C2H4_HEAT_VALUE}}},i=function(e){(0,c.default)(o,e);var r=u(o);function o(e,t,i,n){var a;return(0,l.default)(this,o),(a=r.call(this)).medicine=null,a.equipment=e,a.viewStack=a.equipment.getViewStack(),a.particle=d.getParticle(d.particles[e.useSharpFire?"qingqi_fire_s":"qingqi_fire_b"]),a.particle.allowGetBounds=!1,a.smokeParticle=d.getParticle(d.particles.tubeSmoke),a.smokeParticle.allowGetBounds=!1,a.smokeParticle.visible=!1,a.smokeParticle.renderable=!1,n&&(a.particle.scale.x=n,a.particle.scale.y=n),a.lostFireCount=0,a.startAngle=0,a.pos=i,a.inStage=!0,a.bottleGasMed=new s.default,e.addedBottle&&e.addedBottle.gasContainer&&a.pos?a.fireInContainer():a.fireInStage(),a}return(0,h.default)(o,[{key:"burnGas",value:function(e){var t=this;if(this.medicine&&!(0<!this.medicine.length)&&this.particle&&this.parent){this.ignitableMedColor=[],this.ignitableMedRadio=[];for(var i=[],n=0,a=this.equipment,r=this.findLastContainer(a.parent),o=this.getBottle()||r,s=this.medicine,l=!1,h="addedBottle"===(this.parent.fireParticlePos?this.parent.fireParticlePos.find(function(e){return e.particle===t}).bindAttr:null)&&r&&r.medicineData?[].concat(r.medicineData.gasAry):[].concat(this.parent.medicineManager.airGas),c=0;c<s.length;c++){var u,d,p=s[c];p.mol<1e-8||v.CANBURNGAS.includes(p.name)&&(u=(d=this.calculateEquationGas(p,h)).product,d=d.specialMessage,0<u.length&&(l=!(this.lostFireCount=0),n+=p.mol,this.setMessage(p,d,i),d.includes("add_H2O")&&o&&o.addFume instanceof Function&&(o.addFume(p.mol),o.dripFume>o.dripMaxFume&&(o.dripFume-=o.dripMaxFume,o.tubeDrip.forceDripWater("H2O",o.dripMaxFume))),o&&(o.addFume||!this.inStage)&&o.medicineData&&o.addMedicine&&(o.addMedicine(u),d.includes("reduce_Cl2")&&v.NORMALCONTAINER.includes(o.name,.006)&&m.increaseFogAlpha(o)),p.mol/=2))}l?(this.particle.setParticleProp("endAlpha",n/(v.MAX_RELEASE_GAS+v.MIN_RELEASE_GAS)*.2),this.adjustParticle(n,this.ignitableMedRadio,this.ignitableMedColor),this.radiantHeat(n,this.ignitableMedRadio,i,e),a.addedBottle&&a.addedBottle.gasContainer&&this.pos&&-236<a.y?a.dragRect&&!1!==a.dragRect.enabled&&!0===this.inStage&&this.fireInContainer():!1===this.inStage&&this.fireInStage(),this.equipment&&this.equipment.coverByWatchGlass?(this.particle.setParticleProp("startSpeed",200),this.particle.setParticleProp("maxParticles",40)):(this.particle.setParticleProp("startSpeed",500),this.particle.setParticleProp("maxParticles",80)),this.particle.setParticleProp("minStartRotation",this.startAngle),this.particle.setParticleProp("maxStartRotation",this.startAngle),this.particle.render(e),this.smokeColor&&(this.smokeParticle.loaded&&(this.smokeParticle.setParticleProp("startColor",this.smokeColor),this.smokeParticle.setParticleProp("endColor",this.smokeColor)),this.smokeParticle.render(e))):this.destroy()}else this.destroy()}},{key:"setMessage",value:function(e,t,i){var n=C[e.name],a=n.color,r=n.temp,o=n.heat,s=n.smokeColor,n=n.smokeScale;t.includes("reduce_Cl2")&&"H2"===e.name&&(a=C.Cl2.H2.color,r=C.Cl2.H2.temp,o=C.Cl2.H2.heat,(t=this.getBottle()||this.findLastContainer(this.equipment.parent))&&!t.bottleSmoke&&(t.needBottleSmoke=!0)),e._temp_=r,this.ignitableMedColor.push([a>>16,a>>8&255,255&a]),this.ignitableMedRadio.push(e.mol),i.push({heat:o,temp:r}),s&&(this.smokeParticle.visible=!0,this.smokeParticle.renderable=!0,this.smokeColor=s,n&&this.smokeParticle.scale.set(n,n))}},{key:"getBottle",value:function(){var n=this;var e,a,r,t=this.equipment.coveredBottle;return!t&&this.parent instanceof I&&(this.particle.allowGetBounds=!0,e=this.parent.getObjectByAABB(this.particle.getBounds().clone(),!0),a=[],r=this.particle.parent.rotation+this.particle.rotation,e.forEach(function(e){var t=e.rotation,i={beaker:e,rotation:e.rotation};Math.abs(t-r)>Math.PI/3&&0<=t*r&&Math.abs(t)<Math.PI&&n.particle.hitTest(e)&&a.push(i)}),this.particle.allowGetBounds=!1,0<a.length&&(t=a[0].beaker)),t}},{key:"calculateEquationGas",value:function(a,e){var r=this,o=[],s=[],l=this.equipment.medicineManager,t=e.find(function(e){return e.name===a.name}),e=[].concat(e);t?t.setMol(t.mol+a.mol):e=e.concat(a);var h=g.generalFindEquation(e,void 0,l,void 0,void 0,void 0,a.name);t&&t.setMol(t.mol-a.mol);for(var c=a.mol/h.length,u=null,i=0;i<h.length;i++)(function(e){if("点燃"!==h[e].equationDat.Condition)return;if("H2S_O2"===h[e].equationDat.Name&&(u=!0),r.equipment.coverByWatchGlass){if("H2S_O2"===h[e].equationDat.Name)return}else if("H2S_O21"===h[e].equationDat.Name)return;(!r.inStage&&r.equipment&&!r.equipment.isBaseContainer&&r.equipment.currentContainer&&r.equipment.currentContainer.isBaseContainer?r.equipment.currentContainer:r.equipment).setReactStatus(h[e].equationDat,3e3);var t=h[e].reactants,i=h[e].products,e=t.find(function(e){return e.med.name===a.name});if(!e)return;var e=e.modules,n=c/e;t.forEach(function(e){var t=e.med.name,e=e.modules;t!==a.name&&("Cl2"===t&&s.push("reduce_Cl2"),o.push(new y(l.getMedicineData(t),-e*n)))}),i.forEach(function(e){var t=e.med.name,e=e.modules;t!==a.name&&("H2O"===t&&s.push("add_H2O"),o.push(new y(l.getMedicineData(t),e*n)))})})(i);return this.equipment.hasH2SBurn=u,{product:o,specialMessage:s}}},{key:"adjustParticle",value:function(e,t,i){for(var n=0;n<t.length;n++){var a=t[n]/e,r=i[n];r[0]*=a,r[1]*=a,r[2]*=a}for(var o=(0,p.default)(f.mix(i),16),s=[o>>16,o>>8&255,255&o],l=[Math.min(255,s[0]),Math.min(255,s[1]),Math.min(255,s[2])],h=0;h<l.length;h++){var c=s[h];s[h]=Math.max(0,c-70)}for(var u=0;u<s.length;u++){var d=s[u];s[u]=Math.max(0,d-120)}this.particle.setParticleProp("acceleration",{x:0,y:0}),this.particle.setParticleProp("startColor",l),this.particle.setParticleProp("endColor",s),e=e<2e-5?2e-5:e,this.equipment.isGlassCatheter}},{key:"radiantHeat",value:function(e,t,i,n){for(var a=0,r=0,o=this.equipment.getViewStack().scale.x,s=0;s<t.length;s++){var l=t[s]/e;a+=l*i[s].heat,r+=l*i[s].temp}var h=this.pos||{x:this.particle&&this.particle.x||0,y:this.particle&&this.particle.y||0},h=this.equipment.toGlobal(h);this.equipment.radiantHeat(a,new PIXI.Rectangle(h.x,h.y,50*o,30*o),n,r)}},{key:"destroy",value:function(e){var t=this.equipment.getViewStack().lastScaleTime;if(!(t&&(new Date).getTime()-t<100)&&(this.lostFireCount++,5<this.lostFireCount||e)){this.parent&&this.parent.removeChild(this);try{this.particle&&(this.particle.parent.removeChild(this.particle),this.particle.destroy()),this.smokeParticle&&(this.smokeColor=null,this.smokeParticle.parent.removeChild(this.smokeParticle),this.smokeParticle.destroy())}catch(e){}this.particleRemoved=!0}}},{key:"findLastContainer",value:function(e){return!this.equipment.isShapeCatheter&&(e!==this.viewStack&&(e&&e.isBaseContainer?e:this.findLastContainer(e.parent)))}},{key:"fireInContainer",value:function(){var e=this.equipment,t=this.pos||{x:0,y:0};e.addedBottle.gasContainer.addChild(this.smokeParticle),e.addedBottle.gasContainer.addChild(this.particle),this.particle.x=0,this.particle.y=0,this.particle.rotation=0,this.particle.bind(this.equipment,t.x,t.y),this.smokeParticle.x=0,this.smokeParticle.y=0,this.smokeParticle.rotation=0,this.smokeParticle.bind(this.equipment,t.x,t.y),this.startAngle=180*t.rotation/Math.PI,this.inStage=!1,this.parent=e}},{key:"fireInStage",value:function(){var e=this.pos;this.startAngle=0,this.addChild(this.smokeParticle),this.addChild(this.particle),this.equipment.addChild(this),e&&(this.particle.x=e.x,this.particle.y=e.y,this.particle.rotation=e.rotation,this.particle.bind(this.equipment),this.smokeParticle.x=e.x,this.smokeParticle.y=e.y,this.smokeParticle.rotation=e.rotation,this.smokeParticle.bind(this.equipment)),this.inStage=!0}},{key:"updateMedicine",value:function(e){this.medicine=e}},{key:"render",value:function(e){this.burnGas(e)}}]),o}(PIXI.Container);e.exports=i},function(e,t,i){var n=i(275),a=i(215);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t,i){e.exports=i(444)},function(e,t,i){e.exports=i(498)},function(e,t,i){"use strict";var s={},h=i(97);s.lineIntersect=function(e,t,i,n){var a=new h,r=e.x,o=e.y,s=t.x,l=t.y,e=i.x,t=i.y,i=n.x,n=n.y,s=s==r?(l-o)/(s-r+1e-7):(l-o)/(s-r),i=i==e?(n-t)/(i-e+1e-7):(n-t)/(i-e);return a.x=s==i?(s*r-i*e+t-o)/(s-i+1e-7):(s*r-i*e+t-o)/(s-i),a.y=s*a.x-s*r+o,a},s.isParallel=function(e,t,i,n){var a=t.x-e.x,t=t.y-e.y,e=n.x-i.x,i=n.y-i.y;return Math.abs(a*i-t*e)<.01},s.containsPoint=function(e,t,i){var n=t.x-e.x,a=t.y-e.y,r=i.x-e.x,o=i.y-e.y;return!!s.isParallel(t,e,i,e)&&n*r+a*o<=1e-10},e.exports=s},function(t,i,n){"use strict";var u=n(44),d=n(42),p=n(43),f=n(37),a=n(0),C=a(n(114)),w=a(n(24)),B=a(n(46)),M=a(n(96)),s=a(n(9));function b(e,t){var i,n=void 0!==d&&e[p]||e["@@iterator"];if(!n){if(f(e)||(n=function(e,t){if(e){if("string"==typeof e)return I(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?u(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:(i=function(e){throw e},r.toString=function(){return i.toString()},r),f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){return i.apply(this,arguments)}var o,s,l=!0,h=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:(s=function(e){h=!0,o=e},c.toString=function(){return s.toString()},c),f:function(){try{l||null==n.return||n.return()}finally{if(h)throw o}}};function c(e){return s.apply(this,arguments)}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var D=n(52),P={gesture:{TAP:"gesture.tap",TAP_MISS:"gesture.tapMiss",ZOOM:"gesture.zoom",ROTA:"gesture.rota",PAN:"gesture.pan",HOLD:"hold",CLONE:"gesture.clone"},root:null,zoomGesture:function(e,h,d){var i,p=h.root,f=p.viewStack,I=f.topLayer,g=f.selectionLayer,n="ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,m=!1,y={x:0,y:0,dx:0,dy:0},a=NaN,v=new w.default,t=PIXI.ticker.shared;d=d||{};var C={x:h.x,y:h.y},M={x:h.scale.x,y:h.scale.y};(0,B.default)(h,"activeZoomGesture",{set:function(e){!0===(this.__activeZoomGesture=e)?(t.remove(c),t.add(c)):t.remove(c)},get:function(){return this.__activeZoomGesture}}),h.resetZoomGesture=function(){C.x=0,C.y=0,M.x=1,M.y=1,h.x=0,h.y=0,h.scale.x=1,h.scale.y=1};var r,b=!(h.setTagetPosAndScale=function(e){C=e.targetPos,M=e.targetScale,h.root.emit(NBEvent.change.ZOOM,{zoom:e.targetScale.x})});function o(e,t){v.get(e.data.identifier)||p.getScaleAndDragAble()&&(2<=v.size&&!m||(t&&(b=!0),v.set(e.data.identifier,{x:e.data.global.x,y:e.data.global.y}),1===v.size&&n&&function(e){if(g.selectedObj&&g.selectedByDouble){for(var t=g.selectedObj.length,i=0;i<t;i++){if(g.selectedObj[i].getBounds().contains(e.data.global.x,e.data.global.y))break;var n=void 0,a=g.selectedObj[i].ctrlButtonAry;if(a instanceof Array)for(var r=0;r<a.length;r++){var o=a[r];o.allowGetBounds=!0;var s=o.getBounds();if(o.allowGetBounds=!1,s.contains(e.data.global.x,e.data.global.y)){n=!0;break}}if(0<nb.extraConfigEq.length){for(var l=[],h=0;h<nb.extraConfigEq.length;h++)l=l.concat(nb.extraConfigEq[h].ctrlButtonAry);for(var c=0;c<l.length;c++){var u=l[c];u.allowGetBounds=!0;var d=u.getBounds();if(u.allowGetBounds=!1,d.contains(e.data.global.x,e.data.global.y)){n=!0;break}}}if(n)break}i===t&&(O(g),p.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}))}}(e),b&&1===v.size&&n&&(y.id=e.data.identifier,y.x=e.data.global.x,y.y=e.data.global.y,x(),i=setTimeout(function(){var e;m=!0,i=null,f.selectionLayer.isOnHoldSelect=!0,f.selectActiveDraw?((e=f.selectActiveDraw).visible=!0,e.x=y.x,e.y=y.y):(t=new PIXI.Graphics,p.addChild(t),t.x=y.x,t.y=y.y,t.beginFill(16777215,.15),t.drawCircle(0,0,(chemicalMain.H+chemicalMain.W)/40),t.endFill(),f.selectActiveDraw=t),f.selectionDraw||(f.selectionDraw=new PIXI.Graphics,p.addChild(f.selectionDraw),f.selectionDraw.visible=!1);var t=f.selectionDraw;t.visible=!0,t.startPoint={x:y.x,y:y.y}},500)),2===v.size&&b&&!m&&(M.x=h.scale.x,M.y=h.scale.y,C.x=h.x,C.y=h.y,h.activeZoomGesture=!0,x())))}function s(e){var t;m?e.data.identifier===y.id?((t=f.selectionDraw)&&(t.clear(),t.visible=!1),g.selectedObj&&1<g.selectedObj.length&&g.selectedObj.map(function(e){(e=e.dragArea?e.dragArea:e).on(TouchEvent.TOUCH_BEGIN,A,!0,1)}),y.id=null,m=!1,v.clear(),b=!1,f.selectActiveDraw.visible=!1):v.delete(e.data.identifier):(f.selectActiveDraw&&f.selectActiveDraw.visible&&(f.selectActiveDraw.visible=!1),x(),v.clear(),b=!1)}function l(e){var t,i,n,a,r,o,s,l,h,c,u;m||(2<=v.size?x():(t=Math.abs(y.x-e.data.global.x),i=Math.abs(y.y-e.data.global.y),(2<t||2<i)&&x())),v.has(e.data.identifier)&&2===v.size&&b&&!m&&(n=e.data.identifier,h=v.get(n),v.forEach(function(e,t){n!=t&&(a=e)}),s=(h.x-e.data.global.x)/2,r=(h.y-e.data.global.y)/2,C.x-=s,C.y-=r,o=D.distance(e.data.global,a)/D.distance(h,a),l=M.x*o,void 0!==d.maxZoom&&l>d.maxZoom&&(o=(l=d.maxZoom)/M.x),void 0!==d.minZoom&&l<d.minZoom&&(o=(l=d.minZoom)/M.x),c=C.x,u=C.y,s=a.x-C.x,r=a.y-C.y,u-=r*=o-1,C.x=c-=s*=o-1,C.y=u,M.x=l,M.y=l,h.x=e.data.global.x,h.y=e.data.global.y),m&&e.data.identifier===y.id&&((r=f.selectionDraw).visible||(r.visible=!0,O(g),p.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]})),r.clear(),r.lineStyle(2,16777215,1),r.beginFill(16777215,.15),o=r.startPoint.x,s=r.startPoint.y,c=e.data.global.x,u=e.data.global.y,l=Math.min(o,c),h=Math.min(s,u),c=Math.max(o,c)-l,u=Math.max(s,u)-h,c<3||u<3||(r.drawRect(l,h,c,u),r.endFill(),u=I.renderSelectionArea(new PIXI.Rectangle(l,h,c,u)),g.selectedObj=u,g.selectedByDouble=!0,f.selectActiveDraw.x=e.data.global.x,f.selectActiveDraw.y=e.data.global.y))}function c(){var e=C.x-h.x,t=C.y-h.y;h.x+=.15*e,h.y+=.15*t,h.scale.x+=.15*(M.x-h.scale.y),h.scale.y+=.15*(M.y-h.scale.y),1<Math.abs(e)+Math.abs(t)&&h.emit(NBEvent.change.ZOOM,{zoom:h.scale.x});var i=h,n=i.x,a=i.y,r=p.W,o=p.H,s=i.scale.x,e=nb.canvasArea*s,t=e/2,s=e/2,r=-e+r+t,o=-e+o+s;function l(){i.root.emit(NBEvent.change.STAGE_MOVE,{x:i.x,y:i.y})}t<n?(i.x=t,l()):n<r&&(i.x=r,l()),s<a?(i.y=s,l()):a<o&&(i.y=o,l())}function x(){!m&&i&&(clearTimeout(i),i=null),f.selectActiveDraw&&(f.selectActiveDraw.visible=!1),f.selectionLayer.isOnHoldSelect=!1}function O(e){e.selectedByDouble&&e.selectedObj&&(e.selectedObj.map(function(e){(e=e.dragArea?e.dragArea:e).removeEventListener(TouchEvent.TOUCH_BEGIN,A)}),e.selectedObj=null)}e.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){o(e,!0)},!1,1),h.root&&!P.root&&(P.root=h.root,(r=h.root.viewStack.eqLayer).addEventListener(TouchEvent.TOUCH_BEGIN,o,!0),r.addEventListener(TouchEvent.TOUCH_MOVE,function(e){b&&2===v.size&&v.has(e.data.identifier)&&(e.stopPropagation(),l(e))},!0),r.addEventListener(TouchEvent.TOUCH_END,s,!0),r.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,s,!0));var u=null;function A(e){if(e.stopImmediatePropagation(),"touchstart"===e.type){if(!isNaN(a))return;a=e.data.identifier}u={x:e.data.global.x,y:e.data.global.y},this.addEventListener(TouchEvent.TOUCH_MOVE,T),this.addEventListener(TouchEvent.TOUCH_END,S),this.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,S),g.selectedObj&&g.selectedObj.map(function(e){e._lastTouchPoint_={x:e.x,y:e.y},e.isMoving=!1})}function T(e){var t,i,n;e.data.identifier!==a&&"touchmove"===e.type||(t=e.data.global.x-u.x,i=e.data.global.y-u.y,u={x:e.data.global.x,y:e.data.global.y},f.hasEqMove=2,n=f.scale.x,g.selectedObj&&(i/=n,(e=I.selectionGra).x+=t/=n,e.y+=i,g.selectedObj.map(function(e){e.x+=t,e.y+=i,e.isMoving=!0})))}function S(){a=NaN,this.off(TouchEvent.TOUCH_MOVE,T),this.off(TouchEvent.TOUCH_END,S),this.off(TouchEvent.TOUCH_END_OUTSIDE,S),g.selectedObj&&(f.hasEqMove=2,g.selectedObj.forEach(function(e){e.isMoving=!1}))}e.addEventListener(TouchEvent.TOUCH_MOVE,l),e.addEventListener(TouchEvent.TOUCH_END,s),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,s);e={getTouchCount:function(){return v.size}};return e},touchGesture:function(e,i,c){var s=window.__nb_max_quiet_count||50,l=window.__nb_max_quiet_time||5e3,t=navigator.userAgent,n=-1<t.indexOf("Android")||-1<t.indexOf("Adr"),a=i.root,u=a.viewStack,d=new w.default,r=PIXI.ticker.shared;c=c||{};var p={x:i.x,y:i.y},f={x:i.scale.x,y:i.scale.y};(0,B.default)(i,"activeZoomGesture",{set:function(e){!0===(this.__activeZoomGesture=e)?(r.remove(v),r.add(v)):r.remove(v)},get:function(){return this.__activeZoomGesture}}),i.resetZoomGesture=function(){p.x=0,p.y=0,f.x=1,f.y=1,i.x=0,i.y=0,i.scale.x=1,i.scale.y=1};var I=!(i.setTagetPosAndScale=function(e){p=e.targetPos,f=e.targetScale,i.root.emit(NBEvent.change.ZOOM,{zoom:e.targetScale.x})});function h(){I=function(){var e,t=!1,i=b(d);try{for(i.s();!(e=i.n()).done;){var n=(0,C.default)(e.value,2),a=(n[0],n[1]);if(a&&a.emptyTap){t=!0;break}}}catch(e){i.e(e)}finally{i.f()}return t}(),i.activeMutipleTouch=1<d.size,2===d.size&&(f.x=i.scale.x,f.y=i.scale.y,p.x=i.x,p.y=i.y,i.activeZoomGesture=!0),2!==d.size&&(i.activeZoomGesture=!1)}function o(e,t){d.get(e.data.identifier)||a.getScaleAndDragAble()&&(d.set(e.data.identifier,{emptyTap:!!t,pos:{x:e.data.global.x,y:e.data.global.y},lastPos:{x:e.data.global.x,y:e.data.global.y},quietCount:0,activeTime:(0,M.default)()}),n&&2<d.size&&d.clear(),y(),h())}function g(e){u.selectActiveDraw&&u.selectActiveDraw.visible&&(u.selectActiveDraw.visible=!1),a.getScaleAndDragAble()||d.clear();var t=!1;(2<=d.size||u.enableSingleMove)&&(t=!0),d.has(e.data.identifier)&&d.delete(e.data.identifier),h(),!t||I&&0!==d.size&&(1!==d.size||u.enableSingleMove)||u.checkStagePosChange(!0)}function m(e){var i,n,t,a,r,o,s,l,h=d.get(e.data.identifier);h&&(2===d.size&&(i=e.data.identifier,l=h.pos,d.forEach(function(e,t){i!=t&&(n=e.pos)}),o=(l.x-e.data.global.x)/2,s=(l.y-e.data.global.y)/2,p.x-=o,p.y-=s,t=D.distance(e.data.global,n)/D.distance(l,n),a=f.x*t,void 0!==c.maxZoom&&a>c.maxZoom&&(t=(a=c.maxZoom)/f.x),void 0!==c.minZoom&&a<c.minZoom&&(t=(a=c.minZoom)/f.x),r=p.x,o=p.y,s=n.x-p.x,l=n.y-p.y,o-=l*=t-1,p.x=r-=s*=t-1,p.y=o,f.x=a,f.y=a),function(e,t){var i=!1;2<d.size&&(i=!0);1===d.size&&I&&u.enableSingleMove&&(i=!0);i&&(u.leftMoveTime=(new Date).getTime(),i=(e.data.global.x-t.pos.x)/d.size,t=(e.data.global.y-t.pos.y)/d.size,i=u.x+i,t=u.y+t,u.x=i,u.y=t,u.root.emit(NBEvent.change.STAGE_MOVE,{x:i,y:t}))}(e,h),h.pos.x=e.data.global.x,h.pos.y=e.data.global.y,y())}function y(){var e,t=!1,i=(0,M.default)(),n=b(d);try{for(n.s();!(e=n.n()).done;){var a=(0,C.default)(e.value,2),r=a[0],o=a[1];o.lastPos.x===o.pos.x&&o.lastPos.y===o.pos.y?(o.quietCount++,(o.quietCount>s||i-o.activeTime>l)&&(d.delete(r),t=!0)):(o.lastPos.x=o.pos.x,o.lastPos.y=o.pos.y,o.quietCount=0,o.activeTime=i)}}catch(e){n.e(e)}finally{n.f()}t&&h()}function v(){var e=p.x-i.x,t=p.y-i.y;i.x+=.15*e,i.y+=.15*t,i.scale.x+=.15*(f.x-i.scale.y),i.scale.y+=.15*(f.y-i.scale.y),1<Math.abs(e)+Math.abs(t)&&i.emit(NBEvent.change.ZOOM,{zoom:i.scale.x})}e.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){o(e,!0)},!1,1),i.root&&!P.root&&(P.root=i.root,(t=i.root.viewStack.eqLayer).addEventListener(TouchEvent.TOUCH_BEGIN,o,!0),t.addEventListener(TouchEvent.TOUCH_MOVE,function(e){2===d.size&&d.has(e.data.identifier)&&(e.stopPropagation(),m(e))},!0),t.addEventListener(TouchEvent.TOUCH_END,g,!0),t.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,g,!0)),e.addEventListener(TouchEvent.TOUCH_MOVE,m),e.addEventListener(TouchEvent.TOUCH_END,g),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,g);e={getTouchCount:function(){return d.size}};return e},panGesture:function(a,r){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,e=3<arguments.length&&void 0!==arguments[3]&&arguments[3],t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=5<arguments.length&&void 0!==arguments[5]&&arguments[5];a.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){s&&e.stopImmediatePropagation(),a.__panGlobalPos__={x:e.data.global.x,y:e.data.global.y};function i(e){var t=e.data.global.x-a.__panGlobalPos__.x,i=e.data.global.y-a.__panGlobalPos__.y,i={target:a,data:e.data,offsetX:t,offsetY:i,type:"move",stopPropagation:function(){e.stopPropagation()}};r&&r.apply(o||a,[i]),a.emit(P.gesture.PAN,i),a.__panGlobalPos__={x:e.data.global.x,y:e.data.global.y}}function n(e){a.removeListener(TouchEvent.TOUCH_MOVE,i),a.removeListener(TouchEvent.TOUCH_END_OUTSIDE,n),a.removeListener(TouchEvent.TOUCH_END,n);var t={target:a,data:e.data,offsetX:0,offsetY:0,type:"end",stopPropagation:function(){e.stopPropagation()}};r&&r.apply(o||a,[t]),a.emit(P.gesture.PAN,t)}a.addEventListener(TouchEvent.TOUCH_MOVE,i),a.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,n),a.addEventListener(TouchEvent.TOUCH_END,n);var t={target:a,data:e.data,offsetX:0,offsetY:0,type:"begin",stopPropagation:function(){e.stopPropagation()}};r&&r.apply(o||a,[t]),a.emit(P.gesture.PAN,t)},e,t)},addGesture:function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;switch(t){case this.gesture.TAP:this.tapGesture(e,i,a);break;case this.gesture.PAN:this.panGesture(e,i,a);break;case this.gesture.HOLD:this.holdGesture(e,i,n)}e.hasGestures||(e.hasGestures=[]),e.hasGestures.push(t)},takeGesture:function(i){var t=i.touchIdSet;function e(e){e=e.data.identifier;t.delete(e),t.size<nb.HOT_FINGER_COUNT&&(i.isHot=!1)}i.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){var t=e.data.identifier;(e=i.touchIdSet).add(t),e.size>=nb.HOT_FINGER_COUNT&&(i.isHot=!0)}),i.addEventListener(TouchEvent.TOUCH_MOVE,function(){}),i.addEventListener(TouchEvent.TOUCH_END,e),i.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,e)},holdGesture:function(a){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:200,r=2<arguments.length?arguments[2]:void 0;a.touches=new w.default;var o,s=a.touches;function e(e){var t={target:a,data:e.data,type:"end",stopPropagation:function(){e.stopPropagation()}},i="touchend"===e.type?e.data.identifier:"mouse";s.get(i)&&(a.emit(P.gesture.HOLD,t),s.delete(i)),0===s.size&&clearInterval(o)}a.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){var t={target:a,data:e.data,type:"begin",stopPropagation:function(){e.stopPropagation()},startPos:{x:e.data.global.x,y:e.data.global.y}};"touchstart"===e.type?s.set(t.data.identifier,t):s.set("mouse",t),a.emit(P.gesture.HOLD,t),o=setInterval(function(){0!==s.size?(t.type="hold",s.forEach(function(e){a.emit(P.gesture.HOLD,e)})):clearInterval(o)},i)}),a.addEventListener(TouchEvent.TOUCH_MOVE,function(e){var t={target:a,data:e.data,type:"move",stopPropagation:function(){e.stopPropagation()}},i="touchmove"===e.type?e.data.identifier:"mouse",n=s.get(i);n&&40<D.distance(e.data.global,n.startPos)&&(a.emit(P.gesture.HOLD,t),r||s.delete(i),0===s.size&&clearInterval(o))}),a.addEventListener(TouchEvent.TOUCH_END,e),a.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,e)},doubleTouchGesture:function(t,i){var n,a,r,o=t.root.viewStack;this.tapGesture(t,function(e){"touch"===e.data.pointerType&&(a=n?(new Date).getTime()-a<200?(r?(i&&i.apply(t,[r]),r=null):(r={x:o.x,y:o.y,scaleX:o.scale.x,scaleY:o.scale.y},i&&i.apply(t,[])),n=null):(new Date).getTime():(n=!0,(new Date).getTime()))}),o.addEventListener(NBEvent.change.ZOOM,function(){r=null})},tapGesture:function(a,r,o){function t(e){this.__timer=(new Date).getTime(),this.__globalPoint__=(0,s.default)({},e.data.global)}function i(t){var i,n=!1;(0,M.default)()-this.__timer<200&&D.distance(this.__globalPoint__,t.data.global)<40&&(i={target:a,data:t.data,stopPropagation:function(){e.stopPropagation()}},r?r.apply(o||a,[i]):(t.isEmit=!0,a.emit(P.gesture.TAP,i)),n=!0),o&&o.notHandleEqTap&&(o.notHandleEqTap=!1),!1===n&&a.emit(P.gesture.TAP_MISS)}a.addEventListener(TouchEvent.TOUCH_BEGIN,t),a.addEventListener(TouchEvent.TOUCH_END,i),void 0===a.__gestureMap__&&(a.__gestureMap__={}),void 0===a.__gestureMap__[this.gesture.TAP]&&(a.__gestureMap__[this.gesture.TAP]=[]),a.__gestureMap__[this.gesture.TAP].push({begin:t,end:i})},removeGesture:function(e,t){if(e.__gestureMap__&&e.__gestureMap__[t]){for(var i=e.__gestureMap__[t],n=0;n<i.length;n++)e.removeEventListener(TouchEvent.TOUCH_BEGIN,i[n].begin),e.removeEventListener(TouchEvent.TOUCH_END,i[n].end);e.hasGestures&&(t=e.hasGestures.indexOf(t),e.hasGestures.splice(t,1),e.hasGestures.length||(e.hasGestures=null))}},cloneEqGesture:function(n,e){e=e||{};var a=new w.default;n.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){var t=e.data.identifier;void 0!==t&&2!==a.size&&(a.has(t)||(a.set(t,{x:e.data.global.x,y:e.data.global.y}),1===a.size&&(n.addEventListener(TouchEvent.TOUCH_MOVE,i),n.addEventListener(TouchEvent.TOUCH_END,l),n.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,l))))});var r=NaN,o=30,s=e.triggerDistance||100;function i(e){var t,i;2===a.size&&((t=e.data.identifier)===r?(i=D.distance(a.get(t),e.data.global),o<i&&(a.clear(),l())):(i=D.distance(a.get(t),e.data.global),s<i&&(n.emit(P.gesture.CLONE,{global:{x:e.data.global.x,y:e.data.global.y}}),a.clear(),l())))}function l(e){e&&(e=e.data.identifier,a.delete(e)),0===a.size&&(r=NaN,n.removeListener(TouchEvent.TOUCH_MOVE,i),n.removeListener(TouchEvent.TOUCH_END,l),n.removeListener(TouchEvent.TOUCH_END_OUTSIDE,l))}},hasGesture:function(e){return!!e.hasGestures}};window.NBGesture=P,t.exports=P},function(e,t,i){"use strict";var n={atomsMap:{H:1,He:4,Li:6.9,Be:9,B:10.8,C:12,N:14,O:16,F:19,Ne:20.2,Na:23,Mg:24.3,Al:27,Si:28.1,P:31,S:32.1,Cl:35.5,Ar:39.9,K:39.1,Ca:40.1,Sc:45,Ti:47.9,V:50.9,Cr:52,Mn:54.9,Fe:55.8,Co:58.9,Ni:58.7,Cu:63.5,Zn:65.4,Ga:69.7,Ge:72.6,As:74.9,Se:79,Br:79.9,Kr:83.8,Rb:85.5,Sr:87.6,Y:88.9,Zr:91.2,Nb:92.9,Mo:95.9,Tc:98,Ru:101,Rh:103,Pd:106,Ag:108,Cd:112,In:115,Sn:119,Sb:122,Te:128,I:127,Xe:131,Cs:133,Ba:137,La:139,Ce:140,Pr:141,Nd:144,Pm:145,Sm:150,Eu:152,Gd:157,Tb:159,Dy:163,Ho:165,Er:167,Tm:169,Yb:173,Lu:175,Hf:178,Ta:181,W:184,Re:186,Os:190,Ir:192,Pt:195,Au:197,Hg:201,Tl:204,Pb:207,Bi:209,Po:210,At:210,Rn:220,Fr:223,Ra:226,Ac:227,Pa:231,Th:232,Np:237,U:238,Am:243,Pu:244,Cm:247,Bk:247,Cf:251,Es:252,Fm:257,Md:258,No:259,Lr:262,Rf:261,Db:262,Sg:266,Bh:264,Hs:277,Mt:268,Ds:271,Rg:272},ionMap:{H:1,K:1,Na:1,Li:1,"Ag(NH3)2":1,Ag:1,NH4:1,Ba:2,Ca:2,Cu:2,Fe:2,Mg:2,Mn:2,Zn:2,Al:3,Cr:3,FeOH:2,C17H35COO:-1,C6H5O:-1,"Fe(C6H5O)6":-3,"Fe(CN)6":-3,OH:-1,Cl:-1,ClO3:-1,NO3:-1,HCO3:-1,H2PO4:-1,HPO4:-2,C6H7O7:-1,C6H6O7:-2,C6H5O7:-3,SO4:-2,CrO4:-2,ClO:-1,BrO:-1,CO3:-2,PO4:-3,CH3COO:-1,HSO3:-1,SO3:-2,HS:-1,S:-2,MnO4:-1,HSiO3:-1,SiO3:-2,AlO2:-1,ZnO2:-2,I:-1,S2O3:-2,C2O4:-2,Cr2O7:-2,SCN:-1,C2H5O:-1,H2BO3:-1,Br:-1,HCOO:-1,C6H5COO:-1,CH3CH2COO:-1,"CH3(CH2)3COO":-1,C9H7O4:-1,C4H5O5:-1,IO3:-1,I3:-1,S2:-2},changeableIon:{Fe:[2,3],S:[-2,-1],MnO4:[-2,-1],Cu:[1,2]},reductive:{"MnO4!1":22,HClO:21,PbO2:20,Cl2:19,HNO3:18,H2SO4:17,Br2:16,"Ag!1":15,"Fe!3":14,"Cu!2":13,I2:12,"H!1":11,"Pb!2":10,"Sn!2":9,"Fe!2":[8,-2],"Zn!2":7,"Al!3":6,"Mg!2":5,"Na!1":4,"Ca!2":3,"K!1":2,"Li!1":1,Ag:-1,Cu:-2,Pb:-3,Sn:-4,Fe:-5,Zn:-6,Al:-7,Mg:-8,Na:-9,Ca:-10,K:-11,"Br!1":-12,"Cl!1":-16,"I!1":-13,SO2:-14,"SO3!2":-14,"S!2":-15},ionGroupEqua:{HNO3:{Modulus:[4,2,2,2,2],Name:"H!1_NO3!1_e!1",ProductStatus:"NO2↑-H2O",Products:["NO2","H2O"],Reactants:["H!1","NO3!1","e!1"]},HNO3_x:{Modulus:[4,1,3,1,2],Name:"H!1_NO3!1_e!1",ProductStatus:"NO↑-H2O",Products:["NO","H2O"],Reactants:["H!1","NO3!1","e!1"]}}};n.ionsGroup=i(506),e.exports=n},function(e,t,i){"use strict";function a(e,t,i,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=i,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+i+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}(a.prototype=new Error).constructor=Error,a.prototype.name="ArgumentsError",a.prototype.isArgumentsError=!0,e.exports=a},function(e,t,i){"use strict";var n=i(86),c=i(49),a=(i(54).getSafeProperty,i(54).setSafeProperty,n.string),I=n.array,u=n.object,r=n.number,g=Array.isArray,m=r.isNumber,y=r.isInteger,v=a.isString,C=I.validateIndex;t.name="DenseMatrix",t.path="type",t.factory=function(d,e,t,p){function f(e,t){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!v(t))throw new Error("Invalid datatype: "+t);if(d.isMatrix(e))"DenseMatrix"===e.type?(this._data=u.clone(e._data),this._size=u.clone(e._size)):(this._data=e.toArray(),this._size=e.size()),this._datatype=t||e._datatype;else if(e&&g(e.data)&&g(e.size))this._data=e.data,this._size=e.size,this._datatype=t||e.datatype;else if(g(e))this._data=function e(t){for(var i=0,n=t.length;i<n;i++){var a=t[i];g(a)?t[i]=e(a):a&&!0===a.isMatrix&&(t[i]=e(a.valueOf()))}return t}(e),this._size=I.size(this._data),I.validate(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+n.types.type(e)+")");this._data=[],this._size=[0],this._datatype=t}}t=t(i(231)),(f.prototype=new t).type="DenseMatrix",f.prototype.isDenseMatrix=!0,f.prototype.storage=function(){return"dense"},f.prototype.datatype=function(){return this._datatype},f.prototype.create=function(e,t){return new f(e,t)},f.prototype.subset=function(e,t,i){switch(arguments.length){case 1:return function(e,t){if(!d.isIndex(t))throw new TypeError("Invalid index");{if(t.isScalar())return e.get(t.min());var i=t.size();if(i.length!=e._size.length)throw new c(i.length,e._size.length);for(var n=t.min(),a=t.max(),r=0,o=e._size.length;r<o;r++)C(n[r],e._size[r]),C(a[r],e._size[r]);return new f(function t(i,n,a,r){var e=r===a-1;var o=n.dimension(r);return(e?o.map(function(e){return C(e,i.length),i[e]}):o.map(function(e){C(e,i.length);e=i[e];return t(e,n,a,r+1)})).valueOf()}(e._data,t,i.length,0),e._datatype)}}(this,e);case 2:case 3:return function(e,t,i,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,r=t.size(),o=t.isScalar();d.isMatrix(i)?(a=i.size(),i=i.valueOf()):a=I.size(i);if(o){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),i,n)}else{if(r.length<e._size.length)throw new c(r.length,e._size.length,"<");if(a.length<r.length){for(var s=0,l=0;1===r[s]&&1===a[s];)s++;for(;1===r[s];)l++,s++;i=I.unsqueeze(i,r.length,l,a)}if(!u.deepEqual(r,a))throw new c(r,a,">");o=t.max().map(function(e){return e+1});h(e,o,n);n=r.length;!function i(n,a,r,o,s){var e=s===o-1,t=a.dimension(s);e?t.forEach(function(e,t){C(e),n[e]=r[t[0]]}):t.forEach(function(e,t){C(e),i(n[e],a,r[t[0]],o,s+1)})}(e._data,t,i,n,0)}return e}(this,e,t,i);default:throw new SyntaxError("Wrong number of arguments")}},f.prototype.get=function(e){if(!g(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new c(e.length,this._size.length);for(var t=0;t<e.length;t++)C(e[t],this._size[t]);for(var i=this._data,n=0,a=e.length;n<a;n++){var r=e[n];C(r,i.length),i=i[r]}return i},f.prototype.set=function(e,t,i){if(!g(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new c(e.length,this._size.length,"<");var n;h(this,e.map(function(e){return e+1}),i);for(var a=this._data,r=0,o=e.length-1;r<o;r++)n=e[r],C(n,a.length),a=a[n];return n=e[e.length-1],C(n,a.length),a[n]=t,this},f.prototype.resize=function(e,t,i){if(!g(e))throw new TypeError("Array expected");i=i?this.clone():this;return s(i,e,t)};var s=function(e,t,i){if(0!==t.length)return e._size=t.slice(0),e._data=I.resize(e._data,e._size,i),e;for(var n=e._data;g(n);)n=n[0];return n};function h(e,t,i){for(var n=e._size.slice(0),a=!1;n.length<t.length;)n.push(0),a=!0;for(var r=0,o=t.length;r<o;r++)t[r]>n[r]&&(n[r]=t[r],a=!0);a&&s(e,n,i)}return f.prototype.reshape=function(e,t){t=t?this.clone():this;return t._data=I.reshape(t._data,e),t._size=e.slice(0),t},f.prototype.clone=function(){return new f({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype})},f.prototype.size=function(){return this._size.slice(0)},f.prototype.map=function(t){var n=this,a=function(e,i){return g(e)?e.map(function(e,t){return a(e,i.concat(t))}):t(e,i,n)};return new f({data:a(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},f.prototype.forEach=function(t){var n=this,a=function(e,i){g(e)?e.forEach(function(e,t){a(e,i.concat(t))}):t(e,i,n)};a(this._data,[])},f.prototype.toArray=function(){return u.clone(this._data)},f.prototype.valueOf=function(){return this._data},f.prototype.format=function(e){return a.format(this._data,e)},f.prototype.toString=function(){return a.format(this._data)},f.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},f.prototype.diagonal=function(e){if(e){if(d.isBigNumber(e)&&(e=e.toNumber()),!m(e)||!y(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=0<e?e:0,i=e<0?-e:0,n=this._size[0],e=this._size[1],a=Math.min(n-i,e-t),r=[],o=0;o<a;o++)r[o]=this._data[o+i][o+t];return new f({data:r,size:[a],datatype:this._datatype})},f.diagonal=function(e,t,i,n,a){if(!g(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(d.isBigNumber(e)&&(e=e.toNumber()),!m(e)||!y(e)||e<1)throw new Error("Size values must be positive integers");return e}),i){if(d.isBigNumber(i)&&(i=i.toNumber()),!m(i)||!y(i))throw new TypeError("The parameter k must be an integer number")}else i=0;n&&v(a)&&(n=p.convert(n,a));var r,o=0<i?i:0,s=i<0?-i:0,l=e[0],a=e[1],h=Math.min(l-s,a-o);if(g(t)){if(t.length!==h)throw new Error("Invalid value array length");r=function(e){return t[e]}}else if(d.isMatrix(t)){i=t.size();if(1!==i.length||i[0]!==h)throw new Error("Invalid matrix length");r=function(e){return t.get([e])}}else r=function(){return t};n=n||(d.isBigNumber(r(0))?new d.BigNumber(0):0);var c=[];if(0<e.length)for(var c=I.resize(c,e,n),u=0;u<h;u++)c[u+s][u+o]=r(u);return new f({data:c,size:[l,a]})},f.fromJSON=function(e){return new f(e)},f.prototype.swapRows=function(e,t){if(!(m(e)&&y(e)&&m(t)&&y(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return C(e,this._size[0]),C(t,this._size[0]),f._swapRows(e,t,this._data),this},f._swapRows=function(e,t,i){var n=i[e];i[e]=i[t],i[t]=n},d.Matrix._storage.dense=f,d.Matrix._storage.default=f},t.lazy=!1},function(e,t,p){"use strict";var f=p(17).isInteger,I=p(14).size;t.name="pow",t.factory=function(a,r,e,t){var i=p(23),o=e(p(184)),s=e(p(51)),n=e(p(12)),l=e(p(302)),h=e(p(233));function c(e,t){if(r.predictable&&!f(t)&&e<0)try{var i=l(t),n=h(i);if((t===n||Math.abs((t-n)/t)<1e-14)&&i.d%2==1)return(i.n%2==0?1:-1)*Math.pow(-e,t)}catch(e){}return e*e<1&&t===1/0||1<e*e&&t===-1/0?0:r.predictable&&(e<-1&&t===1/0||-1<e&&e<0&&t===-1/0)?NaN:f(t)||0<=e||r.predictable?Math.pow(e,t):new a.Complex(e,0).pow(t,0)}function u(e,t){if(!f(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var i=I(e);if(2!=i.length)throw new Error("For A^b, A must be 2 dimensional (A has "+i.length+" dimensions)");if(i[0]!=i[1])throw new Error("For A^b, A must be square (size is "+i[0]+"x"+i[1]+")");for(var n=o(i[0]).valueOf(),a=e;1<=t;)1==(1&t)&&(n=s(a,n)),t>>=1,a=s(a,a);return n}function d(e,t){return n(u(e.valueOf(),t))}return(t=t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||0<=e||r.predictable?e.pow(t):new a.Complex(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){if(1===t.d)return e.pow(t);if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(e.valueOf(),t.valueOf())},"Array, number":u,"Array, BigNumber":function(e,t){return u(e,t.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(e,t){return d(e,t.toNumber())},"Unit, number":function(e,t){return e.pow(t)}})).toTex={2:"\\left(${args[0]}\\right)"+i.operators.pow+"{${args[1]}}"},t}},function(e,t,s){"use strict";var l=s(182).type,h=s(40).stringify,c=s(40).escape,u=s(23).escape;t.name="ConstantNode",t.path="expression.node",t.factory=function(e,n,t,i){var a=t(s(36)).register,t=(t(s(36)).compile,t(s(56)));function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t){if("string"!=typeof t)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof e)throw new TypeError('String expected for parameter "value"');this.value=e,this.valueType=t}else this.value=e+"",this.valueType=l(e);if(!o[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var o={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};return(r.prototype=new t).type="ConstantNode",r.prototype.isConstantNode=!0,a(r.prototype.type,function(e,t,i){if(!(e instanceof r))throw new TypeError("No valid ConstantNode");switch(e.valueType){case"number":return"BigNumber"===n.number?"math.bignumber("+h(e.value)+")":"Fraction"===n.number?"math.fraction("+h(e.value)+")":(function(e){if("string"!=typeof e||!/^[\-+]?((\d+\.?\d*)|(\d*\.?\d+))([eE][+\-]?\d+)?$/.test(e))throw new Error('Invalid numeric value "'+e+'"')}(e.value),e.value.replace(/^(0*)[0-9]/,function(e,t){return e.substring(t.length)}));case"string":return h(e.value);case"boolean":return"true"===String(e.value)?"true":"false";case"undefined":return"undefined";case"null":return"null";default:throw new TypeError('Unsupported type of constant "'+e.valueType+'"')}}),r.prototype.forEach=function(e){},r.prototype.map=function(e){return this.clone()},r.prototype.clone=function(){return new r(this.value,this.valueType)},r.prototype._toString=function(e){return"string"!==this.valueType?this.value:h(this.value)},r.prototype.toHTML=function(e){var t=c(this.value);switch(this.valueType){case"number":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},r.prototype._toTex=function(e){var t,i=this.value;switch(this.valueType){case"string":return"\\mathtt{"+u(h(i))+"}";case"number":return-1!==(t=i.toLowerCase().indexOf("e"))?i.substring(0,t)+"\\cdot10^{"+i.substring(t+1)+"}":i;default:return i}},r}},function(e,t,i){"use strict";var n=i(181);e.exports=function(e){return Array.isArray(e)||n(e)}},function(e,t,c){"use strict";var u=c(28).extend;t.name="divide",t.factory=function(e,t,i,n){var a=i(c(55)),r=i(c(51)),o=i(c(325)),s=i(c(12)),l=i(c(65)),h=i(c(35));return(n=n("divide",u({"Array | Matrix, Array | Matrix":function(e,t){return r(e,o(t))},"Matrix, any":function(e,t){var i;switch(e.storage()){case"sparse":i=l(e,t,a,!1);break;case"dense":i=h(e,t,a,!1)}return i},"Array, any":function(e,t){return h(s(e),t,a,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,o(t))}},a.signatures))).toTex={2:"\\frac{${args[0]}}{${args[1]}}"},n}},function(e,t,i){"use strict";var o=i(13);t.name="sqrt",t.factory=function(t,i,e,n){var a=n("sqrt",{number:r,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||i.predictable?e.sqrt():r(e.toNumber())},"Array | Matrix":function(e){return o(e,a,!0)},Unit:function(e){return e.pow(.5)}});function r(e){return 0<=e||i.predictable?Math.sqrt(e):new t.Complex(e,0).sqrt()}return a.toTex={1:"\\sqrt{${args[0]}}"},a}},function(e,t,i){"use strict";var r=i(13),o=i(17);t.name="isInteger",t.factory=function(e,t,i,n){var a=n("isInteger",{number:o.isInteger,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return r(e,a)}});return a}},function(e,t,u){"use strict";var d=u(17).nearlyEqual,p=u(116);t.name="compare",t.factory=function(i,n,e,t){var a=e(u(12)),r=e(u(63)),o=e(u(183)),s=e(u(64)),l=e(u(39)),h=e(u(35)),c=t("compare",{"boolean, boolean":function(e,t){return e===t?0:t<e?1:-1},"number, number":function(e,t){return e===t||d(e,t,n.epsilon)?0:t<e?1:-1},"BigNumber, BigNumber":function(e,t){return e.eq(t)||p(e,t,n.epsilon)?new i.BigNumber(0):new i.BigNumber(e.cmp(t))},"Fraction, Fraction":function(e,t){return new i.Fraction(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"string, string":function(e,t){return e===t?0:t<e?1:-1},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?o(e,t,c):r(t,e,c,!0):"sparse"===t.storage()?r(e,t,c,!1):l(e,t,c);return t},"Array, Array":function(e,t){return c(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return c(a(e),t)},"Matrix, Array":function(e,t){return c(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,c,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?s:h)(t,e,c,!0);return e},"Array, any":function(e,t){return h(a(e),t,c,!1).valueOf()},"any, Array":function(e,t){return h(a(t),e,c,!0).valueOf()}});return c.toTex=void 0,c}},function(e,t,i){"use strict";var n=i(0),o=n(i(9)),a=n(i(1)),r=n(i(2)),s=i(228),f=i(18),l=i(31),h=i(32),c=i(907),u=i(360),i=i(180),d=i.cannotAutoAddPlugHitObjAry,I=i.mustAutoAddPlugAry,g=i.canAutoAddPlugDragObjAry,m=i.doubleRectEqAry,y=i.doubleRectEqAry2,v=i.gasBottleHitData,C=i.specialEqAry,M=i.doubleRectContainer,i=function(){function p(){(0,a.default)(this,p)}return(0,r.default)(p,null,[{key:"checkCanDragInLimitArea",value:function(e){return e.canDragInLimitArea}},{key:"initDragInLimitArea",value:function(e){var t;e.canDragInLimitArea&&(l.register(h.ADDRUBBERPLUG),l.register(h.EXTRACTRUBBERPLUG),(t=e).canDragInLimitArea={enabled:!1},e.on("puff",function(){}),t.updateTransform(),t.getLimitData=p.getLimitData,t.setLimitData=p.setLimitData,t.reset=p.reset,t.dragEnable=p.dragEnable,t.on(NBEvent.HITTED_DRAGINLIMITAREA,p.operation),t.dragMoveCheckCollision=p.dragMoveCheckCollision)}},{key:"dragEnable",value:function(e){e?(this.canDragEnable=!0,this.on("outTopBounds",p.cancelDragRect)):(this.canDragEnable=!1,this._events.outTopBounds&&this.removeEventListener("outTopBounds",p.cancelDragRect))}},{key:"dragMoveCheckCollision",value:function(e){var t=e.eqLimitBounds||{},i=e.eqLimitPos||{},n=this;if(!e.isCoverGS){var a=p.getCurrenDragArea(n,e,t,i,!0),t=C[n.constructor.name]?p.adsorbSpecialEq(n,t,i,e):y[n.constructor.name]?p.adsorbDoubleRectEq(n,t,i,e):n.isGlassCatheter?p.adsorbGlassCatheter(n,t,i,e,void 0,a):p.adsorbGeneralEq(n,t,i,e),i=e.toLocal({x:0,y:0},n);if(t.x=t.x||i.x,t.y=t.y||i.y,n.viewStack==n.getViewStack()||!n.dragRect||null!=n.dragRect.enabled&&1!=n.dragRect.enabled||n.isGlassCatheter&&"Flume"===n.addedBottle.name&&n.addedBottle!==e){for(var r=0;r<n.children.length;r++)if(e===n.children[r])return;1<e.findChildDragInArea(["ElectricityPieceCopper"]).length||(e.chooseArea?p.checkCollisionChooseArea(n,e,t):e.currentEquipmentValue>e.maxEquipmentValue||p.checkCollisionSingle(n,e,t))}}}},{key:"checkCollisionSingle",value:function(e,t,i){var n=e;t.willAdsorbEqBounds||n.lastHitEquipment==t||t.isFull(n)||(e=u.createCloneBg(n.bg),t.addChildWithSamePos(e),e.rotation-=f.retrieveRotation(t.worldTransform),n.lastHitEquipment&&(n.lastHitEquipment.willAdsorbEqBounds||n.lastHitArea)&&n.removeGraphicsOrBg(),(t.willAdsorbEqBounds=e).allowGetBounds=!1,n.lastHitEquipment=t),t.willAdsorbEqBounds&&(i=p.drawBg(n,t,t.willAdsorbEqBounds,i),TweenMax.killTweensOf(t.willAdsorbEqBounds),TweenMax.to(t.willAdsorbEqBounds,.2,{x:i.x,y:i.y,rotation:0,ease:Linear.easeNone}))}},{key:"checkCollisionChooseArea",value:function(e,t,i){for(var n=e,a=0;a<t.chooseArea.children.length;a++){var r,o,s=t.chooseArea.children[a],l=p.findChooseArea(n,t);n.lastHitArea!=l&&s.willAdsorbEqBounds&&n.removeGraphicsOrBg(),n.lastHitEquipment&&(n.lastHitEquipment.willAdsorbEqBounds||n.lastHitArea)&&n.lastHitArea!=l&&n.removeGraphicsOrBg(),s.willAdsorbEqBounds||s!=l||p.isFull(t,s)||(r=u.createCloneBg(n.bg),t.addChildWithSamePos(r),o=(Math.abs(s.rotation)?t:s).worldTransform,t.isHardGlassTube||(r.rotation-=f.retrieveRotation(o)),n.lastHitArea&&(n.lastHitArea.willAdsorbEqBounds||n.lastHitArea)&&n.removeGraphicsOrBg(),(s.willAdsorbEqBounds=r).allowGetBounds=!1,n.lastHitEquipment=t,n.lastHitArea=s),s.willAdsorbEqBounds&&(l=p.drawBg(n,t,s.willAdsorbEqBounds,i,l,s),TweenMax.killTweensOf(s.willAdsorbEqBounds),TweenMax.to(s.willAdsorbEqBounds,.5,{x:l.x,y:l.y}))}}},{key:"drawBg",value:function(e,t,i,n,a,r){var o=e;if(o.bg){var s=o.bg.getLocalBounds().clone();-1===o.scale.x&&(i.scale.x=-1);var l=n.x-s.x*Math.cos(i.rotation)+o.localBounds.x,e=n.y-s.y*Math.cos(i.rotation)+o.localBounds.y;return"Thermometer"!==o.name&&"ThermometerPlus"!==o.name||(l=n.x-s.x*Math.cos(i.rotation)-15),t.isHardGlassTube&&(l+=12,i.rotation=r.rotation,0!=Math.abs(r.rotation)&&(a=(t=t.findLimitArea(t,t=a)).pos,t=t.rotation,a=a.y-e-20,e=e-(0*Math.sin(t)+a*Math.cos(t))+a,"StraightGlassCatheter"===o.name&&(e-=o.localBounds.height-20))),i.updateTransform(),{x:l,y:e}}}},{key:"isFull",value:function(e,t){if(t){var i=t.currentPlug;if(i){if(i.curValue&&i.curValue>=i.maxValue)return!0}else if(t.currentEquipmentValue>=t.maxEquipmentValue)return!0}else if(e.currentEquipmentValue>=e.maxEquipmentValue)return!0;return!1}},{key:"getLimitData",value:function(){var e=this;return e.currentPlug?{dragRect:e.dragRect&&!1!==e.dragRect.enabled?e.dragRect:void 0,currentContainer:e.currentContainer,currentPlug:e.currentPlug,eqNum:e.currentPlug.curValue}:e.currentContainer?{dragRect:e.dragRect,currentContainer:e.currentContainer,currentPlug:e.currentPlug,eqNum:e.currentContainer.currentEquipmentValue}:void 0}},{key:"setLimitData",value:function(e){var t=this;t.addEventListener(TouchEvent.TOUCH_END,p.mouseUp),t.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,p.mouseUp),e.dragRect&&void 0===e.dragRect.enabled&&(t.dragRect=e.dragRect,e.currentContainer&&(t.parent.constructor.name==e.currentContainer.name&&(t.currentContainer=t.parent),t.parent.parent.constructor.name==e.currentContainer.name&&(t.currentContainer=t.parent.parent),e.currentContainer.currentEquipmentValue&&(t.currentContainer.currentEquipmentValue=e.currentContainer.currentEquipmentValue)),e.currentPlug&&(t.parent.constructor.name==e.currentPlug.name&&(t.currentPlug=t.parent),e.eqNum&&"string"!=typeof t.currentPlug&&(t.currentPlug.curValue=e.eqNum,t.currentPlug.maxValue=3),t.parent.parent&&"ThreeNeckedFlask"!==t.parent.name&&(t.parent.parent.currentPlug=t.parent)),NBDrag.addDrag(t,e.dragRect),t.removeEventListener(NBDrag.event.PREPARE_DRAG,t.eqAddToViewStack),t.on("outTopBounds",p.cancelDragRect),t.reset({hitObj:t.currentContainer}))}},{key:"reset",value:function(e){var t;e&&e.hitObj&&((t=new c).overTurn(this,e.hitObj),t.resetRect(this,e.hitObj),t.adsorb(this,e.hitObj)),this.removeEventListener("hasTweenComplete",this.reset)}},{key:"getData",value:function(e,t){e=e.constructor.name,t=t.constructor.name;return s.getHitProperty(e,t)}},{key:"operation",value:function(e,t){var i=e.hitObj,n=this;this.removeDragTakeParent();var a=p.getData(this,i);if(!(this===i||TweenMax.isTweening(i)||a&&!this.isEmptyObject(a))&&a){if(this.currentContainer&&(!i.currentContainer||i.currentContainer!==this.currentContainer))if(this.currentContainer.getCollisionRelation(this,this.currentContainer)){if(!this.dragArea)return;p.mouseUp.apply(this)}else this.currentContainer=void 0;"IronWire"===this.name&&i.isGasBottle&&this.addToGasCollectingBottle(i),i.hasCallContainerCollision&&i.currentContainer&&1==i.typeInContainer&&!i.currentContainer.getCurrentCapacity()||i.isCoverGS&&!this.isGlassCatheter&&!v[this.name]||(this.on("hasTweenComplete",this.reset),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),i.isRubberPlug&&i.viewStack!=n.root.viewStack&&(i=i.parent),n.isGlassCatheter&&n.addedBottle||(e=e.fromSetJson,p.hasPlugJoin(n,i),i.chooseArea?p.hasChooseAreaJoin(n,i,e):"CondenserTubeForOrganic"===i.name?p.condenserTubeJoin(n,i):i.currentContainer&&"Flume"===i.currentContainer.name&&"DryingTube"!==i.name&&!i.currentPlug?p.flumeJoin(n,i):i.currentPlug?i.currentPlug.curValue<i.currentPlug.maxValue?p.singleHasPlugJoin(n,i,e):i.currentPlug.curValue===i.currentPlug.maxValue&&n.parent===i.currentPlug?(NBDrag.removeDrag(n),n.currentContainer=i,p.addEvents(n),p.addComplete(n,i,i.currentPlug,!0)):n.emit("full"):p.singleNoPlugJoin(n,i,t,e)))}}},{key:"clampOperation",value:function(e,t,i){var n=p.getData(t,i);TweenMax.isTweening(i)||n&&!this.isEmptyObject(n)||!n||("IronWire"===t.name&&i.isGasBottle&&t.addToGasCollectingBottle(i),i.hasCallContainerCollision&&i.currentContainer&&1==i.typeInContainer&&!i.currentContainer.getCurrentCapacity()||i.isCoverGS&&!this.isGlassCatheter&&!v[this.name]||(e.removeEventListener(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),i.isRubberPlug||(i.currentPlug?i.currentPlug.curValue<i.currentPlug.maxValue&&p.singleHasPlugJoin(conf,i):p.singleNoPlugJoin(e,t,i))))}},{key:"singleClampNoPlugJoin",value:function(e,t,i){var n,a=t;i.currentEquipmentValue||(i.currentEquipmentValue=0,i.maxEquipmentValue=3),i.currentEquipmentValue<i.maxEquipmentValue&&(n=0,i.backIndex&&(n=i.backIndex),i.addChildAtWithSamePos(e,n),i.currentEquipmentValue++,e.currentContainer=i,p.limitDragArea(a,i),p.adsorb(t,i,void 0,e),i=a.dragRect,a.dragRect=void 0,e.dragRect=i,"CrucibleTong"===e.name&&(e.dragRect.x-=42),"Forceps"===e.name&&(e.dragRect.x+=12,e.dragRect.y-=a.y),e.lastDragRect=(0,o.default)({},e.dragRect),p.clampAddEvents(e,t))}},{key:"singleHasPlugJoin",value:function(e,t,i){NBDrag.removeDrag(e),e.currentContainer=t,p.addPlug(e,t,void 0,i),p.addEvents(e)}},{key:"specialAddPlug",value:function(e,t){return I[e]===t}},{key:"singleNoPlugJoin",value:function(e,t,i,n){var a=e;t.currentEquipmentValue||(t.currentEquipmentValue=0,t.maxEquipmentValue=3),"ElectrolyticContainer"===t.name&&(t.maxEquipmentValue=4);var r=d.find(function(e){return e===a.name});if(p.specialAddPlug(a.name,t.name)&&(r=!1),0===t.currentEquipmentValue&&function(e){for(var t=0;t<g.length;t++)if(e.constructor.name==g[t])return!0;return!1}(t)&&!t.isCoverGS&&(!r||i)&&(!t.outsidePlug||i)){if(i)return a.currentContainer=t,NBDrag.removeDrag(a),p.addPlug(a,t),void p.addEvents(a);n||p.createOutsidePlug(a,t)}!(1<t.findChildDragInArea(["ElectricityPieceCopper"]).length)&&t.currentEquipmentValue<t.maxEquipmentValue?t.currentPlug?(a.currentContainer=t,NBDrag.removeDrag(a),p.addPlug(a,t),p.addEvents(a)):a.parent!==t&&(a.isGlassCatheter&&"Flume"===t.name?t.addChildAtWithSamePos(a,0):(i=0,t.backIndex&&(i=t.backIndex),t.addChildAtWithSamePos(a,i)),t.currentEquipmentValue++,a.currentContainer=t,NBDrag.removeDrag(a),a.on("hasTweenComplete",p.add_drag),p.limitDragArea(a,t),p.adsorb(e,t,void 0,void 0,n),a.lastDragRect=(0,o.default)({},a.dragRect),p.addEvents(a)):a.emit("full")}},{key:"condenserTubeJoin",value:function(e,t){t.currentEquipmentValue||(t.currentEquipmentValue=0),t.currentPlug&&t.currentPlug.curValue<t.currentPlug.maxValue||!t.currentPlug&&t.currentEquipmentValue<t.maxEquipmentValue?(NBDrag.removeDrag(e),e.currentContainer=t,p.addPlug(e,t),p.addEvents(e)):e.emit("full")}},{key:"flumeJoin",value:function(e,t){var i,n=e;t.currentEquipmentValue||(t.currentEquipmentValue=0,t.maxEquipmentValue=3),t.currentEquipmentValue<t.maxEquipmentValue?(i=0,t.backIndex&&(i=t.backIndex),t.addChildAtWithSamePos(n,i),t.currentEquipmentValue++,n.currentContainer=t,NBDrag.removeDrag(n),n.on("hasTweenComplete",p.add_drag),p.limitDragArea(n,t),p.adsorb(e,t),n.lastDragRect=(0,o.default)({},n.dragRect),p.addEvents(n)):n.emit("full")}},{key:"add_drag",value:function(){NBDrag.addDrag(this,this.dragRect,{bringToFront:!1}),this.removeEventListener("hasTweenComplete",p.add_drag)}},{key:"hasChooseAreaJoin",value:function(e,t,i){var n=e,e=p.findChooseArea(n,t);e&&(e.currentEquipmentValue||(e.currentEquipmentValue=0,e.maxEquipmentValue=3),n.currentContainer===t&&n.currentArea===e&&e.currentPlug==n.currentPlug||(e.currentPlug&&e.currentPlug.curValue<e.currentPlug.maxValue||!e.currentPlug&&e.currentEquipmentValue<e.maxEquipmentValue?(NBDrag.removeDrag(n),n.currentContainer=t,n.currentArea=e,p.addPlug(n,t,e,i),p.addEvents(n)):n.emit("full")))}},{key:"addEvents",value:function(e){0!=e.canDragEnable&&e.on("outTopBounds",p.cancelDragRect),y[e.name]&&e.on(NBDrag.event.DRAG_MOVE,p.dragMove),e.addEventListener(TouchEvent.TOUCH_END,p.mouseUp),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,p.mouseUp)}},{key:"clampAddEvents",value:function(e){e.on("outTopBounds",p.cancelDragRect),e.on(NBDrag.event.DRAG_MOVE,p.clampDragMove),e.on("hasTweenComplete",p.add_drag),e.addEventListener(TouchEvent.TOUCH_END,p.mouseUp),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,p.mouseUp)}},{key:"clampDragMove",value:function(){var e,t,i,n,a,r=this,o=r.holdObj;!r.dragRect||1!=r.dragRect.enabled&&null!=r.dragRect.enabled||(a=r.currentContainer.eqLimitPos,e=y[o.name],(t=r.parent)!==r.getViewStack().eqLayer&&(i=o.getChildCandle instanceof Function&&o.getChildCandle()?o.getChildCandle().height:0,n=t.toLocal(o,r),M[t.name]&&n.y+e.botY-i<t.localBounds.y+2*t.localBounds.height/5?r.dragRect.width&&((a=r.parent.toLocal(a,r.currentContainer)).x+=r.currentContainer.localBounds.x,a.y+=r.currentContainer.localBounds.y,"CrucibleTong"===r.name&&(a.x-=47),r.dragRect.x=a.x,a=0,a="IronWire"===o.name||"CopperWire"===o.name?Math.max(r.currentContainer.eqLimitBounds.width-o.localBounds.width+10,0):Math.max(0,r.currentContainer.eqLimitBounds.width-r.localBounds.width),r.dragRect.width=a,r.dragRect.enabled=!0):(r.dragRect.x=r.lastDragRect.x,M[t.name]&&(r.dragRect.x+=e.botX||0,"IronWire"===o.name&&(r.dragRect.y=r.lastDragRect.y-15)),r.dragRect.width=r.lastDragRect.width,r.dragRect.enabled=!0)))}},{key:"removeEvents",value:function(e){e.removeEventListener("outTopBounds",p.cancelDragRect),y[e.name]&&e.removeEventListener(NBDrag.event.DRAG_MOVE,p.dragMove),e.isClamp&&e.removeEventListener(NBDrag.event.DRAG_MOVE,p.clampDragMove),e.removeEventListener(TouchEvent.TOUCH_END,p.mouseUp),e.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,p.mouseUp)}},{key:"mouseUp",value:function(){var e=this,t=this;if(t.viewStack!=t.root.viewStack&&(!t.dragRect||t.dragRect&&0==t.dragRect.enabled||t.perfectHitObj()&&t.perfectHitObj().currentContainer===t.currentContainer)){if(!t.isDragging){if(!t.currentPlug)return;var i=t.currentPlug.bg;if(t.hitTest(i))return}p.removeEvents(t);var n=f.retrieveRotation(t.parent.worldTransform),a=t.parent,i=t.currentContainer;a.updateTransform(),t.updateTransform(),t.root.viewStack.updateTransform(),t.root.viewStack.addChildWithSamePos(t),t.rotateSpriteIcon&&!t.rotateSpriteIcon.visible&&(t.rotateSpriteIcon.visible=!0),i&&(t.emit("removeEquipment",i),i.emit("removeEquipment",t)),t.addedBottle&&(t.addedBottle=null),i&&i.currentEquipmentValue&&i.currentEquipmentValue--,t.currentPlug&&t.currentPlug.checkChildEqNum(),t.dragRect=void 0,i&&m[t.name]&&(i.currentPlug=void 0,i.removeCoverBody(),a.eqAddToViewStack()),t.currentPlug&&(t.children.includes(t.currentPlug)||(t.currentPlug=null,l.play(h.EXTRACTRUBBERPLUG)));a=new c;t.scaleHasChanged&&i&&a.overTurn(t,t.currentContainer),i&&a.resetRect(t,t.currentContainer),t.currentContainer=void 0,t.currentArea=void 0,0!=n&&(t.rotation=f.retrieveRotation(t.worldTransform),n=(n%=2*Math.PI)>Math.PI?2*Math.PI:n>-Math.PI?0:2*-Math.PI,t.isClamp&&t.holdObj&&(n=t.oriRotation),TweenMax.to(t,.2,{rotation:n,onComplete:function(){e.isGlassCatheter&&(e.extendSprite&&e.extendSprite.getVisible()&&e.extendSprite.showButton(),e.RGCRotateSpriteIcon&&e.RGCRotateSpriteIcon.getVisible()&&e.RGCRotateSpriteIcon.showButton())}}))}this.stopElectEffect&&(this.stopElectEffect=null)}},{key:"cancelDragRect",value:function(){var e=this;e.forceUpdateLiquidGra=!0,e.dragRect&&(e.dragRect.enabled=!1),p.checkCanDragInLimitArea(e)&&(e.canDragInLimitArea.enabled=!1),e.holdObj&&NBDrag.addDrag(e.holdObj),e.isClamp||e.on(NBDrag.event.PREPARE_DRAG,e.eqAddToViewStack),-1!==e.name.indexOf("ElectricityPiece")&&(e.stopElectEffect=!0)}},{key:"dragMove",value:function(){var e,t,i,n,a=this;a.dragRect&&(1==a.dragRect.enabled||null==a.dragRect.enabled)&&a.currentContainer&&(i=a.currentContainer.eqLimitPos,M[a.currentContainer.name]&&(e=y[a.name],(n=(a.parent.isRubberPlug?a.parent:a).parent)&&n!==a.getViewStack().eqLayer&&(t=a.getChildCandle instanceof Function&&a.getChildCandle()?a.getChildCandle().height:0,a.y+e.botY-t<2*n.localBounds.height/5?a.dragRect.width&&((i=a.parent.toLocal(i,a.currentContainer)).x+=a.currentContainer.localBounds.x-(e.botX||0),i.y+=a.currentContainer.localBounds.y,a.dragRect.x=i.x,i=(i=0)<a.currentContainer.eqLimitBounds.width-a.localBounds.width?a.currentContainer.eqLimitBounds.width-a.localBounds.width:0,a.dragRect.width=i,a.dragRect.enabled=!0,a.currentInArea="top",a.offset&&(a.dragRect.x+=a.offset.topX)):(a.dragRect.x=a.lastDragRect.x,a.dragRect.width=a.lastDragRect.width,a.dragRect.enabled=!0,a.currentInArea="bottom",a.offset&&(a.dragRect.x+=a.offset.bottomX)))))}},{key:"addPlug",value:function(e,t,i,n){i?i.currentPlug?p.addComplete(e,t,i.currentPlug,n):p.createAreaPlug(e,t,i):t.currentPlug&&t.currentPlug.curValue<t.currentPlug.maxValue?p.addComplete(e,t,t.currentPlug,n):p.createPlug(e,t)}},{key:"createPlug",value:function(e,t){var i=e,n=i.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig");n.localBounds=n.getLocalBounds().clone(),(t.currentPlug=n).lastRotation=0,n.on(NBDrag.event.PREPARE_DRAG,n.eqAddToViewStack),n.on("creationComplete",function(){n.addChildAtWithSamePos(i,0),n.currentContainer=t,n.choicePlugScale(t,0)}),l.play(h.ADDRUBBERPLUG),p.addComplete(i,t,n)}},{key:"createAreaPlug",value:function(e,t,i){var n=e,a=n.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig");a.localBounds=a.getLocalBounds().clone(),(i.currentPlug=a).currentArea=i,a.lastRotation=0,i.thisAreaWasFull=!0,a.on(NBDrag.event.PREPARE_DRAG,a.eqAddToViewStack),a.on("creationComplete",function(){a.addChildAtWithSamePos(n,0),a.currentContainer=t,a.choicePlugScale(t,0)}),l.play(h.ADDRUBBERPLUG),p.addComplete(n,t,a)}},{key:"createOutsidePlug",value:function(e,i){var n=e.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig");(i.outsidePlug=n).outsideContainer=i,n.localBounds=n.getLocalBounds().clone(),n.on(NBDrag.event.PREPARE_DRAG,n.eqAddToViewStack);var a=i.root.viewStack,e=i.originLocalBounds||i.localBounds||i.getLocalBounds(),r=i.toGlobal({x:e.x+e.width,y:e.y}),o=i.toGlobal({x:e.x,y:e.y});n.on("creationComplete",function(){n.choicePlugScale(i,0),NBDrag.addDrag(n);var e=f.retrieveRotation(i.worldTransform)/Math.PI,t=0<=e&&1!=e?r:o;n.x=t.x,n.y=t.y,a.addChildWithSamePos(n),e<0&&-.5<=e&&(n.x-=n.width),.5<e&&e<1&&(n.x-=n.width)})}},{key:"addComplete",value:function(e,t,i,n){var a=e;t.addChildWithSamePos(i);var r,e=p.getData(i,t);a.currentArea&&(t.addCoverBody(void 0,a.currentArea),(r=a.currentArea).currentPlug=i),t.chooseArea?p.areaAddComplete(a,t,i,r):p.singleAddComplete(a,t,i,e),p.addedPlugAttr(a,t,r,i,n)}},{key:"addedPlugAttr",value:function(e,t,i,n,a){var r=e;r.on("hasTweenComplete",function e(){NBDrag.addDrag(n);r.bottomAirBalloon?NBDrag.addDrag(r):NBDrag.addDrag(r,r.dragRect,{bringToFront:!1});r.removeEventListener("hasTweenComplete",e)}),t.chooseArea?p.areaAddedPlugAttr(r,t,i,a):p.singleAddedPlugAttr(r,t,a),r.lastDragRect=(0,o.default)({},r.dragRect)}},{key:"areaAddedPlugAttr",value:function(e,t,i,n){p.adsorb(e,t,i.currentPlug,void 0,n),e.currentPlug=i.currentPlug,p.limitDragArea(e,t),e.dragRect=p.convertRect(e,t,i.currentPlug,e.dragRect)}},{key:"singleAddedPlugAttr",value:function(e,t,i){var n,a=e;a.isGlassCatheter?(n=0,t.currentPlug.children.forEach(function(e){e.isGlassCatheter&&n++}),n=n>t.currentPlug.curValue?t.currentPlug.curValue:n,t.currentPlug.addChildAtWithSamePos(a,t.currentPlug.curValue-n||0)):t.currentPlug.addChildAtWithSamePos(a,0),p.adsorb(e,t,t.currentPlug,void 0,i),a.currentPlug=t.currentPlug,p.limitDragArea(a,t),a.dragRect=p.convertRect(a,t,t.currentPlug,a.dragRect),a.defaultYInPlug&&a.currentPlug&&a.currentPlug.bg&&a.ropePoint[1].y<a.defaultYInPlug+a.currentPlug.bg.height&&(a.ropePoint[1].y=a.defaultYInPlug+a.currentPlug.bg.height)}},{key:"getCurrenDragArea",value:function(e,t,i,n,a){var r=e;if(t.eqLimitBoundsAry){for(var o,s={},l=0;l<t.eqLimitBoundsAry.length;l++)if(a){var h=p.findChooseArea(r,t);if(h&&h.name===t.eqLimitBoundsAry[l].name){s=t.eqLimitBoundsAry[l];break}}else if(r.currentArea.name===t.eqLimitBoundsAry[l].name){s=t.eqLimitBoundsAry[l];break}for(o in i.width=s.width,i.height=s.height,s.pos)n[o]=s.pos[o];return"ThreeNeckedFlask"===t.name&&("area0"===r.currentArea.name&&(n.x-=7*Math.cos(r.currentArea.rotation),n.y-=7*Math.sin(r.currentArea.rotation)),"area2"===r.currentArea.name&&(n.x+=12*Math.cos(r.currentArea.rotation),n.y+=12*Math.sin(r.currentArea.rotation))),s}}},{key:"limitDragArea",value:function(e,t){var i=e;i.canDragInLimitArea.enabled=!0;var n=t.eqLimitBounds||{},a=i.localBounds,r=t.eqLimitPos||{};p.getCurrenDragArea(i,t,n,r);var o=r.x-i.localBounds.x,s=r.y-i.localBounds.y,e=0;"NonPorousRubberPlugBig"===i.parent.name&&(e=13),C[i.name]?p.specialEqAryDragRect(i,n,r,e):y[i.name]?p.doubleRectEqAryDragRect(i,t,n,r,e):i.isGlassCatheter?p.matchGlassCatheterDragRect(i,n,r,e,o,s):(i.dragRect={x:o,y:s-a.height,width:n.width-a.width,height:n.height},i.dragRect.y-=e)}},{key:"matchGlassCatheterDragRect",value:function(e,t,i,n,a,r){var o=e,e=o.localBounds;if("StraightGlassCatheter"===o.name&&o.currentContainer&&!o.currentContainer.chooseArea)return o.dragRect={x:i.x+12,y:r-e.height,width:t.width-24,height:60},void(o.dragRect.y-=n);if(o.currentContainer&&o.currentContainer.isHardGlassTube)return"area0"==o.currentArea.name?(o.dragRect={x:i.x+12,y:r-e.height,width:t.width-24,height:t.height},void(o.dragRect.y-=n)):(o.dragRect={x:i.x+12+6,y:r-e.height,width:t.width-24,height:t.height},void(o.dragRect.y+=n));if("Flume"===o.parent.name)return o.dragRect={x:a,y:r-e.height-50,width:t.width-20,height:t.height},null!=o.constructor.name.match("Right")&&(o.dragRect.x-=120),void("RotateGlassCatheter"===o.constructor.name&&(o.dragRect.x-=60));o.dragRect={x:i.x+12,y:r-e.height-n,width:t.width-24,height:t.height}}},{key:"doubleRectEqAryDragRect",value:function(e,t,i,n,a){var r=e,e=y[r.name];r.localBounds.height<i.height?r.dragRect={x:n.x-e.topX,y:n.y-r.localBounds.height,width:i.width-e.topWidth,height:r.localBounds.height-50}:r.dragRect={x:n.x-e.topX,y:n.y-r.localBounds.height,width:i.width-e.topWidth,height:i.height-e.offsetHeight},M[t.name]||(r.dragRect.x+=e.topX,r.dragRect.width-=r.localBounds.width,r.dragRect.width=r.dragRect.width<0?0:r.dragRect.width),r.dragRect.y-=a}},{key:"specialEqAryDragRect",value:function(e,t,i,n){var a=e,e=C[a.name];e.tubeHeight<t.height?a.dragRect={x:i.x-e.tubeX,y:i.y-a.localBounds.height-a.localBounds.y,width:t.width-e.tubeWidth,height:e.tubeHeight}:(a.dragRect={x:i.x-e.tubeX,y:i.y-(a.localBounds.y+a.localBounds.height),width:t.width-e.tubeWidth,height:t.height},a.dragRect.height+=n),"StraightGlassWithBalloon"===a.name&&(a.dragRect.y-=a.localBounds.y),"DryingTube"===a.name&&(a.dragRect.y+=a.localBounds.height/2),"ShapeGlassCatheter"!==a.name||a.openIsRight||(a.dragRect.x+=15),a.dragRect.y-=n}},{key:"adsorb",value:function(e,t,i,n,a){var r=e,o=t.eqLimitBounds||{},s=t.eqLimitPos||{};p.getCurrenDragArea(r,t,o,s),r.rotateSpriteIcon&&(r.rotateSpriteIcon.visible=!1);var l,h=f.retrieveRotation(t.worldTransform);if(n||(r.rotation=f.retrieveRotation(r.worldTransform)-h),n&&n.isClamp?(l={x:s.x+o.width/2-(r.localBounds.x+r.localBounds.width/2),y:s.y+o.height/2-(r.localBounds.y+r.localBounds.height)},"IronWire"===r.name&&(l.x+=40),"CrucibleTong"===n.name&&(l.x-=42),"Forceps"!==n.name||"CopperWire"!==r.name&&"IronWire"!==r.name||(l.x+=14)):l=C[r.constructor.name]?p.adsorbSpecialEq(e,o,s,t,i):y[r.constructor.name]?p.adsorbDoubleRectEq(e,o,s,t,i):r.isGlassCatheter?p.adsorbGlassCatheter(e,o,s,t,i,void 0,a):p.adsorbGeneralEq(e,o,s,t,i),r.currentArea&&r.currentArea.currentPlug&&(r.currentArea.currentPlug.rotation=r.currentArea.rotation),l.x=(l.x||0===l.x?l:r).x,l.y=(l.y||0===l.y?l:r).y,p.fixContainerPos(r,t,l,i),p.fixOtherBizarrerie(r,l),p.gasBottlehasGlassSheet(r,t,l),n)return l.y-=r.y,void p.moveTween(n,t,l,n.rotation);if("DryingTube"===r.name){var c=f.retrieveRotation(t.worldTransform),u=f.retrieveRotation(r.worldTransform),u=(Math.abs(u-c)>Math.PI?2*Math.PI-Math.abs(u-c):Math.abs(u-c))<=Math.PI/2?0:Math.PI,c=t.localBounds;return l.x=c.x+c.width/2,void p.moveTween(r,t,l,u)}if("FunnelSmall"===r.name){var d,c=f.retrieveRotation(t.worldTransform),u=f.retrieveRotation(r.worldTransform),u=Math.abs(u-c)>Math.PI?2*Math.PI-Math.abs(u-c):Math.abs(u-c),c=r.localBounds;return u>=Math.PI/2&&!r.hasFiltePaper&&t.eqLimitBounds&&t.eqLimitBounds.width>c.width?(d=Math.PI,u=r.dragRect,l.y+=c.height,l.x=t.eqLimitPos.x+r.localBounds.x+r.localBounds.width/2+t.eqLimitBounds.width/2,u.y+=c.height,u.x=c.x+c.width+t.eqLimitPos.x,u.width=t.eqLimitBounds.width-c.width,u.height=Math.min(t.eqLimitBounds.height,c.height),r.needBackflow=!0):(d=0,i||(l.x=t.eqLimitPos.x+t.eqLimitBounds.width/2-r.localBounds.width/2)),void p.moveTween(r,t,l,d)}p.moveTween(r,t,l,0,a)}},{key:"adsorbSpecialEq",value:function(e,t,i,n,a){var r,o,s=e,l=C[s.name],h=s.position,c=Math.min(l.tubeHeight/2,50);a&&0!==a.rotation&&(o=a.rotation,a.rotation=0),s.viewStack==s.getViewStack()&&(h=n.toLocal({x:0,y:0},s)),s.parent.isRubberPlug&&(u=s.parent.rotation,0!=Math.abs(s.parent.rotation)?(s.parent.rotation=0,h=n.toLocal({x:s.x,y:s.y},s.parent),s.parent.rotation=u):h=n.toLocal({x:s.x,y:s.y},s.parent));var e=f.retrieveRotation(n.worldTransform),u=t.width/Math.abs(Math.cos(e));if(-1e-5<h.x+l.tubeX-i.x&&h.x+l.tubeX+l.tubeWidth<i.x+u)return!(h.y+s.localBounds.y+s.localBounds.height>i.y+t.height)&&h.y+l.tubeY<i.y&&h.y+s.localBounds.height>i.y?s.viewStack==s.getViewStack()?{y:h.y}:{y:s.y}:(r=l.tubeHeight>t.height?a?a.toLocal({x:s.x,y:i.y-(l.tubeHeight-t.height)-l.tubeY},n):{x:s.x,y:i.y-(l.tubeHeight-t.height)-l.tubeY}:a?a.toLocal({x:s.x,y:i.y-l.tubeY-c},n):{x:s.x,y:i.y-l.tubeY-c},o&&a&&(a.rotation=o),{y:r.y});e=0,s=0;return a&&(e=a.choicePlugOffset(n).x,s=a.choicePlugWidth(n).width),r=h.x+l.tubeX-i.x<=-1e-5?l.tubeHeight>t.height?a?a.toLocal({x:a.x-l.tubeX+e,y:i.y-(l.tubeHeight-t.height)-l.tubeY},n):{x:i.x-l.tubeX,y:i.y-(l.tubeHeight-t.height)-l.tubeY}:a?a.toLocal({x:a.x-l.tubeX+e,y:i.y-l.tubeY-c},n):{x:i.x-l.tubeX,y:i.y-l.tubeY-c}:l.tubeHeight>t.height?a?a.toLocal({x:a.x-l.tubeX+s-l.tubeWidth-e,y:i.y-(l.tubeHeight-t.height)-l.tubeY},n):{x:i.x+u-l.tubeX-l.tubeWidth,y:i.y-(l.tubeHeight-t.height)-l.tubeY}:a?a.toLocal({x:a.x-l.tubeX+s-l.tubeWidth-e,y:i.y-l.tubeY-c},n):{x:i.x+u-l.tubeX-l.tubeWidth,y:i.y-l.tubeY-c},o&&a&&(a.rotation=o),{x:r.x,y:r.y}}},{key:"adsorbDoubleRectEq",value:function(e,t,i,n,a){var r,o=e,s=y[o.constructor.name],l=s.topX;M[n.name]||(l=0);var h,e=o.position;if(o.viewStack==o.getViewStack()&&(e=n.toLocal(o.getBounds())),(o.parent.isRubberPlug||o.parent.isClamp)&&(h=o.parent.rotation,o.parent.rotation=o.parent.isRubberPlug?0:h,e=n.toLocal({x:o.x,y:o.y},o.parent),o.parent.rotation=h),e.x+l>i.x&&e.x+l+s.topWidth<i.x+t.width){if(o.localBounds.height>t.height)return e.y+o.localBounds.height>i.y+t.height||e.y+s.botY<2*n.localBounds.height/5?(o.localBounds.width<t.width&&e.x>i.x&&e.x+o.localBounds.width<i.x+t.width?(h=o.parent.rotation,a&&(o.parent.rotation=0),r=a?a.toLocal({x:e.x,y:i.y-s.botY+2*n.localBounds.height/5},n):{x:e.x,y:i.y-s.botY+2*n.localBounds.height/5},a&&(o.parent.rotation=h)):r=a?a.toLocal({x:i.x-l,y:i.y-s.botY+2*n.localBounds.height/5},n):{x:i.x-l,y:i.y-s.botY+2*n.localBounds.height/5},{x:r.x,y:r.y}):{y:e.y};return e.y<i.y-50&&e.y+s.botY>i.y&&e.x+o.localBounds.width<i.x+t.width?{y:o.y}:{x:(r=a?a.toLocal({x:i.x-l,y:i.y-s.botY+2*n.localBounds.height/5},n):{x:i.x-l,y:i.y-s.botY+2*n.localBounds.height/5}).x,y:r.y}}e=o.getChildCandle instanceof Function&&o.getChildCandle()?o.getChildCandle().height:0,t=o.parent.rotation;return a&&(o.parent.rotation=0),r=a?a.toLocal({x:i.x-l,y:i.y-s.botY+2*n.localBounds.height/5+e},n):{x:i.x-l,y:i.y-s.botY+2*n.localBounds.height/5+e},a&&(o.parent.rotation=t),{x:r.x,y:r.y}}},{key:"adsorbGlassCatheter",value:function(e,t,i,n,a,r,o){var s,l=e,h=12,c=n.localBounds.y,u=41,d=l.position;l.viewStack==l.getViewStack()&&(d=n.toLocal({x:0,y:0},l)),/(GlassCatheter)$/.test(l.name)&&(n.isHardGlassTube?"StraightGlassCatheter"===l.name&&(h="HardGlassTube"===n.name?18:-6):a&&o&&0===n.worldRotation?(s=l.toGlobal({x:0,y:0}),e=a.toGlobal({x:0,y:0}),o=n.toGlobal({x:0,y:n.localBounds.y}),u=(e.y-s.y-(e.y-o.y))/l.getViewStack().scale.y):"StraightGlassCatheter"===l.name&&(u=l.localBounds.height-121));var p,f,r=r||l.currentArea;if(n.isHardGlassTube&&r){if("area0"==r.name)return{y:(I=a?a.toLocal({x:i.x+h,y:i.y-u+c},n):{x:i.x+h,y:i.y-u+c}).y};if("area1"==r.name){var r=a?a.position.y-i.y:0,I=a?a.toLocal({x:i.x+h+26,y:i.y-u+r+c+18},n):{x:i.x+h+26,y:i.y-u+c+r+18};return a&&0<I.y&&(I.y=-I.y,I.x=-I.x),{y:I.y}}}return(d=l.viewStack!=l.getViewStack()&&l.parent.isRubberPlug?n.toLocal({x:l.x,y:l.y},l.parent):d).x-9>i.x&&d.x+9<i.x+t.width?(a&&(p=a.rotation,a.rotation=0),I=a?a.toLocal({x:l.x,y:-u+c},n):{x:l.x,y:-u+c},p&&(a.rotation=p),a&&"RotateGlassCatheter"===l.name&&41===u&&(I.y=-25),{y:I.y}):(a&&(f=a.rotation,a.rotation=0),I=a?a.toLocal({x:i.x+h,y:-u+c},n):{x:i.x+h,y:-u+c},f&&(a.rotation=f),a&&"RotateGlassCatheter"===l.name&&41===u&&(I.y=-25),{x:I.x,y:I.y})}},{key:"adsorbGeneralEq",value:function(e,t,i,n,a){var r=e,o=0,s=0,e={};r.parent&&0!=r.rotation&&(r.updateTransform(),h=r.getBounds(),o=(e=n.toLocal({x:h.x,y:h.y})).x-r.x,s=e.y-r.y);var l,h=r.localBounds;return e.x<i.x&&e.y+h.height<i.y+t.height&&e.y+h.height>i.y?{x:(l=a?a.toLocal({x:i.x+offsetX,y:r.y},n):{x:i.x+offsetX,y:r.y}).x-o}:e.x<i.x&&e.y+h.height<i.y||e.x<i.x?{x:(l=a?a.toLocal({x:i.x+offsetX,y:i.y+t.height-h.height+offsetY},n):{x:i.x+offsetX,y:i.y+t.height-h.height+offsetY}).x-o,y:l.y-s}:e.x+h.width>i.x+t.width&&e.y+h.height<i.y+t.height&&e.y+h.height>i.y?{x:(l=a?a.toLocal({x:i.x+t.width-h.width+offsetX,y:r.y},n):{x:i.x+t.width-h.width+offsetX,y:r.y}).x-o}:e.x+h.width>i.x+t.width&&e.y+h.height<i.y||e.x+h.width>i.x+t.width?{x:(l=a?a.toLocal({x:i.x+t.width-h.width+offsetX,y:i.y+t.height-h.height+offsetY},n):{x:i.x+t.width-h.width+offsetX,y:i.y+t.height-h.height+offsetY}).x-o,y:l.y-s}:e.x>i.x&&e.x<i.x+t.width&&(e.y+h.height>i.y+t.height||e.y+h.height<i.y)?{y:(l=a?a.toLocal({x:i.x+t.width-h.width+offsetX,y:i.y+t.height-h.height+offsetY},n):{x:i.x+t.width-h.width+offsetX,y:i.y+t.height-h.height+offsetY}).y-s}:(r.emit("hasTweenComplete",{hitObj:n}),p.emitEvent(r,n),{x:0,y:0})}},{key:"moveTween",value:function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length?arguments[4]:void 0,r=e,o=r.tweenTime;i.x===r.x&&i.y===r.y&&(o=.1),e.adsorbPos||(e.adsorbPos={x:i.x,y:i.y}),e.currentInArea="bottom",e.offset&&(i.x+=e.offset.bottomX),TweenMax.to(r,o,{x:i.x,y:i.y,rotation:n,onComplete:function(){r.emit("hasTweenComplete",{hitObj:t,fromSetJson:a}),p.emitEvent(r,t),r.currentPlug&&r.currentPlug.checkChildEqNum instanceof Function&&r.currentPlug.checkChildEqNum(),r.offset&&(r.dragRect.x+=r.offset.bottomX)}})}},{key:"emitEvent",value:function(e,t){e.emit("appendEquipment",t),t.emit("appendEquipment",e)}},{key:"gasBottlehasGlassSheet",value:function(e,t,i){var e=e;t.isGasBottle&&(t=t.children.find(function(e){return"GlassSheet"===e.name}),e=v[e.name]||{leftOffset:0,rightOffset:0},t&&(t.x>nb.LIBAREA.right&&i.x>t.x&&(i.x=t.x),t.x<nb.LIBAREA.left&&i.x+e.leftOffset<t.x+t.width&&(i.x=t.x+t.width-e.leftOffset)))}},{key:"fixOtherBizarrerie",value:function(e,t){var i=e,e={ShapeGlassCatheter:{left:8.85,right:34.3}};e[i.name]&&(t.x<e[i.name].left?t.x=e[i.name].left:t.x<e[i.name].right&&(t.x=e[i.name].right)),"GlassBar"===i.name&&(t.y-=30)}},{key:"fixContainerPos",value:function(e,t,i,n){var a,r,o,s=e,l=s.parent;i.x===s.x&&("NonPorousRubberPlugBig"===l.name?l.parent.pascal&&(s.isGlassCatheter?(p.limitDragArea(s,t),s.dragRect=p.convertRect(s,t,n,s.dragRect),e=s.dragRect.x+s.dragRect.width,i.x=i.x>e?e:i.x,i.x=(i.x<s.dragRect.x?s.dragRect:i).x):(a=n.choicePlugWidth(l.parent).width,r=n.choicePlugOffset(l.parent).x,0<(o=i.x+s.localBounds.x+s.localBounds.width/2-(a-r))&&(i.x-=o))):d.find(function(e){return e===s.name})&&!p.specialAddPlug(s.name,t.name)&&(r=(a=s.parent).eqLimitPos,o=C[s.constructor.name],t=a.eqLimitBounds,a.pascal&&r&&o&&t&&(o=r.x-o.tubeX+t.width-o.tubeWidth,0<(o=s.x-o)&&(i.x-=o))))}},{key:"convertRect",value:function(e,t,i,n){var a,r={x:n.x,y:n.y};0!=i.rotation&&(a=i.rotation,i.rotation=0);t=i.toLocal(r,t);return a&&(i.rotation=a),n={x:t.x,y:t.y,width:n.width,height:n.height}}},{key:"areaAddComplete",value:function(e,t,i,n){var a,r=e;t.isHardGlassTube?(a=n.toGlobal({x:0,y:0}),e=t.toLocal({x:a.x,y:a.y}),a={area0:-1,area1:1,dltOffsetY:21},"BigHardGlassTube"===t.name&&(a.area0=-6,a.area1=10,a.dltOffsetY=23.5),"area0"==n.name?(i.x=e.x+a.area0,i.y=e.y-a.dltOffsetY):(i.x=e.x+a.area1,i.y=e.y+a.dltOffsetY)):"ThreeNeckedFlask"===t.name?"area0"===n.name?(i.x=n.x-13,i.y=n.y-15.5):"area1"===n.name?(i.x=n.x,i.y=n.y-20):"area2"===n.name&&(i.x=n.x+9.4,i.y=n.y-20.6):(i.x=n.x,i.y=n.y-20),t.addChildAt(i,0),i.addChildAtWithSamePos(r,0)}},{key:"singleAddComplete",value:function(e,t,i,n){t.addCoverBody(),e.isEmptyObject(n)||(i.x=Number(n.x),i.y=Number(n.y),t.addChildAt(i,Number(n.zIndex))),t.currentPlug=i}},{key:"findChooseArea",value:function(e,t){for(var i,n,a=t.chooseArea.children,r=e,o=[],s=t.getViewStack().toLocal(r,r.parent),l=0;l<a.length;l++)r.hitTest(a[l])&&(n=a[l].getLocalBounds(),i=a[l].toGlobal({x:n.x+n.width/2,y:n.y+n.height/2}),i=t.getViewStack().toLocal(i),n=void 0,n="ThreeNeckedFlask"===t.name?Math.abs(i.x-(s.x+r.localBounds.x+r.localBounds.width/2)):NBPoint.distance({x:s.x+r.localBounds.x+r.localBounds.width/2,y:s.y+r.localBounds.y+r.localBounds.height/2},i),o.push({obj:a[l],dis:n}));if(o.sort(function(e,t){return e.dis-t.dis}),0<o.length)return o[0].obj}},{key:"hasPlugJoin",value:function(e,t){e.parent&&"NonPorousRubberPlugBig"===e.parent.name&&(e.currentPlug=e.parent,t.chooseArea||(t.currentPlug=e.parent),e.currentPlug.choicePlugScale(t))}}]),p}();e.exports=i},function(e,t,i){"use strict";var n=i(0),r=n(i(61)),a=n(i(224)),d=PIXI.Point,o=i(973);function p(){}p.MIN=1e-6,p.sq=function(e){return Math.pow(Math.abs(e),2)},p.bevel=function(e,t){return Math.sqrt(e*e+t*t)},p.max=function(e){return Math.max.apply(null,e)},p.ping=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t/e.length},p.getUnique=function(){return o.getUnique()},p.getUniqueID=function(){return o.getUniqueID()},p.getCenP=function(e,t){return new d((e.x+t.x)/2,(e.y+t.y)/2)},p.getPointLen=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},p.getFuhao=function(e){return 0<=e?1:-1},p.getXYLen=function(e,t,i,n){return Math.sqrt((e-i)*(e-i)+(t-n)*(t-n))},p.getXianDianByDis=function(e,t,i,n){if(i.x==n.x&&i.y==n.y)return i.clone();if(n.x==i.x){if(t&&i.y>n.y||!t&&i.y<n.y)return new d(i.x,i.y-e);if(!t&&i.y>n.y||t&&i.y<n.y)return new d(i.x,i.y+e)}var a=(n.y-i.y)/(n.x-i.x),r=Math.sqrt(e*e/(1+a*a))+i.x,o=-Math.sqrt(e*e/(1+a*a))+i.x,e=a*(r-i.x)+i.y,a=a*(o-i.x)+i.y,i=p.sq(r-n.x)+p.sq(e-n.y),n=p.sq(o-n.x)+p.sq(a-n.y),a=t?n<i?new d(o,a):new d(r,e):n<i?new d(r,e):new d(o,a);return a},p.interpolate=function(e,t,i){var n=t.x-e.x,t=t.y-e.y;return new d(e.x+n*i,e.y+t*i)},p.getRandColor=function(){return 16777215*Math.random()+4278190080},p.getDecimalNum=function(e){e=""+e;return this.StringUtil.contains(e,".")?(e=e.substring(e.indexOf(".")+1)).length:0},p.getAngleP=function(e,t){t=t||new d(0,0);var i=e.x-t.x,t=e.y-t.y;return Math.atan2(t,i)*(180/Math.PI)},p.getAngleP1=function(e,t){e=Math.atan2(e.y,e.x)*(180/Math.PI);return t?e-Math.atan2(t.y,t.x)*(180/Math.PI):e},p.getAreaByPoints=function(e,t,i){var n=e.x-t.x,a=e.y-t.y,r=Math.sqrt(n*n+a*a),n=t.x-i.x,a=t.y-i.y,t=Math.sqrt(n*n+a*a);n=i.x-e.x,a=i.y-e.y;n=Math.sqrt(n*n+a*a),a=(r+t+n)/2;return Math.sqrt(a*(a-r)*(a-t)*(a-n))},p.checkPointIn=function(e,t,i,n){var a=p.getAreaByPoints(t,i,n),r=0;return r+=p.getAreaByPoints(e,t,i),r+=p.getAreaByPoints(e,i,n),(r+=p.getAreaByPoints(e,n,t))==a||Math.abs(r-a)<1e-4},p.getAngleByP=function(e,t,i){var n=p.getPointLen(t,i),i=p.getPointLen(e,i),e=p.getPointLen(e,t),t=2*i*e;return 0==t&&(t=1e-9),180*Math.acos((i*i+e*e-n*n)/t)/Math.PI},p.getPoint_NeiXin=function(e,t,i){var n=p.getPointLen(e,t),a=p.getPointLen(t,i),r=p.getPointLen(e,i),o=new d;return o.x=(n*e.x+a*t.x+r*i.x)/(n+a+r),o.y=(n*e.y+a*t.y+r*i.y)/(n+a+r),o},p.getSPPoint=function(e){return new d(e.x,e.y)},p.setSPPoint=function(e,t){e&&t&&(e.x=t.x,e.y=t.y)},p.setSPPointXY=function(e,t,i){e&&(e.x=t,e.y=i)},p.rotaPointFromP=function(e,t,i){t.y==e.y&&(t.y=e.y+p.MIN);e=new d(e.x-t.x,e.y-t.y),i=p.rotaPoint(e,i);return i.x+=t.x,i.y+=t.y,i},p.atan=function(e,t){return p.getAngleP(e,t)},p.getPFrom2DianAndAngle=function(e,t,i,n){var a=180+p.atan(t,e)-n,a=p.toHu(a);e=p.rotaPoint(e,-a),t=p.rotaPoint(t,-a);var n=Math.sqrt(p.sq(t.x-e.x)+p.sq(t.y-e.y))*Math.sin(p.toHu(i))/Math.sin(p.toHu(180-i-n))+t.x,t=t.y,t=new d(n,t);return t=p.rotaPoint(t,a)},p.toHu=function(e){return e/180*Math.PI},p.toAngle=function(e){return e/Math.PI*180},p.getNumStr=function(e){if(!e)return"";var t=/(-?\d+)(\.\d+)?/;return null!=t.exec(e)&&t.exec(e)[0]||0},p.getPStr=function(e){return/'+/.exec(e)},p.getFAStr=function(e){return/[ABC]+/.exec(e)},p.checkPointOnLineLeftOrRight=function(e,t,i){return(e.x-t.x)*(e.y-i.y)-(e.x-i.x)*(e.y-t.y)},p.checkOnLineAB=function(e,t,i,n){return n=n||.5,Math.abs((e.y-t.y)*(e.x-i.x)-(e.y-i.y)*(e.x-t.x))<n},p.checkInLineAB=function(e,t,i,n){n=n||.1;var a=!1;return e?p.getPointLen(e,t)+p.getPointLen(e,i)-p.getPointLen(t,i)<n&&(a=!0):a=!1,a},p.isPingxing=function(e,t,i,n){var a=!1,r=e.x,o=e.y,s=t.x,e=t.y,t=i.x,i=i.y;return a=(e-o)*(n.x-t)==(s-r)*(n.y-i)?!0:a},p.getJiaoP=function(e,t,i,n){var a=new d,r=e.x,o=e.y,s=t.x,l=t.y,e=i.x,t=i.y,i=n.x,n=n.y,s=s==r?(l-o)/(s-r+1e-7):(l-o)/(s-r),i=i==e?(n-t)/(i-e+1e-7):(n-t)/(i-e);return a.x=s==i?(s*r-i*e+t-o)/(s-i+1e-7):(s*r-i*e+t-o)/(s-i),a.y=s*a.x-s*r+o,a},p.checkJPIsInAB=function(e,t,i,n){n=p.getJiaoP(e,t,i,n);return p.checkInLineAB(n,e,t)},p.checkJPIsInABCD=function(e,t,i,n){var a=p.getJiaoP(e,t,i,n);return p.checkInLineAB(a,e,t)&&p.checkInLineAB(a,i,n)||p.checkInLineAB(e,i,n)||p.checkInLineAB(t,i,n)||p.checkInLineAB(i,e,t)||p.checkInLineAB(n,e,t)},p.hasPoint=function(e,t){for(var i=!1,n=0;n<e.length;n++){var a=e[n];if(a.x==t.x&&a.y==t.y){i=!0;break}}return i},p.rotaPoint=function(e,t){var i=new d;return i.x=Math.cos(t)*e.x-Math.sin(t)*e.y,i.y=Math.cos(t)*e.y+Math.sin(t)*e.x,i},p.getPArrRect=function(e){for(var t,i,n=0;n<e.length;n++){var a=e[n];t?(t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y)):t=new d(a.x,a.y),i?(i.x=Math.max(i.x,a.x),i.y=Math.max(i.y,a.y)):i=new d(t.x,t.y)}return new flash.geom.Rectangle(t.x,t.y,i.x-t.x,i.y-t.y)},p.getRectCen=function(e){var t=new d;return t.x=(e.left+e.right)/2,t.y=(e.top+e.bottom)/2,t},p.getRectFromDuiP=function(e,t){var i=Math.min(e.x,t.x),n=Math.min(e.y,t.y),a=Math.abs(t.x-e.x),e=Math.abs(t.y-e.y);return new Rectangle(i,n,a,e)},p.getZoomPoint=function(e,t,i,n){var a=e.x,r=e.y,o=t.x,s=t.y,e=i.x,t=i.y,i=n.x,n=n.y;return new d((e-a)/(o-a)*(i-a)+a,(t-r)/(s-r)*(n-r)+r)},p.getZoomPointA=function(e,t,i,n,a){var r=e.x,o=e.y,s=t.x,l=t.y,e=i.x,t=i.y,i=n.x,n=n.y,e=new d(e-r,t-o),t=new d(s-r,l-o),s=new d(i-r,n-o),l=e.x/t.x,t=e.y/t.y,s=new d(l*s.x,t*s.y),r=s.x+r,o=s.y+o,o=new d(r-i,o-n),i=(o=p.getRoZoomP(o,a)).x+i,n=o.y+n;return new d(i,n)},p.isPointNi=function(e,t,i){var n=t.x,a=t.y,t=i.x,i=i.y;return(e.x-n)*(i-a)<(e.y-a)*(t-n)},p.getRoZoomP=function(e,t){var i=new d;return i.x=e.x*Math.cos(p.toHu(-t))+e.y*Math.sin(p.toHu(-t)),i.y=e.y*Math.cos(p.toHu(-t))-e.x*Math.sin(p.toHu(-t)),i},p.getOvalPoint=function(e,t,i){var n,a,r=[],o=e/2,s=t/2,l=0;for(i=(i=null==i?null:i)||new d(0,0);l<2*Math.PI;)n=i.x+o*Math.sin(l),a=i.y+s*Math.cos(l),r.push(new d(n,a)),l+=2/180*Math.PI;return r},p.getRegPolygon=function(e,t,i){var n=[];if(1==e)return[t];for(var a=0;a<e;a++){var r=new d;r.x=t.x+i*Math.cos(2*Math.PI/e*a),r.y=t.y+i*Math.sin(2*Math.PI/e*a),Math.abs(r.x)<1e-5&&(r.x=0),Math.abs(r.y)<1e-5&&(r.y=0),n.push(r)}return n},p.getLianPObj=function(e,t){return{p1:e,p2:t}},p.getRegPolygonRay=function(e,t,i){var n=p.getRegPolygon(e,t,i),a=[];if(2==e)a.push(p.getLianPObj(n[0],n[1]));else if(2<e){for(var r=0;r<n.length-1;r++)a.push({p1:n[r],p2:n[r+1]});a.push({p1:n[n.length-1],p2:n[0]})}return{pArr:n,lianArr:a}},p.getThreeRay=function(e,t,i){var n=[],a=[],r=0;n.push(t),r++;for(var o=Math.ceil((e-1)/3),s=0;s<o;s++)for(var l=0;l<3&&r!=e;l++){var h=1==n.length?n[0]:n[n.length-3],c=new d(h.x,h.y-i);if(n.push(c),++r==e)break;h=p.rotaPointFromP(c,t,2*-Math.PI/3);if(n.push(h),++r==e)break;c=p.rotaPointFromP(c,t,2*Math.PI/3);if(n.push(c),++r==e)break}if(2==e)a.push(p.getLianPObj(n[0],n[1]));else if(3==e)a.push(p.getLianPObj(n[0],n[1])),a.push(p.getLianPObj(n[0],n[2]));else if(3<e){a.push(p.getLianPObj(n[0],n[1])),a.push(p.getLianPObj(n[0],n[2]));for(var u=0;u<=n.length-4;u++)a.push(p.getLianPObj(n[u],n[u+3]))}return{pArr:n,lianArr:a}},p.getCrossRay=function(e,t,i){var n=[],a=[],r=0;n.push(t),r++;for(var o=Math.ceil((e-1)/3),s=0;s<o;s++)for(var l=0;l<4&&r!=e;l++){var h=1==n.length?n[0]:n[n.length-4],c=new d(h.x,h.y-i);if(n.push(c),++r==e)break;h=p.rotaPointFromP(c,t,-Math.PI/2);if(n.push(h),++r==e)break;h=p.rotaPointFromP(c,t,-Math.PI);if(n.push(h),++r==e)break;c=p.rotaPointFromP(c,t,Math.PI/2);if(n.push(c),++r==e)break}if(2==e)a.push(p.getLianPObj(n[0],n[1]));else if(3==e)a.push(p.getLianPObj(n[0],n[1])),a.push(p.getLianPObj(n[0],n[2]));else if(4==e)a.push(p.getLianPObj(n[0],n[1])),a.push(p.getLianPObj(n[0],n[2])),a.push(p.getLianPObj(n[0],n[3]));else if(4<e){a.push(p.getLianPObj(n[0],n[1])),a.push(p.getLianPObj(n[0],n[2])),a.push(p.getLianPObj(n[0],n[3]));for(var u=0;u<=n.length-5;u++)a.push(p.getLianPObj(n[u],n[u+4]))}return{pArr:n,lianArr:a}},p.getHorizontalRay=function(e,t,i){var n=[],a=[],r=0;n.push(t),r++;for(var o=Math.ceil((e-1)/3),s=0;s<o;s++)for(var l=0;l<3&&r!=e;l++){var h=1==n.length?n[0]:n[n.length-2],h=new d(h.x-i,h.y);if(n.push(h),++r==e)break;h=p.rotaPointFromP(h,t,Math.PI);if(n.push(h),++r==e)break}if(2==e)a.push(p.getLianPObj(n[0],n[1]));else if(2<e){a.push(p.getLianPObj(n[0],n[1]));for(var c=0;c<=n.length-3;c++)a.push(p.getLianPObj(n[c],n[c+2]))}return{pArr:n,lianArr:a}},p.getVerticalRay=function(e,t,i){var n=[],a=[],r=0;n.push(t),r++;for(var o=Math.ceil((e-1)/3),s=0;s<o;s++)for(var l=0;l<3&&r!=e;l++){var h=1==n.length?n[0]:n[n.length-2],h=new d(h.x,h.y-i);if(n.push(h),++r==e)break;h=p.rotaPointFromP(h,t,Math.PI);if(n.push(h),++r==e)break}if(2==e)a.push(p.getLianPObj(n[0],n[1]));else if(2<e){a.push(p.getLianPObj(n[0],n[1]));for(var c=0;c<=n.length-3;c++)a.push(p.getLianPObj(n[c],n[c+2]))}return{pArr:n,lianArr:a}},p.getDuiDianP=function(e,t,i){var n=new d,i=p.getGaoDianFrom3Dian(e,t,i);return n.x=2*i.x-e.x,n.y=2*i.y-e.y,n},p.getDuiDianDian=function(e,t){return new d(2*t.x-e.x,2*t.y-e.y)},p.getNumJie=function(e,t){null==t&&(t=0);var i=Math.pow(10,t),n=Math.round(e*i)/i+"";if(1==t)n.indexOf(".")<0&&(n+=".",n+="0");else for(;n.substring(n.lastIndexOf(".")+1).length<t;)n.indexOf(".")<0&&(n+="."),n+="0";return n},p.getNumToInt=function(e){var t=e+"",e=t.indexOf(".");return-1==e?+t:+(t=t.slice(0,e))},p.getGaoDianFrom3Dian=function(e,t,i){var n=e.x,a=e.y,r=t.x,e=t.y,t=i.x,i=i.y;return new d(((i-e)*(i-e)*r+(t-r)*(t-r)*n+(a-e)*(t-r)*(i-e))/((i-e)*(i-e)+(t-r)*(t-r)),((n-r)*(t-r)*(i-e)+(a-e)*(i-e)*(i-e))/((i-e)*(i-e)+(t-r)*(t-r))+e)},p.getXianDuanGaoXianDian=function(e,t,i,n){null==n&&(n=!0);t=p.getXianDianByDis(i,!0,e,t),n=p.rotaPointFromP(t,e,n?-Math.PI/2:Math.PI/2);return n},p.getRectOneP=function(e,t,i){return new d(e.x+t.x-i.x,e.y+t.y-i.y)},p.retrieveRGBComponent=function(e){return[e>>16,e>>8&255,255&e]},p.generateFromRGBComponent=function(e){return null==e||3!=e.length||e[0]<0||255<e[0]||e[1]<0||255<e[1]||e[2]<0||255<e[2]?16777215:e[0]<<16|e[1]<<8|e[2]},p.generateTransitionalColor=function(e,t,i){if(1==i)return[e];if(2==i)return[e,t];var n=p.retrieveRGBComponent(e),a=p.retrieveRGBComponent(t),r=[];r.push(e),i-=2;for(var o=a[0]-n[0],s=a[1]-n[1],l=a[2]-n[2],h=1;h<i-1;h++){var c=[n[0]+o*h/i,n[1]+s*h/i,n[2]+l*h/i];r.push(p.generateFromRGBComponent(c))}return r.push(t),r},p.drawArc=function(e,t,i,n,a,r){var o=[t,i],t=(r=r||0)*Math.PI/180,i=(r+a)*Math.PI/180,t=[o[0]+n*Math.cos(t),o[1]+n*Math.sin(t)];e.moveTo(t[0],t[1]);for(var i=[o[0]+n*Math.cos(i),o[1]+n*Math.sin(i)],s=t,l=0;l<a;l+=2){rad=(l+r)*Math.PI/180;var h=[n*Math.cos(rad)+o[0],n*Math.sin(rad)+o[1]];e.moveTo(s[0],s[1]),e.lineTo(h[0],h[1]),e.filling&&(e.lineTo(o[0],o[1]),e.lineTo(s[0],s[1])),s=h}e.lineTo(i[0],i[1]),e.filling&&(e.lineTo(o[0],o[1]),e.lineTo(s[0],s[1]))},p.getArcPoints=function(e,t,i,n,a){n=p.toAngle(n);var r=[],o=[e,t],t=(a=(a=p.toAngle(a))||0)*Math.PI/180,t=[o[0]+i*Math.cos(t),o[1]+i*Math.sin(t)];r.push(new d(t[0],t[1]));for(var s=0;s<n;s+=1){rad=(s+a)*Math.PI/180;var l=[i*Math.cos(rad)+o[0],i*Math.sin(rad)+o[1]];r.push(new d(l[0],l[1])),pre=l}return r},p.checkPolygonPointArr=function(e,t){for(var i=0,n=0,a=!1,r=0;r<t.length;r++){var o,s=r==t.length-1?(o=t[r],t[0]):(o=t[r],t[r+1]),s=p.getAngleByP(e,o,s);Math.abs(s-180)<.2&&(a=!0),n+=s}return a?i=2:!a&&Math.abs(n-360)<.2?i=1:.2<Math.abs(n-360)&&(i=3),i},p.clonePointArr=function(e){if(!e)return null;for(var t=[],i=0;i<e.length;i++){var n=e[i];t.push(n.clone())}return t},p.checkArrEqual=function(e,t,i){null==i&&(i=5),e=p.clonePointArr(e),t=p.clonePointArr(t);for(var n=p.getRectCen(p.getPArrRect(e)),a=p.getRectCen(p.getPArrRect(t)),r=a.x-n.x,o=a.y-n.y,s=0;s<e.length;s++){var l=e[s];l.x+=r,l.y+=o}for(s=0;s<e.length;s++){for(var h=e[s],c=!1,u=0;u<t.length;u++){var d=t[u];if(p.getPointLen(h,d)<=i){c=!0;break}}if(!c)return!1}return{chaX:r,chaY:o}},p.checkPointEqual=function(e,t,i){return null==i&&(i=.1),p.getPointLen(e,t)<i},p.checkPolygonPointArr2=function(e,t){for(var i=!1,n=0,a=0,r=t.length,o=0,s=r-1;o<r;s=o++){var l=(e.x-t[s].x)*(t[o].y-t[s].y)-(e.y-t[s].y)*(t[o].x-t[s].x);0<l?++n:l<0&&++a}return i=0==n||0==a?!0:i},p.drawPolygonPArr=function(t,i){t.moveTo(i[0].x,i[0].y),$.each(i,function(e){0<e&&t.lineTo(i[e].x,i[e].y)}),t.lineTo(i[0].x,i[0].y)},p.vec3ToVec2=function(e){return nape.geom.Vec2.get(e.zpp_inner.x,e.zpp_inner.y)},p.getJiao_polygon_line=function(e,t,i){for(var n=[],a=0;a<i.length;a++){var r,o=i[a],s=a==i.length-1?i[0]:i[a+1];p.isPingxing(o,s,e,t)||(r=p.getJiaoP(e,t,o,s),p.checkInLineAB(r,o,s,.1)&&n.push(r))}return n},p.containtsP=function(e,t,i){null==i&&(i=.1);for(var n=!1,a=0;a<e.length;a++){var r=e[a];if(p.getPointLen(r,t)<i){n=!0;break}}return n},p.getNearP=function(e,t){for(var i,n=1e5,a=0;a<e.length;a++){var r=e[a],o=p.getPointLen(t,r);o<n&&(n=o,i=r)}return i},p.checkPolygonPointArr3=function(e,t){if(null==t)return!1;for(var i,n,a=t.length,r=0,o=0,s=t[0],r=1;r<=a;r++)i=t[r%a],e.y>Math.min(s.y,i.y)&&e.y<=Math.max(s.y,i.y)&&e.x<=Math.max(s.x,i.x)&&s.y!=i.y&&(n=(e.y-s.y)*(i.x-s.x)/(i.y-s.y)+s.x,(s.x==i.x||e.x<=n)&&o++),s=i;return o%2!=0},p.centerRotate=function(e,t){var i=e.rotation;e.rotation=0;var n=e.width,a=e.height;e.rotation=i;i=e.localToGlobal(new d(n/2,a/2));e.rotation=t;a=e.localToGlobal(new d(n/2,a/2)),i=i.subtract(a),a=e.transform.matrix;a.translate(i.x,i.y),e.transform.matrix=a},p.getAllChildren=function(e){if(!e)return null;for(var t=[],i=0;i<e.numChildren;i++)t.push(e.getChildAt(i));return t},p.getFnName=function(e){var t=e.toString().replace(/[\s\?]*/g,""),i=50<=t.length?50:t.length,i=(t=t.substring(0,i)).match(/^function([^\(]+?)\(/);if(i&&i[1])return i[1];e=e.caller.toString().replace(/[\s\?]*/g,""),t=e.indexOf(t);return(i=e.substring(t-30,t).match(/var([^\=]+?)\=/))&&i[1]?i[1]:"anonymous"},p.touchIsType=function(e,t){if(e==t)return!0;switch(t){case TouchEvent.TOUCH_BEGIN:return"touchstart"==e;case TouchEvent.TOUCH_MOVE:return"touchmove"==e;case TouchEvent.TOUCH_END:return"touchend"==e;case TouchEvent.TOUCH_END_OUTSIDE:return"touchendoutside"==e;case TouchEvent.TAP:return"tap"==e}return!1},p.__bdArr=[],p.__isDenyDB=!1,p.addDomTouch=function(e,t,i,n){if(e&&t){var a="_M"+p.getUnique()+"_";return t.mc=e,t.this=i,e[a]=t,e[a].downTime=(new Date).getTime(),e[a].downP=new d,e[0]&&(e[0][a]=e[a]),(n=n||{time:500,dis:15})&&(t.outData=n,t.outData.canTab=!0),t.tab&&(e[a+"touchTab"]=function(e){e.t="tab",this[a]&&(this[a].this?this[a].tab.call(this[a].this,e,this):this[a].tab.call(this,e,this))},e.on("click",e[a+"touchTab"])),e[a+"touchStart"]=function(e){var t,i;this!=document&&p.checkValidMT(e)&&e.preventDefault(),e.t="begin";var n=!(this._isDown=!0);p._checkIsDBMC(this)&&(p.__isDenyDB=!0),this[a].dbtab&&(t=(new Date).getTime()-this[a].downTime,i=Math.abs(p.getPointLen(this[a].downP,p.getCanvasP(e))),t<300&&i<50&&(n=!0,this[a].this?this[a].dbtab.call(this[a].this,e,this):this[a].dbtab.call(this,e,this))),this[a].downTime=(new Date).getTime(),this[a].downP=p.getSPPoint(p.getMouseXY(e)),!n&&this[a].begin&&(this[a].isAddDB&&(!this[a].isAddDB||p.__isDenyDB)||(this[a].this?this[a].begin.call(this[a].this,e,this):this[a].begin.call(this,e,this)))},e.on("mousedown touchstart",e[a+"touchStart"]),e[a+"touchMove"]=function(e){var t;this!=document&&p.checkValidMT(e)&&e.preventDefault(),e.t="move",p._checkIsDBMC(this)&&(p.__isDenyDB=!0),this[a]&&(e.outData=this[a].outData,this[a].outData&&(t=Math.abs(p.getPointLen(this[a].downP,p.getMouseXY(e))),this[a].outData.dis&&t>this[a].outData.dis&&(this[a].outData.canTab=!1))),this._isDown&&this[a].move&&(this[a].isAddDB&&(!this[a].isAddDB||p.__isDenyDB)||(this[a].this?this[a].move.call(this[a].this,e,this):this[a].move.call(this,e,this))),this[a].move2&&(this[a].isAddDB&&(!this[a].isAddDB||p.__isDenyDB)||(this[a].this?this[a].move2.call(this[a].this,e,this):this[a].move2.call(this,e,this)))},e.on("mousemove touchmove",e[a+"touchMove"]),e[a+"touchEnd"]=function(e){this!=document&&p.checkValidMT(e)&&e.preventDefault(),e.t="end",this._isDown=!1,t.end&&(this[a].isAddDB&&(!this[a].isAddDB||p.__isDenyDB)||(this[a].this?this[a].end.call(this[a].this,e,this):this[a].end.call(this,e,this))),this[a]&&this[a].isAddDB&&p.__isDenyDB&&(p.__isDenyDB=!1)},e.on("mouseup touchend",e[a+"touchEnd"]),a}},p.removeDomTouch=function(e,t){e&&t&&(e[t+"touchTab"]&&(e.off("click",e[t+"touchTab"]),delete e[t+"touchTab"]),e.off("mousedown touchstart",e[t+"touchStart"]),delete e[t+"touchStart"],e.off("mousemove touchmove",e[t+"touchMove"]),delete e[t+"touchMove"],e[t+"touchEnd"]&&(e.off("mouseup touchend",e[t+"touchEnd"]),delete e[t+"touchEnd"]),e[t]&&delete e[t])},p.addSVGTouch=function(e,t,i,n){if(e&&t){var a="_MSVG"+p.getUnique()+"_";return t.this=i=null==i?e:i,(t.mc=e).data(a,t),e.data("funcID",a),(n=n||{time:300,dis:15})&&(t.outData=n,t.outData.canTab=!0),t._svg_tabFunc=function(e){var t=this.data("funcID"),t=this.data(t);e.t="tab",e.mc=this,t.tab.call(t.this,e)},t._svg_beginFunc=function(e){p.checkValidMT(e)&&e.preventDefault();var t=this.data("funcID");this._isDown=!0;t=this.data(t);e.t="begin",e.mc=this,t.begin.call(t.this,e)},t._svg_moveFunc=function(e){var t;p.checkValidMT(e)&&e.preventDefault(),this._isDown&&(t=this.data("funcID"),t=this.data(t),e.t="move",e.mc=this,t.move.call(t.this,e))},t._svg_endFunc=function(e){p.checkValidMT(e)&&e.preventDefault();var t=this.data("funcID"),t=this.data(t);this._isDown=!1,e.t="end",e.mc=this,t.end.call(t.this,e)},t.tab&&e.click(t._svg_tabFunc),p.isMobileBrowser()?(t.begin&&e.touchstart(t._svg_beginFunc),t.move&&e.touchmove(t._svg_moveFunc),t.end&&e.touchend(t._svg_endFunc)):(t.begin&&e.mousedown(t._svg_beginFunc),t.move&&e.mousemove(t._svg_moveFunc),t.end&&e.mouseup(t._svg_endFunc)),a}},p.isMobileBrowser=function(){var e,t=!1;return navigator&&(e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)),t},p.removeSVGTouch=function(e,t){var i;e&&t&&((i=e.data(t)).tab&&e.unclick(i._svg_tabFunc),i.begin&&(e.untouchstart(i._svg_beginFunc),e.unmousedown(i._svg_beginFunc)),i.move&&(e.untouchmove(i._svg_moveFunc),e.unmousemove(i._svg_moveFunc)),i.end&&(e.untouchend(i._svg_endFunc),e.unmouseup(i._svg_endFunc)),e.data(t,null))},p.addTouch=function(e,t,i,n){if(t){var a="_M"+p.getUnique()+"_";return t.mc=e,t.this=i,e[a]=t,e[a].downTime=(new Date).getTime(),e[a].downP=new d,(n=n||{time:300,dis:15})&&(t.outData=n,t.outData.canTab=!0),t.tab&&(e[a+"touchTab"]=function(e){var t;e.t="tab",this[a]&&(this[a].outData&&(t=(new Date).getTime()-this[a].downTime,0<this[a].outData.time&&this[a].outData.time&&t>this[a].outData.time&&(this[a].outData.canTab=!1)),(!this[a].outData||this[a].outData&&this[a].outData.canTab)&&(this[a].this?this[a].tab.call(this[a].this,e,this):this[a].tab.call(this,e,this)),this[a]&&this[a].outData&&(this[a].outData.canTab=!0,this[a].outData.downP=p.getSPPoint(p.getMouseXY(e))))}),e[a+"touchStart"]=function(e){var t,i;e.t="begin";var n=!(this._isDown=!0);p._checkIsDBMC&&p._checkIsDBMC(this)&&(p.__isDenyDB=!0),this[a].dbtab&&(t=(new Date).getTime()-this[a].downTime,i=Math.abs(p.getPointLen(this[a].downP,p.getMouseXY(e))),t<300&&i<50&&(n=!0,this[a].this?this[a].dbtab.call(this[a].this,e,this):this[a].dbtab.call(this,e,this))),this[a].downTime=(new Date).getTime(),this[a].downP=p.getSPPoint(p.getMouseXY(e)),!n&&this[a].begin&&(this[a].isAddDB&&(!this[a].isAddDB||p.__isDenyDB)||(this[a].this?this[a].begin.call(this[a].this,e,this):this[a].begin.call(this,e,this)))},e.addEventListener(TouchEvent.TOUCH_BEGIN,e[a+"touchStart"]),t.isAddDB&&e.addEventListener("touchstart",e[a+"touchStart"]),e[a+"touchMove"]=function(e){var t;e.t="move",this._isDown&&(p._checkIsDBMC&&this&&(p.__isDenyDB=!0),e.outData=this[a].outData,this[a].outData&&(t=Math.abs(p.getPointLen(this[a].downP,p.getMouseXY(e))),this[a].outData.dis&&t>this[a].outData.dis&&(this[a].outData.canTab=!1)),this[a].move&&(this[a].isAddDB&&(!this[a].isAddDB||p.__isDenyDB)||(this[a].this?this[a].move.call(this[a].this,e,this):this[a].move.call(this,e,this))))},e.addEventListener(TouchEvent.TOUCH_MOVE,e[a+"touchMove"]),t.isAddDB&&e.addEventListener("touchmove",e[a+"touchMove"]),e[a+"touchEnd"]=function(e){e.t="end",this._isDown=!1,t.end&&(this[a].isAddDB&&(!this[a].isAddDB||p.__isDenyDB)||(this[a].this?this[a].end.call(this[a].this,e,this):this[a].end.call(this,e,this))),this[a]&&this[a].isAddDB&&p.__isDenyDB&&(p.__isDenyDB=!1),t.tab&&this[a]&&(!this[a].outData||this[a].outData&&this[a].outData.canTab)&&(this[a].this?this[a].tab.call(this[a].this,e,this):this[a].tab.call(this,e,this))},e.addEventListener(TouchEvent.TOUCH_END,e[a+"touchEnd"]),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,e[a+"touchEnd"]),t.isAddDB&&(e.addEventListener("touchend",e[a+"touchEnd"]),e.addEventListener("touchendoutside",e[a+"touchEnd"])),a}},p.removeTouch=function(e,t){e&&t&&(e[t+"touchTab"]&&(e.removeEventListener("tap",e[t+"touchTab"]),delete e[t+"touchTab"]),e.removeEventListener(TouchEvent.TOUCH_BEGIN,e[t+"touchStart"]),e.removeEventListener("touchstart",e[t+"touchStart"]),delete e[t+"touchStart"],e.removeEventListener(TouchEvent.TOUCH_MOVE,e[t+"touchMove"]),e.removeEventListener("touchmove",e[t+"touchMove"]),delete e[t+"touchMove"],e[t+"touchEnd"]&&(e.removeEventListener(TouchEvent.TOUCH_END,e[t+"touchEnd"]),e.removeEventListener("touchend",e[t+"touchEnd"]),e.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,e[t+"touchEnd"]),e.removeEventListener("touchendoutside",e[t+"touchEnd"]),delete e[t+"touchEnd"]),e[t]&&(e[t].this=null))},p.vec2Length=function(e){return Math.sqrt(e.get_x()*e.get_x()+e.get_y()*e.get_y())},p.vec3Length=function(e){return Math.sqrt(e.zpp_inner.x*e.zpp_inner.x+e.zpp_inner.y*e.zpp_inner.y+e.zpp_inner.z*e.zpp_inner.z)},p.getRayPoint=function(e,t,i){t=d.interpolate(t,e,1/d.distance(e,t));return new d(e.x+(t.x-e.x)*i,e.y+(t.y-e.y)*i)},p.addDrag=function(r,o,s,l,e){l=l||r;var h=p.addTouch(r,{begin:function(e){r[h+"_dragData"].isDown=!0,p.setSPPoint(r[h+"_dragData"].p,p.getMouseXY(e)),s&&s.begin&&s.begin.call(l,e)},move:function(e){var t,i,n,a;r[h+"_dragData"].isDown&&(t=p.getMouseXY(e).x-r[h+"_dragData"].p.x,i=p.getMouseXY(e).y-r[h+"_dragData"].p.y,r.getMScale&&(t/=(a=r.getMScale()).x,i/=a.y),n=r.x+t,a=r.y+i,o&&0<=o.width&&0<=o.height&&(n=p.range(n,o.x,o.x+o.width),a=p.range(a,o.y,o.y+o.height)),r[h].isLock||r.x==n&&r.y==a||(p.setSPPointXY(r,n,a),p.setSPPoint(r[h+"_dragData"].p,p.getMouseXY(e)),s&&s.move&&(e.chaX=t,e.chaY=i,s.move.call(l,e))))},end:function(e){r[h+"_dragData"].isDown=!1,s&&s.end&&s.end.call(l,e)},tab:function(e){s&&s.tab&&s.tab.call(l,e)},dbtab:function(e){s&&s.dbtab&&s.dbtab.call(l,e)}},l,e);return r[h+"_dragData"]={p:new flash.geom.Point(0,0)},h},p.removeDrag=function(e,t){delete e[t+"_dragData"],p.removeTouch(e,t)},p.setButton=function(e,t,i){if(!e.totalFrames)throw new Error("it is not MovieClip");if(2!=e.totalFrames)throw new Error("totalFrames is not equals 2");e.____setButton_touchID=p.addTouch(e,{begin:function(){this.currentFrame=1},end:function(){this.currentFrame=0},tab:function(){t&&(i?t.call(i,{target:this}):t.call(this,{target:this}))}},null,{time:-1})},p.removeButton=function(e){e&&p.removeTouch(e,e.____setButton_touchID)},p.setToggle=function(e,t,i){e.data=t,(e.data.target=e).data.this=i||e,e.toggled&&(e.x+=e.data.w),p.addTouch(e,{tab:function(){this.data.toggled=!this.data.toggled,this.data.toggled?this.x+=this.data.w:this.x-=this.data.w,this.data.toggle&&this.data.toggle.call(this.data.this,this.data.toggled)}})},p.readTxt=function(t){var e;window.FileReader?((e=new FileReader).onloadend=function(e){t.result&&t.result(e.target.result)},e.readAsText(t.path)):trace("Not supported by your browser!")},p.setObjProperties=function(i,e){$.each(e,function(e,t){i.index_=t})},p.getAbsoluteUrl=function(e){var t=document.createElement("A");return t.href=e,e=t.href},p.drawDashed=function(e,t,i,n,a){n=n||5,a=a||5;for(var r,o,s=p.getPointLen(t,i),l=0;l<s;)r=d.interpolate(i,t,l/s),s<(l+=n)&&(l=s),o=d.interpolate(i,t,l/s),e.moveTo(r.x,r.y),e.lineTo(o.x,o.y),l+=a},p.drawDashedRect=function(e,t,i,n,a,r,o){p.drawDashed(e,t,i,r,o),p.drawDashed(e,i,n,r,o),p.drawDashed(e,n,a,r,o),p.drawDashed(e,a,t,r,o)},p.drawSVGDashed=function(e,t,i,n){i=i||5,n=n||5;for(var a,r,o=p.getPointLen(e,t),s=0,l="";s<o;)a=d.interpolate(t,e,s/o),o<(s+=i)&&(s=o),r=d.interpolate(t,e,s/o),l+="M"+a.x+" "+a.y,l+="L"+r.x+" "+r.y,s+=n;return l},p.drawSVGDashedRect=function(e,t,i,n,a,r){var o="";return o+=p.drawSVGDashed(e,t,a,r),o+=p.drawSVGDashed(t,i,a,r),o+=p.drawSVGDashed(i,n,a,r),o+=p.drawSVGDashed(n,e,a,r)},p.removeAllChild=function(e){if(e&&e.children.length)for(;0<e.children.length;)e.removeChildAt(0)},p.get_quadraticCurveTo_points=function(e,t,i,n,a,r){for(var o,s,l=[],h=e,c=t,u=1;u<=20;++u)l.push(new d((o=h+(i-h)*(s=u/20))+(i+(a-i)*s-o)*s,(o=c+(n-c)*s)+(n+(r-n)*s-o)*s));return l},p.extends=function(e,t){e.prototype=(0,a.default)(t.prototype),e.constructor=e},p.range=function(e,t,i){return e=Math.max(t,e),e=Math.min(i,e)},p.getValidAngle=function(e){var t=Math.abs(e);return e<0?360*Math.floor(t/360+1)+e:0==t?0:t%360},p.angleSplitLine=function(e,t,i,n){t=new d(t.x-e.x,t.y-e.y),e=new d(n.x-i.x,n.y-i.y),n=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.sqrt(e.x*e.x+e.y*e.y),t=new d(1/n*t.x,1/n*t.y),e=new d(1/i*e.x,1/i*e.y);return new d(t.x+e.x,t.y+e.y)},p.getValidHu=function(e){return p.toHu(p.getValidAngle(p.toAngle(e)))},p.stopPropagation=function(e){function t(e){e.stopPropagation()}p.addTouch(e,{tab:t,begin:t,move:t,end:t})},p.GetObjPos=function(e){for(var t=new d((i=e).offsetLeft-i.scrollLeft,i.offsetTop-i.scrollTop),i=i.offsetParent;i;)t.x+=i.offsetLeft-i.scrollLeft,t.y+=i.offsetTop-i.scrollTop,i=i.offsetParent;return t},p.containsPoint=function(e,t){return!!e.getBounds().contains(t.x,t.y)},p.getMouseXY=function(e,t,i){var n;return null==t&&(t=0),i=i||"changedTouches",(e.data&&e.data.global?e.data.global:null==e.clientX?e[i]?(n=this.getIndexFromIdentifier(e[i],t),new d(e[i][n].clientX,e[i][n].clientY)):(n=this.getIndexFromIdentifier(e.originalEvent[i],t),new d(e.originalEvent[i][n].clientX,e.originalEvent[i][n].clientY)):new d(e.clientX,e.clientY)).clone()},p.getIndexFromIdentifier=function(e,t){for(var i=0,i=0;i<e.length;i++)if(t==e[i].identifier)return i;return 0},p.getCanvasPToMouseP=function(e){var t=p.getCanvasP(e),i={data:{}};return i.data.global=new d(t.x,t.y),i.type=e.type,i},p.getMousePToCanvasP=function(e){var t=p.getMouseXY(e),i=$("#canvasID").offset(),n=new flash.geom.Point(i.left,i.top),i=nb.PhysicsMain.ToolScale,i=new d(t.x*i,t.y*i);i.x+=n.x,i.y+=n.y;n={data:{}};return n.data.global=new d(i.x,i.y),n.type=e.type,n},p.getCanvasP=function(e,t,i){var n=$("#canvasID").offset(),n=new flash.geom.Point(n.left,n.top),i=com.adobe.utils.M.getMouseXY(e,t,i),n=new flash.geom.Point(i.x-n.x,i.y-n.y);return n.x=n.x/nb.PhysicsMain.ToolScale,n.y=n.y/nb.PhysicsMain.ToolScale,n},p.getCanvasP_sdk=function(e,t,i){var n=new d(0,0),i=com.adobe.utils.M.getMouseXY(e,t,i);return new flash.geom.Point(i.x-n.x,i.y-n.y)},p.os=(i=navigator.userAgent.toLowerCase(),{isIpad:/ipad/.test(i),isIphone:/iphone os/.test(i),isAndroid:/android/.test(i),isWindowsCe:/windows ce/.test(i),isWindowsMobile:/windows mobile/.test(i),isWin2K:/windows nt 5.0/.test(i),isXP:/windows nt 5.1/.test(i),isVista:/windows nt 6.0/.test(i),isWin7:/windows nt 6.1/.test(i),isWin8:/windows nt 6.2/.test(i),isWin81:/windows nt 6.3/.test(i),isWinPC:/windows nt/.test(i)}),p.RGBToHex=function(e){if(/^(rgb|RGB)/.test(e)){for(var t=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),i="",n=0;n<t.length;n++){var a=Number(t[n]).toString(16);i+=a=1==a.length?"0"+a:a}return i}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;var r=e.replace(/#/,"").split("");if(6===r.length)return e;if(3===r.length){var o="";for(n=0;n<r.length;n+=1)o+=r[n]+r[n];return o}},p.isColorDeep=function(e){e=p.retrieveRGBComponent(e);return!(192<=.299*e[0]+.587*e[1]+.114*e[2])},p.getDomColor=function(e){return"#"+Number(e).toString(16)},p.linePath=function(e,t,i){if(null==i&&(i=!0),!e||!t||t.length<3)return null;e.moveTo(t[0].x,t[0].y);for(var n=t.length,a=1;a<n;a++)e.lineTo(t[a].x,t[a].y);return i&&e.lineTo(t[0].x,t[0].y),e},p.getRoundP=function(e,t,i){return[e,p.getXianDianByDis(10,!0,t,e),p.getXianDianByDis(10,!0,t,i),i]},p.addTicker=function(e,t,i){null==i&&(i=!0);var n=new PIXI.ticker.Ticker;return n.$this=t,n.add(function(){n.$this?e.call(n.$this):e()}),i&&n.start(),n},p.removeTicker=function(e){e&&(e.stop(),e.$this=null,delete e.$this)},p.delayCallFunc=function(e,t,i,n){null==n&&(n=50),i=i||this,e.call(i)?t.call(i):setTimeout(function(){p.delayCallFunc(e,t,i,n)},n)},p.makeOrStr=function(e,t){for(var i,n=t.length,a=e.length,r="",o=0;o<n;o++){for(i=0;i<a;i++)var s=e.charCodeAt(i),l=t.charCodeAt(o)^s;r+=String.fromCharCode(l)}return r},p.standardVariance=function(e){for(var t=e.length,i=0,n=0;n<t;n++)i+=e[n];var a=i/t,r=0;for(n=0;n<t;n++){var o=e[n]-a;r+=o*o}return Math.sqrt(r/t)},p.hitTestPoint=function(e,t,i){var n=e.getBounds();return i||(t=e.toGlobal(t)),n.contains(t.x,t.y)},p.alignPivot=function(e,t,i){t=t||"center",i=i||"center";"left"==t?e.pivot.x=0:"center"==t?e.pivot.x=e.width/2:"right"==t&&(e.pivot.x=e.width),"top"==i?e.pivot.y=0:"center"==i?e.pivot.y=e.height/2:"bottom"==i&&(e.pivot.y=e.height)},p.clone=function(e){if(null==e||"object"!=(0,r.default)(e))return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){for(var t=[],i=e.length,n=0;n<i;++n)t[n]=p.clone(e[n]);return t}if(e instanceof Object){for(var a in t={},e)e.hasOwnProperty(a)&&(t[a]=p.clone(e[a]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")},p.equals=function(e,t){if(e==t)return!0;if(void 0===t||null==t||"object"!=(0,r.default)(t))return!1;var i,n=0,a=0;for(i in e)n++;for(i in t)a++;if(n!=a)return!1;if(t.constructor!=e.constructor)return!1;for(i in e)if("object"==(0,r.default)(e[i])){if(!p.equals(e[i],t[i]))return!1}else if("function"==typeof e[i]){if(!p.equals(e[i].toString(),t[i].toString()))return!1}else if(e[i]!=t[i])return!1;return!0},p.getFirstChildren=function(e){for(var t,i=[],n=e.getElementsByTagName("*"),a=0,r=n.length;a<r;++a)1==n[a].nodeType&&(1==(t=n[a].parentNode).nodeType?t==e&&(i[i.length]=n[a]):t.parentNode==e&&(i[i.length]=n[a]));return i},p.setInputReg=function(e,t){$("#"+e).keyup(function(){var e=this.value.replace(t,"");$(this).val(e)})},p.debounce=function(n,a,r){var o;return null==a&&(a=250),function(){var e=this,t=arguments,i=r&&!o;clearTimeout(o),o=setTimeout(function(){o=null,r||n.apply(e,t)},a),i&&n.apply(e,t)}},p.getAddPIXIBMP=function(e,i){if(!e||!e.children||!i||0==i.length)return null;var n=null;return each(e.children,function(e,t){if(t&&t._nbData_&&t._nbData_.libName==i)return n=t,!1}),n},p.checkValidMT=function(e){return!e.type||-1<e.type.indexOf("touch")},p.fullScreen=function(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;void 0!==t&&t?t.call(e):void 0===window.ActiveXObject||null!=(e=new ActiveXObject("WScript.Shell"))&&e.SendKeys("{F11}")},p.exitFullScreen=function(){var e=document,t=e.cancelFullScreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.exitFullScreen;void 0!==t&&t?t.call(e):void 0===window.ActiveXObject||null!=(e=new ActiveXObject("WScript.Shell"))&&e.SendKeys("{F11}")},p.listenFullscreen=function(e,t){var i=null!=t?t:this,t=document.documentElement;t.requestFullscreen?document.addEventListener("fullscreenchange",function(){e.call(i,document.fullscreen)},!1):t.mozRequestFullScreen?document.addEventListener("mozfullscreenchange",function(){e.call(i,document.mozFullScreen)},!1):t.webkitRequestFullscreen?document.addEventListener("webkitfullscreenchange",function(){e.call(i,document.webkitIsFullScreen)},!1):t.msRequestFullscreen&&document.addEventListener("msfullscreenchange",function(){e.call(i,document.msFullscreenElement)},!1)},p.setRopePoints=function(e,t){e.points=t,e.vertices=new Float32Array(4*t.length),e.uvs=new Float32Array(4*t.length),e.colors=new Float32Array(2*t.length),e.indices=new Uint16Array(2*t.length),e.refresh.call(e)},p.checkIsWinXP=function(){var e="Win32"==navigator.platform||"Windows"==navigator.platform,t=!1,i=navigator.userAgent;return t=e?-1<i.indexOf("Windows NT 5.1")||-1<i.indexOf("Windows Xp"):t},p.killTweenMax=function(e,t){if(e)if(e instanceof Array)for(;e.length;)p.killTweenMax(e.pop());else if(TweenMax.killTweensOf(e.target,!1,null),!t){for(var i in e.prevNode=null,e.nextNode=null,e.target=null,e.vars)e.vars[i].this&&(e.vars[i].this=null),e.vars[i]=null;e.data=null}},e.exports=p},function(e,t,i){"use strict";var a=i(4),n=i(0),s=n(i(69)),l=n(i(1)),h=n(i(2)),c=n(i(5)),r=n(i(6)),o=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(i);return t=n?(e=(0,o.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var d=i(34),I=i(18),p=i(168),i=function(e){(0,c.default)(o,e);var r=u(o);function o(e,t,i){var n;(0,l.default)(this,o),(n=r.call(this)).medicine=null;var a=(n.equipment=e).root.viewStack;return n.mol=t,n.particleRemoved=!1,n.particle=d.getParticle(d.particles.water_spray),n.rendered=!1,n.totalMol=[],(0,s.default)(n.totalMol,{getAverage:{get:function(){for(var e=0,t=0;t<n.totalMol.length;t++)e+=n.totalMol[t];return e/n.totalMol.length}}}),e.parent&&((t=e.parent.gasContainer)?t.addChild(n.particle):e.parent.parent.gasContainer?e.parent.parent.gasContainer.addChild(n.particle):((t=e.parent)===a.eqLayer?t=a.particleLayer:t.isRubberCatheter&&(t=a),t.addChild(n.particle))),n.angle=i.rotation,n.pos=i,n.particle.bind(e,i.x,i.y),n.particle.allowGetBounds=!1,n.lostSprayCount=0,n.color=null,n.waterRenderCount=0,n}return(0,h.default)(o,[{key:"updateMedicine",value:function(e,t){if(this.medicine=e,this.mol=t,this.equipment.isGlassCatheter){var i=this.equipment.lines,t=i.endColor;this.color={color:[t>>16,t>>8&255,255&t],alpha:i.endAlpha}}else{for(var n=[],a=0;a<e.length;a++)0<e[a].getVol()&&n.push(e[a]);this.color=p.getMixerColor(this.equipment.capacity,n),null===this.color?this.color={color:[255,255,255],alpha:.3}:(i=this.color.color,(isNaN(this.color.alpha)||this.color.alpha<.3)&&(this.color.alpha=.3),this.color={color:[i>>16,i>>8&255,255&i],alpha:Math.min(1,this.color.alpha)})}}},{key:"render",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this.particle){if(this.equipment.parent){var i=this.equipment.parent;if(i.gasContainer)i.gasContainer!==this.particle.parent&&i.gasContainer.addChild(this.particle);else if(i.parent.gasContainer)i.parent.gasContainer!==this.particle.parent&&i.parent.gasContainer.addChild(this.particle);else{var n=this.equipment.root.viewStack;if(i===n.eqLayer&&n.particleLayer!==this.particle.parent){if(this.particle.parent)return this.particle.parent.removeChild(this.particle),this.particle.destroy(),void(this.particleRemoved=!0)}else if(i.isRubberCatheter&&n!==this.particle.parent&&this.particle.parent)return this.particle.parent.removeChild(this.particle),this.particle.destroy(),void(this.particleRemoved=!0)}}if(this.equipment.isGlassCatheter){this.equipment.parent===this.equipment.getEqLayer()?(this.particle.bindObjPosition=this.equipment.ropePoint[1],this.particle.bind(this.equipment,0,0)):this.particle.bind(this.equipment,this.pos.x,this.equipment.ropePoint[1].y);var a=this.equipment.currentContainer;if(5<this.waterRenderCount&&a&&a.medicineData&&!this.equipment.isUnderLiquid&&!TweenMax.isTweening(this.equipment))for(var r=a.medicineData.gasAry,o=0;o<r.length;o++)r[o].isBubble+=8}if(this.medicine&&1e-5<this.mol){10===this.totalMol.length&&this.totalMol.shift(),this.rendered=!0,this.waterRenderCount++,this.totalMol.push(this.mol);var i=2e4*this.totalMol.getAverage+10,n=I.retrieveRotation(this.particle.worldTransform),a=180*(I.retrieveRotation(this.equipment.worldTransform)+this.angle-n)/Math.PI;try{this.particle.setParticleProp("minStartRotation",a-10),this.particle.setParticleProp("maxStartRotation",10+a);var s,l,h,c,u,d=this.equipment.currentContainer,p=this.color.color,f=this.color.alpha;d&&(s=d.liquidGra[0].liquidColor,l=d.liquidGra[0].liquidAlpha,s&&l&&(p=[s>>16,s>>8&255,255&s],f=l),("RoundBottomFlask"===d.name||"FlorenceFlask"===d.name||"SmallRoundBottomFlask"===d.name)&&this.equipment.ropePoint&&3.14<=Math.abs(d.rotation)&&(c=d.bounds,h=d.getViewStack().scale.x,c=c||(d.bounds=d.getBounds()),d.updateTransform(),u=c.height/h-d.toLocal({x:this.pos.x,y:this.equipment.ropePoint[1].y},this.equipment).y,i=Math.sqrt(2400*u)*t,this.particle.particle&&1.1!==this.particle.particle.maxLifetime&&(this.particle.setParticleProp("maxLifetime",1.1),this.particle.setParticleProp("maxParticles",300)))),this.particle.setParticleProp("startSpeed",i),this.particle.setParticleProp("endSpeed",i),this.particle.setParticleProp("startColor",this.color.color),this.particle.setParticleProp("endColor",p),this.particle.setParticleProp("startAlpha",this.color.alpha),this.particle.setParticleProp("acceleration",{x:2500*Math.sin(n),y:2500*Math.cos(n)}),this.particle.setParticleProp("endAlpha",f),this.particle.render(),this.lostSprayCount=0}catch(e){}}else this.destroy()}}},{key:"destroy",value:function(e){var t=this;if(this.lostSprayCount++,this.waterRenderCount=0,10<this.lostSprayCount||e)try{this.particle&&(this.particle.setParticleProp("_emitterLife",.01),this.rendered&&this.particle.render(),setTimeout(function(){t.particle.parent&&(t.particle.parent.removeChild(t.particle),t.particle.destroy(),t.particleRemoved=!0)},800))}catch(e){}else this.rendered&&this.particle.render()}}]),o}(PIXI.Container);e.exports=i},function(e,t,RubberCatheter){"use strict";var a=RubberCatheter(4),i=RubberCatheter(0),s=i(RubberCatheter(46)),l=i(RubberCatheter(69)),r=i(RubberCatheter(9)),n=i(RubberCatheter(1)),o=i(RubberCatheter(2)),h=i(RubberCatheter(7)),c=i(RubberCatheter(5)),u=i(RubberCatheter(6)),d=i(RubberCatheter(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=RubberCatheter(8),Y=RubberCatheter(18),Q=RubberCatheter(52),I=RubberCatheter(27),g=RubberCatheter(33),m=RubberCatheter(145),y=RubberCatheter(16),UShapeTube=RubberCatheter(400),Flume=RubberCatheter(266),v=RubberCatheter(70),C=RubberCatheter(11),M=RubberCatheter(75),b=RubberCatheter(26),x=RubberCatheter(45),RubberCatheter=function(){(0,c.default)(RubberCatheter,f);var i=p(RubberCatheter);function RubberCatheter(e){var t;return(0,n.default)(this,RubberCatheter),(t=i.call(this)).name="RubberCatheter",t.CNName="橡胶管",t.isRubberCatheter=!0,t.maxOpenMouth=2,t._catheterIsStoped=!1,t.cannotSystemDrag=!0,t.ropeBound=new PIXI.Graphics,t.ropeBound.renderable=!1,t.stopedContainer=[],t.rubberPoint=Array(50).fill({x:0,y:0}),t.lastLeftPos={x:void 0,y:void 0,rotation:0},t.lastRightPos={x:void 0,y:void 0,rotation:0},t.capacity=2,e&&(t.dataBuild=e.dataBuild),t.z_index=21.06,t.fromFrameImage="".concat(t.name,"/catheterSoftRubber.png"),t.straight=2,t}return(0,o.default)(RubberCatheter,[{key:"catheterIsStoped",get:function(){return this._catheterIsStoped},set:function(e){e!==this._catheterIsStoped&&(this._catheterIsStoped=e,0<this.stopedContainer.length&&this.stopedContainer.forEach(function(e){e.hasReact+=2,e.medicineData.pascalAllLines=null}))}},{key:"creationComplete",value:function(){(0,h.default)((0,d.default)(RubberCatheter.prototype),"creationComplete",this).call(this),this.medicine={};var n=this,e=this.root.medicineManager.getMedicineData("O2"),t=this.root.medicineManager.getMedicineData("N2"),i=.2*this.capacity*e.density_gas/x.getMoleculeRelativeMass("O2"),a=.8*this.capacity*t.density_gas/x.getMoleculeRelativeMass("N2");this.medicine.gasAry=[],this.medicine.capacity=this.capacity,this.medicine.liquidAry=[],this.medicine.leakageMedicine=[],NBGesture.addGesture(this.leftHead,NBGesture.gesture.TAP),NBGesture.addGesture(this.rightHead,NBGesture.gesture.TAP),this.leftHead.on(NBGesture.gesture.TAP,this.eqTap.bind(this)),this.rightHead.on(NBGesture.gesture.TAP,this.eqTap.bind(this)),(0,s.default)(this.medicine.gasAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return e}}),(0,s.default)(this.medicine.liquidAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return e}}),(0,l.default)(this.medicine.leakageMedicine,{mol:{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].mol;return e}}}),this.medicine.gasAry.push(new I(e,i)),this.medicine.gasAry.push(new I(t,a)),this.medicine.getCurrentCapacity=function(){var t=0;return this.gasAry.forEach(function(e){t+=e.getVol()}),this.liquidAry.forEach(function(e){t+=e.getVol()}),t},this.medicine.getLiuqidPercent=function(){return this.liquidAry.vol/n.capacity},this.medicine.pop=function(e,t){this.getCurrentCapacity();this.leakageMedicine.length=0;for(var i=!1,n="gasAry"===e?"liquidAry":"gasAry",a=this[e].vol<=t?(i=!0,1):t/this[e].vol,r=0;r<this[e].length;r++){var o,s,l=this[e][r];l.mol<1e-18?this[e].splice(r,1):(o=l.mol*a,isNaN(o)||0==o||(s=void 0,"gasAry"===e?(s=l.deepClone()).mol=o:s=new g(l.dat,o),l.mol-=o,l.mol<=0&&(i=!0,s.mol=o+l.mol,this[e].splice(r,1),r--),0<s.mol&&(this.leakageMedicine.push(s),s.setTemp((s.getTemp()+C.DEFAULT_TEMP)/2))))}if(i)for(var h=(this.getCurrentCapacity()-this.capacity)/this[n].vol,c=0;c<this[n].length;c++){var u=this[n][c];if(0!==u.mol){var d=u.mol*h;if(isNaN(d)||0==d)return;var p=void 0;"gasAry"==n?(p=u.deepClone()).mol=d:p=new g(u.dat,d),u.mol-=d,u.mol<=0&&(i=!0,p.mol=d+u.mol,this[n].splice(c,1),c--),0<p.mol&&(this.leakageMedicine.push(p),p.setTemp(((p.temp||p.getTemp())+C.DEFAULT_TEMP)/2))}else this[n].splice(c,1),c--}},this.medicine.push=function(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)this.push(e[i],!0);e[0]&&(e[0].type===v.GAS?0<this.liquidAry.length?this.pop("liquidAry",this.getCurrentCapacity()-this.capacity):this.pop("gasAry",this.getCurrentCapacity()-this.capacity):0<this.gasAry.length?this.pop("gasAry",this.getCurrentCapacity()-this.capacity):this.pop("liquidAry",this.getCurrentCapacity()-this.capacity))}else if(e.type===v.LIQUID){for(var n=this.liquidAry.length,a=0;a<n;a++){var r=this.liquidAry[a];if(r.name===e.name){var o=r.getMol()+e.mol;r.setMol(o);break}}a===n&&(e=M.getMedFromEasyMed(e),this.liquidAry.push(e)),t||this.pop("gasAry",this.getCurrentCapacity()-this.capacity)}else if(e.type===v.GAS){for(var s=this.gasAry.length,l=0;l<s;l++){var h=this.gasAry[l];if(h.name===e.name){var c=22.4*e.mol*1e3,u=h.getVol()+c,c=(h.getVol()*h.getTemp()+c*(e.temp||e.getTemp()))/u;h.fogCount=Math.max(e.fogCount,h.fogCount),h.setVol(u),h.setTemp(c);break}}l===s&&(e=M.getMedFromEasyMed(e),this.gasAry.push(e)),t||this.pop("liquidAry",this.getCurrentCapacity()-this.capacity)}},this.removeChild(this.texture);var r=((this.leftHead.rubber=this).rightHead.rubber=this).leftHead,o=this.rightHead;(0,s.default)(this.leftHead,"equipment",{set:function(e){var t,i=r.rubber.addedNode;e?(r._equipment=e,i.includes(e)||i.push(e),e.emit("appendEquipment",r.rubber)):(t=r._equipment)&&(e=t.addedNode,t.addedRubberArray?t.removeAddedRubber(r):t.addedRubber=null,e.includes(r.rubber)&&e.splice(e.indexOf(r.rubber),1),i.includes(r._equipment)&&i.splice(i.indexOf(r._equipment),1),r._equipment=null,n.root.resetPascalNode())},get:function(){return r._equipment}}),(0,s.default)(this.rightHead,"equipment",{set:function(e){var t,i=o.rubber.addedNode;e?(o._equipment=e,i.includes(e)||i.push(e),e.emit("appendEquipment",o.rubber)):(t=o._equipment)&&(e=o._equipment.addedNode,t.addedRubberArray?t.removeAddedRubber(o):o._equipment.addedRubber=null,e.includes(o.rubber)&&e.splice(e.indexOf(o.rubber),1),i.includes(o._equipment)&&i.splice(i.indexOf(o._equipment),1),o._equipment=null,n.root.resetPascalNode())},get:function(){return o._equipment}}),this.init(),this.waterParticle=[{x:-this.leftHead.width/2,y:0,rotation:Math.PI,waterParticle:null,bindAttr:"leftHead",secondAttr:"equipment"},{x:this.rightHead.width/2,y:0,rotation:0,waterParticle:null,bindAttr:"rightHead",secondAttr:"equipment"}],this.dataBuild||this.showMySelf()}},{key:"init",value:function(){var t=this,e=this;this.ropeRubber=new PIXI.mesh.Rope(PIXI.Texture.fromFrame(this.fromFrameImage),this.rubberPoint),this.ropeRubber.isRope=!0,this.ropeRubber.alpha=0,this.ropeRubber.root=this.root,setTimeout(function(){t.addChildAt(t.ropeRubber,0),t.ropeRubber.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){this.parent.timer=(new Date).getTime(),this.parent.__globalPoint__=(0,r.default)({},e.data.global)})},100),this.ropeRubber.addChild(this.ropeBound),this.ropeRubber.on(NBEvent.del.PREPARE_DELETE,function(){t.ropeRubber.addChildWithSamePos(t.leftHead),t.leftHead.equipment=null,t.ropeRubber.addChildWithSamePos(t.rightHead),t.rightHead.equipment=null,t.waterParticle.forEach(function(e){e.waterParticle&&e.waterParticle.destroy(!0)})}),this.leftHead.on(NBEvent.del.PREPARE_DELETE,function(){e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e]})}),this.rightHead.on(NBEvent.del.PREPARE_DELETE,function(){e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e]})}),NBDrag.addDrag(this.leftHead),NBDrag.addDrag(this.rightHead),NBDrag.addDrag(this.ropeRubber),this.leftHead.isLeft=1,this.rightHead.isLeft=0,this.leftHead.brother=this.rightHead,this.rightHead.brother=this.leftHead,this.dragListeners();var i=this.root.mouseManager;function n(e){e=e.target;i.changeMouseStatus(y.status.PLUCK,!0,e)}function a(e){i.changeMouseStatus(y.status.PLUCK,!1,e)}this.leftHead.on(MouseEvent.MOUSE_OVER,function(e){n.call(t,e)}),this.rightHead.on(MouseEvent.MOUSE_OVER,function(e){n.call(t,e)}),this.leftHead.on(MouseEvent.MOUSE_OUT,function(){a.call(t,t.leftHead)}),this.rightHead.on(MouseEvent.MOUSE_OUT,function(){a.call(t,t.rightHead)})}},{key:"dragListeners",value:function(){var a=this,r=!1;function t(e){var t=e.target;TweenMax.killTweensOf(t),t._gsTweenID&&delete TweenLite._internals.tweenLookup[t._gsTweenID];for(var i,n=this.getEquipments(),a=0;a<n.length;a++){var r,o=n[a];if(t.hitTest(o)&&o.allowRubberCatheter&&(!o.addedRubberArray&&null===o.addedRubber||o.addedRubberArray&&o.addedRubberArray.allow)){if("StraightGlassCatheter"!==o.name||!o.topAirBalloon)return t.equipment&&(t.equipment.addedRubber&&(t.equipment.addedRubber=null),t.equipment.removeAddedRubber&&t.equipment.removeAddedRubber(t)),o.addChildWithSamePos(t),o.name.includes("PlasticInjector")&&(t.rotation-=o.getRealRotation()),i=o,((r=t).equipment=i).addedRubberArray?i.addedRubberArray.addTarget=r:i.addedRubber=r,void(void 0!==o.isLeft?t.isLeft+o.isLeft==1?0==t.isLeft?TweenMax.to(t,.5,{x:o.rubberPos.x,y:o.rubberPos.y,rotation:-Math.PI}):TweenMax.to(t,.5,{x:o.rubberPos.x,y:o.rubberPos.y,rotation:Math.PI}):TweenMax.to(t,.5,{x:o.rubberPos.x,y:o.rubberPos.y,rotation:0}):(r=Y.retrieveRotation(t.worldTransform),s=void 0,s=0<Y.retrieveRotation(o.worldTransform)-r?-1:1,1===t.isLeft?TweenMax.to(t,.5,{x:o.rubberPos.x,y:o.rubberPos.y,rotation:o.rubberPos.rotation}):TweenMax.to(t,.5,{x:o.rubberPos.x,y:o.rubberPos.y,rotation:o.rubberPos.rotation+Math.PI*s})))}else{var s="rightHead"===t.name?"leftHead":"rightHead";t.rubber[s].hitTest(o)||function(e,t){t=e.rubber.addedNode.indexOf(t);-1!==t&&e.rubber.addedNode.splice(t,1)}(t,o)}}t.equipment&&(t.equipment.addedRubber&&(t.equipment.addedRubber=null),t.equipment.removeAddedRubber&&t.equipment.removeAddedRubber(t),t.equipment=null,e=Y.retrieveRotation(t.worldTransform),this.getEqLayer().addChildWithSamePos(t),t.rotation=e,1==t.isLeft?TweenMax.to(t,.5,{rotation:Math.PI/2}):TweenMax.to(t,.5,{rotation:-Math.PI/2}))}function e(e){var t=e.target;TweenMax.killTweensOf(t),t._gsTweenID&&delete TweenLite._internals.tweenLookup[t._gsTweenID],!t.equipment||void 0!==t.equipment.addedRubberArray&&-1==t.equipment.addedRubberArray.indexOf(t)||(t.equipment.addedRubber&&(t.equipment.addedRubber=null),t.equipment.removeAddedRubber&&t.equipment.removeAddedRubber(t),t.equipment=null,t.rotation=Y.retrieveRotation(t.worldTransform),1==t.isLeft?TweenMax.to(t,.5,{rotation:Math.PI/2}):TweenMax.to(t,.5,{rotation:-Math.PI/2}));var i,n=e.data.global,e={x:0,y:0};t.lastPos&&(e={x:n.x-t.lastPos.x,y:n.y-t.lastPos.y}),t.lastPos={x:n.x,y:n.y},TweenMax.killTweensOf(t),t._gsTweenID&&delete TweenLite._internals.tweenLookup[t._gsTweenID],t.isLeft?(i=Math.min(Math.PI/2+e.x/5,Math.PI),(i=Math.max(i,0))<=Math.PI/2?TweenMax.to(t,.3,{rotation:i-e.y/7}):TweenMax.to(t,.3,{rotation:i+e.y/7})):(i=Math.min(-Math.PI/2+e.x/5,0),i=Math.max(i,-Math.PI),t.rotation<=-Math.PI/2?TweenMax.to(t,.3,{rotation:i-e.y/7}):TweenMax.to(t,.3,{rotation:i+e.y/7}))}this.ropeRubber.on(NBDrag.event.PREPARE_DRAG,function(e){var t=a.leftHead.equipment,i=a.rightHead.equipment;(!t||(t.isGlassCatheter||t.isSharpNoseGlassTube||t instanceof UShapeTube||t.isPhTestPart)&&t.viewStack===a.getViewStack())&&(!i||(i.isGlassCatheter||i.isSharpNoseGlassTube||i instanceof UShapeTube||i.isPhTestPart)&&i.viewStack===a.getViewStack())?(r=!0,i=e.data.global,e.target.lastPos={x:i.x,y:i.y}):r=!1}),this.ropeRubber.on(NBDrag.event.DRAG_MOVE,function(e){var t,i,n=e.target;n.x=n.y=0,r&&(t=e.data.global,i={x:0,y:0},e=a.getViewStack().scale.x,i.x=(t.x-n.lastPos.x)/e,i.y=(t.y-n.lastPos.y)/e,n.lastPos={x:t.x,y:t.y},a.leftHead.equipment?(a.leftHead.equipment.x+=i.x,a.leftHead.equipment.y+=i.y):(a.leftHead.x+=i.x,a.leftHead.y+=i.y),a.rightHead.equipment?a.leftHead.equipment!==a.rightHead.equipment&&(a.rightHead.equipment.x+=i.x,a.rightHead.equipment.y+=i.y):(a.rightHead.x+=i.x,a.rightHead.y+=i.y))}),this.ropeRubber.on(NBDrag.event.STOP_DRAG,function(){a.leftHead.equipment?a.leftHead.equipment.emit(NBDrag.event.STOP_DRAG):t.call(a,{target:a.leftHead}),a.rightHead.equipment?a.rightHead.equipment.emit(NBDrag.event.STOP_DRAG):t.call(a,{target:a.rightHead})}),this.leftHead.addEventListener(NBDrag.event.START_DRAG,function(e){e.data.originalEvent.stopPropagation(),a.parent&&a.parent.addChild(a)}),this.rightHead.addEventListener(NBDrag.event.START_DRAG,function(e){e.data.originalEvent.stopPropagation(),a.parent&&a.parent.addChild(a)}),this.leftHead.addEventListener(NBDrag.event.STOP_DRAG,function(e){e.evt.stopPropagation(),t.call(a,e),a.parent&&a.parent.addChild(a)}),this.rightHead.addEventListener(NBDrag.event.STOP_DRAG,function(e){e.evt.stopPropagation(),t.call(a,e),a.parent&&a.parent.addChild(a)}),this.dragEndHandler=t,this.leftHead.on(NBDrag.event.PREPARE_DRAG,function(){TweenMax.killTweensOf(a.leftHead),a.leftHead._gsTweenID&&delete TweenLite._internals.tweenLookup[a.leftHead._gsTweenID],a.leftHead.equipment&&a.getEqLayer().addChildWithSamePos(a.leftHead)}),this.rightHead.on(NBDrag.event.PREPARE_DRAG,function(){TweenMax.killTweensOf(a.rightHead),a.rightHead._gsTweenID&&delete TweenLite._internals.tweenLookup[a.rightHead._gsTweenID],a.rightHead.equipment&&a.getEqLayer().addChildWithSamePos(a.rightHead)}),this.leftHead.on(NBDrag.event.DRAG_MOVE,e.bind(this)),this.rightHead.on(NBDrag.event.DRAG_MOVE,e.bind(this))}},{key:"updateRopePoint",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=this.lastLeftPos.rotation,n=this.lastRightPos.rotation,a=this.root.viewStack.scale.x,r=!1;if(this.lastLeftPos.x===e.x&&this.lastLeftPos.y===e.y||(i=Y.retrieveRotation(this.leftHead.worldTransform),r=!0),this.lastLeftPos=e,this.lastLeftPos.rotation=i,this.lastRightPos.x===t.x&&this.lastRightPos.y===t.y||(n=Y.retrieveRotation(this.rightHead.worldTransform),r=!0),r=this.isMoving?!0:r){this.changedBoundsAndFreshSelect(),this.lastRightPos=t,this.lastRightPos.rotation=n;var o,s=Q.distance(e,t),r=Math.min(80,s/2)*Math.sqrt(a),l=["leftHead","rightHead"],s=Math.abs(e.x-t.x)/4;this.leftHead.equipment&&-1===this.leftHead.equipment.scale.x?this.leftHead.scale.y=-1:this.leftHead.scale.y=1,this.rightHead.equipment&&-1===this.rightHead.equipment.scale.x?this.rightHead.scale.y=-1:this.rightHead.scale.y=1;for(var h,c,u,d={x:e.x+r*Math.cos(i),y:e.y+r*Math.sin(i)},p={x:t.x-r*Math.cos(n),y:t.y-r*Math.sin(n)},f=0;f<l.length;f++){var I=l[f],g=void 0;if(this[I].parent&&this[I].parent.isInChoiceContainer instanceof Function&&(g=this[I].parent.isInChoiceContainer(Flume)),(g=this[I].equipment&&this[I].equipment.addedBottle&&this[I].equipment.addedBottle.parent&&this[I].equipment.addedBottle.parent.capacityVertex instanceof Array&&!g?this[I].equipment.addedBottle.parent:g)&&g!==this.getEqLayer()){var m,y,v,I=g.localBounds,g=g.toGlobal({x:I.x,y:I.y}),C={x:g.x,y:g.y,width:I.width*a,height:I.height*a},M=0===f?(h=!1,m=e,y=t,v=p,d):(h=!0,m=t,y=e,v=d,p);if("GlassRubberCatheter"===this.name||"PhTesterWire"===this.name||!(C.x<m.x&&C.x+C.width>m.x&&C.y<m.y&&C.y+C.height>m.y))break;var g=(m.y-v.y)/(m.x-v.x),b=0<M.x-v.x;if(v.x<=C.x||y.x<=C.x){I=(m.y-C.y)/(m.x-C.x)*1.3;if(0<C.y-v.y&&m.y-C.y<0)break;if(m.x-C.x<0&&0<m.x-v.x)break;(g<I||5<g)&&(o={x:C.x+15*a,y:C.y-7*a},v.x>C.x&&(v.x=C.x),M.x=C.x);break}if(v.x>=C.x+C.width||y.x>=C.x+C.width){if("break"===function(){m.y,m.x;return 0<C.y-v.y&&m.y-C.y<0||0<m.x-(C.x+C.width)&&m.x-v.x<0||(o={x:C.x+C.width-30*a,y:C.y-7},v.x<C.x+C.width&&(v.x=C.x+C.width)),"break"}())break}else if(v.y>C.y+C.height){o={x:(y.x+m.x)/2,y:C.y};break}}}if(this.ropeBound.clear(),this.ropeBound.beginFill(16711680,1),o){var x,O=s<50?s:50,A=b?o.x-O*a:o.x+O*a,T=o.y,S=b?o.x+O*a:o.x-O*a,w=o.y,B=Q.distance(y,o),O=Q.distance(o,m),D=Math.round(50*B/(B+O)),P=50-D,L=0;if(h){for(this.rubberPoint[L]=this.toLocal(y),L=1;L<D;L++){var N=L/D,J=y.x*Math.pow(1-N,3)+3*v.x*N*Math.pow(1-N,2)+3*A*Math.pow(N,2)*(1-N)+o.x*Math.pow(N,3),N=y.y*Math.pow(1-N,3)+3*v.y*N*Math.pow(1-N,2)+3*T*Math.pow(N,2)*(1-N)+o.y*Math.pow(N,3);this.rubberPoint[L]=this.toLocal({x:J,y:N})}for(x=0;x<P-1;x++){var _=x/P,E=o.x*Math.pow(1-_,3)+3*S*_*Math.pow(1-_,2)+3*M.x*Math.pow(_,2)*(1-_)+m.x*Math.pow(_,3),_=o.y*Math.pow(1-_,3)+3*w*_*Math.pow(1-_,2)+3*M.y*Math.pow(_,2)*(1-_)+m.y*Math.pow(_,3);this.rubberPoint[L+x]=this.toLocal({x:E,y:_})}this.rubberPoint[L+x]=this.toLocal(m)}else{for(this.rubberPoint[L]=this.toLocal(m),L=1;L<D;L++){var k=L/D,q=m.x*Math.pow(1-k,3)+3*M.x*k*Math.pow(1-k,2)+3*S*Math.pow(k,2)*(1-k)+o.x*Math.pow(k,3),k=m.y*Math.pow(1-k,3)+3*M.y*k*Math.pow(1-k,2)+3*w*Math.pow(k,2)*(1-k)+o.y*Math.pow(k,3);this.rubberPoint[L]=this.toLocal({x:q,y:k})}for(x=0;x<P-1;x++){var R=x/P,F=o.x*Math.pow(1-R,3)+3*A*R*Math.pow(1-R,2)+3*v.x*Math.pow(R,2)*(1-R)+y.x*Math.pow(R,3),R=o.y*Math.pow(1-R,3)+3*T*R*Math.pow(1-R,2)+3*v.y*Math.pow(R,2)*(1-R)+y.y*Math.pow(R,3);this.rubberPoint[L+x]=this.toLocal({x:F,y:R})}this.rubberPoint[L+x]=this.toLocal(y)}}else for(var j=(B=2,O=25,Math.pow(O,B)*this.straight),V=0;V<50;V++){var H=(G=j,H=2,(c=V)<=(u=25)?Math.pow(c,H)/G:1-Math.pow(2*u-c,H)/G),G=e.x*Math.pow(1-H,3)+3*d.x*H*Math.pow(1-H,2)+3*p.x*Math.pow(H,2)*(1-H)+t.x*Math.pow(H,3),H=e.y*Math.pow(1-H,3)+3*d.y*H*Math.pow(1-H,2)+3*p.y*Math.pow(H,2)*(1-H)+t.y*Math.pow(H,3);this.rubberPoint[V]=this.toLocal({x:G,y:H})}for(var z=[],X=0;X<49;X++){var W=this.rubberPoint[X],Z=this.rubberPoint[X+1],U=Q.interpolate(W,Z,.5),W=Math.atan2(Z.y-W.y,Z.x-W.x);z[X]={x:U.x+35*Math.sin(W),y:U.y-35*Math.cos(W)},z[97-X]={x:U.x-35*Math.sin(W),y:U.y+35*Math.cos(W)}}this.ropeBound.moveTo(this.rubberPoint[0].x,this.rubberPoint[0].y);for(var K=0;K<z.length;K++)this.ropeBound.lineTo(z[K].x,z[K].y);this.ropeBound.endFill()}}},{key:"update",value:function(e){(0,h.default)((0,d.default)(RubberCatheter.prototype),"update",this).call(this,e);for(var t=[],i=0,n=0;n<this.medicine.leakageMedicine.length;n++){var a=this.medicine.leakageMedicine[n];a instanceof g&&(t.push(a),i+=a.mol,a.mol/=2)}for(var r,o=0;o<this.waterParticle.length;o++){var s,l=this.waterParticle[o];null===this[l.bindAttr]||l.secondAttr&&!this[l.bindAttr][l.secondAttr]?l.waterParticle&&!1===l.waterParticle.particleRemoved?(l.waterParticle.updateMedicine(t,i),s=b.rotatePoly([l],this[l.bindAttr].rotation)[0],l.waterParticle.particle.bindOffsetX=s.x,l.waterParticle.particle.bindOffsetY=s.y,l.waterParticle.render()):1e-5<i&&(l.waterParticle=new m(this[l.bindAttr],i,l)):l.waterParticle&&(l.waterParticle.destroy(!0),l.waterParticle=null)}this.leftHead&&(r=this.leftHead.toGlobal({x:-5,y:0}),this.rightHead.parent.updateTransform(),e=this.rightHead.toGlobal({x:5,y:0}),this.updateRopePoint(r,e,this.leftHead.rotation,this.rightHead.rotation))}},{key:"showMySelf",value:function(e){e?this[e].alpha=1:(this.leftHead.alpha=1,this.rightHead.alpha=1),1===this.leftHead.alpha&&1===this.rightHead.alpha&&(this.ropeRubber.alpha=1)}},{key:"addChild",value:function(e){var t=this.children.find(function(e){return"FlatjawPinchcock"===e.name});t&&!e.name?(t=0<(t=this.getChildIndex(t))?t-1:0,(0,h.default)((0,d.default)(RubberCatheter.prototype),"addChildAt",this).call(this,e,t)):(0,h.default)((0,d.default)(RubberCatheter.prototype),"addChild",this).call(this,e)}},{key:"toJSON",value:function(){return(0,r.default)((0,h.default)((0,d.default)(RubberCatheter.prototype),"toJSON",this).call(this),{leftHeadPos:{x:this.leftHead.x,y:this.leftHead.y},rightHeadPos:{x:this.rightHead.x,y:this.rightHead.y},leftRotation:this.leftHead.rotation,rightRotation:this.rightHead.rotation,leftEquipment:this.leftHead.equipment?this.leftHead.equipment.getUUID():void 0,rightEquipment:this.rightHead.equipment?this.rightHead.equipment.getUUID():void 0,catheterIsStoped:this.catheterIsStoped})}},{key:"setJSON",value:function(t){var i=this;(0,h.default)((0,d.default)(RubberCatheter.prototype),"setJSON",this).call(this,t),this.catheterIsStoped=t.catheterIsStoped,t.leftEquipment?this.getEquipmentByUUID(t.leftEquipment).then(function(e){e.addChild(i.leftHead),e.addedRubberArray?e.addedRubberArray.addTarget=i.leftHead:e.addedRubber=i.leftHead,i.leftHead.equipment=e,i.leftHead.x=t.leftHeadPos.x,i.leftHead.y=t.leftHeadPos.y,i.leftHead.rotation=t.leftRotation,i.showMySelf("leftHead"),e.emit("appendEquipment",i)},function(e){i.showMySelf("leftHead")}):(this.leftHead.x=t.leftHeadPos.x,this.leftHead.y=t.leftHeadPos.y,this.leftHead.rotation=t.leftRotation,this.showMySelf("leftHead")),t.rightEquipment?this.getEquipmentByUUID(t.rightEquipment).then(function(e){e.addChild(i.rightHead),e.addedRubberArray?e.addedRubberArray.addTarget=i.rightHead:e.addedRubber=i.rightHead,i.rightHead.equipment=e,i.rightHead.x=t.rightHeadPos.x,i.rightHead.y=t.rightHeadPos.y,i.rightHead.rotation=t.rightRotation,i.showMySelf("rightHead"),e.emit("appendEquipment",i)}):(this.rightHead.x=t.rightHeadPos.x,this.rightHead.y=t.rightHeadPos.y,this.rightHead.rotation=t.rightRotation,this.showMySelf("rightHead"))}}]),RubberCatheter}();e.exports=RubberCatheter},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8);i(11);e.exports=function(){(0,h.default)(i,p);var t=d(i);function i(){var e;return(0,o.default)(this,i),(e=t.call(this)).z_index=23.19,e}return(0,s.default)(i,[{key:"creationComplete",value:function(){var t=this;(0,l.default)((0,u.default)(i.prototype),"creationComplete",this).call(this),this.createPaperAndDrag(),this.touchArea.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){t.createPaperAndDrag(e)}),this.initText()}},{key:"initText",value:function(){}},{key:"createPaperAndDrag",value:function(i){var n=this;i?(i.stopPropagation(),this.createPaper(function(e){e.hasUp||(i.target=e,i.type="pointerdown",i.capture=!1,TouchEvent.simulateTouchDown(e,i),e.timer=(new Date).getTime(),e.__globalPoint__=(0,r.default)({},i.data.global),e.getViewStack().needTouchUpAry.push(e)),delete e.hasUp;var t=n.root.viewStack.toLocal(i.data.global);e.y=t.y-10})):this.createPaper(function(e){n.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e]})})}},{key:"createPaper",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=this.root.execute(NBCommand.ADD_EQUIPMENT,{name:"TestPaper"});i.CNName="单片"+this.CNName;var n=this.root.viewStack.toLocal(new PIXI.Point(26,52),this);return i.x=n.x,i.y=n.y,i.on("creationComplete",function(){i.createOri(e.name),t&&t(i)}),i}}]),i}()},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,i){var n=i(82).f,a=i(102),r=i(68)("toStringTag");e.exports=function(e,t,i){e&&!a(e=i?e:e.prototype,r)&&n(e,r,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){function n(){}var a=i(81),r=i(276),o=i(215),s=i(214)("IE_PROTO"),l="prototype",h=function(){var e=i(205)("iframe"),t=o.length;for(e.style.display="none",i(277).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),h=e.F;t--;)delete h[l][o[t]];return h()};e.exports=Object.create||function(e,t){var i;return null!==e?(n[l]=a(e),i=new n,n[l]=null,i[s]=e):i=h(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(152),a=i(148),r=i(94),o=i(206),s=i(102),l=i(271),h=Object.getOwnPropertyDescriptor;t.f=i(76)?h:function(e,t){if(e=r(e),t=o(t,!0),l)try{return h(e,t)}catch(e){}if(s(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t,i){"use strict";var n=i(435)(!0);i(217)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=n(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t){e.exports={}},function(e,t,i){var u=i(92),d=i(280),p=i(281),f=i(81),I=i(175),g=i(283),m={},y={};(t=e.exports=function(e,t,i,n,a){var r,o,s,l,a=a?function(){return e}:g(e),h=u(i,n,t?2:1),c=0;if("function"!=typeof a)throw TypeError(e+" is not iterable!");if(p(a)){for(r=I(e.length);c<r;c++)if((l=t?h(f(o=e[c])[0],o[1]):h(e[c]))===m||l===y)return l}else for(s=a.call(e);!(o=s.next()).done;)if((l=d(s,h,o.value,t))===m||l===y)return l}).BREAK=m,t.RETURN=y},function(e,t,i){"use strict";var n=i(0),l=n(i(61)),h=n(i(229)),o=n(i(25)),i={},c={result:"ryb",hex:!0};function u(e){return e=e.replace("#",""),[(0,o.default)(e.substr(0,2),16),(0,o.default)(e.substr(2,2),16),(0,o.default)(e.substr(4,2),16)]}function a(e){function t(e){return(h-e)/6/c+.5}var i,n,a,r,o=e[0]/255,s=e[1]/255,l=e[2]/255,h=Math.max(o,s,l),c=h-Math.min(o,s,l);return 0==c?a=r=0:(r=c/h,i=t(o),n=t(s),e=t(l),o===h?a=e-n:s===h?a=1/3+i-e:l===h&&(a=2/3+n-i),a<0?a+=1:1<a&&--a),[Math.round(360*a),Math.round(100*r),Math.round(100*h)]}function d(e){var t=1==(t=Math.round(e[0]).toString(16)).length?"0"+t:t,i=1==(i=Math.round(e[1]).toString(16)).length?"0"+i:i,e=Math.round(e[2]).toString(16);return t+i+(e=1==e.length?"0"+e:e)}function p(e,t,i){return t+e*e*(3-2*e)*(i-t)}i.mix=function(){var e=JSON.parse((0,h.default)(c)),t=arguments[arguments.length-1];"object"==(0,l.default)(t)&&t.constructor!=Array&&(e.result=(s=t).result||e.result,e.hex=(void 0!==s.hex?s:e).hex,arguments.length--);for(var i=[],n=[],a=0,r=(i=arguments[0].constructor==Array&&"number"!=typeof arguments[0][0]?arguments[0]:arguments).length;a<r;a++){var o=i[a];"string"==typeof o&&(o=u(o)),n.push(o)}var s=function(e){for(var t=0,i=0,n=0,a=0,r=e.length;a<r;a++){var o=e[a];t+=o[0],i+=o[1],n+=o[2]}var s=Math.max(t,i,n),l=Math.min(s,255),h=Math.floor(t/s*l),c=Math.floor(i/s*l),l=Math.floor(n/s*l);return[h,c,l]}(n);return"rgb"==e.result&&(s=function(e,t){"string"==typeof e&&(e=u(e));var i=e[0]/255,n=e[1]/255,a=e[2]/255,r=function(e,t,i){var n=p(i,1,.163),a=p(i,1,0),r=p(i,1,.5),i=p(i,1,.2),a=p(t,n,a),i=p(t,r,i);return Math.ceil(255*p(e,a,i))}(i,n,a),e=function(e,t,i){var n=p(i,1,.373),a=p(i,1,.66),r=p(i,0,0),i=p(i,.5,.094),a=p(t,n,a),i=p(t,r,i);return Math.ceil(255*p(e,a,i))}(i,n,a),a=function(e,t,i){var n=p(i,1,.6),a=p(i,0,.2),r=p(i,0,.5),i=p(i,0,0),a=p(t,n,a),i=p(t,r,i);return Math.ceil(255*p(e,a,i))}(i,n,a),a=[r,e,a];t&&1==t.hex&&(a=d(a));return a}(s)),s=e.hex?d(s):s},i.rybToRgb=function(e){var t,i="string"==typeof e?(t=(e=[e=(0,o.default)("0x"+e)])>>16,r=e>>8&255,255&e):(t=e[0],r=e[1],e[2]),n=Math.min(t,r,i);t-=n,r-=n,i-=n;var a=Math.max(t,r,i),e=Math.min(r,i);r-=e,(i-=e)&&e&&(i*=2,e*=2),t+=r,e+=r;var r=Math.max(t,e,i);return r&&(t*=r=a/r,e*=r,i*=r),[t+=n,e+=n,i+=n]},i.rgbToRyb=function(e){var t=e[0],i=e[1],n=e[2],a=Math.min(t,i,n);t-=a,i-=a,n-=a;var r=Math.max(t,i,n),e=Math.min(t,i);return t-=e,i-=e,n&&i&&(n/=2,i/=2),e+=i,n+=i,(i=Math.max(t,e,n))&&(t*=i=r/i,e*=i,n*=i),[t+=a,e+=a,n+=a]},i.findNearest=function(n,e){return(e=e.concat([])).sort(function(e,t){var i=u(e),e=u(t),t=u(n),i=a(i),e=a(e),t=a(t);return Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2)+Math.pow(t[2]-i[2],2))-Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}),e[0].replace("#","")},i.hexToArray=u,e.exports=i},function(e,t,i){"use strict";function n(e,t,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=i),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}(n.prototype=new RangeError).constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0,e.exports=n},function(e,t,i){"use strict";var l=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function h(e,t){for(var i=e,n=(i="keep"!==t?e.getContent():i).getIdentifier(),a=0;a<l.length;a++)if(n in l[a])return a;return null}e.exports.properties=l,e.exports.getPrecedence=h,e.exports.getAssociativity=function(e,t){var i=e,e=(i="keep"!==t?e.getContent():i).getIdentifier();if(null===(t=h(i,t)))return null;if((t=l[t][e]).hasOwnProperty("associativity")){if("left"===t.associativity)return"left";if("right"===t.associativity)return"right";throw Error("'"+e+"' has the invalid associativity '"+t.associativity+"'.")}return null},e.exports.isAssociativeWith=function(e,t,i){var n=e,a=t;"keep"!==i&&(n=e.getContent(),a=t.getContent());var t=n.getIdentifier(),r=a.getIdentifier();if(null===(i=h(n,i)))return null;var o=l[i][t];if(o.hasOwnProperty("associativeWith")&&o.associativeWith instanceof Array){for(var s=0;s<o.associativeWith.length;s++)if(o.associativeWith[s]===r)return!0;return!1}return null}},function(e,t,l){"use strict";var p=l(23),h=l(14).map,c=l(14).join,u=l(40).stringify,f=l(40).escape,I=l(54).isSafeMethod,g=l(160);t.name="OperatorNode",t.path="expression.node",t.factory=function(a,e,t,i){var n=t(l(36)).register,r=t(l(36)).compile,o=t(l(56));function s(e,t,i,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(i)||!i.every(a.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===n,this.op=e,this.fn=t,this.args=i||[]}function d(n,a,e,t,i){var r=g.getPrecedence(n,a),o=g.getAssociativity(n,a);if("all"===a||2<t.length&&"OperatorNode:add"!==n.getIdentifier()&&"OperatorNode:multiply"!==n.getIdentifier())return t.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var s=void 0;switch(t.length){case 0:s=[];break;case 1:var l=g.getPrecedence(t[0],a);if(i&&null!==l){if(h="keep"===a?(f=t[0].getIdentifier(),n.getIdentifier()):(f=t[0].getContent().getIdentifier(),n.getContent().getIdentifier()),!1===g.properties[r][h].latexLeftParens){s=[!1];break}if(!1===g.properties[l][f].latexParens){s=[!1];break}}if(null===l){s=[!1];break}if(l<=r){s=[!0];break}s=[!1];break;case 2:var h,c,u=g.getPrecedence(t[0],a),d=g.isAssociativeWith(n,t[0],a),p=null!==u&&(u===r&&"right"===o&&!d||u<r),f=g.getPrecedence(t[1],a),l=g.isAssociativeWith(n,t[1],a),d=null!==f&&(f===r&&"left"===o&&!l||f<r);i&&(l="keep"===a?(h=n.getIdentifier(),c=n.args[0].getIdentifier(),n.args[1].getIdentifier()):(h=n.getContent().getIdentifier(),c=n.args[0].getContent().getIdentifier(),n.args[1].getContent().getIdentifier()),null!==u&&(!1===g.properties[r][h].latexLeftParens&&(p=!1),!1===g.properties[u][c].latexParens&&(p=!1)),null!==f&&(!1===g.properties[r][h].latexRightParens&&(d=!1),!1===g.properties[f][l].latexParens&&(d=!1))),s=[p,d];break;default:"OperatorNode:add"!==n.getIdentifier()&&"OperatorNode:multiply"!==n.getIdentifier()||(s=t.map(function(e){var t=g.getPrecedence(e,a),i=g.isAssociativeWith(n,e,a),e=g.getAssociativity(e,a);return null!==t&&(r===t&&o===e&&!i||t<r)}))}return s=2<=t.length&&"OperatorNode:multiply"===n.getIdentifier()&&n.implicit&&"auto"===a&&"hide"===e?t.map(function(e,t){e="ParenthesisNode"===e.getIdentifier();return!(!s[t]&&!e)}):s}return t(l(137)),t(l(107)),t(l(162)),(s.prototype=new o).type="OperatorNode",s.prototype.isOperatorNode=!0,n(s.prototype.type,function(e,t,i){if(!(e instanceof s))throw new TypeError("No valid OperatorNode");if("string"!=typeof e.fn||!I(t.math,e.fn))throw t.math[e.fn]?new Error('No access to function "'+e.fn+'"'):new Error("Function "+e.fn+' missing in provided namespace "math"');var n=h(e.args,function(e){return r(e,t,i)});return"math["+u(e.fn)+"]("+c(n,", ")+")"}),s.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},s.prototype.map=function(e){for(var t=[],i=0;i<this.args.length;i++)t[i]=this._ifNode(e(this.args[i],"args["+i+"]",this));return new s(this.op,this.fn,t,this.implicit)},s.prototype.clone=function(){return new s(this.op,this.fn,this.args.slice(0),this.implicit)},s.prototype._toString=function(i){var e=i&&i.parenthesis?i.parenthesis:"keep",t=i&&i.implicit?i.implicit:"hide",n=this.args,a=d(this,e,t,n,!1);if(1===n.length){var r=g.getAssociativity(this,e),o=n[0].toString(i);return a[0]&&(o="("+o+")"),"right"===r?this.op+o:o+this.op}if(2==n.length){r=n[0].toString(i),o=n[1].toString(i);return a[0]&&(r="("+r+")"),a[1]&&(o="("+o+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==t?r+" "+o:r+" "+this.op+" "+o}if(2<n.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){n=n.map(function(e,t){return e=e.toString(i),e=a[t]?"("+e+")":e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t?n.join(" "):n.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},s.prototype.toHTML=function(i){var e=i&&i.parenthesis?i.parenthesis:"keep",t=i&&i.implicit?i.implicit:"hide",n=this.args,a=d(this,e,t,n,!1);if(1===n.length){var r=g.getAssociativity(this,e),o=n[0].toHTML(i);return a[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===r?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+f(this.op)+"</span>"+o:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+f(this.op)+"</span>"+o}if(2==n.length){r=n[0].toHTML(i),o=n[1].toHTML(i);return a[0]&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a[1]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==t?r+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+o:r+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+f(this.op)+"</span>"+o}if(2<n.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var s=n.map(function(e,t){return e=e.toHTML(i),e=a[t]?'<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>':e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===t?s.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):s.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+f(this.op)+"</span>")}return'<span class="math-function">'+f(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},s.prototype._toTex=function(i){var e=i&&i.parenthesis?i.parenthesis:"keep",t=i&&i.implicit?i.implicit:"hide",n=this.args,a=d(this,e,t,n,!0),r=void 0===(r=p.operators[this.fn])?this.op:r;if(1===n.length){var o=g.getAssociativity(this,e),s=n[0].toTex(i);return a[0]&&(s="\\left("+s+"\\right)"),"right"===o?r+s:s+r}if(2===n.length){var l=n[0],h=l.toTex(i);a[0]&&(h="\\left("+h+"\\right)");var c,u=n[1].toTex(i);switch(a[1]&&(u="\\left("+u+"\\right)"),c=("keep"===e?l:l.getContent()).getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return r+"{"+h+"}{"+u+"}";case"OperatorNode:pow":switch(h="{"+h+"}",u="{"+u+"}",c){case"ConditionalNode":case"OperatorNode:divide":h="\\left("+h+"\\right)"}case"OperatorNode:multiply":if(this.implicit&&"hide"===t)return h+"~"+u}return h+r+u}if(2<n.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){l=n.map(function(e,t){return e=e.toTex(i),e=a[t]?"\\left("+e+"\\right)":e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?l.join("~"):l.join(r)}return"\\mathrm{"+this.fn+"}\\left("+n.map(function(e){return e.toTex(i)}).join(",")+"\\right)"},s.prototype.getIdentifier=function(){return this.type+":"+this.fn},s}},function(e,t,p){"use strict";var f=p(23),I=p(40).stringify,g=p(40).escape,m=p(28).extend,y=p(28).hasOwnProperty,v=p(14).map,C=p(14).join,M=p(54).validateSafeMethod,b=p(318);t.name="FunctionNode",t.path="expression.node",t.math=!0,t.factory=function(h,e,t,i,a){var n=t(p(36)).register,c=t(p(36)).compile,r=t(p(56)),o=t(p(107));function u(e,t){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new o(e)),!h.isNode(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(h.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});function i(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")}Object.defineProperty(this,"object",{get:i,set:i})}(u.prototype=new r).type="FunctionNode",u.prototype.isFunctionNode=!0,n(u.prototype.type,function(e,t,i){if(!(e instanceof u))throw new TypeError("No valid FunctionNode");var n,a=c(e.fn,t,i),r=v(e.args,function(e){return c(e,t,i)}),o=function(e,t){var i=Object.keys(t);{if(0===i.length)return"scope";e.extend=m;i=v(i,function(e){return I(e)+": "+t[e]});return"extend(extend({}, scope), {"+C(i,", ")+"})"}}(t,i);if(h.isSymbolNode(e.fn)){var s=e.fn.name,l=y(t.math,s)?t.math[s]:void 0;return"function"==typeof l&&1==l.rawArgs?(n=b(t),t[n]=e.args,a+"("+n+", math, "+o+")"):a+"("+C(r,", ")+")"}if(h.isAccessorNode(e.fn)&&h.isIndexNode(e.fn.index)&&e.fn.index.isObjectProperty()){n=b(t),t[n]=e.args,t.validateSafeMethod=M;s=c(e.fn.object,t,i),l=I(e.fn.index.getObjectProperty());return"(function () {var object = "+s+";validateSafeMethod(object, "+l+");return (object["+l+"] && object["+l+"].rawArgs)  ? object["+l+"]("+n+", math, "+o+") : object["+l+"]("+C(r,", ")+")})()"}return n=b(t),t[n]=e.args,"(function () {var fn = "+a+";return (fn && fn.rawArgs)  ? fn("+n+", math, "+o+") : fn("+C(r,", ")+")})()"}),u.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},u.prototype.map=function(e){for(var t=this.fn.map(e),i=[],n=0;n<this.args.length;n++)i[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new u(t,i)},u.prototype.clone=function(){return new u(this.fn,this.args.slice(0))};var s=u.prototype.toString;function l(e,t,i){for(var n,a="",r=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),o=0;null!==(n=r.exec(e));)if(a+=e.substring(o,n.index),o=n.index,"$$"===n[0])a+="$",o++;else{o+=n[0].length;var s=t[n[1]];if(!s)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof s){case"string":a+=s;break;case"object":if(h.isNode(s))a+=s.toTex(i);else{if(!Array.isArray(s))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");a+=s.map(function(e,t){if(h.isNode(e))return e.toTex(i);throw new TypeError("Template: "+n[1]+"["+t+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else{if(!h.isNode(s[n[2]]&&s[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");a+=s[n[2]].toTex(i)}}return a+=e.slice(o)}u.prototype.toString=function(e){var t,i=this.fn.toString(e);return void 0!==(t=e&&"object"==typeof e.handler&&y(e.handler,i)?e.handler[i](this,e):t)?t:s.call(this,e)},u.prototype._toString=function(t){var e=this.args.map(function(e){return e.toString(t)});return(h.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"},u.prototype.toHTML=function(t){var e=this.args.map(function(e){return e.toHTML(t)});return'<span class="math-function">'+g(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var d=u.prototype.toTex;return u.prototype.toTex=function(e){var t;return void 0!==(t=e&&"object"==typeof e.handler&&y(e.handler,this.name)?e.handler[this.name](this,e):t)?t:d.call(this,e)},u.prototype._toTex=function(t){var e,i,n=this.args.map(function(e){return e.toTex(t)});switch(typeof(e=a[this.name]&&("function"==typeof a[this.name].toTex||"object"==typeof a[this.name].toTex||"string"==typeof a[this.name].toTex)?a[this.name].toTex:e)){case"function":i=e(this,t);break;case"string":i=l(e,this,t);break;case"object":switch(typeof e[n.length]){case"function":i=e[n.length](this,t);break;case"string":i=l(e[n.length],this,t)}}return void 0!==i?i:l(f.defaultTemplate,this,t)},u.prototype.getIdentifier=function(){return this.type+":"+this.name},u}},function(e,t,i){"use strict";var r=i(13);i(17);t.name="isPositive",t.factory=function(e,t,i,n){var a=n("isPositive",{number:function(e){return 0<e},BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return 0<e.s&&0<e.n},Unit:function(e){return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a}},function(e,t,i){"use strict";var r=i(13);i(17);t.name="isNegative",t.factory=function(e,t,i,n){var a=n("isNegative",{number:function(e){return e<0},BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a}},function(e,t,i){"use strict";var c=i(0)(i(9));window.nb=window.nb||{},nb.GraphicsUtils={};var d=1,p=2,f=3,I=32,g=33,m=255;nb.GraphicsUtils.draw=function(e,t){e.lastMovePos={x:NaN,y:NaN};for(var i=nb.GraphicsUtils.__moveTo__;t.length;){var n,a,r,o,s,l,h,c,u=t.pop();u==d?i(e,n=t.pop(),a=t.pop()):u==p?(n=t.pop(),a=t.pop(),e.lastMovePos.x==n&&e.lastMovePos.y==a||(e.lineTo(n,a),e.lastMovePos.x=n,e.lastMovePos.y=a)):u==f?(i(e,n=t.pop(),a=t.pop()),s=t.pop(),l=t.pop(),h=t.pop(),c=t.pop(),e.lastMovePos.x=h,e.lastMovePos.y=c,e.quadraticCurveTo(s,l,h,c)):u==I?(r=t.pop(),o=t.pop(),c=t.pop(),e.lineStyle(r,o,c)):u==g?(r=t.pop(),o=t.pop(),e.beginFill(r,o)):u==m&&e.endFill()}},nb.GraphicsUtils.__moveTo__=function(e,t,i){return(e.lastMovePos.x!=t||e.lastMovePos.y!=i)&&(e.moveTo(t,i),e.lastMovePos.x=t,e.lastMovePos.y=i,!0)},nb.GraphicsUtils.drawPolygon=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];0==i?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y)}},nb.GraphicsUtils.drawLiquidPolygon=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:12,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=0;if((a=e.parent&&e.parent.parent?8*Math.cos(e.parent.parent.rotation):a)<1)nb.GraphicsUtils.drawPolygon(e,t);else if(t[1]){var r=e.toGlobal(t[0]),o=e.toGlobal(t[1]);Math.abs(r.y-o.y)<1&&(d=t.shift(),t.push(d));for(var s=t.length,l=t[0],h=t[s-1],c=(l.y>h.y?l:h).y,u=l.x-h.x,r=l.y-h.y,o=Math.sqrt(u*u+r*r),d=o/10,i=d<i?d:i,p=u/o,f=r/o,d=u<0?1:-1,I=-1/0,g=0;g<s;g++){var m=t[g];m.y>I&&(I=m.y)}c=I-c;e.moveTo(l.x,l.y-(a=c<(a=c+n<3*a?0:a)?(a+c)/2:a));for(var y=0;y<s;y++){var v=t[y];e.lineTo(v.x,v.y)}if(e.lineTo(h.x,h.y-a),0===i){n=d*a,c=Math.abs(p*n),n=Math.abs(f*n);e.bezierCurveTo(h.x+c,h.y+n,l.x-c,l.y+n,l.x,l.y-a)}else{for(var C=Math.ceil(Math.abs(o)/100),M=u/(C=C<2?2:C)/2,b=r/C/2,x=h.x-d*a,O=h.y,A=h.x,T=h.y,S=1,w=0;w<C-1;w++){var B=A+M,D=T+b,P=B+M,L=D+b,B=B+i*f*S,D=D-i*p*S;S*=-1,e.bezierCurveTo(x,O,B,D,P,L),x=B+2*(P-B),O=D+2*(L-D),A=P,T=L}e.bezierCurveTo(x,O,l.x+d*a,l.y,l.x,l.y-a),e.endFill()}}},nb.GraphicsUtils.dashTo=function(e,t,i,n,a){var r=i.x-t.x,o=i.y-t.y;n=0<n?n:1,n*=a;var s=Math.sqrt(Math.pow(r,2)+Math.pow(o,2))*a/n/2;r/=2*s,o/=2*s;for(var l=(0,c.default)({},t),h=0;h<s-1;h++)e.moveTo(l.x,l.y),e.lineTo(l.x+=r,l.y+=o),l.x+=r,l.y+=o;e.moveTo(l.x,l.y),e.lineTo(i.x,i.y)},e.exports=nb.GraphicsUtils},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(70);e.exports=function(){function n(e,t,i){(0,a.default)(this,n),this.type=o.ION_MED,this.dat=t,this.ions=t.ions,this.name=t.chemical,this.container=e,this._mol=i}return(0,r.default)(n,[{key:"mol",get:function(){return this._mol},set:function(e){this.setMol(e)}},{key:"setMol",value:function(e){return this._mol=e,this}},{key:"getMol",value:function(){return this._mol}},{key:"getTemp",value:function(){return this.container.medicineData.liquidAry[0].getTemp()}},{key:"deepClone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.mol;return new n(this.container,this.dat,e)}},{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.mol;return{name:this.name,dat:this.dat,container:this.container,mol:e,type:this.type}}},{key:"restoreFromEasyClone",value:function(){}}]),n}()},function(e,t,i){"use strict";var n={del:{PREPARE_DELETE:"del.prepareDelete",DELETE:"del.delete",ADDED:"del.added"},change:{ZOOM:"change.zoom",BGC:"change.bgc",STAGE_MOVE:"change.stage.move"},communicate:{angular:{CHANGE_PANEL_STATUS:"communicate.angular.changePanelStatus",SHOW_EQ_ATTRIBUTE:"communicate.angular.showEqAttribute",UPDATE_EQ_ATTRIBUTE:"communicate.angular.updateEqAttribute",RIGHT_MOUSE_DOWN:"communicate.angular.rightMouseDown",EQ_DRAG_MOVE:"communicate.angular.eqDragMove",SHOW_EQ_LIST:"communicate.angular.showEqList",LOADED_RESTORE_DATA:"communicate.angular.loadedRestoreData",CLOSE_SETTINGPOP:"communicate.angular.closeSettingPop",SHOW_ALL_EQU:"communicate.angular.showAllEqu",SAVE_DATA_COMPLETE:"communicate.angular.saveDataComplete",USER_AGENT_MESSAGE:"communicate.angular.userAgentMessage",HAPPEN_BOOM:"communicate.angular.happenBoom",CHANGE_SELECTED:"communicate.angular.changeSelected",OPEN_EQUAATION_PANEL:"communicate.angular.openEquationPanel",CHANGE_EQ_INFO:"communicate.angular.changeEqInfo",DOWNLOAD_EMPTY_IMG:"communicate.angular.downloadEmptyImg",STAGE_MOVE_ENABLE:"communicate.angular.stageMoveEnable"}},burn:{MELTING:"burn.melting"},medicine:{PUT_BLOCK_MEDICINE:"meidcine.putBlockMeidcine"},ADDED:"added",ADDED_TO_STAGE:"addedToStage",REMOVED:"removed",REMOEVD_FROM_STAGE:"removedFromStage",SELECTED:"selected",CANCEL_SELECTED:"cancelSelected",SHOW_WHOLE_BUTTON:"showWholeButton",HITTED_DRAGINLIMITAREA:"hittedDragInLImitArea",HITTED_TWOCONTAINER:"hittedTwoContainer"};window&&(window.NBEvent=n),e.exports=n},function(e,t,i){"use strict";var n=i(0),v=n(i(25)),a=n(i(1)),r=n(i(2)),C=i(158),i=function(){function n(){(0,a.default)(this,n)}return(0,r.default)(n,null,[{key:"getMixerColor",value:function(e,t){var i=[],n=[],a=0,r=t.length,o=0,s=!1;e||(e=1,s=!0);for(var l=0;l<r;l++){var h=t[l],c=h.getRybColor(),u=h.getVol(),d=h.getMultiple&&h.getMultiple()||1;1!==d&&(e+=(d-1)*u,u*=d),c&&(o+=u*h.getAlpha(),i.push(c),n.push(u)),a<u&&(a=u)}if(o/=e,0===(r=i.length))return null;if(!s)for(var p=0;p<r;p++){var f=n[p]/=a,I=i[p];I[0]*=f,I[1]*=f,I[2]*=f}var g=C.rybToRgb(C.mix(i)),m=g[0],y=g[1],s=g[2];return{color:g=(0,v.default)(m<<16|y<<8|s),alpha:o=1<o?1:o}}},{key:"hexToRgb",value:function(e){var t={r:0,g:0,b:0};t.r=e>>16;e-=t.r<<16;return t.g=e>>8,t.b=e-(t.g<<8),t}},{key:"rgbToHex",value:function(e,t,i){return(e<<16)+(t<<8)+i}},{key:"getMixerColorByRate",value:function(e,t,i){e=n.hexToRgb(e),t=n.hexToRgb(t),i={r:(0,v.default)(e.r*i+t.r*(1-i)),g:(0,v.default)(e.g*i+t.g*(1-i)),b:(0,v.default)(e.b*i+t.b*(1-i))};return n.rgbToHex(i.r,i.g,i.b)}}]),n}();e.exports=i},function(e,t,i){"use strict";var n={},a=i(11);n.addCoohRecrystallizationPic=function(e){var t=new PIXI.Container;t.interactive=!1,t.interactiveChildren=!1;var i=new PIXI.Sprite.fromImage(a.config.URI_PREFIX+"assets/cooh.png");t.addChild(i);i=e.localBounds;t.x=i.x,t.y=i.y+i.height,e.addChild(t),(e.coohPic=t).mask=e.capacityMask,t.alpha=0,t.visible=!1,t.initPosY=t.y,t.scale.set(.5,.58)},n.addFogPic=function(e){var t=new PIXI.Container;t.interactive=!1,t.interactiveChildren=!1;var i=new PIXI.Sprite.fromImage(a.config.URI_PREFIX+"assets/fog.png");t.addChild(i);i=e.localBounds;t.x=i.x,t.y=i.y,e.fumePic=t,e.fumePic.name="fumePic",t.alpha=0,t.visible=!1},n.addHgFogPic=function(e,t,i){var n=new PIXI.Container;n.interactive=!1,n.interactiveChildren=!1;i=new PIXI.Sprite.fromImage(a.config.URI_PREFIX+"assets/".concat(i,".png"));n.addChild(i);i=e.localBounds;n.x=i.x,n.y=i.y,e.HgFumePic=n,e.HgFumePic.name="HgFume",n.scale.x=.53,n.scale.y=.53,n.y+=t,n.alpha=0,n.visible=!1},n.increaseFogAlpha=function(e,t){e.fumePic.parent||e.gasContainer.addChild(e.fumePic),!1===e.fumePic.visible&&(e.fumePic.visible=!0);t=t||.003;e.fumePic.alpha<.5-t&&(e.fumePic.alpha+=t)},n.increaseHgFogAlpha=function(e,t){e.HgFumePic.parent||e.gasContainer.addChild(e.HgFumePic),!1===e.HgFumePic.visible&&(e.HgFumePic.visible=!0);t=t||.01;e.HgFumePic.alpha<.5-t?e.HgFumePic.alpha+=t+.01:e.HgFumePic.alpha+=.01},n.addSilverMirror=function(e,t){var i=e.localBounds||e.getLocalBounds(),n=new PIXI.Container;n.interactive=!1,n.interactiveChildren=!1;t=t?"assets/silverMirrorFuzzy.png":"assets/silverMirrorClear.png",t=new PIXI.Sprite.fromImage(a.config.URI_PREFIX+t);n.addChild(t),n.silverPic=t,n.x=i.x,n.y=i.y,t.width=i.width,t.height=i.height,(e.mainSilMirPic=n).allowGetBounds=!1,n.mask=e.capacityMask,e.addChild(n);t=new PIXI.Container;t.interactive=!1,t.interactiveChildren=!1;n=new PIXI.Sprite.fromImage(a.config.URI_PREFIX+"assets/silverMirrorTransform.png");t.addChild(n),t.silverPic=n,t.x=i.x,t.y=i.y,n.width=i.width,n.height=50,(e.transSilMirPic=t).allowGetBounds=!1,t.mask=e.capacityMask,e.addChild(t),t.alpha=.6},n.drawSilMirMask=function(e){var t=new PIXI.Graphics;e.addChild(t);var i=e.liquidVertex;t.beginFill(16777215,1);var n=e.toLocal(i[0]);t.moveTo(n.x,n.y);for(var a=1;a<i.length-1;a++){var r=e.toLocal(i[a]);t.lineTo(r.x,r.y)}n=e.toLocal(i[i.length-1]),t.lineTo(n.x,n.y),t.endFill(),t.allowGetBounds=!1,e.mainSilMirPic.silverPic.mask=t,e.transSilMirPic.silverPic.mask=t},n.updateSilMirPos=function(e){var t=e.localBounds||e.getLocalBounds(),i=e.mainSilMirPic,n=i.y;(n+=.5)>t.y&&(n=t.y),i.y=n;n=e.transSilMirPic,e=n.y;(e+=.5)>t.y+t.height&&(e=t.y+t.height),n.y=e},n.cleanSilMir=function(e){var t=e.mainSilMirPic,i=e.transSilMirPic;.01<t.alpha?(t.alpha-=.01,i.alpha-=.01):(e.removeChild(t),e.removeChild(i),delete e.mainSilMirPic,delete e.transSilMirPic)},e.exports=n},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10),p=i(80),f=i(18),i=function(){(0,l.default)(t,d);var e=u(t);function t(){return(0,r.default)(this,t),e.call(this)}return(0,o.default)(t,[{key:"hitReact",value:function(){this.isBeaker}},{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(t.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack)}},{key:"updateFume",value:function(){var e;this.fume&&(e=1<(e=this.fumeWaterData/this.maxFume)?1:e,this.fume.alpha=e=e<0?0:e,this.stopReduceFume?this.stopReduceFume=!1:this.fumeWaterData<=0||((e=this.getViewStack()).lastScaleTime||e.rightMoveTime||(this.fumeWaterData-=1e-4,this.fumeWaterData=this.fumeWaterData<0?0:this.fumeWaterData,e=this.medicineManager.getMedicineData("H2O"),this.medicineData.push(new LiquidVO(e,1e-4)))))}},{key:"initDrip",value:function(){this.tubeDrip=new p(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y},1e3,.05,.05,d)}},{key:"initFume",value:function(){this.fumeWaterData=0,this.maxFume=.05,this.dripFume=0,this.dripMaxFume=.005,this.noDripRotate=Math.PI/2-.1,this.blackBread.pic.mask=this.blackBread.breadMask.getChildAt(0),this.blackBread.renderable=!0,this.fume.mask=this.gasMask}},{key:"addFume",value:function(e){var t,i;this.fume&&this.tubeDrip&&(e<0||isNaN(e)||(t=f.retrieveRotation(this.worldTransform),this.parent&&-1===this.parent.scale.x&&(t=-t),this.fumeWaterData<this.maxFume?this.fumeWaterData+=e:Math.abs(t)<this.noDripRotate?(i=this.medicineManager.getMedicineData("H2O"),this.medicineData.push(new LiquidVO(i,e))):(this.tubeDrip.startPos=0<t?{x:this.drop.x+this.localBounds.width,y:this.drop.y-15}:{x:this.drop.x,y:this.drop.y},this.dripFume+=e),this.stopReduceFume=!0))}},{key:"eqPrepareChoice",value:function(e){(0,s.default)((0,c.default)(t.prototype),"eqPrepareChoice",this).call(this,e)}},{key:"eqAddToViewStack",value:function(){(0,s.default)((0,c.default)(t.prototype),"eqAddToViewStack",this).call(this)}},{key:"update",value:function(e){(0,s.default)((0,c.default)(t.prototype),"update",this).call(this,e),this.updateFume()}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(1)),s=n(i(2)),l=n(i(5)),r=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var m=i(34),y=i(31),v=i(32),C=i(11),i=function(e){(0,l.default)(r,e);var a=c(r);function r(e,t,i){var n;return(0,o.default)(this,r),(n=a.call(this)).tube=i,y.register(v.BUBBLING),n.container=e,n.particle=t||m.getParticle(m.particles.glass_guan_qipao_s),e.addChild(n.particle),n.lostBubbleCount=0,n.particleRemoved=!1,n.mol=0,n.container.bubbleSound&&(n.container.bubbleSound._pause(),n.container.bubbleSound=null),n.soundIntervalID=null,e!==e.parent.waterContainer&&e.parent.addChild(e),n.particle2=m.getParticle(m.particles.glass_guan_qipao_right),e.parent.gasContainer.addChild(n.particle2),n.particle3=m.getParticle(m.particles.glass_guan_qipao_top),e.parent.gasContainer.addChild(n.particle3),n.particle4=m.getParticle(m.particles.glass_guan_qipao_right),e.parent.gasContainer.addChild(n.particle4),n.particle4.scale.x*=-1,n.particle2.allowGetBounds=!1,n.particle3.allowGetBounds=!1,n.particle4.allowGetBounds=!1,n.particle2.alpha=0,n.particle3.alpha=0,n.particle4.alpha=0,setTimeout(function(){n.particle2&&(n.particle2.alpha=1,n.particle3.alpha=1,n.particle4.alpha=1)},1e3),n}return(0,s.default)(r,[{key:"updateMedicine",value:function(e,t,i){this.medicine=e;var n=this.container.parent;if(n.medicineData&&n.medicineData.getLiquidAverageTemp instanceof Function)for(var a=n.medicineData.getLiquidAverageTemp(),r=0;r<e.length;r++)e[r].setTemp(a);this.mol=t,this.particle&&(this.particle.x=i.x,this.particle.y=i.y,this.particle.rotation=i.rotation),this.particle2&&(t=(t=this.container.parent).toLocal({x:t.toGlobal(i).x,y:t.liquidVertex[0].y}),this.particle2.x=t.x,this.particle2.y=t.y,this.particle2.rotation=i.rotation,this.particle3.x=t.x,this.particle3.y=t.y,this.particle3.rotation=i.rotation,this.particle4.x=t.x,this.particle4.y=t.y,this.particle4.rotation=i.rotation)}},{key:"render",value:function(){var e=this;if(this.medicine){var t=this.tube&&this.tube.medicine&&this.tube.medicine.liquidAry&&this.tube.medicine.liquidAry.vol?this.tube.medicine.liquidAry.vol:null;if(1e-18<this.mol&&!t){this.lostBubbleCount=0;var i=32e5*this.mol;if(i=200<(i=i<30?30:i)?200:i,this.container&&this.container.parent&&this.container.parent.medicineData){this.container.parent.showSedimentParticle&&this.container.parent.showSedimentParticle(!0),this.container.parent.hasReact=C.ACTIVE_COUNT;for(var n,a=this.container.parent.medicineData.liquidAry,r=!1,o=0;o<a.length;o++){var s=a[o],l=s.getMol();if(!(l<1e-5||isNaN(l))&&"C17H35COONa"===s.name){r=!0;break}}r?(h=this.container.parent,this.particle2.visible=!1,this.particle3.visible=!1,this.particle4.visible=!1,h.soapBubbleBlow?h.soapBubbleBlow.loaded&&((n=h.soapBubbleBlow).setParticleProp("frequency",10/i),n.setedWidth||(n.particle.spawnRect.width=h.localBounds.width,n.particle.spawnRect.x=-h.localBounds.width/2,n.setedWidth=!0),!1===n.particle.emit&&(n.setParticleProp("emit",!0),n.setParticleProp("emitterLifetime",2))):(h.soapBubbleBlow=m.getParticle(m.particles.soap_bubble_blow),n=(t=h.localLiquidVertex).length,h.addChild(h.soapBubbleBlow),h.soapBubbleBlow.position={x:(t[0].x+t[n-1].x)/2,y:(t[0].y+t[n-1].y)/2},h.soapBubbleBlow.allowGetBounds=!1,h.soapBubbleBlow.mask=h.capacityMask)):(this.particle2.visible=!0,this.particle3.visible=!0,this.particle4.visible=!0)}this.particle.setParticleProp("maxParticles",i/3),this.particle.setParticleProp("frequency",5/i),this.particle2.setParticleProp("maxParticles",i/10),this.particle2.setParticleProp("frequency",5/i),this.particle3.setParticleProp("maxParticles",i/16),this.particle3.setParticleProp("frequency",8/i),this.particle4.setParticleProp("maxParticles",i/10),this.particle4.setParticleProp("frequency",5/i);var h=this.particle,c=h.children,i=c.length;h.render();var u=c.length;if(i<u)for(var d=i;d<u;d++){var p=c[d];p.scale.x=p.scale.y=.2*Math.random()+.3}else if(0<u)for(var f=h.particle.maxLifetime/h.particle.particleCount,I=u-1;0<I;I--){var g=c[I];if(!(g.age<f))break;g.scale.x=g.scale.y=.2*Math.random()+.3}this.particle2.render(),this.particle3.render(),this.particle4.render(),this.container.bubbleSound||(this.container.bubbleSound=y.play(v.BUBBLING,null,null,null,-1)),"playFinished"!==this.container.bubbleSound.playState&&"playFailed"!==this.container.bubbleSound.playState||(this.container.bubbleSound=y.play(v.BUBBLING,null,null,null,-1),this.container.bubbleSound.play()),clearTimeout(this.soundIntervalID),this.soundIntervalID=setTimeout(function(){e.container.bubbleSound&&(e.container.bubbleSound._pause(),e.container.bubbleSound=null)},100)}else this.destroy()}}},{key:"destroy",value:function(e){if(this.lostBubbleCount++,5<this.lostBubbleCount||e){this.particle&&this.particle.parent&&this.particle.parent.removeChild(this.particle),this.autoDestroyOther();try{this.particle&&(this.particle.destroy(),this.particle=null),clearTimeout(this.soundIntervalID),this.container&&this.container.bubbleSound&&(this.container.bubbleSound.stop(),this.container.bubbleSound=null,this.container=null)}catch(e){}this.particleRemoved=!0}}},{key:"autoDestroyOther",value:function(){this.particle2&&(this.particle2.destroy(),this.particle3.destroy(),this.particle4.destroy(),this.particle2=null,this.particle3=null,this.particle4=null)}}]),r}(PIXI.Container);e.exports=i},function(e,t,PlasticInjector){"use strict";var a=PlasticInjector(4),i=PlasticInjector(0),n=i(PlasticInjector(1)),r=i(PlasticInjector(2)),o=i(PlasticInjector(7)),s=i(PlasticInjector(5)),l=i(PlasticInjector(6)),h=i(PlasticInjector(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var d=PlasticInjector(10),u=PlasticInjector(80),v=PlasticInjector(26),p=PlasticInjector(33),f=PlasticInjector(100),RubberCatheter=PlasticInjector(146),I=PlasticInjector(143),BaseGasMedicine=PlasticInjector(199),g=PIXI.Point,m={GasCollectingBottle:!0,ConicalFlask250ml:!0},y=["WatchGlass","BaseSolidMedicine","BaseBlockMedicine","ElectrolyticContainer","DripHole","AirBalloon","GlassSheet","CopperSheet","WeighingPaper","QualitativeFilterPaper","TestPaper","SmallTestTube","BaseGasMedicineInGasBag","CombustionSpoon","SmallCombustionSpoon","PaperFlower","ConicalFlask100ml"],PlasticInjector=function(){(0,s.default)(PlasticInjector,d);var t=c(PlasticInjector);function PlasticInjector(){var e;return(0,n.default)(this,PlasticInjector),(e=t.call(this)).name="PlasticInjector",e.CNName="塑料注射器",e.z_index=23.18,e.noNbGraphics=!0,e.originalMass=10,e.preventVolatilize=!0,e}return(0,r.default)(PlasticInjector,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(PlasticInjector.prototype),"creationComplete",this).call(this),this.capacityScale=.16671689846817514,this.noPascal=!0,this.fullCapacity=this.getTotalCapacity(),this.fullGasCapacity=.0004087631888910329,NBDrag.addDrag(this.plunger,void 0,{bringToFront:!1}),this.plungerLimit={top:68,bottom:220},this.originPlungerY=this.plunger.y,this.plunger.on(NBDrag.event.DRAG_MOVE,this.movePlunger),this.plunger.on(NBDrag.event.DRAG_MOVE,function(){e.isMove=!0}),this.plunger.on(NBDrag.event.STOP_DRAG,this.plungerStop),this.initRubber(),this.initDrip(),this.initListeners(),this.lastSetPlungerX=this.plunger.x,this.lastPlungerX=this.plunger.x,this.totalHeight=this.plungerLimit.bottom-this.plungerLimit.top,this.addDripMol=0,this.medicineData.gasAry.clear(),this.addedRubber=null,this.addedEq=null,this.addedNeedle=null,this.connectGas=PlasticInjector.connectGas,this.enableRotate(!0,{},1),this.hasCovered=!0,this.noHeightDiff=!0,this.needlePos={x:236,y:57.5},this.setRotation(.5*Math.PI)}},{key:"initListeners",value:function(){var u=this;this.on(NBDrag.event.STOP_DRAG,function(){for(var e=u.getSortDisHitObjects(),t=0;t<e.length;t++){var i=e[t].objB;if(i instanceof d&&!i.isCovered()&&u.hitTest(i)&&!i.isCoverGS){if(!i.capacityVertex||u.addedRubber)return;if(y.includes(i.name)||i.isFunnel)return;if("HugePlasticInjector"===u.name&&(i.isLiquidMedicine||"NarrowMouthedBottle"===i.name||nb.PLUGTOBIG.has(i.name)||nb.PLUGTOSMALL.has(i.name)))return;if(u.hasContainer&&u.hasContainer!==i&&(u.hasContainer.hasInjector=null,u.hasContainer=null),i.hasInjector&&i.hasInjector!==u)return;var n=u,a=i.capacityVertex.length;if(!i.currentPlug&&!i.eqLimitBoundsAry&&i.capacityVertex&&0<i.capacityVertex.length){var r=Math.abs(i.capacityVertex[0].get_x()-i.capacityVertex[a-1].get_x()),o=i.localBounds.height<150?-180:-100,s=i.capacityVertex[a-1].get_x()+(r-40)/2+70,r=i.capacityVertex[a-1].get_y()+(o="SmallBeaker"==i.name?-180:o);"BigPlasticInjector"===u.name&&(s+=12,r-=55),"HugePlasticInjector"===u.name&&(s+=4,r-=70),n.addedNeedle&&(r-=110),(i instanceof BaseGasMedicine||m[i.name])&&(s+=10);o=i.dishFront?i.getChildIndex(i.dishFront)-1:i.eqLimitBounds?0:i.children.length;i.addChildAtWithSamePos(u,o),((n.currentContainer=i).hasInjector=n).hasContainer=i,I.moveTween(n,i,{x:s,y:r},.5*Math.PI);break}var l=i.currentPlug;if(i.eqLimitBoundsAry&&i.chooseArea)for(var h=0;h<i.eqLimitBoundsAry.length;h++){var c=i.chooseArea["area"+h];n.hitTest(c)&&c.currentPlug&&(l=c.currentPlug)}if(l){r={x:180+(l.bg.width-258)/2,y:-228};"BigPlasticInjector"===u.name&&(r.x+=6,r.y-=55),"HugePlasticInjector"===u.name&&(r.x+=4,r.y-=115),n.addedNeedle&&(r.y-=50),(i instanceof BaseGasMedicine||m[i.name])&&(r.x+=10),l.addChildAtWithSamePos(u,0),((n.currentContainer=i).hasInjector=n).hasContainer=i,I.moveTween(n,i,r,.5*Math.PI);break}}}u.parent===u.getEqLayer()&&u.hasContainer&&(u.hasContainer.hasInjector=null,u.hasContainer=null),u.allowGetBounds=!0,u.parent===u.getEqLayer()&&u.getRealRotation()!==u.rotationBeforeAddedContainer&&TweenMax.to(u,.3,{rotation:u.rotationBeforeAddedContainer})}),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack)}},{key:"eqAddToViewStack",value:function(){this.parent===this.getEqLayer()&&(this.rotationBeforeAddedContainer=this.getRealRotation()),(0,o.default)((0,h.default)(PlasticInjector.prototype),"eqAddToViewStack",this).call(this)}},{key:"initDrip",value:function(){this.tubeDrip=new u(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y},1e3,.1,.05,d)}},{key:"addedRubber",get:function(){return this._addedRubber&&this._addedRubber.rubber instanceof RubberCatheter?this._addedRubber.rubber:!!this._addedRubber||null},set:function(e){this._addedRubber=e}},{key:"addedEq",get:function(){return this._addedEq||this.addedRubber},set:function(e){this._addedEq=e}},{key:"allowRubberCatheter",get:function(){return!this._addedEq&&!this.currentContainer}},{key:"initRubber",value:function(){this.rubberPos={x:288,y:47,rotation:0}}},{key:"movePlunger",value:function(){var t=this.parent;this.y=t.originPlungerY,this.x>t.plungerLimit.bottom&&(this.x=t.plungerLimit.bottom),this.x<t.plungerLimit.top&&(this.x=t.plungerLimit.top),1<t.lastPlungerX-this.x&&(this.x=t.lastPlungerX-1),t.lastPlungerX-this.x<-1&&(this.x=t.lastPlungerX+1);var e=t.lastPlungerX-this.x;if(t.setTopGlobalAry(),!(Math.abs(e)<1-1e-6)){t.lastPlungerX=this.x;var i=t.medicineData.gasAry,n=t.medicineData.getGasMol(),a=Math.abs(e)/t.totalHeight,r=t.checkConnectNode(),o=r.type,s=a*t.fullGasCapacity;if(e<0){if(7===o){var l=22.4*n*1e3,h=t.plungerLimit.top,c=t.plungerLimit.bottom,u=(c-this.x)/(c-h)*t.fullCapacity-t.currentCapacity;if(10<l/u||u<0)return this.x=c-(l/10+t.currentCapacity)/t.fullCapacity*(c-h),void t.setTopGlobalAry()}h=r.connectOther;if(h&&h.name.includes("PlasticInjector")&&h.plunger.x<h.plungerLimit.top)return;var d=t.getCurrentCapacity(),p=!(.1<22.4*n*1e3);switch(.001<d&&t.liquidVertex[0].y<=t.toGlobal({x:t.plungerLimit.bottom+2,y:t.plunger.y}).y&&(p=!0),o){case 1:case 2:p?.7<d?t.addDripMol+=a*t.fullCapacity:(0<d&&d<.7&&(t.addDripMol=0,t.tubeDrip.dripOne(d),s*=1-d/.7),t.connectGas(i,-s,r.plasticAddedNode)):(n<s&&(t.addDripMol+=s-n),t.connectGas(i,-s,r.plasticAddedNode));break;case 3:d>a*t.fullCapacity&&p?t.connectLiquid("out",-a*t.fullCapacity,r.plasticAddedNode):0<d&&p?t.connectLiquid("out",-d,r.plasticAddedNode):t.connectGas(i,-s,r.plasticAddedNode);break;case 4:case 5:d>a*t.fullCapacity&&p?t.connectLiquid("out",-a*t.fullCapacity,r.connectOther):0<d&&p?t.connectLiquid("out",-d,r.connectOther):t.connectGas(i,-s,r.connectOther);break;case 6:d>a*t.fullCapacity&&p?t.connectLiquid("out",-a*t.fullCapacity,r.connectContainer):0<d&&p?t.connectLiquid("out",-d,r.connectContainer):t.connectGas(i,-s,r.connectContainer)}}if(0<e){var f,I=a*t.fullCapacity,g=a*t.fullGasCapacity;switch(o){case 1:case 3:case 5:t.connectGas(t.medicineManager.airGas,g);break;case 2:!function(e){if(t.addedNeedle){if(v.containsPoint(e.liquidVertex,t.addedNeedle.dripMouth.toGlobal({x:0,y:0})))return!0}else if(v.containsPoint(e.liquidVertex,t.dripMouth.toGlobal({x:0,y:0})))return!0;return!1}(r.plasticAddedNode)?t.connectGas(r.plasticAddedNode.medicineData.gasAry,g,r.plasticAddedNode):I<(f=r.plasticAddedNode.getCurrentCapacity())?t.connectLiquid("in",I,r.plasticAddedNode):0<f?(t.connectLiquid("in",f,r.plasticAddedNode),t.connectGas(r.plasticAddedNode.medicineData.gasAry,(I-f)/I*g,r.plasticAddedNode)):t.connectGas(r.plasticAddedNode.medicineData.gasAry,g,r.plasticAddedNode);break;case 4:var m=r.connectOther,y=m.getCurrentCapacity();m.allowRubberCatheter&&(m.toLocal(m.liquidVertex[0]).y<m.rubberPos.y?I<y?t.connectLiquid("in",I,m):0<y?(t.connectLiquid("in",y,m),t.connectGas(m.medicineData.gasAry,(I-y)/I*g,m)):t.connectGas(m.medicineData.gasAry,g,m):t.connectGas(m.medicineData.gasAry,g,m));break;case 6:y=r.connectContainer;0<r.connectOther.isUnderLiquid?I<(m=y.getCurrentCapacity())?t.connectLiquid("in",I,y):0<m?(t.connectLiquid("in",m,y),t.connectGas(y.medicineData.gasAry,(I-m)/I*g,y)):t.connectGas(y.medicineData.gasAry,g,y):t.connectGas(y.medicineData.gasAry,g,y)}}}}},{key:"connectLiquid",value:function(e,t,i){var n;"in"===e?n=i:"out"===e&&(n=this);var a=t,r=-t,e=n.medicineData.covertVolumeToLiquid(Math.abs(t)),t=n.medicineData.covertVolumeToLiquid(Math.abs(-t));a<0&&e.forEach(function(e){e.setMol(-e.getMol())}),r<0&&t.forEach(function(e){e.setMol(-e.getMol())}),this.contianerAddMedicine(e),i.medicineData?this.contianerAddMedicine.call(i,t):i.medicine&&i.medicine.push(t)}},{key:"checkConnectNode",value:function(){var e,t,i,n,a=this;return this.addedNode.length<1?e=1:"RubberCatheter"!==(n=this.addedNode[0]).name?e=2:n.catheterIsStoped?e=7:(t=n.addedNode.find(function(e){if(e)return e!==a}))?t.isGlassCatheter?t.isGlassCatheter&&(e=(i=t.addedNode.find(function(e){if(e)return"RubberCatheter"!==e.name}))?6:5):e=4:e=3,{type:e,connectOther:t,connectContainer:i,plasticAddedNode:n}}},{key:"contianerAddMedicine",value:function(e){if(e instanceof Array){var i=this.medicineData;e.forEach(function(e){var t;e instanceof p&&!isNaN(e.getMol())&&((t=i.liquidAry.quickMap.get(e.name))?t.setMol(t.getMol()+e.getMol()):i.liquidAry.push(e)),e instanceof f&&!isNaN(e.getMol())&&((t=i.ionAry.quickMap.get(e.searchName))?t.setMol(t.getMol()+e.getMol()):i.ionAry.push(e))});for(var t=i.gasAry,n=0;n<t.length;n++)"O2"!=t[n].name?t[n].isBubble+=8:(this.bubbleReduce++,this.bubbleReduce%10==0&&(t[n].isBubble+=8));this.hasReact=this.activeCount=300}}},{key:"plungerStop",value:function(){this.parent.isMove&&(this.parent.isMove=!1)}},{key:"getCurrentGas",value:function(){return this.addedBottle?this.addedBottle.medicineData.gasAry:this.medicineManager.airGas}},{key:"getCapacityProportion",value:function(){var e=this.plunger.x,t=this.capacityVertex[0],i=this.capacityVertex[3];t.set_y(e),i.set_y(e)}},{key:"updateDripWater",value:function(){.7<=this.addDripMol&&(this.tubeDrip.dripOne(.7),this.addDripMol-=.7)}},{key:"updateCheckConnectPascal",value:function(){var e,t,i,n,a,r,o,s=this.checkConnectNode(),l=s.type;this.isMove&&7===l||(e=this.plunger,a=this.totalHeight,t=this.getCurrentCapacity()/this.fullCapacity,n=this.medicineData.getGasMol()/this.fullGasCapacity,e.x=this.lastPlungerX=this.plungerLimit.bottom-(t+n)*a,this.setTopGlobalAry()),this.isMove||(n=s.connectOther,a=s.connectContainer,s=s.plasticAddedNode,2!==l||s.isOpen||(i=s),4===l&&(i=n),(i=6===l?a:i)&&(o=null!==i&&void 0!==i&&null!==(r=i.medicineData)&&void 0!==r&&null!==(o=r.pascalAllLines)&&void 0!==o&&o.find(function(e){return e.includes(!0)})?nb.PASCAL:i.pascal,o=this.pascal-o,("BaseGasMedicineInGasBag"!==i.name||i._switchIsOpen_)&&60<Math.abs(o)&&(0<o?this.plunger.x+=2:this.plunger.x-=2,this.movePlunger.call(this.plunger))))}},{key:"setTopGlobalAry",value:function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||.1<Math.abs(this.lastSetPlungerX-this.plunger.x)){this.lastSetPlungerX=this.plunger.x;var e=this.toGlobal(new g(this.plunger.x,this.plunger.y-10)),t=this.toGlobal(new g(this.plunger.x,this.plunger.y+10)),i=v.lineIntersect(this.globalAry,e,t),e=i[0],t=i[i.length-1];if(void 0===e||void 0===t)return null;this.toLocal(e).y<this.plunger.y&&(e=t,t=i[0]);for(var n=.5*(this.plungerLimit.top+this.plungerLimit.bottom),a=[],r=0;r<this.globalAry.length;r++){var o=this.globalAry[r],s=this.toLocal(o);if(s.x>n&&(s.y>-1/0?a.push(o):a.unshift(o),2===a.length))break}a.push(e,t),this.setTopCapacityVertex(a),this.calculateLiquid(!0),this.forceUpdateLiquidGra=!0}}},{key:"getMass",value:function(){return this.originalMass+this.getMedicineMass()}},{key:"getMedicineMass",value:function(){var e=0,t=this.medicineData,i=t.liquidAry,n=t.gasAry;if(i)for(var a=0;a<i.length;a++)e+=i[a].getMass();if(n)for(var r=0;r<n.length;r++){var o=n[r],s=o.getMol();e+=(s=isNaN(s)?0:s)*o.mm}return e}},{key:"update",value:function(e){(0,o.default)((0,h.default)(PlasticInjector.prototype),"update",this).call(this,e),this.updateDripWater(),this.updateCheckConnectPascal()}},{key:"toJSON",value:function(){var e=(0,o.default)((0,h.default)(PlasticInjector.prototype),"toJSON",this).call(this);return e._addedEq=this._addedEq&&this._addedEq.getUUID?this._addedEq.getUUID():this._addedEq,e}},{key:"setJSON",value:function(e){var t=this;(0,o.default)((0,h.default)(PlasticInjector.prototype),"setJSON",this).call(this,e),e._addedEq&&this.getEquipmentByUUID(e._addedEq).then(function(e){t.addedEq=e})}}],[{key:"connectGas",value:function(e,t,i,n){for(var a=[].concat(e),r=0;r<a.length;r++)a[r]=a[r].deepClone();e=PlasticInjector.calcGas(a,t);(n=n||this).medicineData.push(e),i&&(t=PlasticInjector.calcGas(a,-t),(i.medicineData||i.medicine).push(t))}},{key:"calcGas",value:function(e,i){if(e.length<1)return[];var n=0,a=[];return e.forEach(function(e){n+=e.getMol()}),e.forEach(function(e){var t=e.getMol()/n*i,e=e.deepClone();e.getMol()>Math.abs(t)&&(e.setMol(t),a.push(e))}),a}}]),PlasticInjector}();e.exports=PlasticInjector},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){var n=i(213),a=Math.min;e.exports=function(e){return 0<e?a(n(e),9007199254740991):0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){},function(e,t,i){i(437);for(var n=i(48),a=i(101),r=i(156),o=i(68)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var h=s[l],c=n[h],c=c&&c.prototype;c&&!c[o]&&a(c,o,h),r[h]=r.Array}},function(e,t,i){var a=i(38),r=i(30),o=i(93);e.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],n={};n[e]=t(i),a(a.S+a.F*o(function(){i(1)}),"Object",n)}},function(e,t,i){"use strict";var n={canDragInLimitAreaAry:["CombustionSpoon","CopperWire","DryingBottle","DryingTube","DryingTubeOfCaO","DryingTubeOfP2O5","GlassBar","GlassCatheter","YGlassCatheter","TGlassCatheter","RotateGlassCatheter","GasTailGlassCatheter","StraightGlassCatheter","IronWire","LongNeckFunnel","MortarPestle","PlatinumWire","ShapeGlassCatheter","SharpNoseGlassTube","syringeNeedle","Thermometer","ThermometerPlus","UDryingTube","WoodenStick","PhTesterProbe","ADropper","LongADropper","SeparatingFunnelBulbShape","SeparatingFunnelStraight","SeparatingFunnelBulbShapeWithHose","SeparatingFunnelPearShape","StraightGlassWithBalloon","FunnelBig","FunnelSmall","SmallCombustionSpoon","ElectricityPieceCopper","ElectricityPieceIron","ElectricityPieceZinePlate","ElectricityPieceKryptol","ElectricityPieceSilver","ElectricityPieceMagnesium","ElectricityZineKryptol","ElectricityMagnesiumKryptol","ElectricitySilverKryptol","ElectricityIronKryptol","ElectricityCopperKryptol","ElectricityAluminumKryptol","ElectricityPlatinumKryptol","GasTailGlassCatheter120","ElectricityPieceKryptolWithCatalyst"],cannotAutoAddPlugHitObjAry:["GlassBar","PlatinumWire","ADropper","LongADropper","IronWire","Thermometer","ThermometerPlus","PhTesterProbe","CopperWire","SharpNoseGlassTube"],canAutoAddPlugDragObjAry:["BigTestTube","UTube","ConicalFlask100ml","GasCollectingBottle","GasCollectingBottleOfDivide","SmallTestTube","RoundBottomFlask","SmallRoundBottomFlask","FlorenceFlask","DryingTube","DryingTubeOfCaO","DryingTubeOfP2O5","ThreeNeckedFlask","UTubeWithSideNeck","DistillingFlask","ConicalFlask250ml","TestTubeWithSideNeck","HardGlassTube","BigHardGlassTube","UShapeTube","BaseGasMedicine","DryingBottle","ElectrolysisUTubeWithSideNeck"],mustAutoAddPlugAry:{Thermometer:"DistillingFlask",ThermometerPlus:"DistillingFlask"},doubleRectEqAry:{},twoContainerCollisionAry:["PaperFlower","UDryingTube","BigBeaker","BigTestTube","AlkaliBurette","GeiserBurette","GasCollectingBottle","RoundBottomFlask","SmallRoundBottomFlask","FlorenceFlask","SmallBeaker","SmallTestTube","UShapeTube","BaseGasMedicine","ConicalFlask100ml","ConicalFlask250ml","MeasuringCylinder100ml","MeasuringCylinder10ml","MeasuringCylinder50ml"],doubleRectEqAry2:{CombustionSpoon:{botHeight:24,botY:629,topX:56,topWidth:17,offsetHeight:0},SmallCombustionSpoon:{botHeight:24,botY:502,topX:56,topWidth:2,offsetHeight:0},IronWire:{botHeight:162,botY:420,botX:38,topX:67,topWidth:6,offsetHeight:0},IronWireWithWooden:{botHeight:162,botY:420,topX:67,botX:40,topWidth:6,offsetHeight:0},CopperWire:{botHeight:200,botY:565,topX:28,topWidth:6,offsetHeight:-20},SharpNoseGlassTube:{botHeight:86,botY:237,topX:0,topWidth:35,offsetHeight:0}},doubleRectContainer:{GasCollectingBottle:{},BaseGasMedicine:{},GasCollectingBottleOfDivide:{}},gasBottleHitData:{Thermometer:{leftOffset:0,rightOffset:0},ThermometerPlus:{leftOffset:0,rightOffset:0},PhTesterProbe:{leftOffset:0,rightOffset:0},CombustionSpoon:{leftOffset:77,rightOffset:0},SmallCombustionSpoon:{leftOffset:77,rightOffset:0},LongNeckFunnel:{leftOffset:36,rightOffset:0},SeparatingFunnelBulbShape:{leftOffset:84,rightOffset:0},SeparatingFunnelStraight:{leftOffset:-40,rightOffset:0},SeparatingFunnelBulbShapeWithHose:{leftOffset:84,rightOffset:0},SeparatingFunnelPearShape:{leftOffset:89,rightOffset:0},ElectricityPieceCopper:{leftOffset:89,rightOffset:0},ElectricityPieceZinePlate:{leftOffset:89,rightOffset:0},ElectricityPieceSilver:{leftOffset:89,rightOffset:0},ElectricityPieceMagnesium:{leftOffset:89,rightOffset:0},ElectricityPieceIron:{leftOffset:89,rightOffset:0},ElectricityPieceKryptol:{leftOffset:89,rightOffset:0},ElectricityZineKryptol:{leftOffset:89,rightOffset:0},ElectricityMagnesiumKryptol:{leftOffset:89,rightOffset:0},ElectricitySilverKryptol:{leftOffset:89,rightOffset:0},ElectricityIronKryptol:{leftOffset:89,rightOffset:0},ElectricityCopperKryptol:{leftOffset:89,rightOffset:0},ElectricityAluminumKryptol:{leftOffset:89,rightOffset:0},ElectricityPlatinumKryptol:{leftOffset:89,rightOffset:0},ElectricityPieceKryptolWithCatalyst:{leftOffset:89,rightOffset:0},IronWire:{leftOffset:64,rightOffset:0},PlatinumWire:{leftOffset:0,rightOffset:0},CopperWire:{leftOffset:32,rightOffset:0}},hitPlugFixData:{LongNeckFunnel:{topX:38,botY:111},GlassBar:{topX:15,botY:0},PlatinumWire:{topX:12,botY:0},Thermometer:{topX:18,botY:0},ThermometerPlus:{topX:18,botY:0},PhTesterProbe:{topX:18,botY:0},GlassCatheterLeft:{topX:6,botY:36},GlassCatheterRight:{topX:116,botY:36},ShapeGlassCatheter:{topX:6,botY:36},StraightGlassCatheter:{topX:6,botY:36},SeparatingFunnelBulbShape:{topX:93,botY:372},SeparatingFunnelPearShape:{topX:93,botY:484},SeparatingFunnelStraight:{topX:76,botY:874}},specialEqAry:{FunnelBig:{tubeX:124,tubeY:162,tubeWidth:20,tubeHeight:164},SeparatingFunnelBulbShape:{tubeX:84,tubeY:372,tubeWidth:20,tubeHeight:324},SeparatingFunnelStraight:{tubeX:-9,tubeY:372,tubeWidth:20,tubeHeight:324},SeparatingFunnelBulbShapeWithHose:{tubeX:82,tubeY:372,tubeWidth:20,tubeHeight:324},SeparatingFunnelPearShape:{tubeX:89,tubeY:501,tubeWidth:20,tubeHeight:142},ElectricityPieceCopper:{tubeX:34.5,tubeY:30,tubeWidth:80,tubeHeight:402},ElectricityPieceZinePlate:{tubeX:29,tubeY:30,tubeWidth:80,tubeHeight:402},ElectricityPieceSilver:{tubeX:29,tubeY:30,tubeWidth:80,tubeHeight:402},ElectricityPieceMagnesium:{tubeX:29,tubeY:30,tubeWidth:80,tubeHeight:402},ElectricityPieceIron:{tubeX:29,tubeY:30,tubeWidth:80,tubeHeight:402},ElectricityPieceKryptol:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402},DryingTube:{tubeX:-78.5,tubeY:20,tubeWidth:157,tubeHeight:280},DryingTubeOfCaO:{tubeX:66,tubeY:274,tubeWidth:26,tubeHeight:104},DryingTubeOfP2O5:{tubeX:66,tubeY:274,tubeWidth:26,tubeHeight:104},LongNeckFunnel:{tubeX:37,tubeY:111,tubeWidth:16,tubeHeight:530},Thermometer:{tubeX:-16,tubeY:30,tubeWidth:26,tubeHeight:628},ThermometerPlus:{tubeX:-16,tubeY:30,tubeWidth:26,tubeHeight:628},PhTesterProbe:{tubeX:-16,tubeY:30,tubeWidth:32,tubeHeight:375},ShapeGlassCatheter:{tubeX:0,tubeY:55,tubeWidth:24,tubeHeight:141},ADropper:{tubeX:-12,tubeY:119,tubeWidth:25,tubeHeight:266},LongADropper:{tubeX:-12,tubeY:119,tubeWidth:25,tubeHeight:593},FunnelSmall:{tubeX:73,tubeY:103,tubeWidth:18,tubeHeight:110},GlassBar:{tubeX:30,tubeY:1,tubeWidth:30,tubeHeight:475},PlatinumWire:{tubeX:0,tubeY:1,tubeWidth:30,tubeHeight:500},SyringeNeedle:{tubeX:0,tubeY:35,tubeWidth:4,tubeHeight:90},StraightGlassWithBalloon:{tubeX:-12,tubeY:50,tubeWidth:25,tubeHeight:331},ElectricityZineKryptol:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402},ElectricityMagnesiumKryptol:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402},ElectricitySilverKryptol:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402},ElectricityIronKryptol:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402},ElectricityCopperKryptol:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402},ElectricityAluminumKryptol:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402},ElectricityPlatinumKryptol:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402},ElectricityPieceKryptolWithCatalyst:{tubeX:59,tubeY:30,tubeWidth:10,tubeHeight:402}}};e.exports=n},function(e,t,i){"use strict";e.exports=function(e){return e&&e.constructor.prototype.isMatrix||!1}},function(e,t,i){"use strict";t.type=function(e){var t=typeof e;return"object"==t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":"Object":"function"==t?"Function":t}},function(e,t,n){"use strict";var N=n(49);t.name="algorithm05",t.factory=function(e,t,i,D){var P=i(n(47)),L=e.SparseMatrix;return function(e,t,i){var n=e._values,a=e._index,r=e._ptr,o=e._size,s=e._datatype,l=t._values,h=t._index,c=t._ptr,e=t._size,t=t._datatype;if(o.length!==e.length)throw new N(o.length,e.length);if(o[0]!==e[0]||o[1]!==e[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+e+")");var e=o[0],u=o[1],d=P,p=0,f=i;"string"==typeof s&&s===t&&(d=D.find(P,[y=s,y]),p=D.convert(0,y),f=D.find(i,[y,y]));for(var I=n&&l?[]:void 0,g=[],m=[],y=new L({values:I,index:g,ptr:m,size:[e,u],datatype:y}),v=I?[]:void 0,C=I?[]:void 0,M=[],b=[],x=0;x<u;x++){m[x]=g.length;for(var O=x+1,A=r[x],T=r[x+1];A<T;A++)S=a[A],g.push(S),M[S]=O,v&&(v[S]=n[A]);for(A=c[x],T=c[x+1];A<T;A++)M[S=h[A]]!==O&&g.push(S),b[S]=O,C&&(C[S]=l[A]);if(I)for(A=m[x];A<g.length;){var S,w=M[S=g[A]],B=b[S];w!==O&&B!==O||(d(B=f(w===O?v[S]:p,B===O?C[S]:p),p)?g.splice(A,1):(I.push(B),A++))}}return m[u]=g.length,y}}},function(e,t,o){"use strict";var c=o(14),u=o(17).isInteger;t.name="eye",t.factory=function(h,i,e,t){var n=e(o(12));return(t=t("eye",{"":function(){return"Matrix"===i.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return r(e,e,"Matrix"===i.matrix?"default":void 0)},"number | BigNumber, string":function(e,t){return r(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return r(e,t,"Matrix"===i.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":r,Array:function(e){return a(e)},"Array, string":a,Matrix:function(e){return a(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return a(e.valueOf(),t)}})).toTex=void 0,t;function a(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return r(e[0],e[0],t);case 2:return r(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function r(e,t,i){var n=h.isBigNumber(e)||h.isBigNumber(t)?h.BigNumber:null;if(h.isBigNumber(e)&&(e=e.toNumber()),h.isBigNumber(t)&&(t=t.toNumber()),!u(e)||e<1)throw new Error("Parameters in function eye must be positive integers");if(!u(t)||t<1)throw new Error("Parameters in function eye must be positive integers");var a=n?new h.BigNumber(1):1,r=n?new n(0):0,n=[e,t];if(i)return h.Matrix.storage(i).diagonal(n,a,0,r);for(var o=c.resize([],n,r),s=e<t?e:t,l=0;l<s;l++)o[l][l]=a;return o}}},function(e,t,s){"use strict";t.name="ParenthesisNode",t.path="expression.node",t.factory=function(t,e,i,n){var a=i(s(36)).register,r=i(s(36)).compile,i=i(s(56));function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t.isNode(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return(o.prototype=new i).type="ParenthesisNode",o.prototype.isParenthesisNode=!0,a(o.prototype.type,function(e,t,i){if(!(e instanceof o))throw new TypeError("No valid ParenthesisNode");return r(e.content,t,i)}),o.prototype.getContent=function(){return this.content.getContent()},o.prototype.forEach=function(e){e(this.content,"content",this)},o.prototype.map=function(e){return new o(e(this.content,"content",this))},o.prototype.clone=function(){return new o(this.content)},o.prototype._toString=function(e){return!e||!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},o.prototype.toHTML=function(e){return!e||!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},o.prototype._toTex=function(e){return!e||!e.parenthesis||e&&"keep"===e.parenthesis?"\\left("+this.content.toTex(e)+"\\right)":this.content.toTex(e)},o}},function(e,t,n){"use strict";var d=n(28).clone,p=n(17).isInteger,f=n(14),I=n(159),g=n(49);t.name="concat",t.factory=function(c,e,t,i){var u=t(n(12));return(i=i("concat",{"...Array | Matrix | number | BigNumber":function(e){for(var t,i=e.length,n=-1,a=!1,r=[],o=0;o<i;o++){var s=e[o];if(c.isMatrix(s)&&(a=!0),c.isNumber(s)||c.isBigNumber(s)){if(o!==i-1)throw new Error("Dimension must be specified as last argument");if(t=n,n=s.valueOf(),!p(n))throw new TypeError("Integer number expected for dimension");if(n<0||0<o&&t<n)throw new I(n,t+1)}else{var l=d(s).valueOf(),s=f.size(l);if(r[o]=l,t=n,n=s.length-1,0<o&&n!=t)throw new g(t+1,n+1)}}if(0==r.length)throw new SyntaxError("At least one matrix expected");for(var h=r.shift();r.length;)h=function e(t,i,n,a){{if(a<n){if(t.length!=i.length)throw new g(t.length,i.length);for(var r=[],o=0;o<t.length;o++)r[o]=e(t[o],i[o],n,a+1);return r}return t.concat(i)}}(h,r.shift(),n,0);return a?u(h):h},"...string":function(e){return e.join("")}})).toTex=void 0,i}},function(e,t,i){"use strict";var a=i(14).size,r=i(181),o=i(159);function s(e,t,i){var n,a,r,o;if(t<=0){if(Array.isArray(e[0])){for(o=function(e){var t,i,n=e.length,a=e[0].length,r=[];for(i=0;i<a;i++){var o=[];for(t=0;t<n;t++)o.push(e[t][i]);r.push(o)}return r}(e),a=[],n=0;n<o.length;n++)a[n]=s(o[n],t-1,i);return a}for(r=e[0],n=1;n<e.length;n++)r=i(r,e[n]);return r}for(a=[],n=0;n<e.length;n++)a[n]=s(e[n],t-1,i);return a}e.exports=function(e,t,i){var n=Array.isArray(e)?a(e):e.size();if(t<0||t>=n.length)throw new o(t,n.length);return r(e)?e.create(s(e.valueOf(),t,i)):s(e,t,i)}},function(e,t,i){"use strict";var n=i(138);e.exports=function(e){for(var t=0;t<e.length;t++)if(n(e[t]))return!0;return!1}},function(e,t,c){"use strict";var M=c(28).clone,u=c(40).format;t.name="transpose",t.factory=function(e,t,i,n){var a=c(23),r=i(c(12)),l=e.DenseMatrix,C=e.SparseMatrix,o=n("transpose",{Array:function(e){return o(r(e)).valueOf()},Matrix:function(e){var t,i=e.size();switch(i.length){case 1:t=e.clone();break;case 2:var n=i[0],a=i[1];if(0===a)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+u(i)+")");switch(e.storage()){case"dense":t=s(e,n,a);break;case"sparse":t=h(e,n,a)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+u(this._size)+")")}return t},any:function(e){return M(e)}}),s=function(e,t,i){for(var n=e._data,a=[],r=0;r<i;r++)for(var o=a[r]=[],s=0;s<t;s++)o[s]=M(n[s][r]);return new l({data:a,size:[i,t],datatype:e._datatype})},h=function(e,t,i){for(var n,a,r,o=e._values,s=e._index,l=e._ptr,h=o?[]:void 0,c=[],u=[],d=[],p=0;p<t;p++)d[p]=0;for(n=0,a=s.length;n<a;n++)d[s[n]]++;for(var f=0,I=0;I<t;I++)u.push(f),f+=d[I],d[I]=u[I];for(u.push(f),r=0;r<i;r++)for(var g=l[r],m=l[r+1],y=g;y<m;y++){var v=d[s[y]]++;c[v]=r,o&&(h[v]=M(o[y]))}return new C({values:h,index:c,ptr:u,size:[i,t],datatype:e._datatype})};return o.toTex={1:"\\left(${args[0]}\\right)"+a.operators.transpose},o}},function(e,t,n){"use strict";var D=n(795),P=n(49);t.name="algorithm06",t.factory=function(e,t,i,S){var w=i(n(47)),B=e.SparseMatrix;return function(e,t,i){var n=e._values,a=e._size,r=e._datatype,o=t._values,s=t._size,l=t._datatype;if(a.length!==s.length)throw new P(a.length,s.length);if(a[0]!==s[0]||a[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+s+")");var h,s=a[0],c=a[1],u=w,d=0,p=i;"string"==typeof r&&r===l&&(u=S.find(w,[h=r,h]),d=S.convert(0,h),p=S.find(i,[h,h]));for(var f=n&&o?[]:void 0,I=[],g=[],m=new B({values:f,index:I,ptr:g,size:[s,c],datatype:h}),y=f?[]:void 0,v=[],C=[],M=0;M<c;M++){g[M]=I.length;var b=M+1;if(D(e,M,v,y,C,b,m,p),D(t,M,v,y,C,b,m,p),y)for(var x=g[M];x<I.length;){var O,A=I[x];C[A]!==b||u(O=y[A],d)?I.splice(x,1):(f.push(O),x++)}else for(var T=g[M];T<I.length;)C[I[T]]!==b?I.splice(T,1):T++}return g[c]=I.length,m}}},function(e,t,o){"use strict";var s=o(13);t.name="factorial",t.factory=function(e,t,i,n){var a=i(o(349)),i=o(23),r=n("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return a(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return a(e.plus(1))},"Array | Matrix":function(e){return s(e,r)}});return r.toTex={1:"\\left(${args[0]}\\right)"+i.operators.factorial},r}},function(e,t,i){"use strict";var r=i(17).isInteger;function l(e){return e.isInteger()&&e.gte(0)}t.name="combinations",t.factory=function(s,e,t,i){return(i=i("combinations",{"number, number":function(e,t){var i,n,a;if(!r(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!r(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(e<t)throw new TypeError("k must be less than or equal to n");for(i=Math.max(t,e-t),a=n=1;a<=e-i;a++)n=n*(i+a)/a;return n},"BigNumber, BigNumber":function(e,t){var i,n,a,r,o=new s.BigNumber(1);if(!l(e)||!l(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");for(i=e.minus(t),t.lt(i)&&(i=t),a=n=o,r=e.minus(i);a.lte(r);a=a.plus(1))n=n.times(i.plus(a)).dividedBy(a);return n}})).toTex={2:"\\binom{${args[0]}}{${args[1]}}"},i}},function(e,t,i){"use strict";var o=i(11),s={dataList:{},loadData:function(e){var t=o.INIT_DATA;this.gotCount=0;var i,n=Number(o.isDebug||!1);for(i in this.callback=e,t){this.gotCount++;var a=t[i];s.load(i,a,n)}},load:function(t,i,n){var a=this,e=o.config.URI_PREFIX+i[n];function r(e){s.dataList[t]=e,0==--s.gotCount&&a.callback()}$.getJSON(e,function(e,t){"success"===t?r(e):$.getJSON(o.config.URI_PREFIX+i[1-n],r)})}};e.exports=s},function(e,t,i){"use strict";var n=i(0),a=n(i(77)),r=n(i(1)),o=n(i(2)),s=i(11),l=i(45),h=i(70),i=function(){function n(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"g";(0,r.default)(this,n),this.type=h.DISSOLVE,this._mol=t,this.isBubble=1,this.physicalState=i,this.dat=e,this.temp=s.DEFAULT_TEMP,this.name=e?e.chemical:void 0,this.mm=this.name?l.getMoleculeRelativeMass(this.name)||this.dat.molecular_mass:0}return(0,o.default)(n,[{key:"getSolubility",value:function(){var e=(0,a.default)(this.dat.solubility);return e=isNaN(e)?0:e}},{key:"mol",get:function(){return this._mol},set:function(e){this.setMol(e)}},{key:"setMol",value:function(e){this._mol=e}},{key:"getMol",value:function(){return this._mol}},{key:"setTemp",value:function(e){this.temp=e}},{key:"getTemp",value:function(){return this.temp}},{key:"getMass",value:function(){var e=this.mol;return isNaN(e)&&(e=0),this.mm*e}},{key:"deepClone",value:function(){var e=new n(this.dat,this.mol,this.physicalState);return e.setTemp(this.getTemp()),e}},{key:"clone",value:function(){return{dat:this.dat,type:this.type,name:this.name,mol:this.mol,physicalState:this.physicalState,temp:this.getTemp()}}},{key:"restoreFromEasyClone",value:function(e){this.setTemp(e.temp)}}]),n}();window.DissolveVO=i,e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),s=n(i(37)),l=n(i(24)),r=n(i(25)),h=n(i(1)),u=n(i(2)),d=n(i(19)),p=n(i(5)),o=n(i(6)),c=n(i(3));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}var I=i(50),g=i(11).DEFAULT_TEMP,m=i(20),y=i(11),v=i(57),C=i(70),i=function(e){(0,p.default)(c,e);var o=f(c);function c(e,t,i,n){var a;(0,h.default)(this,c),a=o.call(this),e.particleMedContainer.addChild((0,d.default)(a)),e.activeCount=y.ACTIVE_COUNT,e.hasReact=y.ACTIVE_COUNT,a.container=e,a.material=t,a.isFloatage=!1,a.updateCount=0,a._justAdd=20,(0,s.default)(i)&&1==i.length&&(i=i[0]),a.medVO=i,a.MAX_RADIUS=5,"高吸水性树脂"===i.name&&(a.MAX_RADIUS=3),a.MIN_RADIUS=2,a.maxMol=i.mol,a.radius=a.calcRadius(i),a.radius,a.color=i.dat.color,"NaOH"!==i.name&&"C6H5COOH"!==i.name&&"C6H5OH"!==i.name||(a.Ellipse=!0);var r=1;return"PE"===i.name&&(r=.6),"碎瓷片"===i.name&&(a.radius*=2,a.Ellipse={w:a.radius+5*Math.random(),h:a.radius+5*Math.random()}),a.initGraphic(i.dat.color,n,a.Ellipse,r),a.initNape(e,t,i,n,a.Ellipse),i.container=(0,d.default)(a),a.solidMedicineInfo=(new l.default).set(i.name,i),i.graphicInfo={x:0,y:0,radius:a.radius,shape:!0===a.Ellipse?"ellipse":null},a.setTemp(g),a.needUpdateSize=0,a.updateMedSize(),a}return(0,u.default)(c,[{key:"justAdd",get:function(){return this._justAdd},set:function(e){this._justAdd=e=e<0?0:e}},{key:"getHgOColor",value:function(){var e,t=this.getCurContainer().medicineData.getSolidAverageTemp();return e=t<300?"FF0000":300<=t&&t<500?(e=Math.round(255-255*(t-300)/200),"".concat(e.toString(16),"0000")):"000000",(0,r.default)(e,16)}},{key:"initGraphic",value:function(e,t,i,n){this.clear(),this.allowGetBounds=!1,"HgO"===this.medVO.name&&(e=this.getHgOColor()),this.beginFill(e,n||1),i?i.w?(n=i.w,i=i.h,this.moveTo(-n/2-2+4*Math.random(),-i/2-2+4*Math.random()),this.lineTo(-n/2-2+4*Math.random(),i/2-2+4*Math.random()),this.lineTo(n/2-2+4*Math.random(),i/2-2+4*Math.random()),this.lineTo(n/2-2+4*Math.random(),-i/2-2+4*Math.random())):this.drawEllipse(0,0,this.radius,this.radius/3):this.drawCircle(0,0,this.radius),this.position={x:t.x,y:t.y},this.endFill()}},{key:"staticNBGraphics",value:function(){this.napeBody.set_velocity(new nape.geom.Vec2(0,0)),this.napeBody.set_angularVel(0),this.napeBody.set_type(nape.phys.BodyType.get_KINEMATIC())}},{key:"dynamicNBGraphics",value:function(){this.napeBody.set_type(nape.phys.BodyType.get_DYNAMIC())}},{key:"initNape",value:function(e,t,i,n,a){var r,n=new I(nape.phys.BodyType.get_DYNAMIC(),new nape.geom.Vec2(n.x,n.y));n.medicineData=i.dat,r=a?(r=a.w?new nape.shape.Polygon.rect(-a.w/2,-a.h/2,a.w,a.h):new nape.shape.Polygon.box(this.radius+1,(this.radius+1)/3),new nape.shape.Polygon(r)):new nape.shape.Circle(this.radius-1),(this.napeShape=r).get_filter().set_collisionGroup(2),r.get_filter().set_fluidGroup(2),n.get_shapes().add(r),n.setShapeMaterials(t),e.engine&&n.set_space(e.engine.space),(n.get_userData().view=this).napeBody=n}},{key:"getCurContainer",value:function(){return this.container}},{key:"getMaxStableMol",value:function(e,t){t=t||this.MAX_RADIUS;var i=this.solidMedicineInfo.get(e.name);if(i){var n=this.calcRadius(i);return this.radius<n&&(this.needUpdateSize++,this.updateMedSize()),t<n?0:(t-i.b)/i.k-i.mol}return e.k||(n=this.MIN_RADIUS,i=3*e.dat.density_solid/e.dat.molecular_mass/10,"高吸水性树脂"===e.name&&(i/=10),e.k=(this.MAX_RADIUS-n)/i,e.b=n),(t-e.b)/e.k}},{key:"calcRadius",value:function(e){var t,i;return e.k||(t=this.MIN_RADIUS,i=3*e.dat.density_solid/e.dat.molecular_mass/10,"高吸水性树脂"===e.name&&(i/=10),e.k=(this.MAX_RADIUS-t)/i,isNaN(e.k),e.b=t),e.k*e.mol+e.b<0?0:e.k*e.mol+e.b}},{key:"updateMedSize",value:function(){var t,i,o,s,l,n,e,h=this;this.needUpdateSize<1||(this.needUpdateSize=0,e=this.solidMedicineInfo,t=!1,this.solidMedicineInfo.forEach(function(e){0<e.mol&&(t=!0)}),0!=e.size&&t||this.destroy(),i=[],e.forEach(function(e){return i.push(e)}),o=0,s=null,l=[],i.forEach(function(e){var t,i,n=e.graphicInfo;if(n?n.radius=h.calcRadius(e):(t=Math.random()*h.radius*(.5<=Math.random()?1:-1),i=Math.random()*h.radius*(.5<=Math.random()?1:-1),e.graphicInfo={x:t,y:i,radius:h.calcRadius(e)},n=e.graphicInfo),n.radius>h.MAX_RADIUS){for(var a=(h.MAX_RADIUS-e.b)/e.k;e.mol>a;){var r=e.deepClone(a);l.push(r),e.mol-=a}l.push(e.deepClone(e.mol)),n.radius=h.calcRadius(e)}o<e.mol&&(o=e.mol,s=e)}),o<=0?this.destroy():(l.length&&(n=this.position,l.forEach(function(e){var t={x:n.x+2*Math.random()-1,y:n.y+2*Math.random()-1},t=new c(h.container,h.material,[e],t);h.container.addNBGraphic(e.name,t)})),s.graphicInfo.x=0,s.graphicInfo.y=0,this.clear(),e=this.radius,this.radius=this.calcRadius(s),e=this.radius/e,this.napeShape.set_radius instanceof Function?this.napeShape.set_radius(this.radius-1):this.napeShape.scale(e,e),i.forEach(function(e){var t=null;e.graphicInfo&&(t=e.graphicInfo);var i,n,a,r=h.radius,o=t.radius;Math.pow(t.x,2)+Math.pow(t.y,2)>Math.pow(r-o,2)&&(a=1+(i=t.y/t.x)*i,n=2*i*0,r=0-Math.pow(r-o,2),o=(-n+Math.sqrt(n*n-4*a*r))/(2*a),n=(-n-Math.sqrt(n*n-4*a*r))/(2*a),isNaN(o)&&isNaN(n)||((r=Math.abs(o-t.x))==(a=Math.abs(n-t.x))||(r<a?(t.x=o,t.y=i*o+0):(t.x=n,t.y=i*n+0)))),"HgO"===e.name?h.beginFill(h.getHgOColor(),1):h.beginFill(e.dat.color,1),h.Ellipse?h.drawEllipse(t.x,t.y,t.radius,t.radius/3):h.drawCircle(t.x,t.y,t.radius)}),this.endFill()))}},{key:"update",value:function(e){var t,i=this.getCurContainer();1e-4<i.getCurrentCapacity()?(t=this.velocity.get_length(),this.updateCount+=e,(.5<this.updateCount||10<t)&&(this.updateCount=0,(t=this.gotFloatage())!==this.isFloatage&&(this.isFloatage=t,i.hasReact=y.ACTIVE_COUNT,i.medicineData.updateSolidCapacity=!0))):this.isFloatage&&(this.isFloatage=!1,i.medicineData.updateSolidCapacity=!0),this.bubbleParticle&&this.isFloatage&&0<=i.solidBubbleCount&&this.bubbleParticle.render(e),this.bubbleParticle&&this.isFloatage&&void 0!==this.bubbleParticle.destroyCount&&this.bubbleParticle.destroyCount--<0&&(this.bubbleParticle.destroyCount=0,v.destroy(this.bubbleParticle,!0),this.bubbleParticle=null),"HgO"===this.medVO.name&&(this.color=this.getHgOColor(),this.clear(),this.beginFill(this.color),this.drawCircle(0,0,this.radius))}},{key:"medicines",value:function(){return this.solidMedicineInfo.entries()}},{key:"getTemp",value:function(){return this.temp}},{key:"setTemp",value:function(e){var t=this;return this.temp=e<g?g:e,this.solidMedicineInfo.forEach(function(e){return e.setTemp(t.temp)}),this}},{key:"stayInLiquid",value:function(e){var t=this.getCurContainer();if(e instanceof Array){var i=this;return e.find(function(e){return-1!==e.indexOf("!")&&(e="H2O"),i.stayInLiquid(e)})}var n=t.medicineData.liquidAry.quickMap.get(e);if((n=n&&n.solvent?t.medicineData.liquidAry.quickMap.get(n.solvent):n)&&(n.pa||t.liquidVertex)){e=t.toGlobal(this.position);if((n.pa||t.liquidVertex[0]).y-(e.y+this.radius)<6)return!0}return!1}},{key:"gotFloatage",value:function(){for(var e=this.napeBody.get_arbiters(),t=0;t<e.get_length();t++){var i=e.at(t);if(i instanceof nape.dynamics.FluidArbiter)return this.container.getCurrentCapacity&&1e-4<this.container.getCurrentCapacity()&&(i=this.container.medicineData.getLiquidAverageTemp&&this.container.medicineData.getLiquidAverageTemp()||g,this.setTemp((i+this.getTemp())/2)),!0}return!1}},{key:"velocity",get:function(){return this.napeBody.get_velocity()}},{key:"getSolidMedicineInfo",value:function(){return this.solidMedicineInfo}},{key:"getGasMedicineInfo",value:function(){var t=this,i=new l.default;return this.stayInLiquid()||this.getCurContainer().medicineData.gasAry.forEach(function(e){e.container=t.container,i.set(e.name,e)}),i}},{key:"getLiquidMedicineInfo",value:function(){var t=this,i=new l.default;return this.stayInLiquid()&&this.getCurContainer().medicineData.liquidAry.forEach(function(e){e.container=t.container,i.set(e.name,e)}),i}},{key:"getIonMedicineInfo",value:function(){var e=new l.default;if(this.stayInLiquid()){var t,i=this.getCurContainer().medicineData.ionMedicine;for(t in i)e.set(t,i[t])}return e}},{key:"medicineManager",get:function(){return this.getCurContainer().medicineManager}},{key:"addMedicine",value:function(e){if(e.type===C.SOLID){var t=e;if(0===t.mol)return this;(e=new m(t.dat,t.mol)).restoreFromEasyClone(t);var i=e.name;this.solidMedicineInfo.has(i)?(this.needUpdateSize++,(t=this.solidMedicineInfo.get(i)).mol+=e.mol,t.mol<=y.MIN_DEVIATION&&(1==this.solidMedicineInfo.size?this.destroy():(this.solidMedicineInfo.delete(i),(t=this.container.medicineNBGraphicMap.get(i))&&t.delete(this)&&0===t.size&&this.container.medicineNBGraphicMap.delete(i)))):0<e.mol?this.addNewMedicine(e):(0==this.solidMedicineInfo.size||1===this.solidMedicineInfo.size&&e.mol<=0)&&this.destroy(),this.getCurContainer().medicineData.push(e);i=this.getCurContainer().medicineData.solidAry[e.name].getTemp();this.solidMedicineInfo.get(e.name)&&this.solidMedicineInfo.get(e.name).setTemp(i)}else isNaN(e.type)||this.getCurContainer().medicineData.push(e);return this}},{key:"addNewMedicine",value:function(e){var t=this.container.medicineNBGraphicMap.get(e.name);t&&15<t.size?this.container.addMedicine(e,{x:this.position.x,y:this.position.y}):(this.needUpdateSize++,(e.container=this).solidMedicineInfo.set(e.name,e),this.container.addNBGraphic(e.name,this))}},{key:"setReactStatus",value:function(e){this.getCurContainer().setReactStatus(e)}},{key:"destroy",value:function(){this.bubbleParticle&&(this.bubbleParticle.parent&&this.bubbleParticle.parent.removeChild(this.bubbleParticle),this.bubbleParticle.destroy()),this.napeBody.destroy(),this.container.removeNbGraphic(this),this.parent&&this.parent.removeChild(this),NBDrag.removeDrag(this),this.removeAllListeners()}}]),c}(PIXI.Graphics);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).name="BaseAnimation",e.setTimeoutID=[],e.isOnBottom=!0,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this),this.alpha=1}},{key:"associatedEquipment",value:function(e){this.associatedEq=e}},{key:"preDelte",value:function(){this.setTimeoutID.forEach(function(e){clearTimeout(e)}),this.textBox&&this.getViewStack().removeChild(this.textBox)}},{key:"update",value:function(e){}},{key:"setJSON",value:function(){}},{key:"toJSON",value:function(){}}]),i}()},function(e,t,BaseLiquidWhiteBottleMedicine){"use strict";var a=BaseLiquidWhiteBottleMedicine(4),i=BaseLiquidWhiteBottleMedicine(0),n=i(BaseLiquidWhiteBottleMedicine(1)),r=i(BaseLiquidWhiteBottleMedicine(2)),o=i(BaseLiquidWhiteBottleMedicine(7)),s=i(BaseLiquidWhiteBottleMedicine(5)),l=i(BaseLiquidWhiteBottleMedicine(6)),h=i(BaseLiquidWhiteBottleMedicine(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BaseLiquidWhiteBottleMedicine(8),BaseLiquidMedicine=BaseLiquidWhiteBottleMedicine(84),d=BaseLiquidWhiteBottleMedicine(110).alkBottleEngLishName,BaseLiquidWhiteBottleMedicine=function(){(0,s.default)(BaseLiquidWhiteBottleMedicine,BaseLiquidMedicine);var t=c(BaseLiquidWhiteBottleMedicine);function BaseLiquidWhiteBottleMedicine(e){return(0,n.default)(this,BaseLiquidWhiteBottleMedicine),(e=t.call(this,e)).name="BaseLiquidWhiteBottleMedicine",e.z_index=15.38,e.MAX_LABEL_WIDTH=125,e}return(0,r.default)(BaseLiquidWhiteBottleMedicine,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(BaseLiquidWhiteBottleMedicine.prototype),"creationComplete",this).call(this),this.hasCovered=!0,this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0,headCanCover:function(){return!e.children.find(function(e){return e instanceof u})}}),d.includes(this.medConfData.chemicalArr[0])&&(this.head.currentFrame=1,this.headBg&&(this.headBg.currentFrame=1),this.head.saveIndex=7,this.head.parent.addChildAt(this.head,this.head.saveIndex)),this.on(NBEvent.del.ADDED,function(){e.head.parent!==e&&(e.headParent.addChildWithSamePos(e.head),delete e.headParent)})}},{key:"eqPrepareDelete",value:function(){try{this.head.parent!==this&&(this.headParent=this.head.parent,this.addChildWithSamePos(this.head))}catch(e){}(0,o.default)((0,h.default)(BaseLiquidWhiteBottleMedicine.prototype),"eqPrepareDelete",this).call(this)}},{key:"allowPourLiquid",value:function(){return this.head.parent!==this}}]),BaseLiquidWhiteBottleMedicine}();e.exports=BaseLiquidWhiteBottleMedicine},function(e,t,BaseBlockMedicine){"use strict";var a=BaseBlockMedicine(4),i=BaseBlockMedicine(0),n=i(BaseBlockMedicine(9)),r=i(BaseBlockMedicine(1)),o=i(BaseBlockMedicine(2)),s=i(BaseBlockMedicine(7)),l=i(BaseBlockMedicine(5)),h=i(BaseBlockMedicine(6)),c=i(BaseBlockMedicine(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BaseBlockMedicine(45),p=BaseBlockMedicine(109),f=BaseBlockMedicine(29).getLanType,I=["木炭"],BaseBlockMedicine=function(){(0,l.default)(BaseBlockMedicine,p);var t=u(BaseBlockMedicine);function BaseBlockMedicine(e){return(0,r.default)(this,BaseBlockMedicine),(e=t.call(this,e)).noConfig=!0,e.preventCalEffect=!0,e.name="BaseBlockMedicine",e}return(0,o.default)(BaseBlockMedicine,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(BaseBlockMedicine.prototype),"creationComplete",this).call(this),this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0}),"zh"!==f()?(this.label.txt.text=d.convertToChemicalName(this.medConfData.chemical),this.label.txt.y+=16):I.includes(this.medConfData.name_cn)?(this.label.txt.text=d.convertToChemicalName(this.medConfData.name_cn),this.label.txt.y+=16):this.label.txt.text=this.medConfData.name_cn+"\n"+d.convertToChemicalName(this.medConfData.chemical);var t=125<(t=this.label.txt.width)?125:t;if(this.label.txt.width=t,this.label.txt.x=(125-t)/2,this.CNName=this.medConfData.name_cn,this.label.getChildAt(0).alpha=.8,!this.medConfData.block_eq)throw new Error('请配置"药品表.xls"中的block_eq字段,字段数据需要设置成对应的交互药品名称.如：BlockNa');this.setMedicine(this.medConfData.chemical),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.on(NBEvent.del.ADDED,function(){e.head.parent!==e&&(e.headParent.addChildWithSamePos(e.head),delete e.headParent)})}},{key:"setMedicine",value:function(e){"CuSO4·5H2O_s"===e?e="CuSO45H2O":"(C6H10O5)n(纤维素)_s"===e?e="C6H10O5_s":"C9H8O4_s"===e&&(e="C9H8O4");e=this.medicineMc.getFrameIndexByName(e);this.medicineMc.gotoAndStop(e)}},{key:"getBlockMedicine",value:function(){return this.execute(NBCommand.CREATE_EQUIPMENT,this.medConfData.block_eq)}},{key:"deleteBlockMedicine",value:function(){return this.execute(NBCommand.DELETE_EQUIPMENT,this.medConfData.block_eq)}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(BaseBlockMedicine.prototype),"toJSON",this).call(this),{name:this.medConfData.chemical})}},{key:"canClampPick",value:function(){return this.isOpen}},{key:"clampPick",value:function(){}},{key:"getClamPickBlock",value:function(){return this.getBlockMedicine()}},{key:"canClampPut",value:function(){return!1}},{key:"clampPut",value:function(){}}]),BaseBlockMedicine}();e.exports=BaseBlockMedicine},function(e,t,BaseGasMedicine){"use strict";var a=BaseGasMedicine(4),i=BaseGasMedicine(0),n=i(BaseGasMedicine(9)),r=i(BaseGasMedicine(1)),o=i(BaseGasMedicine(2)),s=i(BaseGasMedicine(7)),l=i(BaseGasMedicine(5)),h=i(BaseGasMedicine(6)),c=i(BaseGasMedicine(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BaseGasMedicine(109),p=BaseGasMedicine(10),f=BaseGasMedicine(11),I=BaseGasMedicine(45),g=BaseGasMedicine(31),m=BaseGasMedicine(32),y=BaseGasMedicine(34),v=BaseGasMedicine(18),C=BaseGasMedicine(21),M=BaseGasMedicine(29).getLanType,BaseGasMedicine=function(){(0,l.default)(BaseGasMedicine,d);var i=u(BaseGasMedicine);function BaseGasMedicine(e,t){return(0,r.default)(this,BaseGasMedicine),(e=i.call(this,e)).capacityScale=.806,e.name="BaseGasMedicine",g.register(m.PUTINWATER),g.register(m.BUBBLING),e.canCommandPlug=!0,e.isGasBottle=!0,e.autoAddGlassSheet=!0,e.dataBuild=!1,e.hideLabel=!0,t&&(e.dataBuild=t.dataBuild),e}return(0,o.default)(BaseGasMedicine,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BaseGasMedicine.prototype),"creationComplete",this).call(this),this.particle=y.getParticle(y.particles.gas_collecting_bottle_bubble);var n=this;this.enableRotate(!0,{position:{x:2*this.localBounds.width/3+60,y:50},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:0,y:28,width:this.localBounds.width,height:.25*this.localBounds.height}},1),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on("hasTweenComplete",this.addAsbType),this.on(NBDrag.event.PREPARE_DRAG,this.checkRemoveAsb),this.rotateSpriteIcon.visible=!1,n.addEventListener(NBDrag.event.STOP_DRAG,n.hitGasLib);var a="";this.medConfData.chemicalArr&&1<this.medConfData.chemicalArr.length?(n=this.medConfData.chemicalArr,this.medConfData.chemicalArr.forEach(function(e,t){var i=e.indexOf("%");-1===i?(a+=e,t<n.length-1&&(a+=f.MIX_SYMBOL)):a+=e.substr(0,i)})):a=this.medConfData.chemical,"zh"!==M()?(this.label.txt.text=I.convertToChemicalName(a),this.label.txt.y+=16):this.label.txt.text=this.medConfData.name_cn+"\n"+I.convertToChemicalName(a),this.CNName=this.medConfData.name_cn,this.label.getChildAt(0).alpha=.8;var e=this.label.txt.width=125<this.label.txt.width?125:this.label.txt.width;this.label.txt.x=(125-e)/2,this.dataBuild||this.addGasCorved(),this.smokeMedicine={}}},{key:"labelHide",get:function(){return!this.label.visible},set:function(e){this.label.visible=!e}},{key:"pushSmokeMedicine",value:function(e){var t;this.smokeMedicine[e.name]?(t=this.smokeMedicine[e.name].getMol()+e.getMol(),this.smokeMedicine[e.name].setMol(t)):this.smokeMedicine[e.name]=e}},{key:"releaseSmokeMedicine",value:function(){var e,t="releaseBottle";for(e in this.currentHitObj&&"AsbestosFreeWireGauze"===this.currentHitObj.name&&(t="releaseAsb"),this.smokeMedicine){var i=this.smokeMedicine[e];switch(t){case"releaseBottle":this.medicineData.push(i),this.addMedicine(i);break;case"releaseAsb":this.currentHitObj.addProduct(i)}}}},{key:"hitGasLib",value:function(){var e=this.getSortDisHitObjects();if(!this.isCovered())for(var t=0;t<e.length;t++){var i,n=e[t].objB;"GlassSheet"!==n.name||n.parent.coveredGasBottle||(!(i=n.parent).isCoverGS||i.openArea||"GasCollectingBottle"!==i.name&&"BaseGasMedicine"!==i.name||this.absorbGasBottle(i)),n.isGasBottle&&"GasCollectingBottleOfDivide"!==n.name&&!n.coveredGasBottle&&n.isOpen&&!n.isCoverGS&&Math.abs(this.rotation)>Math.PI/4*3&&this.absorbGasBottle(n)}}},{key:"addAsbType",value:function(){var e=this.currentHitObj;e&&"AsbestosFreeWireGauze"===e.name&&(this.addedInAsb=!0,this.isCoverGS=!0,e.currentChildHitObj=this)}},{key:"checkRemoveAsb",value:function(){this.addedInAsb&&(this.isCoverGS=!1,this.addedInAsb=!1,this.currentChildHitObj=null)}},{key:"addGasCorved",value:function(){var e=this;this.isCoverGS=!0;var t=this.execute(NBCommand.CREATE_EQUIPMENT,"GlassSheet");t.on("creationComplete",function(){e.root.viewStack.addChild(t),t.x=e.x,t.y=e.y,e.isCoverGS=!1,t.eqStopDrag()})}},{key:"absorbGasBottle",value:function(e){var t=this;e.addChildWithSamePos(this),(e.coveredGasBottle=this).coveredGasBottle=e,this.emit("appendEquipment",e),e.emit("appendEquipment",this),NBDrag.removeDrag(this),TweenMax.to(this,.3,{x:e.bg.width,y:0,rotation:Math.PI,onComplete:function(){NBDrag.addDrag(t)}})}},{key:"addChild",value:function(e){switch((0,s.default)((0,c.default)(BaseGasMedicine.prototype),"addChildAt",this).call(this,e,0),e.name){case"IronWire":e.addToGasCollectingBottle(this);break;case"PaperFlower":case"GlassSheet":this.addChildAt(e,this.children.length)}}},{key:"checkCottonBurn",value:function(){this.curCotton&&this.curCotton.checkBurn()}},{key:"smellMedicine",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.interactive=!1,this.interactiveChildren=!1,this.root.execute(NBCommand.ADD_EQUIPMENT,"Fun",this)}},{key:"getConfigureData",value:function(){var e=(0,s.default)((0,c.default)(BaseGasMedicine.prototype),"getConfigureData",this).call(this);e&&e.confArr||(e={confArr:[]});var t=this.worldRotation||v.retrieveRotation(this.worldTransform);return!this.hasAnimation&&this.isOpen&&0===t&&(TweenMax.isTweening(this)||e.confArr.push(C.getButton(null,"闻气味",function(){this.smellMedicine()}.bind(this),this))),e}},{key:"update",value:function(e){var t=this;if((0,s.default)((0,c.default)(BaseGasMedicine.prototype),"update",this).call(this,e),this.particle.loaded&&!this.changedParticle&&(this.particle.particle.spawnRect.width=this.localBounds.width,this.changedParticle=!0),this.lasPascal=this.lasPascal||this.pascal,this.parent&&this.parent.liquidVertex&&this.parent instanceof p){var i=this.localBounds,e=this.getViewStack().toLocal({x:i.x,y:i.y},this).y;if(this.particle&&this.gasLeakage&&0<this.gasLeakage.length&&e>this.getViewStack().toLocal(this.parent.liquidVertex[0]).y&&this.getCurrentCapacity()<=.5){this.parent.waterContainer.addChild(this.particle),this.gasLeakage&&(this.gasLeakage.length=0),this.particle.visible=!0,this.particle.render(),this.bubbleSound||(this.bubbleSound=g.play(m.BUBBLING,null,null,null,-1)),this.bubbleSound.play();for(var n=0;n<this.medicineData.liquidAry.length;n++)this.medicineData.liquidAry[n].mol<=0&&(this.medicineData.liquidAry.splice(n,1),n--);i=this.parent.toLocal(this.toGlobal({x:i.x+i.width,y:i.y}));this.particle.y=i.y,this.particle.x=i.x}else this.parent.waterContainer.removeChild(this.particle),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=void 0)}else this.particle.visible&&(this.particle.visible=!1),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=void 0);this.lasPascal=this.pascal,this.bottleSmoke?(this.bottleSmoke.render(),this.bottleHalo&&this.bottleHalo.render()):this.needBottleSmoke&&(this.bottleSmoke=this.root.particleManager.initNaBottleSmoke(this),setTimeout(function(){t.releaseSmokeMedicine(),t.root.particleManager.destroy(t.bottleSmokeDown,5),t.root.particleManager.destroy(t.bottleSmokeUp,5),t.needBottleSmoke=!1,t.bottleSmoke=null},15e3),"AsbestosFreeWireGauze"===this.parent.name&&this.root.particleManager.initNaParticleCl(this)),"AsbestosFreeWireGauze"!=this.parent.name&&this.bottleHalo&&(this.bottleHalo.destroy(),this.bottleHalo=null),this.wireBottleSmoke?(this.wireBottleSmoke.y<this.localBounds.height&&(this.wireBottleSmoke.y+=1),this.wireBottleSmoke.render()):null!=this.needWireBottleSmoke&&(this.root.particleManager.initWireBottleSmoke.call(this),setTimeout(function(){t.root.particleManager.destroy(t.wireBottleSmoke,10),t.wireBottleSmoke=null,t.needWireBottleSmoke=null},26e3)),this.blockCuClBottleSmoke?(this.blockCuClBottleSmoke.y>this.localBounds.y&&--this.blockCuClBottleSmoke.y,this.blockCuClBottleSmoke.render()):null!=this.needBlockCuSmoke&&(this.root.particleManager.initBlockCuClBottleSmoke.call(this),setTimeout(function(){t.root.particleManager.destroy(t.blockCuClBottleSmoke,10),t.blockCuClBottleSmoke=null,t.needBlockCuSmoke=null},26e3))}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(BaseGasMedicine.prototype),"toJSON",this).call(this),{name:this.medConfData.chemical,isCoverGS:this.isCoverGS,labelHide:this.labelHide,coveredGasBottle:this.coveredGasBottle?this.coveredGasBottle.getUUID():null})}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(BaseGasMedicine.prototype),"setJSON",this).call(this,e),e.isCoverGS&&(this.isCoverGS=e.isCoverGS),this.labelHide=e.labelHide,e.coveredGasBottle&&this.getEquipmentByUUID(e.coveredGasBottle).then(function(e){t.coveredGasBottle=e})}}]),BaseGasMedicine}();e.exports=BaseGasMedicine},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(19)),h=n(i(7)),c=n(i(5)),u=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=i(52),I=i(91),g=i(18),m=i(16),i=function(){(0,c.default)(a,I);var n=p(a);function a(e,t,i){return(0,o.default)(this,a),(e=n.call(this,e,t)).name="movePortraitSwitchButton",e.DISX=50,e.oldBtnPos=t,e.percent=0,e.setLineInContainer(!0),e.changeType(i),e.initLineAry(),e.target.on(NBDrag.event.DRAG_MOVE,e.initLineAry.bind((0,l.default)(e))),e}return(0,s.default)(a,[{key:"initButton",value:function(){(0,h.default)((0,d.default)(a.prototype),"initButton",this).call(this);var e=this.target.root.mouseManager;m.addMouseEvent(e,this.button,m.status.STRETCH),this.initUnicorn(0)}},{key:"changeType",value:function(e){"left"===e?(this.currentType="left",this.DISX=-50,this.initLineAry(),this.updateUnicorn(Math.PI)):"right"===e&&(this.currentType="right",this.DISX=50,this.initLineAry(),this.updateUnicorn(0))}},{key:"initLineAry",value:function(){var e=this.oldBtnPos,e={x:e.x-this.DISX,y:e.y};this.lineAry=this.generateLinePoints({x:e.x,y:e.y},{x:e.x,y:e.y+150},15),this.setPointAryPercent(0,this.percent),this.setBtnRotate()}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.adjust2")}},{key:"setBtnRotate",value:function(){var e=g.retrieveRotation(this.target.worldTransform);this.button.rotation=e,e+=Math.PI/2;var t=this.oldBtnPos||this.btnPosition,t=this.btnPos=this.otherLayer.toLocal({x:this.btnPosition.x,y:t.y},this.target);this.button.visible&&NBDrag.addDrag(this.button,{x:t.x,y:t.y,width:0,height:150,rotate:e})}},{key:"dragButtonBegin",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonBegin",this).call(this,e),this.startDragPos=(0,r.default)({},e.data.global)}},{key:"dragButtonMove",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonMove",this).call(this,e),this.setPercent(this.getPercent(e,this.startDragPos)),this.btnPosition=this.target.toLocal({x:this.button.x,y:this.button.y},this.otherLayer)}},{key:"dragButtonEnd",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonEnd",this).call(this,e)}},{key:"getPercent",value:function(){var e=this.button.position,e=f.distance(e,this.btnPos)/150;return e=1<(e=e<0?0:e)?1:e}},{key:"setPercent",value:function(e){this.percent=e,this.target.setPercent instanceof Function&&this.target.setPercent(e),this.setPointAryPercent(0,e)}},{key:"zoomChangePos",value:function(){(0,h.default)((0,d.default)(a.prototype),"zoomChangePos",this).call(this);var e=(1-this.buttonScale)*nb.BUTTON_RADIUS;"left"===this.currentType&&(e=-e),this.btnPosition.x=this.oriBtnPosition.x-e,this.setBtnPosition(this.btnPosition),this.setBtnRotate()}},{key:"setPosByPercent",value:function(e){0<=e&&e<=1&&(this.percent=e,this.btnPosition.y=this.oriBtnPosition.y+150*e,this.setBtnPosition(this.btnPosition),this.setPointAryPercent(0,e))}}]),a}();e.exports=i},function(e,t,QualitativeFilterPaper){"use strict";var a=QualitativeFilterPaper(4),s=QualitativeFilterPaper(44),l=QualitativeFilterPaper(42),h=QualitativeFilterPaper(43),c=QualitativeFilterPaper(37),i=QualitativeFilterPaper(0),n=i(QualitativeFilterPaper(24)),r=i(QualitativeFilterPaper(95)),o=i(QualitativeFilterPaper(9)),u=i(QualitativeFilterPaper(1)),d=i(QualitativeFilterPaper(2)),p=i(QualitativeFilterPaper(7)),f=i(QualitativeFilterPaper(5)),I=i(QualitativeFilterPaper(6)),g=i(QualitativeFilterPaper(3));function m(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function v(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,g.default)(i);return t=n?(e=(0,g.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,I.default)(this,t)}}var C=QualitativeFilterPaper(10),MagnesiumRibbon=QualitativeFilterPaper(395),M=QualitativeFilterPaper(8),b=QualitativeFilterPaper(31),x=QualitativeFilterPaper(32),O=QualitativeFilterPaper(11),IronRing=QualitativeFilterPaper(396),A=QualitativeFilterPaper(22),T=QualitativeFilterPaper(16),S=QualitativeFilterPaper(18),w=PIXI.Point,B={FunnelBig:{x:218,y:150,zIndex:"top"},FunnelSmall:{x:164,y:50,zIndex:17},IronRing:{x:295,y:55,zIndex:2},QualitativeFilterPaper:{x:0,y:0,zIndex:0}},QualitativeFilterPaper=function(){(0,f.default)(QualitativeFilterPaper,C);var t=v(QualitativeFilterPaper);function QualitativeFilterPaper(){var e;return(0,u.default)(this,QualitativeFilterPaper),(e=t.call(this)).noConfig=!0,e.name="QualitativeFilterPaper",e.CNName="定性滤纸",b.register(x.AL2O3),e.z_index=13.02,e.pU=new w(-88,-103),e.pM=new w(-88,-100),e.addSolidMedPos=new w(-88,-100),e}return(0,d.default)(QualitativeFilterPaper,[{key:"createTwoNaPieces",value:function(){var e=this.blockMedicine[0].dissociate();this.removeChild(this.blockMedicine[0]),this.blockMedicine.pop();var t=e.small,e=e.big;this.blockMedicine.push(t),this.addChild(t),t.setPosition(-91.35,25.6),this.blockMedicine.push(e),this.addChild(e),e.setPosition(-71.35,25.6)}},{key:"creationComplete",value:function(){for(var e=this,t=1;t<=3;t++)this.ani.movieClick["gb"+t].visible=!1;this.removeChild(this.ani.IronCold),this.removeChild(this.ani.IronHot),(0,p.default)((0,g.default)(QualitativeFilterPaper.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.STOP_DRAG,this.dropRemain),this.initEvent(),this.catchDropWaterEq=!0,this.stain.visible=!1,this.stain.alpha=1,this._collapse=!1,this.isBurning=!1,this._cutted=!1,this.on(NBEvent.del.PREPARE_DELETE,function(){TweenMax.killTweensOf(e.ani.movieClick),e.ani.movieClick._gsTweenID&&delete TweenLite._internals.tweenLookup[e.ani.movieClick._gsTweenID],b.stop(),e.destroyParticles(),e.chemicalFuncsMap&&e.chemicalFuncsMap.clear(),e.isDelete=!0}),this.soundInstance=b.play(x.AL2O3),this.soundInstance.volume=0,this.soundInstance.loop=999,this.dropRemainAry=["BigTestTube","SmallTestTube","BigBeaker","SmallBeaker","HugeBeaker","BigEvaporatingDish","EvaporatingDish","ConicalFlask100ml","ConicalFlask250ml","Crucible"],this.conf_chemical_equation=!0,this.on(NBEvent.del.PREPARE_DELETE,function(){e._removeFromStage=!0}),this.blockMedicine=[];var i=this.root.mouseManager;this.on(MouseEvent.MOUSE_OVER,function(){e._collapse||i.changeMouseStatus(T.status.PAN,!0,e)}),this.on(MouseEvent.MOUSE_OUT,function(){e._collapse||i.changeMouseStatus(T.status.PAN,!1,e)}),this.stayContainetTime={obj:null,time:0},this.hasStain=!1,this.maxVol=3}},{key:"changeStain",value:function(e,t){void 0!==e?(this.hasStain=e,this.stain.visible=e):this.stain.visible=!t&&this.hasStain}},{key:"initEvent",value:function(){var i=this;NBGesture.addGesture(this,NBGesture.gesture.TAP,function(){var e=this;if(!(TweenMax.isTweening(this.ani.movieClick)||TweenMax.isTweening(this.ani.putFilter)||this._collapse)){if(0<this.blockMedicine.length&&0===this.ani.putFilter.putFilterTop.currentFrame&&!this.blockMedicine[0].cutType){this.ani.currentFrame=1,this.blockMedicine[0].alpha=0;var t="Na"===this.blockMedicine[0].name?0:1;this.ani.putFilter.medPng.currentFrame=t;var t=new TimelineMax;return setTimeout(function(){i.changeStain(void 0,!0)},200),void t.to(this.ani.putFilter.putFilterBot,.5,{currentFrame:18,onComplete:function(){setTimeout(function(){i.changeStain(!0)},2e3)},onUpdate:function(){i.ani.putFilter.putFilterTop.currentFrame=i.ani.putFilter.putFilterBot.currentFrame}}).to(this.ani.putFilter.putFilterBot,.5,{delay:2,currentFrame:i.ani.putFilter.putFilterBot.totalFrames-1,onComplete:function(){i.ani.currentFrame=0,i.ani.putFilter.putFilterBot.currentFrame=0,i.ani.putFilter.putFilterTop.currentFrame=0,i.blockMedicine[0]&&(i.blockMedicine[0].alpha=1)},onUpdate:function(){i.ani.putFilter.putFilterTop.currentFrame=i.ani.putFilter.putFilterBot.currentFrame}})}!this._cutted&&0==this.ani.currentFrame&&this.blockMedicine.length<1&&(this.changeStain(void 0,!0),t=this.ani.movieClick.totalFrames-(this.hasFiltePaper?1:3),TweenMax.to(this.ani.movieClick,1,{currentFrame:t,onUpdate:function(){e.parent&&e.updateTransform()},onComplete:function(){i._collapse=!0,i.on(NBDrag.event.STOP_DRAG,i._hitEquipment_),i.changedBoundsAndFreshSelect()}}))}})}},{key:"takeFunnelSolid",value:function(e){var t,i=m(e.medicineNBGraphicMap.keys());try{for(i.s();!(t=i.n()).done;){var n,a=t.value,r=m(e.medicineNBGraphicMap.get(a));try{for(r.s();!(n=r.n()).done;){var o=n.value;this.addMedicine(o.medVO),this.alpha=1,e.removeNbGraphic([o]),o.destroy()}}catch(e){r.e(e)}finally{r.f()}}}catch(e){i.e(e)}finally{i.f()}}},{key:"backOri",value:function(){this.changeStain(),this.ani.movieClick.currentFrame=0,this._collapse=!1,this.off(NBDrag.event.STOP_DRAG,this._hitEquipment_),this.updateTransform()}},{key:"_hitEquipment_",value:function(){if(!TweenMax.isTweening(this)){for(var e,t=this.getSortDisHitObjects(),i={},n=0;n<t.length;n++)if(B[t[n].objB.name]&&!t[n].objB.isFull()&&this.ani.movieClick.currentFrame>=this.ani.movieClick.totalFrames-3){var a=t[n].objB,r=S.retrieveRotation(a.worldTransform);if(a instanceof QualitativeFilterPaper){if(!a._collapse||a.hasFiltePaper||this.hasFiltePaper||a._cutted)return;if(!this._cutted&&a._cutted)return;a.ani.movieClick.currentFrame=a.ani.movieClick.totalFrames-1}if(a.hasFiltePaper=!0,a instanceof IronRing&&this._cutted)return;if(("FunnelBig"==t[n].objB.name||"FunnelSmall"==t[n].objB.name)&&this.mg)return;for(var o=void 0,s=0;s<a.children.length;s++)"QualitativeFilterPaper"===a.children[s].name&&(o=a.children[s]);if(o){if(o.hasFiltePaper||this.hasFiltePaper||o._cutted)return;o.ani.movieClick.currentFrame=o.ani.movieClick.totalFrames-1}if(e=B[t[n].objB.name],i=t[n].objB,!this.containsChild(i,!0)){this.rotation-=r;r=e.zIndex||0;"top"===e.zIndex&&(r=i.children.length),17!==e.zIndex&&"top"!==e.zIndex||(this.alpha=.8),i.addChildAtWithSamePos(this,r),this.root.viewStack.selectionLayer.clear(),t[n].objB.isFunnel&&!this._cutted&&(t[n].objB.createFunnelBottom(),t[n].objB.changePaperIndex(),this.deliverSolid(t[n].objB)),TweenMax.to(this,.3,{x:e.x,y:e.y,rotation:0,onComplete:function(){}});break}}TweenMax.to(this,.3,{rotation:0})}}},{key:"filterIsEmpty",value:function(){return 0===this.ani.currentFrame}},{key:"addChild",value:function(t){var e=this,i=this;return this._collapse&&t instanceof MagnesiumRibbon?((this.mg=t).position.set(-40,-255),t.on(NBDrag.event.PREPARE_DRAG,function e(){i.mg=null;t.removeEventListener(NBDrag.event.PREPARE_DRAG,e)}),t.on(NBDrag.event.PREPARE_DRAG,t.eqAddToViewStack),t.on(NBEvent.del.PREPARE_DELETE,function(){e.mg=null}),this.ani.movieClick.addChildAt(t,2)):(0,p.default)((0,g.default)(QualitativeFilterPaper.prototype),"addChild",this).call(this,t)}},{key:"addMedicine",value:function(e,t,i,n){(0,p.default)((0,g.default)(QualitativeFilterPaper.prototype),"addMedicine",this).call(this,e,t,i,n),e&&e.name&&(this.lastAddedMedName=e.name)}},{key:"addChildAtWithSamePos",value:function(e,t){var i=this;if(e instanceof QualitativeFilterPaper)return e.getMgRobins().map(function(e){i.addChild(e)}),this.medicineData=e.medicineData,void e.destroy();(0,p.default)((0,g.default)(QualitativeFilterPaper.prototype),"addChildAtWithSamePos",this).call(this,e,t)}},{key:"getMgRobins",value:function(){var t=[];return this.ani.movieClick.children.forEach(function(e){e instanceof MagnesiumRibbon&&t.push(e)}),t}},{key:"initAlParticle",value:function(){var e=this;this._alumnParticle1=ParticleUtil.getParticle(ParticleUtil.particles.alumn_fire),this.addChild(this._alumnParticle1),this._alumnParticle1.bind(this),this.getViewStack().addParticle(this._alumnParticle1),this._alumnParticle1.position.set(-85,-80),this._alumnParticle2=ParticleUtil.getParticle(ParticleUtil.particles.alumn_fire1),this.addChild(this._alumnParticle2),this._alumnParticle2.bind(this),this.getViewStack().addParticle(this._alumnParticle2),this._alumnParticle2.position.set(-85,-180),this._alumnParticle=ParticleUtil.getParticle(ParticleUtil.particles.alumn_fire2),this.addChild(this._alumnParticle),this._alumnParticle.bind(this),this._alumnParticle.position.set(-85,0),this.getViewStack().addParticle(this._alumnParticle),this._cutted=!0,this._alumnParticle.once("particle_load",function(){e.AlStartBurn(),e.initFeParticle(),e.getMgRobins().forEach(function(e){e.alpha=0}),e.changeFeIronStatu(2,1),e.changeFeIronStatu(4,2),e.changeFeIronStatu(5),e.interactive=!1})}},{key:"changeFeIronStatu",value:function(e,a){var r=this;TweenMax.delayedCall(e,function(){var e,t,i,n;TweenMax.delayedCall(5,function(){r.lightOff(a),delete r.globalNapeRender}),r._removeFromStage||(e=a?1===a?r.smallIron1:r.smallIron2:r,r.root.viewStack.eqLayer.addChildWithSamePos(e),t=e.toGlobal({x:0,y:0}),t=e.parent.toLocal(t),i=16,a&&(i=30,e.alpha=1,e.isSmallFeIron=!0),(n=new nape.phys.Body(nape.phys.BodyType.get_DYNAMIC())).get_shapes().add(new nape.shape.Polygon(nape.shape.Polygon.box(i,i))),n.set_space(r.root.nape.space),r.globalNapeRender=!0,n.userData={view:e},n.get_position().set_x(t.x),n.get_position().set_y(t.y),n.set_allowRotation(!1),e.napeObj=n,e.allowGetBounds=!1)})}},{key:"AlStartBurn",value:function(){var e=this,t=this,i=this._alumnParticle.getParticleProp("startScale"),n=this._alumnParticle.getParticleProp("endScale"),a=TweenMax.to(this._alumnParticle.particle,.1,{onUpdate:function(){var e=a.progress();t._alumnParticle.setParticleProp("startScale",i+(.1-i)*e),t._alumnParticle.setParticleProp("endScale",n+(.1-n)*e)},minimumScaleMultiplier:8,maxParticles:500}),r=this.root.getBackgroundColor();this.root.execute(NBCommand.CHANGE_BACKGROUND,{color:16777215,notSetGray:!0}),TweenMax.to(this._alumnParticle.particle.acceleration,1,{y:-800}),(new TimelineMax).to(this.soundInstance,.5,{volume:20,onComplete:function(){e.root.execute(NBCommand.CHANGE_BACKGROUND,{color:r,notSetGray:!0})}}).to(this.soundInstance,.5,{volumn:5})}},{key:"getPuttingBlockMedicinePos",value:function(){return{x:0,y:0}}},{key:"getLiquid",value:function(e){var t=this,i=e;if(e.medicineData&&(i=e.medicineData),this.medicineData.getLiquidCapacity()>this.maxVol)return"full";i.forEach(function(e){t.medicineData.push(e)})}},{key:"initFeParticle",value:function(){this._BurnIron=this.createFeIron(),this.smallIron1=this.createFeIron(1),this.smallIron2=this.createFeIron(2),this.addChild(this._BurnIron),this.addChildAt(this.smallIron1,0),this.addChildAt(this.smallIron2,0),this._BurnIron.position.set(-this.width/2,-50),this.smallIron1.position.set(-this.width/4-30,-50),this.smallIron2.position.set(-this.width/4-5,-50);var e=ParticleUtil.getParticle(ParticleUtil.particles.alumn_fire2);this._BurnIron.addChild(e),e.bind(this._BurnIron),e.position.set(50,30),this._BurnIronParticle=e,this.getViewStack().addParticle(e),e.once("particle_load",function(){e.particle.minimumScaleMultiplier=1.2,e.particle.acceleration.y=-900})}},{key:"createFeIron",value:function(e){var t=new PIXI.Sprite.fromFrame("QualitativeFilterPaper/IronCold.png"),i=new PIXI.Sprite.fromFrame("QualitativeFilterPaper/IronHot.png"),n=new M;return n.alpha=0,n.coldIron=n.addChild(t),n.coldIron.alpha=0,n.hotIron=n.addChild(i),n.scale=e?{x:.15+e*Math.random()/10,y:.15+e*Math.random()/10}:{x:.8,y:.8},n}},{key:"lightOff",value:function(e){var t,i,n,a,r,o,s,l,h,c,u,d,p=this;this.isDelete||(e?(t=1===e?this.smallIron1:this.smallIron2).parent&&t.parent.name&&-1!=t.parent.name.indexOf("EvaporatingDish")?(i=t.hotIron,e=t.coldIron,TweenMax.to(i,5,{alpha:0}),TweenMax.to(e,5,{alpha:1})):this.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[t]}):this.parent&&this.parent.name&&-1!=this.parent.name.indexOf("EvaporatingDish")?(this._BurnIron.alpha=1,a=(n=this)._BurnIronParticle.getParticleProp("startScale"),r=this._BurnIronParticle.getParticleProp("endScale"),o=this._alumnParticle.getParticleProp("startScale"),s=this._alumnParticle.getParticleProp("endScale"),l=this._alumnParticle1.getParticleProp("startScale"),h=this._alumnParticle1.getParticleProp("endScale"),c=this._alumnParticle2.getParticleProp("startScale"),u=this._alumnParticle2.getParticleProp("endScale"),d=TweenMax.to(this._BurnIronParticle.particle,10,{onUpdate:function(){var e=d.progress();n._BurnIronParticle.setParticleProp("startScale",a-e*a),n._BurnIronParticle.setParticleProp("endScale",r-e*r),n._alumnParticle.setParticleProp("startScale",o-e*o),n._alumnParticle.setParticleProp("endScale",s-e*s),n._alumnParticle1.setParticleProp("startScale",l-e*l),n._alumnParticle1.setParticleProp("endScale",h-e*h),n._alumnParticle2.setParticleProp("startScale",c-e*c),n._alumnParticle2.setParticleProp("endScale",u-e*u)},minimumScaleMultiplier:.53,onComplete:function(){var e=p._BurnIron,t=e.hotIron,e=e.coldIron;TweenMax.to(t,5,{alpha:0}),TweenMax.to(e,5,{alpha:1})}}),TweenMax.to(this._BurnIronParticle.particle.acceleration,10,{y:-500}),TweenMax.to(this._alumnParticle.particle,10,{minimumScaleMultiplier:.53,onComplete:function(){n&&n.destroyParticles&&n.destroyParticles()}}),TweenMax.to(this._alumnParticle.particle.acceleration,10,{y:-500}),TweenMax.to(this._alumnParticle1.particle,10,{minimumScaleMultiplier:.53}),TweenMax.to(this._alumnParticle1.particle.acceleration,10,{y:-500}),TweenMax.to(this._alumnParticle2.particle,10,{minimumScaleMultiplier:.53}),TweenMax.to(this._alumnParticle2.particle.acceleration,10,{y:-500}),(new TimelineMax).to(this.soundInstance,10,{volume:0})):this.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[this]}))}},{key:"hasMedicine",value:function(e){return!!this.medicineData.solidAry[e]}},{key:"medicIsEnough",value:function(){return this._collapse&&this.hasMedicine("Al")&&this.hasMedicine("KClO3")&&(this.hasMedicine("Fe2O3")||this.hasMedicine("MnO2")||this.hasMedicine("FeO")||this.hasMedicine("Fe3O4"))&&(!this.lastAddedMedName||"KClO3"===this.lastAddedMedName)}},{key:"dropRemain",value:function(){if(this._collapse&&!this.isBurning){var e,t,i,n,a,r,o=this,s=o.medicineData.solidAry,l=0;for(e in s)l+=s[e].mol;l<=0||(a=this.getSortDisHitObjects(),(t=this.findNotRotateContainer(a))&&t.pourIn&&(this.pivot={x:-190,y:-84},this.x-=190,this.y-=84,i=this.toGlobal({x:0,y:0}),n=t.pourIn.toGlobal({x:0,y:0}),r=this.getViewStack().scale.x,a=(n.x-i.x)/r,r=(n.y-i.y)/r,a=this.x+a,r=this.y+r,NBDrag.removeDrag(o),TweenMax.to(o,.3,{x:a+190,y:r+84,onComplete:function(){TweenMax.to(o,.3,{rotation:-Math.PI/2,onComplete:function(){o.dropMedicine(t),TweenMax.to(o,.3,{rotation:0,onComplete:function(){NBDrag.addDrag(o),o.pivot={x:0,y:0},o.x+=190,o.y+=84}})}})}})))}}},{key:"dropMedicine",value:function(e){var t,i=this.medicineData.solidAry,n=e.pourIn.position;for(t in n.x-=20,i){var a=i[t];0<a.mol&&e.addMedicine(a,n,1),delete i[t]}n.x+=20}},{key:"findNotRotateContainer",value:function(e){if(0!=e.length){var t=this;if(i=e.find(function(e){return-1!==t.dropRemainAry.indexOf(e.objB.name)})){var i=i.objB;if(Math.abs(S.retrieveRotation(i.worldTransform))<1.2)return i;e.shift(),t.findNotRotateContainer(e)}}}},{key:"update",value:function(e){var t=this;this.medicineData.tempLoss(e),this.checkInFunnelHasGlassbar(),this.checkFindParent(),this.isBurning?(this.globalNapeRender&&this.root.nape.renderCount++,A.genEffectFunc(this,e,.002),this.heatSolidMed(800),this._alumnParticle.render(),this._alumnParticle1.render(),this._alumnParticle2.render(),this._BurnIronParticle&&this._BurnIronParticle.render(),this._BurnIron&&this._BurnIron.hotIron&&(this.getViewStack().hasEqMove=2,this.radiantHeat(15*O.ALCOHOL_HEAT_VALUE,this._alumnParticle.getBounds(),e,O.TEMP_BLAST_ALCOHOL_BURNER*this._BurnIron.hotIron.alpha*2.2))):(e=this.getMgRobins(),this.medicIsEnough()&&0<e.length&&e.forEach(function(e){e.isBurning&&e.fireParticle&&e.fireParticle.position.y>=e.height-75&&(e.fireStatus<.4&&(e.fireStatus=.4),t.isBurning=!0,t.initAlParticle(),t.ani.alpha=0)}))}},{key:"heatSolidMed",value:function(e){for(var t in this.medicineData.solidAry){var i=this.medicineData.solidAry[t];i&&i.getTemp()<e&&(t=Math.min(i.getTemp()+10,e),i.setTemp(t))}}},{key:"checkInFunnelHasGlassbar",value:function(){var e=this.findParentContainer();if(e&&("FunnelBig"===e.name||"FunnelSamll"===e.name)){var t=e.children.find(function(e){return"GlassBar"===e.name});if(t){var i=B[e.name],e=this.getCollisionRelation(t,e);if(this.x===i.x&&this.y===i.y&&t.rotation===Number(e.rotation)&&t.x===Number(e.x)&&t.y===Number(e.y))return void(this.ani.movieClick["gb"+(this.ani.movieClick.totalFrames-this.ani.movieClick.currentFrame)].visible=!0)}}for(var n=1;n<=3;n++)this.ani.movieClick["gb"+n].visible=!1}},{key:"destroyParticles",value:function(){var e=this._alumnParticle,t=this._alumnParticle1,i=this._alumnParticle2,n=this._BurnIronParticle;e&&(e.destroy(),t.destroy(),i.destroy()),n&&n.destroy()}},{key:"cut",value:function(){this.ani.movieClick.currentFrame=this.ani.movieClick.totalFrames-2,this._cutted=!0}},{key:"getSolidMedicineInfo",value:function(){var e,t=new n.default;for(e in this.medicineData.solidAry){var i=this.medicineData.solidAry[e];t.set(e,i.deepClone(i.mol/40))}return t}},{key:"getGasMedicineInfo",value:function(){return new n.default}},{key:"deliverSolid",value:function(i){var e=this.medicineData.solidAry;0<(0,r.default)(e).length&&(0,r.default)(e).forEach(function(e){var t;0<e.mol&&(t=e.deepClone(),e.setMol(0),i.addMedicine(t))})}},{key:"checkFindParent",value:function(){if(this.parent===this.getEqLayer()&&this.napeObj)for(var e=this.getEquipments(),t=0;t<e.length;t++)if(e[t]instanceof C&&e[t].napeObj&&(this.hitTest(e[t])||this.smallIron1&&this.smallIron1.hitTest(e[t])||this.smallIron2&&this.smallIron2.hitTest(e[t]))&&"EvaporatingDish"===e[t].name)return void(this.stayContainetTime.obj===e[t]?(this.stayContainetTime.time++,30<this.stayContainetTime.time&&e[t].eqPrepareDrag()):(this.stayContainetTime.obj=e[t],this.stayContainetTime.time=0))}},{key:"canSpoonPour",value:function(e){return!(!this._collapse||this._cutted)&&(0,p.default)((0,g.default)(QualitativeFilterPaper.prototype),"canSpoonPour",this).call(this,e)}},{key:"canPutNa",value:function(e){return!this._collapse&&(0===this.blockMedicine.length||1===this.blockMedicine.length&&e.cutType!==this.blockMedicine[0].cutType)&&!e.isBurn&&!e.isMelt}},{key:"putNa",value:function(e){this.addChildWithSamePos(e),this.blockMedicine.push(e),e.x=this.stain.x+[30,5,45][e.cutType||0],e.y=this.stain.y}},{key:"removeBlockMedicine",value:function(e){this.removeChild(e);e=this.blockMedicine.indexOf(e);-1!==e&&this.blockMedicine.splice(e,1)}},{key:"toJSON",value:function(){var t=[];return this.blockMedicine.forEach(function(e){e={cutType:e.cutType,mol:e.medVo.getMol(),pos:{x:e.position.x,y:e.position.y}};t.push(e)}),(0,o.default)((0,p.default)((0,g.default)(QualitativeFilterPaper.prototype),"toJSON",this).call(this),{currentFrame:this.ani.currentFrame,movieCurrentFrame:this.ani.movieClick.currentFrame,aniVisible:this.stain.visible,blockMedicine:t,_collapse:this._collapse,isBurning:this.isBurning,_cutted:this._cutted,lastAddedMedName:this.lastAddedMedName},this.mg?{mg:this.mg,mgData:{isBurning:this.mg?this.mg.isBurning:null,fireStatus:this.mg?this.mg.fireStatus:null,direct:this.mg?this.mg.direct:null,isMgoExist:this.mg?this.mg.isMgoExist:null}}:{})}},{key:"setJSON",value:function(e){var i=this;(0,p.default)((0,g.default)(QualitativeFilterPaper.prototype),"setJSON",this).call(this,e);var t,n=this;e.isBurning?this.parent.removeChild(this):(0<e.blockMedicine.length&&e.blockMedicine.forEach(function(e){var t=i.execute(NBCommand.CREATE_EQUIPMENT,"BlockNa");t.on("creationComplete",function(){t.image.currentFrame=e.cutType,t.cutType=e.cutType,t.setMedVo("Na",e.mol),n.addChild(t)}),i.blockMedicine.push(t),t.setPosition(e.pos.x,e.pos.y)}),this._collapse=e._collapse,this._collapse&&n.on(NBDrag.event.STOP_DRAG,n._hitEquipment_),e._cutted&&this.ani.movieClick.curentFrame++,this.ani.currentFrame=0,this.ani.movieClick.currentFrame=e.movieCurrentFrame,this.stain.visible=e.aniVisible,e.mg&&(t=n.root.execute(NBCommand.ADD_EQUIPMENT,{name:"MagnesiumRibbon"}),n.addChild(t),t.updateTransform(),e.mgData&&(t.isBurning=e.mgData.isBurning,t.fireStatus=e.mgData.fireStatus,t.direct=e.mgData.direct,t.isMgoExist=e.mgData.isMgoExist)),"FunnelBig"!==this.parent.name&&"FunnelSmall"!==this.parent.name||this.parent.createFunnelBottom(),e.lastAddedMedName&&(this.lastAddedMedName=e.lastAddedMedName))}}]),QualitativeFilterPaper}();e.exports=QualitativeFilterPaper},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8),p=i(52);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).allowElecWire=!0,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){var a=this;(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this),this.rubberPosAry=[],this.z_index=5.03,this.on(NBDrag.event.START_DRAG,function(){var e=a.addedNode;if(0<e.length)for(var t=0,i=e.length;t<i;t++){var n=e[t];n&&n.parent.addChild(n)}})}},{key:"addWire",value:function(e){var t=this.findEmptyNode(e),i=t.length,n={x:e.x,y:e.y};if(!(i<1)){1===i?this.rubberPos=t[0]:(r=p.distance(t[0],n),a=p.distance(t[1],n),this.rubberPos=a<r?t[1]:t[0]);var a=this.rubberPos,r="left"===a.name?0:1,t=e.rubber;return this.addedNode[r]=t,e.addedNodeConfig={voltage:a.voltage,electrode:a.electrode},!0}}},{key:"removeWire",value:function(e){e=e.rubber;e=this.addedNode.indexOf(e);-1!==e&&(this.addedNode[e]=void 0)}},{key:"findEmptyNode",value:function(e){var t=[];return e&&this.addedNode.includes(e.rubber)||(this.addedNode[0]||t.push(this.rubberPosAry[0]),this.addedNode[1]||t.push(this.rubberPosAry[1])),t}},{key:"isFullWire",value:function(){var e=!1;return e=this.addedNode[0]&&this.addedNode[1]?!0:e}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),l=n(i(1)),r=n(i(2)),h=n(i(7)),c=n(i(5)),o=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}var p=i(91),f=i(11),i=function(){(0,c.default)(s,p);var o=d(s);function s(e,t){(0,l.default)(this,s),e.isGlassCatheter;var i=t.angle,n=i,a=f.BUTTON_RADIUS+50,r=t.x+Math.cos(n)*a,a=t.y-Math.sin(n)*a;return(a=o.call(this,e,{x:r,y:a})).originPosition=t,a.angle=i,a.name="ExtendSprite",a.initUnicorn(n),a}return(0,r.default)(s,[{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.extend")}},{key:"calculateBtnPos",value:function(){var e=this.target,t=this.originPosition;t.y=e.ropePoint[1].y;var i=t.angle,e=f.BUTTON_RADIUS+50;return{x:t.x+Math.cos(i)*e,y:t.y-Math.sin(i)*e}}},{key:"updateUnicorn",value:function(e){(0,h.default)((0,u.default)(s.prototype),"updateUnicorn",this).call(this,e),e&&(e+=Math.PI/2,this.tipIcon.rotation=-e)}},{key:"showButton",value:function(){var e=this.angle-this.target.getGlobalRotation(),t=this.calculateBtnPos();this.btnPosition=t,this.updateUnicorn(e),(0,h.default)((0,u.default)(s.prototype),"showButton",this).call(this)}},{key:"dragButtonBegin",value:function(e){(0,h.default)((0,u.default)(s.prototype),"dragButtonBegin",this).call(this,e),this.target.addWholeRotateType(["ExtendSprite"])}},{key:"dragButtonMove",value:function(e){(0,h.default)((0,u.default)(s.prototype),"dragButtonMove",this).call(this,e);e=this.target.convertMovementToExtendLength({x:e.offsetX,y:e.offsetY});this.button.x+=e.x,this.button.y+=e.y,this.btnPosition.y+=e.dis}},{key:"dragButtonEnd",value:function(e){var t=this;(0,h.default)((0,u.default)(s.prototype),"dragButtonEnd",this).call(this,e),this.target.removeWholeRotateType(["ExtendSprite"]),this.target.updateCurveGlass&&void 0!==this.target.rotateAngle&&this.target.updateCurveGlass(this.target.rotateAngle);var i,n=this.target.currentContainer;this.target.originLocalBounds=this.target.getLocalBounds(),n?(i=this.target.currentContainer,e=this.target.ropePoint,i.toLocal(e[e.length-1],this.target).y<i.originLocalBounds.y&&(this.target.eqAddToViewStack(),this.target.rotation&&TweenMax.to(this.target,.3,{rotation:0,onComplete:function(){t.target.emit("hasTweenComplete")}}),n.addedNodeRemove(this.target),this.target.addedNodeRemove(n),this.target.emit("removeEquipment",n),n.emit("removeEquipment",this.target))):this.target.parent===this.target.root.viewStack.eqLayer&&this.target.emit(NBDrag.event.STOP_DRAG)}}]),s}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),f=n(i(7)),s=n(i(5)),l=n(i(6)),I=n(i(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,I.default)(i);return t=n?(e=(0,I.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var c=i(196),u=i(11),g={SmallTestTube:{startFrame:1,currentHeatValue:54},BigTestTube:{startFrame:1,currentHeatValue:56},TestTubeWithSideNeck:{startFrame:1,currentHeatValue:60},ConicalFlask250ml:{startFrame:0,currentHeatValue:90},ConicalFlask100ml:{startFrame:0,currentHeatValue:65},RoundBottomFlask:{startFrame:0,currentHeatValue:90},SmallRoundBottomFlask:{currentHeatValue:90},FlorenceFlask:{startFrame:0,currentHeatValue:90},DistillingFlask:{startFrame:0,currentHeatValue:90},GasCollectingBottle:{startFrame:0,currentHeatValue:85},GasCollectingBottleOfDivide:{startFrame:0,currentHeatValue:85},ThreeNeckedFlask:{startFrame:1,currentHeatValue:90}},m={BigTestTube:{deltaX:-40,deltaY:-30},SmallTestTube:{deltaX:-40,deltaY:160},TestTubeWithSideNeck:{deltaX:-40,deltaY:290},FlorenceFlask:{deltaX:60,deltaY:175},ConicalFlask100ml:{deltaX:10,deltaY:100},ConicalFlask250ml:{deltaX:43,deltaY:110},GasCollectingBottle:{deltaX:105,deltaY:100},GasCollectingBottleOfDivide:{deltaX:105,deltaY:100},DistillingFlask:{deltaX:78,deltaY:170},RoundBottomFlask:{deltaX:78,deltaY:170}};e.exports=function(){(0,s.default)(p,c);var t=h(p);function p(){var e;return(0,r.default)(this,p),(e=t.call(this)).name="BaseHoldAnimation",e.CNName="BaseHoldAnimation",e.isHoldAnimation=!0,e}return(0,o.default)(p,[{key:"adjustChildPosition",value:function(e,t,i){e.x+=t,e.y+=i}},{key:"creationComplete",value:function(){var t=this;(0,f.default)((0,I.default)(p.prototype),"creationComplete",this).call(this);var i=this.associatedEq;if(i.holdAnimation=this,i.hasAnimation=!0,this.ani.currentFrame=g[i.name].startFrame,"ThreeNeckedFlask"===i.name){i.addChildAt(this,i.children.length),this.x+=180,this.y+=165;var e=setTimeout(function(){t.ani.currentFrame=0},1e3);this.setTimeoutID.push(e)}else{i.addChildAt(this.children[1][0][0].dis,i.children.length),i.addChildAt(this.children[1][0][1].dis,0),i.addChildAt(this.children[1][1][0].dis,i.children.length),"BigTestTube"!==i.name&&"SmallTestTube"!==i.name&&"TestTubeWithSideNeck"!==i.name||i.addChildAt(this.children[1][1][1].dis,0);var n=i.children,a=n.length,e=m[i.name],r=e.deltaX,o=e.deltaY;if(/^(BigTestTube|SmallTestTube|TestTubeWithSideNeck)$/.test(i.name))for(var s=0;s<a;s++){var l=n[s];0!==s&&1!==s&&s!==a-2&&s!==a-1||this.adjustChildPosition(l,r,o)}else if(/^(RoundBottomFlask|FlorenceFlask|DistillingFlask|GasCollectingBottle|GasCollectingBottleOfDivide)$/.test(i.name))for(var h=0;h<a;h++){var c=n[h];0!==h&&h!==a-2&&h!==a-1||this.adjustChildPosition(c,r,o)}else if(/^(ConicalFlask100ml|ConicalFlask250ml)$/.test(i.name))for(var u=0;u<a;u++){var d=n[u];0!==u&&u!==a-2||this.adjustChildPosition(d,r,o),u===a-1&&this.adjustChildPosition(d,r+20,o)}e=setTimeout(function(){var e=t.ani.currentFrame=1^g[i.name].startFrame;i.addChildAt(t.children[1][e][0].dis,a-1),/^(BigTestTube|SmallTestTube|TestTubeWithSideNeck)$/.test(i.name)&&i.addChildAt(t.children[1][e][1].dis,0)},1e3);this.setTimeoutID.push(e)}}},{key:"delHoldAnimation",value:function(){var t=this,e=setTimeout(function(){var e=t.ani.currentFrame=1^t.ani.currentFrame;"ThreeNeckedFlask"!==t.associatedEq.name&&(t.associatedEq.addChildAt(t.children[1][e][1].dis,0),t.associatedEq.addChildAt(t.children[1][e][0].dis,t.associatedEq.children.length));e=setTimeout(function(){"ThreeNeckedFlask"!==t.associatedEq.name&&(t.associatedEq.removeChild(t.children[1][0][0].dis),t.associatedEq.removeChild(t.children[1][0][1].dis),t.associatedEq.removeChild(t.children[1][1][0].dis),/^(BigTestTube|SmallTestTube|TestTubeWithSideNeck)$/.test(t.associatedEq.name)&&t.associatedEq.removeChild(t.children[1][1][1].dis)),t.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[t],eqNotSelect:!0}),t.associatedEq.hasAnimation=!1,t.associatedEq.holdAnimation=null},1e3);t.setTimeoutID.push(e)},1e3);this.setTimeoutID.push(e)}},{key:"update",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16;(0,f.default)((0,I.default)(p.prototype),"update",this).call(this,t),this.associatedEq&&(this.associatedEq.activeCount=u.ACTIVE_COUNT,e=this.associatedEq.toGlobal({x:this.associatedEq.localBounds.x,y:this.associatedEq.localBounds.y}),e=new PIXI.Rectangle(e.x,e.y,this.associatedEq.localBounds.width,this.associatedEq.localBounds.height),this.radiantHeat(g[this.associatedEq.name].currentHeatValue,e,t,37))}},{key:"toJSON",value:function(){}},{key:"setJSON",value:function(){}}]),p}()},function(e,t,i){var n=i(67),a=i(48).document,r=n(a)&&n(a.createElement);e.exports=function(e){return r?a.createElement(e):{}}},function(e,t,i){var a=i(67);e.exports=function(e,t){if(!a(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!a(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!a(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!a(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){var n=i(149);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){function n(e){s(e,a,{value:{i:"O"+ ++l,w:{}}})}var a=i(173)("meta"),r=i(67),o=i(102),s=i(82).f,l=0,h=Object.isExtensible||function(){return!0},c=!i(93)(function(){return h(Object.preventExtensions({}))}),u=e.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!h(e))return"F";if(!t)return"E";n(e)}return e[a].i},getWeak:function(e,t){if(!o(e,a)){if(!h(e))return!0;if(!t)return!1;n(e)}return e[a].w},onFreeze:function(e){return c&&u.NEED&&h(e)&&!o(e,a)&&n(e),e}}},function(e,t,i){var n=i(30),a=i(48),r="__core-js_shared__",o=a[r]||(a[r]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(150)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,i){t.f=i(68)},function(e,t,i){var n=i(48),a=i(30),r=i(150),o=i(210),s=i(82).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=!r&&n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,i){var n=i(149);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:i)(e)}},function(e,t,i){var n=i(209)("keys"),a=i(173);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){var n=i(275),a=i(215).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,i){"use strict";function y(){return this}var v=i(150),C=i(38),M=i(274),b=i(101),x=i(156),O=i(436),A=i(151),T=i(218),S=i(68)("iterator"),w=!([].keys&&"next"in[].keys()),B="values";e.exports=function(e,t,i,n,a,r,o){O(i,t,n);function s(e){if(!w&&e in f)return f[e];switch(e){case"keys":case B:return function(){return new i(this,e)}}return function(){return new i(this,e)}}var l,h,c,u=t+" Iterator",d=a==B,p=!1,f=e.prototype,I=f[S]||f["@@iterator"]||a&&f[a],g=I||s(a),m=a?d?s("entries"):g:void 0,n="Array"==t&&f.entries||I;if(n&&(c=T(n.call(new e)))!==Object.prototype&&c.next&&(A(c,u,!0),v||"function"==typeof c[S]||b(c,S,y)),d&&I&&I.name!==B&&(p=!0,g=function(){return I.call(this)}),v&&!o||!w&&!p&&f[S]||b(f,S,g),x[t]=g,x[u]=y,a)if(l={values:d?g:s(B),keys:r?g:s("keys"),entries:m},o)for(h in l)h in f||M(f,h,l[h]);else C(C.P+C.F*(w||p),t,l);return l}},function(e,t,i){var n=i(102),a=i(113),r=i(214)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,i){var n=i(149),a=i(68)("toStringTag"),r="Arguments"==n(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?e:r?n(t):"Object"==(e=n(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t,i){var a=i(101);e.exports=function(e,t,i){for(var n in t)i&&e[n]?e[n]=t[n]:a(e,n,t[n]);return e}},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var n=i(67);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,i){e.exports=i(470)},function(e,t,i){e.exports=i(479)},function(e,t,AcidGlassDropper){"use strict";var a=AcidGlassDropper(4),i=AcidGlassDropper(0),n=i(AcidGlassDropper(9)),r=i(AcidGlassDropper(61)),o=i(AcidGlassDropper(1)),s=i(AcidGlassDropper(2)),l=i(AcidGlassDropper(7)),h=i(AcidGlassDropper(5)),c=i(AcidGlassDropper(6)),u=i(AcidGlassDropper(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=AcidGlassDropper(10),f=AcidGlassDropper(26),I=AcidGlassDropper(80),g=AcidGlassDropper(11),AcidGlassDropper=function(){(0,h.default)(AcidGlassDropper,p);var t=d(AcidGlassDropper);function AcidGlassDropper(){var e;return(0,o.default)(this,AcidGlassDropper),(e=t.call(this)).autoHideInfo=!0,e.name="AcidGlassDropper",e.CNName="酸式玻璃滴管",e.z_index=25.07,e.hasCovered=!0,e.noPascal=!0,e._shouldDrop=!1,e.firstDrip=!1,e.preventEvolutBr=!0,e.preventCalEffect=!0,e.shouldAbsorb=!1,e.isLiquidDropper=!0,e.notEqTaptimer=null,e}return(0,s.default)(AcidGlassDropper,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(AcidGlassDropper.prototype),"creationComplete",this).call(this),this.capacityScale=.1,this.dragMoveListener(),this.on(NBEvent.PREPARE_DELETE,function(){e.tubeDrip&&(e.tubeDrip.isDripping=!1)}),this.init(),NBDrag.addDrag(this),this.absorbLiquid()}},{key:"init",value:function(){this.smallDropper.alpha=0,this.tubeDrip=new I(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y},2e3,.05,.05,p),this.drop.alpha=0,this.addListeners(),NBGesture.addGesture(this.dripArea,NBGesture.gesture.HOLD,50)}},{key:"shouldDrop",get:function(){return this._shouldDrop},set:function(e){this._shouldDrop=e,this.tubeDrip.oneDrip=this.firstDrip,this.tubeDrip.isDripping=e}},{key:"switchState",value:function(e){e?(this.bigDropper.alpha=0,this.smallDropper.alpha=1):(this.smallDropper.alpha=0,this.bigDropper.alpha=1)}},{key:"dragMoveListener",value:function(){var a=this;this.on(NBDrag.event.STOP_DRAG,function(){for(var n=a.getEquipments(),e=0;e<n.length;e++){var t=function(e){var t=n[e];if(t===a.privateParent&&a.hitTest(t)){t.addChildAtWithSamePos(a,0),t.gotDropper=!0,a.addedBottle=t;var i=a;return NBDrag.removeDrag(a),g.currentConfigEq===a&&(g.currentConfigEq=null),setTimeout(function(){NBDrag.addDrag(i)},500),a.shouldAbsorb=!0,TweenMax.to(a,.5,{x:t.localBounds.width/2,y:-110,onComplete:function(){i.shouldAbsorb&&i.absorbLiquid(),t.hasCovered=!0}}),{v:void 0}}if(t===a.privateParent)return t.hasCovered=!1,{v:void 0}}(e);if("object"===(0,r.default)(t))return t.v}})}},{key:"judgeMedicineSame",value:function(e){return e.medicineData.liquidAry[0].name===this.addedMedicine}},{key:"addListeners",value:function(){var t=this;this.dripArea.on(NBGesture.gesture.HOLD,function(e){switch(e.type){case"begin":t.notHandleEqTap=!0,t.notEqTaptimer&&(clearTimeout(t.notEqTaptimer),t.notEqTaptimer=null),t.firstDrip=!0,t.switchState(!0),t.addedBottle?(t.shouldAbsorb=!0,t.absorbLiquid()):1e-6<t.getCurrentCapacity()&&(t.shouldDrop=!0),t.privateParent&&(t.privateParent.hasCovered=!1),t.holdTime=0;break;case"end":t.switchState(!1),t.firstDrip=!1,t.shouldDrop=!1,t.notEqTaptimer=setTimeout(function(){t.notHandleEqTap=!1,t.notEqTaptimer=null},200);break;case"hold":t.holdTime+=50,1e-6<t.getCurrentCapacity()&&500<=t.holdTime&&(t.shouldDrop=!0);break;case"move":t.switchState(!1),t.addedBottle&&(t.addedBottle.gotDropper=!1,t.addedBottle=null,t.shouldAbsorb=!1,t.firstDrip=!1),t.firstDrip=!1,t.shouldDrop=!1}}),this.on(NBDrag.event.PREPARE_DRAG,function(){t.getViewStack().addChildAtWithSamePos(t,0),t.addedBottle&&(t.addedBottle.gotDropper=!1,t.addedBottle=null)})}},{key:"absorbLiquid",value:function(){var i,n,a,r,o=this;this.addedBottle&&(i=this.addedBottle.getCurrentCapacity(),n=this.getCurrentCapacity(),a=0,r=this.getTotalCapacity(),TweenMax.to(this,5,{onUpdate:function(){if(!o.shouldAbsorb||!o.addedBottle||!o.addedBottle.liquidVertex)return TweenMax.killTweensOf(o),void(o._gsTweenID&&delete TweenLite._internals.tweenLookup[o._gsTweenID]);var e=o.getCurrentCapacity();a+=.1;var t=o.addedBottle.medicineData.covertVolumeToLiquid(.1);o.addedBottle.setCurrentCapacity(o.addedBottle.getCurrentCapacity()-.1),o.addMedicine(t),(r<=e+.1||!f.containsPoint(o.addedBottle.liquidVertex,o.dripMouth.toGlobal({x:0,y:0})))&&(o.shouldAbsorb=!1,o.setCurrentCapacity(r),o.addedBottle.setCurrentCapacity(i-(r-n)),o.medicineData.getHDensity(),TweenMax.killTweensOf(o),o._gsTweenID&&delete TweenLite._internals.tweenLookup[o._gsTweenID])},onComplete:function(){o.setCurrentCapacity(n+a),o.addedBottle.setCurrentCapacity(i-a),o.medicineData.getHDensity()}}))}},{key:"toJSON",value:function(){return(0,n.default)((0,l.default)((0,u.default)(AcidGlassDropper.prototype),"toJSON",this).call(this),{currentCapacity:this.getCurrentCapacity(),shouldAbsorb:this.shouldAbsorb,addedBottle:this.addedBottle&&this.addedBottle.getUUID()||this.privateParent&&this.privateParent.getUUID()||void 0,firstDrop:this.firstDrip,matrix:this.matrix})}},{key:"setJSON",value:function(e){var i=this;if((0,l.default)((0,u.default)(AcidGlassDropper.prototype),"setJSON",this).call(this,e),e.addedBottle&&this.getEquipmentByUUID(e.addedBottle).then(function(e){var t;e.dropper&&e.dropper!==i&&(t=e.dropper,e.dropper=null,e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[t]})),(((i.addedBottle=e).dropper=i).privateParent=e).hasCovered=i.parent===e}),this.setCurrentCapacity(e.currentCapacity),this.shouldAbsorb=e.shouldAbsorb,this.firstDrip=e.firstDrip,e.matrix)for(var t=0;t<e.matrix.length;t++)this.matrix[t]=e.matrix[t]}}]),AcidGlassDropper}();e.exports=AcidGlassDropper},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,i){"use strict";var a=i(112);function n(e){var i,n;this.promise=new e(function(e,t){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=e,n=t}),this.resolve=a(i),this.reject=a(n)}e.exports.f=function(e){return new n(e)}},function(e,t,i){"use strict";var ei={};function n(){var e="BaseGasMedicine",t="BlockC9H8O4",i="BlockSpinach",n="BlockFungus",a="MeasuringCylinder100ml",r="VolumetricFlask50ml",o="Thermometer",s="ThermometerPlus",l="SmallTestTube",h="TestTubeWithSideNeck",c="SmallBeaker",u="RoundBottomFlask",d="DistillingFlask",p="ThreeNeckedFlask",f="ConicalFlask100ml",I="Crucible",g="CombustionSpoon",m="HardGlassTube",y="UTube",v="UTubeWithSideNeck",C="GasCollectingBottle",M="Flume",b="NarrowMouthedBottle",x="FunnelBig",O="QualitativeFilterPaper",A="LongNeckFunnel",T="SeparatingFunnelBulbShape",S="SeparatingFunnelPearShape",w="DryingTube",B="DryingTubeOfCaO",D="DryingTubeOfP2O5",P="CondenserPipeStraight",L="CondenserPipeSphere",N="TailNozzle",J="GasBottle",_="EvaporatingDish",E="IronClamp",k="IronRing",q="DoubleBuretClamp",R="IronSupport",F="Tripod",j="WoodBlock",V="TestTubeHolder",H="Forceps",G="AlcoholBurner",z="BlastAlcoholBurner",X="AsbestosFreeWireGauze",W="MudTriangle",Z="NonPorousRubberPlugSmall",U="SingleHoleRubberPlugSmall",K="DoubleHoleRubberPlugSmall",Y="RubberCatheter",Q="ADropper",$="PlasticInjector",ee="TestTubeRack",te="UniversalPhIndicatorPaper",ie="RedLitmusPaper",ne="BlueLitmusPaper",ae="PhenolphthaleinTestPaper",re="GlassBar",oe="GlassSheet",se="TurnBrush",le="PlasticWashBottle",he="Cotton",ce="SharpNoseGlassTube",ue="PaperChannel",de="IronSupportWithClamp",pe="IronSupportWithRing",fe="BigTestTube",Ie="BigBeaker",ge="MeasuringCylinder50ml",me="ConicalFlask250ml",ye="SingleHoleRubberPlugBig",ve="DoubleHoleRubberPlugBig",Ce="FunnelSmall",Me="NonPorousRubberPlugBig",be="NonPorousRubberPlugHuge",xe="HugeBeaker",Oe="GlassCatheterLeft",Ae="GlassCatheterRight",Te="IronWire",Se="MagnesiumRibbon",we="TGlassCatheter",Be="YGlassCatheter",De="StraightGlassCatheter",Pe="IronClampSideLook",Le="ShapeGlassCatheter",Ne="IronSheet",Je="ElevatorPlatform",_e="PlatinumWire",Ee="SyringeNeedle",ke="WatchGlass",qe="BigEvaporatingDish",Re="UShapeTube",Fe="WaterBath",je="IceWaterBath",Ve="HotWaterBath",He="NO2Ball",Ge="UDryingTube",ze="DryingBottle",Xe="PaperFlower",We="MeasuringCylinder10ml",Ze="StarchKITestPaper",Ue="Mortar",Ke="StraightGlassWithBalloon",Ye="TestElectricalConductivity",Qe="CopperWire",$e="Candle",et="HoffmanElectrolyticDevice",tt="BigHardGlassTube",it="RotateGlassCatheter",nt="SmallCombustionSpoon",at="VolumetricFlask100ml",rt="VolumetricFlask250ml",ot="ElectricityPieceCopper",st="ElectricityPieceIron",lt="ElectricityPieceZinePlate",ht="ElectricityPieceKryptol",ct="AbrasiveCotton",ut="ElectricityPieceMagnesium",dt="ElectricityPieceSilver",pt="PlasticBag",ft="IronWireWithWooden",It="PlateCladCu",gt="PePanel",mt="SmallRoundBottomFlask",yt="CopperSheet",vt="Pledget",Ct="DripHole",Mt="PerforatedDisc",bt="InsulationBeaker",xt="WoodenCover",Ot="RingStirBar",At="ElectricityZineKryptol",Tt="ElectricityMagnesiumKryptol",St="ElectricitySilverKryptol",wt="ElectricityIronKryptol",Bt="ElectricityCopperKryptol",Dt="ElectricityAluminumKryptol",Pt="ElectricityPlatinumKryptol",Lt="LongIronClampSideLook",Nt="ElectrolyticContainer",Jt="GasTailGlassCatheter120",_t="ElectricityPieceKryptolWithCatalyst",Et="ElectrolysisUTubeWithSideNeck",kt="SeparatingFunnelBulbShapeWithHose",qt="CondenserTube",Rt="WildMouthedBottle",Ft="CondenserTubeForOrganic",jt="LongADropper",Vt="FlorenceFlask",Ht="NewIceWaterBath",Gt="GasCollectingBottleOfDivide",zt="CobaltGlass",Xt="PhTesterProbe",Wt="ResinBag",Zt="Tissue",Ut="SeparatingFunnelStraight",Kt="DroppingFunnelWithBalancedPressure",Yt="DroppingFunnel",Qt="UDryingTubeOfCaO",$t="ParaffinGlass";ei[a]={},ei[a][M]={},ei[o]={},ei[o][a]={},ei[o][l]={},ei[o][c]={},ei[o][u]={},ei[o][d]={},ei[o][p]={},ei[o][f]={},ei[o][y]={},ei[o][C]={},ei[o][U]={x:"30",y:"-440",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[o][K]={x:"25",y:"-440",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[o][fe]={},ei[o][Ie]={},ei[o][ge]={},ei[o][ye]={x:"40",y:"-450",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[o][ve]={x:"28",y:"-450",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",chooseArea:"true"},ei[o][Me]={},ei[o][xe]={},ei[o][e]={},ei[o][Re]={},ei[o][Ge]={},ei[o][We]={},ei[o][Ot]={},ei[o][Vt]={},ei[o][Gt]={},ei[o][mt]={},ei[o][Qt]={},ei[s]={},ei[s][a]={},ei[s][l]={},ei[s][c]={},ei[s][u]={},ei[s][d]={},ei[s][p]={},ei[s][f]={},ei[s][y]={},ei[s][C]={},ei[s][U]={x:"30",y:"-440",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[s][K]={x:"25",y:"-440",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[s][fe]={},ei[s][Ie]={},ei[s][ge]={},ei[s][ye]={x:"40",y:"-450",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[s][ve]={x:"28",y:"-450",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",chooseArea:"true"},ei[s][Me]={},ei[s][xe]={},ei[s][e]={},ei[s][Re]={},ei[s][Ge]={},ei[s][We]={},ei[s][Ot]={},ei[s][Vt]={},ei[s][Gt]={},ei[s][mt]={},ei[s][Qt]={},ei[l]={},ei[l][c]={},ei[l][M]={},ei[l][E]={x:"0",y:"-143",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[l][V]={x:"60",y:"-85",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[l][ee]={x:"158",y:"-85",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",offSetX:"0",offSetY:"0"},ei[l][pe]={},ei[l][fe]={},ei[l][Ie]={},ei[l][xe]={},ei[l][Pe]={x:"200",y:"-122",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[l][Lt]={x:"200",y:"-122",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[l][Ht]={x:"356.5",y:"-150",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[h]={},ei[h][c]={x:"90",y:"-420",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[h][E]={x:"1",y:"-167",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[h][V]={x:"62",y:"-130",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[h][ee]={x:"115",y:"-315",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",chooseArea:"true"},ei[h][pe]={},ei[c]={},ei[c][M]={},ei[c][R]={x:"-53",y:"412",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",offSetX:"80",offSetY:"0"},ei[c][j]={x:"27",y:"-155",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[c][G]={x:"80",y:"-140",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",rotation:"-2.7"},ei[c][X]={x:"92",y:"-152",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[c][oe]={x:"88",y:"-162",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[c][de]={},ei[c][Ie]={},ei[c][xe]={},ei[c][Le]={x:"282",y:"120",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",rotation:"-2.1"},ei[c][Fe]={x:"211",y:"-120",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[c][Ye]={},ei[c][$e]={x:"80",y:"-50",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",rotation:"-2.7"},ei[c][et]={x:"202",y:"-140",hotspotA:"ref0",hotspotB:"ref1",offSetX:"60",offSetY:"0",zIndex:"top",rotation:"-2.7"},ei[c][bt]={},ei[c][Ht]={x:"274.5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[u]={},ei[u][M]={},ei[u][E]={x:"-122",y:"-95",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[u][k]={x:"335",y:"227",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2",rotation:"3.14"},ei[u][de]={},ei[u][pe]={},ei[u][Fe]={x:"171",y:"-320",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[u][$e]={},ei[u][Lt]={x:"200",y:"-122",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[u][Ht]={x:"234.5",y:"-220",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[d]={},ei[d][de]={},ei[d][pe]={},ei[d][Pe]={x:"80",y:"-137",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[d][Lt]={x:"80",y:"-137",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[p]={},ei[p][E]={x:"-223",y:"-84",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[p][k]={x:"-13",y:"-390",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[p][j]={x:"-103",y:"-402",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[p][de]={},ei[p][pe]={},ei[p][Fe]={x:"70",y:"-240",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[p][Lt]={x:"140",y:"-137",hotspotA:"ref0",hotspotB:"ref1",offSetX:"-105",offSetY:"0",zIndex:"1"},ei[p][Ht]={x:"130",y:"-185",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[f]={},ei[f][M]={},ei[f][R]={x:"-20",y:"400",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[f][j]={x:"52",y:"-177",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[f][X]={x:"112",y:"-175",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[f][de]={},ei[f][Fe]={x:"230",y:"-146",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[f][Lt]={x:"200",y:"-42",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",offSetX:"46",offSetY:"0"},ei[f][Ht]={x:"289.5",y:"-46",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[I]={},ei[I].CrucibleTong={},ei[I][W]={x:"95",y:"-5",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[I][Ye]={},ei[g]={},ei[g][C]={},ei[g][ye]={x:"-72",y:"-291",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[g][ve]={x:"-72",y:"-291",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[g][Me]={},ei[g][e]={},ei[g][Gt]={},ei[m]={},ei[m][E]={x:"-33",y:"-84",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[y]={},ei[y][xe]={x:"110",y:"50",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[v]={},ei[v][xe]={x:"60",y:"50",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[C]={},ei[C][M]={},ei[C][X]={x:"292",y:"29",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",rotation:"3.14"},ei[C][Fe]={x:"185",y:"-316",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[C][$e]={},ei[C][Ht]={x:"245",y:"-200",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[x]={},ei[x][l]={},ei[x][u]={},ei[x][d]={},ei[x][f]={},ei[x][k]={x:"73",y:"-88",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[x][fe]={},ei[x][me]={},ei[x][xe]={},ei[x][Vt]={},ei[x][mt]={},ei[O]={},ei[O].Balance={},ei[A]={},ei[A][l]={},ei[A][h]={},ei[A][u]={},ei[A][d]={},ei[A][p]={},ei[A][f]={},ei[A][y]={},ei[A][v]={},ei[A][C]={},ei[A][U]={x:"-21",y:"-306",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[A][K]={x:"-29",y:"-306",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[A][fe]={},ei[A][me]={},ei[A][ye]={x:"-8",y:"-306",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[A][ve]={x:"-21",y:"-306",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[A][Me]={},ei[A][e]={},ei[A][Re]={},ei[A][Ge]={},ei[A][ze]={},ei[A][Vt]={},ei[A][Gt]={},ei[A][mt]={},ei[A][Qt]={},ei[T]={},ei[T][l]={},ei[T][h]={},ei[T][u]={},ei[T][d]={},ei[T][p]={},ei[T][f]={},ei[T][C]={},ei[T][k]={x:"115",y:"-200",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[T][U]={x:"-26",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[T][K]={x:"-34",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[T][fe]={},ei[T][me]={},ei[T][ye]={x:"-13",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[T][ve]={x:"-26",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[T][Me]={},ei[T][e]={},ei[T][Re]={},ei[T][ze]={},ei[T][Vt]={},ei[T][Gt]={},ei[T][mt]={},ei[S]={},ei[S][l]={},ei[S][h]={},ei[S][u]={hotspotA:"hotspotA",hotspotB:"containerHitArea"},ei[S][d]={hotspotA:"hotspotA",hotspotB:"containerHitArea"},ei[S][p]={hotspotA:"hotspotA",hotspotB:"containerHitArea"},ei[S][f]={},ei[S][C]={},ei[S][k]={x:"110",y:"-223",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[S][de]={},ei[S][fe]={},ei[S][me]={},ei[S][Me]={},ei[S][e]={},ei[S][Re]={},ei[S][ze]={},ei[S][Vt]={},ei[S][Gt]={},ei[S][mt]={},ei[w]={},ei[w][M]={},ei[w][Ie]={},ei[w][Me]={},ei[w][xe]={},ei[w][e]={},ei[w][qt]={},ei[B]={},ei[B][Me]={},ei[B][e]={},ei[B][qt]={},ei[D]={},ei[D][Me]={},ei[D][e]={},ei[D][qt]={},ei[P]={},ei[P][d]={},ei[P][pe]={},ei[L]={},ei[L][d]={},ei[L][pe]={},ei[N]={},ei[N][P]={},ei[N][L]={},ei[N][qt]={},ei[J]={},ei[J][Ie]={},ei[_]={},ei[_][k]={x:"92",y:"-87",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[_][R]={x:"-77",y:"454",hotspotA:"ref0",hotspotB:"ref1",zIndex:"3",offSetX:"80",offSetY:"60"},ei[_][F]={x:"51",y:"-32",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[_][X]={x:"57",y:"-68",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[q]={},ei[q][R]={},ei[j]={},ei[j][R]={x:"-77",y:"454",hotspotA:"ref0",hotspotB:"ref1",zIndex:"3",offSetX:"80",offSetY:"0"},ei[H]={},ei[H][te]={x:"127",y:"48",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[H][ie]={x:"127",y:"48",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[H][ne]={x:"127",y:"48",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[H][ae]={x:"127",y:"48",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[H][Ze]={x:"127",y:"48",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[G]={},ei[G][R]={x:"0",y:"454",hotspotA:"ref0",hotspotB:"ref1",zIndex:"3",offSetX:"180",offSetY:"50"},ei[G][j]={x:"119",y:"-77",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[G][Je]={x:"9",y:"-114",hotspotA:"ref0",hotspotB:"topUp",zIndex:"top"},ei[z]={},ei[z][R]={x:"-73",y:"180",hotspotA:"ref0",hotspotB:"ref1",zIndex:"3",offSetX:"97",offSetY:"125"},ei[z][j]={x:"-6",y:"-260",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[z][Je]={x:"-122",y:"-308",hotspotA:"ref0",hotspotB:"topUp",zIndex:"top"},ei[X]={},ei[X][k]={x:"33",y:"-26",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[X][F]={x:"-11",y:"3",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[X][de]={},ei[W]={},ei[W][F]={x:"30",y:"-52",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Z]={},ei[Z][l]={x:"-24.5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Z][f]={x:"43",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Z][m]={x:"43",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Z][y]={x:"43",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Z][v]={x:"144",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Z][Re]={x:"-20.5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Z][Ge]={x:"43",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Z][tt]={x:"43",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Z][Qt]={x:"43",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[U]={},ei[U][l]={x:"-24.5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[U][f]={x:"43",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[U][P]={x:"106",y:"-11",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[U][Re]={x:"-20..5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[U][qt]={x:"106",y:"-11",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[K]={},ei[K][l]={x:"-24.5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[K][f]={x:"43",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[K][Re]={x:"-20..5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Y]={},ei[Y][h]={x:"137",y:"81",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Y][v]={},ei[Y][w]={},ei[Y][B]={},ei[Y][D]={},ei[Y][P]={},ei[Y][J]={},ei[Y][Et]={},ei[Y][qt]={},ei[Q]={},ei[Q][l]={},ei[Q][h]={},ei[Q][c]={},ei[Q][u]={},ei[Q][d]={},ei[Q][p]={},ei[Q][f]={},ei[Q][y]={},ei[Q][v]={},ei[Q][C]={},ei[Q][b]={},ei[Q][fe]={},ei[Q][Ie]={},ei[Q][me]={},ei[Q][Me]={},ei[Q][xe]={},ei[Q][e]={},ei[Q][Re]={},ei[Q][Ge]={},ei[Q][ze]={},ei[Q][Rt]={},ei[Q][Vt]={},ei[Q][Gt]={},ei[Q][mt]={},ei[Q][Qt]={},ei[$]={},ei[$][m]={},ei[$][E]={x:"-48",y:"-133",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[$][V]={x:"13",y:"-85",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[$][U]={x:"-23",y:"-231",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[$][K]={x:"-33",y:"-235",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[$][Y]={},ei[$][ye]={x:"-10",y:"-235",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[$][ve]={x:"-23",y:"-235",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[$][tt]={},ei[re]={},ei[re][r]={x:"-27",y:"-292",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.1"},ei[re][l]={},ei[re][c]={},ei[re][u]={x:"-42",y:"-392",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.3"},ei[re][d]={x:"-42",y:"-392",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.3"},ei[re][C]={},ei[re][x]={x:"8",y:"-366",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.3"},ei[re][A]={x:"-126",y:"-435",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.3"},ei[re][_]={},ei[re][fe]={},ei[re][Ie]={},ei[re][me]={},ei[re][Ce]={x:"-69",y:"-427",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.3"},ei[re][Me]={},ei[re][xe]={},ei[re][e]={},ei[re][qe]={},ei[re][Fe]={},ei[re][Ue]={},ei[re][at]={x:"-10",y:"-222",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.12"},ei[re][rt]={x:"31",y:"-108",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.12"},ei[re][Ct]={},ei[re][Vt]={x:"-52",y:"-392",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.3"},ei[re].AsbestosFreeWireGauzeSpecil={x:"133",y:"-480",hotspotA:"ref0",hotspotB:"ref1",rotation:"0"},ei[re][Gt]={},ei[re][mt]={x:"-42",y:"-392",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0",rotation:"-0.3"},ei[oe]={},ei[oe][c]={},ei[oe][C]={},ei[oe][Ie]={},ei[oe][e]={},ei[oe][Gt]={},ei[se]={},ei[se][l]={x:"-32",y:"-333",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[se][h]={x:"-32",y:"-333",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[se][fe]={x:"-29",y:"-602",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[se][Re]={x:"-32",y:"-333",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[le]={},ei[le][a]={},ei[le][r]={},ei[le].GeiserBurette={},ei[le].AlkaliBurette={},ei[le][l]={},ei[le][c]={},ei[le][u]={},ei[le][d]={},ei[le][f]={},ei[le][C]={},ei[le][b]={},ei[le].WideMouthedBottle={},ei[le][x]={},ei[le][A]={},ei[le][fe]={},ei[le][Ie]={},ei[le][ge]={},ei[le][me]={},ei[le][Ce]={},ei[le][xe]={},ei[le][e]={},ei[le][Re]={},ei[le][ze]={},ei[le][We]={},ei[le][at]={},ei[le][rt]={},ei[le][Rt]={},ei[le][Vt]={},ei[le][Gt]={},ei[le][mt]={},ei[he]={},ei[he][l]={},ei[he][m]={},ei[he][C]={x:"105",y:"326",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[he][w]={},ei[he][B]={},ei[he][D]={},ei[he][X]={x:"182",y:"0",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[he][fe]={},ei[he][e]={x:"105",y:"326",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[he][Re]={},ei[he][tt]={},ei[he][Ct]={},ei[he][Gt]={x:"105",y:"326",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[ce]={},ei[ce][C]={},ei[ce][e]={},ei[ce][ze]={},ei[ce][Gt]={},ei[ue]={},ei[ue][l]={},ei[ue][h]={},ei[ue][fe]={},ei[ue][Re]={},ei[fe]={},ei[fe][c]={},ei[fe][M]={},ei[fe][E]={x:"0",y:"83",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[fe][V]={x:"61",y:"138",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[fe][ee]={x:"152",y:"7",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[fe][pe]={},ei[fe][Ie]={},ei[fe][xe]={},ei[fe][Pe]={x:"200",y:"118",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[fe][$e]={},ei[fe][Lt]={x:"200",y:"118",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[fe][Ht]={x:"356.5",y:"-60",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Ie]={},ei[Ie][M]={},ei[Ie][k]={x:"88",y:"-238",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[Ie][R]={x:"-89",y:"346",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",offSetX:"80",offSetY:"0"},ei[Ie][j]={x:"0",y:"-222",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Ie][G]={x:"106",y:"-140",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",rotation:"-2.7"},ei[Ie][X]={x:"62",y:"-222",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Ie][oe]={x:"42",y:"-232",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Ie][de]={},ei[Ie][xe]={},ei[Ie][Le]={x:"302",y:"180",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",rotation:"-2.1"},ei[Ie][Fe]={x:"176",y:"-186",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Ie][$e]={x:"100",y:"-50",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",rotation:"-2.7"},ei[Ie][et]={x:"202",y:"-140",hotspotA:"ref0",hotspotB:"ref1",offSetX:"70",offSetY:"0",zIndex:"top",rotation:"-2.7"},ei[Ie][bt]={},ei[Ie][Ht]={x:"245",y:"-70",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[ge]={},ei[ge][M]={},ei[me]={},ei[me][M]={},ei[me][k]={x:"114",y:"-290",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[me][R]={x:"-52",y:"301",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[me][j]={x:"23",y:"-274",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[me][X]={x:"82",y:"-271",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[me][de]={},ei[me][Fe]={x:"190",y:"-236",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[me][$e]={},ei[me][Lt]={x:"200",y:"-50",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",offSetX:"15",offSetY:"0"},ei[me][Ht]={x:"257",y:"-130",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[ye]={},ei[ye][h]={x:"1",y:"-23",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][u]={x:"85",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][d]={x:"82",y:"-26",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][p]={x:"150",y:"-29",hotspotA:"ref0",hotspotB:"ref0",zIndex:"0"},ei[ye][m]={},ei[ye][y]={x:"0",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][v]={x:"95",y:"-23",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][w]={x:"40",y:"-23",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][B]={x:"40",y:"-23",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][D]={x:"40",y:"-23",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][fe]={x:"-39",y:"-310",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][me]={x:"59",y:"-29",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][Ge]={x:"0",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][tt]={},ei[ye][Vt]={x:"85",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][mt]={x:"85",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ye][Qt]={x:"0",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve]={},ei[ve][h]={x:"1",y:"-23",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][u]={x:"85",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][d]={x:"82",y:"-26",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][p]={x:"150",y:"-29",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][m]={},ei[ve][y]={x:"0",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][v]={x:"95",y:"-23",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][fe]={x:"-39",y:"-310",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][Ge]={x:"0",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][tt]={},ei[ve][Vt]={x:"85",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][mt]={x:"85",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ve][Qt]={x:"0",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Ce]={},ei[Ce][l]={},ei[Ce][u]={},ei[Ce][d]={},ei[Ce][f]={},ei[Ce][M]={},ei[Ce][T]={x:"12",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Ce][fe]={},ei[Ce][Ie]={},ei[Ce][me]={},ei[Ce][xe]={},ei[Ce][Vt]={},ei[Ce][mt]={},ei[Me]={},ei[Me][l]={x:"-24.5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][h]={x:"-38",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][u]={x:"85",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][d]={x:"86",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][p]={x:"150",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][f]={x:"43",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][m]={x:"43",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][y]={x:"43",y:"-13",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][v]={x:"150",y:"-13",offSetX:"-3",offSetY:"0",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][C]={x:"53",y:"-22",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][w]={x:"-38.5",y:"-208.5",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][B]={x:"40",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][D]={x:"40",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][J]={x:"72",y:"-10",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][fe]={x:"-38",y:"-291",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][me]={x:"60",y:"-29",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][e]={x:"53",y:"-22",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][Re]={x:"-20.5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][Ge]={x:"43",y:"-13",offSetX:"-3",offSetY:"0",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][ze]={x:"53",y:"-22",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][tt]={x:"43",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][Ft]={x:"438",y:"-213",hotspotA:"ref0",hotspotB:"rubberArea",zIndex:"0"},ei[Me][Vt]={x:"75.5",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][Gt]={x:"53",y:"-22",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][mt]={x:"60",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me].UTubeWithSideNeckRight={x:"59.5",y:"-203.5",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me].UTubeWithSideNeckLeft={x:"-107.5",y:"-203.5",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Me][Qt]={x:"43",y:"-13",offSetX:"-3",offSetY:"0",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[be]={},ei[be][C]={x:"53",y:"-22",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[be][J]={x:"72",y:"-10",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[be][e]={x:"53",y:"-22",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[be][ze]={x:"53",y:"-22",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[be][Gt]={x:"53",y:"-22",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[xe]={},ei[xe][k]={x:"-10",y:"-440",hotspotA:"ref0",hotspotB:"ref1",zIndex:"3"},ei[xe][R]={x:"-144",y:"142",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[xe][j]={x:"-104",y:"-424",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[xe][G]={x:"200",y:"-90",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",rotation:"-2.7"},ei[xe][X]={x:"-42",y:"-420",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[xe][oe]={x:"-58",y:"-440",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[xe][de]={},ei[xe][Le]={x:"382",y:"320",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1",rotation:"-2.1"},ei[xe][Fe]={x:"70",y:"-386",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[xe][He]={x:"-74",y:"-85",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[xe][et]={x:"202",y:"-140",hotspotA:"ref0",hotspotB:"ref1",offSetX:"80",offSetY:"0",zIndex:"top",rotation:"-2.7"},ei[xe][Ht]={x:"153",y:"-280",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Oe]={},ei[Oe][a]={},ei[Oe][l]={},ei[Oe][h]={},ei[Oe][c]={},ei[Oe][u]={},ei[Oe][d]={},ei[Oe][p]={},ei[Oe][f]={},ei[Oe][m]={},ei[Oe][y]={},ei[Oe][v]={},ei[Oe][C]={},ei[Oe][M]={},ei[Oe][w]={},ei[Oe][B]={},ei[Oe][D]={},ei[Oe][fe]={},ei[Oe][Ie]={},ei[Oe][ge]={},ei[Oe][me]={},ei[Oe][Me]={},ei[Oe][xe]={},ei[Oe][e]={},ei[Oe][qe]={},ei[Oe][Re]={},ei[Oe][Ge]={},ei[Oe][ze]={},ei[Oe][We]={},ei[Oe][tt]={},ei[Oe][Vt]={},ei[Oe][Gt]={},ei[Oe][mt]={},ei[Oe][Qt]={},ei[Ae]={},ei[Ae][a]={},ei[Ae][l]={},ei[Ae][h]={},ei[Ae][c]={},ei[Ae][u]={},ei[Ae][d]={},ei[Ae][p]={},ei[Ae][f]={},ei[Ae][m]={},ei[Ae][y]={},ei[Ae][v]={},ei[Ae][C]={},ei[Ae][M]={},ei[Ae][w]={},ei[Ae][B]={},ei[Ae][D]={},ei[Ae][fe]={},ei[Ae][Ie]={},ei[Ae][ge]={},ei[Ae][me]={},ei[Ae][Me]={},ei[Ae][xe]={},ei[Ae][e]={},ei[Ae][qe]={},ei[Ae][Re]={},ei[Ae][Ge]={},ei[Ae][ze]={},ei[Ae][We]={},ei[Ae][tt]={},ei[Ae][Vt]={},ei[Ae][Gt]={},ei[Ae][mt]={},ei[Ae][Qt]={},ei[Te]={},ei[Te][C]={},ei[Te][Me]={},ei[Te][e]={},ei[Te][ze]={},ei[Te][Gt]={},ei[Se]={},ei[Se][O]={},ei[we]={},ei[we][a]={},ei[we][l]={},ei[we][c]={},ei[we][u]={},ei[we][d]={x:"120",y:"-61",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[we][f]={},ei[we][y]={},ei[we][v]={},ei[we][C]={},ei[we][w]={},ei[we][B]={},ei[we][D]={},ei[we][fe]={},ei[we][Ie]={},ei[we][ge]={},ei[we][me]={},ei[we][xe]={x:"0",y:"-61",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[we][e]={},ei[we][Re]={},ei[we][Ge]={},ei[we][ze]={},ei[we][We]={},ei[we][Vt]={},ei[we][Gt]={},ei[we][mt]={},ei[we][Qt]={},ei[Be]={},ei[Be][a]={},ei[Be][l]={},ei[Be][c]={},ei[Be][u]={},ei[Be][d]={x:"120",y:"-61",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Be][f]={},ei[Be][y]={},ei[Be][v]={},ei[Be][C]={},ei[Be][w]={},ei[Be][B]={},ei[Be][D]={},ei[Be][fe]={},ei[Be][Ie]={},ei[Be][ge]={},ei[Be][me]={},ei[Be][xe]={x:"0",y:"-61",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Be][e]={},ei[Be][Re]={},ei[Be][Ge]={},ei[Be][ze]={},ei[Be][We]={},ei[Be][Vt]={},ei[Be][Gt]={},ei[Be][mt]={},ei[Be][Qt]={},ei[De]={},ei[De][a]={},ei[De][l]={},ei[De][h]={},ei[De][c]={},ei[De][u]={},ei[De][d]={},ei[De][p]={},ei[De][f]={},ei[De][m]={},ei[De][y]={},ei[De][v]={},ei[De][C]={},ei[De][M]={},ei[De][w]={},ei[De][B]={},ei[De][D]={},ei[De][fe]={},ei[De][Ie]={},ei[De][ge]={},ei[De][me]={},ei[De][Me]={},ei[De][xe]={},ei[De][e]={},ei[De][Re]={},ei[De][Ge]={},ei[De][ze]={},ei[De][We]={},ei[De][tt]={},ei[De][Vt]={},ei[De][Gt]={},ei[De][mt]={},ei[De][Qt]={},ei[Le]={},ei[Le][a]={},ei[Le][l]={},ei[Le][h]={},ei[Le][c]={},ei[Le][u]={},ei[Le][d]={},ei[Le][f]={},ei[Le][m]={},ei[Le][y]={},ei[Le][v]={},ei[Le][C]={},ei[Le][M]={},ei[Le][w]={},ei[Le][B]={},ei[Le][D]={},ei[Le][fe]={},ei[Le][Ie]={},ei[Le][ge]={},ei[Le][me]={},ei[Le][Me]={},ei[Le][xe]={},ei[Le][e]={},ei[Le][Re]={},ei[Le][Ge]={},ei[Le][ze]={},ei[Le][We]={},ei[Le][tt]={},ei[Le][Vt]={},ei[Le][Gt]={},ei[Le][mt]={},ei[Le][Qt]={},ei[e]={},ei[e][M]={},ei[e][X]={x:"292",y:"29",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",rotation:"3.14"},ei[e][Fe]={x:"185",y:"-316",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[e][$e]={},ei[e][Ht]={x:"245",y:"-200",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Ne]={},ei[Ne][Ie]={x:"19",y:"-65",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[Ne][xe]={x:"39",y:"-55",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[_e]={},ei[_e][a]={},ei[_e][l]={},ei[_e][c]={},ei[_e][u]={},ei[_e][d]={x:"120",y:"-61",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[_e][f]={},ei[_e][y]={},ei[_e][C]={},ei[_e][w]={},ei[_e][B]={},ei[_e][D]={},ei[_e][fe]={},ei[_e][Ie]={},ei[_e][ge]={},ei[_e][me]={},ei[_e][Me]={};ei[_e][xe]={x:"0",y:"-61",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[_e][e]={},ei[_e][Re]={},ei[_e][Ge]={},ei[_e][ze]={},ei[_e][We]={},ei[_e][Vt]={},ei[_e][Gt]={},ei[_e][mt]={},ei[_e][Qt]={},ei[Ee]={},ei[Ee][l]={},ei[Ee][h]={},ei[Ee][u]={},ei[Ee][d]={},ei[Ee][p]={},ei[Ee][f]={},ei[Ee][y]={},ei[Ee][v]={},ei[Ee][C]={},ei[Ee][me]={},ei[Ee][e]={},ei[Ee][Re]={},ei[Ee][Ge]={},ei[Ee][ze]={},ei[Ee][Vt]={},ei[Ee][Gt]={},ei[Ee][mt]={},ei[Ee][Qt]={},ei[ke]={},ei[ke][c]={x:"-21",y:"-30",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[ke][ce]={},ei[ke][Ie]={x:"13",y:"-15",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[qe]={},ei[qe][k]={x:"40",y:"-130",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[qe][R]={x:"-112",y:"474",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",offSetX:"50",offSetY:"6"},ei[qe][F]={x:"0",y:"-98",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[qe][X]={x:"5",y:"-110",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Re]={},ei[Re][c]={},ei[Re][M]={},ei[Re][E]={x:"0",y:"-143",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[Re][V]={x:"60",y:"-85",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Re][ee]={x:"158",y:"-85",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",offSetX:"0",offSetY:"0"},ei[Re][pe]={},ei[Re][fe]={},ei[Re][Ie]={},ei[Re][Pe]={x:"200",y:"-122",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Re][Lt]={x:"200",y:"-122",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[je]={},ei[je][He]={x:"-74",y:"-85",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Ve]={},ei[Ve][He]={x:"-74",y:"-85",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[He]={},ei[He][xe]={},ei[Ge]={},ei[Ge][xe]={x:"110",y:"50",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[ze]={},ei[ze][X]={x:"292",y:"29",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",rotation:"3.14"},ei[Xe]={},ei[Xe][c]={},ei[Xe][u]={},ei[Xe][C]={},ei[Xe][fe]={},ei[Xe][Ie]={},ei[Xe][me]={},ei[Xe][xe]={},ei[Xe][e]={},ei[Xe].CO2Bottle={},ei[Xe][Vt]={},ei[Xe][Gt]={},ei[Xe][mt]={},ei[We]={},ei[We][M]={},ei[Ue]={},ei[Ue][k]={x:"36",y:"-140",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[Ue][R]={x:"-112",y:"474",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top",offSetX:"50",offSetY:"6"},ei[Ue][F]={x:"54",y:"-40",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[Ue][X]={x:"57",y:"-60",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Ke]={},ei[Ke][me]={},ei[Qe]={},ei[Qe][h]={},ei[Qe][c]={},ei[Qe][C]={},ei[Qe][fe]={},ei[Qe][Ie]={},ei[Qe][Me]={},ei[Qe][xe]={},ei[Qe][e]={},ei[Qe][ze]={},ei[Qe][Gt]={},ei[tt]={},ei[tt][E]={x:"-33",y:"-84",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[it]={},ei[it][a]={},ei[it][l]={},ei[it][h]={},ei[it][c]={},ei[it][u]={},ei[it][d]={},ei[it][p]={},ei[it][f]={},ei[it][m]={},ei[it][y]={},ei[it][v]={},ei[it][C]={},ei[it][M]={},ei[it][w]={},ei[it][B]={},ei[it][D]={},ei[it][fe]={},ei[it][Ie]={},ei[it][ge]={},ei[it][me]={},ei[it][Me]={},ei[it][xe]={},ei[it][e]={},ei[it][qe]={},ei[it][Re]={},ei[it][Ge]={},ei[it][ze]={},ei[it][We]={},ei[it][tt]={},ei[it][Ft]={},ei[it][Vt]={},ei[it][Gt]={},ei[it][mt]={},ei[it][Qt]={},ei[nt]={},ei[nt][C]={},ei[nt][fe]={},ei[nt][ye]={x:"-72",y:"-291",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[nt][ve]={x:"-72",y:"-291",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[nt][Me]={},ei[nt][e]={},ei[nt][tt]={},ei[nt][Gt]={},ei[ot]={},ei[ot][M]={},ei[ot][xe]={},ei[st]={},ei[st][M]={},ei[st][xe]={},ei[lt]={},ei[lt][M]={},ei[lt][xe]={},ei[ht]={},ei[ht][M]={},ei[ht][xe]={},ei[ct]={},ei[ct][l]={},ei[ct][fe]={},ei[ut]={},ei[ut][M]={},ei[ut][xe]={},ei[dt]={},ei[dt][M]={},ei[dt][xe]={},ei[pt]={},ei[pt][fe]={x:"-2",y:"-195",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[ft]={},ei[ft][C]={},ei[ft][Me]={},ei[ft][e]={},ei[ft][ze]={},ei[ft][Gt]={},ei[It]={},ei[It][xe]={x:"140",y:"180",zIndex:"0"},ei[gt]={},ei[gt][xe]={x:"0",y:"0",zIndex:"0"},ei[mt]={},ei[mt][M]={},ei[mt][E]={x:"-100",y:"-115",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[mt][k]={x:"308",y:"235",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2",rotation:"3.14"},ei[mt][de]={},ei[mt][pe]={},ei[mt][xe]={x:"100",y:"3",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[mt][Fe]={x:"181",y:"-300",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[mt][$e]={},ei[mt][Lt]={x:"200",y:"-122",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[mt][Ht]={x:"234.5",y:"-220",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[yt]={},ei[yt][F]={x:"-125",y:"0",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[vt]={},ei[vt][Ie]={x:"-90",y:"-5",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Ct]={},ei[Ct][te]={},ei[Ct][ie]={},ei[Ct][ne]={},ei[Ct][ae]={},ei[Ct][Ze]={},ei[Mt]={},ei[Mt][fe]={x:"0",y:"133",hotspotA:"ref0",hotspotB:"ref1",zIndex:"0"},ei[xt]={},ei[xt][bt]={},ei[Ot]={},ei[Ot][o]={},ei[Ot][s]={},ei[Ot][c]={},ei[Ot][Ie]={},ei[At]={},ei[At][Me]={},ei[At][xe]={},ei[At][Et]={},ei[Tt]={},ei[Tt][Me]={},ei[Tt][xe]={},ei[Tt][Et]={},ei[St]={},ei[St][Me]={},ei[St][xe]={},ei[St][Et]={},ei[wt]={},ei[wt][Me]={},ei[wt][xe]={},ei[wt][Et]={},ei[Bt]={},ei[Bt][Me]={},ei[Bt][xe]={},ei[Bt][Et]={},ei[Dt]={},ei[Dt][Me]={},ei[Dt][xe]={},ei[Dt][Et]={},ei[Pt]={},ei[Pt][Me]={},ei[Pt][xe]={},ei[Pt][Et]={},ei[Jt]={},ei[Jt][Nt]={},ei[_t]={},ei[_t][Nt]={},ei[kt]={},ei[kt][l]={},ei[kt][h]={},ei[kt][u]={},ei[kt][d]={},ei[kt][p]={},ei[kt][f]={},ei[kt][C]={},ei[kt][k]={x:"118",y:"-155",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[kt][U]={x:"-26",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[kt][K]={x:"-34",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[kt][fe]={},ei[kt][me]={},ei[kt][ye]={x:"-13",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[kt][ve]={x:"-26",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[kt][e]={},ei[kt][Re]={},ei[kt][ze]={},ei[kt][Vt]={},ei[kt][Gt]={},ei[kt][mt]={},ei[qt]={},ei[qt][u]={},ei[qt][d]={},ei[qt][p]={},ei[qt][pe]={},ei[qt][Vt]={},ei[qt][mt]={},ei[Ft]={},ei[Ft][u]={},ei[Ft][d]={},ei[Ft][p]={},ei[Ft][pe]={},ei[Ft][Vt]={},ei[Ft][mt]={},ei[jt]={},ei[jt][l]={},ei[jt][h]={},ei[jt][c]={},ei[jt][u]={},ei[jt][d]={},ei[jt][p]={},ei[jt][f]={},ei[jt][y]={},ei[jt][v]={},ei[jt][C]={},ei[jt][b]={},ei[jt][fe]={},ei[jt][Ie]={},ei[jt][me]={},ei[jt][Me]={},ei[jt][xe]={},ei[jt][e]={},ei[jt][Re]={},ei[jt][Ge]={},ei[jt][ze]={},ei[jt][Rt]={},ei[jt][Vt]={},ei[jt][Gt]={},ei[jt][mt]={},ei[jt][Qt]={},ei[Vt]={},ei[Vt][M]={},ei[Vt][E]={x:"-113",y:"-105",hotspotA:"ref0",hotspotB:"clamp",zIndex:"1"},ei[Vt][k]={x:"324",y:"249",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2",rotation:"3.14"},ei[Vt][X]={x:"62",y:"-408",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Vt][de]={},ei[Vt][pe]={},ei[Vt][xe]={x:"100",y:"3",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[Vt][Fe]={x:"171",y:"-320",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Vt][$e]={},ei[Vt][Lt]={x:"200",y:"-122",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Vt][Ht]={x:"243",y:"-20",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Gt]={},ei[Gt][Ht]={x:"245",y:"-200",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[zt]={},ei[zt][_e]={},ei[Xt]={},ei[Xt][c]={},ei[Xt][u]={},ei[Xt][d]={},ei[Xt][f]={},ei[Xt][C]={},ei[Xt][fe]={},ei[Xt][Ie]={},ei[Xt][xe]={},ei[Xt][e]={},ei[Xt][Vt]={},ei[Xt][Gt]={},ei[Xt][mt]={},ei[Wt]={},ei[Wt][c]={},ei[Zt]={},ei[Zt][H]={},ei[Zt].LabSpoon={},ei[Zt][re]={},ei[Zt].BlockCu2={},ei[t]={},ei[t][Ue]={},ei[Ut]={},ei[Ut][l]={},ei[Ut][h]={},ei[Ut][u]={},ei[Ut][d]={},ei[Ut][p]={},ei[Ut][f]={},ei[Ut][C]={},ei[Ut][k]={x:"115",y:"-200",hotspotA:"ref0",hotspotB:"ref1",zIndex:"2"},ei[Ut][U]={x:"-26",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Ut][K]={x:"-34",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Ut][fe]={},ei[Ut][me]={},ei[Ut][ye]={x:"-13",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Ut][ve]={x:"-26",y:"-413",hotspotA:"ref0",hotspotB:"ref1",zIndex:"1"},ei[Ut][Me]={},ei[Ut][e]={},ei[Ut][Re]={},ei[Ut][ze]={},ei[Ut][Vt]={},ei[Ut][Gt]={},ei[Ut][mt]={},ei[Kt]={},ei[Kt][u]={},ei[Kt][d]={},ei[Kt][p]={},ei[Kt][Vt]={},ei[Yt]={},ei[Yt][u]={},ei[Yt][d]={},ei[Yt][p]={},ei[Yt][Vt]={},ei[Qt]={},ei[Qt][xe]={x:"110",y:"50",hotspotA:"ref0",hotspotB:"ref1",zIndex:"top"},ei[$t]={},ei[$t].PlasticHugeBeaker={x:"120",y:"115",zIndex:"0"},ei[i]={},ei[i][Ue]={},ei[i][Ie]={},ei[i][xe]={},ei[n]={},ei[n][Ue]={},ei[n][Ie]={},ei[n][xe]={}}e.exports={getHitProperty:function(e,t){if(n&&(n(),n=null),void 0!==ei[e]&&(void 0!==ei[e][t]||t==e))return ei[e][t]}}},function(e,t,i){e.exports=i(504)},function(e,t){e.exports=function(e){return e&&e.constructor.prototype.isBigNumber||!1}},function(e,t,i){"use strict";var r=i(86).string.isString;t.name="Matrix",t.path="type",t.factory=function(e,t,i,n){function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator")}return a.prototype.type="Matrix",a.prototype.isMatrix=!0,a.storage=function(e){if(!r(e))throw new TypeError("format must be a string value");var t=a._storage[e];if(!t)throw new SyntaxError("Unsupported matrix storage format: "+e);return t},a._storage={},a.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},a.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},a.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},a.prototype.subset=function(e,t,i){throw new Error("Cannot invoke subset on a Matrix interface")},a.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},a.prototype.set=function(e,t,i){throw new Error("Cannot invoke set on a Matrix interface")},a.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},a.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},a.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},a.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},a.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},a.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},a.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},a.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},a.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},a.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},a}},function(e,t,n){"use strict";var N=n(49);t.name="algorithm04",t.factory=function(e,t,i,D){var P=i(n(47)),L=e.SparseMatrix;return function(e,t,i){var n=e._values,a=e._index,r=e._ptr,o=e._size,s=e._datatype,l=t._values,h=t._index,c=t._ptr,e=t._size,t=t._datatype;if(o.length!==e.length)throw new N(o.length,e.length);if(o[0]!==e[0]||o[1]!==e[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+e+")");var e=o[0],u=o[1],d=P,p=0,f=i;"string"==typeof s&&s===t&&(d=D.find(P,[y=s,y]),p=D.convert(0,y),f=D.find(i,[y,y]));for(var I=n&&l?[]:void 0,g=[],m=[],y=new L({values:I,index:g,ptr:m,size:[e,u],datatype:y}),v=n&&l?[]:void 0,C=n&&l?[]:void 0,M=[],b=[],x=0;x<u;x++){m[x]=g.length;for(var O,A,T=x+1,S=r[x],w=r[x+1],B=S;B<w;B++)A=a[B],g.push(A),M[A]=T,v&&(v[A]=n[B]);for(S=c[x],w=c[x+1],B=S;B<w;B++)M[A=h[B]]===T?v&&(d(O=f(v[A],l[B]),p)?M[A]=null:v[A]=O):(g.push(A),b[A]=T,C&&(C[A]=l[B]));if(v&&C)for(B=m[x];B<g.length;)M[A=g[B]]===T?(I[B]=v[A],B++):b[A]===T?(I[B]=C[A],B++):g.splice(B,1)}return m[u]=g.length,y}}},function(e,t,i){"use strict";var r=i(13);t.name="number",t.factory=function(e,t,i,n){var a=n("number",{"":function(){return 0},number:function(e){return e},string:function(e){var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);i(17);t.name="isNumeric",t.factory=function(e,t,i,n){var a=n("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(e){return r(e,a)}});return a}},function(e,t,i){"use strict";var a=i(182);t.name="typeof",t.factory=function(i,e,t,n){return(n=n("_typeof",{any:function(e){var t=a.type(e);if("Object"===t){if(i.isBigNumber(e))return"BigNumber";if(i.isComplex(e))return"Complex";if(i.isFraction(e))return"Fraction";if(i.isMatrix(e))return"Matrix";if(i.isUnit(e))return"Unit";if(i.isIndex(e))return"Index";if(i.isRange(e))return"Range";if(i.isChain(e))return"Chain";if(i.isHelp(e))return"Help"}return t}})).toTex=void 0,n}},function(e,t,i){"use strict";e.exports={end:!0}},function(e,t,c){"use strict";var u=c(14).map,d=c(14).join,p=c(40).escape;t.name="IndexNode",t.path="expression.node",t.factory=function(a,e,t,i){var n=t(c(36)).register,r=t(c(36)).compile,o=t(c(56)),s=(t(c(238)),t(c(107)),t(c(303))),l=Array.isArray;function h(e,t){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!l(e)||!e.every(a.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");function i(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")}Object.defineProperty(this,"object",{get:i,set:i})}return(h.prototype=new o).type="IndexNode",h.prototype.isIndexNode=!0,n(h.prototype.type,function(e,i,t){if(!(e instanceof h))throw new TypeError("No valid IndexNode");var n=Object.create(t);return i.range=function(e,t,i){return new s(a.isBigNumber(e)?e.toNumber():e,a.isBigNumber(t)?t.toNumber():t,a.isBigNumber(i)?i.toNumber():i)},e=u(e.dimensions,function(e,t){return a.isRangeNode(e)?e.needsEnd()?(n.end="end","(function () {var end = size["+t+"]; return range("+r(e.start,i,n)+", "+r(e.end,i,n)+", "+(e.step?r(e.step,i,n):"1")+"); })()"):"range("+r(e.start,i,n)+", "+r(e.end,i,n)+", "+(e.step?r(e.step,i,n):"1")+")":a.isSymbolNode(e)&&"end"===e.name?(n.end="end","(function () {var end = size["+t+"]; return "+r(e,i,n)+"; })()"):r(e,i,n)}),"math.index("+d(e,", ")+")"}),h.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},h.prototype.map=function(e){for(var t=[],i=0;i<this.dimensions.length;i++)t[i]=this._ifNode(e(this.dimensions[i],"dimensions["+i+"]",this));return new h(t)},h.prototype.clone=function(){return new h(this.dimensions.slice(0))},h.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&a.isConstantNode(this.dimensions[0])&&"string"===this.dimensions[0].valueType},h.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},h.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},h.prototype.toHTML=function(e){for(var t=[],i=0;i<this.dimensions.length;i++)t[i]=this.dimensions[i].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+p(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},h.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},h.prototype.needsSize=function(){return this.dimensions.some(function(e){return a.isRangeNode(e)&&e.needsEnd()||a.isSymbolNode(e)&&"end"===e.name})},h}},function(e,t,l){"use strict";var h=l(160);t.name="RangeNode",t.path="expression.node",t.factory=function(n,e,t,i){var a=t(l(36)).register,r=t(l(36)).compile,t=t(l(56));function o(e,t,i){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!n.isNode(e))throw new TypeError("Node expected");if(!n.isNode(t))throw new TypeError("Node expected");if(i&&!n.isNode(i))throw new TypeError("Node expected");if(3<arguments.length)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=i||null}function s(e,t){var i=h.getPrecedence(e,t),n={},a=h.getPrecedence(e.start,t);n.start=null!==a&&a<=i||"all"===t,e.step&&(a=h.getPrecedence(e.step,t),n.step=null!==a&&a<=i||"all"===t);e=h.getPrecedence(e.end,t);return n.end=null!==e&&e<=i||"all"===t,n}return(o.prototype=new t).type="RangeNode",o.prototype.isRangeNode=!0,o.prototype.needsEnd=function(){return 0<this.filter(function(e){return n.isSymbolNode(e)&&"end"===e.name}).length},a(o.prototype.type,function(e,t,i){if(!(e instanceof o))throw new TypeError("No valid RangeNode");return"math.range("+r(e.start,t,i)+", "+r(e.end,t,i)+(e.step?", "+r(e.step,t,i):"")+")"}),o.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},o.prototype.clone=function(){return new o(this.start,this.end,this.step&&this.step)},o.prototype._toString=function(e){var t=s(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toString(e),n=i=t.start?"("+i+")":i;this.step&&(i=this.step.toString(e),n+=":"+(i=t.step?"("+i+")":i));e=this.end.toString(e);return n+=":"+(e=t.end?"("+e+")":e)},o.prototype.toHTML=function(e){var t=s(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toHTML(e),n=i=t.start?'<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>':i;this.step&&(i=this.step.toHTML(e),n+='<span class="math-operator math-range-operator">:</span>'+(i=t.step?'<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>':i));e=this.end.toHTML(e);return n+='<span class="math-operator math-range-operator">:</span>'+(e=t.end?'<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>':e)},o.prototype._toTex=function(e){var t,i=s(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toTex(e);i.start&&(n="\\left("+n+"\\right)"),this.step&&(t=this.step.toTex(e),n+=":"+(t=i.step?"\\left("+t+"\\right)":t));e=this.end.toTex(e);return n+=":"+(e=i.end?"\\left("+e+"\\right)":e)},o}},function(e,t,s){"use strict";var l=s(14).map,h=s(14).join;t.name="ArrayNode",t.path="expression.node",t.factory=function(i,e,t,n){var a=t(s(36)).register,r=t(s(36)).compile,t=t(s(56));function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(i.isNode))throw new TypeError("Array containing Nodes expected");function t(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")}Object.defineProperty(this,"nodes",{get:t,set:t})}return(o.prototype=new t).type="ArrayNode",o.prototype.isArrayNode=!0,a(o.prototype.type,function(e,t,i){if(!(e instanceof o))throw new TypeError("No valid ArrayNode");var n="Array"!==t.math.config().matrix,e=l(e.items,function(e){return r(e,t,i)});return(n?"math.matrix([":"[")+h(e,",")+(n?"])":"]")}),o.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},o.prototype.map=function(e){for(var t=[],i=0;i<this.items.length;i++)t[i]=this._ifNode(e(this.items[i],"items["+i+"]",this));return new o(t)},o.prototype.clone=function(){return new o(this.items.slice(0))},o.prototype._toString=function(t){return"["+this.items.map(function(e){return e.toString(t)}).join(", ")+"]"},o.prototype.toHTML=function(t){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(e){return e.toHTML(t)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},o.prototype._toTex=function(t){var i="\\begin{bmatrix}";return this.items.forEach(function(e){e.items?i+=e.items.map(function(e){return e.toTex(t)}).join("&"):i+=e.toTex(t),i+="\\\\"}),i+="\\end{bmatrix}"},o}},function(e,t){t.factory=function(s,e,t,i){return function(e,t,i){var n=e.filter(function(e){return s.isSymbolNode(e)&&!(e.name in t)&&!(e.name in i)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+e+'"');var a=n.name,r=Object.create(i),o=e.compile();return function(e){return r[a]=e,o.eval(r)}}}},function(e,t,w){"use strict";t.math=!0,t.name="simplify",t.factory=function(c,e,t,i,u){var l=t(w(120)),d=t(w(137)),p=t(w(162)),f=t(w(161)),o=t(w(185)),I=t(w(107)),n=(t(w(56)),t(w(329))),a=t(w(331)),s=t(w(766)),g=(t=t(w(330))).isCommutative,m=t.isAssociative,h=t.flatten,y=t.unflattenr,v=t.unflattenl,C=t.createMakeNodeFunction,r=i("simplify",{string:function(e){return r(l(e),r.rules,{})},"string, Object":function(e,t){return r(l(e),r.rules,t)},"string, Array":function(e,t){return r(l(e),t,{})},"string, Array, Object":function(e,t,i){return r(l(e),t,i)},"Node, Object":function(e,t){return r(e,r.rules,t)},Node:function(e){return r(e,r.rules,{})},"Node, Array":function(e,t){return r(e,t,{})},"Node, Array, Object":function(e,t,i){t=function(e){for(var t,i=[],n=0;n<e.length;n++){var a,r=e[n],o=typeof r;switch(o){case"string":var s=r.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+r);r={l:s[0],r:s[1]};case"object":t={l:M(l(r.l)),r:M(l(r.r))},r.context&&(t.evaluate=r.context),r.evaluate&&(t.evaluate=l(r.evaluate)),m(t.l)&&(a=C(t.l),s=new I("_p"+x++),t.expanded={},t.expanded.l=a([t.l.clone(),s]),h(t.expanded.l),y(t.expanded.l),t.expanded.r=a([t.r,s]));break;case"function":t=r;break;default:throw TypeError("Unsupported type of rule: "+o)}i.push(t)}return i}(t);for(var n=s(e,i),a={},r=(n=M(n)).toString({parenthesis:"all"});!a[r];){a[r]=!0;for(var o=x=0;o<t.length;o++)n="function"==typeof t[o]?t[o](n):(h(n),O(n,t[o])),v(n);r=n.toString({parenthesis:"all"})}return n}});function M(e){return e.transform(function(e,t,i){return c.isParenthesisNode(e)?e.content:e})}r.simplifyCore=a,r.resolve=s;var b={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};r.rules=[a,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},n,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var x=0,O=i("applyRule",{"Node, Object":function(e,t){var i=e;if(i instanceof f||i instanceof p){if(i.args)for(var n=0;n<i.args.length;n++)i.args[n]=O(i.args[n],t)}else i instanceof o&&i.content&&(i.content=O(i.content,t));var a,e=t.r,r=S(t.l,i)[0];return!r&&t.expanded&&(e=t.expanded.r,r=S(t.expanded.l,i)[0]),r&&(i=e.clone(),i=(a=function(e){return e.isSymbolNode&&r.placeholders.hasOwnProperty(e.name)?r.placeholders[e.name].clone():e.map(a)})(i)),i}});function A(e,t){var i,n={placeholders:{}};if(!e.placeholders&&!t.placeholders)return n;if(!e.placeholders)return t;if(!t.placeholders)return e;for(i in e.placeholders)if(n.placeholders[i]=e.placeholders[i],t.placeholders.hasOwnProperty(i)&&!function e(t,i){if(t instanceof d&&i instanceof d){if(t.value!==i.value)return!1}else if(t instanceof I&&i instanceof I){if(t.name!==i.name)return!1}else{if(!(t instanceof f&&i instanceof f||t instanceof p&&i instanceof p))return!1;if(t instanceof f){if(t.op!==i.op||t.fn!==i.fn)return!1}else if(t instanceof p&&t.name!==i.name)return!1;if(t.args.length!==i.args.length)return!1;for(var n=0;n<t.args.length;n++)if(!e(t.args[n],i.args[n]))return!1}return!0}(e.placeholders[i],t.placeholders[i]))return null;for(i in t.placeholders)n.placeholders[i]=t.placeholders[i];return n}function T(e,t){var i,n=[];if(0===e.length||0===t.length)return n;for(var a=0;a<e.length;a++)for(var r=0;r<t.length;r++)(i=A(e[a],t[r]))&&n.push(i);return n}function S(e,t,i){var n=[{placeholders:{}}];if(e instanceof f&&t instanceof f||e instanceof p&&t instanceof p){if(e instanceof f){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof p&&e.name!==t.name)return[];if((1!==t.args.length||1!==e.args.length)&&m(t)&&!i){if(2<=t.args.length&&2===e.args.length){for(var a=function(e,t){var i,n,a=[],r=C(e);if(g(e,t))for(var o=0;o<e.args.length;o++)(n=e.args.slice(0)).splice(o,1),i=1===n.length?n[0]:r(n),a.push(r([e.args[o],i]));else i=1===(n=e.args.slice(1)).length?n[0]:r(n),a.push(r([e.args[0],i]));return a}(t,e.context),r=[],o=0;o<a.length;o++)var s=S(e,a[o],!0),r=r.concat(s);return r}if(2<e.args.length)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var l=[],o=0;o<e.args.length;o++){var h=S(e.args[o],t.args[o]);if(0===h.length)return[];l.push(h)}n=function(e){if(0===e.length)return e;for(var t=e.reduce(T),i=[],n={},a=0;a<t.length;a++){var r=JSON.stringify(t[a]);n[r]||(n[r]=!0,i.push(t[a]))}return i}(l)}else if(e instanceof I){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(u.hasOwnProperty(e.name)){if(!b[e.name])throw new Error("Built in constant: "+e.name+" is not supported by simplify.");if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))n[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(c.isConstantNode(t))return[];n[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof d))return[];n[0].placeholders[e.name]=t}}else{if(!(e instanceof d))return[];if(e.value!==t.value)return[]}return n}return r}},function(e,t,i){"use strict";var r=i(13);i(17);t.name="isZero",t.factory=function(e,t,i,n){var a=n("isZero",{number:function(e){return 0===e},BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a}},function(e,t,i){"use strict";t.name="cs_flip",t.path="sparse",t.factory=function(){return function(e){return-e-2}}},function(e,t,i){"use strict";var i=i(86),f=i.string,I=i.array,g=Array.isArray;t.factory=function(d){var p=d.DenseMatrix;return function(e,t,i){e=e.size();if(2!==e.length)throw new RangeError("Matrix must be two dimensional (size: "+f.format(e)+")");var n,a,r,o=e[0];if(o!==e[1])throw new RangeError("Matrix must be square (size: "+f.format(e)+")");if(d.isMatrix(t)){var s=t.size();if(1===s.length){if(s[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(n=[],r=t._data,a=0;a<o;a++)n[a]=[r[a]];return new p({data:n,size:[o,1],datatype:t._datatype})}if(2!==s.length)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(s[0]!==o||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(d.isDenseMatrix(t)){if(i){for(n=[],r=t._data,a=0;a<o;a++)n[a]=[r[a][0]];return new p({data:n,size:[o,1],datatype:t._datatype})}return t}for(n=[],a=0;a<o;a++)n[a]=[0];for(var l=t._values,h=t._index,s=t._ptr,c=s[1],u=s[0];u<c;u++)n[a=h[u]][0]=l[u];return new p({data:n,size:[o,1],datatype:t._datatype})}if(g(t)){s=I.size(t);if(1===s.length){if(s[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(n=[],a=0;a<o;a++)n[a]=[t[a]];return new p({data:n,size:[o,1]})}if(2!==s.length)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(s[0]!==o||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(n=[],a=0;a<o;a++)n[a]=[t[a][0]];return new p({data:n,size:[o,1]})}}}},function(e,t,i){var y=i(246);function v(e){for(var t=e.d,i=t[0]+"",n=1;n<t.length;++n){for(var a=t[n]+"",r=7-a.length;r--;)a="0"+a;i+=a}for(c=i.length-1;"0"==i.charAt(c);--c);var o=e.e,s=i.slice(0,c+1||1),e=s.length;if(0<o)if(++o>e)for(o-=e;o--;s+="0");else o<e&&(s=s.slice(0,o)+"."+s.slice(o));for(var l=[0],n=0;n<s.length;){for(var h=l.length;h--;l[h]*=10);l[0]+=s.charAt(n++)<<0;for(var c=0;c<l.length;++c)1<l[c]&&(null==l[c+1]&&(l[c+1]=0),l[c+1]+=l[c]>>1,l[c]&=1)}return l.reverse()}e.exports=function(e,t,i){var n,a,r=e.constructor,o=+(e.s<0),s=+(t.s<0);if(o)for(var l=v(y(e)),h=0;h<l.length;++h)l[h]^=1;else l=v(e);if(s)for(var c=v(y(t)),h=0;h<c.length;++h)c[h]^=1;else c=v(t);var u=l.length<=c.length?(n=l,a=c,o):(n=c,a=l,s),d=n.length,p=a.length,f=1^i(o,s),I=new r(1^f),g=new r(1),m=new r(2),s=r.precision;for(r.config({precision:1e9});0<d;)i(n[--d],a[--p])==f&&(I=I.plus(g)),g=g.times(m);for(;0<p;)i(u,a[--p])==f&&(I=I.plus(g)),g=g.times(m);return r.config({precision:s}),0==f&&(I.s=-I.s),I}},function(e,t){e.exports=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,i=t.precision;return t.config({precision:1e9}),(e=e.plus(new t(1))).s=-e.s||null,t.config({precision:i}),e}},function(e,t,n){"use strict";var P=n(49);t.name="algorithm08",t.factory=function(e,t,i,w){var B=i(n(47)),D=e.SparseMatrix;return function(e,t,i){var n=e._values,a=e._index,r=e._ptr,o=e._size,s=e._datatype,l=t._values,h=t._index,c=t._ptr,e=t._size,t=t._datatype;if(o.length!==e.length)throw new P(o.length,e.length);if(o[0]!==e[0]||o[1]!==e[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+e+")");if(!n||!l)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var e=o[0],u=o[1],d=B,p=0,f=i;"string"==typeof s&&s===t&&(d=w.find(B,[y=s,y]),p=w.convert(0,y),f=w.find(i,[y,y]));for(var I=[],g=[],m=[],y=new D({values:I,index:g,ptr:m,size:[e,u],datatype:y}),v=[],C=[],M=0;M<u;M++){m[M]=g.length;for(var b=M+1,x=r[M],O=r[M+1],A=x;A<O;A++)C[T=a[A]]=b,v[T]=n[A],g.push(T);for(x=c[M],O=c[M+1],A=x;A<O;A++)C[T=h[A]]===b&&(v[T]=f(v[T],l[A]));for(A=m[M];A<g.length;){var T,S=v[T=g[A]];d(S,p)?g.splice(A,1):(I.push(S),A++)}}return m[u]=g.length,y}}},function(e,t,l){"use strict";var h=l(17).isInteger;t.name="partitionSelect",t.factory=function(n,e,t,i){var a=t(l(142));function r(e,t){return-a(e,t)}return i("partitionSelect",{"Array | Matrix, number":function(e,t){return o(e,t,a)},"Array | Matrix, number, string":function(e,t,i){if("asc"===i)return o(e,t,a);if("desc"===i)return o(e,t,r);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(e,t,i){if(!h(t)||t<0)throw new Error("k must be a non-negative integer");if(n.isMatrix(e)){if(1<e.size().length)throw new Error("Only one dimensional matrices supported");return s(e.valueOf(),t,i)}if(Array.isArray(e))return s(e,t,i)}function s(e,t,i){if(t>=e.length)throw new Error("k out of bounds");for(var n=0,a=e.length-1;n<a;){for(var r,o=n,s=a,l=e[Math.floor(Math.random()*(a-n+1))+n];o<s;)0<=i(e[o],l)?(r=e[s],e[s]=e[o],e[o]=r,--s):++o;0<i(e[o],l)&&--o,t<=o?a=o:n=o+1}return e[t]}}},function(e,t,o){"use strict";var c=o(134),f=o(138),I=o(17).isNumber;t.name="distribution",t.factory=function(u,e,t,n,i){var h=t(o(12)),d=o(14),p=t(o(849));function a(e){if(!r.hasOwnProperty(e))throw new Error("Unknown distribution "+e);var i,a,o,s,l,t=Array.prototype.slice.call(arguments,1),t=r[e].apply(this,t);return i=t,t={random:function(e,t,i){var n,a;if(3<arguments.length)throw new c("random",arguments.length,0,3);if(1===arguments.length?f(e)?n=e:r=e:r=2===arguments.length?(f(e)?n=e:a=e,t):(n=e,a=t,i),void 0!==a&&!I(a)||void 0!==r&&!I(r))throw new TypeError("Invalid argument in function random");if(void 0===r&&(r=1),void 0===a&&(a=0),void 0===n)return o(a,r);var r=l(n.valueOf(),a,r,o);return u.isMatrix(n)?h(r):r},randomInt:n({"number | Array":function(e){if(f(e)){var t=e,i=1,n=l(t.valueOf(),0,i,s);return u.isMatrix(t)?h(n):n}return s(0,i=e)},"number | Array, number":function(e,t){if(f(e)){var i=e,n=t,a=0,r=l(i.valueOf(),a,n,s);return u.isMatrix(i)?h(r):r}return s(a=e,n=t)},"Array, number, number":function(e,t,i){i=l(e.valueOf(),t,i,s);return e&&!0===e.isMatrix?h(i):i}}),pickRandom:n({Array:function(e){return a(e)},"Array, number | Array":function(e,t){var i,n;if(Array.isArray(t))n=t;else{if(!I(t))throw new TypeError("Invalid argument in function pickRandom");i=t}return a(e,i,n)},"Array, number | Array, Array | number":function(e,t,i){var n,t=Array.isArray(t)?(n=t,i):(n=i,t);if(!Array.isArray(n)||!I(t))throw new TypeError("Invalid argument in function pickRandom");return a(e,t,n)}})},a=function(e,t,i){var n=void 0===t;if(n&&(t=1),u.isMatrix(e))e=e.valueOf();else if(!Array.isArray(e))throw new TypeError("Unsupported type of value in function pickRandom");if(1<d.size(e).length)throw new Error("Only one dimensional vectors supported");if(void 0!==i){if(i.length!=e.length)throw new Error("Weights must have the same length as possibles");for(var a=0,r=0,o=i.length;r<o;r++){if(!I(i[r])||i[r]<0)throw new Error("Weights must be an array of positive numbers");a+=i[r]}}var s=e.length;if(0==s)return[];if(s<=t)return 1<t?e:e[0];for(var l,h=[];h.length<t;){if(void 0===i)l=e[Math.floor(p()*s)];else for(var c=p()*a,r=0,o=e.length;r<o;r++)if((c-=i[r])<0){l=e[r];break}-1==h.indexOf(l)&&h.push(l)}return n?h[0]:h},o=function(e,t){return e+i()*(t-e)},s=function(e,t){return Math.floor(e+i()*(t-e))},l=function(e,t,i,n){var a=[];if(1<(e=e.slice(0)).length)for(var r=0,o=e.shift();r<o;r++)a.push(l(e,t,i,n));else for(r=0,o=e.shift();r<o;r++)a.push(n(t,i));return a},t}var r={uniform:function(){return p},normal:function(){return function(){for(var e,t,i=-1;i<0||1<i;)e=p(),t=p(),i=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return i}}};return a.toTex=void 0,a}},function(e,t,i){"use strict";e.exports={RoundBottomFlask:{thickness:38,volume:250},FlorenceFlask:{thickness:38,volume:250},SmallRoundBottomFlask:{thickness:38,volume:100},MeasuringCylinder50ml:{thickness:38,volume:125},MeasuringCylinder10ml:{thickness:38,volume:68},SmallTestTube:{thickness:38,volume:20},SmallBeaker:{thickness:15,volume:125},BigBeaker:{thickness:20,volume:300},HugeBeaker:{thickness:44,volume:1400},PlasticHugeBeaker:{thickness:44,volume:1400},WaterBath:{thickness:38,volume:1400},DistillingFlask:{thickness:38,volume:250},ThreeNeckedFlask:{thickness:38,volume:300},ConicalFlask100ml:{thickness:38,volume:140},ConicalFlask250ml:{thickness:38,volume:350},Crucible:{thickness:38,volume:30},CombustionSpoon:{thickness:38,volume:2},HardGlassTube:{thickness:38,volume:50},BigHardGlassTube:{thickness:38,volume:50},UTube:{thickness:38,volume:50},UTubeWithSideNeck:{thickness:38,volume:50},GasCollectingBottle:{thickness:20,volume:250},GasCollectingBottleOfDivide:{thickness:20,volume:250},Flume:{thickness:38,volume:1e3},NarrowMouthedBottle:{thickness:38,volume:250},WideMouthedBottle:{thickness:38,volume:250},FunnelBig:{thickness:38,volume:120},FunnelSmall:{thickness:38,volume:40},SeparatingFunnelBulbShape:{thickness:38,volume:100},SeparatingFunnelPearShape:{thickness:38,volume:125},SeparatingFunnelStraight:{thickness:38,volume:200},DroppingFunnel:{thickness:38,volume:200},DroppingFunnelWithBalancedPressure:{thickness:38,volume:200},DryingTube:{thickness:38,volume:100},CondenserPipeStraight:{thickness:38,volume:50},CondenserPipeSphere:{thickness:38,volume:50},TailNozzle:{thickness:38,volume:20},GasBottle:{thickness:38,volume:250},AlcoholBurner:{thickness:38,volume:150},BlastAlcoholBurner:{thickness:38,volume:250},ADropper:{thickness:38,volume:1},LongADropper:{thickness:38,volume:2},Mortar:{thickness:38,volume:10},PlasticWashBottle:{thickness:38,volume:250},BigTestTube:{thickness:38,volume:50},TestTubeWithSideNeck:{thickness:38,volume:50},VolumetricFlask50ml:{thickness:10,volume:62.5},VolumetricFlask100ml:{thickness:10,volume:125.7},VolumetricFlask250ml:{thickness:10,volume:287.5},BaseGasMedicine:{thickness:20,volume:250},CO2Bottle:{thickness:20,volume:200},LongNeckFunnel:{thickness:20,volume:80},NaClOBottle:{thickness:20,volume:1100}}},function(e,t,i){"use strict";var a=i(4),s=i(44),l=i(42),h=i(43),c=i(37),n=i(0),E=n(i(9)),F=n(i(25)),u=n(i(96)),r=n(i(60)),o=n(i(24)),j=n(i(59)),V=n(i(114)),k=n(i(1)),d=n(i(2)),q=n(i(19)),p=n(i(5)),R=n(i(6)),f=n(i(3));function H(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return I(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function g(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(i);return t=n?(e=(0,f.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,R.default)(this,t)}}var G=i(45),z=i(252),m=i(132),y=i(21),X=i(11),v=i(193),W=i(29).getLan,C=i(365),M={"CH|||CH":"C2H2","CH2||CH2":"CH2=CH2","CHBr||CHBr":"CHBr=CHBr","CH3CH2CH||CH2":"CH3CH2CH=CH2","CH2||CH(CH2)3CH3":"CH2=CH(CH2)3CH3",C2H5Br:"CH3CH2Br",CH3COOC2H5:"CH3COOCH2CH3",C6H5CH3:"C7H8","NH3·H2O":"NH3H2O",C12H22O11:"C12H22O11(蔗糖)","C6H12O6（葡萄糖）":"C6H12O6(葡萄糖)","C6H12O6（果糖）":"C6H12O6(果糖)","Fe(OH)3（胶体）":"Fe(OH)3(胶体)","H2SiO3（胶体）":"H2SiO3"},b={H2O2_H2O2:"",H2O2_MnO2:"MnO2",H2O2:"FeCl3"},Z=function(e){(0,p.default)(_,e);var J=g(_);function _(e,t,n){var a,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if((0,k.default)(this,_),(a=J.call(this)).chemTextAry=[],U.EQUATION_FONT_STYLE.fontSize=r?"52px":"26px",U.EQUATION_FONT_STYLE.padding=r?8:4,a.isChemEquText=!0,(a.root=n)&&n.isGrayBgc?U.EQUATION_FONT_STYLE.fill=X.TEXT_COLOR.DARK:U.EQUATION_FONT_STYLE.fill=X.TEXT_COLOR.LIGHT,e.Passivation){var o=a.getText("钝化",U.EQUATION_FONT_STYLE);return a.addChild(o),(0,R.default)(a)}var s=e.Reactants,l=e.Modulus,h=e.Products,c=e.Condition,u=e.ProductStatus,r=e.ReactStatus;if(a.equationInfo=e,a.dyCenText=null,a.dyRightText=null,c){for(var d=c.split("-"),s=s.join("-"),h=h.join("-"),p=(s+"-"+h).split("-"),f=0;f<d.length;f++){for(var I=d[f],g=0;g<p.length;g++)p[g]==I&&(l[g]=null);s=(s=s.replace("-".concat(I),"")).replace("".concat(I,"-"),""),h=(h=h.replace("-".concat(I),"")).replace("".concat(I,"-"),"")}s=s.split("-"),h=h.split("-")}s=(0,E.default)([],s),h=(0,E.default)([],h);for(var m=[],y=0;y<l.length;y++)l[y]&&m.push(l[y]);for(var l=(0,E.default)([],m),v=0;v<h.length;v++){var C,M=h[v],b=s.indexOf(M);-1!==b&&(C=l[b],(M=l[s.length+v])===C&&(l.splice(s.length+v,1),h.splice(v,1),v--,l.splice(b,1),s.splice(b,1)),M<C&&(l[b]=C-M,l.splice(s.length+v,1),h.splice(v,1),v--),C<M&&(l[s.length+v]=M-C,l.splice(b,1),s.splice(b,1)))}if(2===s.length&&s[0]===s[1]&&(s.length=1,l.shift()),2<s.length)for(var x=0;x<s.length-1;x++)for(var O=x+1;O<s.length;O++)s[x]===s[O]&&(s.splice(O,1),l[x]+=l[O],l.splice(O,1),O--);if(2<h.length)for(var A=0;A<h.length-1;A++)for(var T=A+1;T<h.length;T++)h[A]===h[T]&&(h.splice(T,1),l[s.length+A]+=l[s.length+T],l.splice(s.length+T,1),T--);"Junior"==("2"===localStorage.getItem("NB_GRADE_ID")?"Junior":"Senior")&&s.includes("P4")&&(w=s.indexOf("P4"),s[w]="P",l[w]*=4),"(C6H10O5)n_H2O_H2SO4"!==e.Name&&"(C6H10O5)n_H2O_唾液淀粉酶"!==e.Name&&"(C6H10O5)n(纤维素)_H2O_H2SO4"!==e.Name||(l[2]=l[1]="n"),s.forEach(function(e,t){e.includes("C6H4(NO2)2")&&(s[t]=e.replace("C6H4(NO2)2","m-C6H4(NO2)2")),"NH3H2O"===e&&(s[t]="NH3·H2O")}),h.forEach(function(e,t){e.includes("C6H4(NO2)2")&&(h[t]=e.replace("C6H4(NO2)2","m-C6H4(NO2)2")),"NH3H2O"===e&&(h[t]="NH3·H2O")}),-1!==e.Name.indexOf("C2H5OH_C2H5OH")&&"CO2"===h[0]&&(s.push("O2"),l.splice(1,0,3)),s=G.convertToChemicalName(s),h=G.convertToChemicalName(h),"NH3_O2_Pt"===e.Name&&(c=c.replace("Pt",W("催化剂")));var S,o=l,w=((c=G.convertToChemicalName(c||""))||"").split("-"),c=(0,V.default)(w,2),w=c[0],c=c[1];if(u){var B=[];u=(u=u.replace(/(H2SiO3↓|H₂SiO₃↓)/,"H₂SiO₃(胶体)")).replace(/(NH₃H₂O|NH3H2O)/,"NH₃·H₂O");var D=G.convertToChemicalName(u.split("-"));if(h.length!=D.length){for(var P=0;P<D.length;P++){var L=D[P];if(-1!=L.indexOf("↑")||-1!=L.indexOf("↓"))for(var N=0;N<h.length;N++)h[N]==L.replace("↑","").replace("↓","")&&B.push(L);else-1!=h.indexOf(L)&&B.push(L)}S=B}else S=D}else S=h;u=r?G.convertToChemicalName(r.split("-")):s,r=_._genHalfEquation(u,o,e.needReverseEle),o=_._genHalfEquation(S,o.slice(u.length));if(!r&&!o)return(0,R.default)(a);if(-1==r.indexOf("e⁻")&&(-1!==r.indexOf("⁺")||-1!==r.indexOf("⁻")||-1!==o.indexOf("⁺")||-1!==o.indexOf("⁻")))return(0,R.default)(a);"C₂H₄+3O₂"===r&&(r="(C₂H₄)ₙ+3nO₂",o="2nCO₂↑+2nH₂O");u=a.getText(r,U.EQUATION_FONT_STYLE);a.addChild(u);r=a.getText("=",(0,E.default)({},U.EQUATION_FONT_STYLE,{align:"center"}));r.x=u.width+u.x,a.addChild(r),a.dyCenText=r;u=null;w&&(u=a.getText(w,(0,E.default)({},U.EQUATION_FONT_STYLE,{align:"center"})),r.addChild(u),u.y=-u.height/2-3,u.x=r.width/2-u.width/1.5);w=null;c&&(w=a.getText(c,(0,E.default)({},U.EQUATION_FONT_STYLE,{align:"center"})),r.addChild(w),w.y=w.height/1.5+5,w.x=r.width/2-w.width/2,"△"===c&&(w.y=w.height/6+7)),e.reactionSign&&(r.text=e.reactionSign);var e=r.getBounds().width;e>r.width&&(e=r.width/e,r.scale.x=1/e,u&&(u.x=(r.width/2-u.width/2)*e,u.scale.x=e),w&&(w.x=(r.width/2-w.width/2)*e,w.scale.x=e));o=a.getText(o,U.EQUATION_FONT_STYLE);return o.x=r.width+r.x,a.addChild(o),a.dyRightText=o,t||a.addListeners(),a.changeBgcEvent=function(){var e=n.isGrayBgc?X.TEXT_COLOR.DARK:X.TEXT_COLOR.LIGHT;if((0,q.default)(a)&&a.children)for(var t=0;t<a.children.length;t++){var i=a.children[t];i&&i.style&&(i.style.fill=e)}},n.on(NBEvent.change.BGC,a.changeBgcEvent),i&&(n.InstanceNameManager.setInstance((0,q.default)(a)),a.initEquation()),a}return(0,d.default)(_,[{key:"getText",value:function(e,t){e=W(e);t=this.root.cachePool.popText(e,t);return this.chemTextAry.push(t),t.allowGetBounds=!0,t}},{key:"removeText",value:function(e){this.root.cachePool.pushText(e)}},{key:"removeAllText",value:function(){var t=this;this.chemTextAry.forEach(function(e){t.removeText(e)}),this.chemTextAry.length=0}},{key:"initEquation",value:function(){var n=this,a=[].concat(this.equationInfo.Reactants),r=[].concat(this.equationInfo.Modulus),i=[].concat(this.equationInfo.Products),o=b[this.equationInfo.Name];2===a.length&&a[0]===a[1]&&r[0]===r[1]&&(a.splice(0,1),r.splice(0,1));var e=a.filter(function(e){return 0<=i.indexOf(e)});0<e.length&&e.forEach(function(e){var t=a.indexOf(e);a.splice(t,1),r.splice(t,1);e=i.indexOf(e);i.splice(e,1),r.splice(a.length+e,1)});var t,s,l,h,c=[].concat((0,j.default)((0,j.default)(a).sort()),(0,j.default)((0,j.default)(i).sort())).join("_");C.DATA_MAP[c]&&(this.microAniKey=c),window.__player||(t=(h="string"==typeof(h=v.dataList.equationData)?JSON.parse(h):h)["2"===localStorage.getItem("NB_GRADE_ID")?"Junior":"Senior"].find(function(e){if(void 0!==o&&e.conditionStr!==o)return!1;if(!(e.productAry.length===a.length&&e.resultAry.length===i.length))return!1;var t=!0;return a.forEach(function(i,n){e.productAry.find(function(e){var t=e.medName.replace(/（[浓|稀]）|(_.*)/g,"");return(t=M[t]?M[t]:t)===i&&e.module===r[n]})||(t=!1)}),!!t&&(i.forEach(function(i,n){e.resultAry.find(function(e){var t=e.medName.replace(/（[浓|稀]）|(_.*)/g,"");return(t=M[t]?M[t]:t)===i&&e.module===r[n+a.length]})||(t=!1)}),!!t)}))&&(s=[],l=t.experiment,e=t.productAry,c=t.conditionStr,h=t.microAniKey,l.forEach(function(e,t){s[t]={title:e.title,subtitle:e.category,categoryType:e.categoryType,id:e.id,contents:e.contents,contentId:e.contentId,imgUrl:e.imgUrl}}),h={expression:t.eqName,aboutList:s,productAry:e,conditionStr:c,microAniKey:h},this.equationConfig=h),this.name="Euqation",this.CNName="化学方程式",this.z_index=25.09,this.emitTap=function(){var e=n;e.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[e]}),e.execute(NBCommand.communicate.angular.SHOW_EQ_ATTRIBUTE,{children:[e]}),e.addedToSelectionLayer()},this.addedToSelectionLayer=function(){n.getViewStack().selectionLayer.addItem(n)},this.execute=function(e,t){return n.root.execute(e,t)},this.getConfigureData=function(){var e,t=n,i=[];return n.equationConfig&&(e=y.getButton("equation","查看方程式",function(){t.root.emit(NBEvent.communicate.angular.OPEN_EQUAATION_PANEL,t.equationConfig),t.root.emit(NBEvent.communicate.angular.CLOSE_SETTINGPOP)}.bind(n),n),i.push(e)),n.microAniKey&&(e=y.getButton("microAnimation","查看微观过程",function(){n.root.addMicroAnimation(n.microAniKey,{x:n.x+n.width/2,y:n.y+n.height}),n.root.emit(NBEvent.communicate.angular.CLOSE_SETTINGPOP)},n),i.push(e)),{confArr:i}},this.getViewStack=function(){return n.root.viewStack},this.getEqLayer=function(){return n.getViewStack().eqLayer},this.getStageToDomPos=function(e){var t=(0,F.default)(n.root.canvas.style.width)/n.root.W,i=(0,F.default)(n.root.canvas.style.height)/n.root.H;return{x:e.x*t,y:e.y*i}},this.eqTap=function(e){var t=n.root.PointerManager.getPointEquipment(e.data.global),i=t.length;0===i||(1===i?t[0].emitTap():n.root.emit(NBEvent.communicate.angular.SHOW_EQ_LIST,{children:t,data:n.getStageToDomPos(e.data.global)}))},m.tapGesture(this),this.on(m.gesture.TAP,this.eqTap)}},{key:"toJSON",value:function(){return{equationInfo:this.equationInfo,pos:{x:this.x,y:this.y},isChemEquText:this.isChemEquText}}},{key:"changeToArrowFun",value:function(e){this.dyCenText&&this.dyRightText&&!this.equationInfo.reactionSign&&(this.dyCenText.text=e?"→":"=",this.dyRightText.x=this.dyCenText.width+this.dyCenText.x)}},{key:"addListeners",value:function(){var a,r=-1/0,n=X.CHEM_EQU_INFO_DEFAULT_SCALE,o=!1,s=function(e,t){var i=(0,u.default)();o=!0,a=e,(i-r<700||t)&&TweenMax.to(this.scale,.5,{x:n,y:n,onComplete:function(){n=1===n?X.CHEM_EQU_INFO_DEFAULT_SCALE:1,o=!1,r=-1/0}}),r=i}.bind(this),e=function(){var t,i,e,n;this.scale.x===X.CHEM_EQU_INFO_DEFAULT_SCALE&&o&&(r=-1/0,t=new _(this.equationInfo,!0,this.root,!0,!0),s(a,!0),n=(n=(i=this.parent.parent.parent).scale.x)<1?1/n:n>X.INFO_TEXT_MAX_SCALE?X.INFO_TEXT_MAX_SCALE/n:1,t.scale.x=t.scale.y=n*X.CHEM_EQU_INFO_DEFAULT_SCALE/2,n=(e=i.eqLayer).toLocal({x:0,y:0},this),t.x=n.x,t.y=n.y,e.addChild(t),i.eqChildren.push(t),NBDrag.addDrag(t),t.on(NBEvent.del.PREPARE_DELETE,function(){var e=i.eqChildren.indexOf(t);0<=e&&i.eqChildren.splice(e,1),t.removeAllText()}),a.type="pointerdown",a.capture=!1,a.target=t,TouchEvent.simulateTouchDown(t,a),t.timer=(new Date).getTime(),t.__globalPoint__=(0,E.default)({},a.data.global),i.needTouchUpAry.push(t),o=!1)}.bind(this),t=function(){o=!1}.bind(this);this.addEventListener(TouchEvent.TOUCH_BEGIN,s),this.addEventListener(TouchEvent.TOUCH_MOVE,e),this.addEventListener(TouchEvent.TOUCH_END,t),this.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,t)}}],[{key:"_genHalfEquation",value:function(e,n,a){return e.map(function(e,t){var i="e⁻"===e?a?"-":"+":"+";return/^[0-9]/.test(e)&&1<n[t]&&(e="(".concat(e,")")),i+(1==n[t]?"":n[t])+e}).join("").substr(1)}}]),_}(PIXI.Container),U=function(e){(0,p.default)(a,e);var n=g(a);function a(t){var e;(0,k.default)(this,a),((e=n.call(this)).eq=t).infoItem=(0,q.default)(e),t.root.isGrayBgc?a.FONT_STYLE.fill=X.TEXT_COLOR.DARK:a.FONT_STYLE.fill=X.TEXT_COLOR.LIGHT,e.containerInfo=t.getText("",a.FONT_STYLE),e.containerInfo.resolution=2,e.addChild(e.containerInfo),e.chemicalEquationsSet=new r.default,e.chemicalEquationsMap=new o.default,e.renderCount=Math.floor(60*Math.random()),e.addFun=[],e.containerInfo.style.fontWeight=300,e.containerInfo.style.lineHeight=40;var i=(0,q.default)(e);return e.changeBgcEvent=function(){var e=t.root.isGrayBgc?X.TEXT_COLOR.DARK:X.TEXT_COLOR.LIGHT;i.containerInfo&&(i.containerInfo.style.fill=e)},t.root.on(NBEvent.change.BGC,e.changeBgcEvent),e}return(0,d.default)(a,[{key:"destroyItem",value:function(e,t){var i=this.chemicalEquationsMap,n=this.chemicalEquationsSet;if(i.has(e)){var a=i.get(e);if(a.includeSet){var r,o=H(a.includeSet);try{for(o.s();!(r=o.n()).done;)delete r.value.replaced}catch(e){o.e(e)}finally{o.f()}}var s=a.equation;s.root.off(NBEvent.change.BGC,s.changeBgcEvent),s.changeBgcEvent=null,TweenMax.killTweensOf(s),s._gsTweenID&&delete TweenLite._internals.tweenLookup[s._gsTweenID],t?(n.delete(s),s.parent&&(s.parent.removeChild(s),s.removeAllText())):TweenMax.to(s,4,{alpha:0,x:-s.width,onComplete:function(){n.delete(s),s.parent&&(s.parent.removeChild(s),s.removeAllText())}}),i.delete(e)}}},{key:"getEquationTotalName",value:function(e){return e.Name+"_"+e.Products.join("_")}},{key:"createItem",value:function(e,t){var i,n=this.chemicalEquationsSet;3<n.size||(i=new Z(e,null,this.root),this.addChild(i),i._lifeCount=300,i.alpha=0,i.x=200,i.y=this.containerInfo.height+n.size*i.height,n.add(i),t.equation=i,t.equationDat=e,TweenMax.to(i,2,{alpha:1,x:0,onComplete:function(){i.onload=!0}}),this.lastChild=i)}},{key:"updateInfo",value:function(){var e=this.eq,t=this.containerInfo,a=this.chemicalEquationsMap;if(e){var n=e.conf_show_temp,r=e.conf_show_volume,o=e.conf_show_mol,s=e.conf_show_weight,l=e.conf_show_sol,h=e.conf_show_name,i=e.medicineData;if(this.children&&0<this.children.length)for(var c=0;c<this.children.length;c++){var u=this.children[c];u instanceof Z&&u.changeToArrowFun(this.parent.parent.parent.isArrawFunc)}var d=this.parent.parent.eqLayer.children;if(0<d.length)for(var p=0;p<d.length;p++){var f=d[p];f instanceof Z&&f.changeToArrowFun(this.parent.parent.parent.isArrawFunc)}var I,g,m,y=this.root;this.renderCount++%60==0&&(this.renderCount=1,t.text="",i?(g=!(I=function(e,t){var i=e.toString();if(i.length<t)return i;e=e.toExponential(t);if(!(t=e.match(/^([^e]+)e/)))return i;var t=t[1],n=e.match(/[\+|-]\d+$/)[0];if(0===(0,F.default)(n))return t;for(var a="",r=0;r<n.length;r++)"+"!==n[r]&&(a+=n[r]);return y.getScientificNotation()?"".concat(t,"E").concat(a):"".concat(t,"×10").concat(function(e){if("1"===e)return"";for(var t={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻"},i="",n=e.length,a=0;a<n;a++)i+=t[e[a]];return i}(a))}),m="2"===localStorage.getItem("NB_GRADE_ID")?"Junior":"Senior",R=(R=i.getInfo().map(function(e){e.name&&e.name.includes("C6H4(NO2)2")&&(e.name=e.name.replace("C6H4(NO2)2","m-C6H4(NO2)2")),e.name&&e.name.includes("NH3H2O")&&(e.name=e.name.replace("NH3H2O","NH3·H2O")),e.name&&e.name.includes("KI(OTHERS)9(s)")&&(e.name=e.name.replace("KI(OTHERS)9(s)","海带灰")),e.name&&(e.name.includes("变性的鸡蛋清(硝酸)")||e.name.includes("变性的鸡蛋清(其他)"))&&(e.name="变性的鸡蛋清(s)"),e.name&&e.name.includes("鸡蛋清(沉淀)")&&(e.name="鸡蛋清(s)"),e.name&&e.name.includes("Phenol")&&(e.name="C6H5OH(共轭溶液)");var t=e.name.match(/(.+)(\([a-zA-Z]+\))/);t&&3==t.length&&(e.name=W(t[1])+t[2]);var i=/^C12H22O11(\([a-zA-Z]\))$/;e.name&&i.test(e.name)&&(e.name=e.name.replace(i,"C12H22O11(蔗糖)$1")),e.name&&e.name.includes("C9H8O4(s)")&&(e.name=e.name.replace("C9H8O4","阿司匹林")),e.name&&e.name.includes("KAl(SO4)2")&&(e.name=e.name.replace("KAl(SO4)2","明矾")),e.name&&e.name.includes("FeFungusColor")&&(e.name=e.name.replace("FeFungusColor","木耳色素")),e.name&&e.name.includes("FeFungus")&&(e.name=e.name.replace("FeFungus","木耳杂质")),"Junior"==m&&"P4(s)"===e.name&&(e.name="P(s)");t="C2H4(s)"!==e.name&&o,i=[];return n&&"solid"!==e.type&&(!e.temp&&0!==e.temp||i.push("".concat(W("温度"),": ").concat(Math.round(e.temp)," °C")),e.pascal&&(g||(i.push("".concat(W("压强"),": ").concat(e.pascal," Pa")),g=!0))),s&&isFinite(e.weight)&&0<e.weight&&i.push("".concat(W("质量"),": ").concat(I(e.weight,X.PRECISION)," g")),r&&isFinite(e.vol)&&0<e.vol&&("solid"==e.type?i.push("".concat(W("体积"),": ").concat(I(e.vol,X.PRECISION)," cm³")):i.push("".concat(W("体积"),": ").concat(I(e.vol,X.PRECISION)," mL"))),t&&isFinite(e.mol)&&0<e.mol&&i.push("".concat(W("物质的量"),": ").concat(I(e.mol,X.PRECISION)," mol")),l&&e.sol&&0<e.sol&&("H⁺"===e.name?i.push("pH:".concat(-Math.log10(e.sol).toFixed(3))):i.push("".concat(W("浓度"),": ").concat(I(e.sol,X.PRECISION),"mol/L"))),(0<i.length||h)&&i.unshift("".concat(G.convertToChemicalName(e.name))),i.join("\n\t")})).filter(function(e){return""!==e}).join("\n"),t.text=R):t.text="");var v={x:0,y:t.height};if(e.medicineData){var C=e.medicineData.chemicalFuncAry;if(C.forEach(function(e){var t=e.equation,i=t.Reactants,n=t.Products;t.symbolName||(i=(0,j.default)(i).sort().join("_"),n=(0,j.default)(n).sort().join("_"),e.equation.symbolName="".concat(i,"_").concat(n))}),e.conf_chemical_equation||e.conf_ionic_equation){if(C.forEach(function(e){var t,i,n=e.equation;n.priority<0||(t=e.lifeTime||0,i=n.symbolName,(e=a.get(i))||a.set(i,e={lifeCount:1}),!e.equation&&(20<(e.lifeCount+=4)||1e3<=t)&&5<=t&&(e.equationDat=n),e.equation&&(0===t?e.equation._lifeCount=0:(e.equation._lifeCount++,e.lifeCount=e.equation._lifeCount)))}),0<a.size){if(!e.conf_ionic_equation){var M,b=H(a.keys());try{for(b.s();!(M=b.n()).done;){var x,O,A,T=M.value,S=a.get(T);if(null!==(x=S.equation)&&void 0!==x&&null!==(O=x.equationInfo)&&void 0!==O&&O.PhysicalState)if(-1<S.equation.equationInfo.PhysicalState.indexOf("i"))continue;null!==(A=S.equationDat)&&void 0!==A&&A.PhysicalState&&S.equationDat.PhysicalState.indexOf("i")}}catch(e){b.e(e)}finally{b.f()}}z.normalizeEquation(a,this);var w,B=H(a);try{for(B.s();!(w=B.n()).done;){var D,P,L=(0,V.default)(w.value,2),N=L[0],J=L[1];J.equation?((D=J.equation)._lifeCount--,J.lifeCount=D._lifeCount,D._lifeCount<=0?this.destroyItem(N,D.onload):(D.y!==v.y&&TweenMax.to(D,2,{y:v.y-D.getLocalBounds().y}),D.renderable=!0,v.y+=D.height)):J.lifeCount--<=0&&(a.delete(N),(P=J.replaced)&&!0!==P&&(P.includeSet.delete(J),P.needUpdate=!0,0===P.includeSet.size&&this.destroyItem(P.equationDat.Name)))}}catch(e){B.e(e)}finally{B.f()}}}else{var _,E=H(a.values());try{for(E.s();!(_=E.n()).done;){var k=_.value;k.equation&&(k.equation.renderable=!1)}}catch(e){E.e(e)}finally{E.f()}}e.medicineData.chemicalFuncAry.clear();var q=e.localBounds?e.toGlobal({x:e.localBounds.x,y:e.localBounds.y}):e.getBounds().clone(),i=e.localBounds?e.toGlobal({x:e.localBounds.x+e.localBounds.width,y:e.localBounds.y}):e.getBounds().clone(),R=e.localBounds?e.toGlobal({x:e.localBounds.x,y:e.localBounds.y+e.localBounds.height}):e.getBounds().clone(),t=e.localBounds?e.toGlobal({x:e.localBounds.x+e.localBounds.width,y:e.localBounds.y+e.localBounds.height}):e.getBounds().clone(),C=Math.max(q.x,i.x,R.x,t.x),i=Math.max(q.y,i.y,R.y,t.y),R=e.offsetInfo||{x:0,y:0},t=e.root.viewStack.scale.x,R={x:C+t*(R.x+20),y:i+t*(R.y-this.height)},R=e.root.viewStack.toLocal(R);this.x=R.x,this.y=R.y;e=(e=e.root.viewStack.scale.x)<1?1/e:e>X.INFO_TEXT_MAX_SCALE?X.INFO_TEXT_MAX_SCALE/e:1;this.scale.x=this.scale.y=e}}}}]),a}(PIXI.Container);U.FONT_STYLE={fontSize:"24px",fontFamily:"Arial",fill:16777215,align:"left",stroke:0,strokeThickness:0,wordWrapWidth:1},U.EQUATION_FONT_STYLE={fontSize:"26px",fontFamily:"Arial",fill:16777215,align:"left",stroke:0,strokeThickness:0,wordWrapWidth:1};i=function(e){(0,p.default)(i,e);var t=g(i);function i(){var e;return(0,k.default)(this,i),(e=t.call(this)).eqInfoMap=new o.default,e}return(0,d.default)(i,[{key:"updateInfo",value:function(e){var t,u=this,d=this.eqInfoMap,p=new r.default,i=H(d);try{for(i.s();!(t=i.n()).done;){var n=(0,V.default)(t.value,2),a=n[0];n[1].visible=!1,p.add(a)}}catch(e){i.e(e)}finally{i.f()}e.forEach(function(e){p.delete(e);var t=null;d.has(e)?(t=d.get(e)).visible=!0:(t=new U(e),d.set(e,t),u.addChild(t));var i=e.conf_show_temp,n=e.conf_show_volume,a=e.conf_show_mol,r=e.conf_show_weight,o=e.conf_show_sol,s=e.conf_show_name,l=e.conf_chemical_equation,h=e.conf_ionic_equation,c=e.forceUpdate;(e.conf_arrow||i||l||h||n||a||r||o||c||s||t.chemicalEquationsMap&&0<t.chemicalEquationsMap.size)&&(t.updateInfo(),t.forceUpdate=!1)}),p.forEach(function(e){var t=d.get(e);d.delete(e),u.removeChild(t),t.eq.root.off(NBEvent.change.BGC,t.changeBgcEvent),t.eq=null,t.changeBgcEvent=null,t.containerInfo=null,t.destroy()})}}]),i}(PIXI.Container);i.SHOW_TEMP=!0,i.SHOW_CHEMICAL_EQUATION=!0,i.SHOW_CHEMICAL_INFO=!0,e.exports={InfoLayer:i,ChemicalEquation:Z}},function(module,exports,__webpack_require__){"use strict";var _Array$from=__webpack_require__(44),_Symbol=__webpack_require__(42),_Symbol$iterator=__webpack_require__(43),_Array$isArray=__webpack_require__(37),_interopRequireDefault=__webpack_require__(0),_toConsumableArray2=_interopRequireDefault(__webpack_require__(59)),_map=_interopRequireDefault(__webpack_require__(24)),_set=_interopRequireDefault(__webpack_require__(60));function _createForOfIteratorHelper(e,t){var i=void 0!==_Symbol&&e[_Symbol$iterator]||e["@@iterator"];if(!i){if(_Array$isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?_Array$from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var MedicineType=__webpack_require__(70),NBMath=__webpack_require__(115),ChemicalUtilTool=__webpack_require__(45),EquationUtil={},LiquidVO=null,IonVO=null,forceShowEquations=["C7H8_KMnO4_H2SO4","Ca(OH)2_Cl2","AgNO3_CaCl2","Ba(OH)2_SO2","KMnO4_Na2S_H2SO4","I2_NaOH","NaIO3_NaI_H2SO4","H2O2_MnO4!1_H!1","KMnO4_HCl","H2O2_HClO","I!1_MnO4!1_OH!1","I!1_MnO4!1_H2O","I!1_MnO4!1_H!1","H2O_NO2","Mn2O7_H2","Mn2O7_CH4","Cu_H!1_NO3!1","PH3_Cu!2_H2O"];EquationUtil.normalizeEquation=function(e,t){var i,n=!1,a=[],r=[],o={},s=new _map.default,l=_createForOfIteratorHelper(e.keys());try{for(l.s();!(i=l.n()).done;){var h=i.value,c=e.get(h);if(c.equationDat&&"H2CO3_NaB(OH)4"!=h){var u=t.eq;if(u&&u.medicineData&&u.medicineData.liquidAry){var d=u.medicineData.liquidAry.quickMap.get("H3BO3");if(d&&1e-7<d.mol&&"H2CO3_H2CO3"==h)continue}var p=c.equationDat.specialPriority;if(p){var f,I=!1;for(f in p){var g=o[f],m=p[f];if(g){if(g.num<m){g.num=m;var y=g.equation;y.equation&&t.destroyItem(y.equationDat.Name,y.equation),I=!0,g.equation=c;break}if(g.num==m)break;c.equation&&t.destroyItem(c.equationDat.Name,c.equation),I=!0;break}o[f]={num:m,equation:c}}if(I)continue}var v,C=c.equationDat.priority;9900<C?(v={name:c.equationDat.Name,originObj:c},(c.equation?a:r).push(v)):(0<C&&(n=!0),c.equation||s.set(c.equationDat.Name,c))}}}catch(e){l.e(e)}finally{l.f()}if(n){var M=r.find(function(e){return"FeSO4_NaOH"===e.name});M&&s.set(M.name,M.originObj)}else for(var b=0,x=r.length;b<x;b++){var O=r[b];s.set(O.name,O.originObj)}var A,T=_createForOfIteratorHelper(s.values());try{for(T.s();!(A=T.n()).done;){var S=A.value;t.createItem(S.equationDat,S)}}catch(e){T.e(e)}finally{T.f()}},EquationUtil.filterEquation=function(equations,container,gasVol,preventFilter){if(0!==equations.length&&container.medicineData){var medicineData=container.medicineData,h2o=container.h2o,dissolveAry=medicineData.dissolveAry,liquidAverageTemp=medicineData.getLiquidAverageTemp();LiquidVO=LiquidVO||__webpack_require__(33),IonVO=IonVO||__webpack_require__(100),gasVol=gasVol||(container.getTotalCapacity()-container.getCurrentCapacity())/1e3;for(var reactableEquations=[],i=0,length=equations.length;i<length;i++){var allLiquidTempScope=function(e,t,i){for(var n=!1,a=0;a<e.length;a++){var r=e[a];if(medicineData.getMedVo(r,"liquid")){r=medicineData.getMedVo(r,"liquid").getTemp();if(t<r&&r<i){n=!0;break}}}return n},tempScope=function(e,t,i){if(t<e&&e<i)return!0},specialEqCondition=function(e,t){if("C_H2SO4"===e&&t.find(function(e){return"C12H22O11_H2SO4"===e.equationDat.Name}))return!0},vol=h2o?h2o.getVol()/1e3:1e-20,averageTemp=0,equation=equations[i],equationDat=equation.equationDat,products=equation.products,reactants=equation.reactants;if(equationDat.limitPH){var pHAry=equationDat.limitPH.split("_"),ionH=medicineData.ionAry.quickMap.get("H1"),H2oVo=medicineData.liquidAry.quickMap.get("H2O");if(ionH&&H2oVo){var ph=-Math.log10(ionH.mol/H2oVo.getVol()*1e3);if(2===pHAry.length&&(ph<pHAry[0]||ph>pHAry[1]))continue}}if(equationDat.specialMedStatus){if(!container.h2o)continue;var specialMedStatusAry=equationDat.specialMedStatus.split(","),canEffect=!0,_iterator3=_createForOfIteratorHelper(specialMedStatusAry),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var specialMedStatusStr=_step3.value,specialMedStatus=specialMedStatusStr.split("_"),medAry=specialMedStatus[0].includes("!")?medicineData.ionAry:medicineData.liquidAry,med=medAry.quickMap.get(specialMedStatus[0].replace("!","")),totalVol=container.h2o.getVol();if(med&&1===med.type&&med.getVol&&(totalVol+=med.getVol()),0<totalVol){var medMol=void 0,medMol=med?isFinite(med.mol)?med.mol:990:0,molArea=specialMedStatus[1].split("~"),density=medMol/totalVol*1e3;if(density<molArea[0]||density>=molArea[1]){canEffect=!1;break}}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}if(!canEffect)continue}if(equationDat.Name.includes("C6H6_HNO3_H2SO4")||"C6H5NO2_HNO3_H2SO4"===equationDat.Name){var h2so4Med=medicineData.liquidAry.quickMap.get("H2SO4"),h2so4MedMass=h2so4Med&&h2so4Med.getMass()||0,h2oMass=Math.max(container.h2o&&container.h2o.getMass()||0,0);if(h2so4MedMass<=0||h2so4MedMass/(h2so4MedMass+h2oMass)<.55)continue}if(/C6H5OH_H2O|Phenol_H2O$|Phenol_H2O1$/.test(equationDat.Name)){equationDat.Modulus=[1,1,1,1];var H2O_l=medicineData.liquidAry.quickMap.get("H2O"),C6H5OH_s=medicineData.solidAry.C6H5OH,C6H5OH_l=medicineData.liquidAry.quickMap.get("C6H5OH"),Phenol_l=medicineData.liquidAry.quickMap.get("Phenol"),solNow=0,qH2O=0,qC6H5OH_l=0,qSum=0,liquidTemp=0,C6H5OH_MASS=94.11;C6H5OH_s&&(qSum+=C6H5OH_s.mol*C6H5OH_MASS),C6H5OH_l&&(qSum+=C6H5OH_l.mol*C6H5OH_MASS),Phenol_l&&(qSum+=Phenol_l.mol*C6H5OH_MASS),H2O_l&&(liquidTemp=H2O_l.getTemp(),C6H5OH_l&&(qC6H5OH_l=C6H5OH_l.getMass(),qH2O=H2O_l.getMass(),solNow=qC6H5OH_l/qH2O*100));var sol=medicineData.container.root.medicineManager.getSolution("C6H5OH",liquidTemp);if(liquidTemp<65){if(10<qSum/qH2O){if(solNow<sol-.1){if(/C6H5OH_H2O/.test(equationDat.Name))continue}else if(/C6H5OH_H2O|Phenol_H2O1$/.test(equationDat.Name))continue}else if(solNow<sol-.1){if(/C6H5OH_H2O|Phenol_H2O$/.test(equationDat.Name))continue}else if(/Phenol_H2O$|Phenol_H2O1$/.test(equationDat.Name))continue}else if(/C6H5OH_H2O|Phenol_H2O$/.test(equationDat.Name))continue}if(/(Na_H2O)/.test(equationDat.Name)){var blockNaAry=(0,_toConsumableArray2.default)(container.blockMedicineMap.get("Na")),NaInH2O=!1;if(blockNaAry.forEach(function(e){e.inH2O()&&(NaInH2O=!0)}),!NaInH2O)continue}if("H2CO3_H2CO3"===equationDat.Name){var eq=container;if(eq.medicineData&&eq.medicineData.liquidAry){var qm=eq.medicineData.liquidAry.quickMap,h2bo3m=qm.get("H3BO3");if(h2bo3m&&1e-7<h2bo3m.mol)continue}}if("Fe!3_H2O1"===equationDat.Name){var Fe_ion=container.medicineData.ionAry.quickMap.get("Fe3"),FeOH2_ion=container.medicineData.ionAry.quickMap.get("FeOH2"),liquidCapacity=container.medicineData.getLiquidCapacity()/1e3,totalMol=0;Fe_ion&&(totalMol+=Fe_ion.mol),FeOH2_ion&&(totalMol+=FeOH2_ion.mol);var concentration=totalMol/liquidCapacity;if(concentration<.025||.05<concentration)continue}if(!container.preventNO2ToN2O4||"NO2_NO2"!==equationDat.Name){if("C6H6_Br2_Fe"===equationDat.Name){var _H2oVo=medicineData.liquidAry.quickMap.get("H2O");if(_H2oVo&&.01<_H2oVo.getMol())continue}if("CH3CH2Br_NaOH_H2O"===equationDat.Name){var H2OVo=medicineData.liquidAry.quickMap.get("H2O"),C2H5OHVo=medicineData.liquidAry.quickMap.get("C2H5OH");if(C2H5OHVo&&H2OVo&&C2H5OHVo.getMol()>H2OVo.getMol())continue}if("CH3CH2Br_NaOH_C2H5OH"===equationDat.Name){var _H2OVo=medicineData.liquidAry.quickMap.get("H2O"),_C2H5OHVo=medicineData.liquidAry.quickMap.get("C2H5OH");if(_C2H5OHVo&&_H2OVo&&_C2H5OHVo.getMol()<_H2OVo.getMol())continue}if("C12H22O11_H2SO4"==equationDat.Name||"C12H22O11_H2O_H2SO4"==equationDat.Name){var cap=container.medicineData.getLiquidCapacity()/1e3,mv=container.medicineData.liquidAry.quickMap.get("H2SO4")&&container.medicineData.liquidAry.quickMap.get("H2SO4").mol/cap;if("C12H22O11_H2SO4"==equationDat.Name&&mv<10.8)continue;if("C12H22O11_H2O_H2SO4"==equationDat.Name&&10.8<=mv)continue}if(container.preventEquation&&0<container.preventEquation[equationDat.Name])container.preventEquation[equationDat.Name]--;else{if("Al_H2SO4"==equationDat.Name){var a=container.medicineData.getLiquidCapacity(),b=container.medicineData.liquidAry.quickMap.get("H2SO4"),mol=b&&b.mol,molV=mol/(a/1e3),tempMed=container.medicineData.temp;if(12<molV&&tempMed<60)continue}if("Al_H2SO41"==equationDat.Name){var _a=container.medicineData.getLiquidCapacity(),_b=container.medicineData.liquidAry.quickMap.get("H2SO4"),_mol=_b&&_b.mol,_molV=_mol/(_a/1e3),_tempMed=container.medicineData.temp;if(_molV<12||60<_tempMed)continue}for(var balanceIndex=1,reactIndex=void 0,reactName=new _set.default,redundant=new _set.default,sumReactDensity=0,j=0,reactLength=reactants.length;j<reactLength;j++){var reactant=reactants[j],modules=reactant.modules,originMed=reactant.originMed,_med=reactant.med,temp,temp,averageTemp;reactName.add(_med.name+_med.dat.valence+reactant.physicalState),averageTemp=equationDat.forceLiquidTemp?liquidAverageTemp:(temp=void 0,temp=originMed instanceof LiquidVO||originMed instanceof IonVO?liquidAverageTemp:_med.getTemp instanceof Function?_med.getTemp():averageTemp,temp<averageTemp?averageTemp:temp);var originMol=originMed.mol,_density=modules;switch(!0){case originMed instanceof LiquidVO:if("H2O"===originMed.name)break;"CH3COOH"!==originMed.name&&(vol+=originMed.getVol()/1e3),_density=originMol/vol,balanceIndex*=Math.pow(_density,modules||1),reactant.vol=vol;break;case originMed instanceof GasVO:_density=originMol/gasVol*22.4,balanceIndex*=Math.pow(_density,modules),reactant.vol=gasVol;break;case originMed instanceof IonVO:case originMed instanceof DissolveVO:_density=originMol/vol,balanceIndex*=Math.pow(_density,modules),reactant.vol=vol}_density&&(sumReactDensity+=_density/(modules||1))}equation.index=sumReactDensity/reactants.length;var reactIndex=equation.reactIndex=balanceIndex,balanceIndex=1/balanceIndex,minTemp=equationDat.MinTemp,maxTemp=equationDat.MaxTemp;if((tempScope(averageTemp,minTemp,maxTemp)||!equationDat.forceLiquidTemp&&allLiquidTempScope(equationDat.Reactants,minTemp,maxTemp)||specialEqCondition(equationDat.Name,equations)||"C2H4_O2"===equationDat.Name)&&("C2H4_O2"!==equationDat.Name||container.PEisBurning)){for(var _j=0;_j<products.length;_j++){var product=products[_j],_med2=product.med,_modules=product.modules,physicalState=product.physicalState;if(_med2&&!(_med2 instanceof SolidVO&&_med2.isSolidify)){reactName.has(_med2.name+_med2.dat.valence+physicalState)&&redundant.add(_med2.name+_med2.dat.valence+physicalState);var existMed=ChemicalUtilTool.findAnyMedicine(_med2.name,container,physicalState),existMol=void 0;if(existMed&&0!==existMed.mol)existMol=existMed.mol;else{if(!(_med2 instanceof SolidVO||_med2 instanceof GasVO)){balanceIndex=0,product.vol=vol;break}existMol=1e-100}switch(!0){case _med2 instanceof LiquidVO:"H2O"!==_med2.name&&(balanceIndex*=Math.pow(existMol/vol,_modules),product.vol=vol);break;case _med2 instanceof GasVO:1e-5<_med2.mol&&(equation.gotGas=!0);var dissolveGas=dissolveAry.quickMap.get(_med2.name);dissolveGas&&0<dissolveGas.mol?(balanceIndex*=Math.pow((existMol+dissolveGas.mol)/vol,_modules),existMol+=dissolveGas.mol,product.existMol=existMol,product.vol=vol):(0===existMol&&(existMol=1e-100),balanceIndex*=Math.pow(existMol/gasVol,_modules),product.vol=gasVol);break;case _med2 instanceof IonVO:balanceIndex*=Math.pow(existMol/vol,_modules),product.vol=vol}}}equation.balanceIndex=balanceIndex;var curBalanceIndex=void 0,curReactIndex=void 0;if(!(equationDat.balanceIndex&&(equationDat.balanceIndex instanceof Function||(equationDat.balanceIndex=eval("(function(){return function(temp){return ".concat(equationDat.balanceIndex,"}})()"))),curBalanceIndex=equationDat.balanceIndex(averageTemp),curBalanceIndex<=balanceIndex))){if(equationDat.maxReactIndex){equationDat.maxReactIndex instanceof Function||(equationDat.maxReactIndex=eval("(function(){return function(temp){return ".concat(equationDat.maxReactIndex,"}})()")));var maxReactIndex=equationDat.maxReactIndex(averageTemp);if(maxReactIndex<=reactIndex)continue}equationDat.reactIndex&&(equationDat.reactIndex instanceof Function||(equationDat.reactIndex=eval("(function(){return function(temp){return ".concat(equationDat.reactIndex,"}})()"))),curReactIndex=equationDat.reactIndex(averageTemp),reactIndex<=curReactIndex)||(forceShowEquations.includes(equation.equationDat.Name)&&1e-4<equation.index&&(equation.visible=!0),reactableEquations.push(equation))}}}}}if(0===reactableEquations.length)return[];reactableEquations.sort(function(e,t){return t.index-e.index});var firstEquation=reactableEquations[0],firstIndex=firstEquation.index,firstReactIndex=firstEquation.reactIndex,visible=!1;if(1e-4<firstIndex&&1e-6<firstReactIndex)visible=firstEquation.visible=!0;else if(firstReactIndex<1e-6)for(var _i2=1;_i2<reactableEquations.length;_i2++){var _equation=reactableEquations[_i2],index=_equation.index,_reactIndex=_equation.reactIndex;1e-4<index&&.05<index/firstIndex&&1e-6<_reactIndex&&(firstEquation=_equation,visible=_equation.visible=!0,firstIndex=index,firstReactIndex=_reactIndex)}for(var _i3=reactableEquations.length-1;-1<_i3;_i3--){var _equation2=reactableEquations[_i3];(_equation2.delete||"FALSE"===_equation2.equationDat.onlyBlock&&preventFilter||"TRUE"===_equation2.equationDat.onlyBlock&&!preventFilter)&&reactableEquations.splice(_i3,1)}for(var specialPriorities={},specialPreventPriorities={},reactableMaxReactIndex=firstReactIndex,_i4=0,_length=reactableEquations.length;_i4<_length;_i4++){var _equation3=reactableEquations[_i4],specialPrio=_equation3.equationDat.specialPriority;if(specialPrio)for(var prop in specialPrio){var obj=specialPriorities[prop],num=specialPrio[prop];obj?obj.num<num?obj.equation.reactIndex/_equation3.reactIndex<100&&(obj.num=num,_equation3.visible=!0,obj.equation.remove=!0,obj.equation.visible=!1,obj.equation=_equation3):_equation3.reactIndex/obj.equation.reactIndex<100&&(_equation3.remove=!0,_equation3.visible=!1):(specialPriorities[prop]={num:num,equation:_equation3},0<num&&(_equation3.visible=!0))}var preventSpecialPriority=_equation3.equationDat.preventSpecialPriority;if(preventSpecialPriority)for(var _prop in preventSpecialPriority){var _obj3=specialPreventPriorities[_prop],_num=preventSpecialPriority[_prop];if(_obj3){if(_obj3.equation.reactIndex/_equation3.reactIndex<50){_obj3.num<_num?(_obj3.num=_num,_obj3.equation.delete=!0,_obj3.equation=_equation3):_equation3.delete=!0;continue}}else specialPreventPriorities[_prop]={num:_num,equation:_equation3}}reactableMaxReactIndex=Math.max(reactableMaxReactIndex,_equation3.reactIndex)}if(preventFilter)return reactableEquations.forEach(function(e){return e.visible=!0}),container.conf_chemical_equation&&EquationUtil.convertIonEquationToChemEquation(reactableEquations,container),reactableEquations;for(var getNormalEq=!1,_i5=reactableEquations.length-1;-1<_i5;_i5--){var _equation4=reactableEquations[_i5];_equation4.equationDat.priority<9900&&_equation4.index/firstEquation.index<1e-6||_equation4.remove?reactableEquations.splice(_i5,1):(visible&&!_equation4.remove&&.2<_equation4.index/firstIndex&&1e-14<_equation4.reactIndex/firstReactIndex&&(_equation4.visible=!0),_equation4.visible&&_equation4.equationDat.priority<9900&&.01<_equation4.reactIndex/reactableMaxReactIndex&&(getNormalEq=!0))}var visibleEquations=[],_eq2;if(getNormalEq)for(var _i6=0,_length2=reactableEquations.length;_i6<_length2;_i6++){var _equation5=reactableEquations[_i6];9900<_equation5.equationDat.priority&&_equation5.visible&&_equation5.reactIndex/reactableMaxReactIndex<1e-4?_equation5.visible=!1:_equation5.visible&&visibleEquations.push(_equation5)}else for(var _i7=0,_length3=reactableEquations.length;_i7<_length3;_i7++){var _equation6=reactableEquations[_i7];_equation6.visible&&visibleEquations.push(_equation6)}if(0===visibleEquations.length)for(var _i8=0,_length4=reactableEquations.length;_i8<_length4;_i8++){var _equation7=reactableEquations[_i8],priority=_equation7.equationDat.priority;49<priority&&priority<9900&&visibleEquations.push(_equation7)}return 1===visibleEquations.length&&(_eq2=visibleEquations[0],"H2CO3_H2CO3"===_eq2.equationDat.Name&&(_eq2.visible=!1,visibleEquations.length=0)),0<visibleEquations.length&&container.conf_chemical_equation&&EquationUtil.convertIonEquationToChemEquation(visibleEquations,container),reactableEquations}},EquationUtil.convertIonEquationToChemEquation=function(e,t){if(e instanceof Array)for(var i=0,n=e.length;i<n;i++)EquationUtil.convertIonEquationToChemEquation(e[i],t);else{LiquidVO=LiquidVO||__webpack_require__(33),IonVO=IonVO||__webpack_require__(100);for(var a=t.medicineManager,r=e.reactants,o=e.products,s={},l=e.equationDat,h=l.Modulus,c=new _map.default,u=[],d=[],p=!1,f=0,I=r.length;f<I;f++){var g,m=r[f];m.med.type===MedicineType.ION?(g=m.med.name+m.med.valence,s[g]||(s[g]={med:null,num:-1/0,count1:h[f],count2:0,commonCount:0}),p=!0):u.push({name:m.med.name,count:h[f]})}if(p||!e.equationDat||-1!=e.equationDat.PhysicalState.indexOf("i")){for(var y=t.medicineData.ionMedicineAry,v=1===e.products.length&&"H2O"===e.products[0].name,C=0,M=y.length;C<M;C++){var b=y[C],x=b.dat.ions;if("ion"!==b.dat.type&&(!v||!b.dat.kab))for(var O=0,A=x.length;O<A;O++){var T=x[O],S=s[T.name+T.valence],w=!(!t.ionOrigin||!t.ionOrigin.has(T.name)||t.ionOrigin.get(T.name).name!==b.name),B=T.count*b.mol;S&&(B>S.num||w)&&(S.num=B,S.med=b,S.count2=T.count,S.anoIon=0===O?x[1]:x[0])}}var D,P,L=1;for(D in s){var N=s[D],J=NBMath.getLCM(N.count1,N.count2);N.commonCount=J,N.count=J/N.count2,N.mul=J/N.count1,L=NBMath.getLCM(L,N.mul)}for(P in 1!==L&&(h=h.map(function(e){return e*L}),u.forEach(function(e){e.count*=L})),s){var _=s[P];if(!_.med)return;var E=_.anoIon,k=E.name+"!"+E.valence,q=c.get(k);q?q.mol+=_.count1*_.anoIon.count*L/_.count2:c.set(k,new IonVO(E,_.count1*_.anoIon.count*L/_.count2))}for(var R=e.equationDat.Name.split("_").length,F=0,j=o.length;F<j;F++){var V,H,G,z=o[F].med;z.type===MedicineType.ION?(H=(V=z.dat).name+"!"+V.valence,(G=c.get(H))?G.mol+=h[F+R]:c.set(H,new IonVO(V,h[F+R]))):d.push({name:z.name,count:h[F+R]})}var X,W=[],Z=_createForOfIteratorHelper(c.values());try{for(Z.s();!(X=Z.n()).done;){var U=X.value;W.push(U)}}catch(e){Z.e(e)}finally{Z.f()}var K=ChemicalUtilTool.getLiquidFromIons(W,a);if(0!==K.size){var Y={Name:null,Reactants:[],Products:[],Modulus:[],Condition:l.Condition,specialPriority:l.specialPriority,priority:l.priority,reactionSign:l.reactionSign},Q={},$=Boolean(l.ReactStatus);if($)for(var ee=l.ReactStatus.split("-"),te=/(.+)(\(浓\)|\(稀\))/,ie=0,ne=ee.length;ie<ne;ie++){var ae=ee[ie],re=te.exec(ae);re&&(Q[re[1]]=ae)}for(var oe=[],se=new _set.default,le=0,he=u.length;le<he;le++){var ce,ue=u[le],de=ue.name;$&&(ce=(ce=Q[de])||Q[ChemicalUtilTool.convertToChemicalName(de)],oe.push(ce=ce||de)),Y.Reactants.push(de),se.add(de),Y.Modulus.push(ue.count)}for(var pe in s)(function(e){var t=s[e],e=Y.Reactants.findIndex(function(e){return e===t.med.name});if(-1!==e)return Y.Modulus[e]++;1<L/t.mul&&(t.count*=L/t.mul),Y.Reactants.push(t.med.name),oe.push(t.med.name),se.add(t.med.name),Y.Modulus.push(t.count)})(pe);var fe={},Ie=Boolean(l.ProductStatus);if(Ie)for(var ge=l.ProductStatus.split("-"),me=/(.+)(↑|↓)/,ye=0,ve=ge.length;ye<ve;ye++){var Ce=ge[ye],Me=me.exec(Ce);Me&&(fe[Me[1]]=Ce)}for(var be=[],xe=0,Oe=d.length;xe<Oe;xe++){var Ae,Te=d[xe],Se=Te.name;if(Ie&&(Ae=(Ae=fe[Se])||fe[ChemicalUtilTool.convertToChemicalName(Se)],be.push(Ae=Ae||Se)),se.has(Se))return void(e.visible=!1);Y.Products.push(Se),Y.Modulus.push(Te.count)}var we,Be=1,De=_createForOfIteratorHelper(K.keys());try{for(De.s();!(we=De.n()).done;){var Pe=we.value;Y.Products.push(Pe),be.push(Pe);var Le,Ne=K.get(Pe);Ne.mol%1!=0&&(Le=Ne.fractal,Be=NBMath.getLCM(Be,Le))}}catch(e){De.e(e)}finally{De.f()}if(1!==Be&&Be%1==0)for(var Je=0;Je<Y.Modulus.length;Je++)Y.Modulus[Je]*=Be;var _e,Ee=_createForOfIteratorHelper(K.keys());try{for(Ee.s();!(_e=Ee.n()).done;){var ke=_e.value,qe=K.get(ke).mol;if((qe*=Be)%1!=0)return void(e.visible=!1);Y.Modulus.push(qe)}}catch(e){Ee.e(e)}finally{Ee.f()}Ie&&(Y.ProductStatus=be.join("-")),$&&(Y.ReactStatus=oe.join("-")),Y.Name=Y.Reactants.join("_"),"K2CrO4_CH3COOH"===Y.Name&&4===Y.Modulus.length&&(Y.Modulus.push(2),Y.Products.push("CH3COOK")),"CaCO3_H2CO3"===Y.Name&&3===Y.Products.length&&(delete Y.ProductStatus,Y.Products=["Ca(HCO3)2"],Y.Modulus=[1,1,1]),"(NH4)2SO4_Ba(OH)2"===Y.Name&&(Y.ProductStatus="NH3H2O-BaSO4↓"),"SO2_Ca(OH)2"===Y.Name&&(Y.ProductStatus="H2O-CaSO3↓"),"Na2CO3_CH3COOH"===Y.Name&&(e.visible=!1,e.maxReactableMol*=.01),Y.Products.forEach(function(e,t){var i,n=Y.Reactants.indexOf(e);-1!==n&&(i=Y.Reactants.length+t,e=Y.Modulus[i],Y.Modulus[n]<e?(Y.Modulus[i]-=Y.Modulus[n],Y.Modulus.splice(n,1),Y.Reactants.splice(n,1)):Y.Modulus[n]>e?(Y.Modulus[n]-=Y.Modulus[i],Y.Modulus.splice(i,1),Y.Products.splice(t,1)):(Y.Modulus.splice(i,1),Y.Products.splice(t,1),Y.Modulus.splice(n,1),Y.Reactants.splice(n,1)))}),NBMath.GetGroupGCD(Y.Modulus),Y.Available=l.Available,e.showEquationDat=Y}else e.visible=!1}}},EquationUtil.checkPhystatus=function(e){if(!e.ProductStatus){for(var t=!1,i=!1,n=!1,a=e.Reactants.length,r=e.PhysicalState,o=0;o<a;o++){var s=r[o];"s"===s?t=!0:"g"===s?i=!0:"l"!==s&&"i"!==s||(n=!0)}if(!t||!i){for(var l=[],h=!1,c=e.Products,u=a,d=r.length;u<d;u++){var p=r[u],f=c[u-a];!t&&"s"===p&&n?(h=!0,f+="↓"):!i&&"g"===p&&n&&(h=!0,f+="↑"),l.push(f)}h&&(l=l.join("-"),e.ProductStatus=l)}}},EquationUtil.combineEquation=function(e){var t,i=new _map.default,n=new _map.default,a=-1/0,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,s=o.equation,l=o.lifeTime;delete o.index;var h=s.Reactants,c=s.Products,u=s.Modulus,d=s.PhysicalState;a<l&&(a=l);for(var p=h.length,f=h[0]===h[1]?1:p,I=0;I<f;I++){var g=h[I],m=u[I],y=d[I],v=i.get(g),C=n.get(g);C?(m=C.Modulus-=m)<=0&&(n.delete(g),v?v.Modulus-=m:0!==m&&(v={Modulus:-m,PhysicalState:y},i.set(g,v))):v?v.Modulus+=m:(v={Modulus:m,PhysicalState:y},i.set(g,v))}for(var M=0,b=c.length;M<b;M++){var x=c[M],O=n.get(x),A=u[p+M],T=d[p+M],S=i.get(x);S?(A=S.Modulus-=A)<=0&&(i.delete(x),O?O.Modulus-=A:0!==A&&(O={Modulus:-A,PhysicalState:T},n.set(x,O))):O?O.Modulus+=A:(O={Modulus:A,PhysicalState:T},n.set(x,O))}}}catch(e){r.e(e)}finally{r.f()}var w,B={},D=[],P=[],L=[],N=[],e={},J=_createForOfIteratorHelper(i.keys());try{for(J.s();!(w=J.n()).done;){var _=w.value;D.push(_);var E=i.get(_);L.push(E.Modulus),N.push(E.PhysicalState)}}catch(e){J.e(e)}finally{J.f()}e.Name=D.join("_")+L.join("@"),B.lifeTime=a,(B.equation=e).Reactants=D,e.Products=P,e.Modulus=L,e.PhysicalState=N;var k,q=_createForOfIteratorHelper(n.keys());try{for(q.s();!(k=q.n()).done;){var R=k.value;P.push(R);var F=n.get(R);L.push(F.Modulus),N.push(F.PhysicalState)}}catch(e){q.e(e)}finally{q.f()}return B},module.exports=EquationUtil},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),i=function(){function e(){(0,a.default)(this,e),this._map={}}return(0,r.default)(e,[{key:"map",get:function(){return this._map}},{key:"setData",value:function(e,t){this.map[e]=t}},{key:"getData",value:function(e){return this.map[e]}}]),e}();i.tag={CLIP_BOARD:"clipboard"},e.exports=i},function(e,t,i){"use strict";var n=JSON.parse('{"AcidBrownDropper":{"path":"assets/container/AcidBrownDropper","func":"chemical.container.AcidBrownDropper","type":"container"},"AcidBrownDroppingBottle":{"path":"assets/container/AcidBrownDroppingBottle","func":"chemical.container.AcidBrownDroppingBottle","type":"container"},"AcidBrownDroppingBottleGroup":{"path":"assets/container/AcidBrownDroppingBottleGroup","func":"chemical.container.AcidBrownDroppingBottleGroup","type":"container"},"AcidGlassDropper":{"path":"assets/container/AcidGlassDropper","func":"chemical.container.AcidGlassDropper","type":"container"},"AcidGlassDroppingBottle":{"path":"assets/container/AcidGlassDroppingBottle","func":"chemical.container.AcidGlassDroppingBottle","type":"container"},"AcidGlassDroppingBottleGroup":{"path":"assets/container/AcidGlassDroppingBottleGroup","func":"chemical.container.AcidGlassDroppingBottleGroup","type":"container"},"AlkaliBurette":{"path":"assets/container/AlkaliBurette","func":"chemical.container.AlkaliBurette","type":"container"},"Balloon":{"path":"assets/container/Balloon","func":"chemical.container.Balloon","type":"container"},"BasicDropper":{"path":"assets/container/BasicDropper","func":"chemical.container.BasicDropper","type":"container"},"BasicDroppingBottle":{"path":"assets/container/BasicDroppingBottle","func":"chemical.container.BasicDroppingBottle","type":"container"},"BasicDroppingBottleGroup":{"path":"assets/container/BasicDroppingBottleGroup","func":"chemical.container.BasicDroppingBottleGroup","type":"container"},"Beaker":{"path":"assets/container/Beaker","func":"chemical.container.Beaker","type":"container"},"BigBeaker":{"path":"assets/container/BigBeaker","func":"chemical.container.BigBeaker","type":"container"},"BigEvaporatingDish":{"path":"assets/container/BigEvaporatingDish","func":"chemical.container.BigEvaporatingDish","type":"container"},"BigHardGlassTube":{"path":"assets/container/BigHardGlassTube","func":"chemical.container.BigHardGlassTube","type":"container"},"BigTestTube":{"path":"assets/container/BigTestTube","func":"chemical.container.BigTestTube","type":"container"},"CO2Bottle":{"path":"assets/container/CO2Bottle","func":"chemical.container.CO2Bottle","type":"container"},"ConicalFlask100ml":{"path":"assets/container/ConicalFlask100ml","func":"chemical.container.ConicalFlask100ml","type":"container"},"ConicalFlask250ml":{"path":"assets/container/ConicalFlask250ml","func":"chemical.container.ConicalFlask250ml","type":"container"},"Crucible":{"path":"assets/container/Crucible","func":"chemical.container.Crucible","type":"container"},"DirtCup":{"path":"assets/container/DirtCup","func":"chemical.container.DirtCup","type":"container"},"DistillingFlask":{"path":"assets/container/DistillingFlask","func":"chemical.container.DistillingFlask","type":"container"},"DripBoard":{"path":"assets/container/DripBoard","func":"chemical.container.DripBoard","type":"container"},"DripHole":{"path":"assets/container/DripHole","func":"chemical.container.DripHole","type":"container"},"DroppingFunnel":{"path":"assets/container/DroppingFunnel","func":"chemical.container.DroppingFunnel","type":"container"},"DroppingFunnelWithBalancedPressure":{"path":"assets/container/DroppingFunnelWithBalancedPressure","func":"chemical.container.DroppingFunnelWithBalancedPressure","type":"container"},"DryingBottle":{"path":"assets/container/DryingBottle","func":"chemical.container.DryingBottle","type":"container"},"ElectrolysisUTubeWithSideNeck":{"path":"assets/container/ElectrolysisUTubeWithSideNeck","func":"chemical.container.ElectrolysisUTubeWithSideNeck","type":"container"},"ElectrolyticContainer":{"path":"assets/container/ElectrolyticContainer","func":"chemical.container.ElectrolyticContainer","type":"container"},"EvaporatingDish":{"path":"assets/container/EvaporatingDish","func":"chemical.container.EvaporatingDish","type":"container"},"ExhaledBreath":{"path":"assets/container/ExhaledBreath","func":"chemical.container.ExhaledBreath","type":"container"},"FlorenceFlask":{"path":"assets/container/FlorenceFlask","func":"chemical.container.FlorenceFlask","type":"container"},"FunnelBig":{"path":"assets/container/FunnelBig","func":"chemical.container.FunnelBig","type":"container"},"FunnelSmall":{"path":"assets/container/FunnelSmall","func":"chemical.container.FunnelSmall","type":"container"},"GasBottle":{"path":"assets/container/GasBottle","func":"chemical.container.GasBottle","type":"container"},"GasCollectingBottle":{"path":"assets/container/GasCollectingBottle","func":"chemical.container.GasCollectingBottle","type":"container"},"GasCollectingBottleOfDivide":{"path":"assets/container/GasCollectingBottleOfDivide","func":"chemical.container.GasCollectingBottleOfDivide","type":"container"},"GeiserBurette":{"path":"assets/container/GeiserBurette","func":"chemical.container.GeiserBurette","type":"container"},"HardGlassTube":{"path":"assets/container/HardGlassTube","func":"chemical.container.HardGlassTube","type":"container"},"HotWaterBath":{"path":"assets/container/HotWaterBath","func":"chemical.container.HotWaterBath","type":"container"},"HugeBeaker":{"path":"assets/container/HugeBeaker","func":"chemical.container.HugeBeaker","type":"container"},"IceWaterBath":{"path":"assets/container/IceWaterBath","func":"chemical.container.IceWaterBath","type":"container"},"InsulationBeaker":{"path":"assets/container/InsulationBeaker","func":"chemical.container.InsulationBeaker","type":"container"},"InsulationBeakerCombination":{"path":"assets/container/InsulationBeakerCombination","func":"chemical.container.InsulationBeakerCombination","type":"container"},"KippsApparatus":{"path":"assets/container/KippsApparatus","func":"chemical.container.KippsApparatus","type":"container"},"KippsCatheter":{"path":"assets/container/KippsCatheter","func":"chemical.container.KippsCatheter","type":"container"},"KippsCenter":{"path":"assets/container/KippsCenter","func":"chemical.container.KippsCenter","type":"container"},"KippsFunnel":{"path":"assets/container/KippsFunnel","func":"chemical.container.KippsFunnel","type":"container"},"LongNeckFunnel":{"path":"assets/container/LongNeckFunnel","func":"chemical.container.LongNeckFunnel","type":"container"},"MeasuringCylinder100ml":{"path":"assets/container/MeasuringCylinder100ml","func":"chemical.container.MeasuringCylinder100ml","type":"container"},"MeasuringCylinder10ml":{"path":"assets/container/MeasuringCylinder10ml","func":"chemical.container.MeasuringCylinder10ml","type":"container"},"MeasuringCylinder50ml":{"path":"assets/container/MeasuringCylinder50ml","func":"chemical.container.MeasuringCylinder50ml","type":"container"},"Mortar":{"path":"assets/container/Mortar","func":"chemical.container.Mortar","type":"container"},"MortarAndPestle":{"path":"assets/container/MortarAndPestle","func":"chemical.container.MortarAndPestle","type":"container"},"NO2Ball":{"path":"assets/container/NO2Ball","func":"chemical.container.NO2Ball","type":"container"},"NaClOBottle":{"path":"assets/container/NaClOBottle","func":"chemical.container.NaClOBottle","type":"container"},"NarrowMouthedBottle":{"path":"assets/container/NarrowMouthedBottle","func":"chemical.container.NarrowMouthedBottle","type":"container"},"NewUTubeWithSideNeck":{"path":"assets/container/NewUTubeWithSideNeck","func":"chemical.container.NewUTubeWithSideNeck","type":"container"},"PlasticHugeBeaker":{"path":"assets/container/PlasticHugeBeaker","func":"chemical.container.PlasticHugeBeaker","type":"container"},"PlasticWashBottle":{"path":"assets/container/PlasticWashBottle","func":"chemical.container.PlasticWashBottle","type":"container"},"Pledget":{"path":"assets/container/Pledget","func":"chemical.container.Pledget","type":"container"},"RoundBottomFlask":{"path":"assets/container/RoundBottomFlask","func":"chemical.container.RoundBottomFlask","type":"container"},"SeparatingFunnelBulbShape":{"path":"assets/container/SeparatingFunnelBulbShape","func":"chemical.container.SeparatingFunnelBulbShape","type":"container"},"SeparatingFunnelBulbShapeWithBalancedPressure":{"path":"assets/container/SeparatingFunnelBulbShapeWithBalancedPressure","func":"chemical.container.SeparatingFunnelBulbShapeWithBalancedPressure","type":"container"},"SeparatingFunnelBulbShapeWithHose":{"path":"assets/container/SeparatingFunnelBulbShapeWithHose","func":"chemical.container.SeparatingFunnelBulbShapeWithHose","type":"container"},"SeparatingFunnelPearShape":{"path":"assets/container/SeparatingFunnelPearShape","func":"chemical.container.SeparatingFunnelPearShape","type":"container"},"SeparatingFunnelStraight":{"path":"assets/container/SeparatingFunnelStraight","func":"chemical.container.SeparatingFunnelStraight","type":"container"},"SmallBeaker":{"path":"assets/container/SmallBeaker","func":"chemical.container.SmallBeaker","type":"container"},"SmallRoundBottomFlask":{"path":"assets/container/SmallRoundBottomFlask","func":"chemical.container.SmallRoundBottomFlask","type":"container"},"SmallTestTube":{"path":"assets/container/SmallTestTube","func":"chemical.container.SmallTestTube","type":"container"},"TestTubeWithSideNeck":{"path":"assets/container/TestTubeWithSideNeck","func":"chemical.container.TestTubeWithSideNeck","type":"container"},"ThreeNeckedFlask":{"path":"assets/container/ThreeNeckedFlask","func":"chemical.container.ThreeNeckedFlask","type":"container"},"ToiletCleaner":{"path":"assets/container/ToiletCleaner","func":"chemical.container.ToiletCleaner","type":"container"},"UDryingTube":{"path":"assets/container/UDryingTube","func":"chemical.container.UDryingTube","type":"container"},"UDryingTubeOfCaO":{"path":"assets/container/UDryingTubeOfCaO","func":"chemical.container.UDryingTubeOfCaO","type":"container"},"UShapeTube":{"path":"assets/container/UShapeTube","func":"chemical.container.UShapeTube","type":"container"},"UShapeTubeGroup":{"path":"assets/container/UShapeTubeGroup","func":"chemical.container.UShapeTubeGroup","type":"container"},"UTube":{"path":"assets/container/UTube","func":"chemical.container.UTube","type":"container"},"UTubeWithSideNeck":{"path":"assets/container/UTubeWithSideNeck","func":"chemical.container.UTubeWithSideNeck","type":"container"},"UTubeWithSideNeckLeft":{"path":"assets/container/UTubeWithSideNeckLeft","func":"chemical.container.UTubeWithSideNeckLeft","type":"container"},"UTubeWithSideNeckRight":{"path":"assets/container/UTubeWithSideNeckRight","func":"chemical.container.UTubeWithSideNeckRight","type":"container"},"VolumetricFlask100ml":{"path":"assets/container/VolumetricFlask100ml","func":"chemical.container.VolumetricFlask100ml","type":"container"},"VolumetricFlask250ml":{"path":"assets/container/VolumetricFlask250ml","func":"chemical.container.VolumetricFlask250ml","type":"container"},"VolumetricFlask50ml":{"path":"assets/container/VolumetricFlask50ml","func":"chemical.container.VolumetricFlask50ml","type":"container"},"WasteWaterVat":{"path":"assets/container/WasteWaterVat","func":"chemical.container.WasteWaterVat","type":"container"},"WatchGlass":{"path":"assets/container/WatchGlass","func":"chemical.container.WatchGlass","type":"container"},"WideMouthedBottle":{"path":"assets/container/WideMouthedBottle","func":"chemical.container.WideMouthedBottle","type":"container"},"WildMouthedBottle":{"path":"assets/container/WildMouthedBottle","func":"chemical.container.WildMouthedBottle","type":"container"},"ADropper":{"path":"assets/assist/ADropper","func":"chemical.assist.ADropper","type":"assist"},"AbrasiveCotton":{"path":"assets/assist/AbrasiveCotton","func":"chemical.assist.AbrasiveCotton","type":"assist"},"AbrasivePaper":{"path":"assets/assist/AbrasivePaper","func":"chemical.assist.AbrasivePaper","type":"assist"},"AcidGasDryingDevice":{"path":"assets/assist/AcidGasDryingDevice","func":"chemical.assist.AcidGasDryingDevice","type":"assist"},"AirBalloon":{"path":"assets/assist/AirBalloon","func":"chemical.assist.AirBalloon","type":"assist"},"AlcoholBurner":{"path":"assets/assist/AlcoholBurner","func":"chemical.assist.AlcoholBurner","type":"assist"},"AlcoholLampNetCover":{"path":"assets/assist/AlcoholLampNetCover","func":"chemical.assist.AlcoholLampNetCover","type":"assist"},"AlcoholSprayBottle":{"path":"assets/assist/AlcoholSprayBottle","func":"chemical.assist.AlcoholSprayBottle","type":"assist"},"AlkGasDryingDevice":{"path":"assets/assist/AlkGasDryingDevice","func":"chemical.assist.AlkGasDryingDevice","type":"assist"},"AlphaParticleScattering":{"path":"assets/assist/AlphaParticleScattering","func":"chemical.assist.AlphaParticleScattering","type":"assist"},"AsbestosFreeWireGauze":{"path":"assets/assist/AsbestosFreeWireGauze","func":"chemical.assist.AsbestosFreeWireGauze","type":"assist"},"AsbestosFreeWireGauzeSpecil":{"path":"assets/assist/AsbestosFreeWireGauzeSpecil","func":"chemical.assist.AsbestosFreeWireGauzeSpecil","type":"assist"},"Balance":{"path":"assets/assist/Balance","func":"chemical.assist.Balance","type":"assist"},"Battery":{"path":"assets/assist/Battery","func":"chemical.assist.Battery","type":"assist"},"BigPlasticInjector":{"path":"assets/assist/BigPlasticInjector","func":"chemical.assist.BigPlasticInjector","type":"assist"},"BlackWire":{"path":"assets/assist/BlackWire","func":"chemical.assist.BlackWire","type":"assist"},"BlanceAndWeightBox":{"path":"assets/assist/BlanceAndWeightBox","func":"chemical.assist.BlanceAndWeightBox","type":"assist"},"BlastAlcoholBurner":{"path":"assets/assist/BlastAlcoholBurner","func":"chemical.assist.BlastAlcoholBurner","type":"assist"},"BlastAlcoholBurnerWithAlcohol":{"path":"assets/assist/BlastAlcoholBurnerWithAlcohol","func":"chemical.assist.BlastAlcoholBurnerWithAlcohol","type":"assist"},"BlueLitmusPaper":{"path":"assets/assist/BlueLitmusPaper","func":"chemical.assist.BlueLitmusPaper","type":"assist"},"BunsenBurner":{"path":"assets/assist/BunsenBurner","func":"chemical.assist.BunsenBurner","type":"assist"},"Candle":{"path":"assets/assist/Candle","func":"chemical.assist.Candle","type":"assist"},"Catheter":{"path":"assets/assist/Catheter","func":"chemical.assist.Catheter","type":"assist"},"CatheterAndPlugGroup":{"path":"assets/assist/CatheterAndPlugGroup","func":"chemical.assist.CatheterAndPlugGroup","type":"assist"},"CatheterGroup":{"path":"assets/assist/CatheterGroup","func":"chemical.assist.CatheterGroup","type":"assist"},"CatheterGroupWhole":{"path":"assets/assist/CatheterGroupWhole","func":"chemical.assist.CatheterGroupWhole","type":"assist"},"CatheterSoft":{"path":"assets/assist/CatheterSoft","func":"chemical.assist.CatheterSoft","type":"assist"},"ClothStrap":{"path":"assets/assist/ClothStrap","func":"chemical.assist.ClothStrap","type":"assist"},"CobaltGlass":{"path":"assets/assist/CobaltGlass","func":"chemical.assist.CobaltGlass","type":"assist"},"CombustionSpoon":{"path":"assets/assist/CombustionSpoon","func":"chemical.assist.CombustionSpoon","type":"assist"},"Compressor":{"path":"assets/assist/Compressor","func":"chemical.assist.Compressor","type":"assist"},"CondenserPipeSphere":{"path":"assets/assist/CondenserPipeSphere","func":"chemical.assist.CondenserPipeSphere","type":"assist"},"CondenserPipeStraight":{"path":"assets/assist/CondenserPipeStraight","func":"chemical.assist.CondenserPipeStraight","type":"assist"},"CondenserTube":{"path":"assets/assist/CondenserTube","func":"chemical.assist.CondenserTube","type":"assist"},"CondenserTubeForOrganic":{"path":"assets/assist/CondenserTubeForOrganic","func":"chemical.assist.CondenserTubeForOrganic","type":"assist"},"CopperSheet":{"path":"assets/assist/CopperSheet","func":"chemical.assist.CopperSheet","type":"assist"},"CopperWire":{"path":"assets/assist/CopperWire","func":"chemical.assist.CopperWire","type":"assist"},"CorrosionConditionTester":{"path":"assets/assist/CorrosionConditionTester","func":"chemical.assist.CorrosionConditionTester","type":"assist"},"Cotton":{"path":"assets/assist/Cotton","func":"chemical.assist.Cotton","type":"assist"},"CrucibleCover":{"path":"assets/assist/CrucibleCover","func":"chemical.assist.CrucibleCover","type":"assist"},"CrucibleTong":{"path":"assets/assist/CrucibleTong","func":"chemical.assist.CrucibleTong","type":"assist"},"DoubleBuretClamp":{"path":"assets/assist/DoubleBuretClamp","func":"chemical.assist.DoubleBuretClamp","type":"assist"},"DoubleHoleRubberPlugBig":{"path":"assets/assist/DoubleHoleRubberPlugBig","func":"chemical.assist.DoubleHoleRubberPlugBig","type":"assist"},"DoubleHoleRubberPlugSmall":{"path":"assets/assist/DoubleHoleRubberPlugSmall","func":"chemical.assist.DoubleHoleRubberPlugSmall","type":"assist"},"DownwardExhaustDevice":{"path":"assets/assist/DownwardExhaustDevice","func":"chemical.assist.DownwardExhaustDevice","type":"assist"},"DrainageWaterColGasDevice":{"path":"assets/assist/DrainageWaterColGasDevice","func":"chemical.assist.DrainageWaterColGasDevice","type":"assist"},"DryingTube":{"path":"assets/assist/DryingTube","func":"chemical.assist.DryingTube","type":"assist"},"DryingTubeOfCaO":{"path":"assets/assist/DryingTubeOfCaO","func":"chemical.assist.DryingTubeOfCaO","type":"assist"},"DryingTubeOfP2O5":{"path":"assets/assist/DryingTubeOfP2O5","func":"chemical.assist.DryingTubeOfP2O5","type":"assist"},"DustExplode":{"path":"assets/assist/DustExplode","func":"chemical.assist.DustExplode","type":"assist"},"EleGraph":{"path":"assets/assist/EleGraph","func":"chemical.assist.EleGraph","type":"assist"},"EleTester":{"path":"assets/assist/EleTester","func":"chemical.assist.EleTester","type":"assist"},"ElectricityAluminumKryptol":{"path":"assets/assist/ElectricityAluminumKryptol","func":"chemical.assist.ElectricityAluminumKryptol","type":"assist"},"ElectricityAluminumSilver":{"path":"assets/assist/ElectricityAluminumSilver","func":"chemical.assist.ElectricityAluminumSilver","type":"assist"},"ElectricityCopperKryptol":{"path":"assets/assist/ElectricityCopperKryptol","func":"chemical.assist.ElectricityCopperKryptol","type":"assist"},"ElectricityIronKryptol":{"path":"assets/assist/ElectricityIronKryptol","func":"chemical.assist.ElectricityIronKryptol","type":"assist"},"ElectricityMagnesiumKryptol":{"path":"assets/assist/ElectricityMagnesiumKryptol","func":"chemical.assist.ElectricityMagnesiumKryptol","type":"assist"},"ElectricityPieceCopper":{"path":"assets/assist/ElectricityPieceCopper","func":"chemical.assist.ElectricityPieceCopper","type":"assist"},"ElectricityPieceIron":{"path":"assets/assist/ElectricityPieceIron","func":"chemical.assist.ElectricityPieceIron","type":"assist"},"ElectricityPieceKryptol":{"path":"assets/assist/ElectricityPieceKryptol","func":"chemical.assist.ElectricityPieceKryptol","type":"assist"},"ElectricityPieceKryptolWithCatalyst":{"path":"assets/assist/ElectricityPieceKryptolWithCatalyst","func":"chemical.assist.ElectricityPieceKryptolWithCatalyst","type":"assist"},"ElectricityPieceMagnesium":{"path":"assets/assist/ElectricityPieceMagnesium","func":"chemical.assist.ElectricityPieceMagnesium","type":"assist"},"ElectricityPieceSilver":{"path":"assets/assist/ElectricityPieceSilver","func":"chemical.assist.ElectricityPieceSilver","type":"assist"},"ElectricityPieceZinePlate":{"path":"assets/assist/ElectricityPieceZinePlate","func":"chemical.assist.ElectricityPieceZinePlate","type":"assist"},"ElectricityPlatinumKryptol":{"path":"assets/assist/ElectricityPlatinumKryptol","func":"chemical.assist.ElectricityPlatinumKryptol","type":"assist"},"ElectricitySilverKryptol":{"path":"assets/assist/ElectricitySilverKryptol","func":"chemical.assist.ElectricitySilverKryptol","type":"assist"},"ElectricityZineKryptol":{"path":"assets/assist/ElectricityZineKryptol","func":"chemical.assist.ElectricityZineKryptol","type":"assist"},"ElectrolyticBridge":{"path":"assets/assist/ElectrolyticBridge","func":"chemical.assist.ElectrolyticBridge","type":"assist"},"ElectronicBalance":{"path":"assets/assist/ElectronicBalance","func":"chemical.assist.ElectronicBalance","type":"assist"},"ElectronicEngineering":{"path":"assets/assist/ElectronicEngineering","func":"chemical.assist.ElectronicEngineering","type":"assist"},"ElevatorPlatform":{"path":"assets/assist/ElevatorPlatform","func":"chemical.assist.ElevatorPlatform","type":"assist"},"ExhaustGasTreatmentDevice":{"path":"assets/assist/ExhaustGasTreatmentDevice","func":"chemical.assist.ExhaustGasTreatmentDevice","type":"assist"},"FireWorks":{"path":"assets/assist/FireWorks","func":"chemical.assist.FireWorks","type":"assist"},"Flashlight":{"path":"assets/assist/Flashlight","func":"chemical.assist.Flashlight","type":"assist"},"FlaskBrush":{"path":"assets/assist/FlaskBrush","func":"chemical.assist.FlaskBrush","type":"assist"},"FlatjawPinchcock":{"path":"assets/assist/FlatjawPinchcock","func":"chemical.assist.FlatjawPinchcock","type":"assist"},"Flume":{"path":"assets/assist/Flume","func":"chemical.assist.Flume","type":"assist"},"Forceps":{"path":"assets/assist/Forceps","func":"chemical.assist.Forceps","type":"assist"},"FoundationPlate":{"path":"assets/assist/FoundationPlate","func":"chemical.assist.FoundationPlate","type":"assist"},"FuelCellDevice":{"path":"assets/assist/FuelCellDevice","func":"chemical.assist.FuelCellDevice","type":"assist"},"Galvanometer":{"path":"assets/assist/Galvanometer","func":"chemical.assist.Galvanometer","type":"assist"},"GasScrubbingDevice":{"path":"assets/assist/GasScrubbingDevice","func":"chemical.assist.GasScrubbingDevice","type":"assist"},"GasTailGlassCatheter":{"path":"assets/assist/GasTailGlassCatheter","func":"chemical.assist.GasTailGlassCatheter","type":"assist"},"GasTailGlassCatheter120":{"path":"assets/assist/GasTailGlassCatheter120","func":"chemical.assist.GasTailGlassCatheter120","type":"assist"},"GlassBar":{"path":"assets/assist/GlassBar","func":"chemical.assist.GlassBar","type":"assist"},"GlassCatheterGroup":{"path":"assets/assist/GlassCatheterGroup","func":"chemical.assist.GlassCatheterGroup","type":"assist"},"GlassCatheterLeft":{"path":"assets/assist/GlassCatheterLeft","func":"chemical.assist.GlassCatheterLeft","type":"assist"},"GlassCatheterRight":{"path":"assets/assist/GlassCatheterRight","func":"chemical.assist.GlassCatheterRight","type":"assist"},"GlassPiece":{"path":"assets/assist/GlassPiece","func":"chemical.assist.GlassPiece","type":"assist"},"GlassRubberCatheter":{"path":"assets/assist/GlassRubberCatheter","func":"chemical.assist.GlassRubberCatheter","type":"assist"},"GlassSheet":{"path":"assets/assist/GlassSheet","func":"chemical.assist.GlassSheet","type":"assist"},"HeatDeviceOfSolidAndLiquid":{"path":"assets/assist/HeatDeviceOfSolidAndLiquid","func":"chemical.assist.HeatDeviceOfSolidAndLiquid","type":"assist"},"HeatDeviceOfSolidAndSolid":{"path":"assets/assist/HeatDeviceOfSolidAndSolid","func":"chemical.assist.HeatDeviceOfSolidAndSolid","type":"assist"},"HoffmanElectrolyticDevice":{"path":"assets/assist/HoffmanElectrolyticDevice","func":"chemical.assist.HoffmanElectrolyticDevice","type":"assist"},"HotTowel":{"path":"assets/assist/HotTowel","func":"chemical.assist.HotTowel","type":"assist"},"HugePlasticInjector":{"path":"assets/assist/HugePlasticInjector","func":"chemical.assist.HugePlasticInjector","type":"assist"},"IronClamp":{"path":"assets/assist/IronClamp","func":"chemical.assist.IronClamp","type":"assist"},"IronClampSideLook":{"path":"assets/assist/IronClampSideLook","func":"chemical.assist.IronClampSideLook","type":"assist"},"IronRing":{"path":"assets/assist/IronRing","func":"chemical.assist.IronRing","type":"assist"},"IronSheet":{"path":"assets/assist/IronSheet","func":"chemical.assist.IronSheet","type":"assist"},"IronSupport":{"path":"assets/assist/IronSupport","func":"chemical.assist.IronSupport","type":"assist"},"IronSupportWithClamp":{"path":"assets/assist/IronSupportWithClamp","func":"chemical.assist.IronSupportWithClamp","type":"assist"},"IronSupportWithRing":{"path":"assets/assist/IronSupportWithRing","func":"chemical.assist.IronSupportWithRing","type":"assist"},"IronWire":{"path":"assets/assist/IronWire","func":"chemical.assist.IronWire","type":"assist"},"IronWireWithWooden":{"path":"assets/assist/IronWireWithWooden","func":"chemical.assist.IronWireWithWooden","type":"assist"},"KnifeSmall":{"path":"assets/assist/KnifeSmall","func":"chemical.assist.KnifeSmall","type":"assist"},"LabLRFY":{"path":"assets/assist/LabLRFY","func":"chemical.assist.LabLRFY","type":"assist"},"LabSpoon":{"path":"assets/assist/LabSpoon","func":"chemical.assist.LabSpoon","type":"assist"},"LaserPen":{"path":"assets/assist/LaserPen","func":"chemical.assist.LaserPen","type":"assist"},"LightBulb":{"path":"assets/assist/LightBulb","func":"chemical.assist.LightBulb","type":"assist"},"LongADropper":{"path":"assets/assist/LongADropper","func":"chemical.assist.LongADropper","type":"assist"},"LongIronClampSideLook":{"path":"assets/assist/LongIronClampSideLook","func":"chemical.assist.LongIronClampSideLook","type":"assist"},"MagnesiumRibbon":{"path":"assets/assist/MagnesiumRibbon","func":"chemical.assist.MagnesiumRibbon","type":"assist"},"Magnifier":{"path":"assets/assist/Magnifier","func":"chemical.assist.Magnifier","type":"assist"},"MakingGasOfSolidAndLiquid":{"path":"assets/assist/MakingGasOfSolidAndLiquid","func":"chemical.assist.MakingGasOfSolidAndLiquid","type":"assist"},"Mantou":{"path":"assets/assist/Mantou","func":"chemical.assist.Mantou","type":"assist"},"Match":{"path":"assets/assist/Match","func":"chemical.assist.Match","type":"assist"},"MatchStick":{"path":"assets/assist/MatchStick","func":"chemical.assist.MatchStick","type":"assist"},"MedicineBottleWithHole":{"path":"assets/assist/MedicineBottleWithHole","func":"chemical.assist.MedicineBottleWithHole","type":"assist"},"MortarPestle":{"path":"assets/assist/MortarPestle","func":"chemical.assist.MortarPestle","type":"assist"},"MudTriangle":{"path":"assets/assist/MudTriangle","func":"chemical.assist.MudTriangle","type":"assist"},"MultifunctionalBottle":{"path":"assets/assist/MultifunctionalBottle","func":"chemical.assist.MultifunctionalBottle","type":"assist"},"NO2BallGroup":{"path":"assets/assist/NO2BallGroup","func":"chemical.assist.NO2BallGroup","type":"assist"},"NewIceWaterBath":{"path":"assets/assist/NewIceWaterBath","func":"chemical.assist.NewIceWaterBath","type":"assist"},"NonPorousRubberPlugBig":{"path":"assets/assist/NonPorousRubberPlugBig","func":"chemical.assist.NonPorousRubberPlugBig","type":"assist"},"NonPorousRubberPlugHuge":{"path":"assets/assist/NonPorousRubberPlugHuge","func":"chemical.assist.NonPorousRubberPlugHuge","type":"assist"},"NonPorousRubberPlugSmall":{"path":"assets/assist/NonPorousRubberPlugSmall","func":"chemical.assist.NonPorousRubberPlugSmall","type":"assist"},"PaperChannel":{"path":"assets/assist/PaperChannel","func":"chemical.assist.PaperChannel","type":"assist"},"PaperFlower":{"path":"assets/assist/PaperFlower","func":"chemical.assist.PaperFlower","type":"assist"},"ParaffinGlass":{"path":"assets/assist/ParaffinGlass","func":"chemical.assist.ParaffinGlass","type":"assist"},"PePanel":{"path":"assets/assist/PePanel","func":"chemical.assist.PePanel","type":"assist"},"PerforatedDisc":{"path":"assets/assist/PerforatedDisc","func":"chemical.assist.PerforatedDisc","type":"assist"},"PhTester":{"path":"assets/assist/PhTester","func":"chemical.assist.PhTester","type":"assist"},"PhTesterPlate":{"path":"assets/assist/PhTesterPlate","func":"chemical.assist.PhTesterPlate","type":"assist"},"PhTesterProbe":{"path":"assets/assist/PhTesterProbe","func":"chemical.assist.PhTesterProbe","type":"assist"},"PhTesterWire":{"path":"assets/assist/PhTesterWire","func":"chemical.assist.PhTesterWire","type":"assist"},"PhenolphthaleinTestPaper":{"path":"assets/assist/PhenolphthaleinTestPaper","func":"chemical.assist.PhenolphthaleinTestPaper","type":"assist"},"PlasticBag":{"path":"assets/assist/PlasticBag","func":"chemical.assist.PlasticBag","type":"assist"},"PlasticBrick":{"path":"assets/assist/PlasticBrick","func":"chemical.assist.PlasticBrick","type":"assist"},"PlasticInjector":{"path":"assets/assist/PlasticInjector","func":"chemical.assist.PlasticInjector","type":"assist"},"PlateCladCu":{"path":"assets/assist/PlateCladCu","func":"chemical.assist.PlateCladCu","type":"assist"},"PlatinumWire":{"path":"assets/assist/PlatinumWire","func":"chemical.assist.PlatinumWire","type":"assist"},"PowerSwitch":{"path":"assets/assist/PowerSwitch","func":"chemical.assist.PowerSwitch","type":"assist"},"PureCopper":{"path":"assets/assist/PureCopper","func":"chemical.assist.PureCopper","type":"assist"},"QualitativeFilterPaper":{"path":"assets/assist/QualitativeFilterPaper","func":"chemical.assist.QualitativeFilterPaper","type":"assist"},"RedLitmusPaper":{"path":"assets/assist/RedLitmusPaper","func":"chemical.assist.RedLitmusPaper","type":"assist"},"ResinBag":{"path":"assets/assist/ResinBag","func":"chemical.assist.ResinBag","type":"assist"},"RingStirBar":{"path":"assets/assist/RingStirBar","func":"chemical.assist.RingStirBar","type":"assist"},"RotateGlassCatheter":{"path":"assets/assist/RotateGlassCatheter","func":"chemical.assist.RotateGlassCatheter","type":"assist"},"RubberCatheter":{"path":"assets/assist/RubberCatheter","func":"chemical.assist.RubberCatheter","type":"assist"},"RubberCatheterBrown":{"path":"assets/assist/RubberCatheterBrown","func":"chemical.assist.RubberCatheterBrown","type":"assist"},"RubberTube":{"path":"assets/assist/RubberTube","func":"chemical.assist.RubberTube","type":"assist"},"RustConditionTester":{"path":"assets/assist/RustConditionTester","func":"chemical.assist.RustConditionTester","type":"assist"},"Scissors":{"path":"assets/assist/Scissors","func":"chemical.assist.Scissors","type":"assist"},"ShapeGlassCatheter":{"path":"assets/assist/ShapeGlassCatheter","func":"chemical.assist.ShapeGlassCatheter","type":"assist"},"SharpNoseGlassTube":{"path":"assets/assist/SharpNoseGlassTube","func":"chemical.assist.SharpNoseGlassTube","type":"assist"},"Siderosphere":{"path":"assets/assist/Siderosphere","func":"chemical.assist.Siderosphere","type":"assist"},"SingleChannelPhTester":{"path":"assets/assist/SingleChannelPhTester","func":"chemical.assist.SingleChannelPhTester","type":"assist"},"SingleHoleRubberPlugBig":{"path":"assets/assist/SingleHoleRubberPlugBig","func":"chemical.assist.SingleHoleRubberPlugBig","type":"assist"},"SingleHoleRubberPlugSmall":{"path":"assets/assist/SingleHoleRubberPlugSmall","func":"chemical.assist.SingleHoleRubberPlugSmall","type":"assist"},"SmallCombustionSpoon":{"path":"assets/assist/SmallCombustionSpoon","func":"chemical.assist.SmallCombustionSpoon","type":"assist"},"SpotPlate":{"path":"assets/assist/SpotPlate","func":"chemical.assist.SpotPlate","type":"assist"},"StarchKITestPaper":{"path":"assets/assist/StarchKITestPaper","func":"chemical.assist.StarchKITestPaper","type":"assist"},"Stopwatch":{"path":"assets/assist/Stopwatch","func":"chemical.assist.Stopwatch","type":"assist"},"StraightGlassCatheter":{"path":"assets/assist/StraightGlassCatheter","func":"chemical.assist.StraightGlassCatheter","type":"assist"},"StraightGlassWithBalloon":{"path":"assets/assist/StraightGlassWithBalloon","func":"chemical.assist.StraightGlassWithBalloon","type":"assist"},"SyringeNeedle":{"path":"assets/assist/SyringeNeedle","func":"chemical.assist.SyringeNeedle","type":"assist"},"TGlassCatheter":{"path":"assets/assist/TGlassCatheter","func":"chemical.assist.TGlassCatheter","type":"assist"},"TailNozzle":{"path":"assets/assist/TailNozzle","func":"chemical.assist.TailNozzle","type":"assist"},"TestElectricalConductivity":{"path":"assets/assist/TestElectricalConductivity","func":"chemical.assist.TestElectricalConductivity","type":"assist"},"TestPaper":{"path":"assets/assist/TestPaper","func":"chemical.assist.TestPaper","type":"assist"},"TestTubeHolder":{"path":"assets/assist/TestTubeHolder","func":"chemical.assist.TestTubeHolder","type":"assist"},"TestTubeRack":{"path":"assets/assist/TestTubeRack","func":"chemical.assist.TestTubeRack","type":"assist"},"Thermometer":{"path":"assets/assist/Thermometer","func":"chemical.assist.Thermometer","type":"assist"},"ThermometerPlus":{"path":"assets/assist/ThermometerPlus","func":"chemical.assist.ThermometerPlus","type":"assist"},"ThermometerScale":{"path":"assets/assist/ThermometerScale","func":"chemical.assist.ThermometerScale","type":"assist"},"Tissue":{"path":"assets/assist/Tissue","func":"chemical.assist.Tissue","type":"assist"},"TissueBox":{"path":"assets/assist/TissueBox","func":"chemical.assist.TissueBox","type":"assist"},"Tripod":{"path":"assets/assist/Tripod","func":"chemical.assist.Tripod","type":"assist"},"TurnBrush":{"path":"assets/assist/TurnBrush","func":"chemical.assist.TurnBrush","type":"assist"},"UniversalPhIndicatorPaper":{"path":"assets/assist/UniversalPhIndicatorPaper","func":"chemical.assist.UniversalPhIndicatorPaper","type":"assist"},"UpwardExhaustDevice":{"path":"assets/assist/UpwardExhaustDevice","func":"chemical.assist.UpwardExhaustDevice","type":"assist"},"VacuumGlassTube":{"path":"assets/assist/VacuumGlassTube","func":"chemical.assist.VacuumGlassTube","type":"assist"},"WaterBath":{"path":"assets/assist/WaterBath","func":"chemical.assist.WaterBath","type":"assist"},"WaterBathWithIronPillar":{"path":"assets/assist/WaterBathWithIronPillar","func":"chemical.assist.WaterBathWithIronPillar","type":"assist"},"WaterBathWithLongIronClamp":{"path":"assets/assist/WaterBathWithLongIronClamp","func":"chemical.assist.WaterBathWithLongIronClamp","type":"assist"},"WeighingPaper":{"path":"assets/assist/WeighingPaper","func":"chemical.assist.WeighingPaper","type":"assist"},"WeightBox":{"path":"assets/assist/WeightBox","func":"chemical.assist.WeightBox","type":"assist"},"Wire":{"path":"assets/assist/Wire","func":"chemical.assist.Wire","type":"assist"},"WoodBlock":{"path":"assets/assist/WoodBlock","func":"chemical.assist.WoodBlock","type":"assist"},"WoodenCover":{"path":"assets/assist/WoodenCover","func":"chemical.assist.WoodenCover","type":"assist"},"WoodenStick":{"path":"assets/assist/WoodenStick","func":"chemical.assist.WoodenStick","type":"assist"},"YGlassCatheter":{"path":"assets/assist/YGlassCatheter","func":"chemical.assist.YGlassCatheter","type":"assist"},"BlockAl":{"path":"assets/interactiveMedicine/BlockAl","func":"chemical.interactiveMedicine.BlockAl","type":"interactiveMedicine"},"BlockC":{"path":"assets/interactiveMedicine/BlockC","func":"chemical.interactiveMedicine.BlockC","type":"interactiveMedicine"},"BlockC15H12O4":{"path":"assets/interactiveMedicine/BlockC15H12O4","func":"chemical.interactiveMedicine.BlockC15H12O4","type":"interactiveMedicine"},"BlockC16H14O4":{"path":"assets/interactiveMedicine/BlockC16H14O4","func":"chemical.interactiveMedicine.BlockC16H14O4","type":"interactiveMedicine"},"BlockC6H10O5":{"path":"assets/interactiveMedicine/BlockC6H10O5","func":"chemical.interactiveMedicine.BlockC6H10O5","type":"interactiveMedicine"},"BlockC9H8O4":{"path":"assets/interactiveMedicine/BlockC9H8O4","func":"chemical.interactiveMedicine.BlockC9H8O4","type":"interactiveMedicine"},"BlockCa":{"path":"assets/interactiveMedicine/BlockCa","func":"chemical.interactiveMedicine.BlockCa","type":"interactiveMedicine"},"BlockCaC2":{"path":"assets/interactiveMedicine/BlockCaC2","func":"chemical.interactiveMedicine.BlockCaC2","type":"interactiveMedicine"},"BlockCaCO3":{"path":"assets/interactiveMedicine/BlockCaCO3","func":"chemical.interactiveMedicine.BlockCaCO3","type":"interactiveMedicine"},"BlockCu":{"path":"assets/interactiveMedicine/BlockCu","func":"chemical.interactiveMedicine.BlockCu","type":"interactiveMedicine"},"BlockCu2":{"path":"assets/interactiveMedicine/BlockCu2","func":"chemical.interactiveMedicine.BlockCu2","type":"interactiveMedicine"},"BlockCuSO45H2O":{"path":"assets/interactiveMedicine/BlockCuSO45H2O","func":"chemical.interactiveMedicine.BlockCuSO45H2O","type":"interactiveMedicine"},"BlockFe":{"path":"assets/interactiveMedicine/BlockFe","func":"chemical.interactiveMedicine.BlockFe","type":"interactiveMedicine"},"BlockFeIm":{"path":"assets/interactiveMedicine/BlockFeIm","func":"chemical.interactiveMedicine.BlockFeIm","type":"interactiveMedicine"},"BlockFilterPaper":{"path":"assets/interactiveMedicine/BlockFilterPaper","func":"chemical.interactiveMedicine.BlockFilterPaper","type":"interactiveMedicine"},"BlockFungus":{"path":"assets/interactiveMedicine/BlockFungus","func":"chemical.interactiveMedicine.BlockFungus","type":"interactiveMedicine"},"BlockK":{"path":"assets/interactiveMedicine/BlockK","func":"chemical.interactiveMedicine.BlockK","type":"interactiveMedicine"},"BlockMg":{"path":"assets/interactiveMedicine/BlockMg","func":"chemical.interactiveMedicine.BlockMg","type":"interactiveMedicine"},"BlockMgStrip":{"path":"assets/interactiveMedicine/BlockMgStrip","func":"chemical.interactiveMedicine.BlockMgStrip","type":"interactiveMedicine"},"BlockNa":{"path":"assets/interactiveMedicine/BlockNa","func":"chemical.interactiveMedicine.BlockNa","type":"interactiveMedicine"},"BlockP4":{"path":"assets/interactiveMedicine/BlockP4","func":"chemical.interactiveMedicine.BlockP4","type":"interactiveMedicine"},"BlockPingPong":{"path":"assets/interactiveMedicine/BlockPingPong","func":"chemical.interactiveMedicine.BlockPingPong","type":"interactiveMedicine"},"BlockSpinach":{"path":"assets/interactiveMedicine/BlockSpinach","func":"chemical.interactiveMedicine.BlockSpinach","type":"interactiveMedicine"},"Fun":{"path":"assets/animation/Fun","func":"chemical.animation.Fun","type":"animation"},"HoldConicalFlask":{"path":"assets/animation/HoldConicalFlask","func":"chemical.animation.HoldConicalFlask","type":"animation"},"HoldFlorenceFlask":{"path":"assets/animation/HoldFlorenceFlask","func":"chemical.animation.HoldFlorenceFlask","type":"animation"},"HoldTestTube":{"path":"assets/animation/HoldTestTube","func":"chemical.animation.HoldTestTube","type":"animation"},"HoldThreeNeckFlask":{"path":"assets/animation/HoldThreeNeckFlask","func":"chemical.animation.HoldThreeNeckFlask","type":"animation"},"PlugTestTube":{"path":"assets/animation/PlugTestTube","func":"chemical.animation.PlugTestTube","type":"animation"},"solidWhiteBase":{"path":"assets/solidMedicine/white","func":"chemical.solidMedicine.WhiteBase","type":"solidMedicine"},"solidBrownBase":{"path":"assets/solidMedicine/brown","func":"chemical.solidMedicine.BrownBase","type":"solidMedicine"},"blockBrownBase":{"path":"assets/solidMedicine/blockWhite","func":"chemical.solidMedicine.WhiteBlockBase","type":"blockMedicine"},"gasWhiteBase":{"path":"assets/gasMedicine/gasWhite","func":"chemical.solidMedicine.GasWhiteBase","type":"gasMedicine"},"gasBagBase":{"path":"assets/gasMedicine/gasBag","func":"chemical.solidMedicine.GasBagBase","type":"gasMedicine"},"BrownBase":{"path":"assets/liquidMedicine/brown","func":"chemical.liquidMedicine.BrownBase","type":"liquidMedicine"},"WhiteBase":{"path":"assets/liquidMedicine/white","func":"chemical.liquidMedicine.WhiteBase","type":"liquidMedicine"},"BrownDropBottle":{"path":"assets/liquidMedicine/BrownDropBottle","func":"chemical.liquidMedicine.BrownDropBottle","type":"liquidMedicine"},"WhiteDropBottle":{"path":"assets/liquidMedicine/WhiteDropBottle","func":"chemical.liquidMedicine.WhiteDropBottle","type":"liquidMedicine"},"SmallWhiteBottle":{"path":"assets/liquidMedicine/SmallWhiteBottle","func":"chemical.liquidMedicine.SmallWhiteBottle","type":"liquidMedicine"},"PlasticBase":{"path":"assets/liquidMedicine/plastic","func":"chemical.liquidMedicine.PlasticBase","type":"liquidMedicine"}}');window.nbAdd=function(e){return window.chemicalMain.execute(NBCommand.ADD_EQUIPMENT,{name:e})},window.nbList=function(){chemicalMain.execute(NBCommand.LIST_SAVED_DATA)},window.nbSave=function(e){chemicalMain.execute(NBCommand.SAVE_DATA,{tag:e,noImgData:!0})},window.nbRestore=function(e){e=window.localStorage.getItem(e);e&&chemicalMain.execute(NBCommand.RESTORE_DATA,e)},e.exports=n},function(e,t,i){"use strict";var n={},a=i(925);n.convertLiquid=function(e){var t='{"dat":"';return t+=a.encode(e),t+='"}'},n.convertGas=function(e){var t,i=e,n=0;for(t in i="string"==typeof e?JSON.parse(e):i)t&&n++;return i=1===n&&i.dat?JSON.parse(a.decode(i.dat)):i},n.getBottom=function(e){if(!e||!e.length)return null;for(var t,i=e[0],n=1,a=e.length;n<a;n++)(t=e[n]).y>i.y&&(i=t);return i},e.exports=n},function(e,t,B){"use strict";var a=B(4),i=B(0),r=i(B(46)),o=i(B(9)),s=i(B(96)),n=i(B(25)),l=i(B(1)),c=i(B(2)),u=i(B(7)),d=i(B(5)),h=i(B(6)),p=i(B(3));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var D=B(11),P=B(165),I=B(955),g=B(956),m=B(958),y=B(963),v=B(964),C=B(965),M=B(966),b=nape.geom.Vec2,x=B(967),O=B(971),A=B(974),T=B(253),S=B(167),w=B(108),L=B(193),N=B(16),J=B(975),_=B(976),E=B(977),i=function(e){(0,d.default)(h,e);var a=f(h);function h(e,t){var i,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];(0,l.default)(this,h),i=a.call(this),PIXI.settings.RESOLUTION=window.__nb_resolution||.8,PIXI.settings.FILTER_RESOLUTION=window.__nb_resolution||.8,i._singleTouchStageMove=!t,!t&&!J.touchDevice()||n?PIXI.settings.IMAGE_SCALE=null:PIXI.settings.IMAGE_SCALE="@0.5x";n=Array.prototype.includes;B(984),n||(0,r.default)(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0==n)return!1;for(var t=0|t,a=Math.max(0<=t?t:n-Math.abs(t),0);a<n;){if(i[a]===e)return!0;a++}return!1}}),i.isArrawFunc=!1,window.nb_cache_pool?i.cachePool=window.nb_cache_pool:(i.cachePool=new _,window.nb_cache_pool=i.cachePool),i.on(S.communicate.angular.USER_AGENT_MESSAGE,function(e){i.browserMessage=e,i.browserMessage.isPad||(D.MAX_SCALE_VALUE=2,D.MIN_SCALE_VALUE=.5)}),PIXI.Container.RootClass=h;n={showVersion:!0,mouseWheelEnabled:!0,moveStageEnabled:!0};if(e instanceof HTMLCanvasElement)i.canvas=e,i.canvasProp=n,i.fps=60;else{if(i.canvas=e.canvas,i.fps=e.fps||60,!i.canvas)throw error("请传入canvas");i.canvasProp=(0,o.default)(n,e)}i.interval=1e3/i.fps,i.now=0,i.then=0;e=document.querySelector('meta[name="cdnhost"]');D.config.URI_PREFIX=e&&e.content||"",D.config.URI_PREFIX?D.config.URI_PREFIX+="libs/chem/":D.config.URI_PREFIX=i.canvas.getAttribute("URI_PREFIX")||D.config.URI_PREFIX;e="".concat(D.config.URI_PREFIX,"assets/skin.json");return PIXI.loader.resources[e]?i.init(i.canvas):PIXI.loader.add(e).load(function(){i.init(i.canvas)}),i}return(0,c.default)(h,[{key:"init",value:function(e){var t=this;this.remainAddEqCount=0,this.canvasTypeCount=0;var r=this;this.manager=new I(this),this.medicineManager=new m(this),this.clipboardManager=new T,this.mouseManager=new N(this),this.InstanceNameManager=new C,this.PointerManager=new v,this.particleManager=new y(this),this.microAnimationManager=new E(this),this.undoManager=new A,this.viewStack=new x,this.viewStack.enableSingleMove=this._singleTouchStageMove,this.W=D.canvasWidth,this.H=D.canvasHeight;var i=-1<[!0,"true"].indexOf(window.__nb_force_canvas);this.renderer=PIXI.autoDetectRenderer({width:this.W,height:this.H,antialias:!1,view:e,forceCanvas:i,autoPreventDefault:!1,transparent:!0,preserveDrawingBuffer:!1}),$(document.body).css("overflow","hidden"),this.renderer.view.chemicalMain=this;var n=new g;(n.root=this).viewStack.once("added",function(){n.init(),t.nape=n}),this.render(),this.W=D.canvasWidth,this.H=D.canvasHeight,this.addChild(this.viewStack),this.magnifierLayer=new O(this),(0,u.default)((0,p.default)(h.prototype),"addChild",this).call(this,this.magnifierLayer),window.addEventListener("resize",function(){setTimeout(l,300)}),this.equipmentConfMap={};var a,o=B(254);for(a in o)this.registerEquipment(o[a].path);this.execute(w.LISTEN_SCREEN_SHOT),this.execute(w.PRELOAD_TEXTURE),this.execute(w.KEYBOARD);var s=this.cachePool.popText("version:".concat(M.version),{fill:16777215,fontSize:"18px",fontFamily:"Arial"});s.alpha=.4,s.visible=this.canvasProp.showVersion,this.versionTxt=s,this.addChild(s),this.scaleAndDragAble=!0,l();i=window.localStorage.getItem("chemBGC");function l(){var e=$(window).width()/$(window).height(),t=D.canvasWidth/D.canvasHeight,i=r.renderer.view,n=PIXI.settings.RESOLUTION,t=t<e?(a=D.canvasWidth*(e/t),D.canvasHeight):(a=D.canvasWidth,D.canvasHeight/(e/t)),a=2*Math.round(a*n/2)/n;t=2*Math.round(t*n/2)/n,r.renderer.resize(a,t),i.style.width="".concat($(window).width(),"px"),i.style.height="".concat($(window).height(),"px"),i.style.position="absolute",r.W=i.width/n,r.H=i.height/n,s.x=r.W-s.width-30,s.y=r.H-s.height-10,r.viewStack.selectionLayer.selectionLayer.drawRect(0,0,r.W||D.canvasWidth,r.H||D.canvasHeight)}this.execute(w.CHANGE_BACKGROUND,{color:i&&i.color||D.DEFALUT_BACKGROUND_COLOR}),this.canvasProp.mouseWheelEnabled&&$(this.renderer.view).on("mousewheel",{passive:!1},function(e){this.execute(w.MOUSE_WHEEL,e)}.bind(this)),this.canvasProp.moveStageEnabled&&this.execute(w.ENABLED_RIGHT_CLICK,{enabled:!1}),this.execute(w.OPEN_API),L.loadData(function(){t.creationComplete=!0,t.medicineManager.afterDataLoaded(),r.emit("loaded")}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState||t.activeReRenderCanvas()})}},{key:"activeReRenderCanvas",value:function(){this.reRenderCanvas=!0,this.reRenderCount=0}},{key:"changeRenderer",value:function(){var h=this,c=this.viewStack;this.renderer.render=function(e,t,i,n,a){if(this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),a||(a=e.parent,e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=a),this.bindRenderTexture(t,n),this.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e===h)for(var r=e.children,o=0,s=r.length;o<s;o++){var l=r[o];l===c?l.render(this):l.renderWebGL(this)}else e.renderWebGL(this);this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}}}},{key:"execute",value:function(e,t,i){if(this.manager)return this.manager.execute(e,t,i)}},{key:"registerEquipment",value:function(e,t){null==t&&(t="".concat(e,"_conf.json"));var i=this.equipmentConfMap;if(-1!=t.indexOf(".json")&&null==i[e])i[e]={};else if(null==i[e])throw i[e]={confData:t},Error("暂时先不使用")}},{key:"addEquipment",value:function(e,t,i,n,a){a=this.createEquipment(e,t,i,n,a);this.viewStack.addChild(a)}},{key:"createEquipment",value:function(s,l,e,h,t,i){var c=this,u=this.equipmentConfMap[s],n=this.equipmentConfMap,d=u.confData,p=null;return(p=e instanceof Function?new e(i):e).root=c,i&&i.dataBuild||this.InstanceNameManager.setInstance(p),void 0===d?(i="".concat(s,"_conf.json"),$.getJSON(D.config.URI_PREFIX+i,function(e,t){"success"===t?(n[s].confData=e,n[s].textureURL="".concat(D.config.URI_PREFIX+s,".json"),a()):delete n[s]})):a(),p;function a(){if(null==u)throw new Error("没有器材配置信息");var e;d=u.confData,null==u.isTextureLoaded?null==u.queue?(u.queue=[p],(new PIXI.loaders.Loader).add(u.textureURL).load(function(){for(var e=0;e<u.queue.length;e++){var t=u.queue[e],i=s.substr(s.lastIndexOf("/")+1);f(t,0,i)}u.queue.length=0,u.isTextureLoaded=!0})):u.queue.push(p):(e=s.substr(s.lastIndexOf("/")+1),f(p,0,e));var t,i,n=B(53);for(i in d){var a=d[i].napeData;if(void 0!==a)switch(a.linkage){case"nape.Polygon":t=n.BodyFromArray(a.polyData),p.createPhysicsEngine(),t.set_space(p.engine.space);var r=new nape.phys.Material(.5,.2,.2,.8);t.setShapeMaterials(r),t.set_type(nape.phys.BodyType.get_KINEMATIC());var o=n.BodyFromArray(a.polyData);o.set_space(c.nape.space),o.set_type(nape.phys.BodyType.get_KINEMATIC()),o.set_allowRotation(!1),o.userData={view:p,napeWidthView:!0},p.napeObj=o,p.createLiquidShape();break;case"nape.Polygon.saveData":void 0===p.polyDataMap&&(p.polyDataMap={}),p.polyDataMap[d[i].name]=a.polyData;break;case"nape.Polygon2":r=n.BodyFromArray(a.polyData),p.engine&&p.engine.space||p.createPhysicsEngine(),r.set_space(p.engine.space);o=new nape.phys.Material(.5,.2,.2,.8);r.setShapeMaterials(o),r.set_type(nape.phys.BodyType.get_KINEMATIC());r=n.BodyFromArray(a.polyData);r.set_space(c.nape.space),r.set_type(nape.phys.BodyType.get_KINEMATIC()),r.set_allowRotation(!1),r.userData={view:p,napeWidthView:!0},p.napeObj2=r}if(null!=t)break}}function f(e,t,i){e.dataObj=h,e.cateid=l,e._nbData_=d;for(var n=0;n<int.MAX_VALUE;n++){var a=d[n];if(null==a)break;if(!a.napeData){var r=a.capacityVertex;if(r){e.capacityVertex=[];for(var o=0;o<r.length;o++){var s=a.capacityVertex[o];e.capacityVertex.push(b.get(s.x,s.y))}}else c.createChildFromData(e,a,i,e),e.alpha=0}}e.dragDropOffset&&(e.x+=e.dragDropOffset().x,e.y+=e.dragDropOffset().y),setTimeout(function(){e.isCreationComplete=!0,e.emit("creationComplete")},0)}}},{key:"setDisplayInfo",value:function(e,t,i){null!=i.name&&((e[i.name]=t).name=i.name),e==this.viewStack?t.stepRoot=t:t.stepRoot=e.stepRoot,t.stage=this.stage}},{key:"setCommonData",value:function(a,e,t){if(a._nbData_=e,a.root=this,a._textureMapName_=t,a.currentEquipment=a.currentEquipment,0!=e.r?a.setTransform(e.x,e.y,e.sx,e.sy,e.r):a.setTransform(e.x,e.y,e.sx,e.sy,0,e.skewX,e.skewY),a.alpha=isNaN(e.a)?1:e.a,void 0!==e.linkageClassName)if(-1!==e.linkageClassName.indexOf("bind:")){t=e.linkageClassName.replace("bind:",""),t=this[t];t&&this.bindScriptToSprite(t,a.name)}else for(var i=e.linkageClassName.split("|"),n=0;n<i.length;n++){for(var r,o,s,l=i[n].split("."),h=window,c=0;c<l.length;c++){if(void 0===(h=c==l.length-1&&-1!=(r=(s=l[c]).indexOf("("))?(o=s.substring(r+1,s.length-1),o="[".concat(o.replace(/'/gi,'"'),"]"),h[s=s.substring(0,r)]):h[l[c]]))break;c===l.length-1&&a.once("creationComplete",function(t,i,n){return function(){if(o){try{var e=JSON.parse(n)}catch(e){}t.apply(a,e)}else t.apply(a);a.linkageClassName=i}}(h,i[n],o))}l.length}void 0!==e.b2Data&&(a.b2Data=e.b2Data),void 0!==e.threeData&&(a.threeData=e.threeData)}},{key:"createChildFromData",value:function(e,t,i,n){if("sprite"==t.type||"bitmap"==t.type){var a=null==t.libName?new PIXI.Container:new PIXI.Sprite(PIXI.Texture.fromFrame("".concat(i,"/").concat(t.libName)));this.setDisplayInfo(e,a,t),this.setCommonData(a,t,i),e.addChildAt(a,0),e==this.viewStack?((a.stepRoot=a).onStepComplete=function(){this.isComplete},a.showTip=function(e){null==this.__tip__&&(this.__tip__=new NBTip,this.addChild(this.__tip__),this.__tip__.x=80,this.__tip__.y=160),this.__tip__.setText(e)},a.hideTip=function(){null!=this.__tip__&&this.__tip__.parent.removeChild(this.__tip__)}):a.stepRoot=e.stepRoot;for(var r=0;r<int.MAX_VALUE&&null!=t[r];r++)this.createChildFromData(a,t[r],i,n);return a.emit("creationComplete"),a}if("movie"==t.type){for(var o=[],s=0;s<int.MAX_VALUE&&null!=t[s];s++)o.push(PIXI.Texture.fromFrame("".concat(i,"/").concat(t[s].libName)));var l=new PIXI.extras.MovieClip(o);return this.setDisplayInfo(e,l,t),this.setCommonData(l,t,i),l.emit("creationComplete"),e.addChildAt(l,0),l}if("text"==t.type){var h=/\d*/gi,c=t.f,u=h.exec(t.f),c=c.replace(u,+u),d=(h=new RegExp(/\${(.*)}/)).exec(t.txt),p=t.txt;if(null!=d){for(var f=d[1].split("."),I=instance,g=0;g<f.length;g++)I=I[f[g]];p=I}var m,y=t.w,v=t.h,C=Math.cos,M=Math.sin,b={x:+t.x,y:+t.y},l=t.r,u=0<l&&l<Math.PI/2?l:l>Math.PI/2?Math.PI-l:l<-Math.PI/2?Math.PI-Math.abs(l):Math.abs(l),h=C(u)*C(u)-M(u)*M(u),d=(y*C(u)-v*M(u))/h,h=(-y*M(u)+v*C(u))/h;l==Math.PI/2&&(l+=.001),M=0<=l&&l<Math.PI/2?(m=b.x+h*M(u),b.y):l>Math.PI/2?(m=b.x+y,b.y+h*C(u)):l<-Math.PI/2?(m=b.x+d*C(u),b.y+v):(m=b.x,b.y+d*M(u)),2!==(c=c.split(" ")).length&&((u=[c.shift(0)]).push(c.join(" ")),c=u);d={fontSize:c[0],fontFamily:c[1],wordWrap:!0,fill:t.c,wordWrapWidth:d,align:t.a},d=n&&n.getText?n.getText(p,d):new PIXI.Text(p,d);return this.setDisplayInfo(e,d,t),d.x=m,d.y=M,d.rotation=t.r,e.addChildAt(d,0),d}if("button"==t.type){var M=new PIXI.Sprite.fromFrame("".concat(i,"/").concat(t[0].libName)),d=new PIXI.Sprite.fromFrame("".concat(i,"/").concat(t[1].libName)),x=new PIXI.Sprite.fromFrame("".concat(i,"/").concat(t[0].libName)),x=new D.comp.Button({disabledSkin:M,downSkin:d,upSkin:x});return this.setDisplayInfo(e,x,t),this.setCommonData(x,t,i),e.addChildAt(x,0),x}if("nbMovie"==t.type){var O=new(B(985));e.addChildAt(O,0);for(var A=0;A<int.MAX_VALUE;A++){var T=t[A];if(void 0===T)break;for(var S=0;S<int.MAX_VALUE;S++){var w=T[S];if(void 0===w)break;w=this.createChildFromData(O,w,i,n);O.insertDisplayObjectToFrame(w,A)}}return this.setDisplayInfo(e,O,t),this.setCommonData(O,t,i),O.gotoAndStop(0),O.emit("creationComplete"),O}if("shape"==t.type){x=new PIXI.Graphics;return e.addChildAt(x,0),P.draw(x,t.path.concat()),x}}},{key:"enableRender",value:function(e){this.allowRender=e}},{key:"resetPascalNode",value:function(){this.viewStack.updatePascalAllLines=(0,s.default)()}},{key:"getResetNodeTime",value:function(){return this.viewStack.updatePascalAllLines}},{key:"setArrawFunc",value:function(e){"boolean"==typeof e&&(this.isArrawFunc=e)}},{key:"getArrawFunc",value:function(){return this.isArrawFunc}},{key:"setScientificNotation",value:function(e){this.isScientificNotation=e}},{key:"getScientificNotation",value:function(){return!!this.isScientificNotation}},{key:"getScaleAndDragAble",value:function(){return this.scaleAndDragAble}},{key:"setScaleAndDragAble",value:function(e){return this.scaleAndDragAble=e}},{key:"setSingleTouchStageMove",value:function(e){this._singleTouchStageMove=e,this.viewStack&&(this.viewStack.enableSingleMove=e)}},{key:"getSingleTouchStageMove",value:function(){return this._singleTouchStageMove}},{key:"getStageCanMove",value:function(){return this.viewStack?this.viewStack.enableStageMove:this._singleTouchStageMove}},{key:"getScaleCanvXY",value:function(){var e=this.canvas;return{scx:(0,n.default)(e.style.width,0)/this.W,scy:(0,n.default)(e.style.height,0)/this.H}}},{key:"getEqCenterPositionInDom",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};if(!e)return{x:0,y:0};var n,a,r,o,s=e,l=this.getScaleCanvXY(),h=l.scx,c=l.scy;return"RubberCatheter"===e.name||"Wire"===e.name?(center=(e.leftHead.toGlobal({x:0,y:0}).x+e.rightHead.toGlobal({x:0,y:0}).x)/2*h,a=(e.leftHead.toGlobal({x:0,y:0}).y+e.rightHead.toGlobal({x:0,y:0}).y)/2*c-50):(n=s.localBounds||s.getLocalBounds(),-1!==D.specialBoundsAry.indexOf(s.name)&&(n=s.getLocalBounds()),l=s.toGlobal({x:n.x,y:n.y}),e=s.toGlobal({x:n.x+n.width,y:n.y}),o=s.toGlobal({x:n.x,y:n.y+n.height}),r=s.toGlobal({x:n.x+n.width,y:n.y+n.height}),n=[l.x,e.x,o.x,r.x],o=[l.y,e.y,o.y,r.y],a=Math.min.apply(this,o)+(i.y||0),r=(r=Math.min.apply(this,n))+(Math.max.apply(this,n)-r)/2+(i.x||0),o=a+(Math.max.apply(this,o)-a)/2+(i.y||0),r*=h,o*=c),{x:r,y:o}}},{key:"changCanvasAndWebGL",value:function(){var e,t,i;this.renderer.gl&&this.renderer.gl.isContextLost()&&(e=chemicalMain.canvas.cloneNode(),this.renderer.destroy(!0),(i=(t=(i=document.querySelector("chem-canvas")).querySelector("div"))?t:i).appendChild(e),i=-1<[!0,"true"].indexOf(window.__nb_force_canvas),i={view:e,width:chemicalMain.W,height:chemicalMain.H,antialias:!1,forceCanvas:i,autoPreventDefault:!1,transparent:!0,preserveDrawingBuffer:!1},this.renderer=PIXI.autoDetectRenderer(i),e.chemicalMain=this.canvas.chemicalMain,this.canvas=e,this.canvasProp.mouseWheelEnabled&&$(this.renderer.view).on("mousewheel",{passive:!1},function(e){this.execute(w.MOUSE_WHEEL,e)}.bind(this)),i=this.viewStack.selectionLayer,$(e).bind("mousedown.right",i.touchBegin.bind(i)),this.canvasService&&(this.canvasService.canvas=e))}},{key:"freshRender",value:function(){this.renderer.render(this)}},{key:"getBackgroundColor",value:function(){return this.backgroundColor}},{key:"checkReRenderCanvas",value:function(){this.reRenderCanvas&&(0<this.reRenderCount&&(this.canvasTypeCount=(this.canvasTypeCount+1)%3,this.canvas.style.display=["block","inline-block","flex"][this.canvasTypeCount],this.reRenderCanvas=!1,this.reRenderCount=0),this.reRenderCount++)}},{key:"render",value:function(){this.checkReRenderCanvas(),this.changCanvasAndWebGL(),null==this.__time__&&(this.__time__=(0,s.default)());var e=(0,s.default)();this.dt=Math.min(e-this.__time__,50),this.__time__=e;var t=this.viewStack.lastScaleTime;t&&100<e-t&&(this.viewStack.lastScaleTime=0);t=this.viewStack.rightMoveTime;t&&100<e-t&&(this.viewStack.rightMoveTime=0);var n=this;this.renderer.render(this),void 0===n.firstCall&&(n.firstCall=!0,(window.$requestAnimationFrame||window.requestAnimationFrame)(function e(){var t=(0,s.default)(),i=t-n.then;!1===n.allowRender||i<n.interval||(n.then=t-i%n.interval,n.parent=n.renderer._tempDisplayObjectParent,n.parent=null,n.nape&&n.nape.update(),n.magnifierLayer.update(),n.viewStack.update(),n.render(),n.viewStack.hasEqMove=Math.max(0,n.viewStack.hasEqMove-1)),(window.$requestAnimationFrame||window.requestAnimationFrame)(e)}))}},{key:"run",value:function(){this.enableRender(!0),this.setMuted(!1)}},{key:"stop",value:function(){this.enableRender(!1),this.setMuted(!0)}},{key:"setMuted",value:function(e){createjs.Sound.setMute(e)}},{key:"addMagnifier",value:function(){this.magnifierLayer.added()}},{key:"addMicroAnimation",value:function(e,t){this.microAnimationManager.addAnimation(e,t)}},{key:"removeMicroAnimation",value:function(){this.microAnimationManager.removeAnimation()}}]),h}(PIXI.Container);i.NBCommand=w,i.NBEvent=S,e.exports=i},function(e,t,i){"use strict";function n(){}n.DEFAULT_GRAVITY=(n.NB_WORLD_GRAVITY_PER_N=2e3/(n.EARTH_GRAVITY=9.8))*n.EARTH_GRAVITY,n.FORCE_SCLAE=.03*n.EARTH_GRAVITY,n.MASS_SCALE=.001,n.k5n=1/33.3333321566,n.STATICFRICTION_SCALE=.5,n.BODY_COLOR=52479,n.MIN_DISTANCE=10,n.LITTLE_RADIUS=20,n.WORLD_ANGULAR_DRAG=.1,n.WORLD_LINEAR_DRAG=.1,n.ROPE_LENGTH=50,n.ROPE_LENGTH_SCLAE=.85,n.RECT_MIN_WIDTH=4*n.SCALE_SPACE,n.RECT_MAX_WIDTH=300*n.SCALE_SPACE,n.DRAG_FORCE_PER_PIXEL=(n.DRAG_MAX_FORCE=1e7)/250,n.SCALE_SPACE=3,n.SCALE_PAPER_SPACE=3.144,n.PAPER_VALUE_FACTOR=.953,n.DEFAULT_THRUSTER_FORCE=.2*n.NB_WORLD_GRAVITY_PER_N*50/3,n.SCALE_VELOCITY=.031806615776081744,e.exports=n},function(e,t,i){"use strict";var a=i(4),n=i(0),u=n(i(69)),r=n(i(9)),o=n(i(1)),s=n(i(2)),d=n(i(7)),l=n(i(5)),h=n(i(6)),p=n(i(3));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var I=i(10),g=i(16),m=i(33),y=i(80),v=i(58),C=i(11),M=i(21),DoubleBuretClamp=i(388),i=function(){(0,l.default)(c,I);var t=f(c);function c(){var e;return(0,o.default)(this,c),(e=t.call(this)).hintOffsetX=0,e}return(0,s.default)(c,[{key:"color",get:function(){return this.medicineData.getMixerColor()||{color:16777215,alpha:.3}},set:function(e){}},{key:"creationComplete",value:function(){this.currentParent=null,this.magnifier.allowGetBounds=!1,this.water2.allowGetBounds=!1,this.degree2.allowGetBounds=!1,this.magnifier.interactiveChildren=!1,this.water2.interactiveChildren=!1,this.degree2.interactiveChildren=!1,this.washTop.allowGetBounds=!1,this.washBottom.allowGetBounds=!1,this.washTop.interactive=!1,this.washBottom.interactive=!1,this.washTop.interactive=!1,this.washBottom.interactive=!1,this.washTop.visible=!1,this.washBottom.visible=!1,this.degree1.mask=this.degree2.mask=this.containerMask.getChildAt(0),this.degree2.alpha=1,(this.botDrop.drop.alpha=this.water1.alpha=this.water2.alpha=0,d.default)((0,p.default)(c.prototype),"creationComplete",this).call(this),this.gasContainer.addChildWithSamePos(this.water1),this.gasContainer.addChildWithSamePos(this.water2),this.init(),this.animation(),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),v.apply(this)}},{key:"creationPourOutHitArea",value:function(){!this.pourOut||this.pourOutHitArea||this.pourOutHitArea instanceof PIXI.Graphics||(this.pourOutHitArea=new PIXI.Graphics,this.pourOutHitArea.beginFill(16711680,0),this.pourOutHitArea.drawRect(this.pourOut.x,this.pourOut.y,42,120),this.pourOutHitArea.alpha=0,this.addChildAt(this.pourOutHitArea,0),this.pourOutHitArea.endFill())}},{key:"init",value:function(){this.magnifierDisCount=0,this.magnifier.y=this.magnifierY,this.magnifier.scale.x=this.magnifier.scale.y=2,this.bg.alpha=0;var e=this.magnifierMask=new PIXI.Graphics;this.magnifier.mask=e,this.addChild(e),e.beginFill(16776960,.2),e.drawCircle(-160,0,120),this.magnifier.x-=100;e=this.magnifierLiquid=new PIXI.Graphics;e.beginFill(16777215),e.alpha=0,e.mask=this.magnifierMask,e.drawRect(-200,0,80,120),this.addChild(e),this.magnifierLiquid.allowGetBounds=!1,this.enableRotate(!0,{position:{x:20,y:639},rotatePoint:{x:20,y:639},rotateRect:{x:0,y:100,width:this.localBounds.width,height:.2*this.localBounds.height}},1),this.tubeDrip=new y(this.botDrop,this.specialMedicineData,this.botDrop.drop,{x:this.botDrop.drop.x,y:this.botDrop.drop.y+24},2e3,.05,.1,I),this.specialMedicineData={},this.specialMedicineData.liquidAry=[];var o=this.bottomLiquidAry=[],s=this,l=new PIXI.Container;this.botDrop.bottomMaskContainer=l,this.botDrop.addChild(l);var h=this.botDrop.bottomMask.height;function c(e,t,i){for(var n=t;n<i;n++)o[n].graphics.y+=298.7*e}l.mask=this.botDrop.bottomMask.getChildAt(0),this.specialMedicineData.addMedicine=function(t){var e,i,n,a,r=this;t instanceof Array?t.forEach(function(e){r.addMedicine(e)}):t.getVol&&(e=t.getVol(),t instanceof m?((n=this.liquidAry.find(function(e){return e.name===t.name}))?n.mol+=t.mol:this.liquidAry.push(t),o[0]&&0===o[0].graphics.y?o[0].vol+=e:(i=(a=s.botDrop.liquid.getChildAt(0).clone()).width,n=a.height,l.addChild(a),a.clear(),a.beginFill(s.color.color),a.alpha=s.color.alpha,a.drawRect(0,0,i,n),a.endFill(),a={graphics:a,_vol:0,color:s.color,HDensity:s.medicineData.getHDensity()},(0,u.default)(a,{vol:{set:function(e){this._vol=e,this.graphics.height=298.7*e},get:function(){return this._vol}},overFlow:{set:function(){},get:function(){return this.graphics.y+this.graphics.height>h}}}),a.vol=e,o.unshift(a)),c(e,1,o.length)):c(e,0,o.length))},this.botDrop.getColor=function(){var e=o[o.length-1];return e&&e.color},this.botDrop.getViewStack=this.getViewStack.bind(this),this.botDrop.getCurrentCapacity=function(){var e=o[o.length-1];return e&&e.overFlow&&e.vol},this.botDrop.setCurrentCapacity=function(e){var t=o[o.length-1];t&&(e<=.01?(o.pop(),t.graphics.parent.removeChild(t.graphics)):t.vol=e)},this.botDrop.medicineData={},this.botDrop.medicineData.covertVolumeToLiquid=function(e){for(var t=s.specialMedicineData.liquidAry,i=e/s.botDrop.getTotalcapacity(),n=[],a=0;a<t.length;a++){var r=t[a],o=r.deepClone();r.mol-=r.mol*i,o.mol*=i,n.push(o)}return n},this.botDrop.getEquipments=this.getEquipments.bind(this),this.botDrop.medicineData.getHDensity=function(){var e=o[o.length-1];if(e)return e.HDensity},this.botDrop.getTotalcapacity=function(){for(var e=s.specialMedicineData.liquidAry,t=0,i=0;i<e.length;i++)t+=e[i].getVol();return t},this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.colorMatrix=new PIXI.filters.ColorMatrixFilter,this.colorMatrix.matrix=this.matrix,this.water1.filters=this.water2.filters=[this.colorMatrix],this.washTube(),this.setSwitch()}},{key:"washTube",value:function(){var e=this.washAni;e&&(e.allowGetBounds=!1),this.rotateWash.interactive=!1}},{key:"setPercent",value:function(e){this.fluidSpeed=.006*e;e=this.normalStatus.ani;e.currentFrame=Math.round(this.fluidSpeed/.006*(e.totalFrames-1))}},{key:"fluidSpeed",get:function(){return this._fluidSpeed},set:function(e){this._fluidSpeed=e}},{key:"setSwitch",value:function(){var i=this;this.fluidSpeed=0;var e=this.root.mouseManager,t=this.normalStatus.switchArea,n=!1,a=this.normalStatus.ani,r={},o=this;function s(){n&&(n=!1,this.washAni||(this.fluidSpeed=0,a.currentFrame=0,this.moveTouchHoldButton&&this.moveTouchHoldButton.setPosByPercent(0)),NBDrag.addDrag(this),this.parent!==this.getEqLayer()&&NBDrag.addDrag(this.parent))}this.fluidSpeed=0,t.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){1===i.normalStatus.alpha&&(n=!0,e=e.data.global,r.x=e.x,r.y=e.y,NBDrag.removeDrag(i),i.parent!==i.getEqLayer()&&NBDrag.removeDrag(i.parent))}),t.addEventListener(TouchEvent.TOUCH_MOVE,function(e){var t;n&&(t=e.data.global,e=i.washAni?r.y-t.y:r.x-t.x,r.x=t.x,r.y=t.y,function(e){e=o.fluidSpeed-1e-4*e;e=.006<(e=e<0?0:e)?.006:e,o.fluidSpeed=e,a.currentFrame=Math.round(e/.006*(a.totalFrames-1));e/=.006;o.movePortraitSwitchButton&&o.movePortraitSwitchButton.setPosByPercent(e);o.moveTouchHoldButton&&o.moveTouchHoldButton.setPosByPercent(e)}(e))}),t.addEventListener(TouchEvent.TOUCH_END,s.bind(this)),t.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,s.bind(this));var l=g.status[this.washAni?"STRETCH":"SHAKE"];t.on(MouseEvent.MOUSE_OVER,function(){1===i.normalStatus.alpha&&e.changeMouseStatus(l,!0,t)}),t.on(MouseEvent.MOUSE_OUT,function(){e.changeMouseStatus(l,!1,t)})}},{key:"rinse",value:function(){var n,a,r,o,s,l,e,t,h,c;function u(e,t,i){var n=t.x+i;switch(!0){case e&&0<i&&43<n:t.x=n-88;break;case e&&i<0&&n<-45:t.x=88+n;break;case!e&&0<i&&87<n:t.x=88-n;break;case!e&&i<0&&n<-1:t.x=88+n;break;default:t.x=n}}this.isOnRinse||(this.parent!==this.getEqLayer()&&(200<this.x?this.x+=100:this.x-=100,this.eqAddToViewStack()),this.isOnRinse=!0,this.interactive=!1,this.interactiveChildren=!1,this.currentPlug=!0,this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),a=0,r=23,(n=this).washAni&&(o=this.washAni.switchAni),s=.272727272727,l=this.water1.x,e=this.rotation,t=this.getCenterPosition(),h=t.x*Math.cos(this.rotation)-t.y*Math.sin(this.rotation),c=t.y*Math.cos(this.rotation)-t.x*Math.sin(this.rotation),this.pivot.x=t.x,this.pivot.y=t.y,this.x+=h,this.y+=c,this.hasCovered=!0,TweenMax.to(this,.5,{rotation:Math.PI/2,onComplete:function(){n.currentPlug=void 0,n.washTop.alpha=1,n.washBottom.alpha=1,n.washTop.visible=!0,n.washBottom.visible=!0,n.washTop.currentFrame=0,n.washBottom.currentFrame=0,n.medicineData.setCapacity(Math.min(.8*n.getCurrentCapacity(),5)),o&&(n.washAni.alpha=1,n.normalStatus.alpha=0);var i=TweenMax.to(n.washTop,.4,{currentFrame:3,repeat:6,repeatDelay:.1,yoyo:!0,onUpdate:function(){var e=i.progress(),t=n.water1.x;!function(e){u(!0,this.water1,e),u(!1,this.water2,-e),u(!0,this.degree1,e),u(!1,this.degree2,-e),function(e){(a+=e*s)>r&&(a-=r);a<0&&(a+=r);o&&(o.currentFrame=Math.round(a))}(e)}.call(n,l+50*e-t)},onComplete:function(){n.water1.x=n.degree1.x=-1,n.water2.x=n.degree2.x=87,o&&(n.washAni.alpha=0,n.normalStatus.alpha=1,o.currentFrame=0)}});TweenMax.to(n.washBottom,.4,{currentFrame:3,repeat:6,repeatDelay:.1,yoyo:!0,onComplete:function(){TweenMax.to(n,.5,{rotation:e,onComplete:function(){n.interactive=!0,n.interactiveChildren=!0,n.washTop.alpha=0,n.washBottom.alpha=0,n.washTop.visible=!1,n.washBottom.visible=!1,delete n.isOnRinse,n.pivot.x=0,n.pivot.y=0,n.x-=h,n.y-=c,n.hasCovered=null}})}})}}))}},{key:"update",value:function(e){var t,i=this;if((0,d.default)((0,p.default)(c.prototype),"update",this).call(this,e),0<this.getCurrentCapacity()&&(this.drawFiltersColor(),0===this.water1.alpha&&(t=TweenMax.to(this.water1,1,{alpha:1,onProgress:function(){i.water2.alpha=t.progress()}}))),0<this.fluidSpeed){var n=[],a=this.medicineData.getLiquidCapacity();if(0<(this.currentCapacity=a)){n=this.medicineData.covertVolumeToLiquid(this.fluidSpeed),e=a-this.fluidSpeed;this.setCurrentCapacity(e)}else for(var r=this.getTotalCapacity()-a,o=0;o<this.medicineData.gasAry.length;o++){var s=this.medicineData.gasAry[o],l=s.getVol()/r,s=s.deepClone();s.setVol(this.fluidSpeed*l),n.push(s)}this.specialMedicineData.addMedicine(n)}a=this.getCurrentCapacity();a<this.startCapacity&&a>this.endCapacity&&Math.abs(this.rotation)<Math.PI/3?0<this.activeCount&&this.drawMagnifier():this.disappearMagnifier(!0);var h=this.bottomLiquidAry[this.bottomLiquidAry.length-1];if(h&&h.overFlow)if(this.botDrop.isOnBubble)for(;h.overFlow&&0<h.vol;)0==h.graphics.y?this.botDrop.setCurrentCapacity(.55):(h.vol-=.01,h.vol<.001&&this.botDrop.setCurrentCapacity(0));else this.tubeDrip.isDripping=!0,this.activeCount=C.ACTIVE_COUNT}},{key:"drawMagnifier",value:function(){this.magnifierDisCount=300;var e=this.toLocal(this.liquidVertex[0]),t=this.toLocal(this.liquidVertex[this.liquidVertex.length-1]),i=(e.x,t.x,(e.y+t.y)/2),e=this.rotation,t=80*Math.tan(e);this.magnifier.alpha=1;e=this.magnifierLiquid;e.clear(),e.beginFill(this.liquidGra&&this.liquidGra[0].liquidColor||16777215),e.alpha=this.liquidGra&&this.liquidGra[0].liquidAlpha||.2,e.moveTo(-240,t),120<t?(e.lineTo(-240,8+t),e.lineTo(-80,120)):t<-120?(e.lineTo(-240,120),e.lineTo(-80,8-t)):(e.lineTo(-240,120),e.lineTo(-80,120)),e.lineTo(-80,-t-8),e.quadraticCurveTo(-160,8,-240,t-8),this.magnifierLiquid.y=this.magnifierMask.y=i-60,this.magnifier.y=this.magnifierY+(this.standardMagnifierY-i)*this.scaleMultiple}},{key:"disappearMagnifier",value:function(e){this.magnifierDisCount--,(this.magnifierDisCount<0||e)&&(this.magnifierDisCount=0,this.magnifier.alpha=this.magnifierLiquid.alpha=0)}},{key:"drawFiltersColor",value:function(){var e=this.medicineData.getMixerColor();(this.color=e)?0!==(e=e.color)&&(this.matrix[0]=(e>>16)/255,this.matrix[6]=(e>>8&255)/255,this.matrix[12]=(255&e)/255):(this.matrix[0]=1,this.matrix[6]=1,this.matrix[12]=1)}},{key:"getPerfectClamp",value:function(){for(var e=this.getEquipmentsByType(DoubleBuretClamp),t=0;t<e.length;t++){if((this.hitTest(e[t].lTop)||this.hitTest(e[t].lBot))&&!e[t].leftIsFull)return{curetClamp:e[t],type:"left"};if((this.hitTest(e[t].rTop)||this.hitTest(e[t].rBot))&&!e[t].rightIsFull)return{curetClamp:e[t],type:"right"}}return null}},{key:"checkCollision",value:function(){this.currentParent=null,this.lastRotate=this.rotation;var e,t=this.getPerfectClamp();t?(e=t.curetClamp,"left"===t.type?this.drawHint(7+this.hintOffsetX,0,-185,e):this.drawHint(e.rTop.x+90+this.hintOffsetX,0,-185,e)):this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg()}},{key:"drawHint",value:function(e,t,i,n){var a,r;this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg(),this.parent!=this.lastHitEquipment&&(a=n.toLocal({x:this.ani.x,y:this.ani.y},this.ani),(i=(r=n.toLocal(this.getBounds())).y<-180&&n.localBounds.height+-180<a.y-73?this.drawBg(n,e,r.y+t):this.drawBg(n,e,i)).allowGetBounds=!1,n.willAdsorbEqBounds=i,this.lastHitEquipment=n)}},{key:"animation",value:function(){this.on(NBDrag.event.STOP_DRAG,function(){this.removeGraphicsOrBg();var e,t,i,n,a,r=this.getPerfectClamp();r&&(e=r.curetClamp,t=r.type,i=this.parent,"left"===t?e.leftIsFull=!0:e.rightIsFull=!0,this.currentParent=e,this.crrHitArea=t,e.addChildWithSamePos(this),TweenMax.killTweensOf(this),n=this.parent.toLocal({x:this.ani.x,y:this.ani.y},this.ani),a="left"===t?7:e.rTop.x+90,r=NBPoint.distance({x:this.x,y:this.y},{x:a,y:-185})*C.SECOND_PER_PIXEL/10,this.y+this.localBounds.y<-180&&e.localBounds.height+-180<n.y-73?(this.x=a,this.last_pos={x:a,y:this.y}):(TweenMax.to(this,r,{x:a,y:-185-this.localBounds.y}),this.last_pos={x:a,y:-185-this.localBounds.y}),this.rotation=0,TweenMax.to("left"===t?e.lTop:e.rTop,r,{rotation:"left"===t?-.4:.4}),TweenMax.to("left"===t?e.lBot:e.rBot,r,{rotation:"left"===t?.4:-.4}),i.parent==this.root.viewStack&&this._lastStyle?this._currentStyle=this._lastStyle:this._currentStyle={obj:this,hitObj:e,pos:this.last_pos,leftOrRight:t,parent:i,rotate:.4})})}},{key:"eqPrepareDelete",value:function(){try{var e,t;this.currentParent&&"DoubleBuretClamp"===this.currentParent.name&&(t=[(e=this.currentParent).lTop,e.lBot,e.rTop,e.rBot],"left"==this.crrHitArea?(e.leftIsFull=!e.leftIsFull,TweenMax.to(t[0],.2,{rotation:0}),TweenMax.to(t[1],.2,{rotation:0})):"right"==this.crrHitArea&&(this.rightIsFull=!this.rightIsFull,TweenMax.to(t[2],.2,{rotation:0}),TweenMax.to(t[3],.2,{rotation:0})))}catch(e){}(0,d.default)((0,p.default)(c.prototype),"eqPrepareDelete",this).call(this)}},{key:"getConfigureData",value:function(){var e=(0,d.default)((0,p.default)(c.prototype),"getConfigureData",this).call(this);return e.confArr.push(M.getButton("rinse","润洗",function(){this.rinse()}.bind(this),this)),e}},{key:"toJSON",value:function(){return(0,r.default)((0,d.default)((0,p.default)(c.prototype),"toJSON",this).call(this),{crrHitArea:this.crrHitArea,currentParent:this.currentParent&&this.currentParent.getUUID?this.currentParent.getUUID():this.currentParent})}},{key:"setJSON",value:function(t){var i=this;(0,d.default)((0,p.default)(c.prototype),"setJSON",this).call(this,t),t.currentParent&&this.getEquipmentByUUID(t.currentParent).then(function(e){i.currentParent=e,"left"===t.crrHitArea?(e.lTop.rotation=-.4,e.lBot.rotation=.4,e.leftIsFull=!0,i.crrHitArea="left"):(e.rTop.rotation=.4,e.rBot.rotation=-.4,e.rightIsFull=!0,i.crrHitArea="right")})}}]),c}();e.exports=i},function(e,t,BigBeaker){"use strict";var a=BigBeaker(4),i=BigBeaker(0),n=i(BigBeaker(9)),r=i(BigBeaker(1)),o=i(BigBeaker(2)),s=i(BigBeaker(7)),l=i(BigBeaker(5)),h=i(BigBeaker(6)),c=i(BigBeaker(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BigBeaker(170),p=BigBeaker(97),f=BigBeaker(8),BigBeaker=function(){(0,l.default)(BigBeaker,d);var t=u(BigBeaker);function BigBeaker(){var e;return(0,r.default)(this,BigBeaker),(e=t.call(this)).top=e.bottom="",e.name="BigBeaker",e.CNName="烧杯250mL",e.z_index=15.06,e.hitThisAttachAttr={offsetUp:0,offsetDown:50,type:3},e.lNum=0,e.isBeaker=!0,e.canEditLable=!0,e}return(0,o.default)(BigBeaker,[{key:"creationComplete",value:function(){if((0,s.default)((0,c.default)(BigBeaker.prototype),"creationComplete",this).call(this),this.stirCount=0,this.stirSedCount=0,this.setEnableRotate(!0),this.gasLeakage instanceof Array){for(var e=0,t=0;t<this.gasLeakage.length;t++)e+=this.gasLeakage[t].getMol();this.lNum+=e}this.initDrip(),this.initFume(),this.label.txt.anchor.x=.5,this.label.txt.x=62.5}},{key:"getSelfGlobalVertexes",value:function(){var e=this.toGlobal({x:11,y:30}),e=new p(e.x,e.y),t=this.toGlobal({x:218,y:20}),t=new p(t.x,t.y),i=this.toGlobal({x:218,y:240}),i=new p(i.x,i.y),n=this.toGlobal({x:30,y:240});return[e,t,i,n=new p(n.x,n.y)]}},{key:"setEnableRotate",value:function(e){this.enableRotate(e,{position:{x:this.localBounds.width+10,y:0},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:0,y:-this.getLocalBounds().y,width:this.bg.width,height:.2*this.bg.height}},1)}},{key:"getChildCanNotRotate",value:function(){return this.children.find(function(e){return e instanceof f})}},{key:"specialReversal",value:function(){this.bg.bgPic.scale.x=-1,this.bg.bgPic.x=240,this.gasContainer.mask.scale.x=-1,this.gasContainer.mask.x=240,this.isSpecialRevers=!0}},{key:"toJSON",value:function(){return(0,n.default)({isSpecialRevers:this.isSpecialRevers},(0,s.default)((0,c.default)(BigBeaker.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(BigBeaker.prototype),"setJSON",this).call(this,e),e.isSpecialRevers&&this.specialReversal()}}]),BigBeaker}();e.exports=BigBeaker},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(170);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).isBaseChangeAlphaContainer=!0,e}return(0,o.default)(i,[{key:"frontDishChangeAlpha",value:function(e){var t;this.dishFront&&(TweenMax.killTweensOf(this.dishFront),this.dishFront._gsTweenID&&delete TweenLite._internals.tweenLookup[this.dishFront._gsTweenID],t=this.getChildIndex(this.dishFront),this.setChildIndex(this.liquidGraContainer,t-2),this.liquidGraBgContainer.name="liquidGraContainer",this.particleMedContainer.name="particleMedContainer",t=this.getChildIndex(this.liquidGraContainer),this.setChildIndex(this.particleMedContainer,t+1),(new TimelineMax).to(this.dishFront,1,{delay:1,alpha:e}))}},{key:"eqStopDrag",value:function(e){(0,s.default)((0,c.default)(i.prototype),"eqStopDrag",this).call(this,e),this.holdParent&&this.parent!==this.holdParent&&this.holdParent.holdObjLeave.call(this)}}]),i}()},function(e,t,TailNozzle){"use strict";var a=TailNozzle(4),i=TailNozzle(0),n=i(TailNozzle(9)),r=i(TailNozzle(1)),o=i(TailNozzle(2)),s=i(TailNozzle(7)),l=i(TailNozzle(5)),h=i(TailNozzle(6)),c=i(TailNozzle(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=TailNozzle(10),p=TailNozzle(80),TailNozzle=function(){(0,l.default)(TailNozzle,d);var t=u(TailNozzle);function TailNozzle(){var e;return(0,r.default)(this,TailNozzle),(e=t.call(this)).name="TailNozzle",e.CNName="牛角管",e.z_index=19.16,e}return(0,o.default)(TailNozzle,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(TailNozzle.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.PREPARE_DRAG,this._backRotation_),this.on("hitted",this._adsorb_),this.tubeDrip=new p(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y},1e3,.05,.05,d),this.tubeDrip.isDripping=!1,this.drop.alpha=0}},{key:"_adsorb_",value:function(e){var t=this,e=e.hitObj;this==e||this.currentHitObj==e||TweenMax.isTweening(this)||TweenMax.isTweening(e)||e.isConnect||(this.currentHitObj=e,this.isConnect=!0,e.isConnect=this,e.addChildWithSamePos(this),(e=e.rotation%(2*Math.PI))!=t.rotation&&(e>Math.PI?t.rotation+=Math.PI-e%Math.PI:e>-Math.PI?t.rotation-=e:t.rotation+=-Math.PI-e%Math.PI),this.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig").on("creationComplete",function(){t.currentPlug=this,t.addChildWithSamePos(this),t.addChildAt(this,0),this.x=131,this.y=-30}),TweenMax.to(this,.3,{x:813,y:555,rotation:-1.3}),t.on(NBDrag.event.PREPARE_DRAG,t._init_))}},{key:"_backRotation_",value:function(){0!==this.rotation&&TweenMax.to(this,.3,{rotation:0})}},{key:"_init_",value:function(){this.isConnect=void 0,this.currentHitObj&&(this.currentHitObj.isConnect=void 0,this.currentHitObj=void 0),this.currentPlug&&(this.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[this.currentPlug]}),this.currentPlug=void 0),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this._init_)}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(TailNozzle.prototype),"toJSON",this).call(this),{currentHitObj:this.currentHitObj?this.currentHitObj.getUUID():null})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(TailNozzle.prototype),"setJSON",this).call(this,e);var t=this;e.currentHitObj&&this.getEquipmentByUUID(e.currentHitObj).then(function(e){t.currentHitObj=e,(t.currentHitObj.isConnect=t).isConnect=!0,t.on(NBDrag.event.PREPARE_DRAG,t._init_)})}},{key:"update",value:function(e){(0,s.default)((0,c.default)(TailNozzle.prototype),"update",this).call(this,e),this.tubeDrip&&this.currentCapacity&&.1<this.currentCapacity&&(this.tubeDrip.isDripping=!0)}}]),TailNozzle}();e.exports=TailNozzle},function(e,t,RoundBottomFlask){"use strict";var a=RoundBottomFlask(4),i=RoundBottomFlask(0),n=i(RoundBottomFlask(9)),r=i(RoundBottomFlask(1)),o=i(RoundBottomFlask(2)),s=i(RoundBottomFlask(7)),l=i(RoundBottomFlask(5)),h=i(RoundBottomFlask(6)),c=i(RoundBottomFlask(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=RoundBottomFlask(10),p=RoundBottomFlask(58),f=RoundBottomFlask(26),I=RoundBottomFlask(21),g=Math.PI,RoundBottomFlask=function(){(0,l.default)(RoundBottomFlask,d);var t=u(RoundBottomFlask);function RoundBottomFlask(){var e;return(0,r.default)(this,RoundBottomFlask),(e=t.call(this)).needLimitObjAry=["IronClamp","IronClampSideLook"],e.canCommandPlug=!0,e.name="RoundBottomFlask",e.CNName="圆底烧瓶",e.z_index=15.24,e}return(0,o.default)(RoundBottomFlask,[{key:"needLiquidLimit",value:function(){var e=this.worldRotation;return 1.58<e||e<-1.58}},{key:"getLiquidMaxY",value:function(e){if(!this.needLiquidLimit())return e;var t=this.toGlobal(this.liquidLimit0.position).y,e=this.toGlobal(this.liquidLimit1.position).y;return Math.max(t,e)}},{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(RoundBottomFlask.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.STOP_DRAG,this.hitToClampSide),p.apply(this),this.setEnableRotate(!0)}},{key:"startHot",value:function(){this.hot=!0}},{key:"endHot",value:function(){this.hot=!1}},{key:"setEnableRotate",value:function(e){this.enableRotate(e,{position:{x:this.localBounds.width+10,y:0},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2}},1)}},{key:"hitToClampSide",value:function(){var e=this;if(!TweenMax.isTweening(e))for(var t=e.getSortDisHitObjects(),i=0;i<t.length;i++){var n,a,r=t[i].objB;r&&"IronClampSideLook"===r.name&&.3<r.intersectRect(e)&&(r.isFull()||(NBDrag.removeDrag(e),n={x:80,y:-137,rotation:0},a=e.rotation,(g/2<a&&a<1.5*g||-1.5*g<a&&a<-g/2)&&(n.x=324,n.y=100,-1.5*(n.rotation=g)<a&&a<-g/2&&(n.rotation=-g)),r.addChildAtWithSamePos(e,0),r.reversalX&&(r=f.rotatePoly([{x:-e.width,y:-e.height}],e.rotation)[0],e.x+=r.x),TweenMax.to(e,.5,{x:n.x,y:n.y,rotation:n.rotation,onComplete:function(){NBDrag.addDrag(e)}})))}}},{key:"CollisionToClampSide",value:function(){for(var e=this.getSortDisHitObjects(),t=0;t<e.length;t++){var i=e[t].objB;if("IronClampSideLook"===i.name&&!i.isFull()){var n=this.rotation,n=g/2<n&&n<1.5*g||-1.5*g<n&&n<-g/2?{x:324,y:100,rotation:g}:{x:80,y:-137,rotation:0};return void this.addHintToClampSide(i,n)}}0==e.length&&this.removeGraphicsOrBg()}},{key:"addHintToClampSide",value:function(e,t){e.willAdsorbEqBounds||(this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg(),(t=this.drawBg(e,t.x,t.y,{rotation:t.rotation}))&&((e.willAdsorbEqBounds=t).allowGetBounds=!1,this.lastHitEquipment=e))}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldFlorenceFlask",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"eqAddToViewStack",value:function(){(0,s.default)((0,c.default)(RoundBottomFlask.prototype),"eqAddToViewStack",this).call(this)}},{key:"getConfigureData",value:function(){var e=(0,s.default)((0,c.default)(RoundBottomFlask.prototype),"getConfigureData",this).call(this);return this.isOpen||this.holdAnimation||this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(I.getButton(null,"手握",function(){this.hold()}.bind(this),this)),this.holdAnimation&&(this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(I.getButton(null,"松手",function(){this.loose()}.bind(this),this))),e}},{key:"toJSON",value:function(){var e={};return this.preventNO2ToN2O4&&(e.preventNO2ToN2O4=this.preventNO2ToN2O4),(0,n.default)(e,(0,s.default)((0,c.default)(RoundBottomFlask.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(RoundBottomFlask.prototype),"setJSON",this).call(this,e),e.preventNO2ToN2O4&&(this.preventNO2ToN2O4=e.preventNO2ToN2O4)}}]),RoundBottomFlask}();e.exports=RoundBottomFlask},function(e,t,HugeBeaker){"use strict";var a=HugeBeaker(4),i=HugeBeaker(0),n=i(HugeBeaker(1)),r=i(HugeBeaker(2)),o=i(HugeBeaker(7)),s=i(HugeBeaker(5)),l=i(HugeBeaker(6)),h=i(HugeBeaker(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=HugeBeaker(97),d=HugeBeaker(170),HugeBeaker=function(){(0,s.default)(HugeBeaker,d);var t=c(HugeBeaker);function HugeBeaker(){var e;return(0,n.default)(this,HugeBeaker),(e=t.call(this)).top=e.bottom="",e.name="HugeBeaker",e.CNName="烧杯1000mL",e.z_index=15.18,e.hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e.isBeaker=!0,e.isCoverTwoSmallBeaker=!1,e.coveredTwoSmallBeakers=null,e.molecularTransCount=0,e.spreadDataStruct=[],e.canEditLable=!0,e}return(0,r.default)(HugeBeaker,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(HugeBeaker.prototype),"creationComplete",this).call(this),this.stirCount=0,this.stirSedCount=0,this.setEnableRotate(!0),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on("stopDragNoPerfectObj",this.hitTwoSmallBeaker),this.initDrip(),this.initFume(),this.coverTwoSmallBeaker=[],this.smallPosition={leftSmall:{x:378,y:183},rightSmall:{x:213,y:183}},this.label.txt.anchor.x=.5,this.label.txt.x=62.5}},{key:"eqAddToViewStack",value:function(){(0,o.default)((0,h.default)(HugeBeaker.prototype),"eqAddToViewStack",this).call(this);var e=this.coverTwoSmallBeaker,t=this;e.forEach(function(e){e&&(t.getEqLayer().addChildWithSamePos(e),e.rotation=0,e.currentEquipmentValue=0)}),t.currentEquipmentValue=0,t.coverTwoSmallBeaker.length=0}},{key:"getSelfGlobalVertexes",value:function(){var e=this.toGlobal({x:60,y:10}),e=new u(e.x,e.y),t=this.toGlobal({x:396,y:10}),t=new u(t.x,t.y),i=this.toGlobal({x:385,y:440}),i=new u(i.x,i.y),n=this.toGlobal({x:60,y:440});return[e,t,i,n=new u(n.x,n.y)]}},{key:"setEnableRotate",value:function(e){this.enableRotate(e,{position:{x:this.localBounds.width+10,y:0},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2}},1)}},{key:"hitTwoSmallBeaker",value:function(e){if(this.coveredTwoSmallBeakers&&this.coveredTwoSmallBeakers instanceof Array&&this.isCoverTwoSmallBeaker)for(var t=0;t<this.coveredTwoSmallBeakers.length;t++){var i=this.coveredTwoSmallBeakers[t].eq;i.coverBigBeaker=null,i.coveredByBigBeaker=!1,i.molecularTransCount=0}this.coveredTwoSmallBeakers=null,this.molecularTransCount=0;var n=e.dragObj;if(n.parent==n.getEqLayer()&&n.isEmpty()){e=this.rotation;if(Math.abs(e)<Math.PI/4*3)this.isCoverTwoSmallBeaker=!1;else{var e=this.getEquipments(),a=[];if(e.forEach(function(e){"SmallBeaker"===e.name&&e.parent===n.getEqLayer()&&n.hitTest(e)&&e.isEmpty&&a.push(e)}),0===a.length&&this.setEnableRotate(!0),1===a.length&&a[0].hitHugebeaker(n),a.length<2)this.isCoverTwoSmallBeaker=!1;else{var r,o,s=[];if(a.forEach(function(e){e={area:n.intersectRect(e),eq:e};s.push(e)}),s.sort(function(e,t){return t.area-e.area}),s[0].eq.x<s[1].eq.x?(r=s[0],o=s[1]):(o=s[0],r=s[1]),n.rotation=Math.PI,n.setEnableRotate(!1),n.coverTwoSmallBeaker.push(r.eq,o.eq),n.currentEquipmentValue=3,n.setPositionForHuge(),this.isCoverTwoSmallBeaker=!0,this.coveredTwoSmallBeakers=s,this.coveredTwoSmallBeakers&&this.coveredTwoSmallBeakers instanceof Array&&this.isCoverTwoSmallBeaker)for(var l=0;l<this.coveredTwoSmallBeakers.length;l++){var h=this.coveredTwoSmallBeakers[l].eq;h.coverBigBeaker=this,h.coveredByBigBeaker=!0}}}}else this.isCoverTwoSmallBeaker=!1}},{key:"updateMedicineDataTransform",value:function(){if(this.molecularTransCount++,this.coveredTwoSmallBeakers&&this.coveredTwoSmallBeakers instanceof Array&&this.isCoverTwoSmallBeaker)for(var e=0;e<this.coveredTwoSmallBeakers.length;e++)this.coveredTwoSmallBeakers[e].eq.molecularTransCount++}},{key:"setPositionForHuge",value:function(){for(var e=this,t=0;t<2;t++){var i,n=e.coverTwoSmallBeaker[t];n&&(i=0===t?e.smallPosition.leftSmall:e.smallPosition.rightSmall,e.addChildAtWithSamePos(n,0),n.currentEquipmentValue=3,n.rotation=Math.PI,NBDrag.removeDrag(e),TweenMax.to(n,.2,{x:i.x,y:i.y,onComplete:function(){NBDrag.addDrag(e)}}))}}},{key:"update",value:function(e){(0,o.default)((0,h.default)(HugeBeaker.prototype),"update",this).call(this,e),this.isCoverTwoSmallBeaker&&this.updateMedicineDataTransform()}}]),HugeBeaker}();e.exports=HugeBeaker},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10),f=i(21),I=i(29).getLan;e.exports=function(){(0,h.default)(a,p);var e=d(a);function a(){return(0,o.default)(this,a),e.call(this)}return(0,s.default)(a,[{key:"creationComplete",value:function(){(this.vision.allowGetBounds=!1,l.default)((0,u.default)(a.prototype),"creationComplete",this).call(this),this._visionVisible=!1,this.visionVisible=!1,this.showTip(I("eq_measuringCylinderTip"),this.tipFontSize),this.on(NBDrag.event.DRAG_MOVE,this.dragMove)}},{key:"visionVisible",get:function(){return this._visionVisible},set:function(e){this.vision.visible=e,this._visionVisible=e,this.bg.dial.visible=!e,(this.bg.dial1.visible=e)&&!this.lastVisible&&(this.hasShowTip=!1),this.lastVisible=e,this.updateVisionPos()}},{key:"dragMove",value:function(){var e,t;this.tipGra&&(e=this.getCenterPositionToEqLayer(),t=this.pointToCenterDis,this.tipGra.x=e.x,this.tipGra.y=e.y+t+.5*this.tipGra.getLocalBounds().height+20)}},{key:"getConfigureData",value:function(){var e=(0,l.default)((0,u.default)(a.prototype),"getConfigureData",this).call(this);return(e=!e||!e.confArr?{confArr:[]}:e).confArr.push(f.getSwitch("显示视线",this.visionVisible,function(e){this.visionVisible=e.checked}.bind(this))),e}},{key:"updateVisionPos",value:function(){var e=this.liquidVertex,t=this.visionPos;e&&.1<this.getCurrentCapacity()&&(e=.5*(e[0].y+e[e.length-1].y),t=this.toLocal({x:0,y:e})),this.vision.y=this.vision.y=t.y}},{key:"setVisionVisible",value:function(e){for(var t=0;t<this.vision.children.length;t++)this.vision.children[t].visible=e;this.bg.dial.visible=!this.visionVisible,this.bg.dial1.visible=this.visionVisible}},{key:"update",value:function(e){var t,i,n=this;(0,l.default)((0,u.default)(a.prototype),"update",this).call(this,e),this.updateVisionPos(),-.01<this.getRealRotation()&&this.getRealRotation()<.01?this.setVisionVisible(!0):(this.setVisionVisible(!1),this.visionVisible&&!this.hasShowTip&&(this.hasShowTip=!0,clearTimeout(this.st),t=this,i=TweenMax.to(this.tipGra,.5,{alpha:1,onUpdate:function(){var e=n.getCenterPositionToEqLayer().y+n.pointToCenterDis+.5*n.tipGra.getLocalBounds().height+20,t=e-30;n.tipGra.y=(e-t)*i.progress()+t},onComplete:function(){n.st=setTimeout(function(){TweenMax.to(t.tipGra,.5,{alpha:0})},3e3)}})))}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(a.prototype),"toJSON",this).call(this),{visionVisible:this.visionVisible})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(a.prototype),"setJSON",this).call(this,e),this.visionVisible=e.visionVisible}}]),a}()},function(e,t,SeparatingFunnelBulbShape){"use strict";var a=SeparatingFunnelBulbShape(4),i=SeparatingFunnelBulbShape(0),n=i(SeparatingFunnelBulbShape(9)),r=i(SeparatingFunnelBulbShape(1)),o=i(SeparatingFunnelBulbShape(2)),s=i(SeparatingFunnelBulbShape(7)),l=i(SeparatingFunnelBulbShape(5)),h=i(SeparatingFunnelBulbShape(6)),c=i(SeparatingFunnelBulbShape(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=SeparatingFunnelBulbShape(10),p=SeparatingFunnelBulbShape(126),f=SeparatingFunnelBulbShape(80),I=SeparatingFunnelBulbShape(16),g=SeparatingFunnelBulbShape(200),m=SeparatingFunnelBulbShape(393),y=SeparatingFunnelBulbShape(21),SeparatingFunnelBulbShape=function(){(0,l.default)(SeparatingFunnelBulbShape,p);var t=u(SeparatingFunnelBulbShape);function SeparatingFunnelBulbShape(){var e;return(0,r.default)(this,SeparatingFunnelBulbShape),(e=t.call(this)).autoHideInfo=!0,e.noPascal=!0,e.name="SeparatingFunnelBulbShape",e.CNName="球形分液漏斗",e.removeAry=[],e.z_index=15.25,e.canHasHole=!0,e.hasHole=!1,e._addedBgGraphics=!1,e.switchOffsetX=250,e.noHeightDiff=!0,e.headSwitchPos={x:15,y:70},e}return(0,o.default)(SeparatingFunnelBulbShape,[{key:"creationComplete",value:function(){var e=this;this.totalArea.visible=!1,this.dragArea=this.specialArea,(0,s.default)((0,c.default)(SeparatingFunnelBulbShape.prototype),"creationComplete",this).call(this),this.head.headIndex=5,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this}),this.tubeDrip=new f(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y+24},2e3,.4,.2,d),this.drop.alpha=0,this.reversalType=0,this.setSwitch(),this.setEnableRotate(!0),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.head.reversal=function(){e.setHeadDir(!e.head.isOpen)},this.addedBgGraphics=this._addedBgGraphics}},{key:"addedBgGraphics",get:function(){return this._addedBgGraphics},set:function(e){this.dragArea&&(NBDrag.removeDrag(this),this.dragArea.visible=!1,this.dragArea=e?this.totalArea:this.specialArea,this.dragArea.visible=!0,NBDrag.addDrag(this)),this._addedBgGraphics=e}},{key:"setSwitch",value:function(){var n=this;this.tubeDrip.timeLength=this.maxTimeLength,this.movePortraitSwitchButton=new g(this,{x:this.switchOffsetX,y:250}),this.movePortraitSwitchButton.setEnabled(!0);var a=this,e=this.root.mouseManager,r=0,o=this.maxTimeLength;function t(){for(var e=r=0;e<a.removeAry.length;e++){var t=a.removeAry[e];NBDrag.addDrag(t),t.interactive=!0}a.removeAry.length=0}this.tubeDrip.timeLength=o,this.ani.on(MouseEvent.MOUSE_OVER,function(){e.changeMouseStatus(I.status.STRETCH,!0,n.ani)}),this.ani.on(MouseEvent.MOUSE_OUT,function(){e.changeMouseStatus(I.status.STRETCH,!1,n.ani)}),this.ani.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){r=e.data.global.y,o=n.tubeDrip.timeLength||0,a.findAllParent(a,a.removeAry);for(var t=0;t<a.removeAry.length;t++){var i=a.removeAry[t];NBDrag.removeDrag(i),i.interactive=!1}}),this.ani.addEventListener(TouchEvent.TOUCH_MOVE,function(e){var t;0!==r&&(t=e.data.global.y,e=(r-t)/100,r=t,e=(e=(e=o+e)<n.minTimeLength?n.minTimeLength:e)>n.maxTimeLength?n.maxTimeLength:e,e=((o=e)-n.minTimeLength)/(n.maxTimeLength-n.minTimeLength),n.movePortraitSwitchButton.setPosByPercent(1-e),n.ani.gotoAndStop(4-Math.round(4*e)),n.tubeDrip.timeLength=o)}),this.ani.addEventListener(TouchEvent.TOUCH_END,t.bind(this)),this.ani.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,t.bind(this)),this.headSwitchButton=new m(this,this.headSwitchPos),this.headSwitchButton.setEnabled(!0),this.on(NBEvent.SHOW_WHOLE_BUTTON,function(){n.headSwitchButtonShow()}),this.head.on(NBDrag.event.START_DRAG,function(){n.headSwitchButton.setEnabled(!1)})}},{key:"headSwitchButtonShow",value:function(){this.hasHole&&this.isCovered()?(this.headSwitchButton.setEnabled(!0),this.headSwitchButton.showButton()):this.headSwitchButton.setEnabled(!1)}},{key:"setPercent",value:function(e){var t=this.minTimeLength+(this.maxTimeLength-this.minTimeLength)*(e=1-e);this.ani.gotoAndStop(Math.round(4*(1-e))),this.tubeDrip.timeLength=t}},{key:"findAllParent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t.push(e),e.parent&&e.parent!==this.getEqLayer()&&this.findAllParent(e.parent,t),t}},{key:"setEnableRotate",value:function(e){this.enableRotate(e,{position:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:0,y:100,width:this.localBounds.width,height:.15*this.localBounds.height}},1)}},{key:"isCovered",value:function(){if(this.head)return this.head.parent===this}},{key:"reversal",value:function(){this.reversalType=1-this.reversalType;var e=1===this.reversalType;this.main.scale.x=this.ani.scale.x=e?-1:1,this.ani.x=this.main.x+(e?-16.1:16.1);var t=e?"SeparatingFunnelStraight"===this.name?-160:-60:this.switchOffsetX;this.movePortraitSwitchButton.oldBtnPos.x=t,this.movePortraitSwitchButton.btnPosition.x=this.movePortraitSwitchButton.oldBtnPos.x,this.movePortraitSwitchButton.oriBtnPosition.x=this.movePortraitSwitchButton.oldBtnPos.x,this.movePortraitSwitchButton.changeType(e?"left":"right"),this.movePortraitSwitchButton.setBtnPosition()}},{key:"getConfigureData",value:function(){var e=(0,s.default)((0,c.default)(SeparatingFunnelBulbShape.prototype),"getConfigureData",this).call(this);return(e=!e||!e.confArr?{confArr:[]}:e).confArr.push(y.getRadio("方向",1-this.reversalType,["左","右"],function(e){this.reversalType=e,this.reversal()}.bind(this),this)),this.canHasHole&&e.confArr.push(y.getRadio("器材类型",this.hasHole?1:0,["无孔","有孔"],function(e){this.setHasHole(!!e)}.bind(this),this)),e}},{key:"setHasHole",value:function(e){var t=this.hole,i=this.head;this.hasHole!==e&&(e?(t.alpha=1,i.gotoAndStop(1),this.isCovered()&&(this.headSwitchButton.setEnabled(!0),this.headSwitchButton.showButton())):(t.alpha=0,i.gotoAndStop(0),this.headSwitchButton.setEnabled(!1),this.headSwitchButton.hideButton()),this.hasHole=e)}},{key:"setHeadDir",value:function(e){var t;this.head.isOpen!==e&&this.hasHole&&this.head.parent===this&&(t=this.head,e?(t.gotoAndStop(2),t.isOpen=!0):!1===e&&(t.gotoAndStop(1),t.isOpen=!1))}},{key:"update",value:function(e){(0,s.default)((0,c.default)(SeparatingFunnelBulbShape.prototype),"update",this).call(this,e),0!==this.getCurrentCapacity()&&this.tubeDrip.timeLength<this.maxTimeLength&&(!1===this.isCovered()||this.head.isOpen)&&1e-7<this.getCurrentCapacity()&&(this.isLinked||this.tubeDrip.checkPascal.call(this.tubeDrip))?!1===this.tubeDrip.isDripping&&(this.tubeDrip.isDripping=!0):this.tubeDrip.isDripping=!1}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(SeparatingFunnelBulbShape.prototype),"toJSON",this).call(this),{_hasHole:this.hasHole,headOpen:this.head.isOpen,reversalType:this.reversalType})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(SeparatingFunnelBulbShape.prototype),"setJSON",this).call(this,e),e._hasHole&&(this.setHasHole(e._hasHole),this.headSwitchButton.hideButton()),e.headOpen&&this.setHeadDir(e.headOpen),e.reversalType&&this.reversal()}}]),SeparatingFunnelBulbShape}();e.exports=SeparatingFunnelBulbShape},function(e,t,Flume){"use strict";var a=Flume(4),i=Flume(0),n=i(Flume(9)),r=i(Flume(59)),o=i(Flume(1)),s=i(Flume(2)),l=i(Flume(7)),h=i(Flume(5)),c=i(Flume(6)),u=i(Flume(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=Flume(10),f=Flume(21),Flume=function(){(0,h.default)(Flume,p);var t=d(Flume);function Flume(){var e;return(0,o.default)(this,Flume),(e=t.call(this)).name="Flume",e.CNName="水槽",e.z_index=5.1,e}return(0,s.default)(Flume,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(Flume.prototype),"creationComplete",this).call(this),this.capacityScale=1.2,this.isFlume=!0;var e=new LiquidVO(this.root.medicineManager.getMedicineData("H2O"),120);this.medicineData.push(e),this.liquidLevelHeight=50}},{key:"clearMed",value:function(){for(var e in this.blockMedicineMap.forEach(function(e){e&&0<e.size&&(0,r.default)(e).forEach(function(e){e.clear(),e.destroy()})}),this.medicineNBGraphicMap.forEach(function(e){e&&0<e.size&&(0,r.default)(e).forEach(function(e){e.destroy()})}),this.medicineNBGraphicMap.clear(),this.setCurrentCapacity(0),this.medicineData.solidAry)this.medicineData.solidAry.hasOwnProperty(e)&&delete this.medicineData.solidAry[e];this.solidBubbleGroup&&-10!==this.solidBubbleCount&&(this.solidBubbleCount=0)}},{key:"getConfigureData",value:function(){var e=(0,l.default)((0,u.default)(Flume.prototype),"getConfigureData",this).call(this);return e.confArr.push(f.getButton("clear","清空",this.clearMed.bind(this),this)),e}},{key:"toJSON",value:function(){var e={};return this.noSedimentsParticle&&(e.noSedimentsParticle=this.noSedimentsParticle),(0,n.default)(e,(0,l.default)((0,u.default)(Flume.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(Flume.prototype),"setJSON",this).call(this,e),e.noSedimentsParticle&&(this.noSedimentsParticle=e.noSedimentsParticle)}}]),Flume}();e.exports=Flume},function(e,t,Balance){"use strict";var a=Balance(4),i=Balance(0),n=i(Balance(1)),r=i(Balance(2)),o=i(Balance(7)),s=i(Balance(5)),l=i(Balance(6)),h=i(Balance(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=Balance(8),d=Balance(53),p=Balance(268),f=Balance(123),I=Balance(50),g=Balance(21),m=nape.phys.Compound,y=nape.shape.Polygon,v=nape.dynamics.InteractionGroup,C=nape.geom.Vec2,M=PIXI.Point,Balance=Balance(11).nape.group,b=nape.phys.Material,x=new nape.dynamics.InteractionFilter;x.set_collisionMask(Balance.BALANCE_MASK),x.set_collisionGroup(Balance.BALANCE_COLLISION);Balance=function(){(0,s.default)(Balance,u);var t=c(Balance);function Balance(){var e;return(0,n.default)(this,Balance),(e=t.call(this)).name="Balance",e.CNName="天平",e.z_index=5,e.var_halfleng=130.5,e.canRotate=!1,e.var_balanceGroup=new v(!0),e.var_rulerBody,e.var_leftBody,e.var_rightBody,e.var_youbiaoBody,e.var_leftBox,e.var_luoleftBox,e.var_luorightBox,e.var_onekeyph=!1,e.btBox,e.jarr=[],e.var_k5omg=[14,16.1,2.05],e.var_k10omg=[13,17,8.5],e.var_curtK=e.var_k5omg,e.var_ltype=0,e.space,e.compo=new m,e.onceCreateEvent=!0,e}return(0,r.default)(Balance,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(Balance.prototype),"creationComplete",this).call(this),this.init(),this.checkHitwithWeighingPaper=!1}},{key:"addedToStage",value:function(){(0,o.default)((0,h.default)(Balance.prototype),"addedToStage",this).call(this)}},{key:"eqPrepareDelete",value:function(){(0,o.default)((0,h.default)(Balance.prototype),"eqPrepareDelete",this).call(this);try{this.compo.breakApart(),this.compo.set_space(null),d.destoryBody(this.var_leftBody),d.destoryBody(this.var_rightBody),d.destoryBody(this.var_rulerBody),d.destoryBody(this.btBox),d.destoryBody(this.body)}catch(e){}}},{key:"init",value:function(){var i=this;this.hitTestMcLeft.alpha=0,this.hitTestMcRight.alpha=0,this.hitTestMcRight.interactive=!1,this.hitTestMcLeft.interactive=!1,this.hitTestMcLeft.interactiveChildren=!1,this.hitTestMcRight.interactiveChildren=!1,this.gang.gangBody.interactive=!1,this.gang.gangBody.interactiveChildren=!1,this.pan.interactive=!1,this.pan.interactiveChildren=!1,this.space=this.root.nape.space,this.body=new I(f.KINEMATIC),this.pan.napeObj=this.body,this.pan.isCompound=!0,this.pan.moveThisToXY=this.moveThisToXY;var e=this;this.pan.getViewStack=function(){return e.getViewStack()},this.gang.selectTarget=this.parent,this.body.set_space(this.space),this.compo.set_space(this.space),this.body.set_compound(this.compo),this.func_initBg(),this.func_initGang(),this.body.setGroup(this.var_balanceGroup),this.body.userData.handJointFrequency=1e6,this.func_initTp(),this.func_initYoubiao(),this.gang.nie.visible=!1,this.func_initLun(),this.func_leveling(),this.pan.refreshxy=function(e,t){i.refreshxy(e,t),0===e&&0===t&&i.onceCreateEvent&&(i.gang.alpha=1,i.left.alpha=1,i.right.alpha=1,i.onceCreateEvent=!1)},this.var_rulerBody.setShapeFilters(x),this.btBox.setShapeFilters(x),this.body.setShapeFilters(x),this.var_rightBody.setShapeFilters(x),this.var_leftBody.setShapeFilters(x)}},{key:"moveThisToXY",value:function(e,t){this.compo&&this.compo.translate(C.get(e,t))}},{key:"func_addBodyToSpace",value:function(e,t,i){t&&(e.userData.coordinateField=t),i&&e.userData.view&&(e.userData.bindupdate={func:e.userData.view.update,field:e.userData.view}),e.set_space(this.root.nape.space)}},{key:"func_resetUserView",value:function(e,t,i,n){this.body.userData.view=e,n&&(this.body.userData.classType=n),t&&(this.body.userData.coordinateField=t),1==i&&(this.body.userData.bindupdate={func:this.update,field:this})}},{key:"checkHit",value:function(e){var t,i;e.napeObj&&(t=(i=e.getBounds()).x+i.width/2-20,i=i.y+i.height-20,i=new PIXI.Point(t,i),this.hitTestMcLeft.hitTestPoint(i)||this.hitTestMcRight.hitTestPoint(i)?((i=e.napeObj).set_type(nape.phys.BodyType.get_DYNAMIC()),i.setShapeFilters(x),e.onBalance=!0,e.balance=this):e.balance===this&&(e.onBalance=!1))}},{key:"checkHitByWeightBox",value:function(e){var t,i;e.napeBody&&(t=(i=e.getBounds()).x+i.width/2-20,i=i.y+i.height-20,i=new PIXI.Point(t,i),(this.hitTestMcLeft.hitTestPoint(i)||this.hitTestMcRight.hitTestPoint(i))&&((e=e.napeBody).set_type(nape.phys.BodyType.get_DYNAMIC()),e.setShapeFilters(x)))}},{key:"setThisShapeFilter",value:function(e){e.setShapeFilters(x)}},{key:"update",value:function(){var e;(0,o.default)((0,h.default)(Balance.prototype),"update",this).call(this),this.root.nape.renderCount=1,!this.var_rulerBody||0!==(e=this.var_rulerBody.get_angularVel())&&this.var_rulerBody.set_angularVel(e-e*e*.3*(0<e?1:-1))}},{key:"func_initLun",value:function(){var e=this.gang.leftlun.width,t=this.gang.leftlun.height;this.var_luoleftBox=new y(y.box(e,t)),this.var_rulerBody.add(this.var_luoleftBox),this.var_rulerBody.set_shape_sensorEnabled(this.var_luoleftBox,!0),this.var_luorightBox=new y(y.box(e,t)),this.var_rulerBody.add(this.var_luorightBox),this.var_rulerBody.set_shape_sensorEnabled(this.var_luorightBox,!0),d.setShapeMass(this.var_luoleftBox,this.var_curtK[0]),d.setShapeMass(this.var_luorightBox,this.var_curtK[1]),NBDrag.addDrag(this.gang.leftlun),NBDrag.addDrag(this.gang.rightlun);var n,a=this.gang.leftlun.y,r=this.gang.rightlun.y;this.gang.leftlun.on(NBDrag.event.START_DRAG,i.bind(this)),this.gang.leftlun.on(NBDrag.event.DRAG_MOVE,h.bind(this)),this.gang.leftlun.on(NBDrag.event.STOP_DRAG,c.bind(this)),this.gang.rightlun.on(NBDrag.event.START_DRAG,i.bind(this)),this.gang.rightlun.on(NBDrag.event.DRAG_MOVE,h.bind(this)),this.gang.rightlun.on(NBDrag.event.STOP_DRAG,c.bind(this));var o=290,s=360,l=0;function i(e){var t=e.target;this.var_onekeyph||(n=e.data.global.y,l=t.currentFrame)}function h(e){var t,i=e.target;this.var_onekeyph||(e=(t=e.data.global).y-n,0<t.y-n?l++:l--,(l=l>=i.totalFrames?0:l)<0&&(l=i.totalFrames),this.gang.leftlun==i?(i.y=a,this.gang.leftlun.x+=.2*e,this.gang.leftlun.x>-o&&(this.gang.leftlun.x=-o),this.gang.leftlun.x<-s&&(this.gang.leftlun.x=-s)):this.gang.rightlun==i&&(i.y=r,this.gang.rightlun.x+=.2*e,this.gang.rightlun.x<o&&(this.gang.rightlun.x=o),this.gang.rightlun.x>s&&(this.gang.rightlun.x=s)),i.gotoAndStop(l),this.func_changeRightBox(),n=t.y)}function c(){}}},{key:"func_changeRightBox",value:function(){this.var_luoleftBox.set_localCOM(C.get(this.gang.leftlun.x,this.gang.leftlun.y)),this.var_luorightBox.set_localCOM(C.get(this.gang.rightlun.x,this.gang.rightlun.y))}},{key:"func_initYoubiao",value:function(){var e=this;this.var_leftBox=new y(y.box(50,38)),this.var_rulerBody.add(this.var_leftBox),this.var_rulerBody.set_shape_sensorEnabled(this.var_leftBox,!0),this.var_leftBox.set_localCOM(C.get(-this.var_halfleng+.5*this.gang.youbiao.width,0)),d.setShapeMass(this.var_leftBox,this.var_curtK[2]),NBDrag.addDrag(this.gang.youbiao);var t=this.gang.youbiao.y;this.gang.youbiao.on(NBDrag.event.START_DRAG,function(){e.body.forbidDrag(!0),e.gang.nie.visible=!0,e.gang.nie.x=e.gang.youbiao.x,e.gang.nie.y=e.gang.youbiao.y+20}),this.gang.youbiao.on(NBDrag.event.DRAG_MOVE,function(){e.gang.youbiao.x<-e.var_halfleng+.5*e.gang.youbiao.width&&(e.gang.youbiao.x=-e.var_halfleng+.5*e.gang.youbiao.width),e.gang.youbiao.x>e.var_halfleng+.5*e.gang.youbiao.width&&(e.gang.youbiao.x=e.var_halfleng+.5*e.gang.youbiao.width),e.var_leftBox.set_localCOM(C.get(e.gang.youbiao.x,0)),e.gang.nie.x=e.gang.youbiao.x,e.gang.youbiao.y=t,e.gang.nie.y=e.gang.youbiao.y+20}),this.gang.youbiao.on(NBDrag.event.STOP_DRAG,function(){e.body.forbidDrag(!1),e.gang.nie.visible=!1})}},{key:"refreshxy",value:function(e,t){var i=this.var_leftBody.get_position(),n=this.var_rightBody.get_position(),a=this.var_rulerBody.get_position(),i=i.add(C.get(e,t)),n=n.add(C.get(e,t)),a=a.add(C.get(e,t));this.var_leftBody.set_position(i),this.var_rightBody.set_position(n),this.var_rulerBody.set_position(a);a=this.btBox.get_position();a.addeq(C.get(e,t)),this.btBox.set_position(a)}},{key:"func_initTp",value:function(){this.left.x=-215,this.right.x=215,this.left.y=this.right.y=53,this.var_leftBody=i(0,this.left),this.var_rightBody=i(0,this.right),this.func_addBodyToSpace(this.var_leftBody,this),this.func_addBodyToSpace(this.var_rightBody,this);var e=p.createPivotJoint(this.var_leftBody,this.var_rulerBody,this.var_leftBody.position,this.var_leftBody.position,this.space),t=p.createPivotJoint(this.var_rightBody,this.var_rulerBody,this.var_rightBody.position,this.var_rightBody.position,this.space);function i(e,t){var i=new b(0,5,10,2),n=new y(y.rect(-145,-108,288,28),i),a=new y(y.rect(-22,-80,48,145),i),i=new I;return i.set_allowRotation(!1),i.posx=t.x,i.posy=t.y,i.add(n),i.add(a),i.userData.view=t,i}this.var_leftBody.set_compound(this.compo),this.var_rightBody.set_compound(this.compo),e.set_compound(this.compo),t.set_compound(this.compo),this.var_leftBody.userData.handJointFrequency=1,this.var_rightBody.userData.handJointFrequency=1}},{key:"func_initGang",value:function(){this.gang.y=40;var e=new y(y.rect(-200,0,400,50));this.var_rulerBody=new I,this.var_rulerBody.add(e);var t=new M(this.gang.x,this.gang.y),t=C.get(t.x,t.y);this.var_rulerBody.set_position(t),this.var_rulerBody.userData.view=this.gang,this.var_rulerBody.forbidDrag(!0),this.func_addBodyToSpace(this.var_rulerBody,this),this.var_rulerBody.set_shape_sensorEnabled(e,!0);t=p.createPivotJoint(this.body,this.var_rulerBody,t,t,this.space);this.var_rulerBody.set_compound(this.compo),t.set_compound(this.compo),t.coerceAB=!0,t.aTob=!1}},{key:"func_initBg",value:function(){this.body.shapes.clear();var e=new b(0,5,10,2),t=new y(y.rect(this.pan.bot.x,this.pan.y+this.pan.bot.y,this.pan.bot.width,this.pan.bot.height),e);this.body.add(t);t=new y(y.rect(-50,this.pan.y-170,100,350),e);t.set_sensorEnabled(!0),this.body.add(t),this.func_resetUserView(this.pan,this),this.btBox=new I;e=new y(y.rect(this.pan.bot.x,this.pan.y+this.pan.bot.y,this.pan.bot.width,this.pan.bot.height),e);this.btBox.add(e),this.func_addBodyToSpace(this.btBox),this.btBox.set_position(this.body.position),this.btBox.set_compound(this.compo),p.createWeldJoint(this.body,this.btBox,this.body.position,this.body.position,this.space).set_compound(this.compo)}},{key:"eqPrepareDrag",value:function(){(0,o.default)((0,h.default)(Balance.prototype),"eqPrepareDrag",this).call(this);for(var e=(e=d.getAllCollisionBodys(this.var_leftBody)).concat(d.getAllCollisionBodys(this.var_rightBody)),t=0;t<e.length;t++){var i,n=e[t];n!=this.body&&(i=n.position,i=p.createWeldJoint(this.body,n,i,i,this.space),this.jarr.push(i))}}},{key:"eqStopDrag",value:function(){(0,o.default)((0,h.default)(Balance.prototype),"eqStopDrag",this).call(this);for(var e=0,e=0;e<this.jarr.length;e++){var t=this.jarr[e];t.body1=null,t.body2=null,this.root.nape.space.constraints.remove(t)}}},{key:"getDragRect",value:function(){return{x:0,y:0,width:100,height:100}}},{key:"func_changePingHeng",value:function(e){var t,i,n,a;this.var_onekeyph||(this.gang.rightlun.x=310,this.gang.youbiao.x=-this.var_halfleng+.5*this.gang.youbiao.width,this.var_leftBox.set_localCOM(C.get(this.gang.youbiao.x,0),0),t=d.getShapeMass(this.var_luoleftBox),i=d.getShapeMass(this.var_leftBox),n=d.getShapeMass(this.var_luorightBox),a=Math.abs(this.gang.youbiao.x),this.gang.leftlun.x=5-(310*n-i*a)/t,this.func_changeRightBox()),this.var_onekeyph=e.checked}},{key:"func_changeLc",value:function(e){e=e.showValue;"100g"==e?(this.var_curtK=this.var_k5omg,this.var_ltype=0,this.gang.biaochi.gotoAndStop(0)):"500g"==e&&(this.var_curtK=this.var_k10omg,this.var_ltype=1,this.gang.biaochi.gotoAndStop(1)),this.showToolDatas(),this.func_refreshLuoMuMass()}},{key:"func_getLc",value:function(){return 0==this.var_ltype?"100g":"500g"}},{key:"func_getFd",value:function(){return 0==this.var_ltype?"0.2":"0.5"}},{key:"func_refreshLuoMuMass",value:function(){d.setShapeMass(this.var_luoleftBox,this.var_curtK[0]),d.setShapeMass(this.var_luorightBox,this.var_curtK[1]),d.setShapeMass(this.var_leftBox,this.var_curtK[2])}},{key:"selectRenderChild",value:function(){return this.pan.getBounds()}},{key:"func_leveling",value:function(){this.gang.youbiao.x=-this.var_halfleng+.5*this.gang.youbiao.width,this.var_leftBox.set_localCOM(C.get(this.gang.youbiao.x,0),0),this.gang.leftlun.x=-327.6,this.gang.rightlun.x=300,this.func_changeRightBox()}},{key:"getConfigureData",value:function(){var e=(0,o.default)((0,h.default)(Balance.prototype),"getConfigureData",this).call(this),t=g.getButton("leveling","一键调平",function(){this.func_leveling()}.bind(this),this);return e.confArr?e.confArr.push(t):e.confArr=[t],e}}]),Balance}();e.exports=Balance},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(363),s=i(1089),l=i(1090),i=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,null,[{key:"createPivotJoint",value:function(e,t,i,n,a){n=new o(e,t,e.worldPointToLocal(i),t.worldPointToLocal(n));return n.ignore=!0,n.stiff=!0,n.damping=0,n.frequency=1e5,n.set_space(a),n}},{key:"createLineJoint",value:function(e,t,i,n,a,r,o){o=new LineJoint(e,t,e.worldPointToLocal(i),t.worldPointToLocal(n),a,r,o);return o.stiff=!0,o.ignore=!0,o.damping=0,o.set_space(window.instance.nape.space),o}},{key:"createDistanceJoint",value:function(e,t,i,n,a,r,o){r=new l(e,t,e.worldPointToLocal(i),t.worldPointToLocal(n),a,r);return r.set_space(o),r.ignore=!0,r.stiff=!1,r.damping=0,r.frequency=1e10,r}},{key:"createSpringJoint",value:function(e,t,i,n,a){a=new SpringJoint(e,t,e.worldPointToLocal(i),t.worldPointToLocal(n),a);return a.set_space(window.instance.nape.space),a.frequency=1,a}},{key:"createWeldJoint",value:function(e,t,i,n,a){e.rotation||(e.rotation=0),t.rotation||(t.rotation=0);var r=t.rotation-e.rotation,r=new s(e,t,e.worldPointToLocal(i),t.worldPointToLocal(n),r);return r.maxForce=1e7,r.ignore=!0,r.set_space(a),r}},{key:"createAngleJoint",value:function(e,t,i,n,a){a=new AngleJoint(e,t,i,n,a);return a.set_space(window.instance.nape.space),a}},{key:"createPulleyJoint",value:function(e,t,i,n,a,r,o,s,l,h,c){a=e.worldPointToLocal(a),r=t.worldPointToLocal(r),o=i.worldPointToLocal(o),s=n.worldPointToLocal(s),c=c||1;c=new PulleyJoint(e,t,i,n,a,r,o,s,l,h,c);return c.ignore=!0,c.stiff=!0,c.damping=0,c.frequency=1e5,c.set_space(window.instance.nape.space),c}}]),e}();e.exports=i},function(e,t,i){"use strict";var s=i(44),l=i(42),h=i(43),c=i(37),n=i(0),S=n(i(61)),u=n(i(60));function w(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}i(10);var B=i(22),D=i(45),P=i(133),L=i(100),N=i(33),J=i(20),_=i(27),E=i(252),k={},q={valence:-1,name:"Cl"},R={valence:1,name:"K"};k.priority={Mg:7,Al:6,Zn:5,Fe:4,H:3,Cu:2,Ag:1,C:0},k.oPriority=P.reductive,k.LossElectron=["S-2","I-1","Br-1","Cl-1","OH-1"],k.ElectronConfig={"S-2":{Products:["S"],ProductPhySta:["s"],Modulus:[1,2,1]},"I-1":{Products:["I2"],ProductPhySta:["s"],Modulus:[2,2,1]},"Br-1":{Products:["Br2"],ProductPhySta:["l"],Modulus:[2,2,1]},"Cl-1":{Products:["Cl2"],ProductPhySta:["g"],Modulus:[2,2,1],ProductStatus:"Cl2↑"},"OH-1":{Products:["H2O","O2"],ProductPhySta:["l","g"],Modulus:[4,4,2,1],ProductStatus:"O2↑"},"~H1":{Products:["H2"],ProductPhySta:["g"],Modulus:[2,2,1],ProductStatus:"H2↑"},H1:{Products:["H2"],ProductPhySta:["g"],Modulus:[2,2,1],ProductStatus:"H2↑"},Ag1:{Products:["Ag"],ProductPhySta:["s_m"],Modulus:[1,1,1]},Fe3:{Products:["Fe2"],ProductPhySta:["i"],Modulus:[1,1,1]},Cu2:{Products:["Cu"],ProductPhySta:["s_m"],Modulus:[1,2,1]},Pb2:{Products:["Pb"],ProductPhySta:["s_m"],Modulus:[1,2,1]},Sn2:{Products:["Sn"],ProductPhySta:["s_m"],Modulus:[1,2,1]},Fe2:{Products:["Fe"],ProductPhySta:["s_m"],Modulus:[1,2,1]}},k.GetElectron=["Ag1","Fe3","Cu2","~H1","Pb2","Sn2","Fe2","H1"],k.calEffect=function(e){var s,t,i={},I=new u.default,g=i.poles=[],m=i.wires=[],y=i.containers=[],v=i.galvanometers=[],C=i.lightBulbs=[],M=i.powerSwitchs=[],b=i.batterys=[],x=null;if((function e(t,i){if(I.has(t))return;if("PowerSwitch"===t.name&&!t.isClose)return;var n=!1;I.add(t);var a=!1;var r={};switch(!0){case t.isMetalPiece:if(t.calculationElectro=!0,t.currentContainer&&t.isHitWater()){var o=t.getMetalName(),s=k.priority[o];void 0===s&&(s=0);var l=k.judgeGotElecIon(t.currentContainer);if(!l)break;if(1===l.length&&l[0].mol<1e-6)break;if(1<l.length&&l.chemical.mol<1e-6)break;var h={equipment:t,name:o,priority:s,getNum:0,getIons:l};g.push(h),x=x||h}break;case t.isWire:t.calculationElectro=!0,m.push(t);break;case t.isBaseContainer:y.push(t),n=!0;break;case"Galvanometer"===t.name:t.calculationElectro=!0,r={equipment:t,from:null,pole:null},x?(r.from=i,r.pole=x):a=!0,v.push(r);break;case"LightBulb"===t.name:t.calculationElectro=!0;h={equipment:t,from:null,pole:null};x?(h.from=i,h.pole=x):a=!0,C.push(h);break;case"PowerSwitch"===t.name:t.calculationElectro=!0;var c={equipment:t,from:null,pole:null};x?(c.from=i,c.pole=x):a=!0,M.push(c);break;case"Battery"===t.name:t.calculationElectro=!0;c={equipment:t,from:null,pole:null};x?(c.from=i,c.pole=x):a=!0,b.push(c)}if(!n)for(var u=t.addedNode,d=0,p=u.length;d<p;d++){var f=u[d];f&&(e(f,t),a&&x&&(r.from=f,r.pole=x,a=!1))}}(e),0===g.length&&0<b.length&&function e(t,i){if(!t)return!1;if("PowerSwitch"===t.name&&!t.isClose)return!1;if(t===s)return!0;var n=t.addedNode;var a=n.length;for(var r=0;r<a;r++){var o=n[r];if(o!==i)return e(o,t)}}((s=b[0].equipment).addedNode[1],s)&&(v.forEach(function(e){e.equipment.setDirection(!0)}),C.forEach(function(e){e=e.equipment;e.setCurrent(.8*e.MAX_CURRENT)})),!(g.length<2))&&!(2<g.length||(b.length?(o=b[0].equipment,n=l(o.addedNode[0],o),t=l(o.addedNode[1],o),n&&t&&(a=h(t.currentContainer,k.LossElectron),i=a.reaction,e=a.config,t.isElectrolysising=!0,t.generateEquation(-3,i,e),o=h(n.currentContainer,k.GetElectron),a=o.reaction,o=o.config,n.isElectrolysising=!0,n.generateEquation(3,a,o),k.genMedicineDataTrans(t,-3,i,e),k.genMedicineDataTrans(n,3,a,o))):(g[0].isElectrolysising=!1,g[1].isElectrolysising=!1),2===y.length&&y[0].elecLineContainer!==y[1]||g[0].equipment.stopElectEffect||g[1].equipment.stopElectEffect))){var n=g[0].priority,a=g[1].priority-n;g[0].getNum=a,g[1].getNum=-a;for(var r=0;r<y.length;r++)y[r].conf_chemical_equation=!1;var o=g[a<0?0:1].equipment,n=g[a<0?1:0].equipment;if(0!=a||g[0].equipment.withGas&&g[1].equipment.withGas)return k.specialJudgePole(o,n,g[0].getIons)&&(g[0].getNum*=-1,g[1].getNum*=-1,o=g[(a*=-1)<0?0:1].equipment,n=g[a<0?1:0].equipment),k.testReaction(o,o.getSolidMedicineInfo(),n)?(g[0].equipment.getReact(g[0].getNum,2===y.length),g[1].equipment.getReact(g[1].getNum,2===y.length),v.forEach(function(e){var t=e.pole,i=e.equipment,e=e.from;t&&(t=t.getNum<0,e=i.addedNode[0]===e,i.setDirection(t==e))}),C.forEach(function(e){var t=e.pole,e=e.equipment;t&&e.setCurrent(.5*e.MAX_CURRENT)}),!0):void 0}function l(e,t){if(!e||g[0].equipment===e||g[1].equipment===e)return e;for(var i=e.addedNode,n=i.length,a=0;a<n;a++){var r=i[a];if(r!==t)return l(r,e)}}function h(e,t){for(var i=e.medicineData.ionAry.quickMap,n=t.length,a=0;a<n;a++){var r=t[a],o=r.replace(/^\~/g,"");if(r!==o)if(e.medicineData.getHDensity()<=1e-6)continue;if(o=i.get(o))return{reaction:o,config:k.ElectronConfig[r]}}}},k.specialJudgePole=function(e,t,i){var n=e.getMetalName(),t=t.getMetalName();if(!i)return!1;if(i.length&&1==i.length)return!1;i=i.chemical.name;if("Fe"!=n||"Cu"!=t||"HNO3"!=i)return!1;e=e.currentContainer.getTagetLiquidMPV("HNO3");return!!(e&&8<e)},k.testReaction=function(e,t,i){var n=i.currentContainer;if(n){var a=n.medicineData;if(a&&!e.stopElectEffect){var r=e.metalHitWaterPoint;if(null!==r.left||null!==r.center||null!==r.right){var o=(r.left||r.center)&&(r.left||r.center).y,s=(r.right||r.center)&&(r.right||r.center).y,r=e.metal.height/e.totalPieces*e.pointNum+e.metal.y+e.y;if(!(r<o&&r<s)){t=t.concat(a.liquidAry).concat(a.ionAry),a=B.generalFindEquation(t,void 0,n.medicineManager,void 0,n,e),t=e.withGas&&i.withGas;return e.isElectrolysising&&i.isElectrolysising||t||(a=E.filterEquation(a,n)),t?k.calFuelCellEffect(e,i,n):!(!a||0==a.length)&&!!k.reactantsHasMed(a,e.getMetalName())}}}}},k.reactantsHasMed=function(e,t){for(var i=0;i<e.length;i++)for(var n=e[i].reactants,a=0;a<n.length;a++)if(n[a].med.name===t)return!0;return!1},k.judgeGotElecIon=function(e){e=e.medicineData;if(e){for(var t=e.ionAry,i=e.liquidAry,n=-1/0,a=null,r=0,o=t.length;r<o;r++){var s=t[r],l=s.name,l=k.oPriority["".concat(l,"!").concat(Math.abs(s.valence))];void 0!==l&&1e-6<s.mol&&n<l&&(n=l,a=[s])}for(var h=0;h<i.length;h++){var c=i[h],u=c.name,d=k.oPriority[u];void 0!==d&&1e-6<c.mol&&n<d&&"H2SO4"!=u&&(n=d,c.ions&&((a=c.ions).chemical=c))}return a}},k.genElectricReaction=function(y,e,v,C,t){var M=y.currentContainer;if(M){var b=M.medicineData;if(b&&!y.stopElectEffect){var i=y.metalHitWaterPoint;if(null!==i.left||null!==i.center||null!==i.right){var x=M.medicineManager;if(v&&t){if(v<0){for(var n,a=-1/0,r=0,o=e.length;r<o;r++){var s=e[r],l=k.priority[s.name];l&&a<l&&(a=l,n=s)}var h=P.ionMap[n.name],t=-v/h*1e-5,c=D.getLiquidFromIons([new L({valence:h,name:n.name},t),new L(q,t*h)],M.medicineManager);if(c){y.addMedicine(n.deepClone(-t));var u,d=w(c.keys());try{for(d.s();!(u=d.n()).done;){var p=u.value,f=c.get(p),I=new N(f.dat,f.mol);M.medicineData.push(I),M.medicineData.addIonMedicine(I,f.mol)}}catch(e){d.e(e)}finally{d.f()}}}else if(0<v&&C){var g=function(){var e=0,t=null;if(1==C.length)t=C[0];else if(2==C.length)return{v:void 0};u="H"===t.name?(u=(e=1e-5*v)/2,new _(x.getMedicineData("H2"),u)):(e=c=v/t.valence*1e-5,new J(x.getMedicineData(t.name),c)),y.addMedicine(u);for(var i,n,a=-1/0,r=0,o=b.ionMedicineAry.length;r<o;r++){var s,l=b.ionMedicineAry[r],h=l.dat.ions.find(function(e){return e.name===t.name});!h||a<(s=l.mol*h.count)&&(a=s,i=h.count,n=l)}var c=e/i,u=new N(n.dat,-c);b.push(u),b.addIonMedicine(u,-c);var e=c*i,u=n.dat.ions.find(function(e){return e.name!==t.name}),d=D.getLiquidFromIons([new L(R,e),new L(u,c*u.count)],M.medicineManager);if(!d)return{v:void 0};var p,f=w(d.keys());try{for(f.s();!(p=f.n()).done;){var I=p.value,g=d.get(I),m=new N(g.dat,g.mol);M.medicineData.push(m),M.medicineData.addIonMedicine(m,g.mol)}}catch(e){f.e(e)}finally{f.f()}}();if("object"===(0,S.default)(g))return g.v}}else{var g=e.concat(b.liquidAry).concat(b.ionAry),m=B.generalFindEquation(g,void 0,M.medicineManager,void 0,M,y),m=E.filterEquation(m,M);if(B.calOtherEquation(M,M.h2o,.016,m,M,!0),m&&0<m.length&&!v)for(var O=0;O<m.length;O++){var A,T=m[O].equationDat;T&&(T.Condition||T.Passivation)||(T=(A=m[O].products).find(function(e){return e.med&&e.med instanceof _&&1e-7<e.med.mol}),A=A.find(function(e){return e.med&&e.med instanceof J&&1e-7<e.med.mol}),T&&(y.needGasBubble(),y.corrodingMetal()),A&&y.adheringMetal(A.med.name,i))}}}}}},k.genMedicineDataTrans=function(e,t,i,n){var a=e.currentContainer,n=e.electrolysisConfig||n,r=n.Modulus,o=n.Products,s=n.ProductPhySta,l=1e-5/r[1];i.mol-=l*r[0];for(var h=o.length,c=r.length,u=0;u<h;u++){var d=void 0,p=l*r[c-h+u];switch(s[u]){case"g":d=new _(e.root.medicineManager.getMedicineData(o[u]),p),a.addMedicine(d);break;case"l":d=new N(e.root.medicineManager.getMedicineData(o[u]),p),a.addMedicine(d);break;case"s":d=new J(e.root.medicineManager.getMedicineData(o[u]),p),a.addMedicine(d);break;case"s_m":e.adheringMetal(o[u],e.metalHitWaterPoint);break;case"i":var f=o[u],I=a.medicineData.ionAry.quickMap.get(o[u]);I?I.mol+=p:"Fe2"===f&&(valence=2,I=new L({name:f="Fe",valence:valence},2))}}},k.calFuelCellEffect=function(e,t,i){var n={O2:{H2:[[{Name:"H2_e",Reactants:["H2","e!1"],Products:["H!1"],Modulus:[1,2,2],PhysicalState:["g","l","l"],needReverseEle:!0},{Name:"O2_H1_e",Reactants:["O2","H!1","e!1"],Products:["H2O"],Modulus:[1,4,4,2],PhysicalState:["g","l","l","l"]}],[{Name:"H2_OH-1_e",Reactants:["H2","OH!1","e!1"],Products:["H2O"],Modulus:[1,2,2,2],PhysicalState:["g","l","l","l"],needReverseEle:!0},{Name:"O2_H2O_e",Reactants:["O2","H2O","e!1"],Products:["OH!1"],Modulus:[1,2,4,4],PhysicalState:["g","l","l","l"]}]],CH4:[[{Name:"CH4_H2O_e",Reactants:["CH4","H2O","e!1"],Products:["CO2","H!1"],Modulus:[1,2,8,1,8],PhysicalState:["g","l","l","l","l"],needReverseEle:!0},{Name:"O2_H1_e",Reactants:["O2","H!1","e!1"],Products:["H2O"],Modulus:[1,4,4,2],PhysicalState:["g","l","l","l"]}],[{Name:"CH4_OH-1_e",Reactants:["CH4","OH!1","e!1"],Products:["H2O","CO3!2"],Modulus:[1,10,8,7,1],PhysicalState:["g","l","l","l","l"],needReverseEle:!0},{Name:"O2_H2O_e",Reactants:["O2","H2O","e!1"],Products:["OH!1"],Modulus:[1,2,4,4],PhysicalState:["g","l","l","l"]}]],CO:[[{Name:"CO_H2O_e",Reactants:["CO","H2O","e!1"],Products:["CO2","H!1"],Modulus:[1,1,2,1,2],PhysicalState:["g","l","l","l","l"],needReverseEle:!0},{Name:"O2_H1_e",Reactants:["O2","H!1","e!1"],Products:["H2O"],Modulus:[1,4,4,2],PhysicalState:["g","l","l","l"]}],[{Name:"CO_OH-1_e",Reactants:["CO","OH!1","e!1"],Products:["H2O","CO3!2"],Modulus:[1,4,5,2,1],PhysicalState:["g","l","l","l","l"],needReverseEle:!0},{Name:"O2_H2O_e",Reactants:["O2","H2O","e!1"],Products:["OH!1"],Modulus:[1,2,4,4],PhysicalState:["g","l","l","l"]}]]}},a=e.withGas,r=t.withGas;if(e.currentContainer!==t.currentContainer)return!1;if(a.addedNode.length<2||r.addedNode.length<2)return!1;var o,t=[e,t],s=[a,r],l=void 0,h=void 0;for(o in n)for(var c=0;c<2;c++)if(s[c].getGas(o)){l=o,h=c;break}var u=void 0;if(void 0===l)return!1;var d,p=s[1-h];for(d in n[l])if(p.getGas(d)){u=d;break}if(!u)return!1;r=i.medicineData.getHDensity(),i=0,i=n[l][u][i=r<=1e-7?1:i];return t[1-h].setReactStatus(i[0],1e3,!0),t[h].setReactStatus(i[1],1e3,!0),!0},window.Electrochemistry=k,e.exports=k},function(e,t,Candle){"use strict";var a=Candle(4),i=Candle(0),n=i(Candle(9)),r=i(Candle(1)),o=i(Candle(2)),h=i(Candle(7)),s=i(Candle(5)),l=i(Candle(6)),c=i(Candle(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var d=Candle(41),p=Candle(34),f=Candle(16),I=Candle(10),g=Candle(386),m=Candle(21),y=Candle(169),v=Candle(26),C="C25H52",M=PIXI.Point,Candle=function(){(0,s.default)(Candle,d);var t=u(Candle);function Candle(){var e;return(0,r.default)(this,Candle),(e=t.call(this)).coverType=0,e.name="Candle",e.constName="Candle",e.CNName="蜡烛",e.lightOnRef=null,e.fireRect=null,e.imageA=null,e.imageB=null,e.imageC=null,e.refa=null,e.refb=null,e.refc=null,e.image=null,e.addedEq=null,e.canAddMedToContainer=!1,e.noChoice=null,e.allowGetBounds=!0,e.justMoved=!1,e.bottomY=0,e.particlePos={x:25,y:-27},e.backOffPos={BigBeaker:{x:100,y:160},GasCollectingBottle:{x:100,y:160},BigTestTube:{x:100,y:160},BaseGasMedicine:{x:100,y:160},ConicalFlask250ml:{x:100,y:160},RoundBottomFlask:{x:100,y:160},SmallRoundBottomFlask:{x:100,y:160},FlorenceFlask:{x:100,y:160}},e}return(0,o.default)(Candle,[{key:"creationComplete",value:function(){var e=this;(0,h.default)((0,c.default)(Candle.prototype),"creationComplete",this).call(this),this.allowGetBounds=!0,this.lightOnRef.y+=9,this.setMedVo(C,.01),this.INITMOL=.01,this.lightOnRef.interactive=!0,this.addCursor(this.lightOnRef,f.status.PAN),this.lightOnRef.on(TouchEvent.TOUCH_BEGIN,function(){e.isBurning?e.lightOff():e.lightOn(!0)}),this.children.forEach(function(e){e.name||(e.visible=!1)}),this.state=Candle.CONST_STATE.INTACT}},{key:"state",get:function(){return this._state},set:function(e){this.setState(e)}},{key:"setParticleMask",value:function(e){this.particle&&(e=e&&e.gasOutMask?e.gasOutMask:null,this.particle.mask=e)}},{key:"checkContainerPos",value:function(){var e,t;this.container&&this.container.globalAry&&(e=this.toGlobal(this.particlePos),t=null,v.containsPoint(this.container.globalAry,e)&&(t=this.container),this.setParticleMask(t))}},{key:"eqPrepareDelete",value:function(){try{this.removeCursor(this.lightOnRef),this.destroyParticle(),this.destroySmoke(),this.addedEq&&this.addedEq.removeCandle(this)}catch(e){}(0,h.default)((0,c.default)(Candle.prototype),"eqPrepareDelete",this).call(this)}},{key:"setState",value:function(e){switch(this.imageA.visible=!1,this.imageB.visible=!1,this.imageC.visible=!1,this.lightOnRef.interactive=!0,e){case Candle.CONST_STATE.INTACT:this.image=this.imageA,this.polyDataMap.refA=this.polyDataMap.refa,this.INITMOL=.01;break;case Candle.CONST_STATE.HEAD:this.image=this.imageB,this.polyDataMap.refA=this.polyDataMap.refb,this.INITMOL=.01*.7;break;case Candle.CONST_STATE.BOTTOM:this.image=this.imageC,this.polyDataMap.refA=this.polyDataMap.refc,this.lightOnRef.interactive=!1,this.INITMOL=.003}this.image.visible=!0,this.setMedVo(C,this.INITMOL),this.originLocalBounds=this.getLocalBounds(),this._state=e;e=this.image.getLocalBounds();this.bottomY=e.height+e.y}},{key:"eqPrepareChoice",value:function(e){(0,h.default)((0,c.default)(Candle.prototype),"eqPrepareChoice",this).call(this,e),this.addedEq&&this.addedEq.removeCandle(this),this.clearBackOffContainer();for(var t=this;!((t=t.parent)instanceof I)&&t!==this.getEqLayer(););t.outCandle&&t.outCandle(),this.eqAddToViewStack()}},{key:"lightOff",value:function(){this.state!==Candle.CONST_STATE.BOTTOM&&this.isBurning&&(this.isBurning=!1,this.parent===this.getEqLayer()&&this.initSmokeParticle())}},{key:"lightOn",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.getLastContainer(this);t&&t.isBaseContainer&&!e||this.state!==Candle.CONST_STATE.BOTTOM&&(this.isBurning||(this.isBurning=!0),this.smokeRenderCount=0)}},{key:"lightOnBySmoke",value:function(e){var t;e&&this.smokeParticle&&0<this.smokeRenderCount&&(t=e.allowGetBounds,e.allowGetBounds=!0,this.smokeParticle.hitTest(e)&&this.lightOn(),e.allowGetBounds=t)}},{key:"getLightOnPoint",value:function(){return"DustExplode"!==this.parent.name&&this.lightOnRef.toGlobal(new M(0,0))}},{key:"isLightOn",value:function(){return this.isBurning}},{key:"getMedicineName",value:function(){return C}},{key:"clearBackOffContainer",value:function(){var e;this.parent&&this.parent.parent&&this.backOffPos[this.parent.parent.name]&&((e=this.parent.parent).rotateSpriteIcon&&e.rotateSpriteIcon.setEnabled(!0,e),e.isCoverGS=!1)}},{key:"initParticle",value:function(){this.particle||(this.particle=p.getParticle(p.particles.candle_fire),this.particle.ifScaleParticle=!0,this.particle.x=1,this.particle.y=1,this.getViewStack().addChild(this.particle),this.particle.bind(this))}},{key:"initSmokeParticle",value:function(){this.smokeParticle||(this.smokeParticle=p.getParticle(p.particles.candleSmoke),this.getViewStack().addChild(this.smokeParticle),this.smokeParticle.bind(this),this.smokeParticle.alpha=1),this.smokeRenderCount=200}},{key:"destroySmoke",value:function(){this.smokeParticle&&(this.smokeParticle.destroy(),this.smokeParticle=null)}},{key:"setParticleByRatio",value:function(e){this.particle&&this.particle.loaded&&(2<e?(this.particle.setParticleProp("startScale",1),this.particle.setParticleProp("endScale",.3),this.particle.particle.acceleration.y=1500,this.particle.particle.maxParticles=300):(this.particle.setParticleProp("startScale",.7),this.particle.setParticleProp("endScale",.2),e=Math.max(0,Math.min(1,e)),this.particle.particle.acceleration.y=-500-1500*e,this.particle.particle.maxParticles=(0<e?5:0)+195*e))}},{key:"destroyParticle",value:function(){this.particle&&(this.particle.destroy(),this.particle=null)}},{key:"hitReact",value:function(e){var t,i,n;!1!==this.isBurning&&(!e||e.length<1||(t=0,e.forEach(function(e){t+=e.getMol()}),i=0,e.forEach(function(e){nb.CANBURNGAS.includes(e.name)&&(i+=e.getMol())}),0<t&&.5<=i/t||(n=0,(n=(e=e.find(function(e){return"O2"===e.name}))?e.getMol()/t:n)<.1&&this.lightOff())))}},{key:"getHitEq",value:function(){for(var e=this.getEquipments(),t=0;t<e.length;t++){var i=e[t];if(this.hitTest(i)&&i.canAddCandle())return i}return null}},{key:"eqStopDrag",value:function(e){(0,h.default)((0,c.default)(Candle.prototype),"eqStopDrag",this).call(this,e),1!==this.coverType&&((e=this.getHitEq())?e.addCandle(this):0!==this.rotation&&TweenMax.to(this,.3,{rotation:0}))}},{key:"checkCollision",value:function(e){(0,h.default)((0,c.default)(Candle.prototype),"checkCollision",this).call(this,e)}},{key:"getLastContainer",value:function(e){return e===this.getViewStack()?null:e instanceof I&&!e.isCombustionSpoon?e:this.getLastContainer(e.parent)}},{key:"findBeakerChild",value:function(){return this.children.find(function(e){return e.isBeaker&&e.addFume})}},{key:"addBeakerFume",value:function(){var e,t,i=this.findBeakerChild();i&&(i.addFume(2e-5),e=new GasVO(i.medicineManager.getMedicineData("H2O"),1e-5),t=new GasVO(i.medicineManager.getMedicineData("CO2"),2e-5),i.medicineData.push([e,t]),i.dripFume>i.dripMaxFume&&(i.dripFume-=i.dripMaxFume,i.tubeDrip.forceDripWater("H2O",i.dripMaxFume)))}},{key:"update",value:function(e){var t,i,n,a,r,o,s,l;(0,h.default)((0,c.default)(Candle.prototype),"update",this).call(this,e),this.isBurning?(t=this.getLastContainer(this),this.initParticle(),(i=this.allowGetBounds)||(this.allowGetBounds=!0),this.particle.position.set(16+this.localBounds.x,this.localBounds.y+(this.state===Candle.CONST_STATE.HEAD?9:0)),i||(this.allowGetBounds=!1),this.particle.render(e),t?(s=-1e-6,o=2e-6,n=1e-6,t.isCoverGS&&(s=-4e-6,o=3e-6,n=2e-6),i=this.root.medicineManager.getMedicineData("CO2"),t.addMedicine(new GasVO(i,o)),o=this.root.medicineManager.getMedicineData("O2"),t.addMedicine(new GasVO(o,s)),o=this.root.medicineManager.getMedicineData("H2O"),t.addMedicine(new GasVO(o,n)),t.fumePic&&y.increaseFogAlpha(t,t.isCoverGS?.002:.0015),s=this.toGlobal(this.particlePos),(n=g.getStratifyGas(t,s,o=!1,!0))&&n instanceof Array&&(o=(n=(l=(n=n.find(function(e){return"O2"===e.vo.name}))&&n.percent||0)/.2)<=.1,this.setParticleByRatio(n),o||this.particle.setParticleProp("startAlpha",.4<l?1:.2)),!(o||t.liquidVertex&&t.liquidVertex[0].y<s.y&&Math.abs(t.rotation)<Math.PI/2)||TweenMax.isTweening(this.parent)||this.parent.isMoving||this.lightOff(),this.isBurning&&t.activeCount<.8*nb.ACTIVE_COUNT&&(r=(a=this).toGlobal(this.particlePos).y,t.medicineNBGraphicMap.forEach(function(e){e.forEach(function(e){t.toGlobal(e.position).y<r&&a.lightOff()})}))):(this.setParticleByRatio(1),this.particle.setParticleProp("startAlpha",.2)),this.checkContainerPos(),l=nb.TEMP_ALCOHOL,o=this.fireRect.getBounds(),s=this.root.viewStack.scale.x,o.x-=30*s,o.y-=100*s,o.width+=60*s,o.height+=200*s,this.newRadiantHeat(nb.ALCOHOL_HEAT_VALUE,o,e,l,!1,!1,this.particle),this.addBeakerFume()):this.destroyParticle(),this.smokeParticle&&(0<this.smokeRenderCount?(this.smokeParticle.position.set(16+this.localBounds.x,this.localBounds.y+(this.state===Candle.CONST_STATE.HEAD?3:-6)),this.smokeParticle.render(),this.smokeRenderCount--,this.smokeRenderCount<40&&(l=this.smokeRenderCount/200*5,this.smokeParticle.alpha=l)):this.destroySmoke())}},{key:"canCut",value:function(){return this.state===Candle.CONST_STATE.INTACT&&this.parent===this.getEqLayer()}},{key:"cut",value:function(){var e,t=this;this.canCut()&&(e=this.execute(NBCommand.ADD_EQUIPMENT,this.constName),this.parent.addChildAt(e,this.parent.getChildIndex(this)),e.x=this.x,e.y=this.y+21,e.visible=!1,e.on("creationComplete",function(){e.state=Candle.CONST_STATE.BOTTOM,t.state=Candle.CONST_STATE.HEAD,t.y-=9,e.visible=!0}))}},{key:"canClampPick",value:function(){return!this.clamp}},{key:"clampPick",value:function(e){this.clamp=e,NBDrag.removeDrag(this),this.addedEq&&this.addedEq.removeCandle(this)}},{key:"canClampPut",value:function(e,t){return 1!==this.coverType&&t.canAddCandle()}},{key:"clampPut",value:function(e,t){t.addCandle(this),this.clamp=null,NBDrag.addDrag(this)}},{key:"clear",value:function(){}},{key:"toJSON",value:function(){return(0,n.default)((0,h.default)((0,c.default)(Candle.prototype),"toJSON",this).call(this),{lightOn:this.isLightOn(),state:this.state,isInBaseClamp:this.parent.isClamp,addedEq:this.addedEq?this.addedEq.getUUID():void 0,coverType:this.coverType})}},{key:"setJSON",value:function(e){var t=this;(0,h.default)((0,c.default)(Candle.prototype),"setJSON",this).call(this,e),e.lightOn&&this.lightOn(),this.state=e.state,this.removeNape(),e.addedEq&&this.getEquipmentByUUID(e.addedEq).then(function(e){e.addCandle(t)}),e.coverType&&(this.coverType=e.coverType)}},{key:"getConfigureData",value:function(){var e=(0,h.default)((0,c.default)(Candle.prototype),"getConfigureData",this).call(this);return e&&e.confArr||(e={confArr:[]}),this.state===Candle.CONST_STATE.BOTTOM||this.addedEq||this.parent!==this.getEqLayer()||this.findBeakerChild()||e.confArr.push(m.getRadio("烧杯交互",+this.coverType,["倒扣","斜罩"],function(e){this.coverType=e}.bind(this),this)),e}}]),Candle}();Candle.CONST_STATE={INTACT:"intact",HEAD:"head",BOTTOM:"bottom"},e.exports=Candle},function(e,t,i){e.exports=!i(76)&&!i(93)(function(){return 7!=Object.defineProperty(i(205)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){"use strict";function n(e){var t=W[e]=D(R[V]);return t._k=e,t}function a(e,t){O(e);for(var i,n=b(t=S(t)),a=0,r=n.length;a<r;)ee(e,i=n[a++],t[i]);return e}function r(e){var t=z.call(this,e=w(e,!0));return!(this===U&&c(W,e)&&!c(Z,e))&&(!(t||!c(this,e)||!c(W,e)||c(this,H)&&this[H][e])||t)}function o(e,t){if(e=S(e),t=w(t,!0),e!==U||!c(W,t)||c(Z,t)){var i=E(e,t);return!i||!c(W,t)||c(e,H)&&e[H][t]||(i.enumerable=!0),i}}function s(e){for(var t,i=q(S(e)),n=[],a=0;i.length>a;)c(W,t=i[a++])||t==H||t==f||n.push(t);return n}function l(e){for(var t,i=e===U,n=q(i?Z:S(e)),a=[],r=0;n.length>r;)!c(W,t=n[r++])||i&&!c(U,t)||a.push(W[t]);return a}var h=i(48),c=i(102),u=i(76),d=i(38),p=i(274),f=i(208).KEY,I=i(93),g=i(209),m=i(151),y=i(173),v=i(68),C=i(210),M=i(211),b=i(429),x=i(207),O=i(81),A=i(67),T=i(113),S=i(94),w=i(206),B=i(148),D=i(153),P=i(278),L=i(154),N=i(176),J=i(82),_=i(128),E=L.f,k=J.f,q=P.f,R=h.Symbol,F=h.JSON,j=F&&F.stringify,V="prototype",H=v("_hidden"),G=v("toPrimitive"),z={}.propertyIsEnumerable,X=g("symbol-registry"),W=g("symbols"),Z=g("op-symbols"),U=Object[V],K="function"==typeof R&&!!N.f,g=h.QObject,Y=!g||!g[V]||!g[V].findChild,Q=u&&I(function(){return 7!=D(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=E(U,t);n&&delete U[t],k(e,t,i),n&&e!==U&&k(U,t,n)}:k,$=K&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},ee=function(e,t,i){return e===U&&ee(Z,t,i),O(e),t=w(t,!0),O(i),c(W,t)?(i.enumerable?(c(e,H)&&e[H][t]&&(e[H][t]=!1),i=D(i,{enumerable:B(0,!1)})):(c(e,H)||k(e,H,B(1,{})),e[H][t]=!0),Q(e,t,i)):k(e,t,i)};K||(p((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=y(0<arguments.length?arguments[0]:void 0),i=function(e){this===U&&i.call(Z,e),c(this,H)&&c(this[H],t)&&(this[H][t]=!1),Q(this,t,B(1,e))};return u&&Y&&Q(U,t,{configurable:!0,set:i}),n(t)})[V],"toString",function(){return this._k}),L.f=o,J.f=ee,i(216).f=P.f=s,i(152).f=r,N.f=l,u&&!i(150)&&p(U,"propertyIsEnumerable",r,!0),C.f=function(e){return n(v(e))}),d(d.G+d.W+d.F*!K,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)v(te[ie++]);for(var ne=_(v.store),ae=0;ne.length>ae;)M(ne[ae++]);d(d.S+d.F*!K,"Symbol",{for:function(e){return c(X,e+="")?X[e]:X[e]=R(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in X)if(X[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),d(d.S+d.F*!K,"Object",{create:function(e,t){return void 0===t?D(e):a(D(e),t)},defineProperty:ee,defineProperties:a,getOwnPropertyDescriptor:o,getOwnPropertyNames:s,getOwnPropertySymbols:l});_=I(function(){N.f(1)});d(d.S+d.F*_,"Object",{getOwnPropertySymbols:function(e){return N.f(T(e))}}),F&&d(d.S+d.F*(!K||I(function(){var e=R();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],a=1;a<arguments.length;)n.push(arguments[a++]);if(i=t=n[1],(A(t)||void 0!==e)&&!$(e))return x(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!$(t))return t}),n[1]=t,j.apply(F,n)}}),R[V][G]||i(101)(R[V],G,R[V].valueOf),m(R,"Symbol"),m(Math,"Math",!0),m(h.JSON,"JSON",!0)},function(e,t,i){e.exports=i(101)},function(e,t,i){var o=i(102),s=i(94),l=i(430)(!1),h=i(214)("IE_PROTO");e.exports=function(e,t){var i,n=s(e),a=0,r=[];for(i in n)i!=h&&o(n,i)&&r.push(i);for(;t.length>a;)o(n,i=t[a++])&&(~l(r,i)||r.push(i));return r}},function(e,t,i){var o=i(82),s=i(81),l=i(128);e.exports=i(76)?Object.defineProperties:function(e,t){s(e);for(var i,n=l(t),a=n.length,r=0;r<a;)o.f(e,i=n[r++],t[i]);return e}},function(e,t,i){i=i(48).document;e.exports=i&&i.documentElement},function(e,t,i){var n=i(94),a=i(216).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==r.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(n(e))}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){var a=i(81);e.exports=function(t,e,i,n){try{return n?e(a(i)[0],i[1]):e(i)}catch(e){i=t.return;throw void 0!==i&&a(i.call(t)),e}}},function(e,t,i){var n=i(156),a=i(68)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||r[a]===e)}},function(e,t,i){"use strict";var n=i(82),a=i(148);e.exports=function(e,t,i){t in e?n.f(e,t,a(0,i)):e[t]=i}},function(e,t,i){var n=i(219),a=i(68)("iterator"),r=i(156);e.exports=i(30).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||r[n(e)]}},function(e,t,i){var r=i(68)("iterator"),o=!1;try{var n=[7][r]();n.return=function(){o=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var i=!1;try{var n=[7],a=n[r]();a.next=function(){return{done:i=!0}},n[r]=function(){return a},e(n)}catch(e){}return i}},function(e,t,i){var n=i(44),a=i(272);e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?n(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var l=i(76),h=i(128),c=i(94),u=i(152).f;e.exports=function(s){return function(e){for(var t,i=c(e),n=h(i),a=n.length,r=0,o=[];r<a;)t=n[r++],l&&!u.call(i,t)||o.push(s?[t,i[t]]:i[t]);return o}}},function(e,t,i){"use strict";function o(e,t){var i,n=f(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i}var s=i(82).f,l=i(153),h=i(220),c=i(92),u=i(221),d=i(157),n=i(217),a=i(279),r=i(288),p=i(76),f=i(208).fastKey,I=i(222),g=p?"_s":"size";e.exports={getConstructor:function(e,a,i,n){var r=e(function(e,t){u(e,r,a,"_i"),e._t=a,e._i=l(null),e._f=void 0,e._l=void 0,e[g]=0,null!=t&&d(t,i,e[n],e)});return h(r.prototype,{clear:function(){for(var e=I(this,a),t=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete t[i.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var t,i=I(this,a),n=o(i,e);return n&&(t=n.n,e=n.p,delete i._i[n.i],n.r=!0,e&&(e.n=t),t&&(t.p=e),i._f==n&&(i._f=t),i._l==n&&(i._l=e),i[g]--),!!n},forEach:function(e){I(this,a);for(var t,i=c(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(i(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!o(I(this,a),e)}}),p&&s(r.prototype,"size",{get:function(){return I(this,a)[g]}}),r},def:function(e,t,i){var n,a=o(e,t);return a?a.v=i:(e._l=a={i:n=f(t,!0),k:t,v:i,p:i=e._l,n:void 0,r:!1},e._f||(e._f=a),i&&(i.n=a),e[g]++,"F"!==n&&(e._i[n]=a)),e},getEntry:o,setStrong:function(e,i,t){n(e,i,function(e,t){this._t=I(e,i),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?a(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,a(1))},t?"entries":"values",!t,!0),r(i)}}},function(e,t,i){"use strict";var n=i(48),a=i(30),r=i(82),o=i(76),s=i(68)("species");e.exports=function(e){e=("function"==typeof a[e]?a:n)[e];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(e,t,i){"use strict";var u=i(48),d=i(38),p=i(208),f=i(93),I=i(101),g=i(220),m=i(157),y=i(221),v=i(67),C=i(151),M=i(82).f,b=i(448)(0),x=i(76);e.exports=function(i,e,t,n,a,r){var o=u[i],s=o,l=a?"set":"add",h=s&&s.prototype,c={};return x&&"function"==typeof s&&(r||h.forEach&&!f(function(){(new s).entries().next()}))?(s=e(function(e,t){y(e,s,i,"_c"),e._c=new o,null!=t&&m(t,a,e[l],e)}),b("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(i){var n="add"==i||"set"==i;i in h&&(!r||"clear"!=i)&&I(s.prototype,i,function(e,t){if(y(this,s,i),!n&&r&&!v(e))return"get"==i&&void 0;t=this._c[i](0===e?0:e,t);return n?this:t})}),r||M(s.prototype,"size",{get:function(){return this._c.size}})):(s=n.getConstructor(e,i,a,l),g(s.prototype,t),p.NEED=!0),C(s,i),c[i]=s,d(d.G+d.W+d.F,c),r||n.setStrong(s,i,a),s}},function(e,t,i){var n=i(219),a=i(452);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},function(e,t,i){"use strict";var n=i(38);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,i){"use strict";var n=i(38),o=i(112),s=i(92),l=i(157);e.exports=function(e){n(n.S,e,{from:function(e){var t,i,n,a,r=arguments[1];return o(this),(t=void 0!==r)&&o(r),null==e?new this:(i=[],t?(n=0,a=s(r,arguments[2],2),l(e,!1,function(e){i.push(a(e,n++))})):l(e,!1,i.push,i),new this(i))}})}},function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){e.exports=i(473)},function(e,t,i){function n(e,t,i){var n={},a=o(function(){return!!s[e]()||"​"!="​"[e]()}),t=n[e]=a?t(c):s[e];i&&(n[i]=t),r(r.P+r.F*a,"String",n)}var r=i(38),a=i(174),o=i(93),s=i(226),i="["+s+"]",l=RegExp("^"+i+i+"*"),h=RegExp(i+i+"*$"),c=n.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(l,"")),e=2&t?e.replace(h,""):e};e.exports=n},function(e,t,i){var n=i(81),a=i(112),r=i(68)("species");e.exports=function(e,t){var i,e=n(e).constructor;return void 0===e||null==(i=n(e)[r])?t:a(i)}},function(e,t,i){function n(){var e,t=+this;m.hasOwnProperty(t)&&(e=m[t],delete m[t],e())}function a(e){n.call(e.data)}var r,o=i(92),s=i(293),l=i(277),h=i(205),c=i(48),u=c.process,d=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,I=c.Dispatch,g=0,m={},y="onreadystatechange";d&&p||(d=function(e){for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);return m[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete m[e]},"process"==i(149)(u)?r=function(e){u.nextTick(o(n,e,1))}:I&&I.now?r=function(e){I.now(o(n,e,1))}:f?(f=(i=new f).port2,i.port1.onmessage=a,r=o(f.postMessage,f,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",a,!1)):r=y in h("script")?function(e){l.appendChild(h("script"))[y]=function(){l.removeChild(this),n.call(e)}}:function(e){setTimeout(o(n,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){var n=i(81),a=i(67),r=i(227);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;e=r.f(e);return(0,e.resolve)(t),e.promise}},function(e,t,i){var n=i(512);t.mixin=function(e){var t=new n;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}},function(e,t,i){var r=i(527),o=i(17).format,s=i(17).isNumber;t.name="Complex",t.path="type",t.factory=function(n,e,t,i,a){return r.prototype.type="Complex",r.prototype.isComplex=!0,r.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},r.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},r.prototype.format=function(e){var t=this.im,i=this.re,n=o(this.re,e),a=o(this.im,e),e=s(e)?e:e?e.precision:null;return null!==e&&(e=Math.pow(10,-e),Math.abs(i/t)<e&&(i=0),Math.abs(t/i)<e&&(t=0)),0==t?n:0==i?1==t?"i":-1==t?"-i":a+"i":t<0?-1==t?n+" - i":n+" - "+a.substring(1)+"i":1==t?n+" + i":n+" + "+a+"i"},r.fromPolar=function(e){switch(arguments.length){case 1:if("object"==typeof e)return r(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=e,i=arguments[1];if(s(t)){if(n.isUnit(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),s(i))return new r({r:t,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},r.prototype.valueOf=r.prototype.toString,r.fromJSON=function(e){return new r(e)},r.EPSILON=e.epsilon,a.on("config",function(e,t){e.epsilon!==t.epsilon&&(r.EPSILON=e.epsilon)}),r.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},r},t.math=!0},function(e,t,i){"use strict";var r=i(13);t.name="fraction",t.factory=function(i,e,t,n){var a=n("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new i.Fraction(e)},string:function(e){return new i.Fraction(e)},"number, number":function(e,t){return new i.Fraction(e,t)},BigNumber:function(e){return new i.Fraction(e.toString())},Fraction:function(e){return e},Object:function(e){return new i.Fraction(e)},"Array | Matrix":function(e){return r(e,a)}});return a}},function(e,t,i){"use strict";var r=i(17);t.name="Range",t.path="type",t.factory=function(n,e,t,i){function a(e,t,i){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(null!=e)if(n.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(null!=t)if(n.isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter end must be a number");if(null!=i)if(n.isBigNumber(i))i=i.toNumber();else if("number"!=typeof i)throw new TypeError("Parameter step must be a number");this.start=null!=e?parseFloat(e):0,this.end=null!=t?parseFloat(t):0,this.step=null!=i?parseFloat(i):1}return a.prototype.type="Range",a.prototype.isRange=!0,a.parse=function(e){if("string"!=typeof e)return null;var t=e.split(":").map(function(e){return parseFloat(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return new a(t[0],t[1]);case 3:return new a(t[0],t[2],t[1]);default:return null}},a.prototype.clone=function(){return new a(this.start,this.end,this.step)},a.prototype.size=function(){var e=0,t=this.start,i=this.step,t=this.end-t;return r.sign(i)==r.sign(t)?e=Math.ceil(t/i):0==t&&(e=0),[e=isNaN(e)?0:e]},a.prototype.min=function(){var e=this.size()[0];if(0<e)return 0<this.step?this.start:this.start+(e-1)*this.step},a.prototype.max=function(){var e=this.size()[0];if(0<e)return 0<this.step?this.start+(e-1)*this.step:this.start},a.prototype.forEach=function(e){var t=this.start,i=this.step,n=this.end,a=0;if(0<i)for(;t<n;)e(t,[a],this),t+=i,a++;else if(i<0)for(;n<t;)e(t,[a],this),t+=i,a++},a.prototype.map=function(n){var a=[];return this.forEach(function(e,t,i){a[t[0]]=n(e,t,i)}),a},a.prototype.toArray=function(){var i=[];return this.forEach(function(e,t){i[t[0]]=e}),i},a.prototype.valueOf=function(){return this.toArray()},a.prototype.format=function(e){var t=r.format(this.start,e);return 1!=this.step&&(t+=":"+r.format(this.step,e)),t+=":"+r.format(this.end,e)},a.prototype.toString=function(){return this.format()},a.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},a.fromJSON=function(e){return new a(e.start,e.end,e.step)},a}},function(e,t,i){"use strict";t.name="ResultSet",t.path="type",t.factory=function(e,t,i,n){function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return a.prototype.type="ResultSet",a.prototype.isResultSet=!0,a.prototype.valueOf=function(){return this.entries},a.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},a.fromJSON=function(e){return new a(e.entries)},a}},function(e,t,i){i=i(103).memoize;function n(e){return e[0].precision}t.e=i(function(e){return new e(1).exp()},n),t.phi=i(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},n),t.pi=i(function(e){return e.acos(-1)},n),t.tau=i(function(e){return t.pi(e).times(2)},n)},function(e,t,i){"use strict";var r=i(13);t.name="fix",t.factory=function(t,e,i,n){var a=n("fix",{number:function(e){return 0<e?Math.floor(e):Math.ceil(e)},Complex:function(e){return new t.Complex(0<e.re?Math.floor(e.re):Math.ceil(e.re),0<e.im?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(e){return e.isNegative()?e.ceil():e.floor()},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},a}},function(e,t,u){"use strict";var d=u(17).isInteger,p=u(17).toFixed,f=u(13),I="Number of decimals in function round must be an integer";t.name="round",t.factory=function(i,e,t,n){var a=t(u(12)),r=t(u(47)),o=t(u(119)),s=t(u(65)),l=t(u(64)),h=t(u(35)),c=n("round",{number:Math.round,"number, number":function(e,t){if(!d(t))throw new TypeError(I);if(t<0||15<t)throw new Error("Number of decimals in function round must be in te range of 0-15");return parseFloat(p(e,t))},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(I);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(I);t=t.toNumber();return e.round(t)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(I);return new i.BigNumber(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(I);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(I);return e.round(t)},"Array | Matrix":function(e){return f(e,c,!0)},"Matrix, number | BigNumber":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,c,!1);return t},"number | Complex | BigNumber, Matrix":function(e,t){if(r(e,0))return o(t.size(),t.storage());e=("sparse"===t.storage()?l:h)(t,e,c,!0);return e},"Array, number | BigNumber":function(e,t){return h(a(e),t,c,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return h(a(t),e,c,!0).valueOf()}});return c.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},c}},function(e,t,i){"use strict";var a=i(40);t.name="format",t.factory=function(e,t,i,n){return(n=n("format",{any:a.format,"any, Object | function | number":a.format})).toTex=void 0,n}},function(e,t,r){t.name="docs",t.path="expression",t.factory=function(e,t,i,n){var a={};return a.bignumber=r(552),a.boolean=r(553),a.complex=r(554),a.createUnit=r(555),a.fraction=r(556),a.index=r(557),a.matrix=r(558),a.number=r(559),a.sparse=r(560),a.splitUnit=r(561),a.string=r(562),a.unit=r(563),a.e=r(310),a.E=r(310),a.false=r(564),a.i=r(565),a[1/0]=r(566),a.LN2=r(567),a.LN10=r(568),a.LOG2E=r(569),a.LOG10E=r(570),a.NaN=r(571),a.null=r(572),a.pi=r(311),a.PI=r(311),a.phi=r(573),a.SQRT1_2=r(574),a.SQRT2=r(575),a.tau=r(576),a.true=r(577),a.version=r(578),a.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},a.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},a.planckConstant={description:"Planck constant",examples:["planckConstant"]},a.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},a.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},a.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},a.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},a.coulomb={description:"Coulomb's constant",examples:["coulomb"]},a.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},a.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},a.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},a.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},a.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},a.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},a.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},a.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},a.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},a.electronMass={description:"Electron mass",examples:["electronMass"]},a.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},a.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},a.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},a.protonMass={description:"Proton mass",examples:["protonMass"]},a.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},a.neutronMass={description:"Neutron mass",examples:["neutronMass"]},a.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},a.rydberg={description:"Rydberg constant",examples:["rydberg"]},a.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},a.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},a.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},a.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},a.avogadro={description:"Avogadro's number",examples:["avogadro"]},a.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},a.faraday={description:"Faraday constant",examples:["faraday"]},a.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},a.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},a.gasConstant={description:"Gas constant",examples:["gasConstant"]},a.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},a.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},a.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},a.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},a.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},a.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},a.molarMass={description:"Molar mass constant",examples:["molarMass"]},a.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},a.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},a.planckLength={description:"Planck length",examples:["planckLength"]},a.planckMass={description:"Planck mass",examples:["planckMass"]},a.planckTime={description:"Planck time",examples:["planckTime"]},a.planckCharge={description:"Planck charge",examples:["planckCharge"]},a.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},a.derivative=r(579),a.lsolve=r(580),a.lup=r(581),a.lusolve=r(582),a.simplify=r(583),a.rationalize=r(584),a.slu=r(585),a.usolve=r(586),a.qr=r(587),a.abs=r(588),a.add=r(589),a.cbrt=r(590),a.ceil=r(591),a.cube=r(592),a.divide=r(593),a.dotDivide=r(594),a.dotMultiply=r(595),a.dotPow=r(596),a.exp=r(597),a.fix=r(598),a.floor=r(599),a.gcd=r(600),a.hypot=r(601),a.lcm=r(602),a.log=r(603),a.log10=r(604),a.mod=r(605),a.multiply=r(606),a.norm=r(607),a.nthRoot=r(608),a.pow=r(609),a.round=r(610),a.sign=r(611),a.sqrt=r(612),a.square=r(613),a.subtract=r(614),a.unaryMinus=r(615),a.unaryPlus=r(616),a.xgcd=r(617),a.bitAnd=r(618),a.bitNot=r(619),a.bitOr=r(620),a.bitXor=r(621),a.leftShift=r(622),a.rightArithShift=r(623),a.rightLogShift=r(624),a.bellNumbers=r(625),a.catalan=r(626),a.composition=r(627),a.stirlingS2=r(628),a.config=r(629),a.import=r(630),a.typed=r(631),a.arg=r(632),a.conj=r(633),a.re=r(634),a.im=r(635),a.eval=r(636),a.help=r(637),a.distance=r(638),a.intersect=r(639),a.and=r(640),a.not=r(641),a.or=r(642),a.xor=r(643),a.concat=r(644),a.cross=r(645),a.det=r(646),a.diag=r(647),a.dot=r(648),a.eye=r(649),a.filter=r(650),a.flatten=r(651),a.forEach=r(652),a.inv=r(653),a.kron=r(654),a.map=r(655),a.ones=r(656),a.partitionSelect=r(657),a.range=r(658),a.resize=r(659),a.reshape=r(660),a.size=r(661),a.sort=r(662),a.squeeze=r(663),a.subset=r(664),a.trace=r(665),a.transpose=r(666),a.zeros=r(667),a.combinations=r(668),a.factorial=r(669),a.gamma=r(670),a.kldivergence=r(671),a.multinomial=r(672),a.permutations=r(673),a.pickRandom=r(674),a.random=r(675),a.randomInt=r(676),a.compare=r(677),a.compareNatural=r(678),a.deepEqual=r(679),a.equal=r(680),a.larger=r(681),a.largerEq=r(682),a.smaller=r(683),a.smallerEq=r(684),a.unequal=r(685),a.setCartesian=r(686),a.setDifference=r(687),a.setDistinct=r(688),a.setIntersect=r(689),a.setIsSubset=r(690),a.setMultiplicity=r(691),a.setPowerset=r(692),a.setSize=r(693),a.setSymDifference=r(694),a.setUnion=r(695),a.erf=r(696),a.mad=r(697),a.max=r(698),a.mean=r(699),a.median=r(700),a.min=r(701),a.mode=r(702),a.prod=r(703),a.quantileSeq=r(704),a.std=r(705),a.sum=r(706),a.var=r(707),a.acos=r(708),a.acosh=r(709),a.acot=r(710),a.acoth=r(711),a.acsc=r(712),a.acsch=r(713),a.asec=r(714),a.asech=r(715),a.asin=r(716),a.asinh=r(717),a.atan=r(718),a.atanh=r(719),a.atan2=r(720),a.cos=r(721),a.cosh=r(722),a.cot=r(723),a.coth=r(724),a.csc=r(725),a.csch=r(726),a.sec=r(727),a.sech=r(728),a.sin=r(729),a.sinh=r(730),a.tan=r(731),a.tanh=r(732),a.to=r(733),a.clone=r(734),a.format=r(735),a.isNaN=r(736),a.isInteger=r(737),a.isNegative=r(738),a.isNumeric=r(739),a.isPositive=r(740),a.isPrime=r(741),a.isZero=r(742),a.typeof=r(743),a}},function(e,t){e.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(e,t){e.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(e,t,c){"use strict";var u=c(40).stringify,d=c(54).getSafeProperty;t.name="AccessorNode",t.path="expression.node",t.factory=function(i,e,t,n){var a=t(c(36)).register,r=t(c(36)).compile,o=t(c(56)),s=(t(c(237)),t(c(313)));function l(e,t){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!i.isNode(e))throw new TypeError('Node expected for parameter "object"');if(!i.isIndexNode(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function h(e){return!(i.isAccessorNode(e)||i.isArrayNode(e)||i.isConstantNode(e)||i.isFunctionNode(e)||i.isObjectNode(e)||i.isParenthesisNode(e)||i.isSymbolNode(e))}return(l.prototype=new o).type="AccessorNode",l.prototype.isAccessorNode=!0,a(l.prototype.type,function(e,t,i){if(!(e instanceof l))throw new TypeError("No valid AccessorNode");t.access=s,t.getSafeProperty=d;var n=r(e.object,t,i),i=r(e.index,t,i);return e.index.isObjectProperty()?"getSafeProperty("+n+", "+u(e.index.getObjectProperty())+")":e.index.needsSize()?"(function () {  var object = "+n+";  var size = math.size(object).valueOf();  return access(object, "+i+");})()":"access("+n+", "+i+")"}),l.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},l.prototype.map=function(e){return new l(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},l.prototype.clone=function(){return new l(this.object,this.index)},l.prototype._toString=function(e){var t=this.object.toString(e);return(t=h(this.object)?"("+t+")":t)+this.index.toString(e)},l.prototype.toHTML=function(e){var t=this.object.toHTML(e);return(t=h(this.object)?'<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>':t)+this.index.toHTML(e)},l.prototype._toTex=function(e){var t=this.object.toTex(e);return(t=h(this.object)?"\\left("+t+"\\right)":t)+this.index.toTex(e)},l}},function(e,t,r){"use strict";var o=r(121).transform,s=r(54).getSafeProperty;t.factory=function(e,t,i,n){var a=i(r(78));return function(e,t){try{if(Array.isArray(e))return a(e,t);if(e&&"function"==typeof e.subset)return e.subset(t);if("string"==typeof e)return a(e,t);if("object"!=typeof e)throw new TypeError("Cannot apply index: unsupported type of object");if(!t.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return s(e,t.getObjectProperty())}catch(e){throw o(e)}}}},function(e,t,s){"use strict";s(23);var f=s(40).stringify,I=s(54).getSafeProperty,g=s(54).setSafeProperty;t.name="AssignmentNode",t.path="expression.node",t.factory=function(h,e,t,i){var n=t(s(36)).register,c=t(s(36)).compile,a=t(s(56)),u=(t(s(239)),t(s(12)),t(s(746))),d=t(s(313)),r=(s(236),s(160));function p(e,t,i){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=i?t:null,this.value=i||t,!h.isSymbolNode(e)&&!h.isAccessorNode(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(h.isSymbolNode(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!h.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!h.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function o(e,t){var i=r.getPrecedence(e,t=t||"keep"),e=r.getPrecedence(e.value,t);return"all"===t||null!==e&&e<=i}return(p.prototype=new a).type="AssignmentNode",p.prototype.isAssignmentNode=!0,n(p.prototype.type,function(e,t,i){if(!(e instanceof p))throw new TypeError("No valid AssignmentNode");t.assign=u,t.access=d,t.getSafeProperty=I,t.setSafeProperty=g;var n=c(e.object,t,i),a=e.index?c(e.index,t,i):null,r=c(e.value,t,i),o=f(e.object.name);if(e.index){if(e.index.isObjectProperty())return"setSafeProperty("+n+", "+f(e.index.getObjectProperty())+", "+r+")";if(h.isSymbolNode(e.object))return"(function () {  var object = "+n+";  var value = "+r+";  "+(s=e.index.needsSize()?"var size = math.size(object).valueOf();":"")+"  setSafeProperty(scope, "+o+", assign(object, "+a+", value));  return value;})()";var s=e.index.needsSize()?"var size = math.size(object).valueOf();":"",l=c(e.object.object,t,i);if(e.object.index.isObjectProperty()){n=f(e.object.index.getObjectProperty());return"(function () {  var parent = "+l+";  var object = getSafeProperty(parent, "+n+");  var value = "+r+";"+s+"  setSafeProperty(parent, "+n+", assign(object, "+a+", value));  return value;})()"}return"(function () {  var parent = "+l+";  "+(e.object.index.needsSize()?"var size = math.size(parent).valueOf();":"")+"  var parentIndex = "+c(e.object.index,t,i)+";  var object = access(parent, parentIndex);  var value = "+r+";  "+s+"  assign(parent, parentIndex, assign(object, "+a+", value));  return value;})()"}if(!h.isSymbolNode(e.object))throw new TypeError("SymbolNode expected as object");return"setSafeProperty(scope, "+o+", "+r+")"}),p.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},p.prototype.map=function(e){return new p(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},p.prototype.clone=function(){return new p(this.object,this.index,this.value)},p.prototype._toString=function(e){var t=this.object.toString(e),i=this.index?this.index.toString(e):"",n=this.value.toString(e);return t+i+" = "+(n=o(this,e&&e.parenthesis)?"("+n+")":n)},p.prototype.toHTML=function(e){var t=this.object.toHTML(e),i=this.index?this.index.toHTML(e):"",n=this.value.toHTML(e);return t+i+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+(n=o(this,e&&e.parenthesis)?'<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>':n)},p.prototype._toTex=function(e){var t=this.object.toTex(e),i=this.index?this.index.toTex(e):"",n=this.value.toTex(e);return t+i+":="+(n=o(this,e&&e.parenthesis)?"\\left("+n+"\\right)":n)},p}},function(e,t,h){"use strict";var c=h(14).map,u=h(14).join;t.name="BlockNode",t.path="expression.node",t.factory=function(i,e,t,n){var a=t(h(36)).register,r=t(h(36)).compile,o=t(h(56)),s=t(h(304));function l(e){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,e=!e||void 0===e.visible||e.visible;if(!i.isNode(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof e)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:e}})}return(l.prototype=new o).type="BlockNode",l.prototype.isBlockNode=!0,a(l.prototype.type,function(e,i,n){if(!(e instanceof l))throw new TypeError("No valid BlockNode");return i.ResultSet=s,e=c(e.blocks,function(e){var t=r(e.node,i,n);return e.visible?"results.push("+t+");":t+";"}),"(function () {var results = [];"+u(e,"")+"return new ResultSet(results);})()"}),l.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},l.prototype.map=function(e){for(var t=[],i=0;i<this.blocks.length;i++){var n=this.blocks[i],a=this._ifNode(e(n.node,"blocks["+i+"].node",this));t[i]={node:a,visible:n.visible}}return new l(t)},l.prototype.clone=function(){return new l(this.blocks.map(function(e){return{node:e.node,visible:e.visible}}))},l.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},l.prototype.toHTML=function(t){return this.blocks.map(function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},l.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},l}},function(e,t,s){"use strict";s(23);var l=s(160);t.name="ConditionalNode",t.path="expression.node",t.factory=function(n,e,t,i){var a=t(s(36)).register,r=t(s(36)).compile,t=t(s(56));function o(e,t,i){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!n.isNode(e))throw new TypeError("Parameter condition must be a Node");if(!n.isNode(t))throw new TypeError("Parameter trueExpr must be a Node");if(!n.isNode(i))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=i}return(o.prototype=new t).type="ConditionalNode",o.prototype.isConditionalNode=!0,a(o.prototype.type,function(e,t,i){if(!(e instanceof o))throw new TypeError("No valid ConditionalNode");return t.testCondition=function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(n.isBigNumber(e))return!e.isZero();if(n.isComplex(e))return!(!e.re&&!e.im);if(n.isUnit(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+t.math.typeof(e)+'"')},"testCondition("+r(e.condition,t,i)+") ? ( "+r(e.trueExpr,t,i)+") : ( "+r(e.falseExpr,t,i)+")"}),o.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},o.prototype.map=function(e){return new o(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},o.prototype.clone=function(){return new o(this.condition,this.trueExpr,this.falseExpr)},o.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",i=l.getPrecedence(this,t),n=this.condition.toString(e),a=l.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==a&&a<=i)&&(n="("+n+")");var r=this.trueExpr.toString(e),a=l.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=i)&&(r="("+r+")");a=this.falseExpr.toString(e),e=l.getPrecedence(this.falseExpr,t);return n+" ? "+r+" : "+(a="all"===t||"OperatorNode"===this.falseExpr.type||null!==e&&e<=i?"("+a+")":a)},o.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",i=l.getPrecedence(this,t),n=this.condition.toHTML(e),a=l.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==a&&a<=i)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var r=this.trueExpr.toHTML(e),a=l.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=i)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');a=this.falseExpr.toHTML(e),e=l.getPrecedence(this.falseExpr,t);return n+'<span class="math-operator math-conditional-operator">?</span>'+r+'<span class="math-operator math-conditional-operator">:</span>'+(a="all"===t||"OperatorNode"===this.falseExpr.type||null!==e&&e<=i?'<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>':a)},o.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},o}},function(e,t,l){"use strict";var h=l(236),c=l(40).stringify,u=l(40).escape,d=l(14).map,p=l(14).join,f=l(23),I=l(160),g=l(54).setSafeProperty,m=l(318);t.name="FunctionAssignmentNode",t.path="expression.node",t.factory=function(n,e,t,r){var i=t(l(36)).register,o=t(l(36)).compile,t=t(l(56));function s(e,t,i){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!n.isNode(i))throw new TypeError('Node expected for parameter "expr"');if(e in h)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map(function(e){return e&&e.name||e}),this.types=t.map(function(e){return e&&e.type||"any"}),this.expr=i}function a(e,t){var i=I.getPrecedence(e,t),e=I.getPrecedence(e.expr,t);return"all"===t||null!==e&&e<=i}return(s.prototype=new t).type="FunctionAssignmentNode",s.prototype.isFunctionAssignmentNode=!0,i(s.prototype.type,function(e,t,i){if(!(e instanceof s))throw new TypeError("No valid FunctionAssignmentNode");t.typed=r,t.setSafeProperty=g;var n=Object.create(i),a=d(e.params,function(e){return n[e]=m(n),n[e]}),i=o(e.expr,t,n);return"setSafeProperty(scope, "+(t=c(e.name))+",   (function () {    var fn = typed("+t+", {      "+c(p(e.types,","))+": function ("+p(a,",")+") {        return "+i+"      }    });    fn.syntax = "+c(e.name+"("+p(e.params,", ")+")")+";    return fn;  })())"}),s.prototype.forEach=function(e){e(this.expr,"expr",this)},s.prototype.map=function(e){e=this._ifNode(e(this.expr,"expr",this));return new s(this.name,this.params.slice(0),e)},s.prototype.clone=function(){return new s(this.name,this.params.slice(0),this.expr)},s.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",e=this.expr.toString(e);return a(this,t)&&(e="("+e+")"),this.name+"("+this.params.join(", ")+") = "+e},s.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",i=[],n=0;n<this.params.length;n++)i.push('<span class="math-symbol math-parameter">'+u(this.params[n])+"</span>");e=this.expr.toHTML(e);return a(this,t)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+u(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+i.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+e},s.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",e=this.expr.toTex(e);return a(this,t)&&(e="\\left("+e+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(f.toSymbol).join(",")+"\\right):="+e},s}},function(e,t){e.exports=function(e){return"arg"+Object.keys(e).length}},function(e,t,r){"use strict";var h=r(40).stringify,o=r(40).escape,c=r(54).isSafeProperty,u=r(28).hasOwnProperty;t.name="ObjectNode",t.path="expression.node",t.factory=function(i,e,t,n){var a=t(r(36)).register,s=t(r(36)).compile,t=t(r(56));function l(t){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every(function(e){return i.isNode(t[e])})))throw new TypeError("Object containing Nodes expected")}return(l.prototype=new t).type="ObjectNode",l.prototype.isObjectNode=!0,a(l.prototype.type,function(e,t,i){if(!(e instanceof l))throw new TypeError("No valid ObjectNode");var n,a=[];for(n in e.properties)if(u(e.properties,n)){var r=h(n),o=JSON.parse(r);if(!c(e.properties,o))throw new Error('No access to property "'+o+'"');a.push(r+": "+s(e.properties[n],t,i))}return"{"+a.join(", ")+"}"}),l.prototype.forEach=function(e){for(var t in this.properties)this.properties.hasOwnProperty(t)&&e(this.properties[t],"properties["+h(t)+"]",this)},l.prototype.map=function(e){var t,i={};for(t in this.properties)this.properties.hasOwnProperty(t)&&(i[t]=this._ifNode(e(this.properties[t],"properties["+h(t)+"]",this)));return new l(i)},l.prototype.clone=function(){var e,t={};for(e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new l(t)},l.prototype._toString=function(e){var t,i=[];for(t in this.properties)this.properties.hasOwnProperty(t)&&i.push(h(t)+": "+this.properties[t].toString(e));return"{"+i.join(", ")+"}"},l.prototype.toHTML=function(e){var t,i=[];for(t in this.properties)this.properties.hasOwnProperty(t)&&i.push('<span class="math-symbol math-property">'+o(t)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[t].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+i.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},l.prototype._toTex=function(e){var t,i=[];for(t in this.properties)this.properties.hasOwnProperty(t)&&i.push("\\mathbf{"+t+":} & "+this.properties[t].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}"+i.join("\n")+"\\end{array}\\right\\}"},l}},function(e,t,a){"use strict";t.name="parse",t.factory=function(e,t,i,n){return i=i(a(120)),n("parse",{"string | Array | Matrix":i,"string | Array | Matrix, Object":i})}},function(e,t,o){"use strict";t.name="parser",t.factory=function(e,t,i,n,a){var r=i(o(322));return n("parser",{"":function(){return new r(a)}})},t.math=!0},function(e,t,s){"use strict";var l=s(28).extend,h=s(54);t.name="Parser",t.path="expression",t.factory=function(e,t,i,n,a){var r=i(s(120));function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return o.prototype.type="Parser",o.prototype.isParser=!0,o.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},o.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},o.prototype.eval=function(e){return r(e).compile().eval(this.scope)},o.prototype.get=function(e){return e in this.scope?h.getSafeProperty(this.scope,e):void 0},o.prototype.getAll=function(){return l({},this.scope)},o.prototype.set=function(e,t){return h.setSafeProperty(this.scope,e,t)},o.prototype.remove=function(e){delete this.scope[e]},o.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},o},t.math=!0},function(e,t,s){"use strict";var l=s(122),h=s(187),c=s(188);t.name="max",t.factory=function(e,t,i,n){var a=i(s(105));return(n=n("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return h(e,t.valueOf(),r)},"...":function(e){if(c(e))throw new TypeError("Scalar values expected in function max");return o(e)}})).toTex="\\max\\left(${args}\\right)",n;function r(e,t){return a(e,t)?e:t}function o(e){var t=void 0;if(l(e,function(e){void 0!==t&&!a(e,t)||(t=e)}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}}},function(e,t,s){"use strict";var l=s(14).size,h=s(122),c=s(187),u=s(188);t.name="mean",t.factory=function(e,t,i,n){var a=i(s(71)),r=i(s(139));return(n=n("mean",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){var i=c(e,t,a),e=Array.isArray(e)?l(e):e.size();return r(i,e[t])},"...":function(e){if(u(e))throw new TypeError("Scalar values expected in function mean");return o(e)}})).toTex=void 0,n;function o(e){var t=0,i=0;if(h(e,function(e){t=a(t,e),i++}),0===i)throw new Error("Cannot calculate mean of an empty array");return r(t,i)}}},function(e,t,n){"use strict";var s=n(86);t.name="inv",t.factory=function(a,e,t,i){var r=t(n(12)),I=t(n(55)),g=t(n(62)),m=t(n(51)),y=t(n(106)),v=t(n(326)),C=t(n(184));function o(e,t,i){var n,a,r;if(1==t){if(0==(o=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[I(1,o)]]}if(2==t){var o=v(e);if(0==o)throw Error("Cannot calculate inverse, determinant is zero");return[[I(e[1][1],o),I(y(e[0][1]),o)],[I(y(e[1][0]),o),I(e[0][0],o)]]}var s=e.concat();for(d=0;d<t;d++)s[d]=s[d].concat();for(var l=C(t).valueOf(),h=0;h<i;h++){for(d=h;d<t&&0==s[d][h];)d++;if(d==t||0==s[d][h])throw Error("Cannot calculate inverse, determinant is zero");d!=h&&(r=s[h],s[h]=s[d],s[d]=r,r=l[h],l[h]=l[d],l[d]=r);for(var c=s[h],u=l[h],d=0;d<t;d++){var p=s[d],f=l[d];if(d!=h){if(0!=p[h]){for(a=I(y(p[h]),c[h]),n=h;n<i;n++)p[n]=g(p[n],m(a,c[n]));for(n=0;n<i;n++)f[n]=g(f[n],m(a,u[n]))}}else{for(a=c[h],n=h;n<i;n++)p[n]=I(p[n],a);for(n=0;n<i;n++)f[n]=I(f[n],a)}}}return l}return(i=i("inv",{"Array | Matrix":function(e){var t=a.isMatrix(e)?e.size():s.array.size(e);switch(t.length){case 1:if(1==t[0])return a.isMatrix(e)?r([I(1,e.valueOf()[0])]):[I(1,e[0])];throw new RangeError("Matrix must be square (size: "+s.string.format(t)+")");case 2:var i=t[0],n=t[1];if(i==n)return a.isMatrix(e)?r(o(e.valueOf(),i,n),e.storage()):o(e,i,n);throw new RangeError("Matrix must be square (size: "+s.string.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+s.string.format(t)+")")}},any:function(e){return I(1,e)}})).toTex={1:"\\left(${args[0]}\\right)^{-1}"},i}},function(e,t,n){"use strict";var i=n(86),c=i.object,u=i.string;t.name="det",t.factory=function(a,e,t,i){var r=t(n(12)),o=t(n(71)),s=t(n(72)),l=t(n(51)),h=t(n(106));return(i=i("det",{any:function(e){return c.clone(e)},"Array | Matrix":function(e){var t=a.isMatrix(e)?e.size():Array.isArray(e)?(e=r(e)).size():[];switch(t.length){case 0:return c.clone(e);case 1:if(1==t[0])return c.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+u.format(t)+")");case 2:var i=t[0],n=t[1];if(i==n)return function(e,t){{if(1==t)return c.clone(e[0][0]);if(2==t)return s(l(e[0][0],e[1][1]),l(e[1][0],e[0][1]));for(var i=e,n=0;n<t-1;n++)i=l(function(e){for(var t,i=new Array(e.length),n=0,a=1;a<e.length;a++)n=o(n,e[a][a]);for(a=0;a<e.length;a++){for(i[a]=new Array(e.length),i[a][a]=h(n),t=0;t<a;t++)i[a][t]=0;for(t=a+1;t<e.length;t++)i[a][t]=e[a][t];a+1<e.length&&(n=s(n,e[a+1][a+1]))}return i}(i),e);return t%2==0?h(i[0][0]):i[0][0]}}(e.clone().valueOf(),i);throw new RangeError("Matrix must be square (size: "+u.format(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+u.format(t)+")")}}})).toTex={1:"\\det\\left(${args[0]}\\right)"},i}},function(e,t,s){"use strict";var l=s(122),h=s(187),c=s(188);t.name="min",t.factory=function(e,t,i,n){var a=i(s(118));return(n=n("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return h(e,t.valueOf(),r)},"...":function(e){if(c(e))throw new TypeError("Scalar values expected in function min");return o(e)}})).toTex="\\min\\left(${args}\\right)",n;function r(e,t){return a(e,t)?e:t}function o(e){var t=void 0;if(l(e,function(e){void 0!==t&&!a(e,t)||(t=e)}),void 0===t)throw new Error("Cannot calculate min of an empty array");return t}}},function(e,t,p){"use strict";t.name="range",t.factory=function(n,a,e,t){var i=e(p(12)),r=new n.BigNumber(0),o=new n.BigNumber(1);return(t=t("range",{string:l,"string, boolean":l,"number, number":function(e,t){return s(h(e,t,1))},"number, number, number":function(e,t,i){return s(h(e,t,i))},"number, number, boolean":function(e,t,i){return s((i?c:h)(e,t,1))},"number, number, number, boolean":function(e,t,i,n){return s((n?c:h)(e,t,i))},"BigNumber, BigNumber":function(e,t){return s(u(e,t,o))},"BigNumber, BigNumber, BigNumber":function(e,t,i){return s(u(e,t,i))},"BigNumber, BigNumber, boolean":function(e,t,i){return s((i?d:u)(e,t,o))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,i,n){return s((n?d:u)(e,t,i))}})).toTex=void 0,t;function s(e){return"Array"===a.matrix?e:i(e)}function l(e,t){var i=function(e){var t=e.split(":").map(function(e){return Number(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!i)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===a.number?s((t?d:u)(new n.BigNumber(i.start),new n.BigNumber(i.end),new n.BigNumber(i.step))):s((t?c:h)(i.start,i.end,i.step))}function h(e,t,i){var n=[],a=e;if(0<i)for(;a<t;)n.push(a),a+=i;else if(i<0)for(;t<a;)n.push(a),a+=i;return n}function c(e,t,i){var n=[],a=e;if(0<i)for(;a<=t;)n.push(a),a+=i;else if(i<0)for(;t<=a;)n.push(a),a+=i;return n}function u(e,t,i){var n=[],a=e;if(i.gt(r))for(;a.lt(t);)n.push(a),a=a.plus(i);else if(i.lt(r))for(;a.gt(t);)n.push(a),a=a.plus(i);return n}function d(e,t,i){var n=[],a=e;if(i.gt(r))for(;a.lte(t);)n.push(a),a=a.plus(i);else if(i.lt(r))for(;a.gte(t);)n.push(a),a=a.plus(i);return n}}},function(e,t,s){"use strict";s(17).digits;t.math=!0,t.name="simplifyConstant",t.path="algebra.simplify",t.factory=function(l,t,e,i,h){var c=(e=e(s(330))).isCommutative,u=e.isAssociative,d=e.allChildren,p=e.createMakeNodeFunction,n=h.expression.node.ConstantNode,a=h.expression.node.OperatorNode,f=h.expression.node.FunctionNode;function I(t,i){try{return m(h[t].apply(null,i))}catch(e){return i=i.map(function(e){return l.isFraction(e)?e.valueOf():e}),m(h[t].apply(null,i))}}var g=i({Fraction:function(e){var t=e.s*e.n;t=t<0?new a("-","unaryMinus",[new n(-t)]):new n(t);return 1!==e.d?new a("/","divide",[t,new n(e.d)]):t},number:function(e){return e<0?o(new n(-e)):new n(e)},BigNumber:function(e){return e<0?o(new n(e.negated().toString(),"number")):new n(e.toString(),"number")},Complex:function(e){throw"Cannot convert Complex number to Node"}});function r(e){if(isFinite(e)){var t=h.fraction(e);if(t.valueOf()===e)return t}return e}var m=i({string:function(e){return"BigNumber"===t.number?h.bignumber(e):"Fraction"===t.number?h.fraction(e):r(parseFloat(e))},Fraction:function(e){return e},BigNumber:function(e){return e},number:r,Complex:function(e){return 0!==e.im?e:r(e.re)}});function o(e){return new a("-","unaryMinus",[e])}function y(i,e,n){return e.reduce(function(e,t){if(l.isNode(e)||l.isNode(t))l.isNode(e)?l.isNode(t)||(t=g(t)):e=g(e);else{try{return I(i,[e,t])}catch(e){}e=g(e),t=g(t)}return n([e,t])})}function v(e){switch(e.type){case"SymbolNode":return e;case"ConstantNode":return"number"===e.valueType?m(e.value):e;case"FunctionNode":if(h[e.name]&&h[e.name].rawArgs)return e;if(-1===["add","multiply"].indexOf(e.name)){if(!(t=e.args.map(v)).some(l.isNode))try{return I(e.name,t)}catch(e){}return t=t.map(function(e){return l.isNode(e)?e:g(e)}),new f(e.name,t)}case"OperatorNode":var t,i,n=e.fn.toString(),a=p(e);if(1===e.args.length)t=[v(e.args[0])],i=l.isNode(t[0])?a(t):I(n,t);else if(u(e))if(t=(t=d(e)).map(v),c(n)){for(var r=[],o=[],s=0;s<t.length;s++)(l.isNode(t[s])?o:r).push(t[s]);i=1<r.length?(i=y(n,r,a),o.unshift(i),y(n,o,a)):y(n,t,a)}else i=y(n,t,a);else i=y(n,t=e.args.map(v),a);return i;case"ParenthesisNode":return v(e.content);default:throw"Unimplemented node type in simplifyConstant: "+e.type}}return function(e){return e=v(e),l.isNode(e)?e:g(e)}}},function(e,t,i){"use strict";t.factory=function(o,e,t,i,n){var a=n.expression.node.FunctionNode,r=n.expression.node.OperatorNode,s=n.expression.node.SymbolNode,l={add:!0,multiply:!0},h={add:!0,multiply:!0};function c(e,t){if(!o.isOperatorNode(e))return!1;e=e.fn.toString();return t&&t.hasOwnProperty(e)&&t[e].hasOwnProperty("associative")?t[e].associative:h[e]||!1}function u(e){function n(e){for(var t=0;t<e.args.length;t++){var i=e.args[t];o.isOperatorNode(i)&&a===i.op?n(i):r.push(i)}}var a,r=[];return c(e)?(a=e.op,n(e),r):e.args}function d(t){return o.isOperatorNode(t)?function(e){try{return new r(t.op,t.fn,e)}catch(e){return[]}}:function(e){return new a(new s(t.name),e)}}return{createMakeNodeFunction:d,isCommutative:function(e,t){return!o.isOperatorNode(e)||(e=e.fn.toString(),t&&t.hasOwnProperty(e)&&t[e].hasOwnProperty("commutative")?t[e].commutative:l[e]||!1)},isAssociative:c,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=u(t);for(var i=0;i<t.args.length;i++)e(t.args[i])},allChildren:u,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var i=d(t),n=t.args.length,a=0;a<n;a++)e(t.args[a]);if(2<n&&c(t)){for(var r=t.args.pop();0<t.args.length;)r=i([t.args.pop(),r]);t.args=r.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var i=d(t),n=t.args.length,a=0;a<n;a++)e(t.args[a]);if(2<n&&c(t)){for(var r=t.args.shift();0<t.args.length;)r=i([r,t.args.shift()]);t.args=r.args}}}}},t.math=!0},function(e,t,i){"use strict";t.math=!0,t.name="simplifyCore",t.path="algebra.simplify",t.factory=function(s,e,t,i,l){var h=l.expression.node.ConstantNode,c=l.expression.node.OperatorNode,u=l.expression.node.FunctionNode,d=l.expression.node.ParenthesisNode,p=new h(0),f=new h(1);return function e(t){if(s.isOperatorNode(t)&&t.args.length<=2){var i=e(t.args[0]),n=t.args[1]&&e(t.args[1]);if("+"===t.op){if(1===t.args.length)return t.args[0];if(s.isConstantNode(i)){if("0"===i.value)return n;if(s.isConstantNode(n)&&i.value&&i.value.length<5&&n.value&&n.value.length<5)return new h(Number(i.value)+Number(n.value))}return s.isConstantNode(n)&&"0"===n.value?i:2===t.args.length&&s.isOperatorNode(n)&&"-"===n.op&&"unaryMinus"===n.fn?new c("-","subtract",[i,n.args[0]]):new c(t.op,t.fn,n?[i,n]:[i])}if("-"===t.op){if(s.isConstantNode(i)&&n){if(s.isConstantNode(n)&&i.value&&i.value.length<5&&n.value&&n.value.length<5)return new h(Number(i.value)-Number(n.value));if("0"===i.value)return new c("-","unaryMinus",[n])}if("subtract"===t.fn&&2===t.args.length)return s.isConstantNode(n)&&"0"===n.value?i:s.isOperatorNode(n)&&"unaryMinus"===n.fn?e(new c("+","add",[i,n.args[0]])):new c(t.op,t.fn,[i,n]);if("unaryMinus"!==t.fn)throw new Error("never happens");if(s.isOperatorNode(i)){if("unaryMinus"===i.fn)return i.args[0];if("subtract"===i.fn)return new c("-","subtract",[i.args[1],i.args[0]])}return new c(t.op,t.fn,[i])}if("*"===t.op){if(s.isConstantNode(i)){if("0"===i.value)return p;if("1"===i.value)return n;if(s.isConstantNode(n)&&i.value&&i.value.length<5&&n.value&&n.value.length<5)return new h(Number(i.value)*Number(n.value))}if(s.isConstantNode(n)){if("0"===n.value)return p;if("1"===n.value)return i;if(s.isOperatorNode(i)&&i.op===t.op){var a=i.args[0];if(s.isConstantNode(a)&&n.value&&n.value.length<5&&a.value&&a.value.length<5){var r=new h(Number(i.args[0].value)*Number(n.value));return new c(t.op,t.fn,[r,i.args[1]])}}return new c(t.op,t.fn,[n,i])}return new c(t.op,t.fn,[i,n])}if("/"===t.op){if(s.isConstantNode(i)){if("0"===i.value)return p;if(s.isConstantNode(n)&&i.value&&i.value.length<5&&("1"===n.value||"2"===n.value||"4"===n.value))return new h(Number(i.value)/Number(n.value))}return new c(t.op,t.fn,[i,n])}if("^"===t.op){if(s.isConstantNode(n)){if("0"===n.value)return f;if("1"===n.value)return i;if(s.isConstantNode(i)&&i.value&&i.value.length<5&&n.value&&n.value.length<2)return new h(l.pow(Number(i.value),Number(n.value)));if(s.isOperatorNode(i)&&"^"===i.op&&(r=i.args[1],s.isConstantNode(r)))return new c(t.op,t.fn,[i.args[0],new h(r.value*n.value)])}return new c(t.op,t.fn,[i,n])}}else{if(s.isParenthesisNode(t)){var o=e(t.content);return s.isParenthesisNode(o)||s.isSymbolNode(o)||s.isConstantNode(o)?o:new d(o)}if(s.isFunctionNode(t))return 1===(o=t.args.map(e)).length&&s.isParenthesisNode(o[0])&&(o[0]=o[0].content),new u(e(t.fn),o)}return t}}},function(e,t,i){"use strict";var a=i(28);t.name="clone",t.factory=function(e,t,i,n){return(n=n("clone",{any:a.clone})).toTex=void 0,n}},function(e,t,d){"use strict";var p=d(17).nearlyEqual,f=d(116);t.name="unequal",t.factory=function(e,i,t,n){var a=t(d(12)),r=t(d(63)),o=t(d(87)),s=t(d(64)),l=t(d(39)),h=t(d(35)),t=d(23),c=n("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:u(e,t)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?o(e,t,u):r(t,e,u,!0):"sparse"===t.storage()?r(e,t,u,!1):l(e,t,u);return t},"Array, Array":function(e,t){return c(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return c(a(e),t)},"Matrix, Array":function(e,t){return c(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,u,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?s:h)(t,e,u,!0);return e},"Array, any":function(e,t){return h(a(e),t,u,!1).valueOf()},"any, Array":function(e,t){return h(a(t),e,u,!0).valueOf()}}),u=n("_unequal",{"boolean, boolean":function(e,t){return e!==t},"number, number":function(e,t){return!p(e,t,i.epsilon)},"BigNumber, BigNumber":function(e,t){return!f(e,t,i.epsilon)},"Fraction, Fraction":function(e,t){return!e.equals(t)},"Complex, Complex":function(e,t){return!e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"string, string":function(e,t){return e!==t}});return c.toTex={2:"\\left(${args[0]}"+t.operators.unequal+"${args[1]}\\right)"},c}},function(e,t,i){"use strict";var r=i(17),o=i(13);t.name="sign",t.factory=function(t,e,i,n){var a=n("sign",{number:r.sign,Complex:function(e){return e.sign()},BigNumber:function(e){return new t.BigNumber(e.cmp(0))},Fraction:function(e){return new t.Fraction(e.s,1)},"Array | Matrix":function(e){return o(e,a,!0)},Unit:function(e){return a(e.value)}});return a.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="conj",t.factory=function(e,t,i,n){var a=n("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\left(${args[0]}\\right)^*"},a}},function(e,t,s){"use strict";var O=s(86).object;t.name="lup",t.factory=function(e,t,i,n){var a=i(s(12)),B=i(s(89)),M=i(s(62)),D=i(s(55)),P=i(s(73)),b=i(s(72)),L=i(s(105)),N=i(s(47)),J=i(s(106)),_=e.SparseMatrix,x=e.DenseMatrix,E=e.Spa,n=n("lup",{DenseMatrix:function(e){return r(e)},SparseMatrix:function(e){return o(e)},Array:function(e){e=a(e),e=r(e);return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}}),r=function(e){var t,i=e._size[0],n=e._size[1],a=Math.min(i,n),r=O.clone(e._data),o=[],s=[i,a],l=[],e=[a,n],h=[];for(g=0;g<i;g++)h[g]=g;for(t=0;t<n;t++){if(0<t)for(g=0;g<i;g++){for(var c=Math.min(g,t),u=0,d=0;d<c;d++)u=M(u,P(r[g][d],r[d][t]));r[g][t]=b(r[g][t],u)}for(var p=t,f=0,I=0,g=t;g<i;g++){var m=r[g][t],y=B(m);L(y,f)&&(p=g,f=y,I=m)}if(t!==p&&(h[t]=[h[p],h[p]=h[t]][0],x._swapRows(t,p,r)),t<i)for(g=t+1;g<i;g++){var v=r[g][t];N(v,0)||(r[g][t]=D(r[g][t],I))}}for(t=0;t<n;t++)for(g=0;g<i;g++)0===t&&(g<n&&(l[g]=[]),o[g]=[]),g<t?(g<n&&(l[g][t]=r[g][t]),t<i&&(o[g][t]=0)):g!==t?(g<n&&(l[g][t]=0),t<i&&(o[g][t]=r[g][t])):(g<n&&(l[g][t]=r[g][t]),t<i&&(o[g][t]=1));var s=new x({data:o,size:s}),e=new x({data:l,size:e}),C=[];for(g=0,a=h.length;g<a;g++)C[h[g]]=g;return{L:s,U:e,p:C,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},o=function(e){for(var t=e._size[0],i=e._size[1],n=Math.min(t,i),a=e._values,r=e._index,o=e._ptr,s=[],l=[],h=[],c=[t,n],u=[],d=[],p=[],f=[n,i],I=[],g=[],m=0;m<t;m++)I[m]=m,g[m]=m;for(var y,v,C,M=0;M<i;M++){var b=new E;M<t&&(h.push(s.length),s.push(1),l.push(M)),p.push(u.length);for(var x=o[M],O=o[M+1],A=x;A<O;A++)m=r[A],b.set(I[m],a[A]);0<M&&b.forEach(0,M-1,function(i,n){_._forEachRow(i,s,l,h,function(e,t){i<e&&b.accumulate(e,J(P(t,n)))})});var T=M,S=b.get(M),w=B(S);b.forEach(M+1,t-1,function(e,t){var i=B(t);L(i,w)&&(T=e,w=i,S=t)}),M!==T&&(_._swapRows(M,T,c[1],s,l,h),_._swapRows(M,T,f[1],u,d,p),b.swap(M,T),y=T,C=v=void 0,v=g[x=M],C=g[y],I[v]=y,I[C]=x,g[x]=C,g[y]=v),b.forEach(0,t-1,function(e,t){e<=M?(u.push(t),d.push(e)):(t=D(t,S),N(t,0)||(s.push(t),l.push(e)))})}return p.push(u.length),h.push(s.length),{L:new _({values:s,index:l,ptr:h,size:c}),U:new _({values:u,index:d,ptr:p,size:f}),p:I,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return n}},function(e,t,o){"use strict";var s=o(86).number.isInteger;t.name="slu",t.factory=function(e,t,i,n){var a=i(o(769)),r=i(o(777));return n("slu",{"SparseMatrix, number, number":function(e,t,i){if(!s(t)||t<0||3<t)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(i<0||1<i)throw new Error("Partial pivoting threshold must be a number from 0 to 1");t=a(t,e,!1),i=r(e,t,i);return{L:i.L,U:i.U,p:i.pinv,q:t.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}},function(e,t,i){"use strict";t.name="cs_tdfs",t.path="sparse",t.factory=function(){return function(e,t,i,n,a,r,o){var s=0;for(i[o]=e;0<=s;){var l=i[o+s],h=i[n+l];-1==h?(s--,r[t++]=l):(i[n+l]=i[a+h],i[o+ ++s]=h)}return t}}},function(e,t,u){"use strict";var d=u(17).nearlyEqual,p=u(116);t.name="largerEq",t.factory=function(e,i,t,n){var a=t(u(12)),r=t(u(63)),o=t(u(87)),s=t(u(64)),l=t(u(39)),h=t(u(35)),t=u(23),c=n("largerEq",{"boolean, boolean":function(e,t){return t<=e},"number, number":function(e,t){return t<=e||d(e,t,i.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||p(e,t,i.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"string, string":function(e,t){return t<=e},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?o(e,t,c):r(t,e,c,!0):"sparse"===t.storage()?r(e,t,c,!1):l(e,t,c);return t},"Array, Array":function(e,t){return c(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return c(a(e),t)},"Matrix, Array":function(e,t){return c(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,c,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?s:h)(t,e,c,!0);return e},"Array, any":function(e,t){return h(a(e),t,c,!1).valueOf()},"any, Array":function(e,t){return h(a(t),e,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+t.operators.largerEq+"${args[1]}\\right)"},c}},function(e,t,i){"use strict";t.name="cs_marked",t.path="sparse",t.factory=function(){return function(e,t){return e[t]<0}}},function(e,t,a){"use strict";t.name="cs_mark",t.path="sparse",t.factory=function(e,t,i){var n=i(a(243));return function(e,t){e[t]=n(e[t])}}},function(e,t,s){"use strict";t.name="lsolve",t.factory=function(e,t,i,n){var a=i(s(12)),m=i(s(55)),y=i(s(73)),v=i(s(72)),C=i(s(47)),M=i(s(244)),b=e.DenseMatrix,n=n("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return o(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return r(e,t)},"Array, Array | Matrix":function(e,t){e=a(e);return r(e,t).valueOf()}}),r=function(e,t){for(var i=(t=M(e,t,!0))._data,n=e._size[0],a=e._size[1],r=[],o=e._data,s=0;s<a;s++){var l=i[s][0]||0;if(C(l,0))c=0;else{var h=o[s][s];if(C(h,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var c=m(l,h),u=s+1;u<n;u++)i[u]=[v(i[u][0]||0,y(c,o[u][s]))]}r[s]=[c]}return new b({data:r,size:[n,1]})},o=function(e,t){for(var i,n=(t=M(e,t,!0))._data,t=e._size[0],a=e._size[1],r=e._values,o=e._index,s=e._ptr,l=[],h=0;h<a;h++){var c=n[h][0]||0;if(C(c,0))l[h]=[0];else{for(var u=0,d=[],p=[],f=s[h+1],I=s[h];I<f;I++)(i=o[I])===h?u=r[I]:h<i&&(d.push(r[I]),p.push(i));if(C(u,0))throw new Error("Linear system cannot be solved since matrix is singular");var g=m(c,u);for(I=0,f=p.length;I<f;I++)n[i=p[I]]=[v(n[i][0]||0,y(g,d[I]))];l[h]=[g]}}return new b({data:l,size:[t,1]})};return n}},function(e,t,s){"use strict";t.name="usolve",t.factory=function(e,t,i,n){var a=i(s(12)),y=i(s(55)),v=i(s(73)),C=i(s(72)),M=i(s(47)),b=i(s(244)),x=e.DenseMatrix,n=n("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return o(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return r(e,t)},"Array, Array | Matrix":function(e,t){e=a(e);return r(e,t).valueOf()}}),r=function(e,t){for(var i=(t=b(e,t,!0))._data,n=e._size[0],t=e._size[1],a=[],r=e._data,o=t-1;0<=o;o--){var s=i[o][0]||0;if(M(s,0))h=0;else{var l=r[o][o];if(M(l,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var h=y(s,l),c=o-1;0<=c;c--)i[c]=[C(i[c][0]||0,v(h,r[c][o]))]}a[o]=[h]}return new x({data:a,size:[n,1]})},o=function(e,t){for(var i,n=(t=b(e,t,!0))._data,a=e._size[0],t=e._size[1],r=e._values,o=e._index,s=e._ptr,l=[],h=t-1;0<=h;h--){var c=n[h][0]||0;if(M(c,0))l[h]=[0];else{for(var u,d=0,p=[],f=[],I=s[h],g=(u=s[h+1])-1;I<=g;g--)(i=o[g])===h?d=r[g]:i<h&&(p.push(r[g]),f.push(i));if(M(d,0))throw new Error("Linear system cannot be solved since matrix is singular");var m=y(c,d);for(g=0,u=f.length;g<u;g++)n[i=f[g]]=[C(n[i][0],v(m,p[g]))];l[h]=[m]}}return new x({data:l,size:[a,1]})};return n}},function(e,t,I){"use strict";t.name="dotDivide",t.factory=function(e,t,i,n){var a=i(I(12)),r=i(I(55)),o=I(23),s=i(I(83)),l=i(I(63)),h=i(I(87)),c=i(I(65)),u=i(I(64)),d=i(I(39)),p=i(I(35)),f=n("dotDivide",{"any, any":r,"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?h(e,t,r,!1):s(t,e,r,!0):"sparse"===t.storage()?l(e,t,r,!1):d(e,t,r);return t},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?c:p)(e,t,r,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?u:p)(t,e,r,!0);return e},"Array, any":function(e,t){return p(a(e),t,r,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,r,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}"+o.operators.dotDivide+"${args[1]}\\right)"},f}},function(e,t,n){"use strict";var P=n(49);t.name="algorithm09",t.factory=function(e,t,i,w){var B=i(n(47)),D=e.SparseMatrix;return function(e,t,i){var n=e._values,a=e._index,r=e._ptr,o=e._size,s=e._datatype,l=t._values,h=t._index,c=t._ptr,e=t._size,t=t._datatype;if(o.length!==e.length)throw new P(o.length,e.length);if(o[0]!==e[0]||o[1]!==e[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+e+")");var e=o[0],u=o[1],d=B,p=0,f=i;"string"==typeof s&&s===t&&(d=w.find(B,[M=s,M]),p=w.convert(0,M),f=w.find(i,[M,M]));for(var I,g,m,y=n&&l?[]:void 0,v=[],C=[],M=new D({values:y,index:v,ptr:C,size:[e,u],datatype:M}),b=y?[]:void 0,x=[],O=0;O<u;O++){C[O]=v.length;var A=O+1;if(b)for(g=c[O],m=c[O+1],I=g;I<m;I++)x[S=h[I]]=A,b[S]=l[I];for(g=r[O],m=r[O+1],I=g;I<m;I++){var T,S=a[I];b?(T=x[S]===A?b[S]:p,d(T=f(n[I],T),p)||(v.push(S),y.push(T))):v.push(S)}}return C[u]=v.length,M}}},function(e,t,o){"use strict";var s=o(13);t.name="log",t.factory=function(t,i,e,n){var a=e(o(55)),r=n("log",{number:function(e){return 0<=e||i.predictable?Math.log(e):new t.Complex(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||i.predictable?e.ln():new t.Complex(e.toNumber(),0).log()},"Array | Matrix":function(e){return s(e,r)},"any, any":function(e,t){return a(r(e),r(t))}});return r.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},r}},function(e,t,l){"use strict";var h=l(28).clone,p=l(40).format;t.name="trace",t.factory=function(e,t,i,n){var a=i(l(12)),d=i(l(71)),r=n("trace",{Array:function(e){return r(a(e))},Matrix:function(e){var t;switch(e.storage()){case"dense":t=o(e);break;case"sparse":t=s(e)}return t},any:h}),o=function(e){var t=e._size,i=e._data;switch(t.length){case 1:if(1==t[0])return h(i[0]);throw new RangeError("Matrix must be square (size: "+p(t)+")");case 2:var n=t[0];if(n!==t[1])throw new RangeError("Matrix must be square (size: "+p(t)+")");for(var a=0,r=0;r<n;r++)a=d(a,i[r][r]);return a;default:throw new RangeError("Matrix must be two dimensional (size: "+p(t)+")")}},s=function(e){var t=e._values,i=e._index,n=e._ptr,a=e._size,e=a[0],r=a[1];if(e!==r)throw new RangeError("Matrix must be square (size: "+p(a)+")");var o=0;if(0<t.length)for(var s=0;s<r;s++)for(var l=n[s],h=n[s+1],c=l;c<h;c++){var u=i[c];if(u===s){o=d(o,t[c]);break}if(s<u)break}return o};return r.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},r}},function(e,t,a){"use strict";t.name="stirlingS2",t.factory=function(e,t,i,n){var l=i(a(71)),h=i(a(72)),c=i(a(51)),u=i(a(139)),d=i(a(136)),p=i(a(191)),f=i(a(192)),I=i(a(164)),g=i(a(141)),m=i(a(105));return(n=n("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!g(e)||I(e)||!g(t)||I(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var i=p(t),n=0,a=0;a<=t;a++)var r=d(-1,h(t,a)),o=f(t,a),s=d(a,e),n=l(n,c(c(o,s),r));return u(n,i)}})).toTex={2:"\\mathrm{S}\\left(${args}\\right)"},n}},function(e,t,i){"use strict";var n=i(13),d=i(17).isInteger;var p=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];t.name="gamma",t.factory=function(l,a,e,t){var h=e(i(51)),c=e(i(136)),u=t("gamma",{number:function(e){if(d(e)){if(e<=0)return isFinite(e)?1/0:NaN;if(171<e)return 1/0;for(var t=e-2,i=e-1;1<t;)i*=t,t--;return i=0==i?1:i}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*u(1-e));if(171.35<=e)return 1/0;if(85<e){var n=e*e,a=n*e,r=a*e,o=r*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*a)-571/(2488320*r)+163879/(209018880*o)+5246819/(75246796800*o*e))}--e;for(var s=p[0],l=1;l<p.length;++l)s+=p[l]/(e+l);return o=e+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(o,e+.5)*Math.exp(-o)*s},Complex:function(e){if(0==e.im)return u(e.re);e=new l.Complex(e.re-1,e.im);for(var t=new l.Complex(p[0],0),i=1;i<p.length;++i){var n=e.re+i,a=n*n+e.im*e.im;0!=a?(t.re+=p[i]*n/a,t.im+=-(p[i]*e.im)/a):t.re=p[i]<0?-1/0:1/0}var r=new l.Complex(e.re+4.7421875+.5,e.im),o=Math.sqrt(2*Math.PI);e.re+=.5;var s=c(r,e);0==s.im?s.re*=o:(0==s.re||(s.re*=o),s.im*=o);o=Math.exp(-r.re);return r.re=o*Math.cos(-r.im),r.im=o*Math.sin(-r.im),h(h(s,r),t)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new l.BigNumber(1/0):function(e){if(e.isZero())return new l.BigNumber(1);var t=a.precision+(0|Math.log(e.toNumber())),i=new(l.BigNumber.clone({precision:t}))(e),n=e.toNumber()-1;for(;1<n;)i=i.times(n),n--;return new l.BigNumber(i.toPrecision(l.BigNumber.precision))}(e.minus(1));if(!e.isFinite())return new l.BigNumber(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return n(e,u)}});return u.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},u}},function(e,t,o){"use strict";var s=o(13);t.name="not",t.factory=function(e,t,i,n){var a=o(23),r=n("not",{number:function(e){return!e},Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return r(e.value)},"Array | Matrix":function(e){return s(e,r)}});return r.toTex={1:a.operators.not+"\\left(${args[0]}\\right)"},r}},function(e,t,i){"use strict";var o=i(103).maxArgumentCount;function a(t,n){function a(e,i){return Array.isArray(e)?e.map(function(e,t){return a(e,i.concat(t))}):1===r?n(e):2===r?n(e,i):n(e,i,t)}var r=o(n);return a(t,[])}t.name="map",t.factory=function(e,t,i,n){return(n=n("map",{"Array, function":a,"Matrix, function":function(e,t){return e.map(t)}})).toTex=void 0,n}},function(e,t,u){"use strict";var d=u(14).size;t.name="sort",t.factory=function(e,t,i,n){function a(e,t){return-o(e,t)}var r=i(u(12)),o=i(u(142)),s=i(u(99));function l(e){if("asc"===e)return o;if("desc"===e)return a;if("natural"===e)return s;throw new Error('String "asc", "desc", or "natural" expected')}function h(e){if(1!==d(e).length)throw new Error("One dimensional array expected")}function c(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}return(n=n("sort",{Array:function(e){return h(e),e.sort(o)},Matrix:function(e){return c(e),r(e.toArray().sort(o),e.storage())},"Array, function":function(e,t){return h(e),e.sort(t)},"Matrix, function":function(e,t){return c(e),r(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return h(e),e.sort(l(t))},"Matrix, string":function(e,t){return c(e),r(e.toArray().sort(l(t)),e.storage())}})).toTex=void 0,n}},function(e,t,o){"use strict";var s=o(122);t.name="sum",t.factory=function(i,n,e,t){var a=e(o(62));return(t=t("sum",{"Array | Matrix":r,"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":r})).toTex=void 0,t;function r(e){var t=void 0;if(s(e,function(e){t=void 0===t?e:a(t,e)}),void 0===t)switch(n.number){case"number":return 0;case"BigNumber":return new i.BigNumber(0);case"Fraction":return new i.Fraction(0);default:return 0}return t}}},function(e,t,a){"use strict";var f=a(14).flatten,I=a(14).identify,g=a(14).generalize;t.name="setDifference",t.factory=function(e,t,i,n){var l=i(a(98)),h=i(a(88)),c=i(a(135)),u=i(a(90)),d=i(a(78)),p=i(a(99));return n("setDifference",{"Array | Matrix, Array | Matrix":function(e,t){if(0===d(u(e),new h(0)))var i=[];else{if(0===d(u(t),new h(0)))return f(e.toArray());for(var n=I(f(Array.isArray(e)?e:e.toArray()).sort(p)),a=I(f(Array.isArray(t)?t:t.toArray()).sort(p)),i=[],r=0;r<n.length;r++){for(var o=!1,s=0;s<a.length;s++)if(l(n[r].value,a[s].value)&&n[r].identifier===a[s].identifier){o=!0;break}o||i.push(n[r])}}return Array.isArray(e)&&Array.isArray(t)?g(i):new c(g(i))}})}},function(e,t,a){"use strict";var p=a(14).flatten,f=a(14).identify,I=a(14).generalize;t.name="setIntersect",t.factory=function(e,t,i,n){var s=i(a(98)),l=i(a(88)),h=i(a(135)),c=i(a(90)),u=i(a(78)),d=i(a(99));return n("setIntersect",{"Array | Matrix, Array | Matrix":function(e,t){if(0===u(c(e),new l(0))||0===u(c(t),new l(0)))var i=[];else for(var n=f(p(Array.isArray(e)?e:e.toArray()).sort(d)),a=f(p(Array.isArray(t)?t:t.toArray()).sort(d)),i=[],r=0;r<n.length;r++)for(var o=0;o<a.length;o++)if(s(n[r].value,a[o].value)&&n[r].identifier===a[o].identifier){i.push(n[r]);break}return Array.isArray(e)&&Array.isArray(t)?I(i):new h(I(i))}})}},function(e,t,h){"use strict";var c=h(14).flatten;t.name="setSymDifference",t.factory=function(e,t,i,n){var a=i(h(88)),r=i(h(186)),o=i(h(90)),s=(i(h(352)),i(h(78))),l=i(h(354));return n("setSymDifference",{"Array | Matrix, Array | Matrix":function(e,t){if(0===s(o(e),new a(0)))return c(t);if(0===s(o(t),new a(0)))return c(e);e=c(e),t=c(t);return r(l(e,t),l(t,e))}})}},function(e,t,u){"use strict";var d=u(14).flatten,p=(u(187),u(188));t.name="median",t.factory=function(e,t,i,n){var a=i(u(62)),r=i(u(55)),o=i(u(142)),s=i(u(248)),i=n("median",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(p(e))throw new TypeError("Scalar values expected in function median");return l(e)}});function l(e){var t=(e=d(e.valueOf())).length;if(0==t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var i=t/2-1,n=s(e,1+i),a=e[i],r=0;r<i;++r)0<o(e[r],a)&&(a=e[r]);return c(a,n)}t=s(e,(t-1)/2);return h(t)}var h=n({"number | BigNumber | Complex | Unit":function(e){return e}}),c=n({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(a(e,t),2)}});return i.toTex=void 0,i}},function(e,t,a){"use strict";var u=a(122);t.name="var",t.factory=function(o,e,t,i){var s=t(a(62)),l=t(a(72)),h=t(a(73)),c=t(a(55));return(i=i("variance",{"Array | Matrix":function(e){return n(e,"unbiased")},"Array | Matrix, string":n,"...":function(e){return n(e,"unbiased")}})).toTex="\\mathrm{Var}\\left(${args}\\right)",i;function n(e,t){var i=0,n=0;if(0==e.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(u(e,function(e){i=s(i,e),n++}),0===n)throw new Error("Cannot calculate var of an empty array");var a=c(i,n),i=0;switch(u(e,function(e){e=l(e,a);i=s(i,h(e,e))}),t){case"uncorrected":return c(i,n);case"biased":return c(i,n+1);case"unbiased":var r=o.isBigNumber(i)?new o.BigNumber(0):0;return 1==n?r:c(i,n-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}}},function(e,t,i){"use strict";var r=i(13);var o=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)};t.name="acosh",t.factory=function(t,i,e,n){var a=n("acosh",{number:function(e){return 1<=e||i.predictable?o(e):e<=-1?new t.Complex(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new t.Complex(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2));e.exports=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,null,[{key:"createCloneBg",value:function(e){e=e.clone();return e.alpha=.35,e}}]),e}()},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2));e.exports=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,null,[{key:"setJSON",value:function(e,t){var i=e.dataVersion,n=e.name;switch(i){case void 0:"NonPorousRubberPlugBig"===n&&void 0===e.bgScale&&t.choicePlugScale(t.parent,0);case 1:if("QualitativeFilterPaper"===n){if(e.blockMedicine)return void(e.blockMedicine=[{cutType:null,mol:.1,pos:{x:-76.35,y:25.6}}]);e.blockMedicine=[],e.piece_lit&&e.blockMedicine.push({cutType:1,mol:.03,pos:{x:-91.35,y:25.6}}),e.piece_mid&&e.blockMedicine.push({cutType:2,mol:.07,pos:{x:-71.35,y:25.6}})}}return e}},{key:"nameReplace",value:function(e){var t,i,n=e.dataVersion,a=e.name;switch(n){case void 0:["N2","H2","CO","CH4","O2，N2","NH3","SO2"].find(function(e){return e===a})&&0<e.addedNode.length&&(e.name+="_bag"),"NonPorousRubberPlugHuge"!==a&&"NonPorousRubberPlugSmall"!==a||(e.name="NonPorousRubberPlugBig"),t=["H2O%99.975&CaCl2%0.001&MgCl2%0.008&HCl%0.000001_aq","H2O%99.975&CaCl2%0.001&MgCl2%0.008&HCl%0.000001_aq"],-1!==(i=["H2O%99.975&CaCl2%0.001&MgCl2%0.024_aq","H2O%99.975&CaCl2%0.001&MgCl2%0.008_aq"].findIndex(function(e){return e===a}))&&(e.name=t[i]),"WaterBath"===e.name&&(e.constructorAttribute.checkWaterTemp=!0);case 1:"Mg_s"===a&&(e.name="MagnesiumRibbon"),t=["C20H19N3%1&H2O%99.9","NaCl%75&SiO2%5&CaCl2%0.5&MgCl2%1&Na2SO4%1"],-1!==(i=["C20H19N3%0.1&H2O%99.9","NaCl%75&SiO2%5&CaCl2%1&MgCl2%1&Na2SO4%1"].findIndex(function(e){return e===a}))&&(e.name=t[i]);case 2:case 3:"WaterBath"===a&&e.medicineData&&(e.name="HugeBeaker");case 4:"NH3H2O%28&H2O%100&NH3%200"===a&&(e.name="NH3H2O%28&H2O%100");case 5:"C7H7O4N%10&H2O%90"===a&&(e.name="C7H7O4N%1&H2O%99"),"C20H14O4%10&H2O%90"===a&&(e.name="C20H14O4%1&H2O%99"),"C15H12O4%10&H2O%90"===a&&(e.name="C15H12O4%1&H2O%99"),"C16H14O4%10&H2O%90"===a&&(e.name="C16H14O4%1&H2O%99"),"Ag(NH3)2OH%1&H2O%99"===a&&(e.name="Ag(NH3)2OH%2&NH3H2O%1&H2O%97");case 6:"I2%0.002&H2O%99.998"===a&&(e.name="I2%0.008&H2O%99.992")}return e.constructorAttribute?e.constructorAttribute.dataBuild=!0:e.constructorAttribute={dataBuild:!0},e}}]),e}()},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(9)),s=n(i(1)),l=n(i(2)),h=n(i(7)),c=n(i(5)),r=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var p=i(74),L=i(32),N=i(31),f=i(11),I=i(91),i=function(){(0,c.default)(r,I);var a=d(r);function r(e){(0,s.default)(this,r);var t=e.localBounds,i=t.x+t.width+f.BUTTON_RADIUS+100,n=t.y+t.height/2+150;(t=a.call(this,e,{x:i,y:n})).dontDrag=!0,N.register(L.ADDWATER),t.percent=0,t.startAngle=0,t.endAngle=-Math.PI/4*3;n=t.otherLayer.toLocal({x:i,y:n},e);t.minY=n.y-300,t.maxY=n.y,p.addDrag(t.button,{x:n.x,y:t.minY,width:0,height:300}),t.initButtonEvt(),t._target=null,t.lineAry=t.generateLinePoints({x:n.x-70,y:n.y},{x:n.x-70,y:t.minY},15);n=e.getPourInObj();return n&&n.getGlobalVertexes&&n.getGlobalVertexes(!0),t.initUnicorn(),t.target=e,t.setPercent(0),t.button.visible=!0,t.setBtnPosition(),t}return(0,l.default)(r,[{key:"initButton",value:function(){this.name="VRotateSprite",(0,h.default)((0,u.default)(r.prototype),"initButton",this).call(this)}},{key:"target",get:function(){return this._target},set:function(e){this._target=e,this.targetStartPos={x:e.x,y:e.y}}},{key:"setOriType",value:function(){}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.dump")}},{key:"dragButtonBegin",value:function(e){(0,h.default)((0,u.default)(r.prototype),"dragButtonBegin",this).call(this,e),this.startDragPos=(0,o.default)({},e.data.global),this.target.isPourOutHold=!0}},{key:"dragButtonMove",value:function(e){(0,h.default)((0,u.default)(r.prototype),"dragButtonMove",this).call(this,e);var t=this.target;t.maxWaveHeight=0,t.waveHeight=0,t.growLiquid&&(t.growLiquid.enable=!0);var i=t.getPourInObj();i&&i.growLiquid&&(i.growLiquid.enable=!0),0<t.medicineNBGraphicMap.size&&(t.activeCount=f.ACTIVE_COUNT,i&&(i.activeCount=f.ACTIVE_COUNT)),this.setPercent(this.getPercent(e,this.startDragPos))}},{key:"dragButtonEnd",value:function(){var e=this.target;e.isPourOutHold=!1;var t=e.getPourInObj();t&&(t.hasReact+=2,e.hasReact+=2),(0,h.default)((0,u.default)(r.prototype),"dragButtonEnd",this).call(this),this.liquidTransition()}},{key:"liquidTransition",value:function(){var n=this,r=this.target,o=r.getPourInObj();if((o=o&&!(o.getTotalCapacity instanceof Function)?"GlassBar"===o.name&&o.getViewStack().eqLayer!=o.parent?o.parent:o.currentContainer:o)&&o.growLiquid&&!o.isCovered()&&(!o.currentPlug||o.currentPlug.parent!==o)){var a,e,s,t,i,l,h,c,u,d,p=o.getCurrentCapacity(),f=0;if(r.isLiquidMedBottle||r.volumeInfinity)0<(d=o.growLiquid.deltaCapacity)&&(a=this.getPercent(),e=N.play(L.ADDWATER),o.isPouring=!0,p<o.getTotalCapacity()/1e3?(t=o.liquidGra,i=r.liquidGra,p=t[t.length-1],i=i[i.length-1],l=t,h=i.liquidColor,c=i.liquidAlpha,p.liquidColor=h,p.liquidAlpha=c):1!==o.liquidGra.length||!o.liquidGra[0].med||"H2O"===o.liquidGra[0].med.name||(M=(C=r.liquidGra)[C.length-1]).med&&"H2O"===M.med.name&&(s={color:M.liquidColor,alpha:M.liquidAlpha}),u=TweenMax.to(o.growLiquid,.5,{alpha:0,onUpdate:function(){var e,t=u.progress();l&&((e=l[l.length-1]).liquidColor=h,e.liquidAlpha=c),s&&1<o.liquidGra.length&&((i=o.liquidGra.find(function(e){return e&&e.med&&"H2O"===e.med.name}))&&(i.liquidColor=s.color,i.liquidAlpha=s.alpha,s=null)),n.setPercent((1-t)*a),o.maxWaveHeight=10;var i=r.medicineData.covertVolumeToLiquid((t-f)*d,!0);o.medicineData.naiveAddMedicine(i),f=t},onComplete:function(){e.stop(),o.medicineData.recalSolvent(),o.isPouring=!1}}));else if(r.isSolidMedBottle){var I,g=[],m=0;for(I in r.medicineData.solidAry){var y=r.medicineData.solidAry[I];g.push(y.deepClone()),m+=y.mol}if(d=o.growSolid.deltaCapacity){for(var v=0;v<g.length;v++)g[v].mol=g[v].mol/m*d;var C=o.localBounds,M={x:C.x+C.width/2,y:C.y};o.solidMedDownOffset&&(M.x+=o.solidMedDownOffset.x,M.y+=o.solidMedDownOffset.y),o.isHardGlass&&"area1"===o.getCurrentPourIn()&&(M.y=C.y+C.height),o.isKippsCenter&&(M.x=C.x+.53*C.width,M.y=C.y+C.height/4),o.getAddMedPos&&(M=o.getAddMedPos()),o.addMedicine(g,M);var b=this.getPercent(),x=TweenMax.to(o.growSolid,.5,{alpha:0,onUpdate:function(){var e=x.progress();n.setPercent((1-e)*b)},onComplete:function(){o.growSolid.deltaCapacity=0}})}}else{d=-r.growLiquid.deltaCapacity;var O=r.medicineData.getLiquidCapacity();if(0<r.getCurrentCapacity()&&(d*=O/r.getCurrentCapacity()),d=d>o.growLiquid.deltaCapacity?o.growLiquid.deltaCapacity:d,0!==r.growLiquid.deltaCapacity){var A=N.play(L.ADDWATER);o.isPouring=!0,r.isPourOut=!0;var T=r.liquidGra;if(T instanceof Array&&1<T.length)for(var S=[],w=T.length-1;0<=w;w--){var B={dissolvent:T[w].med,solute:T[w].solute};S.push(B)}var D=0;r.interactive=!1;var P=TweenMax.to(r.growLiquid,.5,{alpha:0,onUpdate:function(){var e=P.progress()*d,e=r.medicineData.getLiquidCapacity()-O+e;D+=e;e=r.medicineData.covertVolumeToLiquid(e,!0,S);r.medicineData.popLiquid(e),o.medicineData.naiveAddMedicine(e);e=r.medicineData.ionAry.quickMap.get("H1");e&&null!=e.correctMol&&(e.correctMol=e.getMol());e=r.medicineData.ionAry.quickMap.get("OH-1");e&&null!=e.correctMol&&(e.correctMol=e.getMol());e=o.medicineData.ionAry.quickMap.get("H1");e&&null!=e.correctMol&&(e.correctMol=e.getMol());e=o.medicineData.ionAry.quickMap.get("OH-1");e&&null!=e.correctMol&&(e.correctMol=e.getMol())},onComplete:function(){r.interactive=!0,o.growLiquid.deltaCapacity=0,r.growLiquid.deltaCapacity=0,o.growLiquid.enable=!1,r.growLiquid.enable=!1;var e=d/O,t=r.medicineData.transSediments(e);o.addMedicine(t);for(var i=0;i<t.length;i++){var n=t[i],a=n.clone();a.sediment=n.sediment,o.medicineData.push(a)}e=D-d;e<0&&o.medicineData.naiveAddMedicine(r.medicineData.covertVolumeToLiquid(-e,!0)),A.stop(),o.isPouring=!1,r.isPourOut=!1,r.setCurrentCapacity(O-d),o.medicineData.recalSolvent();e=r.medicineData.ionAry.quickMap.get("H1");e&&null!=e.correctMol&&(e.correctMol=e.getMol());e=r.medicineData.ionAry.quickMap.get("OH-1");e&&null!=e.correctMol&&(e.correctMol=e.getMol());e=o.medicineData.ionAry.quickMap.get("H1");e&&null!=e.correctMol&&(e.correctMol=e.getMol());e=o.medicineData.ionAry.quickMap.get("OH-1");e&&null!=e.correctMol&&(e.correctMol=e.getMol())}})}}}}},{key:"getPercent",value:function(e,t){var i,n;e&&t&&(n=this.otherLayer.parent.scale.x,i=((a=e.data.global).y-t.y)/n,e=this.target,n=this.button.y,0!==e.growLiquid.deltaCapacity&&i<0&&1e-7<e.growLiquid.deltaCapacity+e.currentCapacity?(1<(e=(e=e.getPourInObj())?e.getTotalCapacity()/100:1)?e=1:i=1<i?1:i,n+=i*e):n+=i,n=(n=(n-=i)>this.maxY?this.maxY:n)<this.minY?this.minY:n,this.button.y=n,t.y=a.y);var a=(this.maxY-this.button.y)/300;return a=1<(a=a<0?0:a)?1:a}},{key:"setPercent",value:function(e){this.percent=e,this.setPointAryPercent(0,e);var t=this.target,i=t.getPourInObj();!i||i.getTotalCapacity instanceof Function||(i.currentContainer?i=i.currentContainer:i.parent&&i.parent.isBaseContainer&&(i=i.parent)),i&&i.isBaseContainer&&(!t.isLiquidMedBottle&&!t.volumeInfinity||!i||t.isCovered instanceof Function&&t.isCovered()||(a=Math.pow(t.getViewStack().scale.x,2),n=(n=i.getTotalCapacity()*e*e*e*.6)<=10?n:Math.round(n),i.drawTipLiquid.call(i,{globalScale:a,deltaCapacity:n,sourceContainer:t})),!t.isSolidMedBottle||!i||t.isCovered instanceof Function&&t.isCovered()||("NaOH"===(i.growSolid.solidSource=t).medConfData.chemical?i.growSolid.isEllipse=!0:i.growSolid.isEllipse=!1,i.growSolid.deltaCapacity=f.POUR_SOLID_MAX_MOL*e*e*e));var n,a,r=this.startAngle+e*(this.endAngle-this.startAngle);this.button.y=this.minY+300*(1-e),t.napeBody?t.napeBody.set_rotation(r):(a=r,n=t.pourOut.x,i=t.pourOut.y,e=n*Math.cos(a)-i*Math.sin(a),a=n*Math.sin(a)+i*Math.cos(a),this.button.parent&&(t.x=this.targetStartPos.x-e+n,t.y=this.targetStartPos.y-a+i),t.rotation=r)}},{key:"getEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e,t,i){var n,a,r;e?(this.button.visible=!0,!this.target.isSolidMedBottle||(e=this.target.getPourInObj())&&e.growSolid&&(e.growSolid.mask=e.capacityMask),this.target.rotateBottle&&this.target.rotateBottle(!0)):(n=this.percent,a=this,r=TweenMax.to(this.target,.25,{onUpdate:function(){t||a.setPercent((1-r.progress())*n)}}),i||this.target.addWholeRotateType([]),this.destroy(),this.liquidTransition(),this.target.rotateBottle&&this.target.rotateBottle(!1))}}]),r}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(1)),s=n(i(2)),l=n(i(5)),r=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}i=function(e){(0,l.default)(r,e);var a=c(r);function r(e,t,i,n){return(0,o.default)(this,r),(n=a.call(this,e,t,i,n)).userData={},n}return(0,s.default)(r,[{key:"body1",get:function(){return this.get_body1()},set:function(e){this.set_body1(e)}},{key:"body2",get:function(){return this.get_body2()},set:function(e){this.set_body2(e)}},{key:"anchor1",get:function(){return this.get_anchor1()},set:function(e){this.set_anchor1(e)}},{key:"anchor2",get:function(){return this.get_anchor2()},set:function(e){this.set_anchor2(e)}},{key:"frequency",get:function(){return this.get_frequency()},set:function(e){this.set_frequency(e)}},{key:"stiff",get:function(){return this.get_stiff()},set:function(e){this.set_stiff(e)}},{key:"damping",get:function(){return this.get_damping()},set:function(e){this.set_damping(e)}},{key:"ignore",get:function(){return this.get_ignore()},set:function(e){this.set_ignore(e)}},{key:"active",get:function(){return this.get_active()},set:function(e){this.set_active(e)}},{key:"updateStep",value:function(){var e,t;this.coerceAB&&(this.aTob?(e=this.anchor2,this.get_body2()!==this.get_space().get_world()&&(e=this.body2.localPointToWorld(e)),t=this.anchor1,this.body1.set_position(e.sub(t))):(e=this.anchor1,this.get_body1()!==this.get_space().get_world()&&(e=this.body1.localPointToWorld(e)),t=this.anchor2,this.body2.set_position(e.sub(t))))}}]),r}(nape.constraint.PivotJoint);e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2));e.exports=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,null,[{key:"rotateVec2",value:function(e,t){var i,n,a=new nape.geom.Vec2;return t%(2*Math.PI)!=0?(i=Math.sin(t),t=(n=Math.cos(t))*e.zpp_inner.x-i*e.zpp_inner.y,a.zpp_inner.y=e.zpp_inner.x*i+e.zpp_inner.y*n,a.zpp_inner.x=t):a.setxy(e.zpp_inner.x,e.zpp_inner.y),a.zpp_inner.invalidate(),a}},{key:"addVec2",value:function(e,t){var i=new nape.geom.Vec2;return i.zpp_inner.x=e.zpp_inner.x+t.zpp_inner.x,i.zpp_inner.y=e.zpp_inner.y+t.zpp_inner.y,i}}]),e}()},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),n=n(i(124)),i=function(){function t(){(0,a.default)(this,t)}return(0,r.default)(t,null,[{key:"getAniData",value:function(e){return t.DATA_MAP[e]}}]),t}();(0,n.default)(i,"DATA_MAP",{HgO_Hg_O2:{chemDisAry:[{id:0,formula:"Hg",aniData:[{x:180,y:215,p:.1},{x:282,y:216,p:.3},{x:272,y:260,p:.55},{x:272,y:260,p:.65},{x:278,y:260,p:.9}]},{id:1,formula:"Hg",aniData:[{x:420,y:215,p:.1},{x:318,y:216,p:.3},{x:328,y:260,p:.55},{x:328,y:260,p:.65},{x:322,y:260,p:.9}]},{id:2,formula:"O",aniData:[{x:180,y:184,p:.1},{x:282,y:184,p:.3},{x:195,y:105,p:.55},{x:195,y:105,p:.65},{x:287,y:105,p:.9}]},{id:3,formula:"O",aniData:[{x:420,y:184,p:.1},{x:318,y:184,p:.3},{x:405,y:105,p:.55},{x:405,y:105,p:.65},{x:314,y:105,p:.9}]}],lightning:[{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:2}],endP:[{p:0,id:0},{p:.6,id:3},{p:1,id:3}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0}],startP:[{p:0,id:1}],endP:[{p:0,id:3}]}]},Cl2_H2_HCl:{chemDisAry:[{id:0,formula:"Cl",aniData:[{x:420,y:183,p:.1},{x:315,y:183,p:.3},{x:404,y:120,p:.55},{x:404,y:120,p:.65},{x:317,y:110,p:.9}]},{id:1,formula:"Cl",aniData:[{x:420,y:217,p:.1},{x:315,y:217,p:.3},{x:404,y:280,p:.55},{x:404,y:280,p:.65},{x:317,y:290,p:.9}]},{id:2,formula:"H",aniData:[{x:180,y:190,p:.1},{x:289,y:190,p:.3},{x:180,y:80,p:.55},{x:180,y:80,p:.65},{x:290,y:110,p:.9}]},{id:3,formula:"H",aniData:[{x:180,y:210,p:.1},{x:289,y:210,p:.3},{x:180,y:320,p:.55},{x:180,y:320,p:.65},{x:290,y:290,p:.9}]}],lightning:[{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:0}],endP:[{p:0,id:1},{p:.6,id:2},{p:1,id:2}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:3}],endP:[{p:0,id:2},{p:.6,id:1},{p:1,id:1}]}]},O2_S_SO2:{chemDisAry:[{id:0,formula:"O",aniData:[{x:180,y:186,p:.1},{x:286,y:186,p:.3},{x:210,y:120,p:.55},{x:210,y:120,p:.65},{x:300,y:174,p:.9}]},{id:1,formula:"O",aniData:[{x:180,y:214,p:.1},{x:286,y:214,p:.3},{x:210,y:280,p:.55},{x:210,y:280,p:.65},{x:300,y:226,p:.9}]},{id:2,formula:"S",aniData:[{x:420,y:200,p:.1},{x:316,y:200,p:.3},{x:378,y:200,p:.55},{x:378,y:200,p:.65},{x:318,y:200,p:.9}]}],lightning:[{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:0}],endP:[{p:0,id:1},{p:.6,id:2},{p:1,id:2}]},{alpha:[{p:0,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:1}],endP:[{p:0,id:2}]}]},H2O2_H2O_O2:{chemDisAry:[{id:0,formula:"H",aniData:[{x:192,y:165,p:.1},{x:297,y:165,p:.3},{x:350,y:70,p:.55},{x:350,y:70,p:.65},{x:395,y:112,p:.9}]},{id:1,formula:"H",aniData:[{x:168,y:235,p:.1},{x:273,y:235,p:.3},{x:110,y:290,p:.55},{x:110,y:290,p:.65},{x:170,y:270,p:.9}]},{id:2,formula:"H",aniData:[{x:432,y:165,p:.1},{x:327,y:165,p:.3},{x:490,y:110,p:.55},{x:490,y:110,p:.65},{x:430,y:130,p:.9}]},{id:3,formula:"H",aniData:[{x:408,y:235,p:.1},{x:303,y:235,p:.3},{x:250,y:330,p:.55},{x:250,y:330,p:.65},{x:205,y:288,p:.9}]},{id:4,formula:"O",aniData:[{x:178,y:185,p:.1},{x:283,y:185,p:.3},{x:255,y:135,p:.55},{x:255,y:135,p:.65},{x:290,y:190,p:.9}]},{id:5,formula:"O",aniData:[{x:182,y:215,p:.1},{x:287,y:215,p:.3},{x:210,y:240,p:.55},{x:210,y:240,p:.65},{x:195,y:265,p:.9}]},{id:6,formula:"O",aniData:[{x:418,y:185,p:.1},{x:313,y:185,p:.3},{x:385,y:160,p:.55},{x:385,y:160,p:.65},{x:405,y:135,p:.9}]},{id:7,formula:"O",aniData:[{x:422,y:215,p:.1},{x:317,y:215,p:.3},{x:345,y:265,p:.55},{x:345,y:265,p:.65},{x:310,y:210,p:.9}]}],lightning:[{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:0}],endP:[{p:0,id:4},{p:.6,id:6},{p:1,id:6}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:1}],endP:[{p:0,id:5}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:2}],endP:[{p:0,id:6}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:3}],endP:[{p:0,id:7},{p:.6,id:5},{p:1,id:5}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:4}],endP:[{p:0,id:5},{p:.6,id:7}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0}],startP:[{p:0,id:6}],endP:[{p:0,id:7}]}]},H2_O2_H2O:{chemDisAry:[{id:0,formula:"H",aniData:[{x:480,y:210,p:.1},{x:338,y:210,p:.3},{x:540,y:280,p:.55},{x:540,y:280,p:.65},{x:465,y:218,p:.9}]},{id:1,formula:"H",aniData:[{x:480,y:190,p:.1},{x:338,y:190,p:.3},{x:540,y:121,p:.55},{x:540,y:121,p:.65},{x:465,y:182,p:.9}]},{id:2,formula:"H",aniData:[{x:120,y:210,p:.1},{x:262,y:210,p:.3},{x:60,y:280,p:.55},{x:60,y:280,p:.65},{x:135,y:218,p:.9}]},{id:3,formula:"H",aniData:[{x:120,y:190,p:.1},{x:262,y:190,p:.3},{x:60,y:120,p:.55},{x:60,y:120,p:.65},{x:135,y:182,p:.9}]},{id:4,formula:"O",aniData:[{x:315,y:200,p:.1},{x:315,y:200,p:.3},{x:405,y:200,p:.55},{x:405,y:200,p:.65},{x:450,y:200,p:.9}]},{id:5,formula:"O",aniData:[{x:285,y:200,p:.1},{x:285,y:200,p:.3},{x:195,y:200,p:.55},{x:195,y:200,p:.65},{x:150,y:200,p:.9}]}],lightning:[{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:0}],endP:[{p:0,id:1},{p:.6,id:4},{p:1,id:4}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:2}],endP:[{p:0,id:3},{p:.6,id:5},{p:1,id:5}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:4}],endP:[{p:0,id:5},{p:.6,id:1},{p:1,id:1}]},{alpha:[{p:0,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:5}],endP:[{p:0,id:5},{p:.6,id:3},{p:1,id:3}]}]},H2O_H2_O2:{chemDisAry:[{id:0,formula:"H",aniData:[{x:164,y:180,p:.1},{x:270,y:180,p:.3},{x:120,y:120,p:.55},{x:120,y:120,p:.65},{x:120,y:190,p:.9}]},{id:1,formula:"H",aniData:[{x:164,y:220,p:.1},{x:270,y:220,p:.3},{x:120,y:280,p:.55},{x:120,y:280,p:.65},{x:120,y:210,p:.9}]},{id:2,formula:"H",aniData:[{x:436,y:180,p:.1},{x:330,y:180,p:.3},{x:480,y:120,p:.55},{x:480,y:120,p:.65},{x:480,y:190,p:.9}]},{id:3,formula:"H",aniData:[{x:436,y:220,p:.1},{x:330,y:220,p:.3},{x:480,y:280,p:.55},{x:480,y:280,p:.65},{x:480,y:210,p:.9}]},{id:4,formula:"O",aniData:[{x:180,y:200,p:.1},{x:286,y:200,p:.3},{x:215,y:200,p:.55},{x:215,y:200,p:.65},{x:286,y:200,p:.9}]},{id:5,formula:"O",aniData:[{x:420,y:200,p:.1},{x:314,y:200,p:.3},{x:385,y:200,p:.55},{x:385,y:200,p:.65},{x:314,y:200,p:.9}]}],lightning:[{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:0}],endP:[{p:0,id:4},{p:.6,id:1},{p:1,id:1}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:4}],endP:[{p:0,id:1},{p:.6,id:5},{p:1,id:5}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:2}],endP:[{p:0,id:5},{p:.6,id:3},{p:1,id:3}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0}],startP:[{p:0,id:3}],endP:[{p:0,id:5}]}]},CH4_O2_CO2_H2O:{chemDisAry:[{id:0,formula:"C",aniData:[{x:300,y:200,p:.1},{x:300,y:200,p:.3},{x:300,y:200,p:.55},{x:300,y:200,p:.65},{x:300,y:200,p:.9}]},{id:1,formula:"H",aniData:[{x:282,y:182,p:.1},{x:282,y:182,p:.3},{x:170,y:80,p:.55},{x:170,y:80,p:.65},{x:118,y:178,p:.9}]},{id:2,formula:"H",aniData:[{x:282,y:218,p:.1},{x:282,y:218,p:.3},{x:170,y:320,p:.55},{x:170,y:320,p:.65},{x:118,y:222,p:.9}]},{id:3,formula:"H",aniData:[{x:318,y:182,p:.1},{x:318,y:182,p:.3},{x:430,y:80,p:.55},{x:430,y:80,p:.65},{x:482,y:178,p:.9}]},{id:4,formula:"H",aniData:[{x:318,y:218,p:.1},{x:318,y:218,p:.3},{x:430,y:320,p:.55},{x:430,y:320,p:.65},{x:482,y:222,p:.9}]},{id:5,formula:"O",aniData:[{x:135,y:200,p:.1},{x:241,y:200,p:.3},{x:75,y:201,p:.55},{x:75,y:201,p:.65},{x:105,y:200,p:.9}]},{id:6,formula:"O",aniData:[{x:164,y:200,p:.1},{x:270,y:200,p:.3},{x:195,y:201,p:.55},{x:195,y:201,p:.65},{x:272,y:200,p:.9}]},{id:7,formula:"O",aniData:[{x:465,y:200,p:.1},{x:359,y:200,p:.3},{x:525,y:200,p:.55},{x:525,y:200,p:.65},{x:495,y:200,p:.9}]},{id:8,formula:"O",aniData:[{x:436,y:200,p:.1},{x:330,y:200,p:.3},{x:405,y:200,p:.55},{x:405,y:200,p:.65},{x:328,y:200,p:.9}]}],lightning:[{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:1}],endP:[{p:0,id:0},{p:.6,id:5},{p:1,id:5}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:2}],endP:[{p:0,id:0},{p:.6,id:5},{p:1,id:5}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:3}],endP:[{p:0,id:0},{p:.6,id:7},{p:1,id:7}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:4}],endP:[{p:0,id:0},{p:.6,id:7},{p:1,id:7}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:6}],endP:[{p:0,id:5},{p:.6,id:0}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:8}],endP:[{p:0,id:7},{p:.6,id:0}]}]},CO_Fe2O3_CO2_Fe:{chemDisAry:[{id:0,formula:"Fe",aniData:[{x:274,y:226,p:.1},{x:274,y:226,p:.3},{x:272,y:295,p:.55},{x:272,y:295,p:.65},{x:274,y:310,p:.9}]},{id:1,formula:"Fe",aniData:[{x:326,y:226,p:.1},{x:326,y:226,p:.3},{x:328,y:295,p:.55},{x:328,y:295,p:.65},{x:326,y:310,p:.9}]},{id:2,formula:"C",aniData:[{x:120,y:280,p:.1},{x:242,y:233,p:.3},{x:120,y:240,p:.55},{x:120,y:240,p:.65},{x:120,y:240,p:.9}]},{id:3,formula:"C",aniData:[{x:300,y:80,p:.1},{x:300,y:174,p:.3},{x:300,y:105,p:.55},{x:300,y:105,p:.65},{x:300,y:105,p:.9}]},{id:4,formula:"C",aniData:[{x:480,y:280,p:.1},{x:358,y:233,p:.3},{x:480,y:240,p:.55},{x:480,y:240,p:.65},{x:480,y:240,p:.9}]},{id:5,formula:"O",aniData:[{x:94,y:296,p:.1},{x:217,y:250,p:.3},{x:60,y:320,p:.55},{x:60,y:320,p:.65},{x:100,y:260,p:.9}]},{id:6,formula:"O",aniData:[{x:300,y:50,p:.1},{x:300,y:143,p:.3},{x:300,y:40,p:.55},{x:300,y:40,p:.65},{x:300,y:75,p:.9}]},{id:7,formula:"O",aniData:[{x:506,y:296,p:.1},{x:383,y:250,p:.3},{x:540,y:320,p:.55},{x:540,y:320,p:.65},{x:500,y:260,p:.9}]},{id:8,formula:"O",aniData:[{x:248,y:205,p:.1},{x:248,y:205,p:.3},{x:180,y:161,p:.55},{x:180,y:161,p:.65},{x:140,y:220,p:.9}]},{id:9,formula:"O",aniData:[{x:300,y:205,p:.1},{x:300,y:205,p:.3},{x:300,y:170,p:.55},{x:300,y:170,p:.65},{x:300,y:135,p:.9}]},{id:10,formula:"O",aniData:[{x:352,y:205,p:.1},{x:352,y:205,p:.3},{x:420,y:160,p:.55},{x:420,y:160,p:.65},{x:460,y:220,p:.9}]}],lightning:[{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:2}],endP:[{p:0,id:5}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:3}],endP:[{p:0,id:6}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:4}],endP:[{p:0,id:7}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:8}],endP:[{p:0,id:0},{p:.6,id:2},{p:1,id:2}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:9}],endP:[{p:0,id:0},{p:.6,id:3}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0},{p:.65,v:0},{p:.7,v:1},{p:.85,v:1},{p:.9,v:0}],startP:[{p:0,id:10}],endP:[{p:0,id:1},{p:.6,id:4}]},{alpha:[{p:0,v:0},{p:.3,v:0},{p:.35,v:1},{p:.5,v:1},{p:.55,v:0}],startP:[{p:0,id:9}],endP:[{p:0,id:1}]}]}}),e.exports=i},function(e,t,i){e.exports=i(921)},function(e,t,i){e.exports=i(922)},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2));e.exports=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,null,[{key:"confirm",value:function(e){var t,i=new Event("f58988ffa5f1708a6680ba598a32bff9");i.title=e.title||"",i.content=e.content||"",i.callback=e.callback,i.stopPropagation=function(){i.__stop__=!0},window.dispatchEvent(i),void 0===i.__stop__&&(t=window.confirm(e.content),e.callback(t))}}]),e}()},function(e,t,i){e.exports=i(941)},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}i=function(e){(0,s.default)(n,e);var i=c(n);function n(e,t){return(0,r.default)(this,n),(t=i.call(this,e,t)).bodies=t.zpp_inner.bodies,t.world=t.zpp_inner.__static,t.constraints=t.zpp_inner.wrap_constraints,t.listeners=t.zpp_inner.wrap_listeners,t}return(0,o.default)(n,[{key:"add",value:function(e){this.zpp_inner.wrap_bodies.add(e)}},{key:"remove",value:function(e){this.zpp_inner.wrap_bodies.remove(e)}}]),n}(nape.space.Space);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=nape.geom.Vec2,d=i(364),i=function(e){(0,s.default)(n,e);var i=c(n);function n(e){var t;return(0,r.default)(this,n),(t=i.call(this)).nape=e,t.graphic=new PIXI.Graphics,t.addChild(t.graphic),t}return(0,o.default)(n,[{key:"clear",value:function(){this.graphic.clear()}},{key:"draw",value:function(){this.graphic.clear(),this.graphic.lineStyle(1,16711935);for(var e=this.nape.space.bodies,t=0,t=0;t<e.length;t++){var i=e.iterator_at(t).elt.outer;this.createShape(i.zpp_inner.shapes)}var n=this.nape.space.constraints;for(t=0;t<n.get_length();t++){var a=n.at(t);this.createJoint(a)}var r=this.nape.space.get_compounds();for(t=0;t<r.get_length();t++){for(var o=r.at(t),s=o.get_bodies(),l=o.get_constraints(),h=void 0,h=0;h<s.get_length();h++){var c=s.at(h);this.createShape(c.zpp_inner.shapes)}for(h=0;h<l.get_length();h++){var u=l.at(h);this.createJoint(u)}}}},{key:"createJoint",value:function(e){this.graphic.lineStyle(1,65280);var t,i,n,a=e.zpp_inner.outer;a.activate&&(t=a.body1,i=a.body2,n=a.body3,a=a.body4,e.anchor1&&(t=t.localPointToWorld(e.anchor1),i=i.localPointToWorld(e.anchor2),this.graphic.moveTo(t.get_x(),t.get_y()),this.graphic.lineTo(i.get_x(),i.get_y())),n&&(n=n.localPointToWorld(e.anchor3),e=a.localPointToWorld(e.anchor4),this.graphic.moveTo(n.get_x(),n.get_y()),this.graphic.lineTo(e.get_x(),e.get_y())))}},{key:"createShape",value:function(e){for(var t=0;t<e.length;t++){var i=e.iterator_at(t).elt,n=i.body;if(this.graphic.beginFill(16711680),this.graphic.drawCircle(n.posx,n.posy,2),this.graphic.endFill(),i.radius)this.graphic.drawCircle(n.posx,n.posy,i.radius);else{var a=i.wrap_lverts;if(a){var r={},o=new u(n.posx,n.posy);this.graphic.lineStyle(1,16711935);for(var s=0;s<a.inner.length;s++){var l=d.rotateVec2(a.at(s),n.rot),l=d.addVec2(o,l);0==s?(r.x=l.zpp_inner.x,r.y=l.zpp_inner.y,this.graphic.moveTo(l.zpp_inner.x,l.zpp_inner.y)):this.graphic.lineTo(l.zpp_inner.x,l.zpp_inner.y)}this.graphic.lineTo(r.x,r.y)}}}}}]),n}(PIXI.Graphics);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var BaseLiquidMedicine=i(84),d=i(108),i=function(){(0,l.default)(i,BaseLiquidMedicine);var t=u(i);function i(e){return(0,r.default)(this,i),(e=t.call(this,e)).name="BaseLiquidBrownDropMedicine",e.z_index=15.37,e.MAX_LABEL_WIDTH=87.5,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this),this.dropper=this.execute(d.CREATE_EQUIPMENT,"AcidBrownDropper"),this.hasCovered=!0,this.addChildAt(this.dropper,0),this.dropper.x=this.localBounds.width/2,this.dropper.y=-110,((this.dropper.privateParent=this).dropper.addedBottle=this).dropper.shouldAbsorb=!0,this.dropper.stageWithPrepareDrag={currentObj:this}}},{key:"concentrationChanged",value:function(e){(0,s.default)((0,c.default)(i.prototype),"concentrationChanged",this).call(this,e),this.dropper&&this.dropper.parent===this&&(this.dropper.shouldAbsorb=!0,this.dropper.absorbLiquid())}},{key:"getConfigureData",value:function(){return(0,s.default)((0,c.default)(i.prototype),"getConfigureData",this).call(this)}},{key:"updateLiquidLabel",value:function(){(0,s.default)((0,c.default)(i.prototype),"updateLiquidLabel",this).call(this)}},{key:"update",value:function(e){(0,s.default)((0,c.default)(i.prototype),"update",this).call(this,e)}}]),i}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(25)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(108),BaseLiquidMedicine=(i(254),i(84));e.exports=function(){(0,h.default)(n,BaseLiquidMedicine);var i=d(n);function n(e){var t;(0,o.default)(this,n),(t=i.call(this,e)).isLiquidMedicine=!0;e=(0,r.default)(t.medConfData.color);return e&&(t.defaultColor=e,t.defaultAlpha=.9),t.name="BaseLiquidWhiteDropMedicine",t.MAX_LABEL_WIDTH=80,t}return(0,s.default)(n,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(n.prototype),"creationComplete",this).call(this),this.dropper=this.execute(p.CREATE_EQUIPMENT,"AcidGlassDropper"),this.hasCovered=!0,this.addChildAt(this.dropper,0),this.dropper.x=this.localBounds.width/2,this.dropper.y=-110,((this.dropper.privateParent=this).dropper.addedBottle=this).dropper.shouldAbsorb=!0,this.dropper.stageWithPrepareDrag={currentObj:this},this.label.txt.style.fontSize="20px",this.label.txt.style.lineHeight=22,this.label.txt.anchor.set(.5,.5),this.label.txt.x=this.label.width/2,this.label.txt.y=this.label.height/2,this.updateDropperColor(),this.noConfig=!0,this.dropper.noConfig=!0}},{key:"updateLiquidLabel",value:function(){var e=this.label.txt;e.text=this.labelName+this.getUnderLabel(),e.scale.set(1,1),74<e.width&&(e.width=74),36<e.height&&(e.height=36)}},{key:"updateDropperColor",value:function(){this.dropper&&(this.dropper.defaultColor=this.defaultColor,this.dropper.defaultAlpha=this.defaultAlpha)}},{key:"update",value:function(e){(0,l.default)((0,u.default)(n.prototype),"update",this).call(this,e),this.updateDropperColor()}}]),n}()},function(e,t,BaseLiquidSmallWhiteMedicine){"use strict";var a=BaseLiquidSmallWhiteMedicine(4),i=BaseLiquidSmallWhiteMedicine(0),n=i(BaseLiquidSmallWhiteMedicine(1)),r=i(BaseLiquidSmallWhiteMedicine(2)),o=i(BaseLiquidSmallWhiteMedicine(7)),s=i(BaseLiquidSmallWhiteMedicine(5)),l=i(BaseLiquidSmallWhiteMedicine(6)),h=i(BaseLiquidSmallWhiteMedicine(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var BaseLiquidWhiteBottleMedicine=BaseLiquidSmallWhiteMedicine(197),BaseLiquidSmallWhiteMedicine=function(){(0,s.default)(BaseLiquidSmallWhiteMedicine,BaseLiquidWhiteBottleMedicine);var t=c(BaseLiquidSmallWhiteMedicine);function BaseLiquidSmallWhiteMedicine(e){return(0,n.default)(this,BaseLiquidSmallWhiteMedicine),(e=t.call(this,e)).name="BaseLiquidSmallWhiteMedicine",e.z_index=15.38,e.noChangeLabel=!0,e}return(0,r.default)(BaseLiquidSmallWhiteMedicine,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BaseLiquidSmallWhiteMedicine.prototype),"creationComplete",this).call(this)}},{key:"eqStopDrag",value:function(e){(0,o.default)((0,h.default)(BaseLiquidSmallWhiteMedicine.prototype),"eqStopDrag",this).call(this,e),this.allowPourLiquid()&&("C2H5OH%95&H2O%5"!==this.medConfData.chemical||(e=this.findBlastAlcoholBurner())&&this.pourAnimate(e))}},{key:"pourAnimate",value:function(e){var t=this;NBDrag.removeDrag(this),NBDrag.removeDrag(e),e.interactiveChildren=!1;var i=this.getEqLayer().toLocal(e.toGlobal({x:167,y:136})),n=new TimelineMax({onComplete:function(){NBDrag.addDrag(t),NBDrag.addDrag(e),e.interactiveChildren=!0}});n.to(this,.5,{x:i.x,y:i.y}),n.to(this,1,{rotation:.67*-Math.PI}),n.to(this,.5,{rotation:0})}},{key:"findBlastAlcoholBurner",value:function(){for(var e,t=this.getSortDisHitObjects(),i=0;i<t.length;i++)if("BlastAlcoholBurner"===t[i].objB.name){e=t[i].objB;break}return e}},{key:"allowPourLiquid",value:function(){return this.head.parent!==this}},{key:"canSetConcentration",value:function(){return!1}}]),BaseLiquidSmallWhiteMedicine}();e.exports=BaseLiquidSmallWhiteMedicine},function(e,t,BaseSolidMedicine){"use strict";var a=BaseSolidMedicine(4),i=BaseSolidMedicine(0),r=i(BaseSolidMedicine(25)),n=i(BaseSolidMedicine(9)),o=i(BaseSolidMedicine(1)),s=i(BaseSolidMedicine(2)),l=i(BaseSolidMedicine(7)),h=i(BaseSolidMedicine(5)),c=i(BaseSolidMedicine(6)),u=i(BaseSolidMedicine(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=BaseSolidMedicine(11),f=BaseSolidMedicine(45),I=BaseSolidMedicine(109),i=BaseSolidMedicine(29),g=i.getLan,m=i.getLanType,y=BaseSolidMedicine(110).alkBottleEngLishName,v=["粗苯甲酸","碎瓷片","木炭粉","活性炭","海带灰","沸石","粗盐","沙子","泥土","明矾","样品一","样品二"],BaseSolidMedicine=function(){(0,h.default)(BaseSolidMedicine,I);var t=d(BaseSolidMedicine);function BaseSolidMedicine(e){return(0,o.default)(this,BaseSolidMedicine),(e=t.call(this,e)).name="BaseSolidMedicine",e.noConfig=!0,e.preventCalEffect=!0,e.z_index=15.4,e}return(0,s.default)(BaseSolidMedicine,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(BaseSolidMedicine.prototype),"creationComplete",this).call(this),this.isSolidMedBottle=!0,this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0});var n,a="";1<this.medConfData.chemicalArr.length?(n=this.medConfData.chemicalArr,3<this.medConfData.chemicalArr.length?a=this.medConfData.chemicalArr[0]+"...":this.medConfData.chemicalArr.forEach(function(e,t){var i=e.indexOf("%");-1===i?(a+=e,t<n.length-1&&(a+=p.MIX_SYMBOL)):a+=e.substr(0,i)})):a=this.medConfData.chemical,y.includes(this.medConfData.chemicalArr[0])&&(this.head.currentFrame=1,this.headBg&&(this.headBg.currentFrame=1),this.head.saveIndex=10,this.head.parent.addChildAt(this.head,this.head.saveIndex)),v.includes(this.medConfData.name_cn)?(this.label.txt.text=g(this.medConfData.name_cn),this.label.txt.style.wordWrap=!1,this.label.txt.y+=16):"zh"!==m()?(this.label.txt.text=f.convertToChemicalName(a),this.label.txt.style.wordWrap=!1,this.label.txt.y+=16):this.label.txt.text=this.medConfData.name_cn+"\n"+f.convertToChemicalName(a),this.CNName=this.medConfData.name_cn,this.label.getChildAt(0).alpha=.8;var t=this.label.txt.width=125<this.label.txt.width?125:this.label.txt.width;this.label.txt.x=(125-t)/2;var i=(0,r.default)(this.medConfData.color),t=new PIXI.Graphics;t.beginFill(i),this.medicineMc.addChildAt(t,0),t.drawRect(-65,-106,130,110),this.medicineMc.mask=this.medicineMask.getChildAt(0),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.on(NBEvent.del.ADDED,function(){e.head.parent!==e&&(e.headParent.addChildWithSamePos(e.head),delete e.headParent)})}},{key:"update",value:function(){}},{key:"canSpoonTake",value:function(){return this.isOpen}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(BaseSolidMedicine.prototype),"setJSON",this).call(this,e),e.specialLabel&&(this.specialLabel=e.specialLabel,this.label.txt.style.wordWrap=!1,this.label.txt.y=17.5,this.label.txt.text=e.specialLabel,e=this.label.txt.width=125<this.label.txt.width/this.label.txt.scale.x?125:this.label.txt.width/this.label.txt.scale.x,this.label.txt.x=(125-e)/2)}},{key:"toJSON",value:function(){var e="id_"+this.medConfData.id;return(0,n.default)((0,l.default)((0,u.default)(BaseSolidMedicine.prototype),"toJSON",this).call(this),{name:e,specialLabel:this.specialLabel})}}]),BaseSolidMedicine}();e.exports=BaseSolidMedicine},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(9)),u=n(i(124)),r=n(i(1)),s=n(i(2)),d=n(i(7)),l=n(i(5)),h=n(i(6)),p=n(i(3));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var I=i(109),g=i(74),m=i(11),y=i(45),v=i(108),C=i(27),M=i(31),b=i(32),x=i(16),O=i(962),A=i(21),T=i(79),S=i(29).getLanType,w=["CO2,CO,H2,H2O","CO2,CO,H2","CO2,CO,H2O","CO2,H2,H2O","CO,H2,H2O","CO2,CO","CO2,H2","CO2,H2O","CO,H2","CO,H2O","H2,H2O"],i=function(){(0,l.default)(c,I);var t=f(c);function c(e){return(0,r.default)(this,c),(e=t.call(this,e)).name="BaseGasMedicineInGasBag",M.register(b.MATTESWITCH),e.isBaseGasMedicineInGasBag=!0,e.allowRubberCatheter=!0,e.addedRubber=null,e.totalGasMol=2,e.z_index=15.36,e.noConfig=!0,e.hideLabel=!0,e.rubberPos={x:540,y:96,rotation:0},e.gasType=0,e}return(0,s.default)(c,[{key:"creationComplete",value:function(){var i=this;(0,d.default)((0,p.default)(c.prototype),"creationComplete",this).call(this),"混合气体"===this.medConfData.name_cn&&this.gasTypeChanged(0),this.moveSwitchButton=new O(this,{x:352,y:-42},!0),this.moveSwitchButton.setEnabled(!0),this._releaseGas=0,this.insteadRelease=0;var t=this.execute(v.CREATE_EQUIPMENT,"RubberCatheter");t.on("creationComplete",function(){var e,RotateGlassCatheter;i.gotRubber?t.parent&&(t.emit(NBEvent.del.PREPARE_DELETE),t.parent.removeChild(t)):(i.addedRubber=t.leftHead,t.leftHead.equipment=i,t.leftHead.x=i.rubberPos.x,t.leftHead.y=i.rubberPos.y,e=i.getViewStack().toLocal(i.rubberPos,i),t.rightHead.x=e.x+200,t.rightHead.y=e.y,i.addChild(t.leftHead),i.getViewStack().addChild(t),(RotateGlassCatheter=i.root.manager.execute(v.ADD_EQUIPMENT,{name:"RotateGlassCatheter"})).on("creationComplete",function(){RotateGlassCatheter.updateCurveGlass(0),RotateGlassCatheter.addedRubber=t.rightHead,t.rightHead.equipment=RotateGlassCatheter,t.rightHead.x=RotateGlassCatheter.x-140,t.rightHead.y=RotateGlassCatheter.y,RotateGlassCatheter.addChild(t.rightHead),i.getViewStack().addChild(RotateGlassCatheter),RotateGlassCatheter.x=i.x+800,RotateGlassCatheter.y=i.y+100}))}),this.CNName=this.medConfData.name_cn+"气囊";var e=S();"zh"!==e||"混合气体气囊"===this.CNName?(n=y.convertToChemicalName(this.medConfData.chemical),"混合气体气囊"===this.CNName&&(n="zh"===e?"混合气体":"mixed gas"),this.label.txt.text=n,this.label.txt.y+=16):this.label.txt.text=this.medConfData.name_cn+"\n"+y.convertToChemicalName(this.medConfData.chemical),this.label.getChildAt(0).alpha=.8;var n=this.label.txt.width=125<this.label.txt.width?125:this.label.txt.width;this.label.txt.x=(125-n)/2,this.addListeners();n=this.root.mouseManager;x.addMouseEvent(n,this.switchAni,x.status.SHAKE);var a=null;this.switchAni.on(TouchEvent.TOUCH_BEGIN,function(e){a=e.data.global.x,g.removeDrag(i),i.interactive=!1,0<i.releaseGas?i.insteadRelease=i.releaseGas-m.MIN_RELEASE_GAS:i.insteadRelease=0,i.addedRubber&&(i.addedRubber.interactive=!1)}),this.switchAni.on(TouchEvent.TOUCH_MOVE,function(e){var t;!a&&0!==a||(e=(t=e.data.global).x-a,a=t.x,i.insteadRelease+=2e-7*e,i.releaseGas=i.insteadRelease,i.handleReleaseGasChange())}),this.switchAni.on(TouchEvent.TOUCH_END,function(){null!==a&&(a=null,g.addDrag(i),i.interactive=!0,i.addedRubber&&(i.addedRubber.interactive=!0))}),this.switchAni.on(TouchEvent.TOUCH_END_OUTSIDE,function(){null!==a&&(a=null,g.addDrag(i),i.interactive=!0,i.addedRubber&&(i.addedRubber.interactive=!0))})}},{key:"handleReleaseGasChange",value:function(){0<this.releaseGas?this.insteadRelease=this.releaseGas-m.MIN_RELEASE_GAS:this.insteadRelease=0;var e=(0<this.releaseGas?this.releaseGas-m.MIN_RELEASE_GAS:0)/m.MAX_RELEASE_GAS;this.moveSwitchButton.setPosByPercent(e=.99<e?1:e)}},{key:"releaseGas",get:function(){return 0<this._releaseGas?this._releaseGas+m.MIN_RELEASE_GAS:0},set:function(e){var t=3<(t=(e=(e=e>m.MAX_RELEASE_GAS?m.MAX_RELEASE_GAS:e)<0?0:e)/m.MAX_RELEASE_GAS*4)?3:t;this.switchAni.currentFrame=Math.round(t),this._releaseGas=e}},{key:"_switchIsOpen_",get:function(){return 0<this.releaseGas},set:function(e){}},{key:"labelHide",get:function(){return!this.label.visible},set:function(e){this.label.visible=!e}},{key:"reversalX",get:function(){return 1==this.scale.x?1:0},set:function(r){var o=this;this.root.execute(v.communicate.angular.CHANGE_PANEL_STATUS,{children:[]});var e=0==r?-1:1;this.scale.x=e,this.label.scale.x=Math.abs(this.label.scale.x)*e,this.label.x=0==r?190:89.15;e=this.moveSwitchButton.getPercent();this.moveSwitchButton.setPosByPercent(e=0==r?1-e:e),0==r?this.moveSwitchButton.setPercent(1-e):this.moveSwitchButton.setPercent(e),this.addedRubber&&function(){for(var e=o.addedNode[0],t=e.addedNode.indexOf(o),i=0,i=0;i<e.addedNode.length;i++)if(t!==i&&e.addedNode[i]){setTimeout(function(){--e.lastLeftPos.x},10);break}var n,a="leftHead"===o.addedRubber.name?e.rightHead:e.leftHead;i===e.addedNode.length&&(n=o.getViewStack().toLocal(o.rubberPos,o),0==r?(a.x=n.x-300,a.rotation=-Math.PI):(a.x=n.x+200,a.rotation=0),a.y=n.y,setTimeout(function(){--e.lastLeftPos.x},10)),e.rightHead.equipment&&"RotateGlassCatheter"===e.rightHead.equipment.name&&(a=e.rightHead.equipment,n=Math.PI-a.rotateAngle,a.updateCurveGlass(n),n=o.getViewStack().toLocal(o.rubberPos,o),a.x=0==r?n.x-300:n.x+200)}()}},{key:"allowPourLiquid",value:function(){return this.head.parent!==this}},{key:"addListeners",value:function(){var a=this;this.addEventListener(NBEvent.del.PREPARE_DELETE,function(){a.addedRubber&&(a.getEqLayer().addChildWithSamePos(a.addedRubber),a.addedRubber.equipment=null,a.addedRubber=null)});var r={};this.on(g.event.PREPARE_DRAG,function(e){(0,o.default)(r,e.data.global)}),this.on(g.event.DRAG_MOVE,function(e){var t,i,n=e.data.global;a.addedRubber&&((t=a.addedRubber.brother).equipment?t.equipment.isGlassCatheter&&1===t.equipment.addedNode.length&&(t.equipment.x+=n.x-r.x,t.equipment.y+=n.y-r.y):(i=a.getViewStack().scale.x,t.x+=(n.x-r.x)/i,t.y+=(n.y-r.y)/i)),(0,o.default)(r,e.data.global)})}},{key:"update",value:function(e){if((0,d.default)((0,p.default)(c.prototype),"update",this).call(this,e),this.medicineData&&0!==this.medicineData.gasAry.length&&this.liquidVertexUp){var t=this.medicineData.gasAry[0];if(/.*，.*/.test(t.name))this.medicineData.gasAry.clear(),t=t.name.split("，"),this.medicineData.push(new C(this.root.medicineManager.medData[t[0]],.012)),this.medicineData.push(new C(this.root.medicineManager.medData[t[1]],.003)),this.addedGas=((0,u.default)(e={},t[0],!0),(0,u.default)(e,t[1],!0),e);else{var i=0,n=[],a=!1;this.addedGas||(a=!0,this.addedGas={});for(var r,o=0;o<this.medicineData.gasAry.length;o++){var s=this.medicineData.gasAry[o];a&&(this.addedGas[s.name]=!0),this.addedGas[s.name]?(i+=s=s.getMol(),n.push(s)):(this.medicineData.gasAry.splice(o,1),o--)}1===this.totalGasMol?r=this.totalGasMol:(r=this.totalGasMol-1+.01375,this.hasReact=2);for(var l=0;l<this.medicineData.gasAry.length;l++){var h=this.medicineData.gasAry[l];h.setMol(r*n[l]/i),h.setTemp(m.DEFAULT_TEMP)}}this.medicineData.liquidAry.clear()}}},{key:"setPercent",value:function(e){this.releaseGas=m.MAX_RELEASE_GAS*e}},{key:"gasTypeChanged",value:function(e){this.gasType=e||0;var t=w[this.gasType].split(",");this.medicineData.gasAry.clear();var e=this.getTotalCapacity(),i=m.PASCAL*e/1e6/m.R/T.convertCToK(m.DEFAULT_TEMP);this.addedGas={};for(var n=0;n<t.length;n++){var a=i/t.length,a=new C(this.medicineManager.getMedicineData(t[n]),a);this.medicineData.push(a),this.addedGas[t[n]]=!0}}},{key:"getConfigureData",value:function(){var e=(0,d.default)((0,p.default)(c.prototype),"getConfigureData",this).call(this);return(e=!e||!e.confArr?{confArr:[]}:e).confArr.push(A.getRadio("方向",this.reversalX,["左","右"],function(e){this.reversalX=e}.bind(this),this)),"混合气体气囊"===this.CNName&&e.confArr.push(A.getDropMenu("气体组合",!1,"",w[this.gasType]||"CO2,CO,H2,H2O",w,this,this.gasTypeChanged.bind(this))),e}},{key:"toJSON",value:function(){return(0,o.default)((0,d.default)((0,p.default)(c.prototype),"toJSON",this).call(this),{name:this.medConfData.chemical+"_bag",reversalX:this.reversalX,labelHide:this.labelHide,slowRatio:this.slowRatio,gasType:this.gasType,releaseGas:this.insteadRelease})}},{key:"setJSON",value:function(e){return 0<e.addedNode.length&&(this.gotRubber=!0),"混合气体"===this.medConfData.name_cn&&e.gasType&&this.gasTypeChanged(e.gasType),this.slowRatio=e.slowRatio,this.reversalX=e.reversalX,this.labelHide=e.labelHide,e.releaseGas&&(this.releaseGas=e.releaseGas,this.handleReleaseGasChange()),(0,d.default)((0,p.default)(c.prototype),"setJSON",this).call(this,e)}}]),c}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),l=n(i(5)),s=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var u=i(15);e.exports=function(){(0,l.default)(s,u);var e=c(s);function s(){return(0,r.default)(this,s),e.apply(this,arguments)}return(0,o.default)(s,[{key:"execute",value:function(e){var t=this.root.undoManager,i=e.dis,n=i._lastTouchPoint_.x,a=i._lastTouchPoint_.y,r=i.x,o=i.y;t.add({classType:s,undo:function(){i.x=n,i.y=a},redo:function(){i.x=r,i.y=o}})}}]),s}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(l,u);var e=c(l);function l(){return(0,r.default)(this,l),e.apply(this,arguments)}return(0,o.default)(l,[{key:"execute",value:function(e){var t=this.root.undoManager,i=e.obj,n=e.hitObj,a=e.pos,r=e.leftOrRight,o=e.parent,s=e.rotate;t.add({classType:l,undo:function(){o.addChild(i),"left"==r?(n.leftIsFull=!n.leftIsFull,i.crrHitArea=null,n.lTop.rotation=0,n.lBot.rotation=0):"right"==r&&(n.rightIsFull=!n.rightIsFull,i.crrHitArea=null,n.rTop.rotation=0,n.rBot.rotation=0)},redo:function(){n.addChild(i),i.x=a.x,i.y=a.y,"left"==r?(n.lTop.rotation=-s,n.lBot.rotation=s,n.leftIsFull=!0,i.crrHitArea="left"):"right"==r&&(n.rTop.rotation=s,n.rBot.rotation=-s,n.rightIsFull=!0,i.crrHitArea="right")}})}}]),l}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),s=n(i(2)),l=n(i(5)),o=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}var u=i(15);e.exports=function(){(0,l.default)(o,u);var e=c(o);function o(){return(0,r.default)(this,o),e.apply(this,arguments)}return(0,s.default)(o,[{key:"execute",value:function(e){var t=e.lastParent,i=e.lastIndex,n=e.currentParent,a=e.currentIndex,r=e.head;this.root.undoManager.add({classType:o,undo:function(){r.rotation=t.medicineData?0:Math.PI,t.addChildAt(r,t.children.length-1>=i?i:t.children.length-1)},redo:function(){r.rotation=n.medicineData?0:Math.PI,n.addChildAt(r,a)}})}}]),o}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(y,u);var e=c(y);function y(){return(0,r.default)(this,y),e.apply(this,arguments)}return(0,o.default)(y,[{key:"execute",value:function(e){var t,i,n=e.currentObj,a=this.root.undoManager,r=n.undoCommadStyle,o=n.toGlobal({x:0,y:0}),o=n.getViewStack().toLocal(o),s=o.x,l=o.y,h=e.currentContainer,c=e.needRemoveEvents,u=e.lastStage,d=u.currentContainer,e=u.currentPlug,p=u.needRemoveEvents,f=u.dragRect,I=u.currentPosition;function g(){(u.currentHitObj||n.getViewStack()).addChild(n),n.dragRect=f,NBDrag.addDrag(n,f),n.canDragInLimitArea.enabled=!1,n.on(NBDrag.event.PREPARE_DRAG,n.eqAddToViewStack),c(),n.dontEmitUndoCommand=!1,n.tweenTime=.5,m(),h.currentPlug&&(1==h.currentPlug.curValue?(h.currentPlug.destroy(),h.removeCoverBody(),h.currentPlug=void 0):h.currentPlug.curValue--)}function m(){n.currentContainer=void 0,n.currentPlug=void 0,n.addedBottle=!1}I&&(e=(e||d).toGlobal(I),e=n.getViewStack().toLocal(e),t=e.x,i=e.y),a.add({classType:y,undo:function(){switch(r){case 1:g();break;case 2:break;case 3:I&&(n.getViewStack().addChildWithSamePos(n),n.x=t,n.y=i),m(),h.currentPlug&&(1==h.currentPlug.curValue?(h.currentPlug.destroy(),h.removeCoverBody(),h.currentPlug=void 0):h.currentPlug.curValue--),c(),n.dontEmitUndoCommand=!0,n.tweenTime=.01,n.emit("hitted",{hitObj:d,dragObj:n})}},redo:function(){switch(r){case 1:n.x=s,n.y=l,n.dontEmitUndoCommand=!0,n.tweenTime=.01,n.emit("hitted",{hitObj:h,dragObj:n});break;case 2:break;case 3:m(),p(),d.currentPlug&&(1==d.currentPlug.curValue?(d.currentPlug.destroy(),d.removeCoverBody(),d.currentPlug=void 0):d.currentPlug.curValue--),n.dontEmitUndoCommand=!0,n.tweenTime=.01,n.emit("hitted",{hitObj:h,dragObj:n})}}})}}]),y}()},function(e,t,i){"use strict";var a=i(4),n=i(0),T=n(i(9)),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(A,u);var e=c(A);function A(){return(0,r.default)(this,A),e.apply(this,arguments)}return(0,o.default)(A,[{key:"execute",value:function(e){var t=this.root.undoManager,n=e.currentObj,a=n.undoCommadStyle,i=n.toGlobal({x:0,y:0}),i=n.getViewStack().toLocal(i),r=i.x,o=i.y,s=n.parent,l=e.currentContainer||n.getViewStack(),h=e.needRemoveEvents,c=(0,T.default)({},n.dragRect),u=e.dragRectEnable;if(null==e.lastStage)throw"没有存储上一个状态";var d,p,f=e.lastStage,I=f.currentHitObj,g=f.currentHotsport,m=f.currentContainer,y=f.currentPlug,v=f.newAddEvents,C=f.needRemoveEvents,M=f.dragRect,b=f.currentPosition;function x(){n.currentContainer=void 0,n.currentPlug=void 0,n.addedBottle=!1,n.dragRect&&(u=null!=u&&u,n.dragRect.enabled=u),h instanceof Function&&h(),l!=n.getViewStack()?(n.dontEmitUndoCommand=!0,n.tweenTime=.01,n.emit("hitted",{hitObj:l,dragObj:n})):(n.dontEmitUndoCommand=!1,n.tweenTime=.5,l.addChild(n)),m.currentPlug&&(1==m.currentPlug.curValue?(m.currentPlug.destroy(),m.removeCoverBody(),m.currentPlug=void 0):m.currentPlug.curValue--)}function O(){(I?g||I:m?y||m:n.getViewStack()).addChild(n),v(),n.removeEventListener(NBDrag.event.PREPARE_DRAG,n.eqAddToViewStack),M.enabled=!0,n.dragRect=M,NBDrag.addDrag(n,M)}b&&(e=(y||m).toGlobal(b),e=n.getViewStack().toLocal(e),d=e.x,p=e.y),t.add({classType:A,undo:function(){switch(a){case 1:(i=f.currentHitObj||n.getViewStack()).addChild(n),n.currentArea&&(n.currentArea.thisAreaWasFull=!1,n.currentArea=null,n.dragRect=M,NBDrag.addDrag(n,n.dragRect),n.newEvent&&(n.newEvent.removeEvent(n),i.addEvent&&n.newEvent.addEvent(n))),n.isAddtoSupport&&(window.currentHitObj=n.currentHitObj,window.oldHitObj=i,(e=n.currentHitObj)&&e._equipment_&&e._equipment_ instanceof Array&&(n.currentHitObj._equipment_.forEach(function(e){n===e&&currentHitObj._equipment_.splice(currentHitObj._equipment_.indexOf(e),1)}),currentHitObj.updateEq(),n.hitSupport=!1,n.dragRect.enabled=!1,n.emit(NBDrag.event.STOP_DRAG)),i&&i._equipment_&&i._equipment_ instanceof Array&&(i._equipment_.forEach(function(e){n===e&&(t=e)}),t||i._equipment_.push(n),i.updateEq())),n.currentHitObj=i;break;case 2:O();break;case 3:b&&(n.getViewStack().addChildWithSamePos(n),n.x=d,n.y=p),n.dontEmitUndoCommand=!0,n.tweenTime=.01,n.emit("hitted",{hitObj:m,dragObj:n})}var e,t,i},redo:function(){switch(a){case 1:s.addChild(n),n.x=r,n.y=o;break;case 2:s.addChild(n),n.x=r,n.y=o,C(),n.dragRect=c,NBDrag.addDrag(n,n.dragRect);break;case 3:x()}}})}}]),A}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),l=n(i(5)),s=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var u=i(15),i=function(){(0,l.default)(s,u);var e=c(s);function s(){return(0,r.default)(this,s),e.apply(this,arguments)}return(0,o.default)(s,[{key:"execute",value:function(e){var t=e.currentObj,i=this.root.undoManager,n=t.currentHitObj,a=t.x,r=t.y,e=e.lastStage,o={};1===t.undoCommadStyle&&(o=e.currentHitObj||t.getViewStack()),i.add({classType:s,undo:function(){o.addChild(t)},redo:function(){n.addChildWithSamePos(t),t.x=a,t.y=r}})}}]),s}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),y=n(i(9)),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(m,u);var e=c(m);function m(){return(0,r.default)(this,m),e.apply(this,arguments)}return(0,o.default)(m,[{key:"execute",value:function(e){var t=e.currentObj,i=this.root.undoManager,n=t.undoCommadStyle,a=e.needRemoveEvents,r=e.newAddEvents,o=t.parent,s=(0,y.default)({},t.dragRect),l=t.x,h=t.y;if(null!=e.lastStage){var c,u=e.lastStage,d=u.currentHitObj,p=u.currentHotsport,f=u.newAddEvents,I=u.needRemoveEvents,g=u.dragRect;switch(n){case 1:c=u.currentHitObj||t.getViewStack();break;case 2:case 3:c=d||p}i.add({classType:m,undo:function(){switch(n){case 1:c=u.currentHitObj||t.getViewStack(),u.currentHitObj?(e=t.getCollisionRelation(t,c)).zIndex?("top"==e.zIndex&&(e.zIndex=c.children.length),c.addChildAtWithSamePos(t,Number(e.zIndex))):c.addChildWithSamePos(t):c.addChild(t),t.dragRect=g,NBDrag.addDrag(t,g),t.hasCallLimitDrag.enabled=!1,a(),t.currentHitObj=c;break;case 2:(c=p||d).addChild(t),g.enabled=!0,t.dragRect=g,NBDrag.addDrag(t,g),a(),f()}var e},redo:function(){switch(n){case 1:o.addChild(t),t.x=l,t.y=h,r(),t.dragRect=s,NBDrag.addDrag(t,s);break;case 2:o.addChild(t),t.x=l,t.y=h,t.dragRect=s,NBDrag.addDrag(t,s),I(),r()}}})}}}]),m}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(25)),r=n(i(24)),s=n(i(1)),l=n(i(2)),h=n(i(19)),c=n(i(7)),u=n(i(5)),d=n(i(6)),p=n(i(3)),n=n(i(124));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,t)}}var I=i(74),g=i(385),m=i(979),y=i(983),v=i(16),C=i(365),i=function(e){(0,u.default)(r,e);var a=f(r);function r(e,t,i){var n;(0,s.default)(this,r),(n=a.call(this)).isMicroAnimation=!0,n.name="MicroAnimation",n.CNName="微观分子动画",n.z_index=9999,n.instanceName="main.components.microAnimation",n.needUpdate=!0,n.root=n.main=e,n.init(),n.animationData={spMap:{},lightningAry:[],timeline:void 0},I.addDrag((0,h.default)(n)),NBGesture.tapGesture((0,h.default)(n),null,(0,h.default)(n)),n.on(NBGesture.gesture.TAP,n.emitTap.bind((0,h.default)(n))),n.created=!1;e="".concat(nb.config.URI_PREFIX,"assets/eleAniSkin.json");return PIXI.loader.resources[e]?n.setAnimationByEquation(t,i):PIXI.loader.add(e).load(function(){n.setAnimationByEquation(t,i)}),n.curAniPercent=0,n.addCursor((0,h.default)(n),v.status.DRAG),n.lastAniKey="",n.on(NBEvent.del.DELETE,n.destroy),n}return(0,l.default)(r,[{key:"setAnimationByEquation",value:function(e,t){t?t.x-=this.width/2:t=this.getCenterPoint(),this.x=t.x,this.y=t.y,this.lastAniKey!==e&&(this.created=!1,this.lastAniKey=e,this.clearAnimation(),this.created=!1,e=C.getAniData(e),this.initAnimation(e))}},{key:"getCenterPoint",value:function(){var e=(document.documentElement||document.body).clientHeight,t=(document.documentElement||document.body).clientWidth,i={};return this.main.renderer.plugins.interaction.mapPositionToPoint(i,t/2,e/2),(i=this.main.magnifierLayer.toLocal(i)).x-=this.width/2,i.y-=this.height/2,i}},{key:"clearAnimation",value:function(){this.animationData.timeline&&(this.animationData.timeline.kill(),this.animationData.timeline=null),this.clearSp(),this.clearLightning(),this.animationData.spMap={},this.animationData.lightningAry=[]}},{key:"clearSp",value:function(){for(var e=this.spContainer.children.length-1;0<=e;e--)this.spContainer.children[e].destroy()}},{key:"clearLightning",value:function(){for(var e=this.lightningCon.children.length-1;0<=e;e--)this.lightningCon.children[e].destroy()}},{key:"setPercent",value:function(e){this.curAniPercent=e,this.playBar.setPercent(e)}},{key:"addCursor",value:function(e,t){v.addMouseEvent(this.main.mouseManager,e,t)}},{key:"setAniPercent",value:function(e){this.curAniPercent=e,this.created&&this.animationData.timeline.seek(20*e)}},{key:"init",value:function(){this.bg=new PIXI.Graphics,this.bg.beginFill(0,.2),this.bg.drawRoundedRect(0,0,600,400,10),this.addChild(this.bg),this.lightningCon=new PIXI.Container,this.addChild(this.lightningCon),this.spContainer=new PIXI.Container,this.addChild(this.spContainer),this.playBar=new y(this),this.addChild(this.playBar),this.playBar.x=300,this.playBar.y=410}},{key:"initAnimation",value:function(e){var a=this,t=new TimelineMax({repeat:-1,onComplete:function(){},onUpdate:function(){var e=t.progress();a.setPercent(e)}});this.animationData.timeline=t,e.chemDisAry.forEach(function(e){var t=new g(e.formula,0,a);a.animationData.spMap[e.id]=t,a.spContainer.addChild(t);var i=e.aniData[0],n=i.x,i=i.y;t.x=n,t.y=i,a.createSpTween(t,e.aniData)}),e.lightning.forEach(function(e){var t=new m(void 0,void 0,4);t.alpha=0,a.lightningCon.addChild(t),t.setLightningProps({lineWidth:2,color:10997498,speed:.015});var i=e.alpha,n=e.startP,e=e.endP;a.animationData.lightningAry.push({lightning:t,startP:n,endP:e}),a.createLightningTween(t,i)}),this.created=!0}},{key:"createSpTween",value:function(a,e){var r=new TimelineMax,o=0;e.forEach(function(e){var t=e.x,i=e.y,n=e.p,e=20*(n-o);r.to(a,e,{x:t,y:i}),o=n}),1!==o&&(e=20*(1-o),r.to(a,e,{alpha:1})),this.animationData.timeline.add(r,0)}},{key:"createLightningTween",value:function(n,e){var a=new TimelineMax,r=0,o=0;e.forEach(function(e){var t=e.p,i=e.v,e=20*(t-r);a.to(n,e,{alpha:i}),r=t,o=i}),1!==r&&(e=20*(1-r),a.to(n,e,{alpha:o})),this.animationData.timeline.add(a,0)}},{key:"update",value:function(){var n=this;this.created&&this.animationData.lightningAry.forEach(function(e){var t=e.startP,i=e.endP,e=e.lightning,t=n.getBindSpByPercent(t),i=n.getBindSpByPercent(i);e.updatePoints(t,i),e.setEnable(0<e.alpha),e.update()})}},{key:"getBindSpByPercent",value:function(e){if(1===e.length)return this.animationData.spMap[e[0].id];for(var t,i=0;i<e.length;i++){var n=e[i],a=n.p,n=n.id;if(!(this.curAniPercent>=a))break;t=n}return this.animationData.spMap[t]}},{key:"getText",value:function(e,t){t=this.main.cachePool.popText(e,t);return t.allowGetBounds=!0,t}},{key:"removeText",value:function(e){this.main.cachePool.pushText(e)}},{key:"getPauseStatus",value:function(){return!!this.created&&this.animationData.timeline.paused()}},{key:"setPauseStatus",value:function(e){this.created&&(e?this.animationData.timeline.pause():this.animationData.timeline.play())}},{key:"destroy",value:function(){this.created=!1,this.clearAnimation(),(this.animationData=null,c.default)((0,p.default)(r.prototype),"destroy",this).call(this),this.main.removeMicroAnimation()}},{key:"getConfigureData",value:function(){return{confArr:[]}}},{key:"getStageToDomPos",value:function(e){var t=(0,o.default)(this.main.canvas.style.width)/this.main.W,i=(0,o.default)(this.main.canvas.style.height)/this.main.H;return{x:e.x*t,y:e.y*i}}},{key:"emitTap",value:function(){this.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[this]}),this.execute(NBCommand.communicate.angular.SHOW_EQ_ATTRIBUTE,{children:[this]}),this.addedToSelectionLayer()}},{key:"addedToSelectionLayer",value:function(){this.getViewStack().selectionLayer.addItem(this)}},{key:"getViewStack",value:function(){return this.main.viewStack}},{key:"getViewStackScale",value:function(){return this.getViewStack().scale.x}},{key:"getEqLayer",value:function(){return this.getViewStack().eqLayer}},{key:"execute",value:function(e,t){return this.main.execute(e,t)}}]),r}(PIXI.Container);(0,n.default)(i,"aniMemoryMap",new r.default),e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),r=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var d=i(978),p=PIXI.Container,f=PIXI.Sprite,I=PIXI.Graphics,g=PIXI.Text,i=function(){(0,h.default)(r,p);var a=u(r);function r(e,t,i){var n;return(0,o.default)(this,r),(n=a.call(this)).allowGetBounds=!1,n.interactive=!1,n.interactiveChildren=!1,n.formula=e,n.valence=t,n.main=i,n.initChemMaterial(),n}return(0,s.default)(r,[{key:"initChemMaterial",value:function(){var e,t,i=this,n=this.formula+"_"+Math.abs(this.valence);-1!==d.SPECIAL_ARY.indexOf(n)?(this.specialName=n,this.initGraphicsByName("Al_3",2.25),this.spWidth=2.25*d.DIA_DEFAULT,this.spHeight=2.25*d.DIA_DEFAULT):d.NORMAL_MATER_MAP[n]?((e=d.NORMAL_MATER_MAP[n]).children.forEach(function(e){i.initGraphicsByName(e.name,0,e.distance,e.angle)}),this.spWidth=d.DIA_DEFAULT*e.width,this.spHeight=d.DIA_DEFAULT*e.height):(t=this.initGraphicsByName(n),this.spWidth=d.DIA_DEFAULT*t,this.spHeight=d.DIA_DEFAULT*t),0!==this.valence&&(t=((t=Math.abs(this.valence))<=1?"":""+t)+(0<this.valence?"+":this.valence<0?"-":""),(t=this.main.getText(t,{fill:16777215,stroke:0,fontSize:24})).anchor.set(0,.5),this.addChild(t),t.x=this.spWidth/2,t.y=-this.spHeight/2,t.scale.x=t.scale.y=Math.min(Math.max(this.spHeight/d.SKIN_DIA_DEF,.4),1))}},{key:"initGraphicsByName",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(t=t||d["RATIO_"+e]))return 0;e=this.createGraphicsByName(e,this.specialName);return this.addChild(e),i&&(e.x=d.DIA_DEFAULT/2*i*Math.cos(n/180*Math.PI),e.y=d.DIA_DEFAULT/2*i*Math.sin(n/180*Math.PI)),e.scale.x=e.scale.y=t*d.DIA_DEFAULT/d.SKIN_DIA_DEF,t}},{key:"createGraphicsByName",value:function(e,t){var i=new I,n=f.fromImage("eleAniSkin/ele_ani_"+e);n.anchor.set(.5,.5),i.addChild(n);e=this.main.getText((t||e).split("_")[0],{fill:-1<d.WHITE_STYLE_ARY.indexOf(e)?16777215:0,stroke:0,fontSize:58});return e.anchor.set(.5,.5),e.width>i.width&&e.scale.set(i.width/(e.width+4)),i.addChild(e),i}},{key:"destroy",value:function(){var t=this;this.children.forEach(function(e){e instanceof g&&t.main.removeText(e)}),(0,l.default)((0,c.default)(r.prototype),"destroy",this).call(this)}}]),r}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),V=i(11),i=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,null,[{key:"getStratifyGas",value:function(e,t,i,n){if(e.isBaseGasMedicineInGasBag||!t&&!i||e.noStratifyGas||e.coveredByBigBeaker||e.isCoverTwoSmallBeaker){for(var a=e.medicineData.gasAry,r=[],o=0,s=0;s<a.length;s++){var l=a[s];l.getMol()<=0||(o+=l.getMol(),r.push({mol:l.getMol(),percent:0,vo:l}))}return r.forEach(function(e){e.percent=e.mol/o}),r}for(var h=[].concat(e.medicineData.gasAry),c=e.medicineData.getGasMol(),u=0,d=e.localBounds.clone(),p=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],f=1/0,I=-1/0,g=1/0,m=-1/0,y=0;y<p.length;y++){var v=p[y]=e.toGlobal(p[y]);v.x<f&&(f=v.x),v.x>I&&(I=v.x),v.y<g&&(g=v.y),v.y>m&&(m=v.y)}var C=m-g;h.sort(function(e,t){return t.mm-e.mm});var M,b=m,x=[];t||(M=e.toGlobal(d),J=e.toGlobal({x:d.x+d.width,y:d.y}),t=M.y>J.y?M:J);for(var O,A=0;A<h.length;A++){var T=h[A],S=T.mol/c*C,w=b-S;u+=(T.temp||T.getTemp())*T.mol,x.push({name:T.name,startLength:b,endLength:w,distance:Math.min(Math.abs(t.y-b),Math.abs(t.y-w))}),b-=S}for(var B=0;B<x.length;B++){var D=x[B];if(D.startLength>=t.y&&D.endLength<=t.y){O=B;break}}if(void 0!==O||!1!==i){x[O]&&x[O].name!==h[O].name&&h.sort(function(e,t){return t.mm-e.mm});var P=[],L=0,N=e.getPourInObj(),J=u/c,_=10-((J=J<25?25:125<J?125:J)-25)/100*9;if(i&&N)for(var N=N&&N.medicineData?N.medicineData.getGasMol():0,E=0;E<h.length;E++){var k,q=h[E];"O2"!==q.name&&"N2"!==q.name&&(q.mm<V.AIR_MM&&x[E].startLength>t.y||q.mm>V.AIR_MM&&x[E].endLength<t.y)&&(k=.001*q.mol,L+=k=N&&N/100<k?N/100:k,P.push({vo:q,mol:k}))}else for(var R=0;R<h.length;R++){var F=void 0;L+=F=n&&"O2"===h[R].name||"N2"===h[R].name||R===O?h[R].mol:h[R].mol*(1-x[R].distance/C)/_,P.push({vo:h[R],mol:F})}for(var j=0;j<P.length;j++)P[j].percent=P[j].mol/L;return P}}}]),e}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(26),s=i(52),l=i(97),h=i(11),i=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,null,[{key:"getHeatValueFromPoint",value:function(e,t,i){if(i instanceof Array){if(o.containsPoint(vertexes,e))return t;var n=o.getMinPerpendicularDistance(eq.liquidVertex,new l(e));return t/Math.pow(1+n,2)}if(i instanceof PIXI.Rectangle){if(i.contains(e.x,e.y))return t;var a=i,n=[];n.push(new l(a.x,a.y)),n.push(new l(a.x+a.width,a.y)),n.push(new l(a.x+a.width,a.y+a.height)),n.push(new l(a.x,a.y+a.height));n=o.getMinPerpendicularDistance(n,new l(e));return t/Math.pow(1+n,2)}i=s.distance(e,i);return t/Math.pow(1+i,2)}},{key:"getLossHeatPerFrame",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,a=h.DEFAULT_TEMP,n=20*Math.sqrt(e/(t*i)-a)*n;return n=isNaN(n)?0:n}}]),e}();e.exports=i},function(e,t,i){"use strict";var a=i(4),DoubleBuretClamp=i(0),n=DoubleBuretClamp(i(1)),r=DoubleBuretClamp(i(2)),o=DoubleBuretClamp(i(7)),s=DoubleBuretClamp(i(5)),l=DoubleBuretClamp(i(6)),h=DoubleBuretClamp(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(8),DoubleBuretClamp=function(){(0,s.default)(DoubleBuretClamp,u);var t=c(DoubleBuretClamp);function DoubleBuretClamp(){var e;return(0,n.default)(this,DoubleBuretClamp),(e=t.call(this)).needLimitObjAry=["IronSupport"],e.name="DoubleBuretClamp",e.CNName="滴定管夹",e.z_index=9,e}return(0,r.default)(DoubleBuretClamp,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(DoubleBuretClamp.prototype),"creationComplete",this).call(this),this.reverRatate();var s=this;this.on(NBDrag.event.STOP_DRAG,function(){var e=function(e){for(var t=[],i=0;i<e.length;i++)s.hitRef.hitTest(e[i].bar)&&t.push(e[i]);if(0<t.length){var n=[],a=NBPoint.distance(s,t[0]);n.push(t[0]);for(var r=1;r<t.length;r++){var o=t[r];NBPoint.distance(s,o)<a&&(n.shift(),n.push(o),a=NBPoint.distance(s,o))}return n[0]}}(s.getHitObjectsByType(i(111)));void 0===s.currentHitObj&&(s.currentHitObj=e);e&&!s.hitSupport&&e.currentEqNum<e.maxEqNum&&(e.currentEqNum+=1,s.hitSupport=!0,e.addDoubleBuretClamp(s,0),TweenMax.to(s,.5,{x:s.dragRect.x}),s.addEventListener(TouchEvent.TOUCH_END,s._mouseUp_),s.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,s._mouseUp_));e&&e.updateEq(s)}),this.on(NBDrag.event.START_DRAG,function(e){e=e.data.originalEvent;this.startDownPoint={},this.startDownPoint.y=e.y}),this.on(NBDrag.event.DRAG_MOVE,function(){s.hitSupport&&!s.hitRef.hitTest(s.currentHitObj.bar)&&(s.dragRect.enabled=!1)})}},{key:"_mouseUp_",value:function(){var e=this;e.hitSupport&&e.dragRect&&0==e.dragRect.enabled&&(--e.currentHitObj.currentEqNum,e.currentHitObj.hasClamp=!1,e.hitSupport=!1,this.viewStack==this.root.viewStack||TweenMax.isTweening(e)||this.root.viewStack.addChildWithSamePos(this),e.currentHitObj.removeEq(e),e.currentHitObj=void 0,e.removeEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_))}},{key:"reverRatate",value:function(){var t=[this.lTop,this.lBot,this.rTop,this.rBot];this.on("_childPrepareDrag_",function(e){e=e.child;"left"==e.crrHitArea?(this.leftIsFull=!this.leftIsFull,e.crrHitArea=null,TweenMax.killTweensOf(e),e._gsTweenID&&delete TweenLite._internals.tweenLookup[e._gsTweenID],TweenMax.to(t[0],.2,{rotation:0}),TweenMax.to(t[1],.2,{rotation:0})):"right"==e.crrHitArea&&(this.rightIsFull=!this.rightIsFull,e.crrHitArea=null,TweenMax.killTweensOf(e),e._gsTweenID&&delete TweenLite._internals.tweenLookup[e._gsTweenID],TweenMax.to(t[2],.2,{rotation:0}),TweenMax.to(t[3],.2,{rotation:0}))})}}]),DoubleBuretClamp}();e.exports=DoubleBuretClamp},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10);e.exports=function(){(0,h.default)(t,p);var e=d(t);function t(){return(0,o.default)(this,t),e.call(this)}return(0,s.default)(t,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(t.prototype),"creationComplete",this).call(this)}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(t.prototype),"toJSON",this).call(this),{gotDropper:this.gotDropper})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(t.prototype),"setJSON",this).call(this,e),this.gotDropper=e.gotDropper}}]),t}()},function(e,t,EvaporatingDish){"use strict";var a=EvaporatingDish(4),i=EvaporatingDish(0),n=i(EvaporatingDish(9)),r=i(EvaporatingDish(1)),o=i(EvaporatingDish(2)),s=i(EvaporatingDish(7)),l=i(EvaporatingDish(5)),h=i(EvaporatingDish(6)),c=i(EvaporatingDish(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=EvaporatingDish(260),p=EvaporatingDish(53),EvaporatingDish=function(){(0,l.default)(EvaporatingDish,d);var t=u(EvaporatingDish);function EvaporatingDish(){var e;return(0,r.default)(this,EvaporatingDish),(e=t.call(this)).name="EvaporatingDish",e.CNName="小蒸发皿",e.z_index=15.14,e.addedIron=!1,e}return(0,o.default)(EvaporatingDish,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(EvaporatingDish.prototype),"creationComplete",this).call(this),this.init(),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.addChildAt(this.particleMedContainer,0),this.addChild(this.dishFront),this.addChildAt(this.backHalf,0),this.backIndex=1}},{key:"init",value:function(){this.ifFrontChange=!1,this.carbonPos=[],this.cTexture=PIXI.Sprite.fromFrame("particle.smoke"),this.cTexture.tint=0,this.cTexture.scale.set(.7),this.cTexture.alpha=.25,this.renderTexture=new PIXI.RenderTexture.create(5*this.cTexture.width,5*this.cTexture.height),this.sprite=new PIXI.Sprite(this.renderTexture),this.sprite.x=0,this.sprite.y=0,this.sprite.mask=this.cMask.children[0],this.addChild(this.sprite)}},{key:"update",value:function(e){(0,s.default)((0,c.default)(EvaporatingDish.prototype),"update",this).call(this,e),this.ifContainerSome()&&!this.ifFrontChange?(this.frontDishChangeAlpha(.3),this.ifFrontChange=!0):!this.ifContainerSome()&&this.ifFrontChange&&(this.frontDishChangeAlpha(1),this.ifFrontChange=!1)}},{key:"throttle",value:function(){var e=this.root.__time__;return!(e-this.lastUpdateTime<100)&&(this.lastUpdateTime=e,!0)}},{key:"heatWithCandle",value:function(t){var i,e;this.throttle()&&(i=0,this.carbonPos.forEach(function(e){Math.abs(e.x-t.x)<10&&i++}),6<i||(this.addChild(this.sprite),e=(t.y-250)/200,this.cTexture.x=t.x-this.cTexture.width/2,this.cTexture.y=100+15*e-this.cTexture.height/2,this.carbonPos.push({x:this.cTexture.x,y:this.cTexture.y}),this.root.renderer.render(this.cTexture,this.renderTexture,!1)))}},{key:"heatWithAlcohol",value:function(i,e){var t=this;if(this.throttle()&&0<this.carbonPos.length&&i.y<500||e){var n=Number.MAX_VALUE,a=-1;if(this.carbonPos.forEach(function(e,t){e=Math.abs(e.x-i.x);e<n&&(n=e,a=t)}),-1!==a&&n<50)this.carbonPos.splice(a,1);else if(!e)return;this.removeChild(this.sprite),this.renderTexture=null,this.sprite=null,this.renderTexture=new PIXI.RenderTexture.create(5*this.cTexture.width,5*this.cTexture.height),this.sprite=new PIXI.Sprite(this.renderTexture),this.sprite.interactive=!1,this.sprite.mask=this.cMask.children[0],this.carbonPos.forEach(function(e){t.addChild(t.sprite),t.cTexture.x=e.x,t.cTexture.y=e.y,t.root.renderer.render(t.cTexture,t.renderTexture,!1)})}}},{key:"ifContainerSome",value:function(){if(this.addedIron)return!0;if(this.medicineData){var e=!1;if(this.medicineData.solidAry)for(var t in this.medicineData.solidAry)if(t){e=!0;break}var i=!1;return(i=this.medicineData.liquidAry&&0!=this.medicineData.liquidAry.length?!0:i)||e}return!1}},{key:"eqPrepareDrag",value:function(){(0,s.default)((0,c.default)(EvaporatingDish.prototype),"eqPrepareDrag",this).call(this),this.checkQualitativeFilterPaper()}},{key:"checkQualitativeFilterPaper",value:function(){for(var e=p.getAllCollisionBodys(this.napeObj),t=0;t<e.length;t++){var i,n,a=e[t];e[t].userData&&(e[t].userData.view&&"QualitativeFilterPaper"===e[t].userData.view.name?((i=a.userData.view).x=210,i.y=66,i.interactive=!1,i.interactiveChildren=!1,n=this.getChildIndex(this.dishFront),this.addChildAt(i,n-1),a.get_space().remove(a),a.userData=null,this.addedIron=!(a=null)):e[t].userData.view.isSmallFeIron&&((n=a.userData.view).interactive=!1,n.interactiveChildren=!1,a.get_space().remove(a),a=a.userData=null,a=this.getChildIndex(this.dishFront),this.addChildAtWithSamePos(n,a-1),this.addedIron=!0))}}},{key:"getSpecialSolidMed",value:function(){var e=this.children.find(function(e){return"QualitativeFilterPaper"===e.name&&e.isBurning});return e&&e.medicineData.solidAry}},{key:"setJSON",value:function(e){var t;(0,s.default)((0,c.default)(EvaporatingDish.prototype),"setJSON",this).call(this,e),e.addedIron&&(this.addedIron=!0),0<(null===(t=e.carbonPos)||void 0===t?void 0:t.length)&&(this.carbonPos=e.carbonPos,this.heatWithAlcohol({x:-999,y:-999},!0))}},{key:"toJSON",value:function(){return(0,n.default)({addedIron:this.addedIron,carbonPos:this.carbonPos},(0,s.default)((0,c.default)(EvaporatingDish.prototype),"toJSON",this).call(this))}}]),EvaporatingDish}();e.exports=EvaporatingDish},function(e,t,HardGlassTube){"use strict";var a=HardGlassTube(4),i=HardGlassTube(0),n=i(HardGlassTube(46)),r=i(HardGlassTube(9)),o=i(HardGlassTube(130)),s=i(HardGlassTube(1)),l=i(HardGlassTube(2)),h=i(HardGlassTube(7)),c=i(HardGlassTube(5)),u=i(HardGlassTube(6)),d=i(HardGlassTube(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=HardGlassTube(10),I=HardGlassTube(58),g=PIXI.Point,HardGlassTube=function(){(0,c.default)(HardGlassTube,f);var t=p(HardGlassTube);function HardGlassTube(){var e;return(0,s.default)(this,HardGlassTube),(e=t.call(this)).name="HardGlassTube",e.CNName="硬质玻璃管",e.isHardGlassTube=!0,e.needSpoonPlug=!0,e.needLimitObjAry=["IronClamp"],e.rotation=Math.PI/2,e.isHardGlass=!0,e.z_index=17.02,e.W=60,e.H=600,e.pU=new g(30,0),e.pD=new g(30,600),e.pM=new g(30,300),e.addSolidMedPos=new g(30,300),e.paraffinOilCount=0,e}return(0,l.default)(HardGlassTube,[{key:"creationComplete",value:function(){var t=this;(0,h.default)((0,d.default)(HardGlassTube.prototype),"creationComplete",this).call(this),I.apply(this),this.setCapacityScale();var i=this;this.chooseArea.area0._currentPlug=void 0,this.chooseArea.area1._currentPlug=void 0,this.enableRotate(!0,{position:{x:this.localBounds.width/2+10,y:-this.localBounds.height/2},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2}},1),(0,n.default)(this.chooseArea.area0,"currentPlug",{set:function(e){(t.chooseArea.area0._currentPlug=e)||i.calculateLiquid()},get:function(){return t.chooseArea.area0._currentPlug}}),(0,n.default)(this.chooseArea.area1,"currentPlug",{set:function(e){(t.chooseArea.area1._currentPlug=e)||i.calculateLiquid()},get:function(){return t.chooseArea.area1._currentPlug}})}},{key:"pourIn",get:function(){var e,t=this.chooseArea,i=t.area0,t=t.area1;return i.currentPlug&&!t.currentPlug?e=this.pourInChoice1:!i.currentPlug&&t.currentPlug&&(e=this.pourInChoice0),e},set:function(e){}},{key:"getCurrentPourIn",value:function(){var e;return this.pourIn&&(this.pourIn===this.pourInChoice1&&(e="area1"),this.pourIn===this.pourInChoice0&&(e="area0")),e}},{key:"setCapacityScale",value:function(){this.capacityScale=.13767}},{key:"setReactStatus",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;(0,h.default)((0,d.default)(HardGlassTube.prototype),"setReactStatus",this).call(this,e,t),"HCl_NH3"===e.Name&&"ggs"===e.PhysicalState.join("")&&(this.paraffinOilCount+=3,10<this.paraffinOilCount&&(this.paraffinOilCount=10))}},{key:"updateOilSmoke",value:function(){var e;0<this.paraffinOilCount?(this.paraffinOilSmoke?(this.paraffinOilSmoke.render(),this.paraffinOilSmoke.alpha=this.paraffinOilCount/10-.3):(this.paraffinOilSmoke=ParticleUtil.getParticle(ParticleUtil.particles.paraffin_smoke),this.gasContainer.addChild(this.paraffinOilSmoke),this.paraffinOilSmoke.alpha=this.paraffinOilCount/10,e=this.localBounds,this.paraffinOilSmoke.x=e.x+e.width/2,this.paraffinOilSmoke.y=e.y+e.height/2),this.paraffinOilSmoke2?(this.paraffinOilSmoke2.render(),this.paraffinOilSmoke2.alpha=this.paraffinOilCount/10-.3):(this.paraffinOilSmoke2=ParticleUtil.getParticle(ParticleUtil.particles.paraffin_smoke_2),this.gasContainer.addChild(this.paraffinOilSmoke2),this.paraffinOilSmoke2.alpha=this.paraffinOilCount/10,e=this.localBounds,this.paraffinOilSmoke2.x=e.x+e.width/2,this.paraffinOilSmoke2.y=e.y+e.height/2),this.paraffinOilCount-=.01):this.paraffinOilSmoke2&&(this.root.particleManager.destroy(this.paraffinOilSmoke2,2),this.paraffinOilSmoke2=null)}},{key:"drawParticleMask",value:function(e){var t=this;if(e.length<2)throw new Error("至少需要提供两个点来绘制图形");e=e.map(function(e){return t.toLocal(e,t.root)});var i=new PIXI.Graphics;i.beginFill(65280),i.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)i.lineTo(e[n].x,e[n].y);return i.endFill(),i}},{key:"getChooseAreaMaxY",value:function(e){var t,i=e,n=this.topGlobalAry||this.globalAry;return 4===n.length&&(t=this.chooseArea.area0.currentPlug,(e=this.chooseArea.area1.currentPlug)||t||(i=Math.max(n[0].y,n[1].y,n[2].y,n[3].y)),t&&!e&&(i=Math.max(n[1].y,n[2].y))),i}},{key:"getSpoonPourInfo",value:function(e){e=this.getSpoonHintInfo(e);return{p0:this.toGlobal(e.p0),p1:this.toGlobal(e.p1)}}},{key:"getSpoonHintInfo",value:function(){var e=this.chooseArea.area0.currentPlug?this.pD:this.pU;return{p0:this.pM,p1:e}}},{key:"canSpoonPour",value:function(){var e=this.chooseArea.area0.currentPlug;return!(this.chooseArea.area1.currentPlug&&e)}},{key:"toJSON",value:function(){var e,t,i;return this.twoHitClamp&&(e=this.twoHitClamp.main.support.getUUID(),t=this.twoHitClamp.aid.support.getUUID(),t={main:{support:e,clamp:this.twoHitClamp.main.clamp.getUUID()},aid:{support:t,clamp:this.twoHitClamp.aid.clamp.getUUID()}}),this.listenClamp&&(i={aid:this.listenClamp.aid.getUUID(),main:this.listenClamp.main.getUUID()}),(0,r.default)({listenClamp:i,twoHitClamp:t},(0,h.default)((0,d.default)(HardGlassTube.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,h.default)((0,d.default)(HardGlassTube.prototype),"setJSON",this).call(this,e),e.listenClamp&&o.default.all([this.getEquipmentByUUID(e.listenClamp.main),this.getEquipmentByUUID(e.listenClamp.aid)]).then(function(e){t.listenClamp={main:e[0],aid:e[1]},e[0].followClamp(e[1]),e[0].followClamp(e[0]),e[0].clampEq=e[1].clampEq=t}),e.twoHitClamp&&o.default.all([this.getEquipmentByUUID(e.twoHitClamp.main.support),this.getEquipmentByUUID(e.twoHitClamp.main.clamp),this.getEquipmentByUUID(e.twoHitClamp.aid.support),this.getEquipmentByUUID(e.twoHitClamp.aid.clamp)]).then(function(e){t.twoHitClamp={main:{support:e[0],clamp:e[1]},aid:{support:e[2],clamp:e[3]}},e[1].followClamp(e[3]),e[3].followClamp(e[1]),t.mergeSupport(e[0],e[2]),e[1].clampEq=e[3].clampEq=t})}},{key:"update",value:function(e){(0,h.default)((0,d.default)(HardGlassTube.prototype),"update",this).call(this,e),this.updateOilSmoke()}}]),HardGlassTube}();e.exports=HardGlassTube},function(e,t,DroppingFunnelWithBalancedPressure){"use strict";var a=DroppingFunnelWithBalancedPressure(4),i=DroppingFunnelWithBalancedPressure(0),n=i(DroppingFunnelWithBalancedPressure(9)),r=i(DroppingFunnelWithBalancedPressure(1)),o=i(DroppingFunnelWithBalancedPressure(2)),s=i(DroppingFunnelWithBalancedPressure(7)),l=i(DroppingFunnelWithBalancedPressure(5)),h=i(DroppingFunnelWithBalancedPressure(6)),c=i(DroppingFunnelWithBalancedPressure(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=DroppingFunnelWithBalancedPressure(10),p=DroppingFunnelWithBalancedPressure(126),f=DroppingFunnelWithBalancedPressure(80),I=DroppingFunnelWithBalancedPressure(16),g=DroppingFunnelWithBalancedPressure(200),DroppingFunnelWithBalancedPressure=function(){(0,l.default)(DroppingFunnelWithBalancedPressure,p);var t=u(DroppingFunnelWithBalancedPressure);function DroppingFunnelWithBalancedPressure(){var e;return(0,r.default)(this,DroppingFunnelWithBalancedPressure),(e=t.call(this)).autoHideInfo=!0,e.noPascal=!1,e.name="DroppingFunnelWithBalancedPressure",e.CNName="恒压滴液漏斗",e.preventVolatilize=!0,e.removeAry=[],e.z_index=15.262,e.lastY=0,e.hitObjProp={RoundBottomFlask:{x:122,y:-460,rotation:0},DistillingFlask:{x:125,y:-460,rotation:0},FlorenceFlask:{x:113,y:-460,rotation:0},ThreeNeckedFlask:{area0:{x:-181,y:-337,rotation:0},area1:{x:224.5,y:-447,rotation:0},area2:{x:630,y:-337,rotation:0}}},e.noHeightDiff=!0,e}return(0,o.default)(DroppingFunnelWithBalancedPressure,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(DroppingFunnelWithBalancedPressure.prototype),"creationComplete",this).call(this),this.head.headIndex=5,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this}),this.drop.alpha=0,this.tubeDrip=new f(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y+24},2e3,.4,.2,d),this.setSwitch(),this.setEnableRotate(!0),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.on("hitted",this._adsorb_)}},{key:"setEnableRotate",value:function(e){this.enableRotate(e,{position:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:0,y:100,width:this.localBounds.width,height:.2*this.localBounds.height}},1)}},{key:"setPercent",value:function(e){e=this.minTimeLength+(this.maxTimeLength-this.minTimeLength)*(e=1-e);this.ani.gotoAndStop(4-Math.round((e-this.minTimeLength)/(this.maxTimeLength-this.minTimeLength)*4)),this.tubeDrip.timeLength=e}},{key:"setSwitch",value:function(){var n=this;this.tubeDrip.timeLength=this.maxTimeLength,this.movePortraitSwitchButton=new g(this,{x:160,y:250}),this.movePortraitSwitchButton.setEnabled(!0);var e=this.root.mouseManager,a=this.maxTimeLength;this.tubeDrip.timeLength=a,this.ani.on(MouseEvent.MOUSE_OVER,function(){e.changeMouseStatus(I.status.STRETCH,!0,n.ani)}),this.ani.on(MouseEvent.MOUSE_OUT,function(){e.changeMouseStatus(I.status.STRETCH,!1,n.ani)}),this.ani.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){n.lastY=e.data.global.y,a=n.tubeDrip.timeLength||0,n.findAllParent(n,n.removeAry);for(var t=0;t<n.removeAry.length;t++){var i=n.removeAry[t];NBDrag.removeDrag(i),i.interactive=!1}}),this.ani.addEventListener(TouchEvent.TOUCH_MOVE,function(e){var t;0!==n.lastY&&(t=e.data.global.y,e=(n.lastY-t)/100,n.lastY=t,e=(e=(e=a+e)<n.minTimeLength?n.minTimeLength:e)>n.maxTimeLength?n.maxTimeLength:e,e=((a=e)-n.minTimeLength)/(n.maxTimeLength-n.minTimeLength),n.movePortraitSwitchButton.setPosByPercent(1-e),n.ani.gotoAndStop(4-Math.round(4*e)),n.tubeDrip.timeLength=a)}),this.ani.addEventListener(TouchEvent.TOUCH_END,function(){n.endFunc()}),this.ani.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,function(){n.endFunc()})}},{key:"endFunc",value:function(){for(var e=this.lastY=0;e<this.removeAry.length;e++){var t=this.removeAry[e];NBDrag.addDrag(t),t.interactive=!0}this.removeAry.length=0}},{key:"findAllParent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t.push(e),e.parent&&e.parent!==this.getEqLayer()&&this.findAllParent(e.parent,t),t}},{key:"checkCandrop",value:function(){return this.tubeDrip.timeLength<this.maxTimeLength&&1e-7<this.getCurrentCapacity()}},{key:"_adsorb_",value:function(e){var t=this,i=e.hitObj,n=this.hitObjProp[i.name];if(n&&this.currentHitObj!=i&&!TweenMax.isTweening(this)&&!TweenMax.isTweening(i)){var a=n;if("ThreeNeckedFlask"===i.name){if(i.chooseArea.area0.thisAreaWasFull&&i.chooseArea.area1.thisAreaWasFull&&i.chooseArea.area2.thisAreaWasFull)return;for(var r=[],o=i.chooseArea.toLocal(this.toGlobal({x:0,y:0})),s=0;s<3;s++){var l=i.chooseArea["area".concat(s)];l.thisAreaWasFull||(l=Math.abs(l.x+l.width/2-o.x),r.push({areaStr:"area".concat(s),dis:l}))}r.sort(function(e,t){return e.dis-t.dis});e=r[0].areaStr,n=i.chooseArea[e];(a=a[e]).rotation=n.rotation,n.thisAreaWasFull=!0,n.currentPlug=!0,this.currentArea=n,this.curAreaStr=e}else{if(!i.isOpen||0<i.currentEquipmentValue)return;i.hasCovered=!0}this.interactive=!1,this.currentContainer=i,this.currentHitObj=i,isNaN(this.lastRotation)&&(this.lastRotation=this.rotation),i.addChildAtWithSamePos(this,0),TweenMax.to(this,.3,{x:a.x,y:a.y,rotation:a.rotation,onComplete:function(){t.emit("hasTweenComplete",{hitObj:i,fromSetJson:!1}),t.interactive=!0}}),this.on(NBDrag.event.PREPARE_DRAG,this._init_),this.emit("appendEquipment",this.currentHitObj),this.currentHitObj.emit("appendEquipment",this)}}},{key:"eqAddToViewStack",value:function(){this.currentArea&&(this.currentArea.currentPlug=null,this.curAreaStr=null),(0,s.default)((0,c.default)(DroppingFunnelWithBalancedPressure.prototype),"eqAddToViewStack",this).call(this)}},{key:"eqPrepareDelete",value:function(){this.currentArea&&(this.currentArea.thisAreaWasFull=!1,this.currentArea.currentPlug=null,this.currentArea=null,this.curAreaStr=null),this._init_(),(0,s.default)((0,c.default)(DroppingFunnelWithBalancedPressure.prototype),"eqPrepareDelete",this).call(this)}},{key:"_init_",value:function(){this.currentHitObj&&(this.currentContainer=null,"ThreeNeckedFlask"===this.currentHitObj.name?this.currentArea=null:this.currentHitObj.hasCovered=!1,this.emit("removeEquipment",this.currentHitObj),this.currentHitObj.emit("removeEquipment",this),this.currentHitObj=null),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this._init_)}},{key:"update",value:function(e){(0,s.default)((0,c.default)(DroppingFunnelWithBalancedPressure.prototype),"update",this).call(this,e),0!==this.getCurrentCapacity()&&this.checkCandrop()?(!1===this.tubeDrip.isDripping&&(this.tubeDrip.isDripping=!0),"DroppingFunnelWithBalancedPressure"===this.name&&(this.hasReact=nb.ACTIVE_COUNT,this.currentHitObj&&(this.currentHitObj.hasReact=nb.ACTIVE_COUNT))):this.tubeDrip.isDripping=!1}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(DroppingFunnelWithBalancedPressure.prototype),"toJSON",this).call(this),{currentHitObj:this.currentHitObj?this.currentHitObj.getUUID():null,curAreaStr:this.curAreaStr})}},{key:"setJSON",value:function(t){var i=this;(0,s.default)((0,c.default)(DroppingFunnelWithBalancedPressure.prototype),"setJSON",this).call(this,t),t.currentHitObj&&this.getEquipmentByUUID(t.currentHitObj).then(function(e){i.currentHitObj=e,"ThreeNeckedFlask"===(i.currentContainer=e).name?t.curAreaStr&&(i.curAreaStr=t.curAreaStr,e.chooseArea[i.curAreaStr].thisAreaWasFull=!0,e.chooseArea[i.curAreaStr].currentPlug=!0,i.currentArea=e.chooseArea[i.curAreaStr]):e.hasCovered=!0,i.on(NBDrag.event.PREPARE_DRAG,i._init_)})}}]),DroppingFunnelWithBalancedPressure}();e.exports=DroppingFunnelWithBalancedPressure},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(91),p=i(16);e.exports=function(){(0,l.default)(n,d);var i=u(n);function n(e,t){return(0,r.default)(this,n),i.call(this,e,t)}return(0,o.default)(n,[{key:"initButton",value:function(){this.name="reversalButton",(0,s.default)((0,c.default)(n.prototype),"initButton",this).call(this);var e=this.target.root.mouseManager;this.initUnicorn(Math.PI),p.addMouseEvent(e,this.button,p.status.PAN)}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.headSwitch")}},{key:"dragButtonBegin",value:function(e){(0,s.default)((0,c.default)(n.prototype),"dragButtonBegin",this).call(this,e),this.target.head.reversal()}},{key:"dragButtonEnd",value:function(e){(0,s.default)((0,c.default)(n.prototype),"dragButtonEnd",this).call(this,e)}},{key:"showButton",value:function(){(0,s.default)((0,c.default)(n.prototype),"showButton",this).call(this),this.updateUnicorn(Math.PI-this.target.rotation)}},{key:"zoomChangePos",value:function(){(0,s.default)((0,c.default)(n.prototype),"zoomChangePos",this).call(this);var e=(1-this.buttonScale)*nb.BUTTON_RADIUS;this.btnPosition={x:this.oriBtnPosition.x,y:this.oriBtnPosition.y-e};e=this.target;"IronSupport"!==e.name&&"IronSupportShort"!==e.name||(this.btnPosition=e.reversalBtnPos["type"+e.plateDirection]),this.setBtnPosition(this.btnPosition)}}]),n}()},function(e,t,UTubeWithSideNeck){"use strict";var a=UTubeWithSideNeck(4),i=UTubeWithSideNeck(0),n=i(UTubeWithSideNeck(1)),r=i(UTubeWithSideNeck(2)),o=i(UTubeWithSideNeck(7)),s=i(UTubeWithSideNeck(5)),l=i(UTubeWithSideNeck(6)),h=i(UTubeWithSideNeck(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=UTubeWithSideNeck(10),d=PIXI.Point,UTubeWithSideNeck=function(){(0,s.default)(UTubeWithSideNeck,u);var t=c(UTubeWithSideNeck);function UTubeWithSideNeck(){var e;return(0,n.default)(this,UTubeWithSideNeck),(e=t.call(this)).name="UTubeWithSideNeck",e.CNName="具支U型管",e.z_index=15.31,e.needSpoonPlug=!0,e.pLU=new d(83,0),e.pLM=new d(83,140),e.pRU=new d(250,0),e.pRM=new d(250,140),e.addSolidMedPos=new d(250,140),e}return(0,r.default)(UTubeWithSideNeck,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(UTubeWithSideNeck.prototype),"creationComplete",this).call(this),this.maxOpenMouth=4,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack)}},{key:"getSpoonPourInfo",value:function(){var e=this.getSpoonHintInfo();return{p0:this.toGlobal(e.p0),p1:this.toGlobal(e.p1)}}},{key:"getSpoonHintInfo",value:function(){var e,t;return this.chooseArea.area1.currentPlug?(e=this.pLM,t=this.pLU,this.addSolidMedPos=this.pLM):(e=this.pRM,t=this.pRU,this.addSolidMedPos=this.pRM),{p0:e,p1:t}}},{key:"canSpoonPour",value:function(){var e=this.chooseArea.area0.currentPlug,t=this.chooseArea.area1.currentPlug;return!(e&&t)}}]),UTubeWithSideNeck}();e.exports=UTubeWithSideNeck},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),f=i(34),I=i(31),g=i(32),m=i(10),y={QualitativeFilterPaper:{x:10,y:10}},v=["BaseMedicine","BaseSolidMedicine","BaseLiquidMedicine","BaseLiquidBrownDropMedicine","AlcoholBurner","BaseSolidBrownMedicine","BaseLiquidWhiteDropMedicine","QualitativeFilterPaper","AirBalloon","KippsFunnel","LongNeckFunnel","BaseGasMedicineInGasBag","PaperFlower","UniversalPhIndicatorPaper","BlueLitmusPaper","RedLitmusPaper","StarchKITestPaper","PhenolphthaleinTestPaper","BaseLiquidWhiteBottleMedicine"];e.exports=function(){(0,h.default)(MagnesiumRibbon,p);var t=d(MagnesiumRibbon);function MagnesiumRibbon(){var e;return(0,o.default)(this,MagnesiumRibbon),(e=t.call(this)).name="MagnesiumRibbon",e.constName="MagnesiumRibbon",e.CNName="镁条",I.register(g.MAGBURN),e.isMgoExist=!0,e.isBurning=!1,e.burnCount=0,e.fireStatus=0,e.z_index=19.11,e}return(0,s.default)(MagnesiumRibbon,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(MagnesiumRibbon.prototype),"creationComplete",this).call(this),this.initEvent(),this.initMask(),this.initParticle(),this.isMgoExist||(this.Mg.mg_width_mgo.alpha=0),this.firePosY=0,this.on(NBEvent.del.PREPARE_DELETE,function(){I.stop(),e.destroyParticle()}),this.offsetWithAsbestos={minX:-250,maxX:-17,minY:210,maxY:376}}},{key:"initEvent",value:function(){var e=this;this.on(NBDrag.event.STOP_DRAG,function(){e.hitEvent()})}},{key:"hitEvent",value:function(){for(var e=this.getSortDisHitObjects(),t=0;t<e.length;t++){var i=e[t].objB;if(y[i.constructor.name]&&i._collapse&&!i.mg){this.leaveHold(),this.rotation=0,i.addChild(this),this.currentContainer=i;break}if(i instanceof m&&!v.includes(i.name)){this.leaveHold(),this.pushInContainer(i);break}if("AsbestosFreeWireGauze"===i.name&&!i.blockMedicine&&!i.hasBurnReMain){this.leaveHold(),this.pushInAsbestosFreeWireGauze(i);break}}this.rotation=0}},{key:"leaveHold",value:function(){this.parent.isClamp&&this.parent.holdObjLeave.apply(this)}},{key:"pushInContainer",value:function(i){var n=this,a=n.execute(NBCommand.CREATE_EQUIPMENT,"BlockMg"),r={fireStatus:n.fireStatus,isBurning:n.isBurning,rustState:n.isMgoExist};a.on("creationComplete",function(){var e,t;a.medVo.setMol(a.INITMOL*(1-r.fireStatus)),a.isBurn=r.isBurning,i.addChildWithSamePos(n),i.addChild(a),i.localBounds||i.getLocalBounds(),a.x=i.localBounds.width/2+i.localBounds.x,a.y=n.y+n.height/2-20,a.addToContainer(i),a.hitWater=!0,0<r.fireStatus&&(e=a.INITMOL*r.fireStatus,t=this.root.medicineManager.getMedicineData("MgO"),i.addMedicine(new SolidVO(t,e),void 0,1)),a.rustState=r.rustState,n.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[n]})})}},{key:"pushInAsbestosFreeWireGauze",value:function(i){var n=this,a=n.execute(NBCommand.CREATE_EQUIPMENT,"BlockMg"),r={fireStatus:n.fireStatus,isBurning:n.isBurning};a.on("creationComplete",function(){var e,t;a.medVo.setMol(a.INITMOL*(1-r.fireStatus)),a.isBurn=r.isBurning,a.blockToAsbestosFreeWireGauze(i),0<r.fireStatus&&(e=a.INITMOL*r.fireStatus*2,t=this.root.medicineManager.getMedicineData("MgO"),i.solidVo.MgO=new SolidVO(t,e)),n.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[n]})})}},{key:"initMask",value:function(){this.MgMask.allowGetBounds=!1,this.mgBurnMask.allowGetBounds=!1,this.Mg.mask=this.MgMask.getChildAt(0),this.mgBurn.mask=this.mgBurnMask.getChildAt(0),this.mgBurnMask.y=-210}},{key:"clearMgoSkin",value:function(e){this.isMgoExist=!1,TweenMax.to(this.Mg.mg_width_mgo,e,{alpha:0})}},{key:"initParticle",value:function(){this.fireParticle=f.getParticle(f.particles.mg_white_fire),this.addChild(this.fireParticle),this.getViewStack().addParticle(this.fireParticle),this.fireParticle.bind(this),this.smokeParticle=f.getParticle(f.particles.mg_burn_smoke),this.addChild(this.smokeParticle),this.getViewStack().addParticle(this.smokeParticle),this.smokeParticle.bind(this)}},{key:"getLightOnPoint",value:function(e){var t=this.toGlobal({x:this.width/2,y:0});t.name="top";var i=this.toGlobal({x:this.width,y:this.height-50});if(i.name="bottom",this.getEqLayer()==this.parent||this.parent.isClamp){var n=Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2),a=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2);return[(n=e.y-i.y<0?1/0:n)<(a=e.y-t.y<0?1/0:a)?i:t]}return[t]}},{key:"lightOn",value:function(e,t){var i=e.name;if(!this.isMgoExist&&!(this.isBurning||1<=this.fireStatus)){if(t)if(16e4<Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))return;this.isMgoExist&&this.burnCount<=100?this.burnCount+=2:(this.isBurning=!0,this.direct=i)}}},{key:"lightOnAlcohol",value:function(e,t){var i=e.name;if(!(this.isBurning||1<=this.fireStatus)){if(t)if(16e4<Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))return;this.isMgoExist&&this.burnCount<=100?this.burnCount+=2:(this.isBurning=!0,this.direct=i)}}},{key:"autoReduceBurnCount",value:function(){0<this.burnCount&&this.burnCount--}},{key:"destroyParticle",value:function(){var e=this.fireParticle;e&&(this.smokeParticle.destroy(),e.destroy(),this.fireParticle=null)}},{key:"particlesRender",value:function(){this.isBurning&&(this.fireParticle.position.x=this.smokeParticle.position.x=41,this.fireParticle.position.y=this.smokeParticle.position.y=this.firePosY,this.fireParticle.render(),this.smokeParticle.render())}},{key:"calaFireStatus",value:function(e){if(this.isBurning){switch(this.fireStatus+=e/8,this.direct){case"top":this.firePosY=this.fireStatus*this.height,this.mgBurnMask.y=-(1-this.fireStatus)*this.height,this.MgMask.y=this.fireStatus*this.height;break;case"bottom":this.firePosY=this.height-this.fireStatus*this.height,this.mgBurnMask.y=(1-this.fireStatus)*this.height,this.MgMask.y=-this.fireStatus*this.height}var t=this.toGlobal(this.fireParticle.position),t=new PIXI.Rectangle(t.x-150,t.y-150,300,300);this.radiantHeat(nb.ALCOHOL_HEAT_VALUE,t,e,nb.TEMP_BLAST_ALCOHOL_BURNER*this.fireStatus),.8<=this.fireStatus&&!TweenMax.isTweening(this.fireParticle)&&(TweenMax.to(this.fireParticle,8*(1-this.fireStatus),{alpha:0}),TweenMax.to(this.smokeParticle,8*(1-this.fireStatus),{alpha:0})),null==this.bubbleSound&&(this.bubbleSound=I.play(g.MAGBURN,null,null,null,-1)),1<=this.fireStatus&&(this.destroyParticle(),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=null),this.isBurning=!1)}}},{key:"toJSON",value:function(){var e=this.isBurning,t=this.fireStatus,i=this.direct,n=this.isMgoExist;return(0,r.default)((0,l.default)((0,u.default)(MagnesiumRibbon.prototype),"toJSON",this).call(this),{isBurning:e,fireStatus:t,direct:i,isMgoExist:n})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(MagnesiumRibbon.prototype),"setJSON",this).call(this,e),this.isBurning=e.isBurning,this.fireStatus=e.fireStatus,this.direct=e.direct,this.isMgoExist=e.isMgoExist,this.isMgoExist||(this.Mg.mg_width_mgo.alpha=0)}},{key:"update",value:function(e){(0,l.default)((0,u.default)(MagnesiumRibbon.prototype),"update",this).call(this,e),this.particlesRender(),this.autoReduceBurnCount(),this.calaFireStatus(e),0<this.fireStatus&&this.fireStatus<1&&("Forceps"===this.parent.name||"CrucibleTong"===this.parent.name?this.offsetWithAsbestos={minX:-128,maxX:21,minY:118,maxY:272}:this.offsetWithAsbestos={minX:-250,maxX:-17,minY:210,maxY:376},(e=this.getAsbestosUnderEquipment(this.offsetWithAsbestos))&&(e.addPowder("MgO",5e-4),e.addPowder("Mg3N2",2e-7)))}}]),MagnesiumRibbon}()},function(e,t,n){"use strict";var a=n(4),i=n(0),r=i(n(9)),o=i(n(1)),s=i(n(2)),l=i(n(7)),h=i(n(5)),c=i(n(6)),u=i(n(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=n(8),f=n(21);e.exports=function(){(0,h.default)(IronRing,p);var t=d(IronRing);function IronRing(){var e;return(0,o.default)(this,IronRing),(e=t.call(this)).isAddtoSupport=!0,e.name="IronRing",e.CNName="铁圈",e.z_index=16.03,e.selectByIndex=!0,e}return(0,s.default)(IronRing,[{key:"creationComplete",value:function(){var i=this;(0,l.default)((0,u.default)(IronRing.prototype),"creationComplete",this).call(this);var t=this;this.getLimitData=function(){var e;return{currentId:e=i.currentHitObj?i.currentHitObj.getUUID():e,dragRect:i.dragRect}},this.getLimitData=function(){var e;return{currentId:e=i.currentHitObj?i.currentHitObj.getUUID():e,dragRect:i.dragRect}},this.setLimitData=function(e){var t=i;e.currentId&&(i.dragRect=e.dragRect,i.hitSupport=!0,i.getEquipmentByUUID(e.currentId).then(function(e){t.currentHitObj=e}),i.addEventListener(TouchEvent.TOUCH_END,i._mouseUp_),i.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,i._mouseUp_),i.parent._equipment_&&i.parent._equipment_.push(i),NBDrag.addDrag(i,i.dragRect))},this.on(NBDrag.event.STOP_DRAG,function(){var e=t.getHitObjectsByType(n(111)),e=this.minDistance(e);void 0===t.currentHitObj&&(t.currentHitObj=e),e&&!t.hitSupport&&e.currentEqNum<e.maxEqNum&&(e.currentEqNum+=1,t.hitSupport=!0,e.addChildWithSamePos(t),e.addRing(t,0),TweenMax.to(t,.5,{x:t.dragRect.x}),t.addEventListener(TouchEvent.TOUCH_END,t._mouseUp_),t.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,t._mouseUp_)),e&&e.updateEq(t)}),this.on(NBDrag.event.START_DRAG,function(e){e=e.data.originalEvent;this.startDownPoint={},this.startDownPoint.y=e.y}),this.on(NBDrag.event.DRAG_MOVE,function(){t.hitSupport&&!t.hitRef.hitTest(t.currentHitObj.bar)&&(t.dragRect.enabled=!1)}),this._reversalX=!1}},{key:"reversalX",get:function(){return this._reversalX},set:function(e){this.scale.x=e?-1:1,this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this._reversalX=!!e}},{key:"minDistance",value:function(e){for(var t=[],i=0;i<e.length;i++)this.hitRef.hitTest(e[i].bar)&&t.push(e[i]);if(0<t.length){var n=[],a=NBPoint.distance(this,t[0]);n.push(t[0]);for(var r=1;r<t.length;r++){var o=t[r];NBPoint.distance(this,o)<a&&(n.shift(),n.push(o),a=NBPoint.distance(this,o))}return n[0]}}},{key:"checkCollision",value:function(){var e=this.getHitObjectsByType(n(111)),t=this.minDistance(e);t&&!this.hitSupport&&t.currentEqNum<t.maxEqNum?(this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg(),this.parent!=this.lastHitEquipment&&(e=t.toLocal({x:0,y:0},this),(e=this.drawBg(t,t.bar.x+10+this.localBounds.x,e.y+this.localBounds.y)).allowGetBounds=!1,t.willAdsorbEqBounds=e,this.lastHitEquipment=t)):this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg()}},{key:"_mouseUp_",value:function(){var e=this;e.hitSupport&&e.dragRect&&0==e.dragRect.enabled&&(--e.currentHitObj.currentEqNum,e.currentHitObj.hasClamp=!1,e.hitSupport=!1,this.viewStack==this.root.viewStack||TweenMax.isTweening(e)||this.root.viewStack.addChildWithSamePos(this),e.currentHitObj.removeEq(e),e.currentHitObj=void 0,e.removeEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_))}},{key:"getConfigureData",value:function(){var e=(0,l.default)((0,u.default)(IronRing.prototype),"getConfigureData",this).call(this);return(e=!e||!e.confArr?{confArr:[]}:e).confArr.push(f.getRadio("方向",this.reversalX?0:1,["左","右"],function(e){this.reversalX=!e}.bind(this),this)),e}},{key:"toJSON",value:function(){return(0,r.default)({reversalX:this.reversalX},(0,l.default)((0,u.default)(IronRing.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(IronRing.prototype),"setJSON",this).call(this,e),void 0!==e.reversalX&&(this.reversalX=e.reversalX)}}]),IronRing}()},function(e,t,GasCollectingBottle){"use strict";var a=GasCollectingBottle(4),i=GasCollectingBottle(0),n=i(GasCollectingBottle(9)),r=i(GasCollectingBottle(1)),o=i(GasCollectingBottle(2)),s=i(GasCollectingBottle(7)),l=i(GasCollectingBottle(5)),h=i(GasCollectingBottle(6)),c=i(GasCollectingBottle(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=GasCollectingBottle(10),p=GasCollectingBottle(31),f=GasCollectingBottle(32),I=GasCollectingBottle(34),g=GasCollectingBottle(21),m=GasCollectingBottle(18),y=GasCollectingBottle(58),GasCollectingBottle=function(){(0,l.default)(GasCollectingBottle,d);var t=u(GasCollectingBottle);function GasCollectingBottle(){var e;return(0,r.default)(this,GasCollectingBottle),(e=t.call(this)).top=e.bottom="",e.capacityScale=.806,e.name="GasCollectingBottle",e.CNName="集气瓶",e.needLimitObjAry=[],p.register(f.PUTINWATER),p.register(f.BUBBLING),e.canCommandPlug=!0,e.isGasBottle=!0,e.z_index=15.15,e.canEditLable=!0,e._showPartLine=!1,e}return(0,o.default)(GasCollectingBottle,[{key:"showPartLine",get:function(){return this._showPartLine},set:function(e){this._showPartLine=e,(this.partLine.visible=e)&&(this.partLine.alpha=.9,this.partLine.scale.y=.95,this.partLine.y-=6)}},{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(GasCollectingBottle.prototype),"creationComplete",this).call(this),this.particle=I.getParticle(I.particles.gas_collecting_bottle_bubble);this.showPartLine=!1,this.forbidRotate||this.enableRotate(!0,{position:{x:2*this.localBounds.width/3+60,y:50},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:0,y:28,width:this.localBounds.width,height:.25*this.localBounds.height}},1),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),y.apply(this),this.on(NBDrag.event.PREPARE_DRAG,this.checkRemoveAsb),this.addEventListener(NBDrag.event.STOP_DRAG,this.hitGasLib),this.label.txt.anchor.x=.5,this.label.txt.x=70,this.smokeMedicine={}}},{key:"pushSmokeMedicine",value:function(e){var t;this.smokeMedicine[e.name]?(t=this.smokeMedicine[e.name].getMol()+e.getMol(),this.smokeMedicine[e.name].setMol(t)):this.smokeMedicine[e.name]=e}},{key:"addAsbType",value:function(){var e=this.currentHitObj;e&&"AsbestosFreeWireGauze"===e.name&&(this.addedInAsb=!0,this.isCoverGS=!0,e.currentChildHitObj=this)}},{key:"releaseSmokeMedicine",value:function(){var e,t="releaseBottle";for(e in this.currentHitObj&&"AsbestosFreeWireGauze"===this.currentHitObj.name&&(t="releaseAsb"),this.smokeMedicine){var i=this.smokeMedicine[e];switch(t){case"releaseBottle":this.medicineData.push(i),this.addMedicine(i);break;case"releaseAsb":this.currentHitObj.addProduct(i)}}}},{key:"hitGasLib",value:function(){var e=this.getSortDisHitObjects();if(!this.isCovered())for(var t=0;t<e.length;t++){var i,n=e[t].objB;"GlassSheet"!==n.name||n.parent.coveredGasBottle||(!(i=n.parent).isCoverGS||i.openArea||"GasCollectingBottle"!==i.name&&"BaseGasMedicine"!==i.name||this.absorbGasBottle(i)),n.isGasBottle&&"GasCollectingBottleOfDivide"!==n.name&&!n.coveredGasBottle&&n.isOpen&&!n.isCoverGS&&Math.abs(this.rotation)>Math.PI/4*3&&this.absorbGasBottle(n)}}},{key:"absorbGasBottle",value:function(e){var t=this;e.addChildWithSamePos(this),(e.coveredGasBottle=this).coveredGasBottle=e,this.emit("appendEquipment",e),e.emit("appendEquipment",this),NBDrag.removeDrag(this),TweenMax.to(this,.3,{x:e.bg.width,y:0,rotation:Math.PI,onComplete:function(){NBDrag.addDrag(t)}})}},{key:"checkRemoveAsb",value:function(){this.addedInAsb&&(this.isCoverGS=!1,this.addedInAsb=!1)}},{key:"addChild",value:function(e){switch((0,s.default)((0,c.default)(GasCollectingBottle.prototype),"addChildAt",this).call(this,e,0),e.name){case"IronWire":e.addToGasCollectingBottle(this);break;case"PaperFlower":case"GlassSheet":this.addChildAt(e,this.children.length)}}},{key:"checkCottonBurn",value:function(){this.curCotton&&this.curCotton.checkBurn()}},{key:"smellMedicine",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.interactive=!1,this.interactiveChildren=!1,this.root.execute(NBCommand.ADD_EQUIPMENT,"Fun",this)}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldFlorenceFlask",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"getConfigureData",value:function(){var e=(0,s.default)((0,c.default)(GasCollectingBottle.prototype),"getConfigureData",this).call(this);this.isOpen||this.holdAnimation||this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(g.getButton(null,"手握",function(){this.hold()}.bind(this),this)),this.holdAnimation&&(this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(g.getButton(null,"松手",function(){this.loose()}.bind(this),this)));var t=this.worldRotation||m.retrieveRotation(this.worldTransform);return!this.hasAnimation&&this.isOpen&&0===t&&(TweenMax.isTweening(this)||e.confArr.push(g.getButton(null,"闻气味",function(){this.smellMedicine()}.bind(this),this))),e}},{key:"update",value:function(e){var t=this;if((0,s.default)((0,c.default)(GasCollectingBottle.prototype),"update",this).call(this,e),this.particle.loaded&&!this.changedParticle&&(this.particle.particle.spawnRect.width=this.localBounds.width,this.changedParticle=!0),this.lasPascal=this.lasPascal||this.pascal,this.parent&&this.parent.liquidVertex&&this.parent instanceof d){var i=this.localBounds,e=this.getViewStack().toLocal({x:i.x,y:i.y},this).y;if(this.particle&&this.gasLeakage&&0<this.gasLeakage.length&&e>this.getViewStack().toLocal(this.parent.liquidVertex[0]).y&&this.getCurrentCapacity()<=.8){this.parent.waterContainer.addChild(this.particle),this.gasLeakage&&(this.gasLeakage.length=0),this.particle.visible=!0,this.particle.render(),this.bubbleSound||(this.bubbleSound=p.play(f.BUBBLING,null,null,null,-1)),this.bubbleSound.play();for(var n=0;n<this.medicineData.liquidAry.length;n++)this.medicineData.liquidAry[n].mol<=0&&(this.medicineData.liquidAry.splice(n,1),n--);i=this.parent.toLocal(this.toGlobal({x:i.x+i.width,y:i.y}));this.particle.y=i.y,this.particle.x=i.x}else this.parent.waterContainer.removeChild(this.particle),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=void 0)}else this.particle.visible&&(this.particle.visible=!1),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=void 0);this.lasPascal=this.pascal,this.bottleSmoke?(this.bottleSmoke.render(),this.bottleHalo&&this.bottleHalo.render()):this.needBottleSmoke&&(this.bottleSmoke=this.root.particleManager.initNaBottleSmoke(this),setTimeout(function(){t.releaseSmokeMedicine(),t.root.particleManager.destroy(t.bottleSmokeDown,5),t.root.particleManager.destroy(t.bottleSmokeUp,5),t.needBottleSmoke=!1,t.bottleSmoke=null},15e3),"AsbestosFreeWireGauze"===this.parent.name&&this.root.particleManager.initNaParticleCl(this)),"AsbestosFreeWireGauze"!=this.parent.name&&this.bottleHalo&&(this.bottleHalo.destroy(),this.bottleHalo=null),this.wireBottleSmoke?(this.wireBottleSmoke.y<this.localBounds.height&&(this.wireBottleSmoke.y+=1),this.wireBottleSmoke.render()):null!=this.needWireBottleSmoke&&(this.root.particleManager.initWireBottleSmoke.call(this),setTimeout(function(){t.root.particleManager.destroy(t.wireBottleSmoke,10),t.wireBottleSmoke=null,t.needWireBottleSmoke=null},26e3))}},{key:"toJSON",value:function(){return(0,n.default)({isCoverGS:this.isCoverGS,showPartLine:this.showPartLine,coveredGasBottle:this.coveredGasBottle?this.coveredGasBottle.getUUID():null},(0,s.default)((0,c.default)(GasCollectingBottle.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(GasCollectingBottle.prototype),"setJSON",this).call(this,e),e.isCoverGS&&(this.isCoverGS=e.isCoverGS),e.showPartLine&&(this.showPartLine=e.showPartLine),e.coveredGasBottle&&this.getEquipmentByUUID(e.coveredGasBottle).then(function(e){t.coveredGasBottle=e})}}]),GasCollectingBottle}();e.exports=GasCollectingBottle},function(e,t,SmallBeaker){"use strict";var a=SmallBeaker(4),i=SmallBeaker(0),n=i(SmallBeaker(9)),r=i(SmallBeaker(1)),o=i(SmallBeaker(2)),s=i(SmallBeaker(7)),l=i(SmallBeaker(5)),h=i(SmallBeaker(6)),c=i(SmallBeaker(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=SmallBeaker(170),SmallBeaker=function(){(0,l.default)(SmallBeaker,d);var t=u(SmallBeaker);function SmallBeaker(){var e;return(0,r.default)(this,SmallBeaker),(e=t.call(this)).top=e.bottom="",e.name="SmallBeaker",e.CNName="烧杯100mL",e.z_index=15.27,e.hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e.isBeaker=!0,e.coverBigBeaker=null,e.coveredByBigBeaker=!1,e.molecularTransCount=0,e.canEditLable=!0,e.totalAbsorbWater=0,e.curAbsorbWater=0,e.resinAbsorbWater=0,e}return(0,o.default)(SmallBeaker,[{key:"creationComplete",value:function(){this.initResinImg(),(0,s.default)((0,c.default)(SmallBeaker.prototype),"creationComplete",this).call(this),this.stirCount=0,this.stirSedCount=0,this.enableRotate(!0,{position:{x:this.localBounds.width+10,y:0},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2}},1),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.initDrip(),this.initFume(),this.label.txt.anchor.x=.5,this.label.txt.x=62.5}},{key:"update",value:function(e){(0,s.default)((0,c.default)(SmallBeaker.prototype),"update",this).call(this,e),this.checkAbsorbWater()}},{key:"setContentMass",value:function(){var e;this.napeObj&&((0,s.default)((0,c.default)(SmallBeaker.prototype),"setContentMass",this).call(this),this.addedCotton||(this.totalAbsorbWater&&(this.napeObj.mass+=18*this.totalAbsorbWater/100),e=this.getResinAbsorbWater(),this.napeObj.mass+=18*e),this.curAbsorbWater&&(this.napeObj.mass+=18*this.curAbsorbWater))}},{key:"hitHugebeaker",value:function(t){var e,i=this,n=0;function a(e){t.coverTwoSmallBeaker[e]?a(e=1===e?0:1):(t.coverTwoSmallBeaker[e]=i,t.setPositionForHuge())}t.coverTwoSmallBeaker.forEach(function(e){e&&n++}),2!==n&&(t.addChildAtWithSamePos(this,0),t.rotation=Math.PI,t.setEnableRotate(!1),e=(t.smallPosition.leftSmall.x+t.smallPosition.rightSmall.x)/2,this.x>=e?a(0):a(1))}},{key:"initResinImg",value:function(){this.resinImg.allowGetBounds=!1,this.resinImg.visible=!1,this.resinImg.mask=this.blackBread.breadMask.getChildAt(0)}},{key:"checkCanAddCotton",value:function(){if(0<this.totalAbsorbWater)return!1;var e=this.medicineData.solidAry["高吸水性树脂"];return!(e&&0<e.getMol())}},{key:"addAbsorbCotton",value:function(e){this.addedCotton=e,this.totalAbsorbWater=20/18,this.addChildAt(e,0),NBDrag.removeDrag(e),e.x=85,e.y=145,e.mask=this.capacityMask,e.interactive=!1}},{key:"checkAbsorbWater",value:function(){var e=this.medicineData.liquidAry.quickMap.get("H2O");e&&0<e.mol&&((e=this.medicineData.solidAry["高吸水性树脂"])&&0<e.mol?this.absorbWaterByResin():this.totalAbsorbWater>this.curAbsorbWater&&this.absorbWaterFunc())}},{key:"absorbWaterByResin",value:function(){var e=this.medicineData.liquidAry.quickMap.get("H2O"),t=Math.min(.01,e.getMol()),t=this.setResinAbsorbWater(t);e.setMol(e.getMol()-t)}},{key:"absorbWaterFunc",value:function(){var e=this.medicineData.liquidAry.quickMap.get("H2O"),t=Math.min(this.totalAbsorbWater-this.curAbsorbWater,.01,e.getMol());e.setMol(e.getMol()-t),this.curAbsorbWater+=t,this.updateResinOrCotton()}},{key:"updateResinOrCotton",value:function(){var e;this.addedCotton?(e=this.curAbsorbWater/this.totalAbsorbWater,this.addedCotton.listenAbsorbInBeaker(e)):this.resinImg&&(this.resinImg.visible=!0,this.resinImg.y=-this.bg.height/70*Math.min(18*this.curAbsorbWater,100))}},{key:"getResinAbsorbWater",value:function(){var e=this.medicineNBGraphicMap.get("高吸水性树脂");if(!e||0===e.size)return 0;var t=0;return e.forEach(function(e){t+=e.absorbWater||0}),t}},{key:"setResinAbsorbWater",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.medicineData.solidAry["高吸水性树脂"];if(i&&0<i.getMol()){var n,a,r,o=i.mm/18,i=i.getMol(),s=e/i,e=(s=Math.min(o,s))*i,i=this.medicineNBGraphicMap.get("高吸水性树脂");return i&&0!==i.size?(t?i.forEach(function(e){var t=e.medVO&&e.medVO.getMol()||0;e.absorbWater=s*t}):(n=[],r=a=0,i.forEach(function(e){var t=e.medVO&&e.medVO.getMol()||0;e.absorbWater||(e.absorbWater=0),e.absorbWater+=s*t,e.absorbWater>=o*t&&(n.push(e),a+=o*t,r+=e.absorbWater-o*t)}),0<a&&(this.totalAbsorbWater+=100*a,this.curAbsorbWater+=a,this.updateResinOrCotton(),e-=r),n.forEach(function(e){e.destroy()})),e):0}return 0}},{key:"toJSON",value:function(){var e=this.getResinAbsorbWater();return(0,n.default)({isAbsorbBeaker:this.isAbsorbBeaker,addedCotton:this.addedCotton&&this.addedCotton.getUUID?this.addedCotton.getUUID():this.addedCotton,totalAbsorbWater:this.totalAbsorbWater,curAbsorbWater:this.curAbsorbWater,resinAbsorbWater:e},(0,s.default)((0,c.default)(SmallBeaker.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(SmallBeaker.prototype),"setJSON",this).call(this,e),e.isAbsorbBeaker&&(this.isAbsorbBeaker=!0),e.totalAbsorbWater&&(this.totalAbsorbWater=e.totalAbsorbWater),e.curAbsorbWater&&(this.curAbsorbWater=e.curAbsorbWater,e.addedCotton?this.getEquipmentByUUID(e.addedCotton).then(function(e){t.addedCotton=e,t.updateResinOrCotton()}):this.resinImg&&(this.resinImg.visible=!0,this.updateResinOrCotton())),0<e.resinAbsorbWater&&this.setResinAbsorbWater(e.resinAbsorbWater,!0),e.addedCotton&&this.getEquipmentByUUID(e.addedCotton).then(function(e){t.addAbsorbCotton(e)})}}]),SmallBeaker}();e.exports=SmallBeaker},function(e,t,SmallTestTube){"use strict";var a=SmallTestTube(4),i=SmallTestTube(0),n=i(SmallTestTube(1)),r=i(SmallTestTube(2)),o=i(SmallTestTube(7)),s=i(SmallTestTube(5)),l=i(SmallTestTube(6)),h=i(SmallTestTube(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=SmallTestTube(10),d=SmallTestTube(58),p=SmallTestTube(34),f=SmallTestTube(31),I=SmallTestTube(21),g=SmallTestTube(32),m=PIXI.Point,y=SmallTestTube(18),v=SmallTestTube(169),SmallTestTube=function(){(0,s.default)(SmallTestTube,u);var t=c(SmallTestTube);function SmallTestTube(){var e;return(0,n.default)(this,SmallTestTube),(e=t.call(this)).top=e.bottom="",e.name="SmallTestTube",e.CNName="小试管",e.needLimitObjAry=["TestTubeRack","TestTubeHolder","IronClamp","IronClampSideLook"],f.register(g.BUBBLING),e.z_index=15.28,e.isTestTube=!0,e.needSpoonPlug=!0,e.hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e.canCommandPlug=!0,e.canEditLable=!0,e.canPutTwo=!0,e.W=48,e.H=364,e.pU=new m(0,0),e.pD=new m(0,364),e.pM=new m(0,182),e.addSolidMedPos=new m(0,182),e.transKMnO4Count=0,e}return(0,r.default)(SmallTestTube,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(SmallTestTube.prototype),"creationComplete",this).call(this),this.particle=p.getParticle(p.particles.gas_collecting_bottle_bubble),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.putOut.allowGetBounds=!1,this.putOut.interactive=!1,this.enableRotate(!0,{position:{x:this.localBounds.width/2+10,y:0},rotatePoint:{x:0,y:this.localBounds.height/2}},1),d.apply(this),this.label.txt.anchor.x=.5,this.label.txt.x=19,-1!=nb.NORMALCONTAINER.indexOf(this.name)&&v.addHgFogPic(this,60,"Hg_small")}},{key:"transKMnO4",value:function(){this.transKMnO4Count<10&&(this.transKMnO4Count=Math.min(10,this.transKMnO4Count+5))}},{key:"smellMedicine",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.interactive=!1,this.interactiveChildren=!1,this.root.execute(NBCommand.ADD_EQUIPMENT,"Fun",this)}},{key:"drawSilMir",value:function(e){this.mainSilMirPic||v.addSilverMirror(this,!1),this.mainSilMirPic.silverPic&&this.transSilMirPic.silverPic&&(this.mainSilMirPic.silverPic.mask=e,this.transSilMirPic.silverPic.mask=e)}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldTestTube",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"plug",value:function(){this.isOpen&&(this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"PlugTestTube",this))}},{key:"unPlug",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.plugAnimation.delPlugAnimation(e)}},{key:"checkCollision",value:function(){(0,o.default)((0,h.default)(SmallTestTube.prototype),"checkCollision",this).call(this),this.plugAnimation&&this.plugAnimation.checkCollision()}},{key:"eqStopDrag",value:function(){(0,o.default)((0,h.default)(SmallTestTube.prototype),"eqStopDrag",this).call(this),this.plugAnimation&&this.plugAnimation.eqStopDrag()}},{key:"update",value:function(e){if(0<this.transKMnO4Count&&this.transKMnO4Count--,(0,o.default)((0,h.default)(SmallTestTube.prototype),"update",this).call(this,e),this.particle.loaded&&!this.changedParticle&&(this.particle.particle.spawnRect.width=this.localBounds.width,this.changedParticle=!0),this.lasPascal=this.lasPascal||this.pascal,this.parent&&this.parent.liquidVertex&&this.parent instanceof u){var t=this.localBounds,e=this.getViewStack().toLocal({x:t.x,y:t.y},this).y;if(this.particle&&this.gasLeakage&&0<this.gasLeakage.length&&e>this.getViewStack().toLocal(this.parent.liquidVertex[0]).y&&this.getCurrentCapacity()<=.5){this.parent.waterContainer.addChild(this.particle),this.gasLeakage&&(this.gasLeakage.length=0),this.particle.visible=!0,this.particle.render(),this.bubbleSound||(this.bubbleSound=f.play(g.BUBBLING,null,null,null,-1)),this.bubbleSound.play();for(var i=0;i<this.medicineData.liquidAry.length;i++)this.medicineData.liquidAry[i].mol<=0&&(this.medicineData.liquidAry.splice(i,1),i--);t=this.parent.toLocal(this.toGlobal({x:t.x+t.width,y:t.y}));this.particle.y=t.y,this.particle.x=t.x}else this.parent.waterContainer.removeChild(this.particle),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=void 0)}else this.particle.visible&&(this.particle.visible=!1),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=void 0);this.lasPascal=this.pascal}},{key:"shakeSelf",value:function(){var e=this;if(this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.parent===this.getEqLayer()&&!TweenMax.isTweening(this)){this.interactive=!1,this.interactiveChildren=!1,NBDrag.removeDrag(this);for(var t=new TimelineMax,i=this.medicineData.gasAry,n=0;n<i.length;n++)i[n].isBubble+=100;this.reCalSolvent(),this.showSedimentParticle(),this.hasReact+=10;var a=Math.PI/6;this.pivot.y=this.localBounds.y,this.y+=this.localBounds.y*Math.cos(this.rotation),this.x-=this.localBounds.y*Math.sin(this.rotation),t.to(this,.2,{rotation:a}).to(this,.15,{rotation:-Math.PI/12}).to(this,.15,{rotation:Math.PI/4,repeat:4,yoyo:!0,onUpdate:function(){e.chargeMn2O7Boom(10)}}).to(this,.2,{rotation:0,onComplete:function(){e.pivot.y=0,e.y-=e.localBounds.y,e.maxWaveHeight=10,e.interactive=!0,e.interactiveChildren=!0,NBDrag.addDrag(e)}})}}},{key:"checkAutoIncline",value:function(){return this.parent===this.getEqLayer()}},{key:"checkCanPlug",value:function(){var e=this.children.some(function(e){return nb.EQUIPMENTINTESTTUBE.includes(e.name)}),t=this.medicineData.getLiquidMol(),i=this.medicineData.getSolidMol();return!(t||i||e)||"Flume"===this.parent.name}},{key:"getConfigureData",value:function(){var e=(0,o.default)((0,h.default)(SmallTestTube.prototype),"getConfigureData",this).call(this);this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(I.getButton("shake","振荡",function(){this.shakeSelf()}.bind(this),this)),this.hasAnimation?this.plugAnimation?this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(I.getButton(null,"松手",function(){this.unPlug()}.bind(this),this)):this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(I.getButton(null,"松手",function(){this.loose()}.bind(this),this)):this.isOpen?!TweenMax.isTweening(this)&&this.checkCanPlug()&&e.confArr.push(I.getButton(null,"堵住",function(){this.plug()}.bind(this),this)):this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(I.getButton(null,"手握",function(){this.hold()}.bind(this),this));var t=this.worldRotation||y.retrieveRotation(this.worldTransform);return!this.hasAnimation&&this.isOpen&&0===t&&(TweenMax.isTweening(this)||e.confArr.push(I.getButton(null,"闻气味",function(){this.smellMedicine()}.bind(this),this))),e}}]),SmallTestTube}();e.exports=SmallTestTube},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10),p=i(58);e.exports=function(){(0,l.default)(UShapeTube,d);var t=u(UShapeTube);function UShapeTube(){var e;return(0,r.default)(this,UShapeTube),(e=t.call(this)).needSpoonPlug=!0,e.needLimitObjAry=["TestTubeRack","TestTubeHolder","IronClamp","IronClampSideLook"],e.name="UShapeTube",e.CNName="单边U型管",e.precisePascal=!0,e.allowRubberCatheter=!0,e.addedRubber=null,e.z_index=15.3,e.hitThisAttachAttr={offsetUp:-262,offsetDown:262,type:3},e.canCommandPlug=!0,e}return(0,o.default)(UShapeTube,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(UShapeTube.prototype),"creationComplete",this).call(this),this.capacityScale=.074,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),p.apply(this),this.rubberPos={x:4,y:this.localBounds.height+20,rotation:Math.PI/2}}},{key:"update",value:function(e){(0,s.default)((0,c.default)(UShapeTube.prototype),"update",this).call(this,e)}},{key:"canSpoonPour",value:function(){return!1}}]),UShapeTube}()},function(e,t,ADropper){"use strict";var a=ADropper(4),i=ADropper(0),n=i(ADropper(9)),r=i(ADropper(1)),o=i(ADropper(2)),m=i(ADropper(7)),s=i(ADropper(5)),l=i(ADropper(6)),y=i(ADropper(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,y.default)(i);return t=n?(e=(0,y.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var d=ADropper(10),BaseLiquidMedicine=ADropper(84),v=ADropper(26),c=ADropper(80),BaseSolidMedicine=ADropper(375),BigBeaker=ADropper(259),HugeBeaker=ADropper(263),SmallBeaker=ADropper(398),p=ADropper(258),ADropper=function(){(0,s.default)(ADropper,d);var t=h(ADropper);function ADropper(){var e;return(0,r.default)(this,ADropper),(e=t.call(this)).name="ADropper",e.CNName="胶头滴管",e.autoHideInfo=!0,e.noPascal=!0,e.isADropper=!0,e._bottle=null,e._isAbsorbing=!1,e.preventEvolutBr=!0,e.preventCalEffect=!0,e.defaultColor=16777215,e.defaultAlpha=.2,e.z_index=23.16,e.cannotHitAry=["VolumetricFlask100ml","EvaporatingDish","EvaporatingDish","GlassSheet","Crucible","WatchGlass","ElectrolyticContainer"],e.notEqTaptimer=null,e}return(0,o.default)(ADropper,[{key:"addedBottle",get:function(){return this.currentContainer},set:function(e){e instanceof BaseLiquidMedicine||e instanceof d&&e.capacityVertex&&!e.getCollisionRelation(this,e)?this.currentContainer=e:(this.currentContainer instanceof BaseLiquidMedicine||this.currentContainer instanceof d&&this.currentContainer.capacityVertex&&!this.currentContainer.getCollisionRelation(this,this.currentContainer))&&(this.currentContainer instanceof HugeBeaker||this.currentContainer instanceof SmallBeaker||this.currentContainer instanceof BigBeaker||(this.currentContainer=e))}},{key:"isAbsorbing",get:function(){return this._isAbsorbing},set:function(e){this.shouldAbsorb&&e?this._isAbsorbing=!0:this._isAbsorbing=!1}},{key:"creationComplete",value:function(){var e=this;(0,m.default)((0,y.default)(ADropper.prototype),"creationComplete",this).call(this),this.init(),this.on(NBEvent.del.PREPARE_DELETE,function(){e.tubeDrip&&(e.tubeDrip.isDripping=!1)}),this.hasCovered=!0}},{key:"init",value:function(){this.addChild(this.dripArea),this.dragRect={enabled:!1},this.tubeDrip=new c(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y+23.6},1e3,.05,.05,d),this.holdTime=0,this.smallDropper.alpha=0,this._shouldDrop=!1,this.firstDrip=!1,this.shouldAbsorb=!1,this.drop.alpha=0,this.addListeners(),NBGesture.addGesture(this.dripArea,NBGesture.gesture.HOLD,50,!0)}},{key:"shouldDrop",get:function(){return this._shouldDrop},set:function(e){this._shouldDrop=e,this.tubeDrip.oneDrip=this.firstDrip,this.tubeDrip.isDripping=e}},{key:"switchState",value:function(e){e?(this.bigDropper.alpha=0,this.smallDropper.alpha=1):(this.smallDropper.alpha=0,this.bigDropper.alpha=1)}},{key:"addListeners",value:function(){var u=this;this.dripArea.on(NBGesture.gesture.HOLD,function(e){switch(e.type){case"begin":u.notHandleEqTap=!0,u.notEqTaptimer&&(clearTimeout(u.notEqTaptimer),u.notEqTaptimer=null),u.firstDrip=!0,u.switchState(!0),(u.addedBottle||1e-6<u.getCurrentCapacity())&&(u.shouldDrop=!0),u.shouldAbsorb=!1,u.isAbsorbing=!1,u.holdTime=0,u.autoAbsorb=!1;break;case"end":u.notEqTaptimer=setTimeout(function(){u.notHandleEqTap=!1,u.notEqTaptimer=null},200),u.switchState(!1),u.firstDrip=!1,u.shouldDrop=!1;var t=u.dripMouth.toGlobal({x:0,y:0});if(u.addedBottle&&v.containsPoint(u.addedBottle.liquidVertex,t))return u.shouldAbsorb=!0,u.isAbsorbing=!0,void(u.autoAbsorb=!1);break;case"hold":u.holdTime+=50,1e-6<u.getCurrentCapacity()&&500<=u.holdTime&&(u.shouldDrop=!0,u.shouldAbsorb=!1,u.isAbsorbing=!1)}}),this.on(NBDrag.event.STOP_DRAG,function(n){for(var e=u.getSortDisHitObjects(),a=u,t=0;t<e.length;t++){var r=e[t].objB;if(-1===a.cannotHitAry.indexOf(r.name)){var i=!1,o=!1;if(u.perfectHitObj()&&u.perfectHitObj()!==r)return;r instanceof BigBeaker||r instanceof SmallBeaker||r instanceof HugeBeaker?i=!0:r instanceof p&&(o=!0);var s=r.bg?u.hitTest(r.bg):u.hitTest(r);if(s&&(r instanceof BaseLiquidMedicine||r instanceof d&&r.capacityVertex&&0<r.capacityVertex.length&&!r.getCollisionRelation(u,r))&&!r.isCovered()&&!(r instanceof BaseSolidMedicine)&&(!u.dragRect||!u.dragRect.enabled)&&r.eqLimitBounds&&!("BaseGasMedicineInGasBag"===r.name||"DripHole"===r.name||r.isLiquidMedicine&&r.children.find(function(e){return"ADropper"===e.name||"LongADropper"===e.name}))){if("PaperFlower"===r.name){var l=r.position;return void TweenMax.to(u,.5,{x:l.x-(r.width-u.width)/2,y:l.y-u.height-50})}NBDrag.removeDrag(u),u.needAddToViewStack=!0,r.addChildAtWithSamePos(u,0);var l=(u.addedBottle=r).capacityVertex.length,h=r.localBounds.x+r.localBounds.width/2,c=0,c=r instanceof BaseLiquidMedicine?"LongADropper"===u.name?-500:-180:r.capacityVertex[l-1].get_y()-300;return void(i?function(){var e=0,t=r.eqLimitBounds.width,i=r.eqLimitBounds.height/3;switch(r.name){case"SmallBeaker":e=2;break;case"BigBeaker":e=2.5;break;case"HugeBeaker":e=2}u.inBeaker=!0,TweenMax.to(u,.5,{x:h,y:c,onComplete:function(){u.dragRect={x:u.x-t/3+10,y:u.y-i,width:t/3*2,height:i*e,enabled:!0},NBDrag.addDrag(u,u.dragRect),u.off(NBDrag.event.PREPARE_DRAG,a.eqAddToViewStack)}}),u.on("outTopBounds",u.changeStyle)}():o?TweenMax.to(u,.5,{x:21,y:c,onComplete:function(){u.isAbsorbing=!0,NBDrag.addDrag(u)}}):function(){var e=!1;u.autoAbsorb=!1;var t=u.toLocal(n.evt.globalP),i=t.x,t=t.y;(e=i>=u.dripArea.x&&i<=u.dripArea.width&&t>=u.dripArea.y&&t<=u.dripArea.height?!0:e)&&(u.isAbsorbing=!0,u.switchState(!0)),TweenMax.to(u,.5,{x:h,y:c,onComplete:function(){e&&(u.switchState(!1),u.firstDrip=!0,u.isAbsorbing=!0,u.shouldDrop=!1,u.shouldAbsorb=!0,u.autoAbsorb=!0),NBDrag.addDrag(u)}})}())}}}u.parent==u.getEqLayer()&&(u.currentContainer=void 0)}),this.on(NBDrag.event.PREPARE_DRAG,function(){u.addedBottle&&u.needAddToViewStack&&(u.needAddToViewStack=!1,u.inBeaker||u.getEqLayer().addChildAtWithSamePos(u,0))}),this.on(NBDrag.event.START_DRAG,function(){u.addedBottle&&u.addedBottle instanceof BaseLiquidMedicine&&(u.inBeaker||u.getEqLayer().addChildAtWithSamePos(u,0))})}},{key:"changeStyle",value:function(){this.dragRect.enabled=!1,this.inBeaker=!1,this.off("outTopBounds",this.changeStyle),this.eqAddToViewStack(),this.currentContainer=void 0,isNaN(this.lastRotation)&&(this.rotation==this.lastRotation||TweenMax.isTweening(this)||(TweenMax.to(this,.3,{rotation:0}),this.lastRotation=void 0))}},{key:"update",value:function(e){(0,m.default)((0,y.default)(ADropper.prototype),"update",this).call(this,e);var t=this.getCurrentCapacity(),e=this.getTotalCapacity();if(!this.autoAbsorb){if(!this.isAbsorbing||!this.addedBottle)return void(this.isAbsorbing=!1);if(e<=t||!v.containsPoint(this.addedBottle.liquidVertex,this.dripMouth.toGlobal({x:0,y:0})))return void(this.shouldAbsorb=!1)}var i=this.dripMouth.toGlobal({x:0,y:0});if(this.addedBottle&&v.containsPoint(this.addedBottle.liquidVertex,i)){var n=.1;e<t+.1&&(n=e-t,this.autoAbsorb=!1);var a=this.addedBottle;if(1<a.liquidGra.length){for(var r,o,s,l=[],h=0,c=a.liquidGra.length;h<c;h++)if((s=a.liquidGra[h]).liquidBg.allowGetBounds=!0,o=s.liquidBg.hitTestPoint(i),s.liquidBg.allowGetBounds=!1,o&&0!==s.med.getMol())if(r=s.med.deepClone(),o=(o=s.solute)||{capacity:0},n<(s=r.getVol()+o.capacity)){var u,d=n/s;for(u in r.setMol(r.getMol()*d),l.push(r),o)"capacity"!==u&&(r=a.medicineData.liquidAry.quickMap.get(u))&&((r=r.deepClone()).setMol(r.getMol()*d),l.push(r))}else for(var p in l.push(r),o)"capacity"!==p&&(r=a.medicineData.liquidAry.quickMap.get(p))&&(r=r.deepClone(),l.push(r));if(!a.isLiquidMedicine)for(var f,I=0,g=l.length;I<g;I++)r=l[I],(f=a.medicineData.liquidAry.quickMap.get(r.name)).setMol(f.getMol()-r.getMol())}else l=a.medicineData.covertVolumeToLiquid(n),a.isLiquidMedicine||(a.setCurrentCapacity(a.getCurrentCapacity()-n),a.currentCapacity=a.medicineData.getCapacity());this.addMedicine(l)}else this.autoAbsorb=!1}},{key:"addMedicine",value:function(e){(0,m.default)((0,y.default)(ADropper.prototype),"addMedicine",this).call(this,e),this.addedBottle&&v.containsPoint(this.addedBottle.liquidVertex,this.dripMouth.toGlobal({x:0,y:0}))&&(e=(e=this.addedBottle.liquidGra)[e.length-1],this.defaultColor=e.liquidColor||16777215,e=1===(e=e.liquidAlpha)?.2:e,this.defaultAlpha=e=.5<e?.5:e)}},{key:"toJSON",value:function(){return(0,n.default)((0,m.default)((0,y.default)(ADropper.prototype),"toJSON",this).call(this),{shouldAbsorb:this.shouldAbsorb,addedBottle:this.addedBottle?this.addedBottle.getUUID():void 0,firstDrop:this.firstDrip,defaultColor:this.defaultColor,defaultAlpha:this.defaultAlpha})}},{key:"setJSON",value:function(e){var t=this;(0,m.default)((0,y.default)(ADropper.prototype),"setJSON",this).call(this,e),e.addedBottle&&this.getEquipmentByUUID(e.addedBottle).then(function(e){t.addedBottle=e});var i=this.parent;(i instanceof BigBeaker||i instanceof SmallBeaker||i instanceof HugeBeaker)&&this.on("outTopBounds",this.changeStyle),i instanceof BaseLiquidMedicine&&i.parent.addChildWithSamePos(this),this.shouldAbsorb=e.shouldAbsorb,this.firstDrip=e.firstDrip,e.defaultColor&&(this.defaultColor=e.defaultColor),e.defaultAlpha&&(this.defaultAlpha=e.defaultAlpha)}}]),ADropper}();e.exports=ADropper},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(AlcoholLampNetCover,d);var t=u(AlcoholLampNetCover);function AlcoholLampNetCover(){var e;return(0,r.default)(this,AlcoholLampNetCover),(e=t.call(this)).name="AlcoholLampNetCover",e.CNName="酒精灯罩",e.z_index=27,e}return(0,o.default)(AlcoholLampNetCover,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(AlcoholLampNetCover.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.STOP_DRAG,this._adsorb_)}},{key:"_adsorb_",value:function(){for(var e=this,t=this.getSortDisHitObjects(),i=0;i<t.length;i++)if("AlcoholBurner"===t[i].objB.name){var n=t[i].objB;n.isCovered()||n.isCoverByAlcoholLampNet()||(NBDrag.removeDrag(this),n.addChildWithSamePos(this),TweenMax.to(this,.3,{x:-55,y:-150,onComplete:function(){NBDrag.addDrag(e)}}));break}}}]),AlcoholLampNetCover}()},function(e,t,h){"use strict";var a=h(4),s=h(44),l=h(42),c=h(43),u=h(37),AsbestosFreeWireGauze=h(0),r=AsbestosFreeWireGauze(h(69)),o=AsbestosFreeWireGauze(h(95)),d=AsbestosFreeWireGauze(h(9)),i=AsbestosFreeWireGauze(h(1)),n=AsbestosFreeWireGauze(h(2)),p=AsbestosFreeWireGauze(h(7)),f=AsbestosFreeWireGauze(h(5)),I=AsbestosFreeWireGauze(h(6)),g=AsbestosFreeWireGauze(h(3));function m(e,t){var i=void 0!==l&&e[c]||e["@@iterator"];if(!i){if(u(e)||(i=function(e,t){if(e){if("string"==typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function v(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,g.default)(i);return t=n?(e=(0,g.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,I.default)(this,t)}}var C=h(8),M=h(50),b=nape.shape.Polygon,x=h(123),O=h(57),A=h(18),T=h(10),AsbestosFreeWireGauze=function(){(0,f.default)(AsbestosFreeWireGauze,C);var t=v(AsbestosFreeWireGauze);function AsbestosFreeWireGauze(){var e;return(0,i.default)(this,AsbestosFreeWireGauze),(e=t.call(this)).isAsbestosFreeWireGauze=!0,e.blockMedicine=null,e.name="AsbestosFreeWireGauze",e.CNName="陶土网",e.z_index=13,e}return(0,n.default)(AsbestosFreeWireGauze,[{key:"creationComplete",value:function(){var t=this;(0,p.default)((0,g.default)(AsbestosFreeWireGauze.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),(0,r.default)(this.bg,{onBalance:{set:function(e){t.bg._onBalance=e,t.parent&&t.parent.addChildAt(t,t.parent.children.length-1)},get:function(){return t.bg._onBalance}}});var e=this.bg.getLocalBounds();e.x+=this.x+this.bg.x,e.y+=this.y+this.bg.y;var i=new b(b.box(e.width,20));this.body=new M(x.KINEMATIC),this.body.mass=30,this.body.add(i),this.body.noallowRotation=!0,this.body.posx=e.x,this.body.posy=e.y,this.body.userData.view=this.bg,this.func_addBodyToSpace(this.body,this),this.solidVo={},this.bg.napeObj=this.body;var n=this;this.bg.getViewStack=function(){return n.getViewStack()},this.burnRemain.scale.x=0,this.burnRemain.scale.y=0,this.on("dragObjComplete",this.topContainer),this.on(NBDrag.event.STOP_DRAG,this.dropRemain),this.dropRemainAry=["BigTestTube","SmallTestTube","BigBeaker","SmallBeaker","HugeBeaker","BigEvaporatingDish","EvaporatingDish","ConicalFlask100ml","ConicalFlask250ml","Crucible"],this.initPosition(),this.updateTransform(),this.updateGlobalAry(),this.blockSetPos={x:178.3,y:7.3},this.offset={left:-276,right:95,top:-30,bottom:10}}},{key:"initPosition",value:function(){this.bgPosition={x:this.bg.x,y:this.bg.y}}},{key:"func_addBodyToSpace",value:function(e,t,i){t&&(e.userData.coordinateField=t),i&&e.userData.view&&(e.userData.bindupdate={func:e.userData.view.update,field:e.userData.view}),e.set_space(this.root.nape.space)}},{key:"eqStopDrag",value:function(){var e=this;(0,p.default)((0,g.default)(AsbestosFreeWireGauze.prototype),"eqStopDrag",this).call(this);for(var Balance=h(267),t=this.root.viewStack.eqLayer.children,i=0,n=t.length;i<n;i++){var a=t[i];a instanceof Balance&&a.checkHit(this.bg)}for(var r=this.getSortDisHitObjects(),o=0;o<r.length;o++){var s=r[o].objB;if("BlastAlcoholBurner"===s.name){var l=this.getEqLayer().toLocal(s.toGlobal({x:-85,y:-22}));TweenMax.to(this,.3,{x:l.x,y:l.y,onComplete:function(){s.topFireParticle.fireStatus=0,e.burner=s}});break}}}},{key:"eqPrepareDrag",value:function(){var e;(0,p.default)((0,g.default)(AsbestosFreeWireGauze.prototype),"eqPrepareDrag",this).call(this),this.body&&this.body.get_type()==nape.phys.BodyType.get_DYNAMIC()&&(this.body.set_type(nape.phys.BodyType.get_KINEMATIC()),this.body.setShapeFilters(new nape.dynamics.InteractionFilter)),this.burner&&((e=this.burner).topFireParticle.fireStatus=e.curCycleLen/e.maxCycleLen,this.burner=null)}},{key:"eqPrepareDelete",value:function(){(0,p.default)((0,g.default)(AsbestosFreeWireGauze.prototype),"eqPrepareDelete",this).call(this);try{this.body.set_space(null)}catch(e){}}},{key:"setContentMass",value:function(){if(this.body){if(this.body.mass=30,this.solidVo)for(var e in this.solidVo)this.body.mass+=this.solidVo[e].getVol()*this.solidVo[e].getDensity();this.blockMedicine&&(this.body.mass+=this.blockMedicine.getMass())}}},{key:"updateBurnRemain",value:function(){var e,t=this.solidVo,i=0,n=0;if(!t)return this.burnRemain.scale.x=0,void(this.burnRemain.scale.y=0);for(e in t)i+=t[e].getVol(),n+=t[e].getMol();var a=O.getMixColor(n,(0,o.default)(t)).number,r=i/4;this.colorFilter.apply(this.burnRemain,[a,0]),0<(r=2<r?2:r)?(this.hasBurnReMain=!0,this.burnRemain.scale.x=r,this.burnRemain.scale.y=r):this.hasBurnReMain=!1}},{key:"addProduct",value:function(e){this.solidVo||(this.solidVo={});var t,i=e.getMol();this.currentChildHitObj&&this.currentChildHitObj.needBottleSmoke&&"NaCl"===e.name&&this.currentChildHitObj.pushSmokeMedicine instanceof Function&&(t=e.deepClone().setMol(i/2),this.currentChildHitObj.pushSmokeMedicine(t),i/=2),this.solidVo[e.name]?(i=this.solidVo[e.name].getMol()+i,this.solidVo[e.name].setMol(i)):this.solidVo[e.name]=e,this.updateBurnRemain()}},{key:"topContainer",value:function(e){var t=this;"BaseGasMedicine"!==(e=e.dragObj).name&&"GasCollectingBottle"!==e.name||(this.blockMedicine&&(this.blockMedicine.container=e),e.hasCovered=!0,e.once(NBDrag.event.PREPARE_DRAG,function(){t.blockMedicine&&(t.blockMedicine.container=null);e.hasCovered=!1}))}},{key:"updateGlobalAry",value:function(){var e=this.bg.getBounds(),t=e.x,i=e.y,n=e.width,e=e.height;this.globalAry=[{x:t,y:i},{x:t+n,y:i},{x:t+n,y:i+e},{x:t,y:i+e}]}},{key:"dropRemain",value:function(){var e,t,i,n,a,r;this.updateGlobalAry(),(this.hasBurnReMain||this.blockMedicine)&&(a=(e=this).getSortDisHitObjects(),(t=this.findNotRotateContainer(a))&&t.pourIn&&(i=this.toGlobal({x:0,y:0}),n=t.pourIn.toGlobal({x:0,y:0}),r=this.getViewStack().scale.x,a=(n.x-i.x)/r,r=(n.y-i.y)/r,r={x:this.x+a,y:this.y+r},NBDrag.removeDrag(e),TweenMax.to(e,.3,{x:r.x-16,y:r.y,onComplete:function(){TweenMax.to(e,.3,{rotation:-Math.PI/4,onComplete:function(){e.dropMedicine(t),TweenMax.to(e,.3,{rotation:0,onComplete:function(){NBDrag.addDrag(e)}})}})}})))}},{key:"dropMedicine",value:function(e){var t=e.pourIn.position;if(t.x-=24,this.hasBurnReMain){for(var i in this.hasBurnReMain=!1,this.solidVo){i=this.solidVo[i];e.addMedicine(i,t,1)}this.solidVo={},this.burnRemain.scale.set(0,0),delete this.dropPowder}if(this.blockMedicine){var n=this.blockMedicine;e.addChild(this.blockMedicine),n.container=e,n.napeBody.set_position(new nape.geom.Vec2(t.x,t.y)),n.napeBody.set_space(e.engine.space);var a=n.container.rotation,r=Math.sin(a)*nb.BODY_DROP_SPEED,a=Math.cos(a)*nb.BODY_DROP_SPEED;n.napeBody.set_velocity(new nape.geom.Vec2(r,a));var o,s=n.getSolidMedicineInfo(),l=e.medicineData.solidAry,h=m(s.keys());try{for(h.s();!(o=h.n()).done;){var c=o.value,u=s.get(c);u&&(l[c]?l[c].mol+=u.mol:l[c]=u.deepClone())}}catch(e){h.e(e)}finally{h.f()}this.blockMedicine=null}t.x+=16}},{key:"findNotRotateContainer",value:function(e){if(0!=e.length){var t=this;if(i=e.find(function(e){return-1!==t.dropRemainAry.indexOf(e.objB.name)})){var i=i.objB;if(Math.abs(A.retrieveRotation(i.worldTransform))<1.2)return i;e.shift(),t.findNotRotateContainer(e)}}}},{key:"addPowder",value:function(e,t){e=this.medicineManager.getMedicineData(e),t=new SolidVO(e,t);this.addProduct(t)}},{key:"update",value:function(e){(0,p.default)((0,g.default)(AsbestosFreeWireGauze.prototype),"update",this).call(this,e),this.bgPosition.x===this.bg.x&&this.bgPosition.y===this.bg.y||(t=this.bgPosition.x-this.bg.x,i=this.bgPosition.y-this.bg.y,this.x-=t,this.y-=i,this.bg.x+=t,this.bg.y+=i);var t=this.bg.toGlobal({x:0,y:0}),i=this.globalAry[0];(.001<Math.abs(t.x-i.x)||.001<Math.abs(t.y-i.y))&&this.updateGlobalAry(),this.setContentMass()}},{key:"eqHeat",value:function(t,e){var i=this;e*=nb.ASBESTOS_CONDUCTHEAT,t=25<(t*=nb.ASBESTOS_CONDUCTHEAT)?t:25;for(var n=this.getBounds(),a=(a=this.getSortDisHitObjects(this.bg,!0,!0)).filter(function(e){return!e.objB.isBaseContainer||!e.objB.bg||e.objB.bg.hitTest(i.bg)}),r=0;r<a.length;r++){var o=a[r].objB;o.liquidVertexUp&&o.medicineData.increaseGasHeat(e,t),o.liquidVertexUp&&o.medicineData.increaseHeat(e,t),o.realCapacityVertex&&o.medicineData.increaseHeat(e,t),o.increaseTemp instanceof Function&&o.increaseTemp(n,t,this,!0)}for(var s=0;s<this.children.length;s++)this.children[s].increaseTemp instanceof Function&&this.children[s].increaseTemp(n,t,this,!0),this.children[s]instanceof T&&this.children[s].children.forEach(function(e){e.isBlockMedicine&&e.increaseTemp(n,t)})}},{key:"isFull",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t]instanceof T||"Cotton"===this.children[t].name)return!0;return(!e||"BaseGasMedicine"!==e.name&&"GasCollectingBottle"!==e.name)&&!(!this.blockMedicine&&!this.hasBurnReMain)}},{key:"toJSON",value:function(){var e,t={};for(e in this.solidVo){var i=this.solidVo[e],n=t[e]={};n.dat=i.dat,n.mol=i.mol}return(0,d.default)({currentChildHitObj:this.currentChildHitObj?this.currentChildHitObj.getUUID():null,blockMedicine:this.blockMedicine?this.blockMedicine.getUUID():null,solidVo:t,burner:this.burner?this.burner.getUUID():null},(0,p.default)((0,g.default)(AsbestosFreeWireGauze.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,p.default)((0,g.default)(AsbestosFreeWireGauze.prototype),"setJSON",this).call(this,e);var t=this;if(e.blockMedicine&&this.getEquipmentByUUID(e.blockMedicine).then(function(e){t.blockMedicine=e,NBDrag.removeDrag(e),t.blockMedicine.initNape(t)}),t.solidVo={},e.solidVo)for(var i in e.solidVo){i=e.solidVo[i],i=new SolidVO(i.dat,i.mol).deepClone();t.solidVo[i.name]=i}e.currentChildHitObj&&this.getEquipmentByUUID(e.currentChildHitObj).then(function(e){t.currentChildHitObj=e}),e.burner&&this.getEquipmentByUUID(e.burner).then(function(e){t.burner=e})}}]),AsbestosFreeWireGauze}();e.exports=AsbestosFreeWireGauze},function(e,t,Wire){"use strict";var a=Wire(4),i=Wire(0),s=i(Wire(46)),l=i(Wire(9)),n=i(Wire(1)),r=i(Wire(2)),o=i(Wire(7)),h=i(Wire(5)),c=i(Wire(6)),u=i(Wire(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=Wire(8),b=Wire(18),x=Wire(52),f=Wire(16),I=Wire(269),g=Wire(66),Wire=function(){(0,h.default)(Wire,p);var i=d(Wire);function Wire(){var e;(0,n.default)(this,Wire),(e=i.call(this)).name="Wire",e.cannotSystemDrag=!0,e.ropeBound=new PIXI.Graphics,e.ropeBound.renderable=!1,e.rubberPoint=[],e.isWire=!0,e.lastLeftPos={x:NaN,y:NaN,rotation:0},e.lastRightPos={x:NaN,y:NaN,rotation:0};for(var t=0;t<50;t++)e.rubberPoint.push({x:0,y:0});return e.z_index=21.08,e}return(0,r.default)(Wire,[{key:"creationComplete",value:function(){(0,o.default)((0,u.default)(Wire.prototype),"creationComplete",this).call(this),this.init()}},{key:"init",value:function(){var t=this;this.removeChild(this.texture);var i=((this.leftHead.rubber=this).rightHead.rubber=this).leftHead,n=this.rightHead;(0,s.default)(this.leftHead,"equipment",{set:function(e){e?i._equipment=i.rubber.addedNode[0]=e:i._equipment&&(i._equipment=i.rubber.addedNode[0]=null)},get:function(){return i._equipment}}),(0,s.default)(this.rightHead,"equipment",{set:function(e){e?n._equipment=n.rubber.addedNode[1]=e:n._equipment&&(n._equipment=n.rubber.addedNode[1]=null)},get:function(){return n._equipment}});var e=this;this.ropeRubber=new PIXI.mesh.Rope(PIXI.Texture.fromFrame("".concat(this.name,"/ElecWireLineStyleRed.png")),this.rubberPoint),this.ropeRubber.isRope=!0,this.ropeRubber.root=this.root,setTimeout(function(){t.addChildAt(t.ropeRubber,0),t.ropeRubber.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){this.parent.timer=(new Date).getTime(),this.parent.__globalPoint__=(0,l.default)({},e.data.global)})},100),this.ropeRubber.addChild(this.ropeBound),this.ropeRubber.on(NBEvent.del.PREPARE_DELETE,function(){t.ropeRubber.addChildWithSamePos(t.leftHead),t.leftHead.equipment&&t.leftHead.equipment.removeWire(t),t.leftHead.equipment=null,t.ropeRubber.addChildWithSamePos(t.rightHead),t.rightHead.equipment&&t.rightHead.equipment.removeWire(t),t.rightHead.equipment=null}),this.leftHead.on(NBEvent.del.PREPARE_DELETE,function(){e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e]})}),this.rightHead.on(NBEvent.del.PREPARE_DELETE,function(){e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e]})}),NBDrag.addDrag(this.leftHead),NBDrag.addDrag(this.rightHead),NBDrag.addDrag(this.ropeRubber),this.leftHead.isLeft=1,this.rightHead.isLeft=0,this.leftHead.brother=this.rightHead,this.rightHead.brother=this.leftHead,this.dragListeners();var a=this.root.mouseManager;function r(e){e=e.target;a.changeMouseStatus(f.status.PLUCK,!0,e)}function o(e){e=e.target;a.changeMouseStatus(f.status.PLUCK,!1,e)}this.leftHead.on(MouseEvent.MOUSE_OVER,function(e){r.call(t,e)}),this.rightHead.on(MouseEvent.MOUSE_OVER,function(e){r.call(t,e)}),this.leftHead.on(MouseEvent.MOUSE_OUT,function(e){o.call(t,e)}),this.rightHead.on(MouseEvent.MOUSE_OUT,function(e){o.call(t,e)}),this.addChild(i),this.addChild(n)}},{key:"dragListeners",value:function(){var a=this,r=!1;function t(e){var t=e.target;TweenMax.killTweensOf(t),t._gsTweenID&&delete TweenLite._internals.tweenLookup[t._gsTweenID];for(var i=this.getEquipments(),n=0;n<i.length;n++){var a,r,o=i[n];if(t.hitTest(o)&&o.allowElecWire&&!o.isFullWire())return t.equipment&&t.equipment.removeWire(t),o.addChildWithSamePos(t),void(function(e,t){var i=t.addWire(e)||t instanceof g;i&&(e.equipment=t);return i}(t,o)&&(r=b.retrieveRotation(t.worldTransform),a=b.retrieveRotation(o.worldTransform),r=t.isLeft?0:Math.PI*(0<a-r?-1:1),TweenMax.to(t,.5,{x:o.rubberPos.x,y:o.rubberPos.y,rotation:o.rubberPos.rotation+r})))}t.equipment&&(t.equipment.removeWire(t),t.equipment=null,e=b.retrieveRotation(t.worldTransform),this.getEqLayer().addChildWithSamePos(t),t.rotation=e)}function e(e){var t=e.target;TweenMax.killTweensOf(t),t._gsTweenID&&delete TweenLite._internals.tweenLookup[t._gsTweenID],t.equipment&&(t.equipment.removeWire(t),t.equipment=null,t.rotation=b.retrieveRotation(t.worldTransform));var i,n=e.data.global,e={x:0,y:0};t.lastPos&&(e={x:n.x-t.lastPos.x,y:n.y-t.lastPos.y}),t.lastPos={x:n.x,y:n.y},TweenMax.killTweensOf(t),t._gsTweenID&&delete TweenLite._internals.tweenLookup[t._gsTweenID];n=Math.sqrt(e.x*e.x+e.y*e.y);t.isLeft?(i=Math.acos(-e.x/n),0<e.y&&(i=-i)):(i=Math.acos(e.x/n),e.y<0&&(i=-i)),TweenMax.to(t,.3,{rotation:i})}this.ropeRubber.on(NBDrag.event.PREPARE_DRAG,function(e){var t;a.leftHead.equipment||a.rightHead.equipment?r=!1:(r=!0,t=e.data.global,e.target.lastPos={x:t.x,y:t.y})}),this.ropeRubber.on(NBDrag.event.DRAG_MOVE,function(e){var t,i,n=e.target;n.x=n.y=0,r&&(t=e.data.global,i={x:0,y:0},e=a.getViewStack().scale.x,i.x=(t.x-n.lastPos.x)/e,i.y=(t.y-n.lastPos.y)/e,n.lastPos={x:t.x,y:t.y},a.leftHead.equipment?(a.leftHead.equipment.x+=i.x,a.leftHead.equipment.y+=i.y):(a.leftHead.x+=i.x,a.leftHead.y+=i.y),a.rightHead.equipment?(a.rightHead.equipment.x+=i.x,a.rightHead.equipment.y+=i.y):(a.rightHead.x+=i.x,a.rightHead.y+=i.y))}),this.ropeRubber.on(NBDrag.event.STOP_DRAG,function(){a.leftHead.equipment||t.call(a,{target:a.leftHead}),a.rightHead.equipment||t.call(a,{target:a.rightHead})}),this.leftHead.addEventListener(NBDrag.event.START_DRAG,function(e){e.data.originalEvent.stopPropagation(),a.parent.addChild(a)}),this.rightHead.addEventListener(NBDrag.event.START_DRAG,function(e){e.data.originalEvent.stopPropagation(),a.parent.addChild(a)}),this.leftHead.addEventListener(NBDrag.event.STOP_DRAG,function(e){e.evt.stopPropagation(),t.call(a,e),a.parent.addChild(a)}),this.rightHead.addEventListener(NBDrag.event.STOP_DRAG,function(e){e.evt.stopPropagation(),t.call(a,e),a.parent.addChild(a)}),this.leftHead.on(NBDrag.event.PREPARE_DRAG,function(){TweenMax.killTweensOf(a.leftHead),a.leftHead._gsTweenID&&delete TweenLite._internals.tweenLookup[a.leftHead._gsTweenID],a.leftHead.equipment&&a.getEqLayer().addChildWithSamePos(a.leftHead)}),this.rightHead.on(NBDrag.event.PREPARE_DRAG,function(){TweenMax.killTweensOf(a.rightHead),a.rightHead._gsTweenID&&delete TweenLite._internals.tweenLookup[a.rightHead._gsTweenID],a.rightHead.equipment&&a.getEqLayer().addChildWithSamePos(a.rightHead)}),this.leftHead.on(NBDrag.event.DRAG_MOVE,e.bind(this)),this.rightHead.on(NBDrag.event.DRAG_MOVE,e.bind(this))}},{key:"showMySelf",value:function(e){e?this[e].alpha=1:(this.leftHead.alpha=1,this.rightHead.alpha=1),1===this.leftHead.alpha&&1===this.rightHead.alpha&&(this.ropeRubber.alpha=1)}},{key:"updateRopePoint",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=this.getViewStack().scale.x,i=this.lastLeftPos.rotation,n=this.lastRightPos.rotation;this.lastLeftPos.x===e.x&&this.lastLeftPos.y===e.y||(i=b.retrieveRotation(this.leftHead.worldTransform)),this.lastLeftPos=e,this.lastLeftPos.rotation=i,this.lastRightPos.x===t.x&&this.lastRightPos.y===t.y||(n=b.retrieveRotation(this.rightHead.worldTransform)),this.lastRightPos=t,this.lastRightPos.rotation=n;var r=x.distance(e,t),a=Math.min(80,r/2)*Math.sqrt(a);this.leftHead.equipment&&-1===this.leftHead.equipment.scale.x?this.leftHead.scale.y=-1:this.leftHead.scale.y=1,this.rightHead.equipment&&-1===this.rightHead.equipment.scale.x?this.rightHead.scale.y=-1:this.rightHead.scale.y=1;var o=e.x+a*Math.cos(i),s=e.y+a*Math.sin(i),l=t.x-a*Math.cos(n),h=t.y-a*Math.sin(n);this.ropeBound.clear(),this.ropeBound.beginFill(16711680,1);for(var c,u,d=2*(a=2,n=25,Math.pow(n,a)),p=0;p<50;p++){var f=(I=d,f=2,(c=p)<=(u=25)?Math.pow(c,f)/I:1-Math.pow(2*u-c,f)/I),I=e.x*Math.pow(1-f,3)+3*o*f*Math.pow(1-f,2)+3*l*Math.pow(f,2)*(1-f)+t.x*Math.pow(f,3),f=e.y*Math.pow(1-f,3)+3*s*f*Math.pow(1-f,2)+3*h*Math.pow(f,2)*(1-f)+t.y*Math.pow(f,3);this.rubberPoint[p]=this.toLocal({x:I,y:f})}for(var g=[],m=0;m<49;m++){var y=this.rubberPoint[m],v=this.rubberPoint[m+1],C=x.interpolate(y,v,.5),y=Math.atan2(v.y-y.y,v.x-y.x);g[m]={x:C.x+35*Math.sin(y),y:C.y-35*Math.cos(y)},g[97-m]={x:C.x-35*Math.sin(y),y:C.y+35*Math.cos(y)}}this.ropeBound.moveTo(this.rubberPoint[0].x,this.rubberPoint[0].y);for(var M=0;M<g.length;M++)this.ropeBound.lineTo(g[M].x,g[M].y);this.ropeBound.endFill()}},{key:"update",value:function(e){var t;(0,o.default)((0,u.default)(Wire.prototype),"update",this).call(this,e),this.calculationElectro||I.calEffect(this),this.calculationElectro=!1,this.leftHead&&(t=this.leftHead.toGlobal({x:-5,y:0}),this.rightHead.parent.updateTransform(),e=this.rightHead.toGlobal({x:5,y:0}),this.updateRopePoint(t,e,this.leftHead.rotation,this.rightHead.rotation))}},{key:"toJSON",value:function(){return(0,l.default)((0,o.default)((0,u.default)(Wire.prototype),"toJSON",this).call(this),{leftHeadPos:{x:this.leftHead.x,y:this.leftHead.y},rightHeadPos:{x:this.rightHead.x,y:this.rightHead.y},leftRotation:this.leftHead.rotation,rightRotation:this.rightHead.rotation,leftEquipment:this.leftHead.equipment?this.leftHead.equipment.getUUID():void 0,rightEquipment:this.rightHead.equipment?this.rightHead.equipment.getUUID():void 0})}},{key:"setJSON",value:function(t){var i=this;(0,o.default)((0,u.default)(Wire.prototype),"setJSON",this).call(this,t),this.catheterIsStoped=t.catheterIsStoped,t.leftEquipment?this.getEquipmentByUUID(t.leftEquipment).then(function(e){e.addChild(i.leftHead),e.addWire(i.leftHead),i.leftHead.equipment=e,i.leftHead.x=t.leftHeadPos.x,i.leftHead.y=t.leftHeadPos.y,i.leftHead.rotation=t.leftRotation,i.showMySelf("leftHead")}):(this.leftHead.x=t.leftHeadPos.x,this.leftHead.y=t.leftHeadPos.y,this.leftHead.rotation=t.leftRotation,this.showMySelf("leftHead")),t.rightEquipment?this.getEquipmentByUUID(t.rightEquipment).then(function(e){e.addChild(i.rightHead),e.addWire(i.rightHead),i.rightHead.equipment=e,i.rightHead.x=t.rightHeadPos.x,i.rightHead.y=t.rightHeadPos.y,i.rightHead.rotation=t.rightRotation,i.showMySelf("rightHead")}):(this.rightHead.x=t.rightHeadPos.x,this.rightHead.y=t.rightHeadPos.y,this.rightHead.rotation=t.rightRotation,this.showMySelf("rightHead"))}}]),Wire}();e.exports=Wire},function(e,t,BunsenBurner){"use strict";var a=BunsenBurner(4),i=BunsenBurner(0),n=i(BunsenBurner(1)),r=i(BunsenBurner(2)),o=i(BunsenBurner(7)),s=i(BunsenBurner(5)),l=i(BunsenBurner(6)),h=i(BunsenBurner(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BunsenBurner(8),d=BunsenBurner(16),p=BunsenBurner(34),f=BunsenBurner(11),I=BunsenBurner(57),g=92,m=-8,BunsenBurner=function(){(0,s.default)(BunsenBurner,u);var t=c(BunsenBurner);function BunsenBurner(){var e;return(0,n.default)(this,BunsenBurner),(e=t.call(this)).name="BunsenBurner",e.CNName="本生灯",e.z_index=11.02,e}return(0,r.default)(BunsenBurner,[{key:"creationComplete",value:function(){var n=this;(0,o.default)((0,h.default)(BunsenBurner.prototype),"creationComplete",this).call(this),this.innerParticle=null,this._colorPercent=0;var a=p.getParticle(p.particles.BunsenBurner_innerFire);this.fireRect.renderable=!1,this.on(NBEvent.del.PREPARE_DELETE,function(){n.innerParticle&&(n.innerParticle.parent.removeChild(a),n.innerParticle.destroy())}),a.on("particle_load",function(){n.startColor=a.getParticleProp("startColor"),n.endColor=a.getParticleProp("endColor");var e=[138,222,255],t=[25,198,255];n.disStartColor=[],n.disEndColor=[];for(var i=0;i<3;i++)n.disStartColor.push(e[i]-n.startColor[i]),n.disEndColor.push(t[i]-n.endColor[i])}),this.lightOnRef.interactive=!0,this.btn.interactive=!0,this.addListeners()}},{key:"onFire",get:function(){return null!==this.innerParticle},set:function(e){e?null===this.innerParticle&&(this.innerParticle=p.getParticle(p.particles.BunsenBurner_innerFire),this.innerParticle.allowGetBounds=!1,this.getViewStack().addChild(this.innerParticle),this.innerParticle.bind(this,g,m),this.colorPercent=this._colorPercent):this.innerParticle&&(I.destroy(this.innerParticle),this.innerParticle=null)}},{key:"colorPercent",get:function(){return this._colorPercent},set:function(e){var t=this;if(e=Math.max(0,Math.min(1,e)),this._colorPercent=e,this.innerParticle){for(var i=[],n=[],a=0;a<this.startColor.length;a++)i.push(e*this.disStartColor[a]+this.startColor[a]),n.push(e*this.disEndColor[a]+this.endColor[a]);this.innerParticle.on("particle_load",function(){t.innerParticle.setParticleProp("startColor",i),t.innerParticle.setParticleProp("endColor",n)}),this.innerParticle.setParticleProp("startColor",i),this.innerParticle.setParticleProp("endColor",n)}}},{key:"getLightOnPoint",value:function(){return this.lightOnRef.toGlobal({x:0,y:0})}},{key:"addIonFire",value:function(e,t){var i=this;t instanceof Array||(t=[t>>16,t>>8&255,255&t]);var n=p.getParticle(p.particles.BunsenBurner_innerFire);return n.mask=e,n.on("particle_load",function(){n.setParticleProp("startColor",t),n.setParticleProp("endColor",t),i.getViewStack().addChild(n)}),n.bind(this,g,m),n}},{key:"addListeners",value:function(){var t,i=this,e=this.root.mouseManager;d.addMouseEvent(e,this.btn,d.status.STRETCH),d.addMouseEvent(e,this.lightOnRef,d.status.PAN),this.on(NBEvent.del.PREPARE_DELETE,function(){i.innerParticle&&(I.destroy(i.innerParticle),i.innerParticle=null)}),this.lightOnRef.on(TouchEvent.TOUCH_BEGIN,function(){i.onFire=!i.onFire});var n=!1;this.btn.on(TouchEvent.TOUCH_BEGIN,function(e){t=e.data.global.y,n=!0,NBDrag.removeDrag(i)}),this.btn.on(TouchEvent.TOUCH_MOVE,function(e){n&&(e=e.data.global.y,i.colorPercent+=(t-e)/200,t=e)}),this.on(TouchEvent.TOUCH_END,function(){n=!1}),this.on(TouchEvent.TOUCH_END_OUTSIDE,function(){n=!1,NBDrag.addDrag(i)})}},{key:"lightOn",value:function(){this.onFire||(this.onFire=!0)}},{key:"lightOff",value:function(){this.onFire&&(this.onFire=!1)}},{key:"render",value:function(){this.innerParticle&&(this.innerParticle.ifScaleParticle=!0,this.innerParticle.render())}},{key:"update",value:function(e){var t;(0,o.default)((0,h.default)(BunsenBurner.prototype),"update",this).call(this,e),this.render(),this.onFire&&(t=this.fireRect.children[0].getBounds(),this.newRadiantHeat(f.ALCOHOL_HEAT_VALUE,t,e,f.TEMP_BUNSEN_BURNER,!1,!1,this.innerParticle))}}]),BunsenBurner}();e.exports=BunsenBurner},function(e,t,CatheterGroup){"use strict";var a=CatheterGroup(4),i=CatheterGroup(0),n=i(CatheterGroup(1)),r=i(CatheterGroup(2)),o=i(CatheterGroup(19)),s=i(CatheterGroup(5)),l=i(CatheterGroup(6)),h=i(CatheterGroup(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=CatheterGroup(8),CatheterGroup=function(){(0,s.default)(CatheterGroup,u);var t=c(CatheterGroup);function CatheterGroup(){var e;return(0,n.default)(this,CatheterGroup),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(CatheterGroup,[{key:"redoAdd",value:function(){function e(e,t,i,n){e.addChild(t),((t._equipment=e).addedRubber=t).x=e.rubberPos.x,t.y=e.rubberPos.y,n?i.addedNode[0]=e:i.addedNode[1]=e,e.emit("appendEquipment",i)}this.left.x=10+this.x,this.left.y=this.y,e(this.left,this.rubber.leftHead,this.rubber,!0),e(this.right,this.rubber.rightHead,this.rubber,!1)}},{key:"creationComplete",value:function(){var e=this;this.left=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),this.right=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter");var t=this.isWhole?"RubberCatheterBrown":"RubberCatheter";this.rubber=this.execute(NBCommand.CREATE_EQUIPMENT,t);var a=!(this.executeEq=[this.left,this.right,this.rubber]),r=!1,o=!1;this.rubber.on("creationComplete",function(){a=!0,r&&i(e.left,e.rubber.leftHead,e.rubber,!0),o&&i(e.right,e.rubber.rightHead,e.rubber,!1)}),this.left.on("creationComplete",function(){e.left.updateCurveGlass(Math.PI),e.left.x=10+e.x,e.left.y=e.y,r=!0,a&&i(e.left,e.rubber.leftHead,e.rubber,!0)}),this.right.on("creationComplete",function(){e.right.updateCurveGlass(0),e.right.x=550+e.x,e.right.y=e.y,o=!0,a&&i(e.right,e.rubber.rightHead,e.rubber,!1)}),this.isWhole&&(this.left.broCatheter=this.right,this.left.linkRubber=this.rubber,this.right.linkRubber=this.rubber,this.right.broCatheter=this.left,this.left.on(NBEvent.del.PREPARE_DELETE,function(){e.left.broCatheter&&(e.right.linkRubber=null,e.right.broCatheter=null,e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e.left.broCatheter,e.left.linkRubber]}),e.left.broCatheter=null,e.left.linkRubber=null)}),this.right.on(NBEvent.del.PREPARE_DELETE,function(){e.right.broCatheter&&(e.left.linkRubber=null,e.left.broCatheter=null,e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e.right.broCatheter,e.right.linkRubber]}),e.right.broCatheter=null,e.right.linkRubber=null)})),this.cannotSystemDrag=!0,NBDrag.addDrag(this.left),NBDrag.addDrag(this.right);var s=this.getViewStack(),l=this,h=!1;function i(e,t,i,n){e.addChild(t),((t._equipment=e).addedRubber=t).x=e.rubberPos.x,t.y=e.rubberPos.y,n?i.addedNode[0]=e:i.addedNode[1]=e,e.emit("appendEquipment",i),s.addChildAt(l.rubber,0),s.addChild(l.left),s.addChild(l.right),a&&r&&o&&!h&&(h=!0,l.emit("assemblyCompleted",{eq:l}))}}}]),CatheterGroup}();e.exports=CatheterGroup},function(e,t,CombustionSpoon){"use strict";var a=CombustionSpoon(4),i=CombustionSpoon(0),d=i(CombustionSpoon(129)),p=i(CombustionSpoon(95)),n=i(CombustionSpoon(1105)),r=i(CombustionSpoon(9)),o=i(CombustionSpoon(59)),s=i(CombustionSpoon(1)),l=i(CombustionSpoon(2)),h=i(CombustionSpoon(7)),c=i(CombustionSpoon(5)),u=i(CombustionSpoon(6)),f=i(CombustionSpoon(3));function I(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(i);return t=n?(e=(0,f.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var g=CombustionSpoon(10),m=CombustionSpoon(41),y=CombustionSpoon(11),v=CombustionSpoon(26),C=CombustionSpoon(21),M=CombustionSpoon(123),b=CombustionSpoon(180).doubleRectEqAry2,x={S:300,P:400,Mg:550,C:500},O=PIXI.Point,CombustionSpoon=function(){(0,c.default)(CombustionSpoon,g);var t=I(CombustionSpoon);function CombustionSpoon(){var e;return(0,s.default)(this,CombustionSpoon),(e=t.call(this)).name="CombustionSpoon",e.CNName="燃烧匙",e.z_index=19,e.pU=new O(28,550),e.pM=new O(28,580),e.addSolidMedPos=new O(28,580),e.candle=null,e.candleP=new O(34,640),e.isCombustionSpoon=!0,e}return(0,l.default)(CombustionSpoon,[{key:"creationComplete",value:function(){var e=this;(0,h.default)((0,f.default)(CombustionSpoon.prototype),"creationComplete",this).call(this);var t=this.getChildIndex(this.spoon);this.setChildIndex(this.particleMedContainer,t-1),this.lightOnPoint=[{x:this.spoon.x+this.spoon.width/2,y:this.spoon.y+this.spoon.height/2}],this.temp=y.DEFAULT_TEMP,this.heatReact=new PIXI.Rectangle(0,0,this.width,this.width),this.getParticleMask(),this.isDynamicNBGraphics=!0,this.isStaticNBGraphics=!1,this.fireCount=0,this.on(NBDrag.event.START_DRAG,function(){e.frezzChildBody(!0)}),this.on(NBDrag.event.STOP_DRAG,function(){e.frezzChildBody(!1)}),this.reversalX=0,this.test=b[this.name]}},{key:"reversalX",get:function(){return this.stick0.visible?0:1},set:function(e){var t=0===e?1:-1;this["stick"+e].visible=!0,this["stick"+(1-e)].visible=!1,this.bg["stick"+e].visible=!0,this.bg["stick"+(1-e)].visible=!1,0==e?delete this.offset:"CombustionSpoon"===this.name?this.offset={topX:10,bottomX:60}:"SmallCombustionSpoon"===this.name&&(this.offset={topX:15,bottomX:65}),this.currentContainer&&this.adsorbPos&&("top"===this.currentInArea?"CombustionSpoon"===this.name?this.x=66.1:"SmallCombustionSpoon"===this.name&&(this.x=66.1+15*e):(this.dragRect&&(this.dragRect.x=this.dragRect.x-60*t),this.x=this.adsorbPos.x+60*e,this.y=this.adsorbPos.y+10)),"NonPorousRubberPlugBig"===this.parent.name&&("SmallCombustionSpoon"===this.name&&(this.x=35-30*t),"CombustionSpoon"===this.name&&(this.x=25-40*t))}},{key:"stopAddMedicine",value:function(e){var t=this.medicineData.solidAry,t=(0,d.default)(t);if(0<t.length){t=t[0];if(e instanceof m)return!0;if(e.name!==t&&0<this.medicineData.solidAry[t].mol)return!0}return!1}},{key:"checkSpoonAlpha",value:function(){this.ifContainerSome()?this.changeSpoonAlpha(.5):this.changeSpoonAlpha(1)}},{key:"changeSpoonAlpha",value:function(e){this.spoon.alpha!=e&&(TweenMax.killTweensOf(this.spoon),TweenMax.to(this.spoon,.3,{alpha:e}))}},{key:"getSelfSolid",value:function(e){var t=this.medicineData.solidAry,t=(0,p.default)(t);if(0<t.length)return e?this.medicineData.solidAry:t[0]}},{key:"getLightOnPoint",value:function(){var t=this;return this.lightOnPoint.map(function(e){return t.toGlobal(e)})}},{key:"judgeStatus",value:function(){this.currentContainer?this.posStatus="inContainer":this.posStatus="inAir"}},{key:"getOxygenDensity",value:function(t){var e=this.toGlobal(this.lightOnPoint[0]);if(this.currentContainer){if(v.containsPoint(this.currentContainer.liquidVertex,e))return 0;var i=0,n=0;return this.currentContainer.medicineData.gasAry.forEach(function(e){"O2"==e.name&&(n+=e.mol),t&&e.name===t&&(n+=e.mol),i+=e.mol}),0==i?0:n/i}return.2}},{key:"getParticleMask",value:function(){var e,t;this.particleMask||((e=new PIXI.Graphics).beginFill(16724736,1),t=2*this.width,t=this.height-this.spoon.height-t+5,e.drawRect(0,t,this.width-16,2*this.width),e.endFill(),e.alpha=0,this.addChild(e),this.particleMask=e)}},{key:"canBurning",value:function(){var e,i=this.getSelfSolid(!0);if(!i)return!1;for(e in i){var n=this.medicineNBGraphicMap.get(e);if(n&&0<n.size&&function(){var t=25;n.forEach(function(e){e.getTemp()>t&&(t=e.getTemp())}),i[e].setTemp(t)}(),i[e].getTemp()>=Number(i[e].dat.burning_point)+10)return!0}return!1}},{key:"checkFire",value:function(){this.canBurning()?this.burnMethod():this.autoDestroy()}},{key:"heatSelf",value:function(e){var t,i;this.isBurning?(t=this.toGlobal(this.lightOnPoint[0]),i=this.getViewStack().scale.x,i=this.width*i,this.heatReact.x=t.x-i,this.heatReact.y=t.y-i/2,this.heatReact.width=2*i,this.heatReact.height=3*i/2,this.fireCount<100?this.fireCount+=10:(i=(i=this.getSelfSolid())&&i.name&&x[i.name]||x.P,this.newRadiantHeat(550,this.heatReact,e,i,!0))):(0<this.fireCount&&(this.fireCount-=5),this.fireCount<0&&(this.fireCount=0))}},{key:"autoDestroy",value:function(e){!this.fireParticle||e&&"fireParticle"!==e||(this.fireParticle.destroy(),this.fireParticle=null,this.changedStatus=null,this.isBurning=!1),!this.haloParticle||e&&"haloParticle"!==e||(this.haloParticle.destroy(),this.haloParticle=null,this.changedStatus=null),!this.smokeParticle||e&&"smokeParticle"!==e||(this.smokeParticle.destroy(),this.smokeParticle=null,this.changedStatus=null,this.currentContainer&&(this.currentContainer.needBottleSmoke=!1))}},{key:"burnMethod",value:function(){var t,e,i,n,a,r=this,o=(this.getSelfSolid(!0),(0,d.default)(this.medicineData.solidAry)),s=(0,p.default)(this.medicineData.solidAry);if(this.fireParticle&&("inAir"===this.posStatus&&this.fireParticle.fireInContainer&&(this.fireParticle.ifScaleParticle=!0,this.fireParticle.fireInContainer=!1),"inContainer"!==this.posStatus||this.fireParticle.fireInContainer||(this.fireParticle.ifScaleParticle=!0,this.fireParticle.fireInContainer=!0)),-1!==o.indexOf("S")&&0<s[o.indexOf("S")].mol){if("inAir"===this.posStatus)if(this.haloParticle&&this.autoDestroy("haloParticle"),this.fireParticle){if(this.isBurning=!0,"inAir"!=this.changedStatus&&this.fireParticle.loaded){var l=this.lightOnPoint[0];this.fireParticle.bind(this,l.x,l.y+20);if(TweenMax.killTweensOf(this),!this.fireParticle.particle)return;this.root.particleManager.changingParticle(this.fireParticle,[15,26,61],[0,0,0],.5),this.changedStatus="inAir"}}else this.fireParticle=this.root.particleManager.initSParticleInAir(this),this.fireParticle.mask=this.particleMask;"inContainer"===this.posStatus&&(l=this.getOxygenDensity(),t=0,this.currentContainer.medicineData.gasAry.forEach(function(e){"O2"===e.name&&(t=e.mol/r.currentContainer.getTotalCapacity()*1e3)}),t<=1e-5?this.autoDestroy():(this.haloParticle||(this.haloParticle=this.root.particleManager.initSParticleInO2(this,this.pU.y),this.haloParticle.alpha=.1,this.haloParticle.mask=this.currentContainer.capacityMask),this.fireParticle?(this.isBurning=!0,this.fireParticle.loaded&&(c=this.lightOnPoint[0],c=.3<l?(this.fireParticle.bind(this,c.x,c.y+10),e=[111,113,168],h=[0,24,51],.75):(this.fireParticle.bind(this,c.x,c.y+20),e=[15,26,61],h=[0,0,0],.3),this.root.particleManager.changingParticle(this.fireParticle,e,h,c),this.changedStatus="inContainer")):(this.fireParticle=this.root.particleManager.initSParticleInAir(this),this.fireParticle.mask=this.particleMask)))}else if(-1!==o.indexOf("P")&&0<s[o.indexOf("P")].mol){var h=this.lightOnPoint[0];if("inAir"===this.posStatus&&(this.fireParticle&&this.smokeParticle?"inAir"!=this.changedStatus&&(this.isBurning=!0,this.fireParticle.mask=this.particleMask,this.smokeParticle.mask=null,this.changedStatus="inAir"):(this.fireParticle||(this.fireParticle=this.root.particleManager.initPParticleInAir(this,h)),this.smokeParticle||(this.smokeParticle=this.root.particleManager.initPSmokeInAir(this,h)))),"inContainer"===this.posStatus){var c=this.getOxygenDensity(),u=0;if(this.currentContainer.medicineData.gasAry.forEach(function(e){"O2"===e.name&&(u=e.mol/r.currentContainer.getTotalCapacity()*1e3)}),u<=9e-4)return this.currentContainer.needBottleSmoke=!1,void this.autoDestroy();this.smokeParticle?this.smokeParticle.mask=this.currentContainer.capacityMask:this.smokeParticle=this.root.particleManager.initPSmokeInAir(this,h),this.fireParticle?(this.isBurning=!0,this.fireParticle.mask=this.particleMask,this.currentContainer.needBottleSmoke=.01<c,this.changedStatus="inContainer"):this.fireParticle=this.root.particleManager.initPParticleInAir(this,h)}}else-1!==o.indexOf("Mg")&&0<s[o.indexOf("Mg")].mol?("inAir"===this.posStatus&&(this.fireParticle?"inAir"!=this.changedStatus&&(this.isBurning=!0,this.fireParticle.mask=this.particleMask,this.smokeParticle.mask=null,this.changedStatus="inAir"):this.initMgParticle()),"inContainer"===this.posStatus&&(this.getOxygenDensity("N2")<.1?this.autoDestroy():this.fireParticle?(this.smokeParticle.mask=this.currentContainer.capacityMask,this.isBurning=!0,this.fireParticle.mask=this.particleMask,this.changedStatus="inContainer"):this.initMgParticle())):-1!==o.indexOf("C")&&0<s[o.indexOf("C")].mol?(s=this.lightOnPoint[0],"inAir"===this.posStatus&&(this.fireParticle?"inAir"!=this.changedStatus&&(this.isBurning=!0,this.fireParticle.mask=this.particleMask,this.changedStatus="inAir"):this.fireParticle=this.root.particleManager.initCParticleInAir(this,s),this.fireParticle.loaded&&(i=[246,145,102],n=[255,94,0],this.fireParticle.setParticleProp("startScale",1.5),this.fireParticle.setParticleProp("endScale",.9),this.fireParticle.bind(this,s.x,s.y+15),this.root.particleManager.changingParticle(this.fireParticle,i,n,.43))),"inContainer"===this.posStatus&&(o=this.getOxygenDensity(),a=0,this.currentContainer.medicineData.gasAry.forEach(function(e){"O2"===e.name&&(a=e.mol/r.currentContainer.getTotalCapacity()*1e3)}),a<=1e-5?this.autoDestroy():this.fireParticle?this.fireParticle.loaded&&(.3<o?(this.fireParticle.setParticleProp("startScale",1.7),this.fireParticle.setParticleProp("endScale",1),this.fireParticle.bind(this,s.x,s.y+10),i=[255,94,0],n=[246,145,102]):(i=[246,145,102],n=[255,94,0],this.fireParticle.setParticleProp("startScale",1.5),this.fireParticle.setParticleProp("endScale",.9)),this.root.particleManager.changingParticle(this.fireParticle,i,n,.5),this.changedStatus="inContainer"):this.fireParticle=this.root.particleManager.initCParticleInAir(this,s))):this.autoDestroy()}},{key:"initMgParticle",value:function(){this.fireParticle=ParticleUtil.getParticle(ParticleUtil.particles.mg_white_fire),this.addChild(this.fireParticle);var e=this.lightOnPoint[0];this.fireParticle.bind(this,e.x-3,e.y+36),this.fireParticle.allowGetBounds=!1,this.smokeParticle=ParticleUtil.getParticle(ParticleUtil.particles.red_lin_smoke),this.addChild(this.smokeParticle),this.getViewStack().addParticle(this.smokeParticle),this.smokeParticle.bind(this,e.x-5,e.y-30),this.smokeParticle.allowGetBounds=!1}},{key:"autoRender",value:function(){this.fireParticle&&this.fireParticle.render(),this.haloParticle&&this.haloParticle.render(),this.smokeParticle&&this.smokeParticle.render()}},{key:"autoCheckHitParentWater",value:function(){var e,t,r=this;function i(e,t){for(var i=r.currentContainer,n=0;n<e.length;n++){var a=e[n],a=i.toLocal({x:a.napeBody.posx,y:a.napeBody.posy},r);e[n].x=a.x,e[n].y=a.y,r.graphicsMoveContainer(e[n],r,i,t,a)}}this.currentContainer?(t=this.lightOnPoint[0],e=v.containsPoint(this.currentContainer.liquidVertex,this.toGlobal({x:t.x,y:t.y-10})),t=this.getSelfSolid(!0),e&&t&&0<(0,p.default)(t).length&&(this.dynamicNBGraphics(),this.medicineNBGraphicMap.forEach(function(e){i((0,o.default)(e))}),this.blockMedicineMap.forEach(function(e){i((0,o.default)(e),!0)}))):this.dynamicNBGraphics()}},{key:"staticNBGraphics",value:function(){this.isStaticNBGraphics||(this.isStaticNBGraphics=!0,this.isDynamicNBGraphics=!1,this.getAllGraphic().forEach(function(e){e.staticNBGraphics()}))}},{key:"dynamicNBGraphics",value:function(){this.isDynamicNBGraphics||(this.isDynamicNBGraphics=!0,this.isStaticNBGraphics=!1,this.getAllGraphic().forEach(function(e){e.dynamicNBGraphics()}))}},{key:"autoClearMed",value:function(){var e=this.getSelfSolid();e&&e.mol<1e-8&&(e.setMol(0),this.medicineNBGraphicMap.delete(e.name),delete this.medicineData.solidAry[e.name])}},{key:"update",value:function(e){(0,h.default)((0,f.default)(CombustionSpoon.prototype),"update",this).call(this,e),this.checkSpoonAlpha(),this.autoCheckHitParentWater(),this.judgeStatus(),this.checkFire(),this.autoRender(),this.heatSelf(e),this.autoClearMed()}},{key:"dirChanged",value:function(e){this.reversalX=e}},{key:"getConfigureData",value:function(){var e=(0,h.default)((0,f.default)(CombustionSpoon.prototype),"getConfigureData",this).call(this);return(e=!e||!e.confArr?{confArr:[]}:e).confArr.push(C.getRadio("方向",this.reversalX,["左","右"],this.dirChanged.bind(this),this),C.getButton("clear","清空",this.clearMed.bind(this),this)),e}},{key:"clearMed",value:function(){for(var e in this.blockMedicineMap.forEach(function(e){e&&0<e.size&&(0,o.default)(e).forEach(function(e){e.clear(),e.destroy()})}),this.medicineNBGraphicMap.forEach(function(e){e.forEach(function(e){e.destroy()})}),this.medicineNBGraphicMap.clear(),this.medicineData.solidAry)this.medicineData.solidAry.hasOwnProperty(e)&&delete this.medicineData.solidAry[e]}},{key:"frezzChildBody",value:function(t){this.medicineNBGraphicMap.forEach(function(e){e.forEach(function(e){e=e.napeBody;e&&e.set_type(t?M.KINEMATIC:M.DYNAMIC)})})}},{key:"canAddCandle",value:function(){return!this.candle&&0===(0,n.default)(this.medicineData.solidAry).length}},{key:"addCandle",value:function(e){(0,h.default)((0,f.default)(CombustionSpoon.prototype),"addCandle",this).call(this,e)}},{key:"tweenCandle",value:function(e){this.addChildAtWithSamePos(e,0),this.candle=e,TweenMax.to(e,.3,{x:this.candleP.x,y:this.candleP.y-e.bottomY,rotation:0})}},{key:"removeCandle",value:function(e){(0,h.default)((0,f.default)(CombustionSpoon.prototype),"removeCandle",this).call(this,e),this.candle=null}},{key:"canSpoonPour",value:function(){return!0}},{key:"toJSON",value:function(){return(0,r.default)({reversalX:this.reversalX},(0,h.default)((0,f.default)(CombustionSpoon.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,h.default)((0,f.default)(CombustionSpoon.prototype),"setJSON",this).call(this,e),void 0!==e.reversalX&&(this.reversalX=e.reversalX)}}]),CombustionSpoon}();e.exports=CombustionSpoon},function(e,t,CondenserPipeSphere){"use strict";var a=CondenserPipeSphere(4),i=CondenserPipeSphere(0),n=i(CondenserPipeSphere(9)),r=i(CondenserPipeSphere(1)),o=i(CondenserPipeSphere(2)),s=i(CondenserPipeSphere(7)),l=i(CondenserPipeSphere(5)),h=i(CondenserPipeSphere(6)),c=i(CondenserPipeSphere(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=CondenserPipeSphere(10),p=CondenserPipeSphere(16),f=CondenserPipeSphere(33),CondenserPipeSphere=function(){(0,l.default)(CondenserPipeSphere,d);var t=u(CondenserPipeSphere);function CondenserPipeSphere(){var e;return(0,r.default)(this,CondenserPipeSphere),(e=t.call(this)).name="CondenserPipeSphere",e.CNName="球形冷凝管装置",e.z_index=19.01,e.tlTargetY=-20,e}return(0,o.default)(CondenserPipeSphere,[{key:"creationComplete",value:function(){(this.ani.whiteMask.allowGettBounds=!1,s.default)((0,c.default)(CondenserPipeSphere.prototype),"creationComplete",this).call(this),this.noConfig=!0,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on("hitted",this._adsorb_),this._button_(),this.connectWater=!1}},{key:"_adsorb_",value:function(e){var t=this,e=e.hitObj;this==e||this.currentHitObj==e||TweenMax.isTweening(this)||TweenMax.isTweening(e)||e.isConnect||((this.currentHitObj=e).isConnect=!0,e.connectObj=this,e.addChildWithSamePos(this),this.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugSmall").on("creationComplete",function(){t.currentPlug=this,t.addChildAtWithSamePos(this,0),this.rotation=-1.19,this.x=19,this.y=140,t.on(NBDrag.event.PREPARE_DRAG,t._init_)}),TweenMax.to(this,.3,{x:223,y:this.tlTargetY}))}},{key:"hitObjListen",value:function(){this.on(NBDrag.event.PREPARE_DRAG,this._init_)}},{key:"_init_",value:function(){this.currentHitObj&&(this.currentHitObj.isConnect=void 0,this.currentHitObj=void 0),this.currentPlug&&(this.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[this.currentPlug]}),this.currentPlug=void 0),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this._init_)}},{key:"_button_",value:function(){var e=this,t=this.g=new PIXI.Graphics;t.beginFill(0,1),t.drawRoundedRect(0,0,160,56,10),t.alpha=.8;var i=this.getText("连通水管",{stroke:"white",fill:"white"});t.x=i.x=580,t.y=i.y=500;var n=new PIXI.Container;this.buttonCon=n,this.addChild(n),n.addChild(t),n.addChild(i),(t.textObj=i).x+=80,i.y+=28,i.anchor.set(.5),t.textObj.interactive=!1,NBGesture.addGesture(n,NBGesture.gesture.TAP,function(){e.connectWater=!0,TweenMax.killTweensOf(n),n._gsTweenID&&delete TweenLite._internals.tweenLookup[n._gsTweenID],n.parent.removeChild(n),n.removeAllListeners(),e.ani.currentFrame=2,e.ani.whiteMc.mask=e.ani.whiteMask.getChildAt(0),TweenMax.to(e.ani.whiteMask,5,{y:427})});var a=this.root.mouseManager,r=p.status.PINCH;n.on(MouseEvent.MOUSE_OVER,function(){a.changeMouseStatus(r,!0,n)}),n.on(MouseEvent.MOUSE_OUT,function(){a.changeMouseStatus(r,!1,n)})}},{key:"_animation_",value:function(e){TweenMax.to(e.scale,.5,{x:1.5,y:1.5,yoyo:!0,repeat:-1,ease:Elastic})}},{key:"isFull",value:function(){return!1}},{key:"addLiquid",value:function(){var e=this.currentHitObj;if(e&&e.gasLeakage&&e.currentPlug&&this.connectWater&&this.isConnect){for(var t=e.gasLeakage,i=0;i<t.length;i++){var n,a=t[i];a.dat&&a.dat.boiling_point&&25<a.dat.boiling_point?(n=this.medicineManager.getMedicineData(a.name),n=new f(n,a.getMol()),this.isConnect.medicineData.push(n)):a.setTemp(nb.DEFAULT_TEMP)}e.gasLeakage.length=0}}},{key:"initStuffAir",value:function(){}},{key:"update",value:function(e){(0,s.default)((0,c.default)(CondenserPipeSphere.prototype),"update",this).call(this,e)}},{key:"setConnectWater",value:function(){this.connectWater=!0,this.buttonCon.removeAllListeners(),this.removeChild(this.buttonCon),this.buttonCon=null,this.ani.currentFrame=2,this.ani.whiteMc.mask=this.ani.whiteMask.getChildAt(0),this.ani.whiteMask.y=427}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(CondenserPipeSphere.prototype),"toJSON",this).call(this),{currentHitObj:this.currentHitObj?this.currentHitObj.getUUID():null,connectWater:this.connectWater})}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(CondenserPipeSphere.prototype),"setJSON",this).call(this,e);var i=this;e.currentHitObj&&this.getEquipmentByUUID(e.currentHitObj).then(function(e){(t.currentHitObj=e).connectObj=t}),e.currentPlug&&this.getEquipmentByUUID(e.currentPlug).then(function(){i.hitObjListen()}),e.connectWater&&this.setConnectWater()}}]),CondenserPipeSphere}();e.exports=CondenserPipeSphere},function(e,t,CondenserTube){"use strict";var a=CondenserTube(4),i=CondenserTube(0),r=i(CondenserTube(46)),n=i(CondenserTube(9)),o=i(CondenserTube(1)),s=i(CondenserTube(2)),l=i(CondenserTube(7)),h=i(CondenserTube(5)),c=i(CondenserTube(6)),u=i(CondenserTube(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=CondenserTube(8),f=CondenserTube(16),I=CondenserTube(45),g=CondenserTube(33),m=CondenserTube(27),CondenserTube=function(){(0,h.default)(CondenserTube,p);var t=d(CondenserTube);function CondenserTube(){var e;return(0,o.default)(this,CondenserTube),(e=t.call(this)).name="CondenserTube",e.CNName="冷凝管",e.z_index=19.01,e.isCondenser=!0,e.medicine={},e.capacity=10,e.lastBtnRotation=0,e.maxEquipmentValue=1,e.hitObjProp={RoundBottomFlask:{x:15,y:132,rotation:-1.876},FlorenceFlask:{x:5,y:132,rotation:-1.876},DistillingFlask:{x:15,y:132,rotation:-1.876},ThreeNeckedFlask:{area1:{x:118,y:143,rotation:-1.876},area2:{x:245,y:123,rotation:-1.326}}},e.plugPos={rotation:1.876,x:132,y:114},e}return(0,s.default)(CondenserTube,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(CondenserTube.prototype),"creationComplete",this).call(this),this.nodePos=[{x:45,y:125},{x:890,y:400}],this.noConfig=!0,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on("hitted",this._adsorb_),this._button_(),this.connectWater=!1;var e=this.root.medicineManager.getMedicineData("O2"),t=this.root.medicineManager.getMedicineData("N2"),i=.2*this.capacity*e.density_gas/I.getMoleculeRelativeMass("O2"),n=.8*this.capacity*t.density_gas/I.getMoleculeRelativeMass("N2");this.medicine.gasAry=[],this.medicine.capacity=this.capacity,this.medicine.liquidAry=[],this.medicine.leakageMedicine=[],(0,r.default)(this.medicine.gasAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return e}}),(0,r.default)(this.medicine.liquidAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return e}}),(0,r.default)(this.medicine.leakageMedicine,"mol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].mol;return e}}),this.medicine.gasAry.push(new m(e,i)),this.medicine.gasAry.push(new m(t,n)),this.medicine.getCurrentCapacity=function(){var t=0;return this.gasAry.forEach(function(e){t+=e.getVol()}),this.liquidAry.forEach(function(e){t+=e.getVol()}),t};var f=this;this.medicine.pop=function(e,t){for(var i,n=this.getCurrentCapacity(),a=!1,r=this.leakageMedicine.length=0;r<this[e].length;r++){var o=this[e][r],s=o.getVol()/this[e].vol*t*o.getDensity()/o.mm;if(isNaN(s)||0==s)return;var l=void 0,l="gasAry"===e?(i="liquidAry",new m(o.dat,s)):(i="gasAry",new g(o.dat,s));o.mol-=s,o.mol<=0&&(a=!0,l.mol=s+o.mol,this[e].splice(r,1),r--),f.connectWater||l.setTemp(o.getTemp()),this.leakageMedicine.push(l)}if(a)for(var h=(n=this.getCurrentCapacity())-this.capacity,c=0;c<this[i].length;c++){var u=this[i][c],d=u.getVol()/n*h*u.getDensity()/u.mm;if(isNaN(d)||0==d)return;var p=void 0,p="gasAry"===i?(i="liquidAry",new m(u.dat,d)):(i="gasAry",new g(u.dat,d));u.mol-=d,u.mol<=0&&(a=!0,p.mol=d+u.mol,this[i].splice(c,1),c--),f.connectWater||p.setTemp(u.getTemp()),this.leakageMedicine.push(p)}},this.medicine.push=function(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)this.push(e[i],!0);e[0]instanceof m?0<this.liquidAry.length?this.pop("liquidAry",this.getCurrentCapacity()-this.capacity):this.pop("gasAry",this.getCurrentCapacity()-this.capacity):0<this.gasAry.length?this.pop("gasAry",this.getCurrentCapacity()-this.capacity):this.pop("liquidAry",this.getCurrentCapacity()-this.capacity)}else if(e instanceof g){for(var n=this.liquidAry.length,a=0;a<n;a++){var r=this.liquidAry[a];if(r.name===e.name){var o=r.getVol()+e.getVol(),s=(r.getVol()*r.getTemp()+e.getVol()*e.getTemp())/o;r.setVol(o),r.setTemp(s);break}}a===n&&this.liquidAry.push(e),t||this.pop("gasAry",this.getCurrentCapacity()-this.capacity)}else if(e instanceof m){for(var l=this.gasAry.length,h=0;h<l;h++){var c=this.gasAry[h];if(c.name===e.name){var u=c.getVol()+e.getVol(),d=(c.getVol()*c.getTemp()+e.getVol()*e.getTemp())/u;c.setVol(u),c.setTemp(d);break}}h===l&&this.gasAry.push(e),t||this.pop("liquidAry",this.getCurrentCapacity()-this.capacity)}}}},{key:"_adsorb_",value:function(e){var t=this,i=e.hitObj,n=this.hitObjProp[i.name];if(n&&this.currentHitObj!=i&&!TweenMax.isTweening(this)&&!TweenMax.isTweening(i)&&!i.isConnect){var a=n;if("ThreeNeckedFlask"===i.name){if(i.chooseArea.area0.thisAreaWasFull&&i.chooseArea.area1.thisAreaWasFull&&i.chooseArea.area2.thisAreaWasFull)return;for(var r=[],o=i.chooseArea.toLocal(this.toGlobal({x:this.localBounds.x+this.localBounds.width/2,y:this.localBounds.y+this.localBounds.height/2})),s=0;s<3;s++){var l=i.chooseArea["area".concat(s)];l.thisAreaWasFull||(l=Math.abs(l.x+l.width/2-o.x),r.push({areaStr:"area".concat(s),dis:l}))}r.sort(function(e,t){return e.dis-t.dis});e=r[0].areaStr,n=i.chooseArea[e];(a=a[e]).rotation=n.rotation,n.thisAreaWasFull=!0,n.currentPlug=!0,this.currentArea=n,this.curAreaStr=e}else{if(!i.isOpen||0<i.currentEquipmentValue)return;i.hasCovered=!0}this.interactive=!1,this.interactiveChildren=!1;var h=this.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig");h.on("creationComplete",function(){t.bottomPlug=h,t.bottomPlug.curValue=t.bottomPlug.maxValue,t.addChildWithSamePos(h),h.rotation=t.plugPos.rotation,h.x=t.plugPos.x,h.y=t.plugPos.y}),i.addChildAtWithSamePos(this,0),(this.currentHitObj=i).isConnect=!0,(i.connectObj=this).on(NBDrag.event.PREPARE_DRAG,this._init_),this.emit("appendEquipment",this.currentHitObj),this.currentHitObj.emit("appendEquipment",this),this.lastRotation=0,this.lastBtnRotation=this.rotation,TweenMax.to(this,.3,{x:a.x,y:a.y,rotation:a.rotation,onComplete:function(){t.interactive=!0,t.interactiveChildren=!0}})}}},{key:"hitObjListen",value:function(){this.currentHitObj&&this.bottomPlug&&(this.on(NBDrag.event.PREPARE_DRAG,this._init_),"ThreeNeckedFlask"===this.currentHitObj.name&&(this.currentArea=this.currentHitObj.chooseArea[this.curAreaStr],this.currentHitObj.chooseArea[this.curAreaStr].currentPlug=this.bottomPlug,this.currentHitObj.chooseArea[this.curAreaStr].thisAreaWasFull=!0))}},{key:"addCoverBody",value:function(){}},{key:"removeCoverBody",value:function(){}},{key:"eqAddToViewStack",value:function(){this.currentArea&&(this.currentArea.currentPlug=null,this.curAreaStr=null),(0,l.default)((0,u.default)(CondenserTube.prototype),"eqAddToViewStack",this).call(this)}},{key:"eqPrepareDelete",value:function(){this.currentArea&&(this.currentArea.thisAreaWasFull=!1,this.currentArea.currentPlug=null,this.curAreaStr=null,this.currentArea=null),this._init_(),(0,l.default)((0,u.default)(CondenserTube.prototype),"eqPrepareDelete",this).call(this)}},{key:"_init_",value:function(){this.currentHitObj&&("ThreeNeckedFlask"===this.currentHitObj.name?this.currentArea=null:this.currentHitObj.hasCovered=!1,this.emit("removeEquipment",this.currentHitObj),this.currentHitObj.emit("removeEquipment",this),this.currentHitObj.isConnect=void 0,this.currentHitObj=void 0),this.bottomPlug&&(this.bottomPlug.destroy(),this.bottomPlug=void 0),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this._init_)}},{key:"_button_",value:function(){var e=this,t=this.g=new PIXI.Graphics;t.beginFill(0,1),t.drawRoundedRect(-80,-28,160,56,10),t.alpha=.8;var i=this.getText("连通水管",{stroke:"white",fill:"white"});i.anchor.set(.5,.5),t.x=i.x=660,t.y=i.y=528;var n=new PIXI.Container;this.buttonCon=n,this.addChild(n),n.addChild(t),n.addChild(i),t.textObj=i,t.textObj.interactive=!1,NBGesture.addGesture(n,NBGesture.gesture.TAP,function(){e.connectWater=!0,TweenMax.killTweensOf(n),n._gsTweenID&&delete TweenLite._internals.tweenLookup[n._gsTweenID],n.parent.removeChild(n),n.removeAllListeners(),e.ani.currentFrame=2,e.ani.whiteMc.mask=e.ani.whiteMask.getChildAt(0),TweenMax.to(e.ani.whiteMask,5,{y:427})});var a=this.root.mouseManager,r=f.status.PINCH;n.on(MouseEvent.MOUSE_OVER,function(){a.changeMouseStatus(r,!0,n)}),n.on(MouseEvent.MOUSE_OUT,function(){a.changeMouseStatus(r,!1,n)})}},{key:"_animation_",value:function(e){TweenMax.to(e.scale,.5,{x:1.5,y:1.5,yoyo:!0,repeat:-1,ease:Elastic})}},{key:"isFull",value:function(e){if(this.currentPlug)return!(!e||"NonPorousRubberPlugBig"!==e.name)||this.currentPlug.curValue>=this.maxEquipmentValue;var t=1;return e&&"NonPorousRubberPlugBig"===e.name&&(t=e.curValue||0),(this.currentEquipmentValue||0)+t>this.maxEquipmentValue}},{key:"addLiquid",value:function(){var e=this.currentHitObj;if(e&&e.gasLeakage&&e.bottomPlug&&this.connectWater&&this.isConnect){for(var t=e.gasLeakage,i=0;i<t.length;i++){var n,a=t[i];a.dat&&a.dat.boiling_point&&25<a.dat.boiling_point?(n=this.medicineManager.getMedicineData(a.name),n=new g(n,a.getMol()),this.isConnect.medicineData.push(n)):a.setTemp(nb.DEFAULT_TEMP)}e.gasLeakage.length=0}}},{key:"updateButtonRotate",value:function(){var t=this;this.rotation!==this.lastBtnRotation&&(this.lastBtnRotation=this.rotation,this.buttonCon&&this.buttonCon.children.forEach(function(e){e.rotation=-t.lastBtnRotation}))}},{key:"setConnectWater",value:function(){this.connectWater=!0,this.buttonCon.removeAllListeners(),this.removeChild(this.buttonCon),this.buttonCon=null,this.ani.currentFrame=2,this.ani.whiteMc.mask=this.ani.whiteMask.getChildAt(0),this.ani.whiteMask.y=427}},{key:"update",value:function(e){(0,l.default)((0,u.default)(CondenserTube.prototype),"update",this).call(this,e),this.updateButtonRotate()}},{key:"toJSON",value:function(){return(0,n.default)((0,l.default)((0,u.default)(CondenserTube.prototype),"toJSON",this).call(this),{bottomPlug:this.bottomPlug?this.bottomPlug.getUUID():null,currentHitObj:this.currentHitObj?this.currentHitObj.getUUID():null,curAreaStr:this.curAreaStr,connectWater:this.connectWater})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(CondenserTube.prototype),"setJSON",this).call(this,e);var i=this;e.curAreaStr&&(this.curAreaStr=e.curAreaStr),e.currentHitObj&&this.getEquipmentByUUID(e.currentHitObj).then(function(e){(t.currentHitObj=e).isConnect=!0,e.connectObj=t,"ThreeNeckedFlask"!==e.name&&(e.hasCovered=!0),t.hitObjListen()}),e.bottomPlug&&this.getEquipmentByUUID(e.bottomPlug).then(function(e){t.bottomPlug=e,t.bottomPlug.curValue=t.bottomPlug.maxValue,i.hitObjListen()}),e.connectWater&&this.setConnectWater()}}]),CondenserTube}();e.exports=CondenserTube},function(e,t,i){"use strict";var n=i(0),o=n(i(1)),a=n(i(2)),s=n(i(124)),l=i(16),i=function(){function r(e,t,i,n){var a=this;(0,o.default)(this,r),(0,s.default)(this,"onTouchMoveHit",function(e){e.stopPropagation();e=e.data.global,e=a.ctrlStrip.toLocal(e).x/a.ctrlStrip.bg.width,e=Math.min(1,Math.max(0,e));a.tween.seek(e*a.totalTime),a.onProgress(e)}),(0,s.default)(this,"onTouchEndHit",function(e){e.stopPropagation(),a.lastPlayState&&a.start(),a.root.removeEventListener(TouchEvent.TOUCH_MOVE,a.onTouchMoveHit),a.ctrlStrip.hitDis.removeEventListener(TouchEvent.TOUCH_END,a.onTouchEndHit),a.ctrlStrip.hitDis.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,a.onTouchEndHit)}),this.ctrlStrip=e,this.totalTime=t,this.sumDay=7,this.specOnProgress=i,this.root=n,this.tween=null,this.init()}return(0,a.default)(r,[{key:"init",value:function(){var t=this;this.ctrlStrip.addEventListener("mouseover",function(){t.root.mouseManager.changeMouseStatus(l.status.PAN,!0,t.ctrlStrip)}),this.ctrlStrip.addEventListener("mouseout",function(){t.root.mouseManager.changeMouseStatus(l.status.PAN,!1,t.ctrlStrip)}),this.ctrlStrip.startBtn.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){t.onTouchStartBtn(e)}),this.ctrlStrip.stopBtn.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){t.onTouchStopBtn(e)}),this.ctrlStrip.hitDis.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){t.onTouchBeginHit(e)});for(var e=1;e<this.sumDay+1;e++)this.ctrlStrip["day_"+e].addEventListener(TouchEvent.TOUCH_BEGIN,this.onTouchLabel.bind(this));this.initAnimation(),this.ctrlStrip.stopBtn.visible=!1,this.ctrlStrip.pro.scale.x=0,this.ctrlStrip.slider.x=0;var i=this.ctrlStrip.hitDis.getLocalBounds();this.ctrlStrip.hitDis.hitArea=new PIXI.Rectangle(i.x,i.y,i.width,i.height)}},{key:"initAnimation",value:function(){var e=this;this.tween=TweenMax.to(this,this.totalTime,{ease:"none",paused:!0,onUpdate:function(){e.onProgress(e.tween.time()/e.totalTime)},onComplete:function(){e.stop()}})}},{key:"start",value:function(){1===this.tween.ratio?this.tween.restart():this.tween.resume(),this.ctrlStrip.startBtn.visible=!1,this.ctrlStrip.stopBtn.visible=!0}},{key:"stop",value:function(){this.tween.pause(),this.ctrlStrip.startBtn.visible=!0,this.ctrlStrip.stopBtn.visible=!1}},{key:"onProgress",value:function(e){var t=this.ctrlStrip.bg.width;this.ctrlStrip.pro.scale.x=e,this.ctrlStrip.slider.x=t*e;for(var i=Math.ceil(e*this.sumDay)+1,n=1;n<this.sumDay+1;n++)this.ctrlStrip["day_"+n].bgMc.currentFrame=n<i?1:0;1===e&&this.stop(),this.specOnProgress&&this.specOnProgress(e)}},{key:"onTouchStartBtn",value:function(e){e.stopPropagation(),this.start()}},{key:"onTouchStopBtn",value:function(e){e.stopPropagation(),this.stop()}},{key:"onTouchBeginHit",value:function(e){e.stopPropagation(),this.lastPlayState=this.tween.isActive(),this.stop();e=e.data.global,e=this.ctrlStrip.toLocal(e).x/this.ctrlStrip.bg.width,e=Math.min(1,Math.max(0,e));this.tween.seek(e*this.totalTime),this.onProgress(e),this.root.addEventListener(TouchEvent.TOUCH_MOVE,this.onTouchMoveHit),this.ctrlStrip.hitDis.addEventListener(TouchEvent.TOUCH_END,this.onTouchEndHit),this.ctrlStrip.hitDis.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,this.onTouchEndHit)}},{key:"onTouchLabel",value:function(e){e.stopPropagation();e=(e.target.name.split("_")[1]-1)/this.sumDay,e=Math.min(1,Math.max(0,e));this.tween.seek(e*this.totalTime),this.onProgress(e)}},{key:"destroy",value:function(){this.stop()}}]),r}();e.exports=i},function(e,t,DryingTube){"use strict";var a=DryingTube(4),i=DryingTube(0),n=i(DryingTube(9)),r=i(DryingTube(1)),o=i(DryingTube(2)),c=i(DryingTube(7)),s=i(DryingTube(5)),l=i(DryingTube(6)),u=i(DryingTube(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var d=DryingTube(10),p=DryingTube(34),f=DryingTube(31),I=DryingTube(32),g=DryingTube(18),m=DryingTube(171),DryingTube=function(){(0,s.default)(DryingTube,d);var t=h(DryingTube);function DryingTube(){var e;return(0,r.default)(this,DryingTube),(e=t.call(this)).name="DryingTube",e.CNName="球形干燥管",f.register(I.BUBBLING),e}return(0,o.default)(DryingTube,[{key:"creationComplete",value:function(){(0,c.default)((0,u.default)(DryingTube.prototype),"creationComplete",this).call(this),this.allowRubberCatheter=!0,this.addedRubber=null,this.precisePascal=!0,this.particle=p.getParticle(p.particles.gas_collecting_bottle_bubble),this.rubberPos={x:0,y:188,rotation:Math.PI/2},this.pourOutPoint={x:this.localBounds.x+this.localBounds.width/2,y:this.localBounds.y+this.localBounds.height},this.enableRotate(!0,{position:{x:this.localBounds.x+this.localBounds.width/2,y:this.localBounds.y+this.localBounds.height/2},rotatePoint:{x:this.localBounds.x+this.localBounds.width/2,y:this.localBounds.y+this.localBounds.height/2-20}},1),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on("hitted",this._adsorb_)}},{key:"_adsorb_",value:function(e){var e=e.hitObj;!e.isCondenser||this==e||this.currentHitObj==e||TweenMax.isTweening(this)||TweenMax.isTweening(e)||e.isConnect||(this.currentHitObj=e,this.isConnect=!0,e.isConnect=this,e.addChildWithSamePos(this),(e=e.rotation%(2*Math.PI))!=this.rotation&&(e>Math.PI?this.rotation+=Math.PI-e%Math.PI:e>-Math.PI?this.rotation-=e:this.rotation+=-Math.PI-e%Math.PI),this.currentPlug||this.autoAddPlug(),NBDrag.removeDrag(this.currentPlug),TweenMax.to(this,.3,{x:1045,y:445,rotation:-1.27}),this.on(NBDrag.event.PREPARE_DRAG,this._init_),this.emit("appendEquipment",this.currentHitObj),this.currentHitObj.emit("appendEquipment",this),this.settedNode=!0)}},{key:"_init_",value:function(){this.isConnect=void 0,this.currentHitObj&&(this.settedNode&&(this.emit("removeEquipment",this.currentHitObj),this.currentHitObj.emit("removeEquipment",this)),this.currentHitObj.isConnect=void 0,this.currentHitObj=void 0),NBDrag.addDrag(this.currentPlug),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this._init_)}},{key:"update",value:function(e){if((0,c.default)((0,u.default)(DryingTube.prototype),"update",this).call(this,e),this.particle.loaded&&!this.changedParticle&&(this.particle.particle.spawnRect.width=this.localBounds.width,this.changedParticle=!0),this.lasPascal=this.lasPascal||this.pascal,this.parent&&this.parent.liquidVertex&&this.parent instanceof d){var t=this.localBounds,i=this.getViewStack().toLocal({x:t.x,y:t.y},this).y,n=this.getViewStack().toLocal({x:t.x+t.width/2,y:t.y+t.height},this).y;if(this.particle&&this.gasLeakage&&0<this.gasLeakage.length&&this.getCurrentCapacity()<=.2){for(var a=this.getViewStack().toLocal(this.parent.liquidVertex[0]).y,r=0,o=this.parent.medicineData.liquidAry.find(function(e){return"NaOH"===e.name&&1e-5<e.mol}),s=0;s<this.gasLeakage.length;s++){var l=this.gasLeakage[s];o&&("HBr"===l.name||"HCl"===l.name||"SO2"===l.name)||(r+=l.mol||l.getMol()||0)}if(a<i&&n<a&&2e-8<r){this.parent.waterContainer.addChild(this.particle),this.gasLeakage&&(this.gasLeakage.length=0),this.particle.visible=!0,this.particle.render(),this.wideBubbleSound||(this.wideBubbleSound=f.play(I.BUBBLING,null,null,null,-1)),this.wideBubbleSound.play();for(var h=0;h<this.medicineData.liquidAry.length;h++)this.medicineData.liquidAry[h].mol<=0&&(this.medicineData.liquidAry.splice(h,1),h--);t=this.parent.toLocal(this.toGlobal({x:t.x+t.width,y:t.y}));this.particle.y=t.y,this.particle.x=t.x}else this.parent.waterContainer.removeChild(this.particle),this.wideBubbleSound&&(this.wideBubbleSound._pause(),this.wideBubbleSound=void 0);a<n&&!this.addedRubber&&i<a&&2e-7<r?this.bubbleParticle?this.bubbleParticle.particleRemoved?(this.bubbleParticle.destroy(!0),this.bubbleParticle=null):((a=this.parent.toLocal(this.toGlobal(this.rubberPos))).rotation=-g.retrieveRotation(this.parent.worldTransform),this.bubbleParticle.updateMedicine(this.gasLeakage,r,a),this.bubbleParticle.render(e),this.gasLeakage&&(this.gasLeakage.length=0)):this.bubbleParticle=new m(this.parent.waterContainer,void 0,this):this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null)}else this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null),this.parent.waterContainer===this.particle.parent&&(this.parent.waterContainer.removeChild(this.particle),this.wideBubbleSound&&(this.wideBubbleSound._pause(),this.wideBubbleSound=void 0))}else this.particle.visible&&(this.particle.visible=!1),this.wideBubbleSound&&(this.wideBubbleSound._pause(),this.wideBubbleSound=void 0),this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null);this.lasPascal=this.pascal}},{key:"toJSON",value:function(){return(0,n.default)((0,c.default)((0,u.default)(DryingTube.prototype),"toJSON",this).call(this),{currentHitObj:this.currentHitObj?this.currentHitObj.getUUID():null})}},{key:"setJSON",value:function(e){(0,c.default)((0,u.default)(DryingTube.prototype),"setJSON",this).call(this,e);var t=this;e.currentHitObj&&this.getEquipmentByUUID(e.currentHitObj).then(function(e){e.currentPlug&&NBDrag.removeDrag(e.currentPlug),t.currentHitObj=e,(t.currentHitObj.isConnect=t).isConnect=!0,t.on(NBDrag.event.PREPARE_DRAG,t._init_)})}}]),DryingTube}();e.exports=DryingTube},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),f=i(10),BaseBlockMedicine=i(198),I=i(26),g=i(143),m=["IronWire","CopperWire"],y=["BaseMedicine","BaseSolidMedicine","BaseLiquidMedicine","BaseLiquidBrownDropMedicine","AlcoholBurner","BaseSolidBrownMedicine","BaseLiquidWhiteDropMedicine","QualitativeFilterPaper","AirBalloon","KippsFunnel","LongNeckFunnel","UniversalPhIndicatorPaper","BlueLitmusPaper","RedLitmusPaper","StarchKITestPaper","PhenolphthaleinTestPaper","BaseLiquidWhiteBottleMedicine"],v=["PaperFlower","CrucibleCover","BigEvaporatingDish","EvaporatingDish"],C=["BlockFe","BlockCu","BlockMgStrip","BlockFeIm","BlockPingPong","BlockFilterPaper"],i=function(){(0,h.default)(i,p);var t=d(i);function i(){var e;return(0,o.default)(this,i),(e=t.call(this)).ani=null,e.bg=null,e.getBlock=null,e.isClamp=!0,e.holdObj=null,e.oriRotation=-Math.PI/4,e.rotation=e.oriRotation,e.takeDrugAry={PaperFlower:{x:-10,y:0,rotation:0},ClothStrap:{x:-40,y:0,rotation:0},MagnesiumRibbon:{x:-32,y:-95,rotation:0},IronWire:{x:-25,y:-165,rotation:-e.oriRotation},IronWireWithWooden:{x:-30,y:-180,rotation:-e.oriRotation},CopperWire:{x:-58,y:-280,rotation:-e.oriRotation},Cotton:{x:-172,y:-47.8,rotation:-e.oriRotation}},e}return(0,s.default)(i,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(i.prototype),"creationComplete",this).call(this),this.on("outTopBounds",this.moveOutBottle)}},{key:"isEmpty",value:function(){return!this.holdObj}},{key:"takeOutBlock",value:function(e){"Candle"===e.name?(e.addedEq&&e.addedEq.removeCandle(e),e.parent&&e.parent.isClamp&&(e.parent.holdObj=null),NBDrag.removeDrag(e),this.setMedicine(e)):"C"===e.name&&e.isBurn||(e.clear(),e.autoClear(),e.removeFromParent(),this.setMedicine(e),this.setBlockMedDragEvents(e))}},{key:"cloneBlockMedicine",value:function(e){var t,i=this,n=e.getMessage(),a=this.execute(NBCommand.CREATE_EQUIPMENT,n.constName);return"BlockCu"===n.constName&&(t=e.blackPic.children[0].medVo[0].getMol(),a.on("creationComplete",function(){a.currentTemp=e.currentTemp,a.blackPic.children[0].medVo[0].setMol(t)})),a.resetMol=n.mol,a.surFaceVo=n.surFaceVo,n.cutType&&(a.image.currentFrame=n.cutType,a.cutType=n.cutType),n.impurity&&0<n.impurity.length&&(a.impurityMol=n.impurity[0].getMol()),a.on("creationComplete",function(){a.surFaceFun instanceof Function&&a.surFaceFun(),n.cutType&&(a.image.currentFrame=n.cutType,a.cutType=n.cutType),n.INITMOL&&(a.INITMOL=n.INITMOL),void 0!==n.rustState&&(a.rustState=n.rustState),n.instanceName&&(a.instanceName=n.instanceName),i.setBlockMedDragEvents(a)}),n.assignInfo&&(0,r.default)(a,n.assignInfo),a}},{key:"getHitEqAry",value:function(){var i=this,e=this.getEquipments(),n=[],a=[];return e.forEach(function(e){var t=e.image||e.blackPic||e;"CopperWire"===e.name&&(t=e),e!==i.holdObj&&(i.getBlock.hitTest(t)?a.push(e):i.holdObj&&i.holdObj.hitTest(t)&&n.push(e))}),this.positionDistanceSort(0<a.length?a:n)}},{key:"takeBlockMedicine",value:function(e){var t,i,n,a,r=this;"C"===e.name&&e.isBurn||(t=e.getBlockMedicine(),i=new TimelineMax,n=this.oriRotation,a="CrucibleTong"===this.name?20:0,NBDrag.removeDrag(this),NBDrag.removeDrag(e),i.to(this,.3,{rotation:-Math.PI/2,x:e.x-this.getBlock.y+a,y:e.y-170}).to(this,.3,{y:e.y+e.height/4,onComplete:function(){r.setMedicine(t)}}).to(this,.3,{y:e.y-e.height/1.5}).to(this,.3,{rotation:n,onComplete:function(){NBDrag.addDrag(r),NBDrag.addDrag(e),r.setBlockMedDragEvents(t)}}))}},{key:"setBlockMedDragEvents",value:function(t){var e=this;C.includes(t.constName)&&(NBDrag.addDrag(t),t.once(NBDrag.event.PREPARE_DRAG,function(){t.parent===e&&(t.eqAddToViewStack(),t===e.holdObj&&(e.holdObj=null))}),t.once(NBDrag.event.STOP_DRAG,function e(){t.parent===t.getEqLayer()?(NBDrag.removeDrag(t),TweenMax.to(t,.3,{rotation:0,onComplete:function(){t&&NBDrag.addDrag(t)}})):t.once(NBDrag.event.STOP_DRAG,e)}))}},{key:"setMedicine",value:function(e){e.removeNape(),e.rotation=0,this.holdObj=e,this.addChildAt(e,1),this.setMedPosition(e)}},{key:"setMedPosition",value:function(e){e.x=this.getBlock.x,e.y=this.getBlock.y}},{key:"eqStopDrag",value:function(){this.pickPutBlock()}},{key:"put",value:function(e){return this.holdObj.isBlockMedicine?this.putBlockMedicine(e):this.putHoldObj(e)}},{key:"pick",value:function(e){if(e.isBlockMedicine){if(e.evenPickUp)return!1;if(!(!e.alpha||"C"!==e.name&&e.isBurn||e.medVo.getMol()<.2*e.INITMOL)&&("Na"!==e.name&&"K_s"!==e.name||!e.hasChangeCircle&&0===e.currentMeltFrame))return this.takeOutBlock(e),!0}else if(e instanceof BaseBlockMedicine){if(e.isOpen)return this.takeBlockMedicine(e),!0}else{var t=e.name;-1!==e.name.indexOf("IronWire")&&(t=e.hasWooden?"IronWireWithWooden":t);t=this.takeDrugAry[t];if(t)return this.takeDrugFun(e,t),!0}return!1}},{key:"pickBlock",value:function(){for(var e=this.getHitEqAry(),t=0;t<e.length;t++){var i=e[t].objB;if(this.pick(i))break}}},{key:"putBlock",value:function(){for(var e=this.getHitEqAry(),t=0;t<e.length;t++){var i=e[t].objB;if(this.put(i))break}this.holdObj&&!m.includes(this.holdObj.name)&&this.holdObj.emit(NBDrag.event.STOP_DRAG)}},{key:"putBlockMedicine",value:function(e){var t=this.holdObj;if("Candle"===t.name){var i=t;if(e.canAddCandle())return e.addCandle(i),NBDrag.addDrag(i),!(this.holdObj=null)}if("QualitativeFilterPaper"===e.name){if(("Na"===t.name||"K_s"===t.name)&&e.canPutNa(t))return e.putNa(t),!(this.holdObj=null)}else if("AsbestosFreeWireGauze"===e.name){if(!e.isFull())return this.releaseholdObjToAsb(e),!0}else if(e instanceof BaseBlockMedicine){if(!t.isBurn&&(e.medConfData.block_eq===t.constName||e.medConfData.block_eq===t.name))return this.backToBottle(e),!0}else if(e instanceof f&&!(y.includes(e.name)||"LongNeckFunnel"===e.name&&e.currentContainer)){if("Forceps"===this.name)return this.releaseholdObj(e),!0;if("CrucibleTong"===this.name)return"C"===t.name&&(e.isGasBottle||e.isBeaker)?this.takeInContainer(e,void 0,{x:-30,y:0}):this.releaseholdObj(e),!0}return!1}},{key:"putHoldObj",value:function(e){var t=this.holdObj;if(m.includes(t.name)){if(!nb.NORMALCONTAINER.includes(e.name))return!1;if(e.isRubberPlug)return this.holdObjLeave.apply(this.holdObj),t.emit(NBDrag.event.STOP_DRAG),!0;if(!e.currentPlug)return NBDrag.removeDrag(this.holdObj),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),"IronWire"===t.name&&e.isGasBottle&&t.addToGasCollectingBottle(e),g.singleClampNoPlugJoin(this,t,e),!0;if(e.currentPlug.curValue<e.currentPlug.maxValue)return this.holdObjLeave.apply(this.holdObj),t.emit(NBDrag.event.STOP_DRAG),!0}else if(t.isTestPaper){var i=t;if(i.canPutTo(e))return i.putTo(e),!0}else if(t.name.includes("EvaporatingDish"))if(e.pourIn&&e.isOpen&&!e.getPourInObj()){if(e.bg?t.hitTest(e.bg):t.hitTest(e))return this.holdObjLeave.call(t),t.rotation=0,t.getEqLayer().addChildWithSamePos(t),t.emit(NBDrag.event.STOP_DRAG),!0}else e.name;return!1}},{key:"pickPutBlock",value:function(){this.currentContainer&&this.dragRect||(this.isEmpty()?this.pickBlock():this.putBlock())}},{key:"takeDrugFun",value:function(e,t){var i,n,a,r=this,o=v.includes(e.name);e.parent!==e.getEqLayer()&&!o||(o&&(e.parent&&e.parent.holdObjLeave&&e.parent.holdObjLeave.call(e),e.eqAddToViewStack()),NBDrag.removeDrag(r),i=e.x-r.getBlock.x+e.width+t.x,o=e.y-r.getBlock.y+e.height/2+t.y,n=0,e.vRotateSprite&&(e.vRotateSprite.setEnabled(!1,!0),delete e.vRotateSprite),(e.name.includes("EvaporatingDish")||e.name.includes("Crucible"))&&(e.lastRotation=void 0,n=r.oriRotation,i-=60,o+=35,a=!0),TweenMax.to(r,.2,{x:i,y:o,rotation:n,onComplete:function(){a||m.includes(e.name)||(e.addToVIewResetRotation=!0),(r.holdObj=e).holdParent=r,NBDrag.addDrag(r),e.on(NBDrag.event.PREPARE_DRAG,r.holdObjLeave),r.addChildAtWithSamePos(e,r.children.length-1),e.rotation=-n,a||(TweenMax.to(r,.2,{rotation:r.oriRotation}),TweenMax.to(e,.2,{rotation:t.rotation}))}}))}},{key:"takePaperFlower",value:function(){}},{key:"holdObjLeave",value:function(){var e;this.holdParent&&(e=this.holdParent,this.parent!==this.getEqLayer()&&(this.eqAddToViewStack(),this.rotation=0),"Cotton"===this.name&&(this.rotation=0),this.removeEventListener(NBDrag.event.PREPARE_DRAG,e.holdObjLeave),e.holdObj=null,this.holdParent=null)}},{key:"backToBottle",value:function(e){var t=this,i=e,n=new TimelineMax,a=t.oriRotation,e="CrucibleTong"===t.name?20:0;NBDrag.removeDrag(t),NBDrag.removeDrag(i),n.to(t,.3,{rotation:-Math.PI/2,x:i.x-t.getBlock.y+e,y:i.y-170}).to(t,.3,{y:i.y+i.height/4,onComplete:function(){t.holdObj&&t.holdObj.destroy(),t.holdObj=null}}).to(t,.3,{y:i.y-i.height/1.5}).to(t,.3,{rotation:a,onComplete:function(){NBDrag.addDrag(t),NBDrag.addDrag(i)}})}},{key:"releaseholdObjToAsb",value:function(e){var t=this;NBDrag.removeDrag(this);var i=e.getViewStack().toLocal({x:0,y:0},e);TweenMax.to(this,.3,{x:i.x+e.blockSetPos.x-this.getBlock.x,y:i.y+e.blockSetPos.y-this.getBlock.y,onComplete:function(){t.holdObj.blockToAsbestosFreeWireGauze(e),t.holdObj=null,NBDrag.addDrag(t)}})}},{key:"canReleaseBlockMedicine",value:function(e){var t=this.blockMedicine.toGlobal({x:0,y:0});return e.realCapacityVertex.length<1||I.containsPoint(e.realCapacityVertex,t)}},{key:"releaseholdObj",value:function(e){var t=nb.BIG_BLOCK.has(this.holdObj.name),i=nb.CANNOT_HIT_BIGBLOCK.has(e.name);t&&i||nb.CANNOT_HIT_BLOCK.has(e.name)||e instanceof f&&!e.isLiquidMedBottle&&e.stopAddMedicine instanceof Function&&e.stopAddMedicine(this.holdObj)||(NBDrag.removeDrag(this.holdObj),this.holdObj.addToContainer(e),this.holdObj.allowGetBounds=!1,this.holdObj.hitWater=!0,this.removeChild(this.holdObj),this.holdObj=null)}},{key:"takeInContainer",value:function(e){var t,i=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};e.eqLimitBounds&&n&&(e.isCovered()||e.getFull()||TweenMax.isTweening(this)||(e.setFull(!0),(t=this).getViewStack().addChildAtWithSamePos(this,0),e.addChildAtWithSamePos(this,0),n=e.eqLimitBounds.height/8,(n={x:e.eqLimitPos.x,y:n}).x+=a.x,n.y+=a.y,this.interactive=!1,(new TimelineMax).to(this,.2,{rotation:-Math.PI/2+Math.PI/180*5}).to(this,.3,{x:n.x,y:n.y,ease:Sine.easeInOut,onComplete:function(){t.interactive=!0,t.execute(NBCommand.CALCULATE_DRAG_RECT,{hitObj:e,target:t,bounds:"local",type:0,offset:{height:-i.holdObj.localBounds.width/3-4}}),t.dragRect.x=t.x,t.dragRect.y+=a.y}})))}},{key:"moveOutBottle",value:function(){this.currentContainer.setFull(!1),TweenMax.to(this,.2,{rotation:this.oriRotation})}},{key:"getConfigureData",value:function(){return(0,l.default)((0,u.default)(i.prototype),"getConfigureData",this).call(this)}},{key:"update",value:function(e){(0,l.default)((0,u.default)(i.prototype),"update",this).call(this,e),this.ani.gotoAndStop(this.holdObj?1:0)}},{key:"toJSON",value:function(){return(0,r.default)({holdObj:this.holdObj?this.holdObj.getUUID():null},(0,l.default)((0,u.default)(i.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(i.prototype),"setJSON",this).call(this,e),e.holdObj&&this.getEquipmentByUUID(e.holdObj).then(function(e){t.holdObj=e,t.takeDrugAry[e.name]&&(e.holdParent=t,e.on(NBDrag.event.PREPARE_DRAG,t.holdObjLeave)),t.dragRect&&!1!==t.dragRect.enabled&&(NBDrag.removeDrag(t.holdObj),t.removeEventListener(NBDrag.event.PREPARE_DRAG,t.eqAddToViewStack),t.canDragEnable=!0,t.lastDragRect=(0,r.default)({},t.dragRect),g.clampAddEvents(t))})}}]),i}();e.exports=i},function(e,t,ElectricityPieceKryptol){"use strict";var a=ElectricityPieceKryptol(4),i=ElectricityPieceKryptol(0),n=i(ElectricityPieceKryptol(1)),r=i(ElectricityPieceKryptol(2)),o=i(ElectricityPieceKryptol(7)),s=i(ElectricityPieceKryptol(5)),l=i(ElectricityPieceKryptol(6)),h=i(ElectricityPieceKryptol(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityPieceKryptol(66),d=ElectricityPieceKryptol(20),ElectricityPieceKryptol=function(){(0,s.default)(ElectricityPieceKryptol,u);var t=c(ElectricityPieceKryptol);function ElectricityPieceKryptol(){var e;return(0,n.default)(this,ElectricityPieceKryptol),(e=t.call(this)).name="ElectricityPieceKryptol",e.CNName="电化学碳棒",e.metalName="C",e.rubberPos={x:54,y:14,rotation:-Math.PI/2},e.isStick=!0,e}return(0,r.default)(ElectricityPieceKryptol,[{key:"corrodingMetal",value:function(){}},{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityPieceKryptol.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("C");this.solidAry.Cu=new d(e,1)}}]),ElectricityPieceKryptol}();e.exports=ElectricityPieceKryptol},function(e,t,i){"use strict";e.exports={Li:"0xff0099",Na:{color:"0xffd900",multiple:10},K:"0xc814b4",Ca:"0xea5615",Sr:"0xFF00FF",Ba:"0xbdff38",Cu:"0x3ed168"}},function(e,t,a){"use strict";var r=a(4),StraightGlassCatheter=a(0),o=StraightGlassCatheter(a(9)),i=StraightGlassCatheter(a(1)),n=StraightGlassCatheter(a(2)),s=StraightGlassCatheter(a(7)),l=StraightGlassCatheter(a(5)),h=StraightGlassCatheter(a(6)),c=StraightGlassCatheter(a(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,r(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=a(85),p=a(203),f=a(74),I={GasCollectingBottle:130,BaseGasMedicine:130,ConicalFlask250ml:120,RoundBottomFlask:220},StraightGlassCatheter=function(){(0,l.default)(StraightGlassCatheter,d);var t=u(StraightGlassCatheter);function StraightGlassCatheter(){var e;return(0,i.default)(this,StraightGlassCatheter),(e=t.call(this)).CNName="直导管",e.name="StraightGlassCatheter",e.maxOpenMouth=2,e.addedRubber=null,e.allowRubberCatheter=!0,e.isGlassCatheter=!0,e.SELF_MASS=0,e.defaultYInPlug=1,e.rubberPos={x:0,y:-110,rotation:-Math.PI/2},e._bottomAirBalloon=null,e}return(0,n.default)(StraightGlassCatheter,[{key:"addedBottle",get:function(){return this._addedBottle},set:function(e){this._addedBottle=e,this.bottomAirBalloon&&this.bottomAirBalloon.isEquipment&&(e?(f.removeDrag(this.bottomAirBalloon),this.bottomAirBalloon.mask=e.capacityMask):(f.addDrag(this.bottomAirBalloon),this.bottomAirBalloon.mask=null))}},{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(StraightGlassCatheter.prototype),"creationComplete",this).call(this),this.addedBottle=null,this.removeChild(this.texture),this.init(),this.enableRotate(!0,{position:{x:this.localBounds.width+10,y:0},rotatePoint:{x:0,y:-10}},1),this.initWhiff()}},{key:"bottomAirBalloon",get:function(){return this._bottomAirBalloon},set:function(e){this._bottomAirBalloon=e,this.extendSprite.setEnabled(!e)}},{key:"eqStopDrag",value:function(){var t=this;if(this.bottomAirBalloon){this.root.resetPascalNode();for(var BaseGasMedicine=a(199),e=this.getEquipments(),i=0;i<e.length;i++){var n=e[i];this.hitTest(n)&&(n instanceof BaseGasMedicine||I[n.name])&&(this.fixedOnContainer=n)}this.fixedOnContainer&&((0,s.default)((0,c.default)(StraightGlassCatheter.prototype),"eqStopDrag",this).call(this),this.once("hasTweenComplete",function(){var e={x:t.parent.width/2+t.parent.getLocalBounds().x/2,y:20};TweenMax.to(t,.2,(0,o.default)({},e))}),this.extendGlassCatheter(I[this.fixedOnContainer.name]),this.once(f.event.PREPARE_DRAG,function(){t.fixedOnContainer&&(t.fixedOnContainer.volumeEncroachment=0),t.fixedOnContainer=null,t.eqAddToViewStack()}))}else(0,s.default)((0,c.default)(StraightGlassCatheter.prototype),"eqStopDrag",this).call(this)}},{key:"init",value:function(){this.ropePoint=[{x:0,y:49},{x:0,y:69}],this.lineFix={true:0,false:0},this.pointAry=[this.ropePoint[1],{x:0,y:-90}],this.initLines();var e=new PIXI.mesh.Rope(PIXI.Texture.fromFrame("StraightGlassCatheter/rope"),[this.pointAry[1],this.pointAry[0]]);this.bg.removeChild(this.bg.children[0]),this.bg.addChild(e),this.updateTransform(),this.fireParticlePos=[{x:0,y:-88,rotation:-Math.PI/2,waterParticle:null,particle:null,bindAttr:"addedRubber",direction:!0},{x:0,y:this.ropePoint[1].y,rotation:Math.PI/2,waterParticle:null,particle:null,bindAttr:"addedBottle",direction:!1}],this.originLocalBounds=this.getLocalBounds(),this.initExtendSprite(),this.extendBottmPos=this.pointAry[this.pointAry.length-1]}},{key:"initExtendSprite",value:function(){this.extendSprite=new p(this,{x:0,y:this.ropePoint[1].y,angle:-Math.PI/2}),this.extendSprite.setEnabled(!0)}},{key:"extendGlassCatheter",value:function(e){this.bottomAirBalloon&&this.bottomAirBalloon.isEquipment?(this.currentContainer&&I[this.currentContainer.name]&&(e=I[this.currentContainer.name]),(0,s.default)((0,c.default)(StraightGlassCatheter.prototype),"extendGlassCatheter",this).call(this,e),this.bottomAirBalloon.y=e,this.originLocalBounds=this.getLocalBounds()):(0,s.default)((0,c.default)(StraightGlassCatheter.prototype),"extendGlassCatheter",this).call(this,e)}},{key:"getMass",value:function(){return this.SELF_MASS}},{key:"toJSON",value:function(){return(0,o.default)({bottomAirBalloon:this.bottomAirBalloon?this.bottomAirBalloon.getUUID():null},(0,s.default)((0,c.default)(StraightGlassCatheter.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(StraightGlassCatheter.prototype),"setJSON",this).call(this,e),e.bottomAirBalloon&&(this.bottomAirBalloon=e.bottomAirBalloon,this.getEquipmentByUUID(e.bottomAirBalloon).then(function(e){t.bottomAirBalloon=e,t.originLocalBounds=t.getLocalBounds(),t.addedBottle&&(t.bottomAirBalloon.mask=t.addedBottle.capacityMask,f.removeDrag(t.bottomAirBalloon),t.fixedOnContainer=t.addedBottle,t.once(f.event.PREPARE_DRAG,function(){t.fixedOnContainer&&(t.fixedOnContainer.volumeEncroachment=0),t.fixedOnContainer=null,t.eqAddToViewStack()}))}))}}]),StraightGlassCatheter}();e.exports=StraightGlassCatheter},function(e,t,WoodenStick){"use strict";var a=WoodenStick(4),i=WoodenStick(0),o=i(WoodenStick(25)),n=i(WoodenStick(24)),r=i(WoodenStick(1)),s=i(WoodenStick(2)),l=i(WoodenStick(7)),h=i(WoodenStick(5)),c=i(WoodenStick(6)),u=i(WoodenStick(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=WoodenStick(8),f=WoodenStick(34),g=WoodenStick(26),I=WoodenStick(20),m=WoodenStick(22),y=WoodenStick(27),HoffmanElectrolyticDevice=WoodenStick(417),v=WoodenStick(165),C=WoodenStick(21),M=-Math.PI/2,WoodenStick=function(){(0,h.default)(WoodenStick,p);var t=d(WoodenStick);function WoodenStick(){var e;return(0,r.default)(this,WoodenStick),(e=t.call(this)).name="WoodenStick",e.CNName="小木条",e.rotation=M,e.z_index=21.09,e.defaultBtnPos=[{x:-64,y:6.4},{x:223,y:80}],e}return(0,s.default)(WoodenStick,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(WoodenStick.prototype),"creationComplete",this).call(this),this.hitContainerAry={SmallTestTube:{x:-8,y:20,offsetX:-20,offsetY:20},BigTestTube:{x:-7,y:-230,offsetX:-10,offsetY:-70},SmallBeaker:{x:80,y:20,offsetX:-20,offsetY:20},BigBeaker:{x:110,y:20,offsetX:-20,offsetY:20},HugeBeaker:{x:210,y:60,offsetX:-20,offsetY:20},ConicalFlask100ml:{x:58,y:20,offsetX:-25,offsetY:20},ConicalFlask250ml:{x:90,y:20,offsetX:-10,offsetY:20},GasCollectingBottle:{x:100,y:20,offsetX:-20,offsetY:6},BaseGasMedicine:{x:100,y:20,offsetX:-20,offsetY:6}},this.burnY=7,this.charcoal.visible=!1,this.spark.allowGetBounds=!1,this.addHeat=0,this.secData=[];for(var t=0;t<20;t++){var i={addHeat:0,burnStatus:0,particle:null,charcoal:null,spark:null,mask:null,isLeft:!0,maskPoint:[],point:null,centerPoint:{x:this.width/20/2*(2*t+1),y:this.height/2},hitGas:null};this.secData.push(i)}this.initEvent();var n=this.medicineManager.getMedicineData("C");this.solidMedicine=new I(n,1).setTemp(600),this.on(NBEvent.del.PREPARE_DELETE,function(){e.putOffFire()}),this.addedIgnitableEquipment=null}},{key:"dirctionType",get:function(){return this.rotation?0:1},set:function(e){void 0===e&&(e=this.rotation?0:1),this.rotation=1===e?0:M}},{key:"reversal",value:function(){switch(this.dirctionType){case 0:this.dirctionType=1;break;case 1:this.dirctionType=0}this.reversalButton&&this.reversalButton.enabled&&(this.reversalButton.btnPosition=this.defaultBtnPos[this.dirctionType],this.reversalButton.setBtnPosition(),this.addWholeRotateType(["reversalButton"]),this.removeWholeRotateType(["reversalButton"]))}},{key:"checkPreventFire",value:function(){var e=this.parent,t=[];if(null!=this.hitContainerAry[e.name]){for(var i,n=e.medicineData.liquidAry,a=0;a<n.length;a++)"Na2SiO3"==n[a].name&&(i=n[a].mol);if(.001<i){for(var r,o=0;o<n.length;o++)"H2O"==n[o].name&&(r=n[o].mol*n[o].mm/1e3);0<r&&.015<i/r&&this.checkDipInLiquid(e)}if(e.medicineData){var s=e.medicineData.liquidAry.quickMap.get("H2SO4"),l=.001*e.getCurrentCapacity();if(s&&l&&8<s.getMol()/l)for(var h=0,c=this.secData.length;h<c;h++){var u=this.secData[h];u.isCarboned||(u=this.toGlobal(u.centerPoint),g.containsPoint(e.liquidVertex,u)&&t.push({isLeft:!0,index:h}))}}}if(t.length){this.addSmudging(t);for(var d=0,p=t.length;d<p;d++){var f=t[d].index,I=this.secData[f];I.maskPoint[0].x=I.centerPoint.x+40,I.maskPoint[1].x=I.centerPoint.x+40,I.maskPoint[2].x=I.centerPoint.x-40,I.maskPoint[3].x=I.centerPoint.x-40;f=I.mask;f.clear(),f.beginFill(16711680),v.drawPolygon(f,I.maskPoint),I.burnStatus=2,I.isCarboned=!0,I.charcoal.alpha=0,TweenMax.to(I.charcoal,2,{alpha:1})}}}},{key:"initEvent",value:function(){var r=this;r.on(NBDrag.event.STOP_DRAG,function(){if(!TweenMax.isTweening(r))for(var t,i,n=r.getSortDisHitObjects(),a=0;a<n.length;a++)if("break"===function(){t=n[a].objB;var e=r.hitContainerAry[t.name];if(!(null==e||t.isFull()||t.isCovered()||t.currentPlug))return t.containsChild(r,!0)||(r.hasRotated()?(t.addChildWithSamePos(r),t.addChildAt(r,0),NBDrag.removeDrag(r),TweenMax.to(r,.5,{x:e.x,y:e.y,onComplete:function(){t.woodenStick=r,NBDrag.addDrag(r),r.execute(NBCommand.CALCULATE_DRAG_RECT,{hitObj:t,target:r,bounds:"local",type:0,offset:{x:e.offsetX,y:e.offsetY}})}})):(t.addChildWithSamePos(r),t.addChildAt(r,0),(i=new TimelineMax).to(r,.5,{x:0+t.localBounds.x,y:0+t.localBounds.y}).to(r,.5,{rotation:-Math.PI/2,x:e.x}).to(r,.5,{y:e.y,onComplete:function(){r.execute(NBCommand.CALCULATE_DRAG_RECT,{hitObj:t,target:r,bounds:"local",type:0,offset:{x:e.offsetX,y:e.offsetY}})}}),r.tl=i)),"break";e&&r.parent===t&&t.addChildAtWithSamePos(r,0)}())break}),r.execute(NBCommand.gesture.PUT_FIRE_GESTURE,{shakeCount:6,time:1e3,dis:r}),r.on("putfire",function(){r.putOffFire(!1)})}},{key:"sparkHitHoff",value:function(e){var t=this.getEquipmentsByType(HoffmanElectrolyticDevice)[0];if(!t)return!1;e=this.getViewStack().toLocal({x:this.secData[e].spark.x,y:this.secData[e].spark.y},this);return!!(g.containsPoint(t.ignitableRect,e)&&t.rightSwitchIsOn&&0<t.o2Mol)}},{key:"hasRotated",value:function(){return this.rotation}},{key:"putOffFire",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;if(0<=t&&t<this.secData.length)return 1===this.secData[t].burnStatus&&(e?(this.secData[t].burnStatus=2,this.secData[t].particle.destroy(),this.removeChild(this.secData[t].particle),this.secData[t].particle=null):(this.secData[t].particle.destroy(),this.removeChild(this.secData[t].particle),this.secData[t].particle=null,this.secData[t].burnStatus=0)),void(2===this.secData[t].burnStatus&&this.secData[t].particle&&(this.secData[t].particle.destroy(),this.removeChild(this.secData[t].particle),this.secData[t].particle=null));for(var i=0;i<this.secData.length;i++)1===this.secData[i].burnStatus&&(e?(this.secData[i].burnStatus=2,this.secData[i].particle.destroy(),this.removeChild(this.secData[i].particle),this.secData[i].particle=null):(this.secData[i].particle.destroy(),this.removeChild(this.secData[i].particle),this.secData[i].particle=null,this.secData[i].burnStatus=0))}},{key:"getHeatDt",value:function(e,t,i,n){t*=.5,274<=i&&(this.lightOnPoint=this.pointToLocal(e),i=!1,n<nb.DISTANCE_ALCOHOL_INTER_FIRE&&(i=!0),this.woodenLightOn(this.pointToLocal(e),t,i))}},{key:"pointToLocal",value:function(e){e=this.toLocal(e);return e.x<0&&(e.x=0),e.x>this.bg.width&&(e.x=this.bg.width),e.y=this.burnY,e}},{key:"woodenLightOn",value:function(e){for(var n=this.getSecIndex(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:600,2<arguments.length&&void 0!==arguments[2]&&arguments[2]),a=[],t=0;t<n.length;t++){var i=this.getOxygenDensity(this.toGlobal(this.getSecPoint(n[t],!0)),t);(2===this.secData[t].burnStatus||i<.05)&&a.push(t)}for(var r=0;r<n.length;r++)!function(e){var t=n[e].index,i=a.find(function(e){return e===t});!i&&0!==i||n.splice(e,1)}(r);return 0<n.length?(this.startBurn(n),1):0}},{key:"getCurrBurnIndex",value:function(e){var t=this.bg.width/this.secData.length,i=Math.floor(e.x/t);return 0<i&&(0,o.default)(e.x/t)===e.x/t&&i--,i=i>=this.secData.length?-1:i}},{key:"getSecIndex",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=this.bg.width/this.secData.length,a=Math.floor(e.x/n);if(!isNaN(a)){0<a&&(0,o.default)(e.x/n)===e.x/n&&a--,a>=this.secData.length&&(a=this.secData.length-1);var r=[];return 0===this.secData[a].burnStatus&&(this.secData.forEach(function(e,t){t!=a&&(e.addHeat=0)}),this.secData[a].addHeat+=t,0===a?r.push({isLeft:!0,index:a}):a===this.secData.length-1?r.push({isLeft:!1,index:a}):Math.round(e.x/n)>a?0===this.secData[a+1].burnStatus&&i?(r.push({isLeft:!1,index:a}),r.push({isLeft:!0,index:a+1})):r.push({isLeft:!1,index:a}):0===this.secData[a-1].burnStatus&&i?(r.push({isLeft:!0,index:a}),r.push({isLeft:!1,index:a-1})):r.push({isLeft:!0,index:a})),this.secData[a].addHeat<600?(137<=this.secData[a].addHeat&&this.addSmudging(r,this.secData[a].addHeat),[]):0!==this.rotation?[{isLeft:!0,index:a}]:r}}},{key:"addSmudging",value:function(e,t){for(var i,n=this.bg.width/this.secData.length,a=0;a<e.length;a++){var r,o=e[a].index;this.secData[o].charcoal?t?this.secData[o].charcoal.alpha<(r=(t-137)/274/2)&&(this.secData[o].charcoal.alpha=r):this.secData[o].charcoal.alpha=1:(this.secData[o].charcoal=this.charcoal.clone(),this.secData[o].charcoal.alpha=0,this.addChild(this.secData[o].charcoal),this.secData[o].charcoal.x=n*o-2,this.secData[o].charcoal.y=-1,this.secData[o].charcoal.visible=!0,i=new PIXI.Graphics,(this.secData[o].charcoal.mask=i).clear(),i.beginFill(16711680),r=this.getMaskPoint(e[a]),v.drawPolygon(i,r),(this.secData[o].mask=i).alpha=0,this.addChild(this.secData[o].mask),this.secData[o].isLeft=e[a].isLeft,this.secData[o].maskPoint=r,t||(this.secData[o].charcoal.alpha=1))}}},{key:"addFire",value:function(e){for(var t=this.bg.width/this.secData.length,i=0;i<e.length;i++){var n,a=e[i].index;this.secData[a].burnStatus=1,this.secData[a].particle?(this.secData[a].particle.visible=!0,this.secData[a].spark.alpha=1):(this.secData[a].particle=this.getParticle(),(n=this.secData[a].point=new PIXI.Graphics).beginFill(15728895,0),n.drawCircle(0,0,5),n.position.set(this.getSecPoint(e[i]).x,this.burnY),this.addChild(n),this.secData[a].particle.position.set(this.getSecPoint(e[i]).x,this.burnY),this.secData[a].spark&&(this.secData[a].spark.alpha=0),this.secData[a].spark=this.spark.clone(),this.secData[a].spark.x=t*a-(this.secData[a].spark.width-t)/2,this.secData[a].spark.y=this.spark.y,this.secData[a].spark.alpha=1,this.addChild(this.secData[a].spark))}}},{key:"startBurn",value:function(e){this.addSmudging(e),this.addFire(e)}},{key:"getMaskPoint",value:function(e){var t=this.bg.width/this.secData.length;return e.isLeft?[{x:t*e.index+15,y:0},{x:t*e.index+15,y:14},{x:t*e.index+5,y:14},{x:t*e.index+10,y:0}]:[{x:t*(e.index+1)-10,y:0},{x:t*(e.index+1)-5,y:14},{x:t*(e.index+1)-15,y:14},{x:t*(e.index+1)-15,y:0}]}},{key:"getSecPoint",value:function(e,t){var i=this.bg.width/this.secData.length;if(t&&this.rotation===M&&this.parent!==this.getViewStack().eqLayer&&1===this.secData[e.index].burnStatus){t=0;return 1===this.secData[e.index].particle.getParticleProp("particleBlendMode")?t=24:0===this.secData[e.index].particle.getParticleProp("particleBlendMode")&&(t=12),{x:(e.index+1)*i-t,y:this.burnY}}return e.isLeft?{x:e.index*i+10,y:this.burnY}:{x:(e.index+1)*i-10,y:this.burnY}}},{key:"getParticle",value:function(){var e=f.getParticle(f.particles.wooden_fire);return e.ifScaleParticle=!0,e.fireInContainer=!0,this.getViewStack().addParticle(e),e.bind(this),e.allowGetBounds=!1,e}},{key:"updateMaskPoint",value:function(e){if(e<0||e>=this.secData.length||this.secData[e].maskPoint.length<4)return[];this.secData[e].maskPoint[0].x+=.055,this.secData[e].maskPoint[1].x+=.055,this.secData[e].maskPoint[2].x-=.055,this.secData[e].maskPoint[3].x-=.055}},{key:"update",value:function(e){(0,l.default)((0,u.default)(WoodenStick.prototype),"update",this).call(this,e);for(var t=0;t<this.secData.length;t++){var i,n,a,r=this.secData[t];r.spark&&0!==r.spark.alpha&&(1===r.burnStatus?(r.mask&&(r.mask.clear(),r.mask.beginFill(16711680)),r.isLeft?r.point.x+=.055:r.point.x-=.055,r.particle&&(r.particle.position.set(r.point.position.x,r.point.position.y),r.particle&&1===r.burnStatus&&(a=r.point.getBounds(),i=this.toGlobal(r.point.position),n=this.getViewStack().scale.x,a.x=i.x-40*n,a.y=i.y-200*n,a.width=80*n,a.height=220*n,this.newRadiantHeat(nb.ALCOHOL_HEAT_VALUE,a,e,nb.TEMP_MATCH,!1,!1,r.particle)),r.particle.render()),-1==(a=this.getCurrBurnIndex({x:r.point.x,y:this.burnY}))&&this.putOffFire(!0,t),-1!=a&&t!=a&&(this.woodenLightOn({x:r.point.x,y:this.burnY}),this.putOffFire(!0,t)),this.updateMaskPoint(t),v.drawPolygon(r.mask,r.maskPoint),m.genEffectFunc(this,e,3e-7),TweenMax.isTweening(r.spark)&&(TweenMax.killTweensOf(r.spark),r.spark.alpha=1),r.spark._gsTweenID&&delete TweenLite._internals.tweenLookup[r.spark._gsTweenID]):0===r.spark.alpha||TweenMax.isTweening(r.spark)||TweenMax.to(r.spark,30,{alpha:0}),a=void 0,.4<(a=this.addedIgnitableEquipment&&this.addedIgnitableEquipment.rightSwitchIsOn&&0<this.addedIgnitableEquipment.right.leakageMedicine.getMol()?.5:this.getOxygenDensity(this.toGlobal(this.getSecPoint({index:t},!0)),t))?this.burnQuick(t):.1<a?this.burnNormal(t):(this.putOffFire(!1,t),TweenMax.killTweensOf(r.spark),r.spark.alpha=0,r.spark._gsTweenID&&delete TweenLite._internals.tweenLookup[r.spark._gsTweenID]))}this.clearHitGas(),this.checkPreventFire()}},{key:"burnQuick",value:function(e){0!==this.secData[e].burnStatus&&1!==this.secData[e].burnStatus||(this.secData[e].particle||(this.secData[e].particle=this.getParticle()),this.secData[e].particle.loaded&&(this.secData[e].burnStatus=1,this.secData[e].particle.setParticleProp("startScale",1.8),this.secData[e].particle.setParticleProp("endScale",.7),this.secData[e].particle.setParticleProp("startAlpha",1),this.secData[e].particle.setParticleProp("endAlpha",1),this.secData[e].particle.setParticleProp("startSpeed",1800)))}},{key:"burnNormal",value:function(e){1===this.secData[e].burnStatus&&(!TweenMax.isTweening(this.secData[e].particle)&&1!==this.secData[e].particle.getParticleProp("particleBlendMode")||(this.secData[e].particle.setParticleProp("startScale",1.5),this.secData[e].particle.setParticleProp("endScale",.4),this.secData[e].particle.setParticleProp("startAlpha",.3),this.secData[e].particle.setParticleProp("endAlpha",.5),this.secData[e].particle.setParticleProp("startSpeed",1500)))}},{key:"getOxygenDensity",value:function(e,t){var i=this.secData[t].hitGas;if(!t&&0!==t||"number"!=typeof t||!i)return this.currentContainer?g.containsPoint(this.currentContainer.liquidVertexUp,e)?this.parent.getGasDensity("O2"):g.containsPoint(this.currentContainer.liquidVertex,e)?0:.2:.2;var n=0;i.forEach(function(e){n+=e.getMol()});e=0,i=i.find(function(e){return"O2"===e.name});return i&&(e=i.getMol()),n<=0?0:e/n}},{key:"getSolidMedicineInfo",value:function(){var e=this.solidMedicine;return(new n.default).set(e.name,e.deepClone(e.mol/90))}},{key:"getGasMedicineInfo",value:function(){if(this.currentContainer){var e=this.currentContainer.medicineData.gasAry,t=new n.default;return e.forEach(function(e){t.set(e.name,e)}),t}return(0,l.default)((0,u.default)(WoodenStick.prototype),"getGasMedicineInfo",this).call(this)}},{key:"addMedicine",value:function(e){this.currentContainer&&e instanceof y&&this.currentContainer.addMedicine(e)}},{key:"setReactStatus",value:function(){}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(WoodenStick.prototype),"setJSON",this).call(this,e);var t=this.parent;t!=this.getViewStack().eqLayer&&null!=t&&(e=this.hasRotated()?{x:-25,y:0}:null,this.execute(NBCommand.CALCULATE_DRAG_RECT,{hitObj:t,target:this,bounds:"local",type:0,offset:e}))}},{key:"checkDipInLiquid",value:function(e){for(var t=0;t<20;t++){var i=this.toGlobal(this.secData[t].centerPoint);g.containsPoint(e.liquidVertex,i)&&(this.secData[t].burnStatus=2)}}},{key:"addHint",value:function(e,t){e.willAdsorbEqBounds||(this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg(),(t=this.drawBg(e,t.x,t.y,{rotation:t.rotation}))&&((e.willAdsorbEqBounds=t).allowGetBounds=!1,this.lastHitEquipment=e))}},{key:"clearHitGas",value:function(){for(var e=0;e<this.secData.length;e++)this.secData[e].hitGas=null}},{key:"hitReact",value:function(e,t){if(t&&this.secData)for(var i=0;i<this.secData.length;i++){var n=this.toGlobal(this.getSecPoint({index:i},!0)),n=t.contains(n.x,n.y);this.secData[i].hitGas=n?e:null}}},{key:"getConfigureData",value:function(){var e=(0,l.default)((0,u.default)(WoodenStick.prototype),"getConfigureData",this).call(this);return e&&e.confArr||(e={confArr:[]}),this.parent===this.getEqLayer()&&e.confArr.push(C.getRadio("方向",+this.dirctionType,["垂直","水平"],function(e){this.dirctionType=e}.bind(this),this)),e}}]),WoodenStick}();e.exports=WoodenStick},function(e,t,HoffmanElectrolyticDevice){"use strict";var a=HoffmanElectrolyticDevice(4),i=HoffmanElectrolyticDevice(0),n=i(HoffmanElectrolyticDevice(1)),r=i(HoffmanElectrolyticDevice(2)),o=i(HoffmanElectrolyticDevice(7)),s=i(HoffmanElectrolyticDevice(5)),l=i(HoffmanElectrolyticDevice(6)),h=i(HoffmanElectrolyticDevice(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=HoffmanElectrolyticDevice(8),d=HoffmanElectrolyticDevice(1169),p=HoffmanElectrolyticDevice(16),f=HoffmanElectrolyticDevice(57),I=HoffmanElectrolyticDevice(127),g=HoffmanElectrolyticDevice(75),m=HoffmanElectrolyticDevice(22),y=HoffmanElectrolyticDevice(21),v=4e-5/10.2,HoffmanElectrolyticDevice=function(){(0,s.default)(HoffmanElectrolyticDevice,u);var t=c(HoffmanElectrolyticDevice);function HoffmanElectrolyticDevice(){var e;return(0,n.default)(this,HoffmanElectrolyticDevice),(e=t.call(this)).name="HoffmanElectrolyticDevice",e.CNName="霍夫曼电解器",e.oriLiquidData={bottomHeight:753,topHeight:119.1,centerHeight:871.5},e.noSetMedJson=!0,e.z_index=5.04,e.left={},e.right={},e.center={},e.left.bubbleParticle=null,e.right.bubbleParticle=null,e.left.waterContainer=new PIXI.Container,e.right.waterContainer=new PIXI.Container,e.left.fireParticlePos={x:-85,y:-185,rotation:-Math.PI/2},e}return(0,r.default)(HoffmanElectrolyticDevice,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(HoffmanElectrolyticDevice.prototype),"creationComplete",this).call(this);var e=this.root.medicineManager.getMedicineData("H2"),t=this.root.medicineManager.getMedicineData("O2"),i=this.root.medicineManager.getMedicineData("H2O"),n=this.root.medicineManager.getMedicineData("H2SO4");this.left.medicine=new GasVO(e,0),this.right.medicine=new GasVO(t,0),this.left.leakageMedicine=new GasVO(e,0),this.right.leakageMedicine=new GasVO(t,0),this.center.waterMedicine=new LiquidVO(i,10),this.left.waterMedicine=new LiquidVO(i,1),this.right.waterMedicine=new LiquidVO(i,1),this.left.waterContainer.mask=this.leftMask.getChildAt(0),this.right.waterContainer.mask=this.rightMask.getChildAt(0);i=this.capacityBorder.getChildAt(0);this.liquidLeftTop.mask=i,this.liquidRightTop.mask=i,this.liquidLeft.mask=i,this.liquidRight.mask=i,this.liquidCenter.mask=i,this.liquidLeftTop.height=0,this.liquidRightTop.height=0,this.liquidLeft.height=this.oriLiquidData.bottomHeight,this.liquidRight.height=this.oriLiquidData.bottomHeight,this.initSwich(),this.initWaterContainer(),this.rightO2FUN(),this.medicineData=new g(this),this.medicineData.push(this.left.waterMedicine),this.medicineData.push(this.right.waterMedicine),this.medicineData.push(this.center.waterMedicine),this.medicineData.push(this.left.medicine),this.medicineData.push(this.right.medicine),this.medicineData.push(new LiquidVO(n,.17)),this.offsetInfo={x:-800,y:-500},this.addListeners()}},{key:"rightO2FUN",value:function(){var n=this;this.ignitableRect=[{x:210,y:-305},{x:210,y:-175},{x:110,y:-175},{x:110,y:-305}],this.ignitableRect.forEach(function(e,t,i){i[t]=n.getViewStack().toLocal(e,n)})}},{key:"initSwich",value:function(){var e=this,t=this.root.mouseManager;this.leftSwitch.on(TouchEvent.TOUCH_BEGIN,function(){e.leftSwitchIsOn=!e.leftSwitchIsOn}),this.rightSwitch.on(TouchEvent.TOUCH_BEGIN,function(){e.rightSwitchIsOn=!e.rightSwitchIsOn}),this.leftSwitch.on(MouseEvent.MOUSE_OVER,function(){t.changeMouseStatus(p.status.PAN,!0,e.leftSwitch)}),this.rightSwitch.on(MouseEvent.MOUSE_OVER,function(){t.changeMouseStatus(p.status.PAN,!0,e.rightSwitch)}),this.leftSwitch.on(MouseEvent.MOUSE_OUT,function(){t.changeMouseStatus(p.status.PAN,!1,e.leftSwitch)}),this.rightSwitch.on(MouseEvent.MOUSE_OUT,function(){t.changeMouseStatus(p.status.PAN,!1,e.rightSwitch)}),this.powerSwitch.on(TouchEvent.TOUCH_BEGIN,function(){e.onElectric=!e.onElectric}),this.powerSwitch.on(MouseEvent.MOUSE_OVER,function(){t.changeMouseStatus(p.status.PAN,!0,e.powerSwitch)}),this.powerSwitch.on(MouseEvent.MOUSE_OUT,function(){t.changeMouseStatus(p.status.PAN,!1,e.powerSwitch)}),this.leftSwitchIsOn=!1,this.rightSwitchIsOn=!1,this.onElectric=!1,this.leftSwitch.interactive=!0,this.rightSwitch.interactive=!0,this.powerSwitch.interactive=!0}},{key:"leftSwitchIsOn",get:function(){return 1===this.leftSwitch.currentFrame},set:function(e){e?this.leftSwitch.gotoAndStop(1):this.leftSwitch.gotoAndStop(0)}},{key:"rightSwitchIsOn",get:function(){return 1===this.rightSwitch.currentFrame},set:function(e){e?this.rightSwitch.gotoAndStop(1):this.rightSwitch.gotoAndStop(0)}},{key:"onElectric",get:function(){return 0===this.powerSwitch.currentFrame},set:function(e){e?(this.powerSwitch.gotoAndStop(0),this.powerLight.gotoAndStop(0)):(this.powerSwitch.gotoAndStop(1),this.powerLight.gotoAndStop(1),this.clearParticle())}},{key:"initWaterContainer",value:function(){this.addChild(this.left.waterContainer),this.addChild(this.right.waterContainer)}},{key:"updateBubble",value:function(e){var t=["left","right"];if(this.onElectric)for(var i=0;i<t.length;i++){var n,a=this[t[i]].bubbleParticle;a?(n=void 0,n="left"===t[i]?{x:-90,y:650,rotation:0}:{x:160,y:650,rotation:0},"left"===t[i]?a.updateMedicine(this[t[i]].medicine,2e-4,n):a.updateMedicine(this[t[i]].medicine,4e-5,n),a.render(e)):((a=ParticleUtil.getParticle(ParticleUtil.particles.electrolytic_bubble)).allowGetBounds=!1,this[t[i]].bubbleParticle=new d(this[t[i]].waterContainer,a))}}},{key:"clearParticle",value:function(e){e&&"bubble"!==e||(this.left.bubbleParticle&&(f.destroy(this.left.bubbleParticle.particle),this.left.bubbleParticle=null),this.right.bubbleParticle&&(f.destroy(this.right.bubbleParticle.particle),this.right.bubbleParticle=null))}},{key:"updateMaskTop",value:function(){this.leftMask.getChildAt(0).scale.y=this.updateDirectionMaskTop("Left")/this.oriLiquidData.bottomHeight,this.rightMask.getChildAt(0).scale.y=this.updateDirectionMaskTop("Right")/this.oriLiquidData.bottomHeight}},{key:"updateDirectionMaskTop",value:function(e){return this["liquid".concat(e)].height<this.oriLiquidData.bottomHeight?this["liquid".concat(e)].height:this["liquid".concat(e)].height+this["liquid".concat(e,"Top")].height}},{key:"autoAddMedicine",value:function(){var e,t,i;this.onElectric&&(e=this.left.medicine,t=this.right.medicine,i=this.center.waterMedicine,e.setMol(e.getMol()+2*v),t.setMol(t.getMol()+v),i.setMol(i.getMol()-v))}},{key:"rightGasHitEq",value:function(){var e=this.toGlobal({x:0,y:0}),t=this.getViewStack().scale.x;e.x+=125*t,e.y-=300*t;var i=new PIXI.Rectangle(e.x,e.y,80*t,140*t),t=this.getObjectByAABB(i,!0),n=[this.right.leakageMedicine];0<this.right.leakageMedicine.getMol()&&t.forEach(function(e){e.hitReact&&e.hitReact instanceof Function&&e.hitReact(n,i)})}},{key:"autoLosMedicine",value:function(){var e=this.left.medicine,t=this.right.medicine,i=this.left.leakageMedicine,n=this.right.leakageMedicine;function a(e,t){0<e.getMol()?e.getMol()>4*v?(t.setMol(4*v),e.setMol(e.getMol()-4*v)):(t.setMol(e.getMol()),e.setMol(0)):t.setMol(0)}this.leftSwitchIsOn?a(e,i):i.setMol(0),this.rightSwitchIsOn?a(t,n):n.setMol(0)}},{key:"autoChangeWaterHeight",value:function(){var e=this.left.medicine.getMol()/(.16/10.2),t=this.right.medicine.getMol()/(.16/10.2),i=.03<e?648*(.03+e):648*e*2,n=.03<t?648*(.03+t):648*t*2;this.liquidLeft.height=this.oriLiquidData.bottomHeight-i,this.liquidRight.height=this.oriLiquidData.bottomHeight-n;e=this.left.waterMedicine.getMol(),t=this.right.waterMedicine.getMol();this.left.waterMedicine.setMol((648-i)/648*1),this.right.waterMedicine.setMol((648-n)/648*1);e-=this.left.waterMedicine.getMol(),t-=this.right.waterMedicine.getMol();this.center.waterMedicine.setMol(this.center.waterMedicine.getMol()+e+t);t=this.center.waterMedicine.getMol();this.liquidCenter.height=1<t?12<t?this.oriLiquidData.centerHeight:this.oriLiquidData.bottomHeight+(this.oriLiquidData.centerHeight-this.oriLiquidData.bottomHeight)*((t-1)/11):+t*this.oriLiquidData.bottomHeight,(648<=i||648<=n)&&(this.onElectric=!1)}},{key:"autoBlance",value:function(){var i=this;function e(e){var t=i["liquid".concat(e)],e=i["liquid".concat(e,"Top")];t.height==i.oriLiquidData.bottomHeight?1<(t=i.liquidCenter.height-i.oriLiquidData.bottomHeight)-e.height?e.height++:t-e.height<-1?e.height--:e.height=t:(0<e.height&&e.height--,e.height<0&&(e.height=0))}this.leftSwitchIsOn&&e("Left"),this.rightSwitchIsOn&&e("Right")}},{key:"leftFire",value:function(e){var t=this.left.fireParticlePos;t.particle&&(this.left.leakageMedicine&&this.leftSwitchIsOn&&t.particle.parent||(f.destroy(t.particle),t.particle=null),t.particle&&(t.particle.updateMedicine([this.left.leakageMedicine]),t.particle.render(e),(e=this.children.find(function(e){return e&&e.isBaseContainer}))&&e.addFume instanceof Function&&(e.addFume(2*v),e.dripFume>e.dripMaxFume&&(e.dripFume-=e.dripMaxFume,e.tubeDrip.forceDripWater("H2O",e.dripMaxFume)))))}},{key:"getLightOnPoint",value:function(){return this.toGlobal(this.left.fireParticlePos)}},{key:"lightOn",value:function(){var e,t;!this.left.fireParticlePos.particle&&this.left.leakageMedicine&&this.leftSwitchIsOn&&(t=(e=this.left.fireParticlePos).particle=new I(this,void 0,void 0,.5),this.addChild(t),t.x=e.x,t.y=e.y,t.rotation=e.rotation)}},{key:"addListeners",value:function(){var t=this;this.on("hitted",function(e){e.hitObj===t&&(t.coveredBottle=e.dragObj)}),this.on("_childPrepareDrag_",function(){t.coveredBottle=null})}},{key:"updateMedicineData",value:function(){var e=this.medicineData.getMedVo("H2O","liquid",!1),t=this.left.waterMedicine.getMol(),i=this.right.waterMedicine.getMol(),n=this.center.waterMedicine.getMol();e.setMol(t+i+n),this.medicineData.getMedVo("H2","gas",!1).setMol(this.left.medicine.getMol()),this.medicineData.getMedVo("O2","gas",!1).setMol(this.right.medicine.getMol()),this.onElectric&&this.setReactStatus(m.EquationMap.H2O.H2O.equationAry[0],8)}},{key:"getConfigureData",value:function(){for(var e=this,i=["体积","物质的量","化学方程式","浓度","质量"],n=["conf_show_volume","conf_show_mol","conf_chemical_equation","conf_show_sol","conf_show_weight"],a={confArr:[]},t=0;t<i.length;t++)!function(t){a.confArr.push(y.inputSwitch(i[t],e[n[t]],function(e){this[n[t]]=e.checked}.bind(e)))}(t);return a}},{key:"update",value:function(e){(0,o.default)((0,h.default)(HoffmanElectrolyticDevice.prototype),"update",this).call(this,e),this.updateBubble(e),this.updateMaskTop(e),this.autoAddMedicine(e),this.autoLosMedicine(e),this.updateMedicineData(e),this.autoChangeWaterHeight(e),this.autoBlance(e),this.leftFire(e),this.rightGasHitEq(e)}}]),HoffmanElectrolyticDevice}();e.exports=HoffmanElectrolyticDevice},function(e,t,IronWire){"use strict";var a=IronWire(4),i=IronWire(0),n=i(IronWire(9)),l=i(IronWire(77)),r=i(IronWire(24)),o=i(IronWire(61)),s=i(IronWire(1)),h=i(IronWire(2)),c=i(IronWire(7)),u=i(IronWire(5)),d=i(IronWire(6)),p=i(IronWire(3));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,t)}}var I=IronWire(10),g=IronWire(8),m=IronWire(34),y=IronWire(26),v=IronWire(31),C=IronWire(32),M=IronWire(125),b=IronWire(20),x=IronWire(27),O=IronWire(22),A=IronWire(195),T=IronWire(74),S=IronWire(144),w=IronWire(29).getLan,IronWire=function(){(0,u.default)(IronWire,g);var t=f(IronWire);function IronWire(){var e;return(0,s.default)(this,IronWire),(e=t.call(this)).name="IronWire",e.CNName="铁丝",v.register(C.IRON_BURN),e.z_index=19.09,e.on(NBEvent.del.PREPARE_DELETE,function(){v.stop(),e.matchParticle&&e.matchParticle.destroy()}),e.limitRotateType=0,e.showedTip=!1,e.tipTimmer=null,e}return(0,h.default)(IronWire,[{key:"creationComplete",value:function(){this.hasWooden||(this.match.allowGetBounds=!1,this.match_mask.allowGetBounds=!1),(0,c.default)((0,p.default)(IronWire.prototype),"creationComplete",this).call(this),this.initMatchParticle(),this.initIronParticle();var e=this.medicineManager.getMedicineData("Fe");this.solidMedicine=new b(e,10).setTemp(600),this.woodX=0,this.ironY=0,this.redIronPic.alpha=0,this.matchFireStatus=new B,this.ironFireStatus=new B,this.ironFireStatus.direct=1,this.ironFireStatus.x_offset=0,this.matchBurnLen=this.match.height-10,this.ironBurnLen=119,this.hasDragLimit=!1,this.count=0,this.match.visible=!1,this.matchFireStatus.percent=-1,this.breakNum=0,this.updateGlobalAry(),this.initListener(),this.showTip(w("eq_ironwireTip"),18,!0),this.tipGra.visible=!1,this.lastParent=null}},{key:"addToGasCollectingBottle",value:function(e){this.ironParticle.mask=e.gasMask}},{key:"initMatchParticle",value:function(){this.match.mask=this.match_mask.getChildAt(0),this.matchParticle=m.getParticle(m.particles.little_match),this.matchParticle.bindObjPosition={x:60,y:550},this.matchParticle.bind(this),this.getViewStack().addParticle(this.matchParticle)}},{key:"initListener",value:function(){var t=this;this.on(T.event.PREPARE_DRAG,function(){return t.setLimitVal(0)}),this.on("outLeftBounds",function(e){return t.setLimitVal(e)}),this.on("outRightBounds",function(e){return t.setLimitVal(e)}),this.on("outTopBounds",function(e){return t.setLimitVal(0)})}},{key:"setLimitVal",value:function(e){this.parent&&this.parent.isGasBottle&&(100<e&&1!==this.limitRotateType||e<-100&&-1!==this.limitRotateType?e<0&&25<Math.abs(this.x-this.dragRect.x)||0<e&&20<Math.abs(this.x-this.dragRect.x-this.dragRect.width)||(this.limitRotateType=0<e?1:-1,this.setLimitRotation(this.limitRotateType,this.parent.eqLimitPos.y)):Math.abs(e)<50&&0!==this.limitRotateType&&(this.limitRotateType=0,this.resetLimitRotation()))}},{key:"setLimitRotation",value:function(e,t){var i=this.x,t=this.toLocal(this.parent.toGlobal({x:i,y:t}));this.x+=t.x,this.y+=t.y,this.pivot.set(t.x,t.y),this.rotation=1===e?.15:-.15}},{key:"resetLimitRotation",value:function(){this.rotation=0;var e=this.pivot;this.x-=e.x,this.y-=e.y,this.pivot.set(0,0),this._lastGlobalTouchPoint=this.parent.toGlobal(this)}},{key:"initIronParticle",value:function(){this.iron.mask=this.iron_mask.getChildAt(0),this.redIronPic.mask=this.iron_mask.getChildAt(0);var e=m.getParticle(m.particles.iron_fire);e.bind(this,20,-20),this.addChild(e),(this.particle=e).allowGetBounds=!1;var t=m.getParticle(m.particles.iron_fire_spark);this.addChild(t),t.bind(this),(this.particle01=t).allowGetBounds=!1;var i=m.getParticle(m.particles.iron_fire_spark01);this.addChild(i),i.bind(this,20,-10),(this.particle02=i).allowGetBounds=!1;var n=m.getParticle(m.particles.iron_fire_01);this.addChild(n),n.bind(this,200,-10),(this.particle03=n).allowGetBounds=!1;var a=new M;a.push(e).push(t).push(i).push(n),(this.ironParticle=a).setPosition(40,500)}},{key:"update",value:function(e){this.updateMatchStatus(e),this.updateIronStatus(e),this.updateRedIron(),this.updateClParticle(e);var t=this.globalAryBody.toGlobal({x:0,y:0}),e=this.globalAry[0];(.001<Math.abs(t.x-e.x)||.001<Math.abs(t.y-e.y))&&this.updateGlobalAry(),this.checkShowTip()}},{key:"checkShowTip",value:function(){var e,t=this;this.parent&&this.parent.isGasBottle?this.showedTip||(this.showedTip=!0,this.tipGra.visible=!0,e=this.getLocalBounds(),this.tipGra.x=e.x+e.width/2+11,this.tipGra.y=e.y,TweenMax.to(this.tipGra,.5,{alpha:1,y:e.y+e.height/4}),this.tipTimmer=setTimeout(function(){TweenMax.to(t.tipGra,.5,{alpha:0,onComplete:function(){t.tipTimmer=null}})},3e3)):this.showedTip&&this.clearTipTimer()}},{key:"clearTipTimer",value:function(){this.showedTip=!1,this.tipGra.visible=!1,this.tipGra.alpha=0,this.tipGra.visible&&TweenMax.killTweensOf(this.tipGra),this.tipTimmer&&(clearTimeout(this.tipTimmer),this.tipTimmer=null)}},{key:"updateRedIron",value:function(){0<this.redIronPic.alpha&&(.002<this.redIronPic.alpha?this.redIronPic.alpha-=.002:this.redIronPic.alpha=0),this.ironFireStatus.start&&0<=this.ironFireStatus.percent&&(this.redIronPic.alpha<.996?this.redIronPic.alpha+=.004:this.redIronPic.alpha=1)}},{key:"updateGlobalAry",value:function(){var e=this.globalAryBody.getBounds(),t=e.x,i=e.y,n=e.width,e=e.height;this.globalAry=[{x:t,y:i},{x:t+n,y:i},{x:t+n,y:i+e},{x:t,y:i+e}]}},{key:"matchLightOn",value:function(){this.matchFireStatus.start=!0}},{key:"addDragLimit",value:function(){this.dragEnable(!1);var e=this.dragRect;e.y=-250,e.height=50,T.addDrag(this,e),this.hasDragLimit=!0}},{key:"removeDragLimt",value:function(){this.dragEnable(!0)}},{key:"ironLightOn",value:function(){this.ironFireStatus.start=!0}},{key:"getOxygenDensity",value:function(e,t){var i=.2;"Cl2"===t&&(i=0);var n=this.getCurrentContainer();if(n){if(!y.containsPoint(n.liquidVertexUp,e))return y.containsPoint(n.liquidVertex,e)?0:i;var a=0,r=0;return n.medicineData.gasAry.forEach(function(e){"Cl2"===t?"Cl2"==e.name&&(r+=e.mol):"O2"==e.name&&(r+=e.mol),a+=e.mol}),0==a?0:r/a}return i}},{key:"matchBurnReduceMed",value:function(){var e,t=this.getCurrentContainer();t&&(e=this.root.medicineManager.getMedicineData("CO2"),t.addMedicine(new x(e,2e-5)),e=this.root.medicineManager.getMedicineData("O2"),t.addMedicine(new x(e,-3e-5)),e=this.root.medicineManager.getMedicineData("H2O"),t.addMedicine(new x(e,1e-5)))}},{key:"updateMatchStatus",value:function(e){var t,i,n=this.matchParticle,a=this.matchFireStatus,r=this.matchBurnLen,o=this.match_mask;a.start&&0<=a.percent&&(n?(n.bindObjPosition.y=550-this.woodX,n.render(),t=this.getOxygenDensity(this.toGlobal(this.matchParticle.bindObjPosition)),i=this.getOxygenDensity(this.toGlobal({x:60,y:500}),"Cl2"),.4<t?n.particle&&(n.setParticleProp("startScale",1),n.setParticleProp("endScale",1)):.1<t?n.particle&&(n.setParticleProp("startScale",.5),n.setParticleProp("endScale",.5)):(n.destroy(),this.matchParticle=null,this.matchFireStatus.start=!1),this.matchParticle&&a.percent<1?(a.percent+=e/10,this.woodX+=r/10*e,o.scale.x=1-this.matchFireStatus.percent):(1<=a.percent&&(this.match.visible=!1,n.destroy(),this.matchParticle=null,this.matchFireStatus.start=!1,a.percent=-1),.4<t&&i<.2&&this.ironLightOn()),this.matchBurnReduceMed()):this.initMatchParticle())}},{key:"updateIronStatus",value:function(e){var t=this,i=this.ironParticle,n=this.ironFireStatus,a=this.ironBurnLen;if(this.hasDragLimit||n.start,n.start&&0<=n.percent){var r,o,s=this.getOxygenDensity(this.toGlobal({x:60,y:500})),l=this.getCurrentContainer(),h=!1;if(l&&this.particle01&&l.liquidVertexUp&&2<l.liquidVertexUp.length&&(r=this.toGlobal({x:60,y:500+Math.min(this.particle01.bindOffsetY+5,0)}),h=!S.checkPolygonPointArr2(r,l.liquidVertexUp)),.4<=s&&!h){if(i.render(e,!1),l&&(s=!1,!(s=l.isGasBottle&&0===this.limitRotateType&&(Math.abs(this.x-this.dragRect.x)<10||Math.abs(this.x-this.dragRect.x-this.dragRect.width)<10)?!0:s)&&l.getCurrentCapacity()<5&&((!(h=l.medicineData&&l.medicineData.solidAry["沙子"])||h.getMass()<10)&&(s=!0)),s&&this.breakNum++),50<this.breakNum&&l.doBreakImg(),O.genEffectFunc(this,e),n.percent<1){n.percent+=e/10;for(var c=0;c<i._particles.length;c++)i._particles[c].bindOffsetY-=a/10*e;this.iron_mask.scale.y-=e/10,n.percent<.85&&(this.burnSound?"playFinished"!==this.burnSound.playState&&"playFailed"!==this.burnSound.playState||this.burnSound.play():this.burnSound=v.play(C.IRON_BURN,null,null,null,-1))}.85<=n.percent&&n.percent<.9&&(o=this,i._particles.forEach(function(e){o.particle01===e&&e.destroy()}),this.burnSound&&(this.burnSound._pause(),this.burnSound=null)),.9<=n.percent&&!TweenMax.isTweening(i)&&TweenMax.to(i,2,{alpha:0,onComplete:function(){i.destroy(),n.percent=-1,t.hasDragLimit&&t.removeDragLimt(),t.burnSound&&(t.burnSound._pause(),t.burnSound=null)}})}else this.breakNum=0,TweenMax.isTweening(i)||TweenMax.to(i,2,{alpha:0,onComplete:function(){i.destroy(),n.percent=-1,t.hasDragLimit&&t.removeDragLimt(),t.burnSound&&(t.burnSound._pause(),t.burnSound=null)}})}}},{key:"updateClParticle",value:function(e){var t=this.getCurrentContainer(),i=this.ironFireStatus;this.iron.mask=this.iron_mask.getChildAt(0),this.checkCanBurnInCl()&&0<=i.percent?(O.genEffectFunc(this,e,26e-7),this.redIronPic.alpha+=.003,i.percent<1&&(i.percent+=e/10,this.iron_mask.scale.y-=e/10),this.particleCl?(this.particleClOut.particle&&(i=this.particleClOut.particle,this.parent.isCoverGS&&this.parent.openArea<1?(e=this.parent.openArea,"right"===this.parent.openDirection?(i.spawnRect.x=-30,i.spawnRect.width=100*e,i.minStartRotation=-120,i.maxStartRotation=50*e-120):(i.spawnRect.x=100*(1-e)-30,i.spawnRect.width=100*e,i.minStartRotation=-70-50*e,i.maxStartRotation=50*e-70)):(i.spawnRect.x=-30,i.spawnRect.width=100,i.minStartRotation=-120,i.maxStartRotation=-70)),this.particleCl.render(),this.particleClOut.render()):(this.root.particleManager.initWireClSmoke.call(this,"iron"),this.particleCl.mask=t.gasMask,this.match.visible=!1)):this.particleCl&&(this.root.particleManager.destroy(this.particleCl,1),this.root.particleManager.destroy(this.particleClOut,1),this.particleCl=null,this.particleClOut=null)}},{key:"checkCanBurnInCl",value:function(){return!(this.getOxygenDensity(this.toGlobal({x:60,y:500}),"Cl2")<.1)&&!(this.redIronPic.alpha<.7)}},{key:"lightOn",value:function(){this.matchLightOn(),this.redIronPic.alpha<.996?this.redIronPic.alpha+=.004:this.redIronPic.alpha=1}},{key:"getLightOnPoint",value:function(){return this.match.toGlobal({x:20,y:-10})}},{key:"toJSON",value:function(){var e=this.matchFireStatus,t=this.ironFireStatus;return(0,n.default)((0,c.default)((0,p.default)(IronWire.prototype),"toJSON",this).call(this),{matchFireStatus:e.toJSON(),ironFireStatus:(0,n.default)(t.toJSON(),{direct:t.direct,x_offset:t.x_offset}),match_mask_x:this.match_mask.scale.x,match_mask_y:this.match_mask.scale.y,iron_mask_x:this.iron_mask.scale.x,iron_mask_y:this.iron_mask.scale.y,matchParticlePos_y:this.matchParticle&&this.matchParticle.bindObjPosition.y,ironParticlePos_x:this.ironParticle.getPosition().x,ironParticlePos_y:this.ironParticle.getPosition().y})}},{key:"setJSON",value:function(e){(0,c.default)((0,p.default)(IronWire.prototype),"setJSON",this).call(this,e),this.matchFireStatus=(new B).setJSON(e.matchFireStatus),this.ironFireStatus=(0,n.default)((new B).setJSON(e.ironFireStatus),{direct:e.ironFireStatus.direct,x_offset:e.ironFireStatus.x_offset}),this.match_mask.scale.x=e.match_mask_x,this.match_mask.scale.y=e.match_mask_y,this.iron_mask.scale.x=e.iron_mask_x,this.iron_mask.scale.y=e.iron_mask_y,null!=e.matchParticlePos_y&&(this.matchParticle.bindObjPosition.y=e.matchParticlePos_y),this.ironParticle.getPosition(e.ironParticlePos_x,e.ironParticlePos_y)}},{key:"addMedicine",value:function(e){var t=this.getCurrentContainer();switch(e.name){case"FeCl3":e.mol*=2;break;case"Cl2":e.mol*=3;break;case"O2":e.mol*=2}e instanceof b?"Fe"!==e.name&&this.addNewSolid(e):e instanceof x&&t.addMedicine(e)}},{key:"addNewSolid",value:function(e){var t=this.getCurrentContainer();if(t&&t instanceof I){var i,n=new b(e.dat,e.mol),a=e.mol,r=t.medicineNBGraphicMap.get(e.name);r&&(i=this.remainTadius||2.1,r.forEach(function(e){var t=e.getMaxStableMol(n,i);(e.getSolidMedicineInfo().get(n.name)?e.getSolidMedicineInfo().get(n.name).mol:0)<=t&&(e.addMedicine(n.deepClone().setMol(a)),a=0)}));var o=[];if(a){var s=a;if(s<1e-10)return;if(!n.dat.density_solid)return;e=new nape.phys.Material(.2,4,5,(0,l.default)(n.dat.density_solid),500),r=this.ironParticle.getPosition(),r=t.toLocal(this.toGlobal(r)),s=n.deepClone(s),e=new A(t,e,s,r);t.medicineData.push(s.clone()),o.push(e);r=nape.geom.Vec2,s=+Math.random()*Math.PI;e.napeBody.applyImpulse(new r(100*Math.sin(s),100*Math.cos(s)),new r(0,0))}t.addNBGraphic(n.name,o)}}},{key:"getSolidMedicineInfo",value:function(){var e=this.solidMedicine;return(new r.default).set(e.name,e.deepClone(e.mol/9e4))}},{key:"getGasMedicineInfo",value:function(){var e=this.getCurrentContainer();if(e){var e=e.medicineData.gasAry,t=new r.default;return e.forEach(function(e){t.set(e.name,e)}),t}return(0,c.default)((0,p.default)(IronWire.prototype),"getGasMedicineInfo",this).call(this)}},{key:"setReactStatus",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=this.getCurrentContainer();"0"!==e.Available&&i instanceof I&&i.medicineData&&i.medicineData.chemicalFuncAry.add({equation:e,lifeTime:t})}}]),IronWire}(),B=function(){function e(){(0,s.default)(this,e),this._percent=0,this._begin=!1,this.rate={x:0,y:0,set:function(e){if("object"===(0,o.default)(e))return this.x=("number"==typeof e.x?e:this).x,this.y=("number"==typeof e.y?e:this).y,this}}}return(0,h.default)(e,[{key:"percent",get:function(){return this._percent},set:function(e){this._percent=1<e?1:e}},{key:"start",get:function(){return this._begin},set:function(e){this._begin=!!e}},{key:"toJSON",value:function(){return{percent:this._percent,begin:this._begin,rate:this.rate}}},{key:"setJSON",value:function(e){return this._percent=e.percent,this._begin=e.begin,this.rate=e.rate,this}}]),e}();e.exports=IronWire},function(e,t,BlockNa){"use strict";var a=BlockNa(4),i=BlockNa(0),n=i(BlockNa(9)),r=i(BlockNa(59)),o=i(BlockNa(1)),s=i(BlockNa(2)),l=i(BlockNa(7)),h=i(BlockNa(5)),c=i(BlockNa(6)),u=i(BlockNa(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=BlockNa(41),f=BlockNa(57),I=BlockNa(22),g=BlockNa(31),m=BlockNa(32),y=BlockNa(20),v=BlockNa(10),BaseBlockMedicine=BlockNa(198),BlockNa=function(){(0,h.default)(BlockNa,p);var t=d(BlockNa);function BlockNa(){var e;return(0,o.default)(this,BlockNa),(e=t.call(this)).INITMOL=.1,e}return(0,s.default)(BlockNa,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(BlockNa.prototype),"creationComplete",this).call(this),this.setMedVo("Na",.1),this.name="Na",this.constName="BlockNa",this.isBurn=!1,this.isMelt=!1,this.currentMeltFrame=0,this.fireParticle=null,this.bottleGasMed=[],this.changeDensityCount=0,this.boomCount=0,g.register(m.BLOCKNAWATERREACTION),this.sound=null,this.soundOver=!1,this.on(NBEvent.del.PREPARE_DELETE,this.clear),this.on(NBEvent.del.DELETE,this.clear),this.rSpeed=900,this.npScale=.9,this.type=0,this.cutType=0,1!==this.image.currentFrame?this.setImpurity(this.INITMOL/20):(this.impurityMol||(this.impurityMol=0),this.setImpurity(this.impurityMol),this.image.alpha=this.impurityMol/(this.INITMOL/20),this.canOxidation=!0)}},{key:"setImpurity",value:function(e){var t=this.medicineManager.getMedicineData("Na2O"),e=new y(t,e);this.impurity=[e],this.solidMedicineInfo.set("Na2O",e)}},{key:"autoReleaseImpurity",value:function(){var e,t;.01<this.impurity[0].getMol()/this.impurityInitMol-this.blockScale&&(e=this.impurity[0].getMol(),this.impurity[0].setMol(this.blockScale*this.impurityInitMol),(t=this.impurity[0].deepClone()).setMol(e-this.impurity[0].getMol()),this.addMedicine(t))}},{key:"oxidation",value:function(){var e,t,i,n;this.canOxidation&&((i=this.medVo.getMol()/20)<this.impurity[0].getMol()?this.canOxidation=!1:(n=this.getGasMedicineInfo().get("O2"))&&(t=0,t=5e-7<(e=n.getMol())?5e-7:e,n.setMol(n.getMol()-t),this.medVo.setMol(this.medVo.getMol()-4*t),this.impurity[0].setMol(this.impurity[0].getMol()+2*t),n=1<(n=1-this.impurity[0].getMol()/i)?1:n,this.image.alpha=n=n<0?0:n,i=I.EquationMap.Na.O2.equationAry.find(function(e){return 0===e.Speed}),this.container&&this.container.medicineData&&((n=this.container.medicineData.solidAry).Na2O?n.Na2O.setMol(n.Na2O.getMol()+2*t):n.Na2O=this.impurity[0].deepClone(),this.container.setReactStatus(i,100))))}},{key:"getMedicineName",value:function(){return"Na"}},{key:"inH2O",value:function(){if("inWater"===this.posStatus&&.6<this.container.medicineData.getMedVoProportion("H2O","liquid")){if(this.underWater())return this.inWaterRun(),!0;this.napeShape.get_material().set_density(1.3)}return!1}},{key:"underWater",value:function(){var t=this.container.liquidGra.find(function(e){return"H2O"===e.med.name}),e=(0,r.default)(this.container.blockMedicineMap.get("Na"));return!!t&&void 0!==e.find(function(e){return e.y>t.curLocalVertex[0].y})}},{key:"inC2H5OH",value:function(){return"inWater"===this.posStatus&&.2<this.container.medicineData.getMedVoProportion("C2H5OH","liquid")&&this.inC2H5OHRun(),!1}},{key:"burnInAir",value:function(){"inAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(this.burnUpdateTemp(),this.fireParticleGroup?this.fireParticle&&this.smokeParticle&&(this.fireParticle.mask=null,this.smokeParticle.mask=null):this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this))}},{key:"burnInContainerAir",value:function(){"inContainerAir"===this.posStatus&&this.isBurn&&(this.calCanReactDens("Cl2")?(this.burnUpdateTemp(),this.container.needBottleSmoke=!0,this.fireParticleCl=!0,this.fireParticleGroup||(this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this))):this.calCanReactDens("O2")?(this.burnUpdateTemp(),this.fireParticleGroup||(this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this))):(this.container.needBottleSmoke&&(this.container.needBottleSmoke=!1),this.clear()),this.fireParticle&&this.container&&!this.isAirContainer(this.container.name)&&this.fireParticle.mask!=this.container.capacityMask&&(this.fireParticle.mask=this.container.capacityMask,this.smokeParticle.mask=this.container.capacityMask))}},{key:"burnInContainerHasWater",value:function(){"inContainerHasWater"===this.posStatus&&this.isBurn&&this.fireParticle&&this.fireParticle.render()}},{key:"melt",value:function(){!this.burnChange&&this.napeBody&&this.ani.currentFrame===this.ani.totalFrames-1&&(this.burnChange=!0,this.overNapeChange=!0),this.isBurn||this.getTemp()>this.meltingPoint&&(this.isMelt||(this.replaceNapeBody("refM"),this.reduceImage(),this.isMelt=!0),this.ani.currentFrame<this.ani.totalFrames-1?(this.ani.currentFrame++,this.setTemp(this.meltingPoint+1)):this.isBurn=!0,this.currentMeltFrame=this.ani.currentFrame)}},{key:"reduceImage",value:function(){TweenMax.to(this.image.scale,.5,{x:0,y:0}),TweenMax.to(this.image,.5,{alpha:0})}},{key:"inC2H5OHRun",value:function(){var e=this;if(e.changeScale=e.medVo.getMol()/.1,.5<=e.changeScale?this.napeShape.get_material().set_density(1.3):this.napeShape.get_material().set_density(.7),e.changeScale<=.1&&this.removeMed(),e.scale.x=e.changeScale,e.scale.y=e.changeScale,e.autoReleaseImpurity instanceof Function&&e.autoReleaseImpurity(),e.npScale==Number(e.changeScale.toFixed(1))){var t=e.npScale;e.npScale-=.1;t=e.npScale/t;if(t<=0)return;e.napeBody.scaleShapes(t,t),e.npScale=Number(e.npScale.toFixed(1))}this.particleContainer&&this.particleContainer!==this.container&&(this.particleContainer.particleDestroy(e.bubbleParticle),e.bubbleParticle=null)}},{key:"inWaterRun",value:function(){var n,e,t,i;null!=this.parent&&(e=(n=this).napeBody,n.hasChangeCircle||(this.clear(),function(){n.image.alpha=0,n.ani.alpha=0;var e=(42-3*Math.random())/2;n.burnChange&&n.overNapeChange,0;n.circleRadius=e;var t=new PIXI.Graphics,i=new PIXI.Graphics;t.beginFill(13421772,1),i.beginFill(13421772,1),i.drawCircle(0,0,e),t.drawCircle(0,0,e),n.naBubbleParticle=ParticleUtil.getParticle(ParticleUtil.particles.Na_bubble),n.addChild(t),n.addChild(i),n.addChild(n.naBubbleParticle),n.naBubbleParticle.mask=i,n.hasChangeCircle=!0;n.scale.x=.5,n.scale.y=.5,n.autoReleaseImpurity instanceof Function&&n.autoReleaseImpurity();n.napeBody.scaleShapes(.5,.5)}()),this.parent.medicineData&&(this.parent.medicineData.increaseHeat(3),t=(i=n.parent.liquidShapePointAry).ltPoint,i=i.rtPoint.x-t.x,i=Math.random()*i*n.changeScale,i=200+t.x+i,.5<Math.random()&&(i=-i),i=new nape.geom.Vec2(i,0),e.set_rotation(window.vr||0),Math.random()<.05&&e.set_velocity(i),this.parent.activeCount=nb.ACTIVE_COUNT,this.soundOver||(this.sound&&"playFinished"!==this.sound.playState&&"playFailed"!==this.sound.playState||(this.sound=g.play(m.BLOCKNAWATERREACTION,{loop:1e7}),this.sound.loop=1e6),this.naBubbleParticle&&this.naBubbleParticle.render()),this.clear("fireParticle"),nb.GLASSCONTAINER[this.parent.name]&&nb.GLASSCONTAINER[this.parent.name].naBoom&&.7<this.medVo.getMol()/.1&&(20<this.boomCount&&this.parent.happenBoom("small"),this.boomCount++)))}},{key:"shapeChange",value:function(){var e=this;if(e.changeScale=e.medVo.getMol()/.1,e.changeScale<=.01)return e.removeMed();var t=e.napeBody,i=e.circleRadius*e.changeScale,n=t.medicineData;t.get_shapes().clear();var a=new nape.shape.Circle(i);a.get_filter().set_collisionGroup(2),a.get_filter().set_fluidGroup(2),t.add(a),e.napeShape=a;var r=.7;e.parent&&e.parent.isBaseContainer&&(1<(i=e.parent.liquidGra).length&&(a=i.find(function(e){return e.med&&"H2O"===e.med.name}),i=i.find(function(e){return e.med&&("C6H6"===e.med.name||"C8H18"===e.med.name||"植物油"===e.med.name)}),a&&i&&(a=a.pa.y,e.parent.toGlobal(e.position).y<a?this.changeDensityCount<10&&this.changeDensityCount++:-8<this.changeDensityCount&&this.changeDensityCount--,0<this.changeDensityCount&&(r=1.3)))),e.napeShape.get_material().set_density(r),t.medicineData=n,e.scale.x=e.changeScale,e.scale.y=e.changeScale}},{key:"removeMed",value:function(){var e=this;this.sound&&(this.sound.stop(),this.soundOver=!0);var t,i=e.parent;i&&(i.medicineData?(t=-e.medVo.getMol(),i.medicineData.addMedicine(e.medVo.name,t),e.medVo.setMol(0)):i.blockMedicine&&(i.blockMedicine=null),e.bubbleParticle&&(e.parent.particleDestroy(e.bubbleParticle),e.bubbleParticle=null),e.naBubbleParticle&&(e.parent.particleDestroy(e.naBubbleParticle),e.naBubbleParticle=null)),e.destroy()}},{key:"clear",value:function(e){this.sound&&(!e||"sound"===e)&&(this.sound.stop(),this.sound=null,e)||this.bubbleParticle&&(!e||"bubbleParticle"===e)&&(this.bubbleParticle.alpha=0,this.bubbleParticle.destroy(),this.bubbleParticle=null,e)||this.naBubbleParticle&&(!e||"NabubbleParticle"===e)&&(this.naBubbleParticle.alpha=0,this.naBubbleParticle.destroy(),this.naBubbleParticle=null,e)||this.fireParticleGroup&&(!e||"fireParticle"===e)&&(this.isBurn=!1,this.root.particleManager.destroy(this.fireParticle,1,!1,{startSpeed:0}),this.root.particleManager.destroy(this.smokeParticle,1),this.fireParticleGroup&&f.destroy(this.fireParticleGroup),this.fireParticle=null,this.smokeParticle=null,this.fireParticleGroup=null,e)||!this.fireParticleCl||e&&"fireParticleCl"!==e||(this.isBurn=!1,this.fireParticle=null,this.container&&this.container.bottleHalo&&(this.root.particleManager.destroy(this.container.bottleHalo,1),this.container.bottleHalo=null))}},{key:"autoClear",value:function(){(this.medVo.getMol()<=1e-7||!this.parent)&&(this.setMedVo(this.name,0),this.clear(),this.fireParticleGroup||(TweenMax.killTweensOf(this),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID],this.destroy())),this.getTemp()<this.burningPoint&&(this.isBurn=!1,this.clear("fireParticleCl"),this.clear("fireParticle"))}},{key:"dissociate",value:function(){var e={},t=this.execute(NBCommand.CREATE_EQUIPMENT,"BlockNa");t.image.currentFrame=1,t.on("creationComplete",function(){t.cutType=1,t.setMedVo("Na",.04),t.INITMOL=.04,t.emit("setTypeComplete")});var i=this.execute(NBCommand.CREATE_EQUIPMENT,"BlockNa");return i.image.currentFrame=2,i.on("creationComplete",function(){i.cutType=2,i.setMedVo("Na",.06),i.INITMOL=.06,i.emit("setTypeComplete")}),e.small=t,e.big=i,e}},{key:"update",value:function(e){(0,l.default)((0,u.default)(BlockNa.prototype),"update",this).call(this,e),this.inH2O()||this.clear("sound");for(var t=0;t<this.bottleGasMed.length;t++){var i=this.bottleGasMed[t];i.mol*=.999,i.mol<1e-4&&(i.mol=0,this.bottleGasMed.splice(t,1),t--)}0===this.image.alpha&&0===this.ani.alpha&&this.shapeChange(),this.inC2H5OH(),this.burnInAir(),this.burnInContainerAir(),this.melt(),I.genEffectFunc(this,e,15e-5),this.clearBubbleParticle(),this.autoClear(),this.oxidation(),this.fireParticleGroup&&this.fireParticleGroup.render()}},{key:"canCut",value:function(){return!this.isMelt&&!this.isBurn&&!this.cutType&&this.parent&&-1!==["QualitativeFilterPaper","GlassSheet","CopperSheet"].indexOf(this.parent.name)}},{key:"cut",value:function(){var e,t,i,n;this.canCut()&&(n=this.dissociate(),e=n.small,t=n.big,(i=this.parent).addChild(e),i.addChild(t),"QualitativeFilterPaper"===this.parent.name?((n=this.parent).removeChild(this),n.blockMedicine.pop(),n.blockMedicine.push(e),e.setPosition(-91.35,25.6),n.blockMedicine.push(t),t.setPosition(-71.35,25.6)):(e.x=t.x=this.x,e.y=t.y=this.y-5,e.once("setTypeComplete",function(){i instanceof v&&e.addToContainer(i)}),t.once("setTypeComplete",function(){i instanceof v&&t.addToContainer(i)})),this.commandDelete())}},{key:"canClampPick",value:function(){return!(this.clamp||0===this.alpha||this.isBurn||this.hasChangeCircle||this.isMelt)}},{key:"clampPick",value:function(){"QualitativeFilterPaper"===this.parent.name?this.parent.removeBlockMedicine(this):this.parent.medicineData&&this.parent.medicineData.addMedicine(this.medVo.name,-this.medVo.mol)}},{key:"canClampPut",value:function(e,t){return t instanceof BaseBlockMedicine?t.medConfData.chemical===this.name:"QualitativeFilterPaper"===t.name?t.canPutNa(this):"AsbestosFreeWireGauze"===t.name||t instanceof v&&t.canAddBlockMedicine(this)}},{key:"clampPut",value:function(e,t){"QualitativeFilterPaper"===t.name?t.putNa(this):this.addToContainer(t)}},{key:"toJSON",value:function(){return(0,n.default)({aniCurrentFrame:this.ani.currentFrame,imageCurrentFrame:this.image.currentFrame},(0,l.default)((0,u.default)(BlockNa.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(BlockNa.prototype),"setJSON",this).call(this,e),this.ani.currentFrame=e.aniCurrentFrame,this.image.currentFrame=e.imageCurrentFrame}}]),BlockNa}();e.exports=BlockNa},function(e,t,BlockK){"use strict";var a=BlockK(4),i=BlockK(0),n=i(BlockK(9)),r=i(BlockK(1)),o=i(BlockK(2)),s=i(BlockK(7)),l=i(BlockK(5)),h=i(BlockK(6)),c=i(BlockK(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BlockK(41),p=BlockK(57),f=BlockK(22),I=BlockK(31),g=BlockK(32),m=BlockK(20),y=BlockK(10),BlockK=function(){(0,l.default)(BlockK,d);var t=u(BlockK);function BlockK(){var e;return(0,r.default)(this,BlockK),(e=t.call(this)).INITMOL=.1,e}return(0,o.default)(BlockK,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockK.prototype),"creationComplete",this).call(this),this.setMedVo("K",.1),this.name="K_s",this.constName="BlockK",this.isBurn=!1,this.currentMeltFrame=0,this.fireParticle=null,this.bottleGasMed=[],I.register(g.BLOCKNAWATERREACTION),this.sound=null,this.soundOver=!1,this.on(NBEvent.del.PREPARE_DELETE,this.clear),this.on(NBEvent.del.DELETE,this.clear),this.rSpeed=900,this.npScale=.9,this.type=0,this.cutType=null,1!==this.image.currentFrame?this.setImpurity(this.INITMOL/20):(this.impurityMol||(this.impurityMol=0),this.setImpurity(this.impurityMol),this.image.alpha=this.impurityMol/(this.INITMOL/20),this.canOxidation=!0)}},{key:"setImpurity",value:function(e){var t=this.medicineManager.getMedicineData("K2O"),e=new m(t,e);this.impurity=[e],this.solidMedicineInfo.set("K2O",e)}},{key:"autoReleaseImpurity",value:function(){var e,t;.01<this.impurity[0].getMol()/this.impurityInitMol-this.blockScale&&(e=this.impurity[0].getMol(),this.impurity[0].setMol(this.blockScale*this.impurityInitMol),(t=this.impurity[0].deepClone()).setMol(e-this.impurity[0].getMol()),this.addMedicine(t))}},{key:"oxidation",value:function(){var e,t,i,n;this.canOxidation&&((i=this.medVo.getMol()/20)<this.impurity[0].getMol()?this.canOxidation=!1:(n=this.getGasMedicineInfo().get("O2"))&&(t=0,t=5e-7<(e=n.getMol())?5e-7:e,n.setMol(n.getMol()-t),this.medVo.setMol(this.medVo.getMol()-4*t),this.impurity[0].setMol(this.impurity[0].getMol()+2*t),n=1<(n=1-this.impurity[0].getMol()/i)?1:n,this.image.alpha=n=n<0?0:n,i=f.EquationMap.K.O2.equationAry.find(function(e){return 0===e.Speed}),this.container&&this.container.medicineData&&((n=this.container.medicineData.solidAry).K2O?n.K2O.setMol(n.K2O.getMol()+2*t):n.K2O=this.impurity[0].deepClone(),this.container.setReactStatus(i,100))))}},{key:"getMedicineName",value:function(){return"K"}},{key:"inH2O",value:function(){return"inWater"===this.posStatus&&.6<this.container.medicineData.getMedVoProportion("H2O","liquid")&&(this.inWaterRun(),!0)}},{key:"inC2H5OH",value:function(){return"inWater"===this.posStatus&&.2<this.container.medicineData.getMedVoProportion("C2H5OH","liquid")&&this.inC2H5OHRun(),!1}},{key:"burnInAir",value:function(){"inAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(this.burnUpdateTemp(),this.fireParticleGroup?this.fireParticle&&this.smokeParticle&&(this.fireParticle.mask=null,this.smokeParticle.mask=null):this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this,"K"))}},{key:"burnInContainerAir",value:function(){"inContainerAir"===this.posStatus&&this.isBurn&&(this.calCanReactDens("Cl2")?(this.burnUpdateTemp(),this.container.needBottleSmoke=!0,this.fireParticleCl=!0,this.fireParticleGroup||(this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this))):this.calCanReactDens("O2")?(this.burnUpdateTemp(),this.fireParticleGroup||(this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this,"K"))):(this.container.needBottleSmoke&&(this.container.needBottleSmoke=!1),this.clear()),this.fireParticle&&this.container&&!this.isAirContainer(this.container.name)&&this.fireParticle.mask!=this.container.capacityMask&&(this.fireParticle.mask=this.container.capacityMask,this.smokeParticle.mask=this.container.capacityMask))}},{key:"burnInContainerHasWater",value:function(){"inContainerHasWater"===this.posStatus&&this.isBurn&&this.fireParticle&&this.fireParticle.render()}},{key:"melt",value:function(){!this.burnChange&&this.napeBody&&this.ani.currentFrame===this.ani.totalFrames-1&&(this.burnChange=!0,this.overNapeChange=!0),this.isBurn||this.getTemp()>this.meltingPoint&&(this.isMelt||(this.replaceNapeBody("refM"),this.reduceImage(),this.isMelt=!0),this.ani.currentFrame<this.ani.totalFrames-1?(this.ani.currentFrame++,this.setTemp(this.meltingPoint+1)):this.isBurn=!0,this.currentMeltFrame=this.ani.currentFrame)}},{key:"reduceImage",value:function(){1==this.image.alpha&&1==this.image.scale.x&&(TweenMax.to(this.image.scale,.5,{x:0,y:0}),TweenMax.to(this.image,.5,{alpha:0}))}},{key:"inC2H5OHRun",value:function(){var e=this;if(e.changeScale=e.medVo.getMol()/.1,.5<=e.changeScale?this.napeShape.get_material().set_density(1.3):this.napeShape.get_material().set_density(.7),e.changeScale<=.1&&this.removeMed(),e.scale.x=e.changeScale,e.scale.y=e.changeScale,e.autoReleaseImpurity instanceof Function&&e.autoReleaseImpurity(),e.npScale==Number(e.changeScale.toFixed(1))){var t=e.npScale;e.npScale-=.1;t=e.npScale/t;if(t<=0)return;e.napeBody.scaleShapes(t,t),e.npScale=Number(e.npScale.toFixed(1))}this.particleContainer&&this.particleContainer!==this.container&&(this.particleContainer.particleDestroy(e.bubbleParticle),e.bubbleParticle=null)}},{key:"inWaterRun",value:function(){var n,e,t,i;null!=this.parent&&(e=(n=this).napeBody,n.hasChangeCircle||(this.clear(),function(){n.image.alpha=0,n.ani.alpha=0;var e=(42-3*Math.random())/2;n.burnChange&&n.overNapeChange,0;n.circleRadius=e;var t=new PIXI.Graphics;t.beginFill(13421772,1),t.drawCircle(0,0,e);var i=n.getViewStack(),e=n.kFireParticle=ParticleUtil.getParticle(ParticleUtil.particles.KFiremInWater);i.addParticle(e),e.bind(n),n.addChild(t);t=n.smokeParticle=ParticleUtil.getParticle(ParticleUtil.particles.na_air_smoke);t.bind(n),i.addParticle(t),n.hasChangeCircle=!0;n.scale.x=.5,n.scale.y=.5,n.autoReleaseImpurity instanceof Function&&n.autoReleaseImpurity();n.napeBody.scaleShapes(.5,.5)}()),this.parent.medicineData&&(this.parent.medicineData.increaseHeat(3),t=(i=n.parent.liquidShapePointAry).ltPoint,i=i.rtPoint.x-t.x,i=Math.random()*i*n.changeScale,i=200+t.x+i,.5<Math.random()&&(i=-i),i=new nape.geom.Vec2(i,0),e.set_rotation(window.vr||0),Math.random()<.05&&e.set_velocity(i),this.soundOver||(this.sound&&"playFinished"!==this.sound.playState&&"playFailed"!==this.sound.playState||(this.sound=I.play(g.BLOCKNAWATERREACTION,{loop:1e7}),this.sound.loop=1e6),this.kFireParticle&&this.kFireParticle.render(),this.smokeParticle&&this.smokeParticle.render()),this.clear("fireParticle"),nb.GLASSCONTAINER[this.parent.name]&&nb.GLASSCONTAINER[this.parent.name].naBoom&&.7<this.medVo.getMol()/.1&&this.parent.happenBoom("small")))}},{key:"shapeChange",value:function(){var e=this;if(e.changeScale=e.medVo.getMol()/.1,e.changeScale<=.1)return e.removeMed();var t=e.napeBody,i=e.circleRadius*e.changeScale,n=t.medicineData;t.get_shapes().clear();i=new nape.shape.Circle(i);i.get_filter().set_collisionGroup(2),i.get_filter().set_fluidGroup(2),t.add(i),e.napeShape=i,e.napeShape.get_material().set_density(.7),t.medicineData=n,e.scale.x=e.changeScale,e.scale.y=e.changeScale}},{key:"removeMed",value:function(){var e=this;this.sound&&(this.sound.stop(),this.soundOver=!0);var t,i=e.parent;i&&(i.medicineData?(t=-e.medVo.getMol(),i.medicineData.addMedicine(e.medVo.name,t),e.medVo.setMol(0)):i.blockMedicine&&(i.blockMedicine=null),e.bubbleParticle&&(e.parent.particleDestroy(e.bubbleParticle),e.bubbleParticle=null),e.kFireParticle&&(e.parent.particleDestroy(e.kFireParticle),e.kFireParticle=null),e.smokeParticle&&((i=e.smokeParticle).parent.removeChild(i),i.destroy(),e.smokeParticle=null)),e.destroy()}},{key:"clear",value:function(e){this.sound&&(!e||"sound"===e)&&(this.sound.stop(),this.sound=null,e)||this.bubbleParticle&&(!e||"bubbleParticle"===e)&&(this.bubbleParticle.alpha=0,this.bubbleParticle.destroy(),this.bubbleParticle=null,e)||this.kFireParticle&&(!e||"kFireParticle"===e)&&(this.kFireParticle.alpha=0,this.kFireParticle.destroy(),this.kFireParticle=null,e)||this.smokeParticle&&(!e||"smokeParticle"===e)&&(this.smokeParticle.alpha=0,this.smokeParticle.destroy(),this.smokeParticle=null,e)||this.fireParticleGroup&&(!e||"fireParticle"===e)&&(this.isBurn=!1,this.root.particleManager.destroy(this.fireParticle,1,!1,{startSpeed:0}),this.root.particleManager.destroy(this.smokeParticle,1),this.fireParticleGroup&&p.destroy(this.fireParticleGroup),this.fireParticle=null,this.smokeParticle=null,this.fireParticleGroup=null,e)||!this.fireParticleCl||e&&"fireParticleCl"!==e||(this.isBurn=!1,this.fireParticle=null,this.container&&this.container.bottleHalo&&(this.root.particleManager.destroy(this.container.bottleHalo,1),this.container.bottleHalo=null))}},{key:"autoClear",value:function(){(this.medVo.getMol()<=0||!this.parent)&&(this.clear(),this.fireParticleGroup||(TweenMax.killTweensOf(this),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID],this.destroy())),this.getTemp()<this.burningPoint&&(this.isBurn=!1,this.clear("fireParticleCl"),this.clear("fireParticle"))}},{key:"dissociate",value:function(){var e={},t=this.execute(NBCommand.CREATE_EQUIPMENT,"BlockK");t.image.currentFrame=1,t.on("creationComplete",function(){t.cutType=1,t.setMedVo("K",.02),t.INITMOL=.02,t.emit("setTypeComplete")});var i=this.execute(NBCommand.CREATE_EQUIPMENT,"BlockK");return i.image.currentFrame=2,i.on("creationComplete",function(){i.cutType=2,i.setMedVo("K",.08),i.INITMOL=.08,i.emit("setTypeComplete")}),e.small=t,e.big=i,e}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockK.prototype),"update",this).call(this,e),this.inH2O()||this.clear("sound");for(var t=0;t<this.bottleGasMed.length;t++){var i=this.bottleGasMed[t];i.mol*=.999,i.mol<1e-4&&(i.mol=0,this.bottleGasMed.splice(t,1),t--)}0===this.image.alpha&&0===this.ani.alpha&&this.shapeChange(),this.inC2H5OH(),this.burnInAir(),this.burnInContainerAir(),this.melt(),f.genEffectFunc(this,e,3e-4),this.clearBubbleParticle(),this.autoClear(),this.oxidation(),this.fireParticleGroup&&this.fireParticleGroup.render()}},{key:"canCut",value:function(){return!this.isMelt&&!this.isBurn&&!this.cutType&&this.parent&&-1!==["QualitativeFilterPaper","GlassSheet","CopperSheet"].indexOf(this.parent.name)}},{key:"cut",value:function(){var e,t,i,n;this.canCut()&&(n=this.dissociate(),e=n.small,t=n.big,(i=this.parent).addChild(e),i.addChild(t),"QualitativeFilterPaper"===this.parent.name?((n=this.parent).removeChild(this),n.blockMedicine.pop(),n.blockMedicine.push(e),e.setPosition(-91.35,25.6),n.blockMedicine.push(t),t.setPosition(-71.35,25.6)):(e.x=t.x=this.x,e.y=t.y=this.y-5,e.once("setTypeComplete",function(){i instanceof y&&e.addToContainer(i)}),t.once("setTypeComplete",function(){i instanceof y&&t.addToContainer(i)})),this.commandDelete())}},{key:"toJSON",value:function(){return(0,n.default)({aniCurrentFrame:this.ani.currentFrame},(0,s.default)((0,c.default)(BlockK.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(BlockK.prototype),"setJSON",this).call(this,e),this.ani.currentFrame=e.aniCurrentFrame}}]),BlockK}();e.exports=BlockK},function(e,t,Thermometer){"use strict";var a=Thermometer(4),i=Thermometer(0),n=i(Thermometer(9)),r=i(Thermometer(1)),o=i(Thermometer(2)),s=i(Thermometer(7)),l=i(Thermometer(5)),h=i(Thermometer(6)),c=i(Thermometer(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=Thermometer(8),p=Thermometer(11),f=Thermometer(387),I=Thermometer(31),g=Thermometer(32),m=Thermometer(34),y=Thermometer(97),v=Thermometer(26),C=-32,M=0,Thermometer=function(){(0,l.default)(Thermometer,d);var t=u(Thermometer);function Thermometer(){var e;return(0,r.default)(this,Thermometer),(e=t.call(this)).name="Thermometer",e.CNName="温度计",I.register(g.THERMOMETER),e.z_index=23.14,e.TEMP_0=110,e.TEMP_1=130,e.DLT_Y=5.11,e.OFFSET_Y=7.5,e}return(0,o.default)(Thermometer,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(Thermometer.prototype),"creationComplete",this).call(this),this.particle=m.getParticle(m.particles.thermometer_broke),this.particle.y=620,this.broking.loop=!1,this.broking.animationSpeed=.3,this.tab=this.getText(p.DEFAULT_TEMP.toFixed(1),{fill:16724736,align:"center"}),this.tab.anchor.x=.5,this.increaseTempCount=0,this.showTextCount=0,this.tab.wordWrapWidth=10;var e=new PIXI.Graphics;e.beginFill(16777215),e.drawRect(C,M,64,28),this.addChild(e),this.addChild(this.tab),this.on("hasTweenComplete",this.addToContainerAtZero),this.currentTemp=p.DEFAULT_TEMP}},{key:"currentTemp",get:function(){return this._currentTemp},set:function(e){if(this.showTextCount++,!this.isBroking)return e<0&&(e=0),.001<Math.abs(e-this._currentTemp)&&(25<e&&(this.increaseTempCount=2),e<25&&(this.increaseTempCount=-2)),(this._currentTemp=e)>this.TEMP_0&&e<this.TEMP_1?(this.tempPost.height=this.temp_0*this.DLT_Y+this.OFFSET_Y,void(5<this.showTextCount&&(this.tab.text=e.toFixed(1),this.showTextCount=0))):e>=this.TEMP_1?(this.breakThermometer(),this.tempPost.height=0,void(this.tab.text="--")):(this.tempPost.height=e*this.DLT_Y+this.OFFSET_Y,void(5<this.showTextCount&&(this.tab.text=e.toFixed(1),this.showTextCount=0)))}},{key:"breakThermometer",value:function(){this.broking.play(),this.getViewStack().addParticle(this.particle),this.particle.bind(this),I.play(g.THERMOMETER).volume=.2,this.isBroking=!0}},{key:"addToContainerAtZero",value:function(){this.removeEventListener("hasTweenComplete",this.addToContainerAtZero),this.parent.addChildAt(this,0)}},{key:"increaseTemp",value:function(e,t){var i;this.currentContainer&&this.currentContainer.getCurrentCapacity&&.01<this.currentContainer.getCurrentCapacity()||(i=this.center.toGlobal({x:0,y:0}),t=(f.getHeatValueFromPoint(i,t,e)-this.currentTemp)/200,this.currentTemp+=0<t?t:0)}},{key:"updateContainerTemp",value:function(){var e,t,i,n,a;this.currentContainer&&this.currentContainer.getCurrentCapacity&&.01<this.currentContainer.getCurrentCapacity()&&(a=this.getViewStack().scale.x,e=this.currentContainer,n=this.toGlobal(this.center.position),t=e.medicineData.getLiquidAverageTemp(!0),v.containsPoint(e.liquidVertex,n)?this.currentTemp=t:(i=v.getMinDistance(e.liquidVertex,new y(this.toGlobal(this.center.position)),e),n=t+-.4*(i/=a)/2,n=this.currentTemp,n=(a=e.medicineData.currentBoilTemp)&&a-.1<=t&&e.currentPlug?(n<t&&(n+=.5),n=t<n?t:n,Math.max(p.DEFAULT_TEMP,n)):t>p.DEFAULT_TEMP?(n<t+-.4*i/2&&(n<t+-.4*i/2-2?n+=.5:t+-.4*i/2<(n+=.1)&&(n=t+-.4*i/2)),Math.max(p.DEFAULT_TEMP,n)):(t- -.4*i/2<n&&(t- -.4*i/2+2<n?n-=.5:(n-=.1)<t- -.4*i/2&&(n=t- -.4*i/2)),Math.min(p.DEFAULT_TEMP,n)),this.currentTemp=n))}},{key:"update",value:function(e){(0,s.default)((0,c.default)(Thermometer.prototype),"update",this).call(this,e),this.isBroking&&this.particle.render(),this.updateContainerTemp(),this.closeDefaultTemp()}},{key:"closeDefaultTemp",value:function(){var e;0<this.increaseTempCount?this.increaseTempCount--:this.increaseTempCount<0&&this.increaseTempCount++,0==this.increaseTempCount&&(this.currentTemp>p.DEFAULT_TEMP?(e=this.currentTemp-.04,e=Math.max(e,p.DEFAULT_TEMP),this.currentTemp=e):this.currentTemp<p.DEFAULT_TEMP&&(e=this.currentTemp+.04,e=Math.min(e,p.DEFAULT_TEMP),this.currentTemp=e))}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(Thermometer.prototype),"toJSON",this).call(this),{currentTemp:this.currentTemp})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(Thermometer.prototype),"setJSON",this).call(this,e),this.currentTemp=e.currentTemp}}]),Thermometer}();e.exports=Thermometer},function(e,t,i){e.exports=i(1273)},function(e,t,i){"use strict";var n=window.chemical||{},a=window.nb||{};window.nb=a,i(11),n.container={},n.assist={},n.liquidMedicine={},n.solidMedicine={},n.gasMedicine={},n.interactiveMedicine={},n.animation={};var r=window.eq||{};window.eq=r,n.container.AcidBrownDropper=i(461),n.container.AcidBrownDroppingBottle=i(1007),n.container.AcidBrownDroppingBottleGroup=i(1008),n.container.AcidGlassDropper=i(225),n.container.AcidGlassDroppingBottle=i(1009),n.container.AcidGlassDroppingBottleGroup=i(1010),n.container.AlkaliBurette=i(1011),n.container.Balloon=i(1013),n.container.BasicDropper=i(1014),n.container.BasicDroppingBottle=i(389),n.container.BasicDroppingBottleGroup=i(1015),n.container.Beaker=i(1016),n.container.BigBeaker=i(259),n.container.BigEvaporatingDish=i(1017),n.container.BigHardGlassTube=i(1018),n.container.BigTestTube=i(1019),n.container.CO2Bottle=i(1020),n.container.ConicalFlask100ml=i(1021),n.container.ConicalFlask250ml=i(1022),n.container.Crucible=i(1023),n.container.DirtCup=i(1024),n.container.DistillingFlask=i(1025),n.container.DripBoard=i(1026),n.container.DripHole=i(1027),n.container.DroppingFunnel=i(1028),n.container.DroppingFunnelWithBalancedPressure=i(392),n.container.DryingBottle=i(1029),n.container.ElectrolysisUTubeWithSideNeck=i(1030),n.container.ElectrolyticContainer=i(1031),n.container.EvaporatingDish=i(390),n.container.ExhaledBreath=i(1032),n.container.FlorenceFlask=i(1033),n.container.FunnelBig=i(1034),n.container.FunnelSmall=i(1035),n.container.GasBottle=i(1036),n.container.GasCollectingBottle=i(397),n.container.GasCollectingBottleOfDivide=i(1037),n.container.GeiserBurette=i(1038),n.container.HardGlassTube=i(391),n.container.HotWaterBath=i(1039),n.container.HugeBeaker=i(263),n.container.IceWaterBath=i(1040),n.container.InsulationBeaker=i(1041),n.container.InsulationBeakerCombination=i(1042),n.container.KippsApparatus=i(1043),n.container.KippsCatheter=i(1044),n.container.KippsCenter=i(1045),n.container.KippsFunnel=i(1046),n.container.LongNeckFunnel=i(1047),n.container.MeasuringCylinder100ml=i(1048),n.container.MeasuringCylinder10ml=i(1049),n.container.MeasuringCylinder50ml=i(1050),n.container.Mortar=i(1051),n.container.MortarAndPestle=i(1052),n.container.NO2Ball=i(1053),n.container.NaClOBottle=i(1054),n.container.NarrowMouthedBottle=i(1055),n.container.NewUTubeWithSideNeck=i(1056),n.container.PlasticHugeBeaker=i(1057),n.container.PlasticWashBottle=i(1058),n.container.Pledget=i(1059),n.container.RoundBottomFlask=i(262),n.container.SeparatingFunnelBulbShape=i(265),n.container.SeparatingFunnelBulbShapeWithBalancedPressure=i(1060),n.container.SeparatingFunnelBulbShapeWithHose=i(1061),n.container.SeparatingFunnelPearShape=i(1062),n.container.SeparatingFunnelStraight=i(1063),n.container.SmallBeaker=i(398),n.container.SmallRoundBottomFlask=i(1064),n.container.SmallTestTube=i(399),n.container.TestTubeWithSideNeck=i(1065),n.container.ThreeNeckedFlask=i(1066),n.container.ToiletCleaner=i(1067),n.container.UDryingTube=i(1068),n.container.UDryingTubeOfCaO=i(1069),n.container.UShapeTube=i(400),n.container.UShapeTubeGroup=i(1070),n.container.UTube=i(1071),n.container.UTubeWithSideNeck=i(394),n.container.UTubeWithSideNeckLeft=i(1072),n.container.UTubeWithSideNeckRight=i(1073),n.container.VolumetricFlask100ml=i(1074),n.container.VolumetricFlask250ml=i(1075),n.container.VolumetricFlask50ml=i(1076),n.container.WasteWaterVat=i(1077),n.container.WatchGlass=i(1078),n.container.WideMouthedBottle=i(1079),n.container.WildMouthedBottle=i(1080),n.assist.ADropper=i(401),n.assist.AbrasiveCotton=i(1081),n.assist.AbrasivePaper=i(1082),n.assist.AcidGasDryingDevice=i(1083),n.assist.AirBalloon=i(1084),n.assist.AlcoholBurner=i(1085),n.assist.AlcoholLampNetCover=i(402),n.assist.AlcoholSprayBottle=i(1086),n.assist.AlkGasDryingDevice=i(1087),n.assist.AlphaParticleScattering=i(1088),n.assist.AsbestosFreeWireGauze=i(403),n.assist.AsbestosFreeWireGauzeSpecil=i(1091),n.assist.Balance=i(267),n.assist.Battery=i(1092),n.assist.BigPlasticInjector=i(1093),n.assist.BlackWire=i(1094),n.assist.BlanceAndWeightBox=i(1095),n.assist.BlastAlcoholBurner=i(1096),n.assist.BlastAlcoholBurnerWithAlcohol=i(1097),n.assist.BlueLitmusPaper=i(1098),n.assist.BunsenBurner=i(405),n.assist.Candle=i(270),n.assist.Catheter=i(1099),n.assist.CatheterAndPlugGroup=i(1100),n.assist.CatheterGroup=i(406),n.assist.CatheterGroupWhole=i(1101),n.assist.CatheterSoft=i(1102),n.assist.ClothStrap=i(1103),n.assist.CobaltGlass=i(1104),n.assist.CombustionSpoon=i(407),n.assist.Compressor=i(1108),n.assist.CondenserPipeSphere=i(408),n.assist.CondenserPipeStraight=i(1109),n.assist.CondenserTube=i(409),n.assist.CondenserTubeForOrganic=i(1110),n.assist.CopperSheet=i(1111),n.assist.CopperWire=i(1112),n.assist.CorrosionConditionTester=i(1113),n.assist.Cotton=i(1114),n.assist.CrucibleCover=i(1115),n.assist.CrucibleTong=i(1116),n.assist.DoubleBuretClamp=i(388),n.assist.DoubleHoleRubberPlugBig=i(1117),n.assist.DoubleHoleRubberPlugSmall=i(1118),n.assist.DownwardExhaustDevice=i(1119),n.assist.DrainageWaterColGasDevice=i(1120),n.assist.DryingTube=i(411),n.assist.DryingTubeOfCaO=i(1121),n.assist.DryingTubeOfP2O5=i(1122),n.assist.DustExplode=i(1123),n.assist.EleGraph=i(1124),n.assist.EleTester=i(1125),n.assist.ElectricityAluminumKryptol=i(1126),n.assist.ElectricityAluminumSilver=i(1127),n.assist.ElectricityCopperKryptol=i(1128),n.assist.ElectricityIronKryptol=i(1129),n.assist.ElectricityMagnesiumKryptol=i(1130),n.assist.ElectricityPieceCopper=i(1131),n.assist.ElectricityPieceIron=i(1132),n.assist.ElectricityPieceKryptol=i(413),n.assist.ElectricityPieceKryptolWithCatalyst=i(1133),n.assist.ElectricityPieceMagnesium=i(1134),n.assist.ElectricityPieceSilver=i(1135),n.assist.ElectricityPieceZinePlate=i(1136),n.assist.ElectricityPlatinumKryptol=i(1137),n.assist.ElectricitySilverKryptol=i(1138),n.assist.ElectricityZineKryptol=i(1139),n.assist.ElectrolyticBridge=i(1140),n.assist.ElectronicBalance=i(1141),n.assist.ElectronicEngineering=i(1143),n.assist.ElevatorPlatform=i(1144),n.assist.ExhaustGasTreatmentDevice=i(1146),n.assist.FireWorks=i(1147),n.assist.Flashlight=i(1148),n.assist.FlaskBrush=i(1149),n.assist.FlatjawPinchcock=i(1150),n.assist.Flume=i(266),n.assist.Forceps=i(1151),n.assist.FoundationPlate=i(1152),n.assist.FuelCellDevice=i(1153),n.assist.Galvanometer=i(1154),n.assist.GasScrubbingDevice=i(1155),n.assist.GasTailGlassCatheter=i(1156),n.assist.GasTailGlassCatheter120=i(1157),n.assist.GlassBar=i(1158),n.assist.GlassCatheterGroup=i(1162),n.assist.GlassCatheterLeft=i(1163),n.assist.GlassCatheterRight=i(1164),n.assist.GlassPiece=i(1165),n.assist.GlassRubberCatheter=i(1167),n.assist.GlassSheet=i(1168),n.assist.HeatDeviceOfSolidAndLiquid=i(1170),n.assist.HeatDeviceOfSolidAndSolid=i(1171),n.assist.HoffmanElectrolyticDevice=i(417),n.assist.HotTowel=i(1172),n.assist.HugePlasticInjector=i(1173),n.assist.IronClamp=i(1174),n.assist.IronClampSideLook=i(1176),n.assist.IronRing=i(396),n.assist.IronSheet=i(1177),n.assist.IronSupport=i(111),n.assist.IronSupportWithClamp=i(1178),n.assist.IronSupportWithRing=i(1179),n.assist.IronWire=i(418),n.assist.IronWireWithWooden=i(1180),n.assist.KnifeSmall=i(1181),n.assist.LabLRFY=i(1182),n.assist.LabSpoon=i(1183),n.assist.LaserPen=i(1184),n.assist.LightBulb=i(1185),n.assist.LongADropper=i(1186),n.assist.LongIronClampSideLook=i(1187),n.assist.MagnesiumRibbon=i(395),n.assist.Magnifier=i(1188),n.assist.MakingGasOfSolidAndLiquid=i(1189),n.assist.Mantou=i(1190),n.assist.Match=i(1191),n.assist.MatchStick=i(1192),n.assist.MedicineBottleWithHole=i(1193),n.assist.MortarPestle=i(1194),n.assist.MudTriangle=i(1195),n.assist.MultifunctionalBottle=i(1196),n.assist.NO2BallGroup=i(1197),n.assist.NewIceWaterBath=i(1199),n.assist.NonPorousRubberPlugBig=i(1200),n.assist.NonPorousRubberPlugHuge=i(1201),n.assist.NonPorousRubberPlugSmall=i(1202),n.assist.PaperChannel=i(1203),n.assist.PaperFlower=i(1204),n.assist.ParaffinGlass=i(1205),n.assist.PePanel=i(1206),n.assist.PerforatedDisc=i(1207),n.assist.PhTester=i(1208),n.assist.PhTesterPlate=i(1209),n.assist.PhTesterProbe=i(1210),n.assist.PhTesterWire=i(1211),n.assist.PhenolphthaleinTestPaper=i(1212),n.assist.PlasticBag=i(1213),n.assist.PlasticBrick=i(1214),n.assist.PlasticInjector=i(172),n.assist.PlateCladCu=i(1215),n.assist.PlatinumWire=i(1216),n.assist.PowerSwitch=i(1217),n.assist.PureCopper=i(1218),n.assist.QualitativeFilterPaper=i(201),n.assist.RedLitmusPaper=i(1219),n.assist.ResinBag=i(1220),n.assist.RingStirBar=i(1221),n.assist.RotateGlassCatheter=i(1222),n.assist.RubberCatheter=i(146),n.assist.RubberCatheterBrown=i(1224),n.assist.RubberTube=i(1225),n.assist.RustConditionTester=i(1226),n.assist.Scissors=i(1227),n.assist.ShapeGlassCatheter=i(1228),n.assist.SharpNoseGlassTube=i(1229),n.assist.Siderosphere=i(1230),n.assist.SingleChannelPhTester=i(1231),n.assist.SingleHoleRubberPlugBig=i(1232),n.assist.SingleHoleRubberPlugSmall=i(1233),n.assist.SmallCombustionSpoon=i(1234),n.assist.SpotPlate=i(1235),n.assist.StarchKITestPaper=i(1236),n.assist.Stopwatch=i(1237),n.assist.StraightGlassCatheter=i(415),n.assist.StraightGlassWithBalloon=i(1238),n.assist.SyringeNeedle=i(1239),n.assist.TGlassCatheter=i(1240),n.assist.TailNozzle=i(261),n.assist.TestElectricalConductivity=i(1241),n.assist.TestPaper=i(1242),n.assist.TestTubeHolder=i(1243),n.assist.TestTubeRack=i(1244),n.assist.Thermometer=i(421),n.assist.ThermometerPlus=i(1245),n.assist.ThermometerScale=i(1246),n.assist.Tissue=i(1247),n.assist.TissueBox=i(1248),n.assist.Tripod=i(1249),n.assist.TurnBrush=i(1250),n.assist.UniversalPhIndicatorPaper=i(1251),n.assist.UpwardExhaustDevice=i(1252),n.assist.VacuumGlassTube=i(1253),n.assist.WaterBath=i(1254),n.assist.WaterBathWithIronPillar=i(1255),n.assist.WaterBathWithLongIronClamp=i(1256),n.assist.WeighingPaper=i(1257),n.assist.WeightBox=i(1258),n.assist.Wire=i(404),n.assist.WoodBlock=i(1259),n.assist.WoodenCover=i(1260),n.assist.WoodenStick=i(416),n.assist.YGlassCatheter=i(1261),n.interactiveMedicine.BlockAl=i(1262),n.interactiveMedicine.BlockC=i(1263),n.interactiveMedicine.BlockC15H12O4=i(1264),n.interactiveMedicine.BlockC16H14O4=i(1265),n.interactiveMedicine.BlockC6H10O5=i(1266),n.interactiveMedicine.BlockC9H8O4=i(1267),n.interactiveMedicine.BlockCa=i(1268),n.interactiveMedicine.BlockCaC2=i(1269),n.interactiveMedicine.BlockCaCO3=i(1270),n.interactiveMedicine.BlockCu=i(1271),n.interactiveMedicine.BlockCu2=i(1272),n.interactiveMedicine.BlockCuSO45H2O=i(1275),n.interactiveMedicine.BlockFe=i(1276),n.interactiveMedicine.BlockFeIm=i(1277),n.interactiveMedicine.BlockFilterPaper=i(1278),n.interactiveMedicine.BlockFungus=i(1279),n.interactiveMedicine.BlockK=i(420),n.interactiveMedicine.BlockMg=i(1280),n.interactiveMedicine.BlockMgStrip=i(1281),n.interactiveMedicine.BlockNa=i(419),n.interactiveMedicine.BlockP4=i(1282),n.interactiveMedicine.BlockPingPong=i(1283),n.interactiveMedicine.BlockSpinach=i(1284),n.animation.Fun=i(1285),n.animation.HoldConicalFlask=i(1286),n.animation.HoldFlorenceFlask=i(1287),n.animation.HoldTestTube=i(1288),n.animation.HoldThreeNeckFlask=i(1289),n.animation.PlugTestTube=i(1290),n.solidMedicine.BrownBase=i(1291),n.solidMedicine.WhiteBase=i(1292),n.solidMedicine.WhiteBlockBase=i(1293),n.gasMedicine.GasWhiteBase=i(1294),n.gasMedicine.GasBagBase=i(1295),n.liquidMedicine.BrownBase=i(1296),n.liquidMedicine.WhiteBase=i(1297),n.liquidMedicine.BrownDropBottle=i(1298),n.liquidMedicine.WhiteDropBottle=i(1299),n.liquidMedicine.SmallWhiteBottle=i(1300),n.liquidMedicine.PlasticBase=i(1301),a.SetInteractiveToFalse=i(1302),a.SetRenderableToFalse=i(1303),a.eqLimitArea=i(1304),a.eqLimitAreaGroup=i(1305),a.interactivePinch=i(1306),a.interactiveRotate=i(1307),a.interactiveStretch=i(1308),a.pourLiquidIn=i(1309),a.pourLiquidOut=i(1310),a.setAllowGetBoundsToFalse=i(1311),n.utils={ChemicalUtilTool:i(45),ChemicalUtil:i(22),PolygonUtil:i(26),NBGesture:i(132),ShaderUtil:i(1312),AnimationDataCreate:i(1313),MicroAnimation:i(384)},n.vo={DissolveVO:i(194),GasVO:i(27),IonMedVo:i(166),IonVO:i(100),LiquidVO:i(33),SolidVO:i(20)},n.core={BaseContainer:i(10),BaseEquipment:i(8)},n.manager={},n.ChemicalMain=i(256),i(108),window.ChemicalMain=i(256),window.chemical=n,r.AcidBrownDropper="AcidBrownDropper",r.AcidBrownDroppingBottle="AcidBrownDroppingBottle",r.AcidBrownDroppingBottleGroup="AcidBrownDroppingBottleGroup",r.AcidGlassDropper="AcidGlassDropper",r.AcidGlassDroppingBottle="AcidGlassDroppingBottle",r.AcidGlassDroppingBottleGroup="AcidGlassDroppingBottleGroup",r.AlkaliBurette="AlkaliBurette",r.Balloon="Balloon",r.BasicDropper="BasicDropper",r.BasicDroppingBottle="BasicDroppingBottle",r.BasicDroppingBottleGroup="BasicDroppingBottleGroup",r.Beaker="Beaker",r.BigBeaker="BigBeaker",r.BigEvaporatingDish="BigEvaporatingDish",r.BigHardGlassTube="BigHardGlassTube",r.BigTestTube="BigTestTube",r.CO2Bottle="CO2Bottle",r.ConicalFlask100ml="ConicalFlask100ml",r.ConicalFlask250ml="ConicalFlask250ml",r.Crucible="Crucible",r.DirtCup="DirtCup",r.DistillingFlask="DistillingFlask",r.DripBoard="DripBoard",r.DripHole="DripHole",r.DroppingFunnel="DroppingFunnel",r.DroppingFunnelWithBalancedPressure="DroppingFunnelWithBalancedPressure",r.DryingBottle="DryingBottle",r.ElectrolysisUTubeWithSideNeck="ElectrolysisUTubeWithSideNeck",r.ElectrolyticContainer="ElectrolyticContainer",r.EvaporatingDish="EvaporatingDish",r.ExhaledBreath="ExhaledBreath",r.FlorenceFlask="FlorenceFlask",r.FunnelBig="FunnelBig",r.FunnelSmall="FunnelSmall",r.GasBottle="GasBottle",r.GasCollectingBottle="GasCollectingBottle",r.GasCollectingBottleOfDivide="GasCollectingBottleOfDivide",r.GeiserBurette="GeiserBurette",r.HardGlassTube="HardGlassTube",r.HotWaterBath="HotWaterBath",r.HugeBeaker="HugeBeaker",r.IceWaterBath="IceWaterBath",r.InsulationBeaker="InsulationBeaker",r.InsulationBeakerCombination="InsulationBeakerCombination",r.KippsApparatus="KippsApparatus",r.KippsCatheter="KippsCatheter",r.KippsCenter="KippsCenter",r.KippsFunnel="KippsFunnel",r.LongNeckFunnel="LongNeckFunnel",r.MeasuringCylinder100ml="MeasuringCylinder100ml",r.MeasuringCylinder10ml="MeasuringCylinder10ml",r.MeasuringCylinder50ml="MeasuringCylinder50ml",r.Mortar="Mortar",r.MortarAndPestle="MortarAndPestle",r.NO2Ball="NO2Ball",r.NaClOBottle="NaClOBottle",r.NarrowMouthedBottle="NarrowMouthedBottle",r.NewUTubeWithSideNeck="NewUTubeWithSideNeck",r.PlasticHugeBeaker="PlasticHugeBeaker",r.PlasticWashBottle="PlasticWashBottle",r.Pledget="Pledget",r.RoundBottomFlask="RoundBottomFlask",r.SeparatingFunnelBulbShape="SeparatingFunnelBulbShape",r.SeparatingFunnelBulbShapeWithBalancedPressure="SeparatingFunnelBulbShapeWithBalancedPressure",r.SeparatingFunnelBulbShapeWithHose="SeparatingFunnelBulbShapeWithHose",r.SeparatingFunnelPearShape="SeparatingFunnelPearShape",r.SeparatingFunnelStraight="SeparatingFunnelStraight",r.SmallBeaker="SmallBeaker",r.SmallRoundBottomFlask="SmallRoundBottomFlask",r.SmallTestTube="SmallTestTube",r.TestTubeWithSideNeck="TestTubeWithSideNeck",r.ThreeNeckedFlask="ThreeNeckedFlask",r.ToiletCleaner="ToiletCleaner",r.UDryingTube="UDryingTube",r.UDryingTubeOfCaO="UDryingTubeOfCaO",r.UShapeTube="UShapeTube",r.UShapeTubeGroup="UShapeTubeGroup",r.UTube="UTube",r.UTubeWithSideNeck="UTubeWithSideNeck",r.UTubeWithSideNeckLeft="UTubeWithSideNeckLeft",r.UTubeWithSideNeckRight="UTubeWithSideNeckRight",r.VolumetricFlask100ml="VolumetricFlask100ml",r.VolumetricFlask250ml="VolumetricFlask250ml",r.VolumetricFlask50ml="VolumetricFlask50ml",r.WasteWaterVat="WasteWaterVat",r.WatchGlass="WatchGlass",r.WideMouthedBottle="WideMouthedBottle",r.WildMouthedBottle="WildMouthedBottle",r.ADropper="ADropper",r.AbrasiveCotton="AbrasiveCotton",r.AbrasivePaper="AbrasivePaper",r.AcidGasDryingDevice="AcidGasDryingDevice",r.AirBalloon="AirBalloon",r.AlcoholBurner="AlcoholBurner",r.AlcoholLampNetCover="AlcoholLampNetCover",r.AlcoholSprayBottle="AlcoholSprayBottle",r.AlkGasDryingDevice="AlkGasDryingDevice",r.AlphaParticleScattering="AlphaParticleScattering",r.AsbestosFreeWireGauze="AsbestosFreeWireGauze",r.AsbestosFreeWireGauzeSpecil="AsbestosFreeWireGauzeSpecil",r.Balance="Balance",r.Battery="Battery",r.BigPlasticInjector="BigPlasticInjector",r.BlackWire="BlackWire",r.BlanceAndWeightBox="BlanceAndWeightBox",r.BlastAlcoholBurner="BlastAlcoholBurner",r.BlastAlcoholBurnerWithAlcohol="BlastAlcoholBurnerWithAlcohol",r.BlueLitmusPaper="BlueLitmusPaper",r.BunsenBurner="BunsenBurner",r.Candle="Candle",r.Catheter="Catheter",r.CatheterAndPlugGroup="CatheterAndPlugGroup",r.CatheterGroup="CatheterGroup",r.CatheterGroupWhole="CatheterGroupWhole",r.CatheterSoft="CatheterSoft",r.ClothStrap="ClothStrap",r.CobaltGlass="CobaltGlass",r.CombustionSpoon="CombustionSpoon",r.Compressor="Compressor",r.CondenserPipeSphere="CondenserPipeSphere",r.CondenserPipeStraight="CondenserPipeStraight",r.CondenserTube="CondenserTube",r.CondenserTubeForOrganic="CondenserTubeForOrganic",r.CopperSheet="CopperSheet",r.CopperWire="CopperWire",r.CorrosionConditionTester="CorrosionConditionTester",r.Cotton="Cotton",r.CrucibleCover="CrucibleCover",r.CrucibleTong="CrucibleTong",r.DoubleBuretClamp="DoubleBuretClamp",r.DoubleHoleRubberPlugBig="DoubleHoleRubberPlugBig",r.DoubleHoleRubberPlugSmall="DoubleHoleRubberPlugSmall",r.DownwardExhaustDevice="DownwardExhaustDevice",r.DrainageWaterColGasDevice="DrainageWaterColGasDevice",r.DryingTube="DryingTube",r.DryingTubeOfCaO="DryingTubeOfCaO",r.DryingTubeOfP2O5="DryingTubeOfP2O5",r.DustExplode="DustExplode",r.EleGraph="EleGraph",r.EleTester="EleTester",r.ElectricityAluminumKryptol="ElectricityAluminumKryptol",r.ElectricityAluminumSilver="ElectricityAluminumSilver",r.ElectricityCopperKryptol="ElectricityCopperKryptol",r.ElectricityIronKryptol="ElectricityIronKryptol",r.ElectricityMagnesiumKryptol="ElectricityMagnesiumKryptol",r.ElectricityPieceCopper="ElectricityPieceCopper",r.ElectricityPieceIron="ElectricityPieceIron",r.ElectricityPieceKryptol="ElectricityPieceKryptol",r.ElectricityPieceKryptolWithCatalyst="ElectricityPieceKryptolWithCatalyst",r.ElectricityPieceMagnesium="ElectricityPieceMagnesium",r.ElectricityPieceSilver="ElectricityPieceSilver",r.ElectricityPieceZinePlate="ElectricityPieceZinePlate",r.ElectricityPlatinumKryptol="ElectricityPlatinumKryptol",r.ElectricitySilverKryptol="ElectricitySilverKryptol",r.ElectricityZineKryptol="ElectricityZineKryptol",r.ElectrolyticBridge="ElectrolyticBridge",r.ElectronicBalance="ElectronicBalance",r.ElectronicEngineering="ElectronicEngineering",r.ElevatorPlatform="ElevatorPlatform",r.ExhaustGasTreatmentDevice="ExhaustGasTreatmentDevice",r.FireWorks="FireWorks",r.Flashlight="Flashlight",r.FlaskBrush="FlaskBrush",r.FlatjawPinchcock="FlatjawPinchcock",r.Flume="Flume",r.Forceps="Forceps",r.FoundationPlate="FoundationPlate",r.FuelCellDevice="FuelCellDevice",r.Galvanometer="Galvanometer",r.GasScrubbingDevice="GasScrubbingDevice",r.GasTailGlassCatheter="GasTailGlassCatheter",r.GasTailGlassCatheter120="GasTailGlassCatheter120",r.GlassBar="GlassBar",r.GlassCatheterGroup="GlassCatheterGroup",r.GlassCatheterLeft="GlassCatheterLeft",r.GlassCatheterRight="GlassCatheterRight",r.GlassPiece="GlassPiece",r.GlassRubberCatheter="GlassRubberCatheter",r.GlassSheet="GlassSheet",r.HeatDeviceOfSolidAndLiquid="HeatDeviceOfSolidAndLiquid",r.HeatDeviceOfSolidAndSolid="HeatDeviceOfSolidAndSolid",r.HoffmanElectrolyticDevice="HoffmanElectrolyticDevice",r.HotTowel="HotTowel",r.HugePlasticInjector="HugePlasticInjector",r.IronClamp="IronClamp",r.IronClampSideLook="IronClampSideLook",r.IronRing="IronRing",r.IronSheet="IronSheet",r.IronSupport="IronSupport",r.IronSupportWithClamp="IronSupportWithClamp",r.IronSupportWithRing="IronSupportWithRing",r.IronWire="IronWire",r.IronWireWithWooden="IronWireWithWooden",r.KnifeSmall="KnifeSmall",r.LabLRFY="LabLRFY",r.LabSpoon="LabSpoon",r.LaserPen="LaserPen",r.LightBulb="LightBulb",r.LongADropper="LongADropper",r.LongIronClampSideLook="LongIronClampSideLook",r.MagnesiumRibbon="MagnesiumRibbon",r.Magnifier="Magnifier",r.MakingGasOfSolidAndLiquid="MakingGasOfSolidAndLiquid",r.Mantou="Mantou",r.Match="Match",r.MatchStick="MatchStick",r.MedicineBottleWithHole="MedicineBottleWithHole",r.MortarPestle="MortarPestle",r.MudTriangle="MudTriangle",r.MultifunctionalBottle="MultifunctionalBottle",r.NO2BallGroup="NO2BallGroup",r.NewIceWaterBath="NewIceWaterBath",r.NonPorousRubberPlugBig="NonPorousRubberPlugBig",r.NonPorousRubberPlugHuge="NonPorousRubberPlugHuge",r.NonPorousRubberPlugSmall="NonPorousRubberPlugSmall",r.PaperChannel="PaperChannel",r.PaperFlower="PaperFlower",r.ParaffinGlass="ParaffinGlass",r.PePanel="PePanel",r.PerforatedDisc="PerforatedDisc",r.PhTester="PhTester",r.PhTesterPlate="PhTesterPlate",r.PhTesterProbe="PhTesterProbe",r.PhTesterWire="PhTesterWire",r.PhenolphthaleinTestPaper="PhenolphthaleinTestPaper",r.PlasticBag="PlasticBag",r.PlasticBrick="PlasticBrick",r.PlasticInjector="PlasticInjector",r.PlateCladCu="PlateCladCu",r.PlatinumWire="PlatinumWire",r.PowerSwitch="PowerSwitch",r.PureCopper="PureCopper",r.QualitativeFilterPaper="QualitativeFilterPaper",r.RedLitmusPaper="RedLitmusPaper",r.ResinBag="ResinBag",r.RingStirBar="RingStirBar",r.RotateGlassCatheter="RotateGlassCatheter",r.RubberCatheter="RubberCatheter",r.RubberCatheterBrown="RubberCatheterBrown",r.RubberTube="RubberTube",r.RustConditionTester="RustConditionTester",r.Scissors="Scissors",r.ShapeGlassCatheter="ShapeGlassCatheter",r.SharpNoseGlassTube="SharpNoseGlassTube",r.Siderosphere="Siderosphere",r.SingleChannelPhTester="SingleChannelPhTester",r.SingleHoleRubberPlugBig="SingleHoleRubberPlugBig",r.SingleHoleRubberPlugSmall="SingleHoleRubberPlugSmall",r.SmallCombustionSpoon="SmallCombustionSpoon",r.SpotPlate="SpotPlate",r.StarchKITestPaper="StarchKITestPaper",r.Stopwatch="Stopwatch",r.StraightGlassCatheter="StraightGlassCatheter",r.StraightGlassWithBalloon="StraightGlassWithBalloon",r.SyringeNeedle="SyringeNeedle",r.TGlassCatheter="TGlassCatheter",r.TailNozzle="TailNozzle",r.TestElectricalConductivity="TestElectricalConductivity",r.TestPaper="TestPaper",r.TestTubeHolder="TestTubeHolder",r.TestTubeRack="TestTubeRack",r.Thermometer="Thermometer",r.ThermometerPlus="ThermometerPlus",r.ThermometerScale="ThermometerScale",r.Tissue="Tissue",r.TissueBox="TissueBox",r.Tripod="Tripod",r.TurnBrush="TurnBrush",r.UniversalPhIndicatorPaper="UniversalPhIndicatorPaper",r.UpwardExhaustDevice="UpwardExhaustDevice",r.VacuumGlassTube="VacuumGlassTube",r.WaterBath="WaterBath",r.WaterBathWithIronPillar="WaterBathWithIronPillar",r.WaterBathWithLongIronClamp="WaterBathWithLongIronClamp",r.WeighingPaper="WeighingPaper",r.WeightBox="WeightBox",r.Wire="Wire",r.WoodBlock="WoodBlock",r.WoodenCover="WoodenCover",r.WoodenStick="WoodenStick",r.YGlassCatheter="YGlassCatheter",r.BlockAl="BlockAl",r.BlockC="BlockC",r.BlockC15H12O4="BlockC15H12O4",r.BlockC16H14O4="BlockC16H14O4",r.BlockC6H10O5="BlockC6H10O5",r.BlockC9H8O4="BlockC9H8O4",r.BlockCa="BlockCa",r.BlockCaC2="BlockCaC2",r.BlockCaCO3="BlockCaCO3",r.BlockCu="BlockCu",r.BlockCu2="BlockCu2",r.BlockCuSO45H2O="BlockCuSO45H2O",r.BlockFe="BlockFe",r.BlockFeIm="BlockFeIm",r.BlockFilterPaper="BlockFilterPaper",r.BlockFungus="BlockFungus",r.BlockK="BlockK",r.BlockMg="BlockMg",r.BlockMgStrip="BlockMgStrip",r.BlockNa="BlockNa",r.BlockP4="BlockP4",r.BlockPingPong="BlockPingPong",r.BlockSpinach="BlockSpinach",r.Fun="Fun",r.HoldConicalFlask="HoldConicalFlask",r.HoldFlorenceFlask="HoldFlorenceFlask",r.HoldTestTube="HoldTestTube",r.HoldThreeNeckFlask="HoldThreeNeckFlask",r.PlugTestTube="PlugTestTube",e.exports=n},function(e,t,i){var n=i(37),a=i(272);e.exports=function(e){if(n(e))return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){i(426),e.exports=i(30).Array.isArray},function(e,t,i){var n=i(38);n(n.S,"Array",{isArray:i(207)})},function(e,t,i){var n=i(42),a=i(43),r=i(44);e.exports=function(e){if(void 0!==n&&null!=e[a]||null!=e["@@iterator"])return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){i(273),i(177),i(432),i(433),e.exports=i(30).Symbol},function(e,t,i){var s=i(128),l=i(176),h=i(152);e.exports=function(e){var t=s(e),i=l.f;if(i)for(var n,a=i(e),r=h.f,o=0;a.length>o;)r.call(e,n=a[o++])&&t.push(n);return t}},function(e,t,i){var l=i(94),h=i(175),c=i(431);e.exports=function(s){return function(e,t,i){var n,a=l(e),r=h(a.length),o=c(i,r);if(s&&t!=t){for(;o<r;)if((n=a[o++])!=n)return!0}else for(;o<r;o++)if((s||o in a)&&a[o]===t)return s||o||0;return!s&&-1}}},function(e,t,i){var n=i(213),a=Math.max,r=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):r(e,t)}},function(e,t,i){i(211)("asyncIterator")},function(e,t,i){i(211)("observable")},function(e,t,i){i(155),i(178),e.exports=i(210).f("iterator")},function(e,t,i){var o=i(213),s=i(174);e.exports=function(r){return function(e,t){var i,n=String(s(e)),a=o(t),e=n.length;return a<0||e<=a?r?"":void 0:(t=n.charCodeAt(a))<55296||56319<t||a+1===e||(i=n.charCodeAt(a+1))<56320||57343<i?r?n.charAt(a):t:r?n.slice(a,a+2):i-56320+(t-55296<<10)+65536}}},function(e,t,i){"use strict";var n=i(153),a=i(148),r=i(151),o={};i(101)(o,i(68)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(o,{next:a(1,i)}),r(e,t+" Iterator")}},function(e,t,i){"use strict";var n=i(438),a=i(279),r=i(156),o=i(94);e.exports=i(217)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t,i){i(155),i(440),e.exports=i(30).Array.from},function(e,t,i){"use strict";var u=i(92),n=i(38),d=i(113),p=i(280),f=i(281),I=i(175),g=i(282),m=i(283);n(n.S+n.F*!i(284)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,n,a,r=d(e),o="function"==typeof this?this:Array,s=arguments.length,l=1<s?arguments[1]:void 0,h=void 0!==l,c=0,e=m(r);if(h&&(l=u(l,2<s?arguments[2]:void 0,2)),null==e||o==Array&&f(e))for(i=new o(t=I(r.length));c<t;c++)g(i,c,h?l(r[c],c):r[c]);else for(a=e.call(r),i=new o;!(n=a.next()).done;c++)g(i,c,h?p(a,l,[n.value,c],!0):n.value);return i.length=c,i}})},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){i(443),e.exports=i(30).Object.values},function(e,t,i){var n=i(38),a=i(286)(!1);n(n.S,"Object",{values:function(e){return a(e)}})},function(e,t,i){i(445),e.exports=i(30).Object.keys},function(e,t,i){var n=i(113),a=i(128);i(179)("keys",function(){return function(e){return a(n(e))}})},function(e,t,i){i(177),i(155),i(178),i(447),i(451),i(453),i(454),e.exports=i(30).Map},function(e,t,i){"use strict";var n=i(287),a=i(222);e.exports=i(289)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){e=n.getEntry(a(this,"Map"),e);return e&&e.v},set:function(e,t){return n.def(a(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,i){var v=i(92),C=i(212),M=i(113),b=i(175),n=i(449);e.exports=function(u,e){var d=1==u,p=2==u,f=3==u,I=4==u,g=6==u,m=5==u||g,y=e||n;return function(e,t,i){for(var n,a,r=M(e),o=C(r),s=v(t,i,3),l=b(o.length),h=0,c=d?y(e,l):p?y(e,0):void 0;h<l;h++)if((m||h in o)&&(a=s(n=o[h],h,r),u))if(d)c[h]=a;else if(a)switch(u){case 3:return!0;case 5:return n;case 6:return h;case 2:c.push(n)}else if(I)return!1;return g?-1:f||I?I:c}}},function(e,t,i){var n=i(450);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){var n=i(67),a=i(207),r=i(68)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){var n=i(38);n(n.P+n.R,"Map",{toJSON:i(290)("Map")})},function(e,t,i){var n=i(157);e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},function(e,t,i){i(291)("Map")},function(e,t,i){i(292)("Map")},function(e,t,i){i(177),i(155),i(178),i(456),i(457),i(458),i(459),e.exports=i(30).Set},function(e,t,i){"use strict";var n=i(287),a=i(222);e.exports=i(289)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return n.def(a(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,i){var n=i(38);n(n.P+n.R,"Set",{toJSON:i(290)("Set")})},function(e,t,i){i(291)("Set")},function(e,t,i){i(292)("Set")},function(e,t,i){"use strict";e.exports={isDebug:!1}},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var AcidGlassDropper=i(225);i(11);e.exports=function(){(0,l.default)(AcidBrownDropper,AcidGlassDropper);var t=u(AcidBrownDropper);function AcidBrownDropper(){var e;return(0,r.default)(this,AcidBrownDropper),(e=t.call(this)).autoHideInfo=!0,e.name="AcidBrownDropper",e.CNName="酸式棕色滴管",e.z_index=25.06,e}return(0,o.default)(AcidBrownDropper,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(AcidBrownDropper.prototype),"creationComplete",this).call(this)}}]),AcidBrownDropper}()},function(e,t,i){i(463),e.exports=i(30).Reflect.construct},function(e,t,i){var n=i(38),a=i(153),r=i(112),o=i(81),s=i(67),l=i(93),h=i(464),c=(i(48).Reflect||{}).construct,u=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!l(function(){c(function(){})});n(n.S+n.F*(u||d),"Reflect",{construct:function(e,t){r(e),o(t);var i=arguments.length<3?e:r(arguments[2]);if(d&&!u)return c(e,t,i);if(e==i){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(h.apply(e,n))}n=i.prototype,i=a(s(n)?n:Object.prototype),n=Function.apply.call(e,i,t);return s(n)?n:i}})},function(e,t,i){"use strict";var r=i(112),o=i(67),s=i(293),l=[].slice,h={};e.exports=Function.bind||function(t){var i=r(this),n=l.call(arguments,1),a=function(){var e=n.concat(l.call(arguments));return this instanceof a?function(e,t,i){if(!(t in h)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";h[t]=Function("F,a","return new F("+n.join(",")+")")}return h[t](e,i)}(i,e.length,e):s(i,e,t)};return o(i.prototype)&&(a.prototype=i.prototype),a}},function(e,t,i){i(466);var n=i(30).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){var n=i(38);n(n.S+n.F*!i(76),"Object",{defineProperty:i(82).f})},function(e,t,i){e.exports=i(468)},function(e,t,i){i(469),e.exports=i(30).Reflect.get},function(e,t,i){var r=i(154),o=i(218),s=i(102),n=i(38),l=i(67),h=i(81);n(n.S,"Reflect",{get:function e(t,i){var n,a=arguments.length<3?t:arguments[2];return h(t)===a?t[i]:(n=r.f(t,i))?s(n,"value")?n.value:void 0!==n.get?n.get.call(a):void 0:l(n=o(t))?e(n,i,a):void 0}})},function(e,t,i){i(471);var n=i(30).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,i){var n=i(94),a=i(154).f;i(179)("getOwnPropertyDescriptor",function(){return function(e,t){return a(n(e),t)}})},function(e,t,i){var n=i(3);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){i(474),e.exports=i(30).Object.setPrototypeOf},function(e,t,i){var n=i(38);n(n.S,"Object",{setPrototypeOf:i(475).set})},function(e,t,a){function r(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var i=a(67),n=a(81);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i,n){try{(n=a(92)(Function.call,a(154).f(Object.prototype,"__proto__").set,2))(e,[]),i=!(e instanceof Array)}catch(e){i=!0}return function(e,t){return r(e,t),i?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:r}},function(e,t,i){e.exports=i(477)},function(e,t,i){i(478),e.exports=i(30).Object.getPrototypeOf},function(e,t,i){var n=i(113),a=i(218);i(179)("getPrototypeOf",function(){return function(e){return a(n(e))}})},function(e,t,i){i(480);var n=i(30).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,i){var n=i(38);n(n.S,"Object",{create:i(153)})},function(i,e,t){var n=t(294);function a(e,t){return i.exports=a=n||function(e,t){return e.__proto__=t,e},i.exports.__esModule=!0,i.exports.default=i.exports,a(e,t)}i.exports=a,i.exports.__esModule=!0,i.exports.default=i.exports},function(e,t,i){i(483),e.exports=i(30).Object.assign},function(e,t,i){var n=i(38);n(n.S+n.F,"Object",{assign:i(484)})},function(e,t,i){"use strict";var d=i(76),p=i(128),f=i(176),I=i(152),g=i(113),m=i(212),a=Object.assign;e.exports=!a||i(93)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=a({},e)[i]||Object.keys(a({},t)).join("")!=n})?function(e,t){for(var i=g(e),n=arguments.length,a=1,r=f.f,o=I.f;a<n;)for(var s,l=m(arguments[a++]),h=r?p(l).concat(r(l)):p(l),c=h.length,u=0;u<c;)s=h[u++],d&&!o.call(l,s)||(i[s]=l[s]);return i}:a},function(e,t,i){i(486),e.exports=i(30).parseInt},function(e,t,i){var n=i(38),i=i(487);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(e,t,i){var n=i(48).parseInt,a=i(295).trim,i=i(226),r=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){e=a(String(e),3);return n(e,t>>>0||(r.test(e)?16:10))}:n},function(e,t,i){i(489);var n=i(30).Object;e.exports=function(e,t){return n.defineProperties(e,t)}},function(e,t,i){var n=i(38);n(n.S+n.F*!i(76),"Object",{defineProperties:i(276)})},function(e,t,i){i(491),e.exports=i(30).Date.now},function(e,t,i){i=i(38);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,i){i(493),e.exports=i(30).parseFloat},function(e,t,i){var n=i(38),i=i(494);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(e,t,i){var n=i(48).parseFloat,a=i(295).trim;e.exports=1/n(i(226)+"-0")!=-1/0?function(e){var t=a(String(e),3),e=n(t);return 0===e&&"-"==t.charAt(0)?-0:e}:n},function(e,t,i){var n=i(37);e.exports=function(e){if(n(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){var l=i(42),h=i(43);e.exports=function(e,t){var i=null==e?null:void 0!==l&&e[h]||e["@@iterator"];if(null!=i){var n,a,r=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw a}}return r}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,i){i(177),i(155),i(178),i(499),i(502),i(503),e.exports=i(30).Promise},function(e,t,i){"use strict";function n(){}var a,r,o,s,l=i(150),d=i(48),h=i(92),c=i(219),u=i(38),p=i(67),f=i(112),I=i(221),g=i(157),m=i(296),y=i(297).set,v=i(500)(),C=i(227),M=i(298),b=i(501),x=i(299),O="Promise",A=d.TypeError,T=d.process,S=T&&T.versions,w=S&&S.v8||"",B=d[O],D="process"==c(T),P=r=C.f,c=!!function(){try{var e=B.resolve(1),t=(e.constructor={})[i(68)("species")]=function(e){e(n,n)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(n)instanceof t&&0!==w.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),L=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},N=function(u,i){var n;u._n||(u._n=!0,n=u._c,v(function(){for(var a,h=u._v,c=1==u._s,e=0,t=function(e){var t,i,n,a,r=c?e.ok:e.fail,o=e.resolve,s=e.reject,l=e.domain;try{r?(c||(2==u._h&&(a=u,y.call(d,function(){var e;D?T.emit("rejectionHandled",a):(e=d.onrejectionhandled)&&e({promise:a,reason:a._v})})),u._h=1),!0===r?t=h:(l&&l.enter(),t=r(h),l&&(l.exit(),n=!0)),t===e.promise?s(A("Promise-chain cycle")):(i=L(t))?i.call(t,o,s):o(t)):s(h)}catch(e){l&&!n&&l.exit(),s(e)}};n.length>e;)t(n[e++]);u._c=[],u._n=!1,i&&!u._h&&(a=u,y.call(d,function(){var e,t,i=a._v,n=J(a);if(n&&(e=M(function(){D?T.emit("unhandledRejection",i,a):(t=d.onunhandledrejection)?t({promise:a,reason:i}):(t=d.console)&&t.error&&t.error("Unhandled promise rejection",i)}),a._h=D||J(a)?2:1),a._a=void 0,n&&e.e)throw e.v}))}))},J=function(e){return 1!==e._h&&0===(e._a||e._c).length},_=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},E=function(e){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw A("Promise can't be resolved itself");(i=L(e))?v(function(){var t={_w:n,_d:!1};try{i.call(e,h(E,t,1),h(_,t,1))}catch(e){_.call(t,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){_.call({_w:n,_d:!1},e)}}};c||(B=function(e){I(this,B,O,"_h"),f(e),a.call(this);try{e(h(E,this,1),h(_,this,1))}catch(e){_.call(this,e)}},(a=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(220)(B.prototype,{then:function(e,t){var i=P(m(this,B));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=D?T.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&N(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new a;this.promise=e,this.resolve=h(E,e,1),this.reject=h(_,e,1)},C.f=P=function(e){return e===B||e===s?new o:r(e)}),u(u.G+u.W+u.F*!c,{Promise:B}),i(151)(B,O),i(288)(O),s=i(30)[O],u(u.S+u.F*!c,O,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),u(u.S+u.F*(l||!c),O,{resolve:function(e){return x(l&&this===s?B:this,e)}}),u(u.S+u.F*!(c&&i(284)(function(e){B.all(e).catch(n)})),O,{all:function(e){var o=this,t=P(o),s=t.resolve,l=t.reject,i=M(function(){var n=[],a=0,r=1;g(e,!1,function(e){var t=a++,i=!1;n.push(void 0),r++,o.resolve(e).then(function(e){i||(i=!0,n[t]=e,--r||s(n))},l)}),--r||s(n)});return i.e&&l(i.v),t.promise},race:function(e){var t=this,i=P(t),n=i.reject,a=M(function(){g(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return a.e&&n(a.v),i.promise}})},function(e,t,i){var s=i(48),l=i(297).set,h=s.MutationObserver||s.WebKitMutationObserver,c=s.process,u=s.Promise,d="process"==i(149)(c);e.exports=function(){function e(){var e,t;for(d&&(e=c.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():n=void 0,e}}n=void 0,e&&e.enter()}var i,n,t,a,r,o;return a=d?function(){c.nextTick(e)}:!h||s.navigator&&s.navigator.standalone?u&&u.resolve?(t=u.resolve(void 0),function(){t.then(e)}):function(){l.call(s,e)}:(r=!0,o=document.createTextNode(""),new h(e).observe(o,{characterData:!0}),function(){o.data=r=!r}),function(e){e={fn:e,next:void 0};n&&(n.next=e),i||(i=e,a()),n=e}}},function(e,t,i){i=i(48).navigator;e.exports=i&&i.userAgent||""},function(e,t,i){"use strict";var n=i(38),a=i(30),r=i(48),o=i(296),s=i(299);n(n.P+n.R,"Promise",{finally:function(t){var i=o(this,a.Promise||r.Promise),e="function"==typeof t;return this.then(e?function(e){return s(i,t()).then(function(){return e})}:t,e?function(e){return s(i,t()).then(function(){throw e})}:t)}})},function(e,t,i){"use strict";var n=i(38),a=i(227),r=i(298);n(n.S,"Promise",{try:function(e){var t=a.f(this),e=r(e);return(e.e?t.reject:t.resolve)(e.v),t.promise}})},function(e,t,i){var i=i(30),n=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},function(e,t,i){"use strict";var l=i(0)(i(25)),n={},h=i(29).getLan,c={"Na4C2O6·3H2O2":"2Na₂CO₃·3H₂O₂","Na4C2O6·3H2O2(s)":"2Na₂CO₃·3H₂O₂(s)","Na4C2O6·3H2O2(l)":"2Na₂CO₃·3H₂O₂(l)",CH2O:"HCHO","CH2O(l)":"HCHO(l)","CH2O(g)":"HCHO(g)"},u=i(133),d={0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉",".":"·"},p={0:"º",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻","+":"⁺"};function f(e){if(c[e])return c[e];var t="",i=(e=h(e)).length;if(/!/.test(e))var n=e.split("!"),a=0<u.ionMap[n[0]]?"⁺":"⁻",r=(0,l.default)(n[1]),t=f(n[0])+(1===r?a:p[r]+a);else for(var o=0;o<i;o++){var s=e.charAt(o);if("_"===s)return t;/\d|\w/.test(s)&&("·"===e[o-1]||"."===e[o-1])||void 0===d[s]?t+=s:t+=d[s]}return c[e]=t}n.dealWith=function(e){if(e instanceof Array){if(2===e.length&&e[0]===e[1])return[f(e[0])];for(var t=[],i=0;i<e.length;i++)t.push(f(e[i]));return t}if("string"==typeof e)return f(e)},e.exports=n},function(e,t,i){"use strict";e.exports={H1:{"OH-1":{name:"H2O"},"HS-1":{name:"H2S"},"HSO3-1":{name:"H2SO3"},"SO4-2":{name:"H2SO4"},"H2PO4-1":{name:"H3PO4"},Na1:{name:"NaHSO4"},"CH3COO-1":{name:"CH3COOH"},"HCO3-1":{name:"H2CO3"},"CO3-2":{name:"HCO3"},"HPO4-2":{name:"H2PO4"},"PO4-3":{name:"HPO4"},"SO3-2":{name:"HSO3"},"NO3-1":{name:"HNO3"},"Cl-1":{name:"HCl"},"S-1":{name:"HS"},"HSiO3-1":{name:"H2SiO3"},"ClO-1":{name:"HClO"},"AlO2-1":{name:"HAlO2"},"C2O4-2":{name:"H2C2O4"},"CrO4-2":{name:"H2CrO4"},"H2BO3-1":{name:"H3BO3"},"BrO-1":{name:"HBrO"},"Br-1":{name:"HBr"},"C6H5COO-1":{name:"C6H5COOH"},"I-1":{name:"HI"},"C17H35COO-1":{name:"C17H35COOH"},"Fe(C6H5O)6-3":{name:"H3[Fe(C6H5O)6]"},"C6H7O7-1":{name:"C6H8O7"},"C6H6O7-2":{name:"C6H7O7"},"C6H5O7-3":{name:"C6H6O7"},"HCOO-1":{name:"HCOOH"},"CH3CH2COO-1":{name:"CH3CH2COOH"},"CH3(CH2)3COO-1":{name:"CH3(CH2)3COOH"},"C9H7O4-1":{name:"C9H8O4"},"C4H5O5-1":{name:"C4H6O5"},"IO3-1":{name:"HIO3"},"SiO3-2":{name:"HSiO3"}},Ag1:{"S-2":{name:"Ag2S"},"SO4-2":{name:"Ag2SO4"},"Br-1":{name:"AgBr"},"Cl-1":{name:"AgCl"},"I-1":{name:"AgI"},"NO3-1":{name:"AgNO3"},"OH-1":{name:"AgOH"},"CO3-2":{name:"Ag2CO3"},"SCN-1":{name:"AgSCN"}},Al3:{"S-2":{name:"Al2S3"},"SO4-2":{name:"Al2(SO4)3"},"Br-1":{name:"AlBr3"},"Cl-1":{name:"AlCl3"},"NO3-1":{name:"Al(NO3)3"},"OH-1":{name:"Al(OH)3"},"I-1":{name:"AlI3"}},Ba2:{"Cl-1":{name:"BaCl2"},"CO3-2":{name:"BaCO3"},"NO3-1":{name:"Ba(NO3)2"},"OH-1":{name:"Ba(OH)2·8H2O"},"SO4-2":{name:"BaSO4"},"HCO3-1":{name:"Ba(HCO3)2"},"SO3-2":{name:"BaSO3"},"CH3COO-1":{name:"(CH3COO)2Ba"}},Ca2:{"Cl-1":{name:"CaCl2"},"CO3-2":{name:"CaCO3"},"NO3-1":{name:"Ca(NO3)2"},"OH-1":{name:"Ca(OH)2"},"SO3-2":{name:"CaSO3"},"SO4-2":{name:"CaSO4"},"HCO3-1":{name:"Ca(HCO3)2"},"ClO-1":{name:"Ca(ClO)2"},"SiO3-2":{name:"CaSiO3"},"S-2":{name:"CaS"},"CH3COO-1":{name:"Ca(CH3COO)2"},"C6H6O7-2":{name:"CaC6H6O7"},"Br-1":{name:"CaBr2"},"I-1":{name:"CaI2"},"C6H5COO-1":{name:"Ca(C6H5COO)2"},"HCOO-1":{name:"Ca(HCOO)2"},"C2O4-2":{name:"CaC2O4"}},Cu2:{"S-2":{name:"CuS"},"Cl-1":{name:"CuCl2·2H2O"},"CO3-2":{name:"CuCO3"},"NO3-1":{name:"Cu(NO3)2"},"OH-1":{name:"Cu(OH)2"},"SO4-2":{name:"CuSO4"},"CH3COO-1":{name:"(CH3COO)2Cu"},"Br-1":{name:"CuBr2"}},Fe3:{"SO4-2":{name:"Fe2(SO4)3"},"Cl-1":{name:"FeCl3"},"NO3-1":{name:"Fe(NO3)3"},"OH-1":{name:"Fe(OH)3"}},Fe2:{"Cl-1":{name:"FeCl2"},"NO3-1":{name:"Fe(NO3)2"},"OH-1":{name:"Fe(OH)2"},"SO4-2":{name:"FeSO4"},"CH3COO-1":{name:"Fe(CH3COO)2"},"S-2":{name:"FeS"},"C6H5COO-1":{name:"Fe(C6H5COO)2"},"HCOO-1":{name:"Fe(HCOO)2"},"C2O4-2":{name:"FeC2O4"}},K1:{"MnO4-2":{name:"K2MnO4"},"SO4-2":{name:"KHSO4"},"Br-1":{name:"KBr"},"Cl-1":{name:"KCl"},"ClO3-1":{name:"KClO3"},"I-1":{name:"KI"},"MnO4-1":{name:"KMnO4"},"NO3-1":{name:"KNO3"},"OH-1":{name:"KOH"},"Fe(CN)6-3":{name:"K3[Fe(CN)6]"},"Cr2O7-2":{name:"K2Cr2O7"},"CrO4-2":{name:"K2CrO4"},"SCN-1":{name:"KSCN"},"S-2":{name:"K2S"},"HCO3-1":{name:"KHCO3"},"CO3-2":{name:"K2CO3"},"CH3COO-1":{name:"CH3COOK"},Al3:{name:"KAl(SO4)2"},"IO3-1":{name:"KIO3"},"I3-1":{name:"KI3"}},Li1:{"OH-1":{name:"LiOH"}},Mg2:{"Cl-1":{name:"MgCl2"},"NO3-1":{name:"Mg(NO3)2"},"OH-1":{name:"Mg(OH)2"},"SO4-2":{name:"MgSO4"},"CO3-2":{name:"MgCO3"},"CH3COO-1":{name:"(CH3COO)2Mg"},"HCO3-1":{name:"Mg(HCO3)2"},"I-1":{name:"MgI2"},"C6H5COO-1":{name:"Mg(C6H5COO)2"},"HCOO-1":{name:"Mg(HCOO)2"},"C2O4-2":{name:"MgC2O4"}},Mn2:{"Cl-1":{name:"MnCl2"},"NO3-1":{name:"Mn(NO3)2"},"OH-1":{name:"Mn(OH)2"},"SO4-2":{name:"MnSO4"}},Na1:{"CO3-2":{name:"Na2CO3"},"SO3-2":{name:"Na2SO3"},"SO4-2":{name:"Na2SO4"},"AlO2-1":{name:"NaAlO2"},"Cl-1":{name:"NaCl"},"HCO3-1":{name:"NaHCO3"},"HSO3-1":{name:"NaHSO3"},"NO3-1":{name:"NaNO3"},"OH-1":{name:"NaOH"},"SiO3-2":{name:"Na2SiO3"},"C17H35COO-1":{name:"C17H35COONa"},"CH3COO-1":{name:"CH3COONa"},"H2PO4-1":{name:"NaH2PO4"},"HPO4-2":{name:"Na2HPO4"},"S-2":{name:"Na2S"},"HS-1":{name:"NaHS"},"PO4-3":{name:"Na3PO4"},"S2O3-2":{name:"Na2S2O3"},"C2H5O-1":{name:"C2H5ONa"},"ClO-1":{name:"NaClO"},"I-1":{name:"NaI"},"Br-1":{name:"NaBr"},"BrO-1":{name:"NaBrO"},"CrO4-2":{name:"Na2CrO4"},"Cr2O7-2":{name:"Na2Cr2O7"},"H2BO3-1":{name:"NaH2BO3"},"B(OH)4-1":{name:"NaB(OH)4"},"C6H5O-1":{name:"C6H5ONa"},"ClO3-1":{name:"NaClO3"},"C6H5O7-3":{name:"C6H5O7Na3"},"C12H21O12-1":{name:"C12H21O12Na"},"CH3CH2COO-1":{name:"CH3CH2COONa"},"IO3-1":{name:"NaIO3"},"MnO4-2":{name:"Na2MnO4"},"HCOO-1":{name:"HCOONa"},"I3-1":{name:"NaI3"},"C6H5COO-1":{name:"C6H5COONa"},"C2O4-2":{name:"Na2C2O4"},"ZnO2-2":{name:"Na2ZnO2"},"S-1":{name:"Na2S2"}},NH41:{"SO4-2":{name:"(NH4)2SO4"},"Cl-1":{name:"NH4Cl"},"NO3-1":{name:"NH4NO3"},"OH-1":{name:"NH3H2O"},"CH3COO-1":{name:"CH3COONH4"},"HCO3-1":{name:"NH4HCO3"},"CO3-2":{name:"(NH4)2CO3"},"SO3-2":{name:"(NH4)2SO3"}},Zn2:{"Cl-1":{name:"ZnCl2"},"NO3-1":{name:"Zn(NO3)2"},"S-2":{name:"ZnS"},"SO4-2":{name:"ZnSO4"},"CH3COO-1":{name:"(CH3COO)2Zn"},"OH-1":{name:"Zn(OH)2"},"C6H5COO-1":{name:"Zn(C6H5COO)2"},"HCOO-1":{name:"Zn(HCOO)2"},"C2O4-2":{name:"ZnC2O4"}},Cr3:{"SO4-2":{name:"Cr2(SO4)3"},"Cl-1":{name:"CrCl3"},"NO3-1":{name:"Cr(NO3)3"}},Pb2:{"I-1":{name:"PbI2"}},"Ag(NH3)21":{"Cl-1":{name:"Ag(NH3)2Cl"}},FeOH2:{"Cl-1":{name:"FeOHCl2"},"NO3-1":{name:"FeOH(NO3)2"},"SO4-2":{name:"FeOHSO4"}},Cu1:{"I-1":{name:"CuI"}}}},function(e,t,i){var n=i(508);e.exports=function e(t){t=n.create(t);return t.create=e,t.import(i(515)),t}()},function(e,t,i){e.exports=i(509)},function(e,t,i){var l=i(28).isFactory,h=i(510),c=i(300),u=i(513),d=i(514);t.create=function(e){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=[],a=[],r=c.mixin({});r.type={},r.expression={transform:{},mathWithTransform:{}},r.typed=h.create(r.type);var o={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function s(e){if(!l(e))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var t,i=n.indexOf(e);return-1===i?(t=!0===e.math?e.factory(r.type,o,s,r.typed,r):e.factory(r.type,o,s,r.typed),n.push(e),a.push(t)):t=a[i],t}return r.import=s(u),r.config=s(d),r.expression.mathWithTransform.config=r.config,e&&r.config(e),r}},function(e,t,i){var n=i(511),a=i(17).digits,r=i(230),o=i(181),s=function(){return s=n.create,n};t.create=function(i){i.isNumber=function(e){return"number"==typeof e},i.isComplex=function(e){return i.Complex&&e instanceof i.Complex||!1},i.isBigNumber=r,i.isFraction=function(e){return i.Fraction&&e instanceof i.Fraction||!1},i.isUnit=function(e){return e&&e.constructor.prototype.isUnit||!1},i.isString=function(e){return"string"==typeof e},i.isArray=Array.isArray,i.isMatrix=o,i.isDenseMatrix=function(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix||!1},i.isSparseMatrix=function(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix||!1},i.isRange=function(e){return e&&e.constructor.prototype.isRange||!1},i.isIndex=function(e){return e&&e.constructor.prototype.isIndex||!1},i.isBoolean=function(e){return"boolean"==typeof e},i.isResultSet=function(e){return e&&e.constructor.prototype.isResultSet||!1},i.isHelp=function(e){return e&&e.constructor.prototype.isHelp||!1},i.isFunction=function(e){return"function"==typeof e},i.isDate=function(e){return e instanceof Date},i.isRegExp=function(e){return e instanceof RegExp},i.isObject=function(e){return"object"==typeof e},i.isNull=function(e){return null===e},i.isUndefined=function(e){return void 0===e},i.isAccessorNode=function(e){return e&&e.isAccessorNode&&e.constructor.prototype.isNode||!1},i.isArrayNode=function(e){return e&&e.isArrayNode&&e.constructor.prototype.isNode||!1},i.isAssignmentNode=function(e){return e&&e.isAssignmentNode&&e.constructor.prototype.isNode||!1},i.isBlockNode=function(e){return e&&e.isBlockNode&&e.constructor.prototype.isNode||!1},i.isConditionalNode=function(e){return e&&e.isConditionalNode&&e.constructor.prototype.isNode||!1},i.isConstantNode=function(e){return e&&e.isConstantNode&&e.constructor.prototype.isNode||!1},i.isFunctionAssignmentNode=function(e){return e&&e.isFunctionAssignmentNode&&e.constructor.prototype.isNode||!1},i.isFunctionNode=function(e){return e&&e.isFunctionNode&&e.constructor.prototype.isNode||!1},i.isIndexNode=function(e){return e&&e.isIndexNode&&e.constructor.prototype.isNode||!1},i.isNode=function(e){return e&&e.isNode&&e.constructor.prototype.isNode||!1},i.isObjectNode=function(e){return e&&e.isObjectNode&&e.constructor.prototype.isNode||!1},i.isOperatorNode=function(e){return e&&e.isOperatorNode&&e.constructor.prototype.isNode||!1},i.isParenthesisNode=function(e){return e&&e.isParenthesisNode&&e.constructor.prototype.isNode||!1},i.isRangeNode=function(e){return e&&e.isRangeNode&&e.constructor.prototype.isNode||!1},i.isSymbolNode=function(e){return e&&e.isSymbolNode&&e.constructor.prototype.isNode||!1},i.isChain=function(e){return e&&e.constructor.prototype.isChain||!1};var e=s();return e.types=[{name:"number",test:i.isNumber},{name:"Complex",test:i.isComplex},{name:"BigNumber",test:i.isBigNumber},{name:"Fraction",test:i.isFraction},{name:"Unit",test:i.isUnit},{name:"string",test:i.isString},{name:"Array",test:i.isArray},{name:"Matrix",test:i.isMatrix},{name:"DenseMatrix",test:i.isDenseMatrix},{name:"SparseMatrix",test:i.isSparseMatrix},{name:"Range",test:i.isRange},{name:"Index",test:i.isIndex},{name:"boolean",test:i.isBoolean},{name:"ResultSet",test:i.isResultSet},{name:"Help",test:i.isHelp},{name:"function",test:i.isFunction},{name:"Date",test:i.isDate},{name:"RegExp",test:i.isRegExp},{name:"Object",test:i.isObject},{name:"null",test:i.isNull},{name:"undefined",test:i.isUndefined},{name:"OperatorNode",test:i.isOperatorNode},{name:"ConstantNode",test:i.isConstantNode},{name:"SymbolNode",test:i.isSymbolNode},{name:"ParenthesisNode",test:i.isParenthesisNode},{name:"FunctionNode",test:i.isFunctionNode},{name:"FunctionAssignmentNode",test:i.isFunctionAssignmentNode},{name:"ArrayNode",test:i.isArrayNode},{name:"AssignmentNode",test:i.isAssignmentNode},{name:"BlockNode",test:i.isBlockNode},{name:"ConditionalNode",test:i.isConditionalNode},{name:"IndexNode",test:i.isIndexNode},{name:"RangeNode",test:i.isRangeNode},{name:"Node",test:i.isNode}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(15<a(e))throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new i.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new i.Complex(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new i.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new i.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(new i.Fraction(e).valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new i.Fraction(e)}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){try{return new i.BigNumber(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){try{return new i.Fraction(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){try{return new i.Complex(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return new i.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new i.Fraction(+e)}},{from:"boolean",to:"string",convert:function(e){return+e}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new i.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new i.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){return new i.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],e}},function(e,t,i){"use strict";var n;void 0===(n="function"==typeof(n=function(){function c(){function f(e){var t;for(var i=0;i<h.types.length;i++){var n=h.types[i];if(n.name===e){t=n.test;break}}if(!t){var a;for(i=0;i<h.types.length;i++){n=h.types[i];if(n.name.toLowerCase()==e.toLowerCase()){a=n.name;break}}throw new Error('Unknown type "'+e+'"'+(a?'. Did you mean "'+a+'"?':""))}return t}function s(e){var t="";for(var i=0;i<e.length;i++){var n=e[i];if(n.signatures&&n.name!="")if(t=="")t=n.name;else if(t!=n.name){var a=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");a.data={actual:n.name,expected:t};throw a}}return t}function d(e,t,i,n,a){var r=O(n);var o=a?a.split(","):null;var s=e||"unnamed";var l=o&&A(o,"any");var h;var c={fn:e,index:i,actual:r,expected:o};if(o)if(t>i&&!l)h="Unexpected type of argument in function "+s+" (expected: "+o.join(" or ")+", actual: "+r+", index: "+i+")";else h="Too few arguments in function "+s+" (expected: "+o.join(" or ")+", index: "+i+")";else h="Too many arguments in function "+s+" (expected: "+i+", actual: "+t+")";var u=new TypeError(h);u.data=c;return u}function p(e){this.name=e||"refs";this.categories={}}p.prototype.add=function(e,t){var i=t||"fn";if(!this.categories[i])this.categories[i]=[];var n=this.categories[i].indexOf(e);if(n==-1){n=this.categories[i].length;this.categories[i].push(e)}return i+n};p.prototype.toCode=function(){var e=[];var t=this.name+".categories";var i=this.categories;for(var n in i)if(i.hasOwnProperty(n)){var a=i[n];for(var r=0;r<a.length;r++)e.push("var "+n+r+" = "+t+"['"+n+"']["+r+"];")}return e.join("\n")};function I(e,t){if(typeof e==="string"){var i=e.trim();var n=i.substr(0,3)==="...";if(n)i=i.substr(3);if(i==="")this.types=["any"];else{this.types=i.split("|");for(var a=0;a<this.types.length;a++)this.types[a]=this.types[a].trim()}}else if(Array.isArray(e))this.types=e;else if(e instanceof I)return e.clone();else throw new Error("String or Array expected");this.conversions=[];this.varArgs=n||t||false;this.anyType=this.types.indexOf("any")!==-1}I.compare=function(e,t){if(e.anyType)return 1;if(t.anyType)return-1;if(A(e.types,"Object"))return 1;if(A(t.types,"Object"))return-1;if(e.hasConversions())if(t.hasConversions()){var i,n,a;for(i=0;i<e.conversions.length;i++)if(e.conversions[i]!==undefined){n=e.conversions[i];break}for(i=0;i<t.conversions.length;i++)if(t.conversions[i]!==undefined){a=t.conversions[i];break}return h.conversions.indexOf(n)-h.conversions.indexOf(a)}else return 1;else if(t.hasConversions())return-1;else{var r,o;for(i=0;i<h.types.length;i++)if(h.types[i].name===e.types[0]){r=i;break}for(i=0;i<h.types.length;i++)if(h.types[i].name===t.types[0]){o=i;break}return r-o}};I.prototype.overlapping=function(e){for(var t=0;t<this.types.length;t++)if(A(e.types,this.types[t]))return true;return false};I.prototype.matches=function(e){return this.anyType||e.anyType||this.overlapping(e)};I.prototype.clone=function(){var e=new I(this.types.slice(),this.varArgs);e.conversions=this.conversions.slice();return e};I.prototype.hasConversions=function(){return this.conversions.length>0};I.prototype.contains=function(e){for(var t=0;t<this.types.length;t++)if(e[this.types[t]])return true;return false};I.prototype.toString=function(e){var t=[];var i={};for(var n=0;n<this.types.length;n++){var a=this.conversions[n];var r=e&&a?a.to:this.types[n];if(!(r in i)){i[r]=true;t.push(r)}}return(this.varArgs?"...":"")+t.join("|")};function v(e,t){var i;if(typeof e==="string")i=e!==""?e.split(","):[];else if(Array.isArray(e))i=e;else throw new Error("string or Array expected");this.params=new Array(i.length);this.anyType=false;this.varArgs=false;for(var n=0;n<i.length;n++){var a=new I(i[n]);this.params[n]=a;if(a.anyType)this.anyType=true;if(n===i.length-1)this.varArgs=a.varArgs;else if(a.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=t}v.prototype.clone=function(){return new v(this.params.slice(),this.fn)};v.prototype.expand=function(){var s=[];function l(e,t){if(t.length<e.params.length){var i,n,a;var r=e.params[t.length];if(r.varArgs){n=r.clone();for(i=0;i<h.conversions.length;i++){a=h.conversions[i];if(!A(r.types,a.from)&&A(r.types,a.to)){var o=n.types.length;n.types[o]=a.from;n.conversions[o]=a}}l(e,t.concat(n))}else{for(i=0;i<r.types.length;i++)l(e,t.concat(new I(r.types[i])));for(i=0;i<h.conversions.length;i++){a=h.conversions[i];if(!A(r.types,a.from)&&A(r.types,a.to)){n=new I(a.from);n.conversions[0]=a;l(e,t.concat(n))}}}}else s.push(new v(t,e.fn))}l(this,[]);return s};v.compare=function(e,t){if(e.params.length>t.params.length)return 1;if(e.params.length<t.params.length)return-1;var i;var n=e.params.length;var a=0;var r=0;for(i=0;i<n;i++){if(e.params[i].hasConversions())a++;if(t.params[i].hasConversions())r++}if(a>r)return 1;if(a<r)return-1;for(i=0;i<e.params.length;i++){var o=I.compare(e.params[i],t.params[i]);if(o!==0)return o}return 0};v.prototype.hasConversions=function(){for(var e=0;e<this.params.length;e++)if(this.params[e].hasConversions())return true;return false};v.prototype.ignore=function(){var e={};for(var t=0;t<h.ignore.length;t++)e[h.ignore[t]]=true;for(t=0;t<this.params.length;t++)if(this.params[t].contains(e))return true;return false};v.prototype.paramsStartWith=function(e){if(e.length===0)return true;var t=o(this.params);var i=o(e);for(var n=0;n<e.length;n++){var a=this.params[n]||(t.varArgs?t:null);var r=e[n]||(i.varArgs?i:null);if(!a||!r||!a.matches(r))return false}return true};v.prototype.toCode=function(e,t){var i=[];var n=new Array(this.params.length);for(var a=0;a<this.params.length;a++){var r=this.params[a];var o=r.conversions[0];if(r.varArgs)n[a]="varArgs";else if(o)n[a]=e.add(o.convert,"convert")+"(arg"+a+")";else n[a]="arg"+a}var s=this.fn?e.add(this.fn,"signature"):undefined;if(s)return t+"return "+s+"("+n.join(", ")+"); // signature: "+this.params.join(", ");return i.join("\n")};v.prototype.toString=function(){return this.params.join(", ")};function g(e,t,i,n){this.path=e||[];this.param=e[e.length-1]||null;this.signature=t||null;this.childs=i||[];this.fallThrough=n||false}g.prototype.toCode=function(a,e){var t=[];if(this.param){var i=this.path.length-1;var n=this.param.conversions[0];var r="// type: "+(n?n.from+" (convert to "+n.to+")":this.param);if(this.param.varArgs)if(this.param.anyType){t.push(e+"if (arguments.length > "+i+") {");t.push(e+"  var varArgs = [];");t.push(e+"  for (var i = "+i+"; i < arguments.length; i++) {");t.push(e+"    varArgs.push(arguments[i]);");t.push(e+"  }");t.push(this.signature.toCode(a,e+"  "));t.push(e+"}")}else{var o=function(e,t){var i=[];for(var n=0;n<e.length;n++)i[n]=a.add(f(e[n]),"test")+"("+t+")";return i.join(" || ")}.bind(this);var s=this.param.types;var l=[];for(var h=0;h<s.length;h++)if(this.param.conversions[h]===undefined)l.push(s[h]);t.push(e+"if ("+o(s,"arg"+i)+") { "+r);t.push(e+"  var varArgs = [arg"+i+"];");t.push(e+"  for (var i = "+(i+1)+"; i < arguments.length; i++) {");t.push(e+"    if ("+o(l,"arguments[i]")+") {");t.push(e+"      varArgs.push(arguments[i]);");for(var h=0;h<s.length;h++){var c=this.param.conversions[h];if(c){var u=a.add(f(s[h]),"test");var d=a.add(c.convert,"convert");t.push(e+"    }");t.push(e+"    else if ("+u+"(arguments[i])) {");t.push(e+"      varArgs.push("+d+"(arguments[i]));")}}t.push(e+"    } else {");t.push(e+"      throw createError(name, arguments.length, i, arguments[i], '"+l.join(",")+"');");t.push(e+"    }");t.push(e+"  }");t.push(this.signature.toCode(a,e+"  "));t.push(e+"}")}else if(this.param.anyType){t.push(e+"// type: any");t.push(this._innerCode(a,e))}else{var p=this.param.types[0];var u=p!=="any"?a.add(f(p),"test"):null;t.push(e+"if ("+u+"(arg"+i+")) { "+r);t.push(this._innerCode(a,e+"  "));t.push(e+"}")}}else t.push(this._innerCode(a,e));return t.join("\n")};g.prototype._innerCode=function(e,t){var i=[];var n;if(this.signature){i.push(t+"if (arguments.length === "+this.path.length+") {");i.push(this.signature.toCode(e,t+"  "));i.push(t+"}")}for(n=0;n<this.childs.length;n++)i.push(this.childs[n].toCode(e,t));if(!this.fallThrough||this.param&&this.param.anyType){var a=this._exceptions(e,t);if(a)i.push(a)}return i.join("\n")};g.prototype._exceptions=function(e,t){var i=this.path.length;if(this.childs.length===0)return[t+"if (arguments.length > "+i+") {",t+"  throw createError(name, arguments.length, "+i+", arguments["+i+"]);",t+"}"].join("\n");else{var n={};var a=[];for(var r=0;r<this.childs.length;r++){var o=this.childs[r];if(o.param)for(var s=0;s<o.param.types.length;s++){var l=o.param.types[s];if(!(l in n)&&!o.param.conversions[s]){n[l]=true;a.push(l)}}}return t+"throw createError(name, arguments.length, "+i+", arguments["+i+"], '"+a.join(",")+"');"}};function m(e){var t;var i={};var n=[];var a;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];t=new v(r,o);if(t.ignore())continue;var s=t.expand();for(a=0;a<s.length;a++){var l=s[a];var h=l.toString();var c=i[h];if(!c)i[h]=l;else{var u=v.compare(l,c);if(u<0)i[h]=l;else if(u===0)throw new Error('Signature "'+h+'" is defined twice')}}}for(h in i)if(i.hasOwnProperty(h))n.push(i[h]);n.sort(function(e,t){return v.compare(e,t)});for(a=0;a<n.length;a++){t=n[a];if(t.varArgs){var d=t.params.length-1;var p=t.params[d];var f=0;while(f<p.types.length){if(p.conversions[f]){var I=p.types[f];for(var g=0;g<n.length;g++){var m=n[g];var y=m.params[d];if(m!==t&&y&&A(y.types,I)&&!y.conversions[d]){p.types.splice(f,1);p.conversions.splice(f,1);f--;break}}}f++}}}return n}function y(e){var t=[];for(var i=0;i<e.length;i++)if(e[i].anyType)t.push(e[i]);return t}function C(e){var t={};for(var i=0;i<e.length;i++){var n=e[i];if(n.fn&&!n.hasConversions()){var a=n.params.join(",");t[a]=n.fn}}return t}function M(e,t,i){var n,a;var r=t.length;var o;var s=[];for(n=0;n<e.length;n++){a=e[n];if(a.params.length===r&&!o)o=a;if(a.params[r]!=undefined)s.push(a)}s.sort(function(e,t){return I.compare(e.params[r],t.params[r])});var l=[];for(n=0;n<s.length;n++){a=s[n];var h=a.params[r];var c=l.filter(function(e){return e.param.overlapping(h)})[0];if(c){if(c.param.varArgs)throw new Error('Conflicting types "'+c.param+'" and "'+h+'"');c.signatures.push(a)}else l.push({param:h,signatures:[a]})}var u=[];for(n=0;n<i.length;n++)if(i[n].paramsStartWith(t))u.push(i[n]);var d=false;for(n=0;n<u.length;n++)if(!A(e,u[n])){d=true;break}var p=new Array(l.length);for(n=0;n<l.length;n++){var f=l[n];p[n]=M(f.signatures,t.concat(f.param),u)}return new g(t,o,p,d)}function b(e){var t=[];for(var i=0;i<e;i++)t[i]="arg"+i;return t}function l(e,t){var i=new p;var n=m(t);if(n.length==0)throw new Error("No signatures provided");var a=y(n);var r=M(n,[],a);var o=[];var s=(e||"").replace(/[^a-zA-Z0-9_$]/g,"_");var l=b(x(n));o.push("function "+s+"("+l.join(", ")+") {");o.push('  "use strict";');o.push("  var name = "+JSON.stringify(e||"")+";");o.push(r.toCode(i,"  ",false));o.push("}");var h=[i.toCode(),"return "+o.join("\n")].join("\n");var c=new Function(i.name,"createError",h);var u=c(i,d);u.signatures=C(n);return u}function x(e){var t=0;for(var i=0;i<e.length;i++){var n=e[i].params.length;if(n>t)t=n}return t}function O(e){var t;for(var i=0;i<h.types.length;i++){var n=h.types[i];if(n.name==="Object")t=n;else if(n.test(e))return n.name}if(t&&t.test(e))return t.name;return"unknown"}function A(e,t){return e.indexOf(t)!==-1}function o(e){return e[e.length-1]}var e=[{name:"number",test:function(e){return typeof e==="number"}},{name:"string",test:function(e){return typeof e==="string"}},{name:"boolean",test:function(e){return typeof e==="boolean"}},{name:"Function",test:function(e){return typeof e==="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return typeof e==="object"}},{name:"null",test:function(e){return e===null}},{name:"undefined",test:function(e){return e===undefined}}];var t={};var i=[];var n=[];var h={config:t,types:e,conversions:i,ignore:n};h=l("typed",{Object:function(e){var t=[];for(var i in e)if(e.hasOwnProperty(i))t.push(e[i]);var n=s(t);return l(n,e)},"string, Object":l,"...Function":function(e){var t;var i=s(e);var n={};for(var a=0;a<e.length;a++){var r=e[a];if(!(typeof r.signatures==="object")){t=new TypeError("Function is no typed-function (index: "+a+")");t.data={index:a};throw t}for(var o in r.signatures)if(r.signatures.hasOwnProperty(o))if(n.hasOwnProperty(o)){if(r.signatures[o]!==n[o]){t=new Error('Signature "'+o+'" is defined twice');t.data={signature:o};throw t}}else n[o]=r.signatures[o]}return l(i,n)}});function a(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var i;if(typeof t==="string"){i=t.split(",");for(var n=0;n<i.length;n++)i[n]=i[n].trim()}else if(Array.isArray(t))i=t;else throw new TypeError("String array or a comma separated string expected");var a=i.join(",");var r=e.signatures[a];if(r)return r;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+i.join(", ")+"))")}function r(e,t){var i=O(e);if(t===i)return e;for(var n=0;n<h.conversions.length;n++){var a=h.conversions[n];if(a.from===i&&a.to===t)return a.convert(e)}throw new Error("Cannot convert from "+i+" to "+t)}h.config=t;h.types=e;h.conversions=i;h.ignore=n;h.create=c;h.find=a;h.convert=r;h.addType=function(e){if(!e||typeof e.name!=="string"||typeof e.test!=="function")throw new TypeError("Object with properties {name: string, test: function} expected");h.types.push(e)};h.addConversion=function(e){if(!e||typeof e.from!=="string"||typeof e.to!=="string"||typeof e.convert!=="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");h.conversions.push(e)};return h}return c()})?n.apply(t,[]):n)||(e.exports=n)},function(e,t){function i(){}i.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var n=this;function a(){n.off(e,a),t.apply(i,arguments)}return a._=t,this.on(e,a,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,a=i.length;n<a;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],a=[];if(n&&t)for(var r=0,o=n.length;r<o;r++)n[r].fn!==t&&n[r].fn._!==t&&a.push(n[r]);return a.length?i[e]=a:delete i[e],this}},e.exports=i},function(e,t,i){"use strict";var I=i(28).lazy,g=i(28).isFactory,m=i(28).traverse,y=i(134);t.math=!0,t.name="import",t.factory=function(s,e,l,h,c){function u(e,t){t&&"function"==typeof t.transform?(c.expression.transform[e]=t.transform,i(e)&&(c.expression.mathWithTransform[e]=t.transform)):(delete c.expression.transform[e],i(e)&&(c.expression.mathWithTransform[e]=t))}function d(t,i){var n,e,a,r,o;"string"==typeof t.name?(e=(n=t.name)in c.expression.transform,a=t.path?m(c,t.path):c,r=a.hasOwnProperty(n)?a[n]:void 0,!(o=function(){var e=l(t);if(e&&"function"==typeof e.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(p(r)&&p(e))return e=!i.override?h(r,e):e;if(void 0===r||i.override)return e;if(!i.silent)throw new Error('Cannot import "'+n+'": already exists')})!==t.lazy?(I(a,n,o),e||"expression.transform"!==t.path&&!f(t)||I(c.expression.mathWithTransform,n,o)):(a[n]=o(),e||"expression.transform"!==t.path&&!f(t)||(c.expression.mathWithTransform[n]=o())),c.emit("import",n,o,t.path)):l(t)}function p(e){return"function"==typeof e&&"object"==typeof e.signatures}function i(e){return!t.hasOwnProperty(e)}function f(e){return void 0===e.path&&!t.hasOwnProperty(e.name)}var t={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function t(e,i){var n,a,r=arguments.length;if(1!==r&&2!==r)throw new y("import",r,1,2);if(i=i||{},g(e))d(e,i);else if(Array.isArray(e))e.forEach(function(e){t(e,i)});else if("object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&(n=e[o],"function"==typeof(a=n)||"number"==typeof a||"string"==typeof a||"boolean"==typeof a||null===a||a&&s.isUnit(a)||a&&s.isComplex(a)||a&&s.isBigNumber(a)||a&&s.isFraction(a)||a&&s.isMatrix(a)||a&&Array.isArray(a)?function(e,t,i){if(i.wrap&&"function"==typeof t&&(t=function(a){function e(){for(var e=[],t=0,i=arguments.length;t<i;t++){var n=arguments[t];e[t]=n&&n.valueOf()}return a.apply(c,e)}return a.transform&&(e.transform=a.transform),e}(t)),p(c[e])&&p(t))t=i.override?h(e,t.signatures):h(c[e],t),c[e]=t,u(e,t),c.emit("import",e,function(){return t});else if(void 0===c[e]||i.override)c[e]=t,u(e,t),c.emit("import",e,function(){return t});else if(!i.silent)throw new Error('Cannot import "'+e+'": already exists')}(o,n,i):g(e)?d(e,i):t(n,i));else if(!i.silent)throw new TypeError("Factory, Object, or Array expected")}},t.lazy=!0},function(e,t,i){"use strict";var l=i(28);function h(e,t,i){var n;void 0!==e[t]&&(n=e[t],-1===i.indexOf(n))&&(n=e[t],-1!==(n=i.map(function(e){return e.toLowerCase()}).indexOf(n.toLowerCase()))&&(e[t]=i[n]))}t.name="config",t.math=!0,t.factory=function(e,n,t,i,a){var r=["Matrix","Array"],o=["number","BigNumber","Fraction"];function s(e){if(e){var t=l.map(n,l.clone);h(e,"matrix",r),h(e,"number",o),l.deepExtend(n,e);var i=l.map(n,l.clone),e=l.map(e,l.clone);return a.emit("config",i,t,e),i}return l.map(n,l.clone)}return s.MATRIX=r,s.NUMBER=o,s}},function(e,t,i){e.exports=[i(516),i(549),i(551),i(763),i(904),i(906)]},function(e,t,i){e.exports=[i(517),i(521),i(522),i(526),i(530),i(533),i(233),i(541),i(542),i(543)]},function(e,t,i){e.exports=[i(518),i(520)]},function(e,t,i){var o=i(519);t.name="BigNumber",t.path="type",t.factory=function(e,t,i,n,a){var r=o.clone({precision:t.precision});return r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},a.on("config",function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})}),r},t.math=!0},function(t,Ee,ke){var qe;/*! decimal.js v9.0.1 https://github.com/MikeMcl/decimal.js/LICENCE */!function(){"use strict";var c,B,r,o=9e15,f=1e9,I="0123456789abcdef",n="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",a="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",s={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-o,maxE:o,crypto:!1},v=!0,l="[DecimalError] ",p=l+"Invalid argument: ",h=l+"Precision limit exceeded",u=l+"crypto unavailable",D=Math.floor,g=Math.pow,d=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,m=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,y=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,C=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,P=1e7,L=7,M=n.length-1,b=a.length-1,x={name:"[object Decimal]"};function O(e){var t,i,n,a=e.length-1,r="",o=e[0];if(0<a){for(r+=o,t=1;t<a;t++)n=e[t]+"",(i=L-n.length)&&(r+=V(i)),r+=n;o=e[t],(i=L-(n=o+"").length)&&(r+=V(i))}else if(0===o)return"0";for(;o%10==0;)o/=10;return r+o}function A(e,t,i){if(e!==~~e||e<t||i<e)throw Error(p+e)}function T(e,t,i,n){for(var a,r,o=e[0];10<=o;o/=10)--t;return--t<0?(t+=L,a=0):(a=Math.ceil((t+1)/L),t%=L),o=g(10,L-t),r=e[a]%o|0,null==n?t<3?(0==t?r=r/100|0:1==t&&(r=r/10|0),i<4&&99999==r||3<i&&49999==r||5e4==r||0==r):(i<4&&r+1==o||3<i&&r+1==o/2)&&(e[a+1]/o/100|0)==g(10,t-2)-1||(r==o/2||0==r)&&0==(e[a+1]/o/100|0):t<4?(0==t?r=r/1e3|0:1==t?r=r/100|0:2==t&&(r=r/10|0),(n||i<4)&&9999==r||!n&&3<i&&4999==r):((n||i<4)&&r+1==o||!n&&3<i&&r+1==o/2)&&(e[a+1]/o/1e3|0)==g(10,t-3)-1}function S(e,t,i){for(var n,a,r=[0],o=0,s=e.length;o<s;){for(a=r.length;a--;)r[a]*=t;for(r[0]+=I.indexOf(e.charAt(o++)),n=0;n<r.length;n++)r[n]>i-1&&(void 0===r[n+1]&&(r[n+1]=0),r[n+1]+=r[n]/i|0,r[n]%=i)}return r.reverse()}x.absoluteValue=x.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),E(e)},x.ceil=function(){return E(new this.constructor(this),this.e+1,2)},x.comparedTo=x.cmp=function(e){var t,i,n=this.d,a=(e=new this.constructor(e)).d,r=this.s,o=e.s;if(!n||!a)return r&&o?r!==o?r:n===a?0:!n^r<0?1:-1:NaN;if(!n[0]||!a[0])return n[0]?r:a[0]?-o:0;if(r!==o)return r;if(this.e!==e.e)return this.e>e.e^r<0?1:-1;for(t=0,i=(o=n.length)<(e=a.length)?o:e;t<i;++t)if(n[t]!==a[t])return n[t]>a[t]^r<0?1:-1;return o===e?0:e<o^r<0?1:-1},x.cosine=x.cos=function(){var e,t,i=this,n=i.constructor;return i.d?i.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(i.e,i.sd())+L,n.rounding=1,i=function(e,t){var i,n=t.d.length;n=n<32?(i=Math.ceil(n/3),Math.pow(4,-i).toString()):(i=16,"2.3283064365386962890625e-10");e.precision+=i,t=U(e,1,t.times(n),new e(1));for(var a=i;a--;){var r=t.times(t);t=r.times(r).minus(r).times(8).plus(1)}return e.precision-=i,t}(n,K(n,i)),n.precision=e,n.rounding=t,E(2==r||3==r?i.neg():i,e,t,!0)):new n(1):new n(NaN)},x.cubeRoot=x.cbrt=function(){var e,t,i,n,a,r,o,s,l,h,c=this,u=c.constructor;if(!c.isFinite()||c.isZero())return new u(c);for(v=!1,(r=c.s*Math.pow(c.s*c,1/3))&&Math.abs(r)!=1/0?n=new u(r.toString()):(i=O(c.d),(r=((e=c.e)-i.length+1)%3)&&(i+=1==r||-2==r?"0":"00"),r=Math.pow(i,1/3),e=D((e+1)/3)-(e%3==(e<0?-1:2)),(n=new u(i=r==1/0?"5e"+e:(i=r.toExponential()).slice(0,i.indexOf("e")+1)+e)).s=c.s),o=(e=u.precision)+3;;)if(h=(l=(s=n).times(s).times(s)).plus(c),n=w(h.plus(c).times(s),h.plus(l),o+2,1),O(s.d).slice(0,o)===(i=O(n.d)).slice(0,o)){if("9999"!=(i=i.slice(o-3,o+1))&&(a||"4999"!=i)){+i&&(+i.slice(1)||"5"!=i.charAt(0))||(E(n,e+1,1),t=!n.times(n).times(n).eq(c));break}if(!a&&(E(s,e+1,0),s.times(s).times(s).eq(c))){n=s;break}o+=4,a=1}return v=!0,E(n,e,u.rounding,t)},x.decimalPlaces=x.dp=function(){var e,t=this.d,i=NaN;if(t){if(i=((e=t.length-1)-D(this.e/L))*L,e=t[e])for(;e%10==0;e/=10)i--;i<0&&(i=0)}return i},x.dividedBy=x.div=function(e){return w(this,new this.constructor(e))},x.dividedToIntegerBy=x.divToInt=function(e){var t=this.constructor;return E(w(this,new t(e),0,1,1),t.precision,t.rounding)},x.equals=x.eq=function(e){return 0===this.cmp(e)},x.floor=function(){return E(new this.constructor(this),this.e+1,3)},x.greaterThan=x.gt=function(e){return 0<this.cmp(e)},x.greaterThanOrEqualTo=x.gte=function(e){e=this.cmp(e);return 1==e||0===e},x.hyperbolicCosine=x.cosh=function(){var e,t,i,n=(s=this).constructor,a=new n(1);if(!s.isFinite())return new n(s.s?1/0:NaN);if(s.isZero())return a;t=n.precision,i=n.rounding,n.precision=t+Math.max(s.e,s.sd())+4,n.rounding=1;for(var r,o=(o=s.d.length)<32?(e=Math.ceil(o/3),Math.pow(4,-e).toString()):(e=16,"2.3283064365386962890625e-10"),s=U(n,1,s.times(o),new n(1),!0),l=e,h=new n(8);l--;)r=s.times(s),s=a.minus(r.times(h.minus(r.times(h))));return E(s,n.precision=t,n.rounding=i,!0)},x.hyperbolicSine=x.sinh=function(){var e,t,i,n=(o=this).constructor;if(!o.isFinite()||o.isZero())return new n(o);if(e=n.precision,t=n.rounding,n.precision=e+Math.max(o.e,o.sd())+4,n.rounding=1,(i=o.d.length)<3)o=U(n,2,o,o,!0);else for(var a,r=16<(r=1.4*Math.sqrt(i))?16:0|r,o=U(n,2,o=o.times(Math.pow(5,-r)),o,!0),s=new n(5),l=new n(16),h=new n(20);r--;)a=o.times(o),o=o.times(s.plus(a.times(l.times(a).plus(h))));return E(o,n.precision=e,n.rounding=t,!0)},x.hyperbolicTangent=x.tanh=function(){var e,t,i=this.constructor;return this.isFinite()?this.isZero()?new i(this):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,w(this.sinh(),this.cosh(),i.precision=e,i.rounding=t)):new i(this.s)},x.inverseCosine=x.acos=function(){var e=this,t=e.constructor,i=e.abs().cmp(1),n=t.precision,a=t.rounding;return-1!==i?0===i?e.isNeg()?F(t,n,a):new t(0):new t(NaN):e.isZero()?F(t,n+4,a).times(.5):(t.precision=n+6,t.rounding=1,e=e.asin(),i=F(t,n+4,a).times(.5),t.precision=n,t.rounding=a,i.minus(e))},x.inverseHyperbolicCosine=x.acosh=function(){var e,t,i=this,n=i.constructor;return i.lte(1)?new n(i.eq(1)?0:NaN):i.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(i.e),i.sd())+4,n.rounding=1,v=!1,i=i.times(i).minus(1).sqrt().plus(i),v=!0,n.precision=e,n.rounding=t,i.ln()):new n(i)},x.inverseHyperbolicSine=x.asinh=function(){var e,t,i=this,n=i.constructor;return!i.isFinite()||i.isZero()?new n(i):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(i.e),i.sd())+6,n.rounding=1,v=!1,i=i.times(i).plus(1).sqrt().plus(i),v=!0,n.precision=e,n.rounding=t,i.ln())},x.inverseHyperbolicTangent=x.atanh=function(){var e,t,i,n=this,a=n.constructor;return n.isFinite()?0<=n.e?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=a.precision,t=a.rounding,i=n.sd(),Math.max(i,e)<2*-n.e-1?E(new a(n),e,t,!0):(a.precision=i=i-n.e,n=w(n.plus(1),new a(1).minus(n),i+e,1),a.precision=e+4,a.rounding=1,n=n.ln(),a.precision=e,a.rounding=t,n.times(.5))):new a(NaN)},x.inverseSine=x.asin=function(){var e,t,i,n=this,a=n.constructor;return n.isZero()?new a(n):(e=n.abs().cmp(1),t=a.precision,i=a.rounding,-1!==e?0===e?((e=F(a,t+4,i).times(.5)).s=n.s,e):new a(NaN):(a.precision=t+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=i,n.times(2)))},x.inverseTangent=x.atan=function(){var e,t,i,n,a,r,o,s,l,h=this,c=h.constructor,u=c.precision,d=c.rounding;if(h.isFinite()){if(h.isZero())return new c(h);if(h.abs().eq(1)&&u+4<=b)return(o=F(c,u+4,d).times(.25)).s=h.s,o}else{if(!h.s)return new c(NaN);if(u+4<=b)return(o=F(c,u+4,d).times(.5)).s=h.s,o}for(c.precision=s=u+10,c.rounding=1,e=i=Math.min(28,s/L+2|0);e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(v=!1,t=Math.ceil(s/L),n=1,l=h.times(h),o=new c(h),a=h;-1!==e;)if(a=a.times(l),r=o.minus(a.div(n+=2)),a=a.times(l),void 0!==(o=r.plus(a.div(n+=2))).d[t])for(e=t;o.d[e]===r.d[e]&&e--;);return i&&(o=o.times(2<<i-1)),v=!0,E(o,c.precision=u,c.rounding=d,!0)},x.isFinite=function(){return!!this.d},x.isInteger=x.isInt=function(){return!!this.d&&D(this.e/L)>this.d.length-2},x.isNaN=function(){return!this.s},x.isNegative=x.isNeg=function(){return this.s<0},x.isPositive=x.isPos=function(){return 0<this.s},x.isZero=function(){return!!this.d&&0===this.d[0]},x.lessThan=x.lt=function(e){return this.cmp(e)<0},x.lessThanOrEqualTo=x.lte=function(e){return this.cmp(e)<1},x.logarithm=x.log=function(e){var t,i,n,a,r,o,s,l,h=this.constructor,c=h.precision,u=h.rounding;if(null==e)e=new h(10),t=!0;else{if(i=(e=new h(e)).d,e.s<0||!i||!i[0]||e.eq(1))return new h(NaN);t=e.eq(10)}if(i=this.d,this.s<0||!i||!i[0]||this.eq(1))return new h(i&&!i[0]?-1/0:1!=this.s?NaN:i?0:1/0);if(t)if(1<i.length)r=!0;else{for(a=i[0];a%10==0;)a/=10;r=1!==a}if(v=!1,o=X(this,s=c+5),n=t?R(h,s+10):X(e,s),T((l=w(o,n,s,1)).d,a=c,u))do{if(o=X(this,s+=10),n=t?R(h,s+10):X(e,s),l=w(o,n,s,1),!r){+O(l.d).slice(a+1,a+15)+1==1e14&&(l=E(l,c+1,0));break}}while(T(l.d,a+=10,u));return v=!0,E(l,c,u)},x.minus=x.sub=function(e){var t,i,n,a,r,o,s,l,h,c,u,d=this,p=d.constructor;if(e=new p(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new p(e.d||d.s!==e.s?d:NaN):e=new p(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(h=d.d,u=e.d,s=p.precision,l=p.rounding,!h[0]||!u[0]){if(u[0])e.s=-e.s;else{if(!h[0])return new p(3===l?-0:0);e=new p(d)}return v?E(e,s,l):e}if(i=D(e.e/L),d=D(d.e/L),h=h.slice(),r=d-i){for(o=(c=r<0)?(t=h,r=-r,u.length):(t=u,i=d,h.length),(n=Math.max(Math.ceil(s/L),o)+2)<r&&(r=n,t.length=1),t.reverse(),n=r;n--;)t.push(0);t.reverse()}else{for((c=(n=h.length)<(o=u.length))&&(o=n),n=0;n<o;n++)if(h[n]!=u[n]){c=h[n]<u[n];break}r=0}for(c&&(t=h,h=u,u=t,e.s=-e.s),o=h.length,n=u.length-o;0<n;--n)h[o++]=0;for(n=u.length;r<n;){if(h[--n]<u[n]){for(a=n;a&&0===h[--a];)h[a]=P-1;--h[a],h[n]+=P}h[n]-=u[n]}for(;0===h[--o];)h.pop();for(;0===h[0];h.shift())--i;return h[0]?(e.d=h,e.e=q(h,i),v?E(e,s,l):e):new p(3===l?-0:0)},x.modulo=x.mod=function(e){var t,i=this.constructor;return e=new i(e),!this.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||this.d&&!this.d[0]?E(new i(this),i.precision,i.rounding):(v=!1,9==i.modulo?(t=w(this,e.abs(),0,3,1)).s*=e.s:t=w(this,e,0,i.modulo,1),t=t.times(e),v=!0,this.minus(t))},x.naturalExponential=x.exp=function(){return z(this)},x.naturalLogarithm=x.ln=function(){return X(this)},x.negated=x.neg=function(){var e=new this.constructor(this);return e.s=-e.s,E(e)},x.plus=x.add=function(e){var t,i,n,a,r,o,s,l,h=this,c=h.constructor;if(e=new c(e),!h.d||!e.d)return h.s&&e.s?h.d||(e=new c(e.d||h.s===e.s?h:NaN)):e=new c(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(s=h.d,l=e.d,r=c.precision,o=c.rounding,!s[0]||!l[0])return l[0]||(e=new c(h)),v?E(e,r,o):e;if(c=D(h.e/L),h=D(e.e/L),s=s.slice(),n=c-h){for((a=(a=n<0?(i=s,n=-n,l.length):(i=l,h=c,s.length))<(c=Math.ceil(r/L))?c+1:a+1)<n&&(n=a,i.length=1),i.reverse();n--;)i.push(0);i.reverse()}for((a=s.length)-(n=l.length)<0&&(n=a,i=l,l=s,s=i),t=0;n;)t=(s[--n]=s[n]+l[n]+t)/P|0,s[n]%=P;for(t&&(s.unshift(t),++h),a=s.length;0==s[--a];)s.pop();return e.d=s,e.e=q(s,h),v?E(e,r,o):e},x.precision=x.sd=function(e){var t;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(p+e);return this.d?(t=j(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},x.round=function(){var e=this.constructor;return E(new e(this),this.e+1,e.rounding)},x.sine=x.sin=function(){var e,t,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(e=n.precision,t=n.rounding,n.precision=e+Math.max(i.e,i.sd())+L,n.rounding=1,i=function(e,t){var i,n=t.d.length;if(n<3)return U(e,2,t,t);i=16<(i=1.4*Math.sqrt(n))?16:0|i,t=t.times(Math.pow(5,-i)),t=U(e,2,t,t);for(var a,r=new e(5),o=new e(16),s=new e(20);i--;)a=t.times(t),t=t.times(r.plus(a.times(o.times(a).minus(s))));return t}(n,K(n,i)),n.precision=e,n.rounding=t,E(2<r?i.neg():i,e,t,!0)):new n(NaN)},x.squareRoot=x.sqrt=function(){var e,t,i,n,a,r,o=this.d,s=this.e,l=this.s,h=this.constructor;if(1!==l||!o||!o[0])return new h(!l||l<0&&(!o||o[0])?NaN:o?this:1/0);for(v=!1,n=0==(l=Math.sqrt(+this))||l==1/0?(((t=O(o)).length+s)%2==0&&(t+="0"),l=Math.sqrt(t),s=D((s+1)/2)-(s<0||s%2),new h(t=l==1/0?"1e"+s:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+s)):new h(l.toString()),i=(s=h.precision)+3;;)if(n=(r=n).plus(w(this,r,i+2,1)).times(.5),O(r.d).slice(0,i)===(t=O(n.d)).slice(0,i)){if("9999"!=(t=t.slice(i-3,i+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(E(n,s+1,1),e=!n.times(n).eq(this));break}if(!a&&(E(r,s+1,0),r.times(r).eq(this))){n=r;break}i+=4,a=1}return v=!0,E(n,s,h.rounding,e)},x.tangent=x.tan=function(){var e,t,i=this,n=i.constructor;return i.isFinite()?i.isZero()?new n(i):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(i=i.sin()).s=1,i=w(i,new n(1).minus(i.times(i)).sqrt(),e+10,0),n.precision=e,n.rounding=t,E(2==r||4==r?i.neg():i,e,t,!0)):new n(NaN)},x.times=x.mul=function(e){var t,i,n,a,r,o,s,l,h,c=this.constructor,u=this.d,d=(e=new c(e)).d;if(e.s*=this.s,!(u&&u[0]&&d&&d[0]))return new c(!e.s||u&&!u[0]&&!d||d&&!d[0]&&!u?NaN:u&&d?0*e.s:e.s/0);for(i=D(this.e/L)+D(e.e/L),(l=u.length)<(h=d.length)&&(r=u,u=d,d=r,o=l,l=h,h=o),r=[],n=o=l+h;n--;)r.push(0);for(n=h;0<=--n;){for(t=0,a=l+n;n<a;)s=r[a]+d[n]*u[a-n-1]+t,r[a--]=s%P|0,t=s/P|0;r[a]=(r[a]+t)%P|0}for(;!r[--o];)r.pop();return t?++i:r.shift(),e.d=r,e.e=q(r,i),v?E(e,c.precision,c.rounding):e},x.toBinary=function(e,t){return i(this,2,e,t)},x.toDecimalPlaces=x.toDP=function(e,t){var i=this.constructor,n=new i(this);return void 0===e?n:(A(e,0,f),void 0===t?t=i.rounding:A(t,0,8),E(n,e+n.e+1,t))},x.toExponential=function(e,t){var i=this,n=i.constructor,e=void 0===e?k(i,!0):(A(e,0,f),void 0===t?t=n.rounding:A(t,0,8),k(i=E(new n(i),e+1,t),!0,e+1));return i.isNeg()&&!i.isZero()?"-"+e:e},x.toFixed=function(e,t){var i=this.constructor,n=void 0===e?k(this):(A(e,0,f),void 0===t?t=i.rounding:A(t,0,8),k(n=E(new i(this),e+this.e+1,t),!1,e+n.e+1));return this.isNeg()&&!this.isZero()?"-"+n:n},x.toFraction=function(e){var t,i,n,a,r,o,s,l,h,c,u=this.d,d=this.constructor;if(!u)return new d(this);if(s=i=new d(1),n=o=new d(0),c=(t=new d(n)).e=j(u)-this.e-1,t.d[0]=g(10,(l=c%L)<0?L+l:l),null==e)e=0<c?t:s;else{if(!(r=new d(e)).isInt()||r.lt(s))throw Error(p+r);e=r.gt(t)?0<c?t:s:r}for(v=!1,r=new d(O(u)),l=d.precision,d.precision=c=u.length*L*2;h=w(r,t,0,1,1),1!=(a=i.plus(h.times(n))).cmp(e);)i=n,n=a,a=s,s=o.plus(h.times(a)),o=a,a=t,t=r.minus(h.times(a)),r=a;return a=w(e.minus(i),n,0,1,1),o=o.plus(a.times(s)),i=i.plus(a.times(n)),o.s=s.s=this.s,c=w(s,n,c,1).minus(this).abs().cmp(w(o,i,c,1).minus(this).abs())<1?[s,n]:[o,i],d.precision=l,v=!0,c},x.toHexadecimal=x.toHex=function(e,t){return i(this,16,e,t)},x.toNearest=function(e,t){var i=(n=this).constructor,n=new i(n);if(null==e){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0!==t&&A(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(v=!1,n=w(n,e,0,t=t<4?[4,5,7,8][t]:t,1).times(e),v=!0,E(n)):(e.s=n.s,n=e),n},x.toNumber=function(){return+this},x.toOctal=function(e,t){return i(this,8,e,t)},x.toPower=x.pow=function(e){var t,i,n,a,r,o,s=this,l=s.constructor,h=+(e=new l(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new l(g(+s,h));if((s=new l(s)).eq(1))return s;if(n=l.precision,r=l.rounding,e.eq(1))return E(s,n,r);if((t=D(e.e/L))>=e.d.length-1&&(i=h<0?-h:h)<=9007199254740991)return a=H(l,s,i,n),e.s<0?new l(1).div(a):E(a,n,r);if((o=s.s)<0){if(t<e.d.length-1)return new l(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(i=g(+s,h))&&isFinite(i)?new l(i+"").e:D(h*(Math.log("0."+O(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(0<t?o/0:0):(v=!1,l.rounding=s.s=1,i=Math.min(12,(t+"").length),(a=(a=z(e.times(X(s,n+i)),n)).d&&T((a=E(a,n+5,1)).d,n,r)&&+O((a=E(z(e.times(X(s,(t=n+10)+i)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14?E(a,n+1,0):a).s=o,v=!0,E(a,n,l.rounding=r))},x.toPrecision=function(e,t){var i=this,n=i.constructor,e=void 0===e?k(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(A(e,1,f),void 0===t?t=n.rounding:A(t,0,8),k(i=E(new n(i),e,t),e<=i.e||i.e<=n.toExpNeg,e));return i.isNeg()&&!i.isZero()?"-"+e:e},x.toSignificantDigits=x.toSD=function(e,t){var i=this.constructor;return void 0===e?(e=i.precision,t=i.rounding):(A(e,1,f),void 0===t?t=i.rounding:A(t,0,8)),E(new i(this),e,t)},x.toString=function(){var e=this.constructor,e=k(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+e:e},x.truncated=x.trunc=function(){return E(new this.constructor(this),this.e+1,1)},x.valueOf=x.toJSON=function(){var e=this.constructor,e=k(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+e:e};var w=function(e,t,i,n,a,r){var o,s,l,h,c,u,d,p,f,I,g,m,y,v,C,M,b,x,O,A=e.constructor,T=e.s==t.s?1:-1,S=e.d,w=t.d;if(!(S&&S[0]&&w&&w[0]))return new A(e.s&&t.s&&(S?!w||S[0]!=w[0]:w)?S&&0==S[0]||!w?0*T:T/0:NaN);for(s=r?(c=1,e.e-t.e):(r=P,D(e.e/(c=L))-D(t.e/c)),x=w.length,M=S.length,f=(T=new A(T)).d=[],l=0;w[l]==(S[l]||0);l++);if(w[l]>(S[l]||0)&&s--,null==i?(y=i=A.precision,n=A.rounding):y=a?i+(e.e-t.e)+1:i,y<0)f.push(1),u=!0;else{if(y=y/c+2|0,l=0,1==x){for(w=w[h=0],y++;(l<M||h)&&y--;l++)v=h*r+(S[l]||0),f[l]=v/w|0,h=v%w|0;u=h||l<M}else{for(1<(h=r/(w[0]+1)|0)&&(w=N(w,h,r),S=N(S,h,r),x=w.length,M=S.length),C=x,g=(I=S.slice(0,x)).length;g<x;)I[g++]=0;for((O=w.slice()).unshift(0),b=w[0],w[1]>=r/2&&++b;h=0,(o=J(w,I,x,g))<0?(m=I[0],1<(h=(m=x!=g?m*r+(I[1]||0):m)/b|0)?1==(o=J(d=N(w,h=r<=h?r-1:h,r),I,p=d.length,g=I.length))&&(h--,_(d,x<p?O:w,p,r)):(0==h&&(o=h=1),d=w.slice()),(p=d.length)<g&&d.unshift(0),_(I,d,g,r),-1==o&&(o=J(w,I,x,g=I.length))<1&&(h++,_(I,x<g?O:w,g,r)),g=I.length):0===o&&(h++,I=[0]),f[l++]=h,o&&I[0]?I[g++]=S[C]||0:(I=[S[C]],g=1),(C++<M||void 0!==I[0])&&y--;);u=void 0!==I[0]}f[0]||f.shift()}if(1==c)T.e=s,B=u;else{for(l=1,h=f[0];10<=h;h/=10)l++;T.e=l+s*c-1,E(T,a?i+T.e+1:i,n,u)}return T};function N(e,t,i){var n,a=0,r=e.length;for(e=e.slice();r--;)n=e[r]*t+a,e[r]=n%i|0,a=n/i|0;return a&&e.unshift(a),e}function J(e,t,i,n){var a,r;if(i!=n)r=n<i?1:-1;else for(a=r=0;a<i;a++)if(e[a]!=t[a]){r=e[a]>t[a]?1:-1;break}return r}function _(e,t,i,n){for(var a=0;i--;)e[i]-=a,a=e[i]<t[i]?1:0,e[i]=a*n+e[i]-t[i];for(;!e[0]&&1<e.length;)e.shift()}function E(e,t,i,n){var a,r,o,s,l,h,c,u,d=e.constructor;e:if(null!=t){if(!(c=e.d))return e;for(a=1,s=c[0];10<=s;s/=10)a++;if((r=t-a)<0)r+=L,o=t,l=(h=c[u=0])/g(10,a-o-1)%10|0;else if(u=Math.ceil((r+1)/L),(s=c.length)<=u){if(!n)break e;for(;s++<=u;)c.push(0);h=l=0,o=(r%=L)-L+(a=1)}else{for(h=s=c[u],a=1;10<=s;s/=10)a++;l=(o=(r%=L)-L+a)<0?0:h/g(10,a-o-1)%10|0}if(n=n||t<0||void 0!==c[u+1]||(o<0?h:h%g(10,a-o-1)),l=i<4?(l||n)&&(0==i||i==(e.s<0?3:2)):5<l||5==l&&(4==i||n||6==i&&(0<r?0<o?h/g(10,a-o):0:c[u-1])%10&1||i==(e.s<0?8:7)),t<1||!c[0])return c.length=0,l?(t-=e.e+1,c[0]=g(10,(L-t%L)%L),e.e=-t||0):c[0]=e.e=0,e;if(0==r?(c.length=u,s=1,u--):(c.length=u+1,s=g(10,L-r),c[u]=0<o?(h/g(10,a-o)%g(10,o)|0)*s:0),l)for(;;){if(0==u){for(r=1,o=c[0];10<=o;o/=10)r++;for(o=c[0]+=s,s=1;10<=o;o/=10)s++;r!=s&&(e.e++,c[0]==P&&(c[0]=1));break}if(c[u]+=s,c[u]!=P)break;c[u--]=0,s=1}for(r=c.length;0===c[--r];)c.pop()}return v&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function k(e,t,i){if(!e.isFinite())return W(e);var n,a=e.e,r=O(e.d),o=r.length;return t?(i&&0<(n=i-o)?r=r.charAt(0)+"."+r.slice(1)+V(n):1<o&&(r=r.charAt(0)+"."+r.slice(1)),r=r+(e.e<0?"e":"e+")+e.e):a<0?(r="0."+V(-a-1)+r,i&&0<(n=i-o)&&(r+=V(n))):o<=a?(r+=V(a+1-o),i&&0<(n=i-a-1)&&(r=r+"."+V(n))):((n=a+1)<o&&(r=r.slice(0,n)+"."+r.slice(n)),i&&0<(n=i-o)&&(a+1===o&&(r+="."),r+=V(n))),r}function q(e,t){var i=e[0];for(t*=L;10<=i;i/=10)t++;return t}function R(e,t,i){if(M<t)throw v=!0,i&&(e.precision=i),Error(h);return E(new e(n),t,1,!0)}function F(e,t,i){if(b<t)throw Error(h);return E(new e(a),t,i,!0)}function j(e){var t=e.length-1,i=t*L+1;if(t=e[t]){for(;t%10==0;t/=10)i--;for(t=e[0];10<=t;t/=10)i++}return i}function V(e){for(var t="";e--;)t+="0";return t}function H(e,t,i,n){var a,r=new e(1),o=Math.ceil(n/L+4);for(v=!1;;){if(i%2&&Y((r=r.times(t)).d,o)&&(a=!0),0===(i=D(i/2))){i=r.d.length-1,a&&0===r.d[i]&&++r.d[i];break}Y((t=t.times(t)).d,o)}return v=!0,r}function G(e){return 1&e.d[e.d.length-1]}function e(e,t,i){for(var n,a=new e(t[0]),r=0;++r<t.length;){if(!(n=new e(t[r])).s){a=n;break}a[i](n)&&(a=n)}return a}function z(e,t){var i,n,a,r,o,s,l,h=0,c=0,u=0,d=e.constructor,p=d.rounding,f=d.precision;if(!e.d||!e.d[0]||17<e.e)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(l=null==t?(v=!1,f):t,s=new d(.03125);-2<e.e;)e=e.times(s),u+=5;for(l+=n=Math.log(g(2,u))/Math.LN10*2+5|0,i=r=o=new d(1),d.precision=l;;){if(r=E(r.times(e),l,1),i=i.times(++c),O((s=o.plus(w(r,i,l,1))).d).slice(0,l)===O(o.d).slice(0,l)){for(a=u;a--;)o=E(o.times(o),l,1);if(null!=t)return d.precision=f,o;if(!(h<3&&T(o.d,l-n,p,h)))return E(o,d.precision=f,p,v=!0);d.precision=l+=10,i=r=s=new d(1),c=0,h++}o=s}}function X(e,t){var i,n,a,r,o,s,l,h,c,u,d,p=1,f=e,I=f.d,g=f.constructor,m=g.rounding,y=g.precision;if(f.s<0||!I||!I[0]||!f.e&&1==I[0]&&1==I.length)return new g(I&&!I[0]?-1/0:1!=f.s?NaN:I?0:f);if(c=null==t?(v=!1,y):t,g.precision=c+=10,n=(i=O(I)).charAt(0),!(Math.abs(r=f.e)<15e14))return h=R(g,c+2,y).times(r+""),f=X(new g(n+"."+i.slice(1)),c-10).plus(h),g.precision=y,null==t?E(f,y,m,v=!0):f;for(;n<7&&1!=n||1==n&&3<i.charAt(1);)n=(i=O((f=f.times(e)).d)).charAt(0),p++;for(r=f.e,1<n?(f=new g("0."+i),r++):f=new g(n+"."+i.slice(1)),l=o=f=w((u=f).minus(1),f.plus(1),c,1),d=E(f.times(f),c,1),a=3;;){if(o=E(o.times(d),c,1),O((h=l.plus(w(o,new g(a),c,1))).d).slice(0,c)===O(l.d).slice(0,c)){if(l=l.times(2),0!==r&&(l=l.plus(R(g,c+2,y).times(r+""))),l=w(l,new g(p),c,1),null!=t)return g.precision=y,l;if(!T(l.d,c-10,m,s))return E(l,g.precision=y,m,v=!0);g.precision=c+=10,h=o=f=w(u.minus(1),u.plus(1),c,1),d=E(f.times(f),c,1),a=s=1}l=h,a+=2}}function W(e){return String(e.s*e.s/0)}function Z(e,t){var i,n,a;for(0<(n=(t=-1<(i=t.indexOf("."))?t.replace(".",""):t).search(/e/i))?(i<0&&(i=n),i+=+t.slice(n+1),t=t.substring(0,n)):i<0&&(i=t.length),n=0;48===t.charCodeAt(n);n++);for(a=t.length;48===t.charCodeAt(a-1);--a);if(t=t.slice(n,a)){if(a-=n,e.e=i=i-n-1,e.d=[],n=(i+1)%L,i<0&&(n+=L),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=L;n<a;)e.d.push(+t.slice(n,n+=L));t=t.slice(n),n=L-t.length}else n-=a;for(;n--;)t+="0";e.d.push(+t),v&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function U(e,t,i,n,a){var r,o,s,l,h=e.precision,c=Math.ceil(h/L);for(v=!1,l=i.times(i),s=new e(n);;){if(o=w(s.times(l),new e(t++*t++),h,1),s=a?n.plus(o):n.minus(o),n=w(o.times(l),new e(t++*t++),h,1),void 0!==(o=s.plus(n)).d[c]){for(r=c;o.d[r]===s.d[r]&&r--;);if(-1==r)break}r=s,s=n,n=o,o=r,0}return v=!0,o.d.length=c+1,o}function K(e,t){var i=t.s<0,n=F(e,e.precision,1),a=n.times(.5);if((t=t.abs()).lte(a))return r=i?4:1,t;if((e=t.divToInt(n)).isZero())r=i?3:2;else{if((t=t.minus(e.times(n))).lte(a))return r=G(e)?i?2:3:i?4:1,t;r=G(e)?i?1:4:i?3:2}return t.minus(n).abs()}function i(e,t,i,n){var a,r,o,s,l,h,c,u,d=e.constructor,p=void 0!==i;if(p?(A(i,1,f),void 0===n?n=d.rounding:A(n,0,8)):(i=d.precision,n=d.rounding),e.isFinite()){for(p?(a=2,16==t?i=4*i-3:8==t&&(i=3*i-2)):a=t,0<=(o=(h=k(e)).indexOf("."))&&(h=h.replace(".",""),(u=new d(1)).e=h.length-o,u.d=S(k(u),10,a),u.e=u.d.length),r=s=(c=S(h,10,a)).length;0==c[--s];)c.pop();if(c[0]){if(o<0?r--:((e=new d(e)).d=c,e.e=r,c=(e=w(e,u,i,n,0,a)).d,r=e.e,l=B),o=c[i],u=a/2,l=l||void 0!==c[i+1],l=n<4?(void 0!==o||l)&&(0===n||n===(e.s<0?3:2)):u<o||o===u&&(4===n||l||6===n&&1&c[i-1]||n===(e.s<0?8:7)),c.length=i,l)for(;++c[--i]>a-1;)c[i]=0,i||(++r,c.unshift(1));for(s=c.length;!c[s-1];--s);for(o=0,h="";o<s;o++)h+=I.charAt(c[o]);if(p){if(1<s)if(16==t||8==t){for(o=16==t?4:3,--s;s%o;s++)h+="0";for(s=(c=S(h,a,t)).length;!c[s-1];--s);for(o=1,h="1.";o<s;o++)h+=I.charAt(c[o])}else h=h.charAt(0)+"."+h.slice(1);h=h+(r<0?"p":"p+")+r}else if(r<0){for(;++r;)h="0"+h;h="0."+h}else if(++r>s)for(r-=s;r--;)h+="0";else r<s&&(h=h.slice(0,r)+"."+h.slice(r))}else h=p?"0p+0":"0";h=(16==t?"0x":2==t?"0b":8==t?"0o":"")+h}else h=W(e);return e.s<0?"-"+h:h}function Y(e,t){return e.length>t&&(e.length=t,1)}function Q(e){return new this(e).abs()}function $(e){return new this(e).acos()}function ee(e){return new this(e).acosh()}function te(e,t){return new this(e).plus(t)}function ie(e){return new this(e).asin()}function ne(e){return new this(e).asinh()}function ae(e){return new this(e).atan()}function re(e){return new this(e).atanh()}function oe(e,t){e=new this(e),t=new this(t);var i,n=this.precision,a=this.rounding,r=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(i=t.s<0?F(this,n,a):new this(0)).s=e.s:!e.d||t.isZero()?(i=F(this,r,1).times(.5)).s=e.s:i=t.s<0?(this.precision=r,this.rounding=1,i=this.atan(w(e,t,r,1)),t=F(this,r,1),this.precision=n,this.rounding=a,e.s<0?i.minus(t):i.plus(t)):this.atan(w(e,t,r,1)):(i=F(this,r,1).times(0<t.s?.25:.75)).s=e.s:i=new this(NaN),i}function se(e){return new this(e).cbrt()}function le(e){return E(e=new this(e),e.e+1,2)}function he(e){if(!e||"object"!=typeof e)throw Error(l+"Object expected");for(var t,i,n=!0===e.defaults,a=["precision",1,f,"rounding",0,8,"toExpNeg",-o,0,"toExpPos",0,o,"maxE",0,o,"minE",-o,0,"modulo",0,9],r=0;r<a.length;r+=3)if(t=a[r],n&&(this[t]=s[t]),void 0!==(i=e[t])){if(!(D(i)===i&&a[r+1]<=i&&i<=a[r+2]))throw Error(p+t+": "+i);this[t]=i}if(t="crypto",n&&(this[t]=s[t]),void 0!==(i=e[t])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(p+t+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(u);this[t]=!0}else this[t]=!1}return this}function ce(e){return new this(e).cos()}function ue(e){return new this(e).cosh()}function de(e,t){return new this(e).div(t)}function pe(e){return new this(e).exp()}function fe(e){return E(e=new this(e),e.e+1,3)}function Ie(){var e,t,i=new this(0);for(v=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)i.d&&(i=i.plus(t.times(t)));else{if(t.s)return v=!0,new this(1/0);i=t}return v=!0,i.sqrt()}function ge(e){return e instanceof c||e&&"[object Decimal]"===e.name||!1}function me(e){return new this(e).ln()}function ye(e,t){return new this(e).log(t)}function ve(e){return new this(e).log(2)}function Ce(e){return new this(e).log(10)}function Me(){return e(this,arguments,"lt")}function be(){return e(this,arguments,"gt")}function xe(e,t){return new this(e).mod(t)}function Oe(e,t){return new this(e).mul(t)}function Ae(e,t){return new this(e).pow(t)}function Te(e){var t,i,n,a,r=0,o=new this(1),s=[];if(void 0===e?e=this.precision:A(e,1,f),n=Math.ceil(e/L),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));r<n;)429e7<=(a=t[r])?t[r]=crypto.getRandomValues(new Uint32Array(1))[0]:s[r++]=a%1e7;else{if(!crypto.randomBytes)throw Error(u);for(t=crypto.randomBytes(n*=4);r<n;)214e7<=(a=t[r]+(t[r+1]<<8)+(t[r+2]<<16)+((127&t[r+3])<<24))?crypto.randomBytes(4).copy(t,r):(s.push(a%1e7),r+=4);r=n/4}else for(;r<n;)s[r++]=1e7*Math.random()|0;for(n=s[--r],e%=L,n&&e&&(a=g(10,L-e),s[r]=(n/a|0)*a);0===s[r];r--)s.pop();if(r<0)s=[i=0];else{for(i=-1;0===s[0];i-=L)s.shift();for(n=1,a=s[0];10<=a;a/=10)n++;n<L&&(i-=L-n)}return o.e=i,o.d=s,o}function Se(e){return E(e=new this(e),e.e+1,this.rounding)}function we(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Be(e){return new this(e).sin()}function De(e){return new this(e).sinh()}function Pe(e){return new this(e).sqrt()}function Le(e,t){return new this(e).sub(t)}function Ne(e){return new this(e).tan()}function Je(e){return new this(e).tanh()}function _e(e){return E(e=new this(e),e.e+1,1)}(c=function e(t){var i,n,a;function r(e){var t,i,n,a=this;if(!(a instanceof r))return new r(e);if(e instanceof(a.constructor=r))return a.s=e.s,a.e=e.e,void(a.d=(e=e.d)?e.slice():e);if("number"==(n=typeof e)){if(0===e)return a.s=1/e<0?-1:1,a.e=0,void(a.d=[0]);if(e<0?(e=-e,a.s=-1):a.s=1,e===~~e&&e<1e7){for(t=0,i=e;10<=i;i/=10)t++;return a.e=t,void(a.d=[e])}return 0*e!=0?(e||(a.s=NaN),a.e=NaN,void(a.d=null)):Z(a,e.toString())}if("string"!=n)throw Error(p+e);return 45===e.charCodeAt(0)?(e=e.slice(1),a.s=-1):a.s=1,(C.test(e)?Z:function(e,t){var i,n,a,r,o,s,l,h;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(m.test(t))h=16,t=t.toLowerCase();else if(d.test(t))h=2;else{if(!y.test(t))throw Error(p+t);h=8}for(a=(t=0<(a=t.search(/p/i))?(s=+t.slice(a+1),t.substring(2,a)):t.slice(2)).indexOf("."),i=e.constructor,(r=0<=a)&&(a=(o=(t=t.replace(".","")).length)-a,n=H(i,new i(h),a,2*a)),a=h=(l=S(t,h,P)).length-1;0===l[a];--a)l.pop();return a<0?new i(0*e.s):(e.e=q(l,h),e.d=l,v=!1,r&&(e=w(e,n,4*o)),s&&(e=e.times((Math.abs(s)<54?Math:c).pow(2,s))),v=!0,e)})(a,e)}if(r.prototype=x,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=he,r.clone=e,r.isDecimal=ge,r.abs=Q,r.acos=$,r.acosh=ee,r.add=te,r.asin=ie,r.asinh=ne,r.atan=ae,r.atanh=re,r.atan2=oe,r.cbrt=se,r.ceil=le,r.cos=ce,r.cosh=ue,r.div=de,r.exp=pe,r.floor=fe,r.hypot=Ie,r.ln=me,r.log=ye,r.log10=Ce,r.log2=ve,r.max=Me,r.min=be,r.mod=xe,r.mul=Oe,r.pow=Ae,r.random=Te,r.round=Se,r.sign=we,r.sin=Be,r.sinh=De,r.sqrt=Pe,r.sub=Le,r.tan=Ne,r.tanh=Je,r.trunc=_e,(t=void 0===t?{}:t)&&!0!==t.defaults)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<a.length;)t.hasOwnProperty(n=a[i++])||(t[n]=this[n]);return r.config(t),r}(s)).default=c.Decimal=c,n=new c(n),a=new c(a),void 0===(qe=function(){return c}.call(Ee,ke,Ee,t))||(t.exports=qe)}()},function(e,t,i){"use strict";var r=i(13);t.name="bignumber",t.factory=function(t,e,i,n){var a=n("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(e){return e},Fraction:function(e){return new t.BigNumber(e.n).div(e.d)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="boolean",t.factory=function(e,t,i,n){var a=n("bool",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;t=Number(e);if(""!=e&&!isNaN(t))return!!t;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return r(e,a)}});return a}},function(e,t,i){e.exports=[i(523),i(525)]},function(e,t,i){"use strict";var l=i(40).format,h=i(28).lazy;t.name="Chain",t.path="type",t.factory=function(t,e,i,n,a){function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");t.isChain(e)?this.value=e.value:this.value=e}function o(e,t){"function"==typeof t&&(r.prototype[e]=s(t))}function s(i){return function(){for(var e=[this.value],t=0;t<arguments.length;t++)e[t+1]=arguments[t];return new r(i.apply(i,e))}}return r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return l(this.value)},(r.createProxy=function(e,t){if("string"==typeof e)o(e,t);else for(var i in e)e.hasOwnProperty(i)&&o(i,e[i])})(a),a.on("import",function(e,t,i){var n;void 0===i&&(n=t,h(r.prototype,e,function(){var e=n();if("function"==typeof e)return s(e)}))}),r},t.math=!0,t.lazy=!1},function(e,s){s.format=function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var i="auto",n=void 0;switch(void 0!==t&&(t.notation&&(i=t.notation),"number"==typeof t?n=t:t.precision&&(n=t.precision)),i){case"fixed":return s.toFixed(e,n);case"exponential":return s.toExponential(e,n);case"auto":var a=.001,r=1e5;t&&t.exponential&&(void 0!==t.exponential.lower&&(a=t.exponential.lower),void 0!==t.exponential.upper&&(r=t.exponential.upper));e.constructor.toExpNeg,e.constructor.toExpPos;if(e.constructor.config({toExpNeg:Math.round(Math.log(a)/Math.LN10),toExpPos:Math.round(Math.log(r)/Math.LN10)}),e.isZero())return"0";var o=e.abs();return(o.gte(a)&&o.lt(r)?e.toSignificantDigits(n).toFixed():s.toExponential(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},s.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},s.toFixed=function(e,t){return e.toFixed(t||0)}},function(e,t,i){"use strict";t.name="chain",t.factory=function(t,e,i,n){return n("chain",{"":function(){return new t.Chain},any:function(e){return new t.Chain(e)}})}},function(e,t,i){e.exports=[i(301),i(528)]},function(e,t,i){var r;
/**
 * @license Complex.js v2.0.3 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(){"use strict";function n(e){return.5*(Math.exp(e)+Math.exp(-e))}function a(e){return.5*(Math.exp(e)-Math.exp(-e))}var s={re:0,im:0},l=function(){throw SyntaxError("Invalid Param")};function o(e,t){var i=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(i):i<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function h(e,t){if(null==e)s.re=s.im=0;else if(void 0!==t)s.re=e,s.im=t;else switch(typeof e){case"object":"im"in e&&"re"in e?(s.re=e.re,s.im=e.im):"abs"in e&&"arg"in e?(s.re=e.abs*Math.cos(e.arg),s.im=e.abs*Math.sin(e.arg)):"r"in e&&"phi"in e?(s.re=e.r*Math.cos(e.phi),s.im=e.r*Math.sin(e.phi)):2===e.length?(s.re=e[0],s.im=e[1]):l();break;case"string":s.im=s.re=0;var i=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),n=1,a=0;null===i&&l();for(var r=0;r<i.length;r++){var o=i[r];" "===o||"\t"===o||"\n"===o||("+"===o?n++:"-"===o?a++:n=a=("i"===o||"I"===o?(n+a===0&&l()," "===i[r+1]||isNaN(i[r+1])?s.im+=parseFloat((a%2?"-":"")+"1"):(s.im+=parseFloat((a%2?"-":"")+i[r+1]),r++)):(n+a!==0&&!isNaN(o)||l(),"i"===i[r+1]||"I"===i[r+1]?(s.im+=parseFloat((a%2?"-":"")+o),r++):s.re+=parseFloat((a%2?"-":"")+o)),0))}0<n+a&&l();break;case"number":s.im=0,s.re=e;break;default:l()}isNaN(s.re)||isNaN(s.im)}function c(e,t){if(!(this instanceof c))return new c(e,t);h(e,t),this.re=s.re,this.im=s.im}c.prototype={re:0,im:0,sign:function(){var e=this.abs();return new c(this.re/e,this.im/e)},add:function(e,t){return h(e,t),new c(this.re+s.re,this.im+s.im)},sub:function(e,t){return h(e,t),new c(this.re-s.re,this.im-s.im)},mul:function(e,t){return h(e,t),0===s.im&&0===this.im?new c(this.re*s.re,0):new c(this.re*s.re-this.im*s.im,this.re*s.im+this.im*s.re)},div:function(e,t){h(e,t),e=this.re,t=this.im;var i,n,a=s.re,r=s.im;return 0===r?0===a?new c(0!==e?e/0:0,0!==t?t/0:0):new c(e/a,t/a):Math.abs(a)<Math.abs(r)?new c((e*(n=a/r)+t)/(i=a*n+r),(t*n-e)/i):new c((e+t*(n=r/a))/(i=r*n+a),(t-e*n)/i)},pow:function(e,t){if(h(e,t),e=this.re,t=this.im,0===e&&0===t)return c.ZERO;if(0===s.im){if(0===t&&0<=e)return new c(Math.pow(e,s.re),0);if(0===e)switch((s.re%4+4)%4){case 0:return new c(Math.pow(t,s.re),0);case 1:return new c(0,Math.pow(t,s.re));case 2:return new c(-Math.pow(t,s.re),0);case 3:return new c(0,-Math.pow(t,s.re))}}var i=Math.atan2(t,e),n=o(e,t);return e=Math.exp(s.re*n-s.im*i),t=s.im*n+s.re*i,new c(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t=this.re,i=this.im,n=this.abs();if(0<=t){if(0===i)return new c(Math.sqrt(t),0);e=.5*Math.sqrt(2*(n+t))}else e=Math.abs(i)/Math.sqrt(2*(n-t));return t=t<=0?.5*Math.sqrt(2*(n-t)):Math.abs(i)/Math.sqrt(2*(n+t)),new c(e,i<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new c(e*Math.cos(this.im),e*Math.sin(this.im))},log:function(){var e=this.re,t=this.im;return new c(o(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,i=Math.abs(e),n=Math.abs(t),i<3e3&&n<3e3?Math.sqrt(i*i+n*n):(n=i<n?(i=n,e/t):t/e,i*Math.sqrt(1+n*n));var e,t,i,n},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new c(Math.sin(e)*n(t),Math.cos(e)*a(t))},cos:function(){var e=this.re,t=this.im;return new c(Math.cos(e)*n(t),-Math.sin(e)*a(t))},tan:function(){var e=2*this.re,t=2*this.im,i=Math.cos(e)+n(t);return new c(Math.sin(e)/i,a(t)/i)},cot:function(){var e=2*this.re,t=2*this.im,i=Math.cos(e)-n(t);return new c(-Math.sin(e)/i,a(t)/i)},sec:function(){var e=this.re,t=this.im,i=.5*n(2*t)+.5*Math.cos(2*e);return new c(Math.cos(e)*n(t)/i,Math.sin(e)*a(t)/i)},csc:function(){var e=this.re,t=this.im,i=.5*n(2*t)-.5*Math.cos(2*e);return new c(Math.sin(e)*n(t)/i,-Math.cos(e)*a(t)/i)},asin:function(){var e=this.re,t=this.im,i=new c(t*t-e*e+1,-2*e*t).sqrt(),e=new c(i.re-t,i.im+e).log();return new c(e.im,-e.re)},acos:function(){var e=this.re,t=this.im,i=new c(t*t-e*e+1,-2*e*t).sqrt(),e=new c(i.re-t,i.im+e).log();return new c(Math.PI/2-e.im,e.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new c(0,1/0);if(-1===t)return new c(0,-1/0)}var i=e*e+(1-t)*(1-t),i=new c((1-t*t-e*e)/i,-2*e/i).log();return new c(-.5*i.im,.5*i.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new c(Math.atan2(1,e),0);var i=e*e+t*t;return(0!=i?new c(e/i,-t/i):new c(0!==e?e/0:0,0!==t?-t/0:0)).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new c(0,1/0);var i=e*e+t*t;return(0!=i?new c(e/i,-t/i):new c(0!==e?e/0:0,0!==t?-t/0:0)).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new c(Math.PI/2,1/0);var i=e*e+t*t;return(0!=i?new c(e/i,-t/i):new c(0!==e?e/0:0,0!==t?-t/0:0)).asin()},sinh:function(){var e=this.re,t=this.im;return new c(a(e)*Math.cos(t),n(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new c(n(e)*Math.cos(t),a(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,i=n(e)+Math.cos(t);return new c(a(e)/i,Math.sin(t)/i)},coth:function(){var e=2*this.re,t=2*this.im,i=n(e)-Math.cos(t);return new c(a(e)/i,-Math.sin(t)/i)},csch:function(){var e=this.re,t=this.im,i=Math.cos(2*t)-n(2*e);return new c(-2*a(e)*Math.cos(t)/i,2*n(e)*Math.sin(t)/i)},sech:function(){var e=this.re,t=this.im,i=Math.cos(2*t)+n(2*e);return new c(2*n(e)*Math.cos(t)/i,-2*a(e)*Math.sin(t)/i)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e,t=this.acos();return t.im<=0?(e=t.re,t.re=-t.im,t.im=e):(e=t.im,t.im=-t.re,t.re=e),t},atanh:function(){var e=this.re,t=this.im,i=1<e&&0===t,n=1-e,a=1+e,r=n*n+t*t,e=0!=r?new c((a*n-t*t)/r,(t*n+a*t)/r):new c(-1!==e?e/0:0,0!==t?t/0:0),t=e.re;return e.re=o(e.re,e.im)/2,e.im=Math.atan2(e.im,t)/2,i&&(e.im=-e.im),e},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new c(0,Math.PI/2);var i=e*e+t*t;return(0!=i?new c(e/i,-t/i):new c(0!==e?e/0:0,0!==t?-t/0:0)).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new c(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var i=e*e+t*t;return(0!=i?new c(e/i,-t/i):new c(0!==e?e/0:0,0!==t?-t/0:0)).asinh()},asech:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new c(1/0,0);var i=e*e+t*t;return(0!=i?new c(e/i,-t/i):new c(0!==e?e/0:0,0!==t?-t/0:0)).acosh()},inverse:function(){var e=this.re,t=this.im,i=e*e+t*t;return new c(0!==e?e/i:0,0!==t?-t/i:0)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new c(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new c(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new c(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){return h(e,t),Math.abs(s.re-this.re)<=c.EPSILON&&Math.abs(s.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var e=this.re,t=this.im,i="";return isNaN(e)||isNaN(t)?"NaN":(0!==e&&(i+=e),0!==t&&(0!==e?i+=t<0?" - ":" + ":t<0&&(i+="-"),1!==(t=Math.abs(t))&&(i+=t),i+="i"),i||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.EPSILON=1e-16,void 0===(r=function(){return c}.apply(t,[]))||(e.exports=r)}()},function(e,t,o){"use strict";var s=o(13);t.name="complex",t.factory=function(i,e,t,n){var a=o(23),r=n("complex",{"":function(){return i.Complex.ZERO},number:function(e){return new i.Complex(e,0)},"number, number":function(e,t){return new i.Complex(e,t)},"BigNumber, BigNumber":function(e,t){return new i.Complex(e.toNumber(),t.toNumber())},Complex:function(e){return e.clone()},string:function(e){return i.Complex(e)},Object:function(e){if("re"in e&&"im"in e)return new i.Complex(e.re,e.im);if("r"in e&&"phi"in e)return new i.Complex(e);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(e){return s(e,r)}});return r.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+a.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},r}},function(e,t,i){"use strict";function s(e,t){return l({},e,t)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},c={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"};e.exports=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=t.preserveFormatting,i=void 0!==i&&i,t=t.escapeMapFn,t=void 0===t?s:t,n=String(e),a="",r=t(l({},h),i?l({},c):{}),o=Object.keys(r);n;)!function(){var i=!1;o.forEach(function(e,t){i||n.length>=e.length&&n.slice(0,e.length)===e&&(a+=r[o[t]],n=n.slice(e.length,n.length),i=!0)}),i||(a+=n.slice(0,1),n=n.slice(1,n.length))}();return a}},function(e,t,i){e.exports=[i(531),i(302)]},function(e,t,i){var a=i(532);a.prototype.type="Fraction",a.prototype.isFraction=!0,a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},a.fromJSON=function(e){return new a(e)},t.name="Fraction",t.path="type",t.factory=function(e,t,i,n){return a}},function(n,a,e){var r;
/**
 * @license Fraction.js v4.0.4 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
!function(){"use strict";var I={s:1,n:0,d:1};function e(t){function e(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message}function i(){}return i.prototype=Error.prototype,e.prototype=new i,e}var g=s.DivisionByZero=e("DivisionByZero"),t=s.InvalidParameter=e("InvalidParameter");function m(e,t){return isNaN(e=parseInt(e,10))&&y(),e*t}function y(){throw new t}var i=function(e,t){var i,n=0,a=1,r=1,o=0,s=0,l=0,h=1,c=1,u=0,d=1,p=1,f=1;if(null!=e)if(void 0!==t)r=(n=e)*(a=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(n=e.n,a=e.d,"s"in e&&(n*=e.s)):0 in e?(n=e[0],1 in e&&(a=e[1])):y(),r=n*a;break;case"number":if((e=e<0?-(r=e):e)%1==0)n=e;else if(0<e){for(1<=e&&(e/=c=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));d<=1e7&&f<=1e7;){if(e===(i=(u+p)/(d+f))){a=d+f<=1e7?(n=u+p,d+f):d<f?(n=p,f):(n=u,d);break}i<e?(u+=p,d+=f):(p+=u,f+=d),a=1e7<d?(n=p,f):(n=u,d)}n*=c}else(isNaN(e)||isNaN(t))&&(a=n=NaN);break;case"string":if(null===(d=e.match(/\d+|./g))&&y(),"-"===d[u]?(r=-1,u++):"+"===d[u]&&u++,d.length===u+1?s=m(d[u++],r):"."===d[u+1]||"."===d[u]?("."!==d[u]&&(o=m(d[u++],r)),(++u+1===d.length||"("===d[u+1]&&")"===d[u+3]||"'"===d[u+1]&&"'"===d[u+3])&&(s=m(d[u],r),h=Math.pow(10,d[u].length),u++),("("===d[u]&&")"===d[u+2]||"'"===d[u]&&"'"===d[u+2])&&(l=m(d[u+1],r),c=Math.pow(10,d[u+1].length)-1,u+=3)):"/"===d[u+1]||":"===d[u+1]?(s=m(d[u],r),h=m(d[u+2],1),u+=3):"/"===d[u+3]&&" "===d[u+1]&&(o=m(d[u],r),s=m(d[u+2],r),h=m(d[u+4],1),u+=5),d.length<=u){r=n=l+(a=h*c)*o+c*s;break}default:y()}if(0===a)throw new g;I.s=r<0?-1:1,I.n=Math.abs(n),I.d=Math.abs(a)},o=function(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}};function s(e,t){if(!(this instanceof s))return new s(e,t);i(e,t),e=s.REDUCE?o(I.d,I.n):1,this.s=I.s,this.n=I.n/e,this.d=I.d/e}s.REDUCE=1,s.prototype={s:1,n:0,d:1,abs:function(){return new s(this.n,this.d)},neg:function(){return new s(-this.s*this.n,this.d)},add:function(e,t){return i(e,t),new s(this.s*this.n*I.d+I.s*this.d*I.n,this.d*I.d)},sub:function(e,t){return i(e,t),new s(this.s*this.n*I.d-I.s*this.d*I.n,this.d*I.d)},mul:function(e,t){return i(e,t),new s(this.s*I.s*this.n*I.n,this.d*I.d)},div:function(e,t){return i(e,t),new s(this.s*I.s*this.n*I.d,this.d*I.n)},clone:function(){return new s(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new s(NaN):void 0===e?new s(this.s*this.n%this.d,1):(i(e,t),0===I.n&&0===this.d&&s(0,0),new s(this.s*I.d*this.n%(I.n*this.d),I.d*this.d))},gcd:function(e,t){return i(e,t),new s(o(I.n,this.n),I.d*this.d/o(I.d,this.d))},lcm:function(e,t){return i(e,t),0===I.n&&0===this.n?new s:new s(I.n*this.n/o(I.n,this.n),o(I.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):new s(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new s(this.s*this.d,this.n)},pow:function(e){return e<0?new s(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new s(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return i(e,t),this.s*this.n*I.d==I.s*I.n*this.d},compare:function(e,t){i(e,t);t=this.s*this.n*I.d-I.s*I.n*this.d;return(0<t)-(t<0)},divisible:function(e,t){return i(e,t),!(!(I.n*this.d)||this.n*I.d%(I.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,i="",n=this.n,a=this.d;return this.s<0&&(i+="-"),1===a?i+=n:(e&&0<(t=Math.floor(n/a))&&(i+=t,i+=" ",n%=a),i+=n,i+="/",i+=a),i},toLatex:function(e){var t,i="",n=this.n,a=this.d;return this.s<0&&(i+="-"),1===a?i+=n:(e&&0<(t=Math.floor(n/a))&&(i+=t,n%=a),i+="\\frac{",i+=n,i+="}{",i+=a,i+="}"),i},toContinued:function(){for(var e,t=this.n,i=this.d,n=[];n.push(Math.floor(t/i)),e=t%i,t=i,i=e,1!==t;);return n},toString:function(){var e=this.n,t=this.d;if(isNaN(e)||isNaN(t))return"NaN";s.REDUCE||(e/=n=o(e,t),t/=n);var i=function(e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)return 0;for(var t=10%e,i=1;1!==t;i++)if(t=10*t%e,2e3<i)return 0;return i}(t),n=function(e,t){for(var i=1,n=function(e,t,i){for(var n=1;0<t;e=e*e%i,t>>=1)1&t&&(n=n*e%i);return n}(10,t,e),a=0;a<300;a++){if(i===n)return a;i=10*i%e,n=10*n%e}return 0}(t,i),a=-1===this.s?"-":"";if(a+=e/t|0,e%=t,(e*=10)&&(a+="."),i){for(var r=n;r--;)a+=e/t|0,e%=t,e*=10;a+="(";for(r=i;r--;)a+=e/t|0,e%=t,e*=10;a+=")"}else for(r=15;e&&r--;)a+=e/t|0,e%=t,e*=10;return a}},void 0===(r=function(){return s}.apply(a,[]))||(n.exports=r)}()},function(e,t,i){e.exports=[i(231),i(135),i(535),i(536),i(537),i(538),i(88),i(303),i(539),i(12),i(540)]},function(e,t,i){"use strict";t.isBoolean=function(e){return"boolean"==typeof e}},function(e,t,c){"use strict";var u=c(86),v=c(49),g=u.array,m=u.object,I=u.string,C=u.number,O=Array.isArray,A=C.isNumber,T=C.isInteger,S=I.isString,w=g.validateIndex;t.name="SparseMatrix",t.path="type",t.factory=function(y,e,t,M){var i=t(c(231)),b=t(c(47));function x(e,t){if(!(this instanceof x))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!S(t))throw new Error("Invalid datatype: "+t);if(y.isMatrix(e))!function(e,t,i){if(t.type==="SparseMatrix"){e._values=t._values?m.clone(t._values):undefined;e._index=m.clone(t._index);e._ptr=m.clone(t._ptr);e._size=m.clone(t._size);e._datatype=i||t._datatype}else n(e,t.valueOf(),i||t._datatype)}(this,e,t);else if(e&&O(e.index)&&O(e.ptr)&&O(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(O(e))n(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+u.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}var n=function(e,t,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var n=t.length,a=0,r=b,o=0;if(S(i)&&(r=M.find(b,[i,i])||b,o=M.convert(0,i)),0<n){var s=0;do{e._ptr.push(e._index.length);for(var l=0;l<n;l++){var h,c=t[l];O(c)?(0===s&&a<c.length&&(a=c.length),s<c.length&&(r(h=c[s],o)||(e._values.push(h),e._index.push(l)))):(0===s&&a<1&&(a=1),r(c,o)||(e._values.push(c),e._index.push(l)))}}while(++s<a)}e._ptr.push(e._index.length),e._size=[n,a]};(x.prototype=new i).type="SparseMatrix",x.prototype.isSparseMatrix=!0,x.prototype.storage=function(){return"sparse"},x.prototype.datatype=function(){return this._datatype},x.prototype.create=function(e,t){return new x(e,t)},x.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},x.prototype.subset=function(e,t,i){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,e);case 2:case 3:return r(this,e,t,i);default:throw new SyntaxError("Wrong number of arguments")}};var a=function(e,t){if(!y.isIndex(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var i,n,a=t.size();if(a.length!=e._size.length)throw new v(a.length,e._size.length);for(var r=t.min(),o=t.max(),s=0,l=e._size.length;s<l;s++)w(r[s],e._size[s]),w(o[s],e._size[s]);var h=e._values,c=e._index,u=e._ptr,d=t.dimension(0),t=t.dimension(1),p=[],f=[];d.forEach(function(e,t){f[e]=t[0],p[e]=!0});var I=h?[]:void 0,g=[],m=[];return t.forEach(function(e){for(m.push(g.length),i=u[e],n=u[e+1];i<n;i++)s=c[i],!0===p[s]&&(g.push(f[s]),I&&I.push(h[i]))}),m.push(g.length),new x({values:I,index:g,ptr:m,size:a,datatype:e._datatype})},r=function(e,t,i,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,r=t.size(),o=t.isScalar();if(y.isMatrix(i)?(a=i.size(),i=i.toArray()):a=g.size(i),o){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),i,n)}else{if(1!==r.length&&2!==r.length)throw new v(r.length,e._size.length,"<");if(a.length<r.length){for(var s=0,l=0;1===r[s]&&1===a[s];)s++;for(;1===r[s];)l++,s++;i=g.unsqueeze(i,r.length,l,a)}if(!m.deepEqual(r,a))throw new v(r,a,">");for(var h=t.min()[0],c=t.min()[1],u=a[0],d=a[1],p=0;p<u;p++)for(var f=0;f<d;f++){var I=i[p][f];e.set([p+h,f+c],I,n)}}return e};x.prototype.get=function(e){if(!O(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new v(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],i=e[1];w(t,this._size[0]),w(i,this._size[1]);e=p(t,this._ptr[i],this._ptr[i+1],this._index);return e<this._ptr[i+1]&&this._index[e]===t?this._values[e]:0},x.prototype.set=function(e,t,i){if(!O(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new v(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=e[0],a=e[1],r=this._size[0],o=this._size[1],s=b,e=0;S(this._datatype)&&(s=M.find(b,[this._datatype,this._datatype])||b,e=M.convert(0,this._datatype)),(r-1<n||o-1<a)&&(h(this,Math.max(n+1,r),Math.max(a+1,o),i),r=this._size[0],o=this._size[1]),w(n,r),w(a,o);o=p(n,this._ptr[a],this._ptr[a+1],this._index);return o<this._ptr[a+1]&&this._index[o]===n?s(t,e)?l(o,a,this._values,this._index,this._ptr):this._values[o]=t:f(o,n,a,t,this._values,this._index,this._ptr),this};var p=function(e,t,i,n){if(i-t==0)return i;for(var a=t;a<i;a++)if(n[a]===e)return a;return t},l=function(e,t,i,n,a){i.splice(e,1),n.splice(e,1);for(var r=t+1;r<a.length;r++)a[r]--},f=function(e,t,i,n,a,r,o){a.splice(e,0,n),r.splice(e,0,t);for(var s=i+1;s<o.length;s++)o[s]++};x.prototype.resize=function(t,e,i){if(!O(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!C.isNumber(e)||!C.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+I.format(t)+")")});i=i?this.clone():this;return h(i,t[0],t[1],e)};var h=function(e,t,i,n){var a=n||0,r=b,n=0;S(e._datatype)&&(r=M.find(b,[e._datatype,e._datatype])||b,n=M.convert(0,e._datatype),a=M.convert(a,e._datatype));var o=!r(a,n),s=e._size[0],l=e._size[1];if(l<i){for(c=l;c<i;c++)if(e._ptr[c]=e._values.length,o)for(p=0;p<s;p++)e._values.push(a),e._index.push(p);e._ptr[i]=e._values.length}else i<l&&(e._ptr.splice(i+1,l-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(l=i,s<t){if(o){for(var h=0,c=0;c<l;c++){e._ptr[c]=e._ptr[c]+h;for(var u=e._ptr[c+1]+h,d=0,p=s;p<t;p++,d++)e._values.splice(u+d,0,a),e._index.splice(u+d,0,p),h++}e._ptr[l]=e._values.length}}else if(t<s){var f=0;for(c=0;c<l;c++){e._ptr[c]=e._ptr[c]-f;var I=e._ptr[c],g=e._ptr[c+1]-f;for(u=I;u<g;u++)t-1<(p=e._index[u])&&(e._values.splice(u,1),e._index.splice(u,1),f++)}e._ptr[c]=e._values.length}return e._size[0]=t,e._size[1]=i,e};x.prototype.reshape=function(t,e){if(!O(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach(function(e){if(!C.isNumber(e)||!C.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+I.format(t)+")")}),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var i=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return i;for(var n=[],a=0;a<i._ptr.length;a++)for(var r=0;r<i._ptr[a+1]-i._ptr[a];r++)n.push(a);for(var o=i._values.slice(),s=i._index.slice(),a=0;a<i._index.length;a++){var l=s[a],h=n[a],h=l*i._size[1]+h;n[a]=h%t[1],s[a]=Math.floor(h/t[1])}i._values.length=0,i._index.length=0,i._ptr.length=t[1]+1,i._size=t.slice();for(a=0;a<i._ptr.length;a++)i._ptr[a]=0;for(var c=0;c<o.length;c++){var a=s[c],r=n[c],u=o[c],d=p(a,i._ptr[r],i._ptr[r+1],i._index);f(d,a,r,u,i._values,i._index,i._ptr)}return i},x.prototype.clone=function(){return new x({values:this._values?m.clone(this._values):void 0,index:m.clone(this._index),ptr:m.clone(this._ptr),size:m.clone(this._size),datatype:this._datatype})},x.prototype.size=function(){return this._size.slice(0)},x.prototype.map=function(n,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var a=this,t=this._size[0],i=this._size[1];return o(this,0,t-1,0,i-1,function(e,t,i){return n(e,[t,i],a)},e)};var o=function(e,t,i,n,a,r,o){var s=[],l=[],h=[],c=b,u=0;S(e._datatype)&&(c=M.find(b,[e._datatype,e._datatype])||b,u=M.convert(0,e._datatype));for(var d=function(e,t,i){e=r(e,t,i),c(e,u)||(s.push(e),l.push(t))},p=n;p<=a;p++){h.push(s.length);for(var f=e._ptr[p],I=e._ptr[p+1],g=t,m=f;m<I;m++){var y=e._index[m];if(t<=y&&y<=i){if(!o)for(var v=g;v<y;v++)d(0,v-t,p-n);d(e._values[m],y-t,p-n)}g=y+1}if(!o)for(var C=g;C<=i;C++)d(0,C-t,p-n)}return h.push(s.length),new x({values:s,index:l,ptr:h,size:[i-t+1,a-n+1]})};x.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var i=this._size[0],n=this._size[1],a=0;a<n;a++){for(var r=this._ptr[a],o=this._ptr[a+1],s=0,l=r;l<o;l++){var h=this._index[l];if(!t)for(var c=s;c<h;c++)e(0,[c,a],this);e(this._values[l],[h,a],this),s=h+1}if(!t)for(var u=s;u<i;u++)e(0,[u,a],this)}},x.prototype.toArray=function(){return s(this._values,this._index,this._ptr,this._size,!0)},x.prototype.valueOf=function(){return s(this._values,this._index,this._ptr,this._size,!1)};var s=function(e,t,i,n,a){for(var r,o=n[0],s=n[1],l=[],h=0;h<o;h++)for(l[h]=[],r=0;r<s;r++)l[h][r]=0;for(r=0;r<s;r++)for(var c=i[r],u=i[r+1],d=c;d<u;d++)l[h=t[d]][r]=e?a?m.clone(e[d]):e[d]:1;return l};return x.prototype.format=function(e){for(var t=this._size[0],i=this._size[1],n=this.density(),a="Sparse Matrix ["+I.format(t,e)+" x "+I.format(i,e)+"] density: "+I.format(n,e)+"\n",r=0;r<i;r++)for(var o=this._ptr[r],s=this._ptr[r+1],l=o;l<s;l++){var h=this._index[l];a+="\n    ("+I.format(h,e)+", "+I.format(r,e)+") ==> "+(this._values?I.format(this._values[l],e):"X")}return a},x.prototype.toString=function(){return I.format(this.toArray())},x.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},x.prototype.diagonal=function(e){if(e){if(y.isBigNumber(e)&&(e=e.toNumber()),!A(e)||!T(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=0<e?e:0,i=e<0?-e:0,e=this._size[0],n=this._size[1],a=Math.min(e-i,n-t),r=[],o=[],e=[];e[0]=0;for(var s=t;s<n&&r.length<a;s++)for(var l=this._ptr[s],h=this._ptr[s+1],c=l;c<h;c++){var u=this._index[c];if(u===s-t+i){r.push(this._values[c]),o[r.length-1]=u-i;break}}return e.push(r.length),new x({values:r,index:o,ptr:e,size:[a,1]})},x.fromJSON=function(e){return new x(e)},x.diagonal=function(e,t,i,n,a){if(!O(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(y.isBigNumber(e)&&(e=e.toNumber()),!A(e)||!T(e)||e<1)throw new Error("Size values must be positive integers");return e}),i){if(y.isBigNumber(i)&&(i=i.toNumber()),!A(i)||!T(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var r=b,o=0;S(a)&&(r=M.find(b,[a,a])||b,o=M.convert(0,a));var s,l=0<i?i:0,h=i<0?-i:0,i=e[0],c=e[1],u=Math.min(i-h,c-l);if(O(t)){if(t.length!==u)throw new Error("Invalid value array length");s=function(e){return t[e]}}else if(y.isMatrix(t)){e=t.size();if(1!==e.length||e[0]!==u)throw new Error("Invalid matrix length");s=function(e){return t.get([e])}}else s=function(){return t};for(var d=[],p=[],f=[],I=0;I<c;I++){f.push(d.length);var g,m=I-l;0<=m&&m<u&&(r(g=s(m),o)||(p.push(m+h),d.push(g)))}return f.push(d.length),new x({values:d,index:p,ptr:f,size:[i,c]})},x.prototype.swapRows=function(e,t){if(!(A(e)&&T(e)&&A(t)&&T(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return w(e,this._size[0]),w(t,this._size[0]),x._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},x._forEachRow=function(e,t,i,n,a){for(var r=n[e],o=n[e+1],s=r;s<o;s++)a(i[s],t[s])},x._swapRows=function(e,t,i,n,a,r){for(var o=0;o<i;o++){var s,l=r[o],h=r[o+1],c=p(e,l,h,a),l=p(t,l,h,a);c<h&&l<h&&a[c]===e&&a[l]===t?n&&(s=n[c],n[c]=n[l],n[l]=s):c<h&&a[c]===e&&(h<=l||a[l]!==t)?(s=n?n[c]:void 0,a.splice(l,0,t),n&&n.splice(l,0,s),a.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1)):l<h&&a[l]===t&&(h<=c||a[c]!==e)&&(h=n?n[l]:void 0,a.splice(c,0,e),n&&n.splice(c,0,h),a.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1))}},y.Matrix._storage.sparse=x},t.lazy=!1},function(e,t,r){"use strict";t.name="Spa",t.path="type",t.factory=function(e,t,i){var n=i(r(71)),h=i(r(47));function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new e.FibonacciHeap}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(e,t){this._values[e]?this._values[e].value=t:(t=this._heap.insert(e,t),this._values[e]=t)},a.prototype.get=function(e){e=this._values[e];return e?e.value:0},a.prototype.accumulate=function(e,t){var i=this._values[e];i?i.value=n(i.value,t):(i=this._heap.insert(e,t),this._values[e]=i)},a.prototype.forEach=function(e,t,i){var n=this._heap,a=this._values,r=[];for((s=n.extractMinimum())&&r.push(s);s&&s.key<=t;)s.key>=e&&(h(s.value,0)||i(s.key,s.value,this)),(s=n.extractMinimum())&&r.push(s);for(var o=0;o<r.length;o++){var s,l=r[o];a[(s=n.insert(l.key,l.value)).key]=s}},a.prototype.swap=function(e,t){var i=this._values[e],n=this._values[t];!i&&n?(i=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=i,this._values[t]=void 0):i&&!n?(n=this._heap.insert(t,i.value),this._heap.remove(i),this._values[t]=n,this._values[e]=void 0):i&&n&&(e=i.value,i.value=n.value,n.value=e)},a}},function(e,t,h){"use strict";t.name="FibonacciHeap",t.path="type",t.factory=function(e,t,i,n){var d=i(h(118)),p=i(h(105)),f=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(e,t){var i={key:e,value:t,degree:0};return this._minimum?(t=this._minimum,i.left=t,i.right=t.right,(t.right=i).right.left=i,d(e,t.key)&&(this._minimum=i)):((i.left=i).right=i,this._minimum=i),this._size++,i},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return 0===this._size},a.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var t=this._minimum,i=e.degree,n=e.child;0<i;){var a=n.right;n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,((t.right=n).right.left=n).parent=null,n=a,i--}return e.left.right=e.right,e.right.left=e.left,t=e==e.right?null:(t=e.right,l(t,this._size)),this._size--,this._minimum=t,e},a.prototype.remove=function(e){this._minimum=r(this._minimum,e,-1),this.extractMinimum()};var r=function(e,t,i){t.key=i;i=t.parent;return i&&d(t.key,i.key)&&(o(e,t,i),s(e,i)),e=d(t.key,e.key)?t:e},o=function(e,t,i){t.left.right=t.right,t.right.left=t.left,i.degree--,i.child==t&&(i.child=t.right),0===i.degree&&(i.child=null),t.left=e,t.right=e.right,((e.right=t).right.left=t).parent=null,t.mark=!1},s=function(e,t){var i=t.parent;i&&(t.mark?(o(e,t,i),s(i)):t.mark=!0)},l=function(e,t){var i,n=Math.floor(Math.log(t)*f)+1,a=new Array(n),r=0;if(l=e)for(r++,l=l.right;l!==e;)r++,l=l.right;for(;0<r;){for(var o,s,l,h=l.degree,c=l.right;;){if(!(s=a[h]))break;p(l.key,s.key)&&(o=s,s=l,l=o),i=l,(o=s).left.right=o.right,o.right.left=o.left,(o.parent=i).child?(o.left=i.child,o.right=i.child.right,(i.child.right=o).right.left=o):((i.child=o).right=o).left=o,i.degree++,o.mark=!1,a[h]=null,h++}a[h]=l,l=c,r--}e=null;for(var u=0;u<n;u++)(s=a[u])&&(e?(s.left.right=s.right,s.right.left=s.left,s.left=e,s.right=e.right,(e.right=s).right.left=s,d(s.key,e.key)&&(e=s)):e=s);return e};return a}},function(e,t,o){"use strict";var s=o(86),i=s.string,l=s.object,h=Array.isArray,c=i.isString;t.name="ImmutableDenseMatrix",t.path="type",t.factory=function(n,e,t){var a=t(o(135)),i=t(o(118));function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!c(t))throw new Error("Invalid datatype: "+t);if(n.isMatrix(e)||h(e)){var i=new a(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&h(e.data)&&h(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+s.types.type(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return(r.prototype=new a).type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(e){switch(arguments.length){case 1:var t=a.prototype.subset.call(this,e);return n.isMatrix(t)?new r({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:l.clone(this._data),size:l.clone(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){var t;return null===this._min&&(t=null,this.forEach(function(e){null!==t&&!i(e,t)||(t=e)}),this._min=null!==t?t:void 0),this._min},r.prototype.max=function(){var t;return null===this._max&&(t=null,this.forEach(function(e){null!==t&&!i(t,e)||(t=e)}),this._max=null!==t?t:void 0),this._max},r}},function(e,t,i){"use strict";t.name="index",t.factory=function(i,e,t,n){return n("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map(function(e){return i.isBigNumber(e)?e.toNumber():Array.isArray(e)||i.isMatrix(e)?e.map(function(e){return i.isBigNumber(e)?e.toNumber():e}):e}),e=new i.Index;return i.Index.apply(e,t),e}})}},function(e,t,i){"use strict";t.name="sparse",t.factory=function(e,t,i,n){var a=e.SparseMatrix;return(n=n("sparse",{"":function(){return new a([])},string:function(e){return new a([],e)},"Array | Matrix":function(e){return new a(e)},"Array | Matrix, string":function(e,t){return new a(e,t)}})).toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},n}},function(e,t,i){e.exports=[i(304)]},function(e,t,i){"use strict";var r=i(13),o=i(17);t.name="string",t.factory=function(e,t,i,n){var a=n("string",{"":function(){return""},number:o.format,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return r(e,a)},any:function(e){return String(e)}});return a.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},a}},function(e,t,i){e.exports=[i(544),i(545),i(546),i(547),i(548)]},function(e,t,H){"use strict";var G=H(40).endsWith,z=H(28).clone,X=H(305);t.name="Unit",t.path="type",t.factory=function(I,g,e,t,i){var m,y,v,l=e(H(62)),h=e(H(72)),c=e(H(73)),u=e(H(55)),d=e(H(136)),p=e(H(89)),s=e(H(306)),f=e(H(307)),C=e(H(98)),n=e(H(234)),a=e(H(308)),M=e(H(235)),r=e(H(233)),e=e(H(301));function b(e,t){if(!(this instanceof b))throw new Error("Constructor must be called with the new operator");if(null!=e&&!n(e)&&!I.isComplex(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(null!=t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(null!=t){t=b.parse(t);this.units=t.units,this.dimensions=t.dimensions}else{this.units=[{unit:N,prefix:D.NONE,power:0}],this.dimensions=[];for(var i=0;i<P.length;i++)this.dimensions[i]=0}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}function x(){for(;" "==v||"\t"==v;)O()}function o(e){return"0"<=e&&e<="9"}function O(){y++,v=m.charAt(y)}function A(e){y=e,v=m.charAt(y)}function T(){var e="",t=y;if("+"==v?O():"-"==v&&(e+=v,O()),!("0"<=(i=v)&&i<="9"||"."==i))return A(t),null;if("."==v){if(e+=v,O(),!o(v))return A(t),null}else{for(;o(v);)e+=v,O();"."==v&&(e+=v,O())}for(;o(v);)e+=v,O();if("E"==v||"e"==v){var i="",t=y;if(i+=v,O(),"+"!=v&&"-"!=v||(i+=v,O()),!o(v))return A(t),e;for(e+=i;o(v);)e+=v,O()}return e}function S(e){return v===e&&(O(),e)}function w(e){if(J.hasOwnProperty(e))return{unit:n=J[e],prefix:i=n.prefixes[""]};for(var t in J)if(J.hasOwnProperty(t)&&G(e,t)){var i,n=J[t],t=e.length-t.length,t=e.substring(0,t);if(void 0!==(i=n.prefixes.hasOwnProperty(t)?n.prefixes[t]:void 0))return{unit:n,prefix:i}}return null}b.prototype.type="Unit",b.prototype.isUnit=!0,b.parse=function(e,t){if(t=t||{},y=-1,v="","string"!=typeof(m=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new b;i.units=[],O(),x();var n=T(),a=null;n&&(a="BigNumber"===g.number?new I.BigNumber(n):"Fraction"===g.number?new I.Fraction(n):parseFloat(n)),x();for(var r=1,o=!1,s=[],l=1;;){for(x();"("===v;)s.push(r),l*=r,r=1,O(),x();if(!v)break;var h=v,c=function(){for(var e="",t=m.charCodeAt(y);48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122;)e+=v,O(),t=m.charCodeAt(y);return(65<=(t=e.charCodeAt(0))&&t<=90||97<=t&&t<=122)&&e||null}();if(null==c)throw new SyntaxError('Unexpected "'+h+'" in "'+m+'" at index '+y.toString());var u=w(c);if(null==u)throw new SyntaxError('Unit "'+c+'" not found.');var d=r*l;if(x(),S("^")){x();var p=T();if(null==p)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');d*=p}i.units.push({unit:u.unit,prefix:u.prefix,power:d});for(var f=0;f<P.length;f++)i.dimensions[f]+=(u.unit.dimensions[f]||0)*d;for(x();")"===v;){if(0===s.length)throw new SyntaxError('Unmatched ")" in "'+m+'" at index '+y.toString());l/=s.pop(),O(),x()}o=!1,S("*")?(r=1,o=!0):S("/")?(r=-1,o=!0):r=1,u.unit.base&&(p=u.unit.base.key,k.auto[p]={unit:u.unit,prefix:u.prefix})}if(x(),v)throw new SyntaxError('Could not parse: "'+e+'"');if(o)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==s.length)throw new SyntaxError('Unmatched "(" in "'+m+'"');if(0==i.units.length&&!t.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return i.value=null!=a?i._normalize(a):null,i},b.prototype.clone=function(){var e=new b;e.fixPrefix=this.fixPrefix,e.isUnitListSimplified=this.isUnitListSimplified,e.value=z(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var i in e.units[t]={},this.units[t])this.units[t].hasOwnProperty(i)&&(e.units[t][i]=this.units[t][i]);return e},b.prototype._isDerived=function(){return 0!==this.units.length&&(1<this.units.length||1e-15<Math.abs(this.units[0].power-1))},b.prototype._normalize=function(e){var t,i,n,a;if(null==e||0===this.units.length)return e;if(this._isDerived()){for(var r=e,o=b._getNumberConverter(M(e)),s=0;s<this.units.length;s++)t=o(this.units[s].unit.value),a=o(this.units[s].prefix.value),n=o(this.units[s].power),r=c(r,d(c(t,a),n));return r}return t=(o=b._getNumberConverter(M(e)))(this.units[0].unit.value),i=o(this.units[0].unit.offset),a=o(this.units[0].prefix.value),c(l(e,i),c(t,a))},b.prototype._denormalize=function(e,t){var i,n,a,r;if(null==e||0===this.units.length)return e;if(this._isDerived()){for(var o=e,s=b._getNumberConverter(M(e)),l=0;l<this.units.length;l++)i=s(this.units[l].unit.value),r=s(this.units[l].prefix.value),a=s(this.units[l].power),o=u(o,d(c(i,r),a));return o}return i=(s=b._getNumberConverter(M(e)))(this.units[0].unit.value),r=s(this.units[0].prefix.value),n=s(this.units[0].unit.offset),h(u(u(e,i),null==t?r:t),n)},b.isValuelessUnit=function(e){return null!=w(e)},b.prototype.hasBase=function(e){if(!(e="string"==typeof e?L[e]:e))return!1;for(var t=0;t<P.length;t++)if(1e-12<Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0)))return!1;return!0},b.prototype.equalBase=function(e){for(var t=0;t<P.length;t++)if(1e-12<Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0)))return!1;return!0},b.prototype.equals=function(e){return this.equalBase(e)&&C(this.value,e.value)},b.prototype.multiply=function(e){for(var t=this.clone(),i=0;i<P.length;i++)t.dimensions[i]=(this.dimensions[i]||0)+(e.dimensions[i]||0);for(var n,a,i=0;i<e.units.length;i++){var r,o={};for(r in e.units[i])o[r]=e.units[i][r];t.units.push(o)}return null!=this.value||null!=e.value?(n=null==this.value?this._normalize(1):this.value,a=null==e.value?e._normalize(1):e.value,t.value=c(n,a)):t.value=null,t.isUnitListSimplified=!1,B(t)},b.prototype.divide=function(e){for(var t=this.clone(),i=0;i<P.length;i++)t.dimensions[i]=(this.dimensions[i]||0)-(e.dimensions[i]||0);for(var n,a,i=0;i<e.units.length;i++){var r,o={};for(r in e.units[i])o[r]=e.units[i][r];o.power=-o.power,t.units.push(o)}return null!=this.value||null!=e.value?(n=null==this.value?this._normalize(1):this.value,a=null==e.value?e._normalize(1):e.value,t.value=u(n,a)):t.value=null,t.isUnitListSimplified=!1,B(t)},b.prototype.pow=function(e){for(var t=this.clone(),i=0;i<P.length;i++)t.dimensions[i]=(this.dimensions[i]||0)*e;for(i=0;i<t.units.length;i++)t.units[i].power*=e;return null!=t.value?t.value=d(t.value,e):t.value=null,t.isUnitListSimplified=!1,B(t)};var B=function(e){return e.equalBase(L.NONE)&&null!==e.value&&!g.predictable?e.value:e};b.prototype.abs=function(){var e,t=this.clone();for(e in t.value=p(t.value),t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=J.W);return t},b.prototype.to=function(e){var t,i=null==this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=b.parse(e),!this.equalBase(t))throw new Error("Units do not match");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=z(i),t.fixPrefix=!0,t.isUnitListSimplified=!0,t}if(I.isUnit(e)){if(!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=z(i),t.fixPrefix=!0,t.isUnitListSimplified=!0,t}throw new Error("String or Unit expected as parameter")},b.prototype.toNumber=function(e){return r(this.toNumeric(e))},b.prototype.toNumeric=function(e){var t=this;return(t=e?this.to(e):t).simplifyUnitListLazy(),t._isDerived()?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},b.prototype.toString=function(){return this.format()},b.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},b.fromJSON=function(e){var t=new b(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},b.prototype.valueOf=b.prototype.toString,b.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var e,t,i,n=[];for(t in R)if(this.hasBase(L[t])){e=t;break}if("NONE"===e)this.units=[];else if(i=e&&R.hasOwnProperty(e)?R[e]:i)this.units=[{unit:i.unit,prefix:i.prefix,power:1}];else{for(var a=!1,r=0;r<P.length;r++){var o=P[r];1e-12<Math.abs(this.dimensions[r]||0)&&(R.hasOwnProperty(o)?n.push({unit:R[o].unit,prefix:R[o].prefix,power:this.dimensions[r]||0}):a=!0)}n.length<this.units.length&&!a&&(this.units=n)}this.isUnitListSimplified=!0}},b.prototype.toSI=function(){for(var e=this.clone(),t=[],i=0;i<P.length;i++){var n=P[i];if(1e-12<Math.abs(e.dimensions[i]||0)){if(!k.si.hasOwnProperty(n))throw new Error("Cannot express custom unit "+n+" in SI units");t.push({unit:k.si[n].unit,prefix:k.si[n].prefix,power:e.dimensions[i]||0})}}return e.units=t,e.isUnitListSimplified=!0,e},b.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var e="",t="",i=0,n=0,a=0;a<this.units.length;a++)0<this.units[a].power?(i++,e+=" "+this.units[a].prefix.name+this.units[a].unit.name,1e-15<Math.abs(this.units[a].power-1)&&(e+="^"+this.units[a].power)):this.units[a].power<0&&n++;if(0<n)for(a=0;a<this.units.length;a++)this.units[a].power<0&&(0<i?(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,1e-15<Math.abs(this.units[a].power+1)&&(t+="^"+-this.units[a].power)):(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,t+="^"+this.units[a].power));var e=e.substr(1),t=t.substr(1),r=e=1<i&&0<n?"("+e+")":e;return 0<i&&0<n&&(r+=" / "),r+=t=1<n&&0<i?"("+t+")":t},b.prototype.format=function(e){this.simplifyUnitListLazy();var t,i=!1;for(t in void 0!==this.value&&null!==this.value&&I.isComplex(this.value)&&(i=Math.abs(this.value.re)<1e-14,Math.abs(this.value.im)),this.units)this.units[t].unit&&("VA"===this.units[t].unit.name&&i?this.units[t].unit=J.VAR:"VAR"!==this.units[t].unit.name||i||(this.units[t].unit=J.VA));1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var n=this._denormalize(this.value),n=null!==this.value?a(n,e||{}):"",e=this.formatUnits();return this.value&&I.isComplex(this.value)&&(n="("+n+")"),0<e.length&&0<n.length&&(n+=" "),n+=e},b.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(1e-14<=Math.abs(this.units[0].power-Math.round(this.units[0].power)))throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=p(this.value),t=p(this.units[0].unit.value),i=this.units[0].prefix;if(0===e)return i;var n=this.units[0].power;if(-2.200001<(s=Math.log(e/Math.pow(i.value*t,n))/Math.LN10-1.2)&&s<1.800001)return i;var a,r,o,s=Math.abs(s),l=this.units[0].unit.prefixes;for(a in l)l.hasOwnProperty(a)&&(!(r=l[a]).scientific||((o=Math.abs(Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2))<s||o===s&&r.name.length<i.name.length)&&(i=r,s=o));return i};var D={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!(b.prototype.splitUnit=function(e){for(var t=this.clone(),i=[],n=0;n<e.length&&(t=t.to(e[n]),n!=e.length-1);n++){var a=t.toNumeric(),r=f(a),r=C(r,a)?r:s(t.toNumeric()),r=new b(r,e[n].toString());i.push(r),t=h(t,r)}for(var o=0,n=0;n<i.length;n++)o=l(o,i[n].value);return C(o,this.value)&&(t.value=0),i.push(t),i})},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}},SHORTLONG:{}};for(j in D.SHORT)D.SHORT.hasOwnProperty(j)&&(D.SHORTLONG[j]=D.SHORT[j]);for(j in D.LONG)D.LONG.hasOwnProperty(j)&&(D.SHORTLONG[j]=D.LONG[j]);var P=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],L={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(j in L)L[j].key=j;var N={name:"",base:{},value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},J={meter:{name:"meter",base:L.LENGTH,prefixes:D.LONG,value:1,offset:0},inch:{name:"inch",base:L.LENGTH,prefixes:D.NONE,value:.0254,offset:0},foot:{name:"foot",base:L.LENGTH,prefixes:D.NONE,value:.3048,offset:0},yard:{name:"yard",base:L.LENGTH,prefixes:D.NONE,value:.9144,offset:0},mile:{name:"mile",base:L.LENGTH,prefixes:D.NONE,value:1609.344,offset:0},link:{name:"link",base:L.LENGTH,prefixes:D.NONE,value:.201168,offset:0},rod:{name:"rod",base:L.LENGTH,prefixes:D.NONE,value:5.02921,offset:0},chain:{name:"chain",base:L.LENGTH,prefixes:D.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:L.LENGTH,prefixes:D.NONE,value:1e-10,offset:0},m:{name:"m",base:L.LENGTH,prefixes:D.SHORT,value:1,offset:0},in:{name:"in",base:L.LENGTH,prefixes:D.NONE,value:.0254,offset:0},ft:{name:"ft",base:L.LENGTH,prefixes:D.NONE,value:.3048,offset:0},yd:{name:"yd",base:L.LENGTH,prefixes:D.NONE,value:.9144,offset:0},mi:{name:"mi",base:L.LENGTH,prefixes:D.NONE,value:1609.344,offset:0},li:{name:"li",base:L.LENGTH,prefixes:D.NONE,value:.201168,offset:0},rd:{name:"rd",base:L.LENGTH,prefixes:D.NONE,value:5.02921,offset:0},ch:{name:"ch",base:L.LENGTH,prefixes:D.NONE,value:20.1168,offset:0},mil:{name:"mil",base:L.LENGTH,prefixes:D.NONE,value:254e-7,offset:0},m2:{name:"m2",base:L.SURFACE,prefixes:D.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:L.SURFACE,prefixes:D.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:L.SURFACE,prefixes:D.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:L.SURFACE,prefixes:D.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:L.SURFACE,prefixes:D.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:L.SURFACE,prefixes:D.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:L.SURFACE,prefixes:D.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:L.SURFACE,prefixes:D.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:L.SURFACE,prefixes:D.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:L.SURFACE,prefixes:D.NONE,value:1e4,offset:0},m3:{name:"m3",base:L.VOLUME,prefixes:D.CUBIC,value:1,offset:0},L:{name:"L",base:L.VOLUME,prefixes:D.SHORT,value:.001,offset:0},l:{name:"l",base:L.VOLUME,prefixes:D.SHORT,value:.001,offset:0},litre:{name:"litre",base:L.VOLUME,prefixes:D.LONG,value:.001,offset:0},cuin:{name:"cuin",base:L.VOLUME,prefixes:D.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:L.VOLUME,prefixes:D.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:L.VOLUME,prefixes:D.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:L.VOLUME,prefixes:D.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:L.VOLUME,prefixes:D.NONE,value:15e-6,offset:0},drop:{name:"drop",base:L.VOLUME,prefixes:D.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:L.VOLUME,prefixes:D.NONE,value:5e-8,offset:0},minim:{name:"minim",base:L.VOLUME,prefixes:D.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:L.VOLUME,prefixes:D.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:L.VOLUME,prefixes:D.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:L.VOLUME,prefixes:D.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:L.VOLUME,prefixes:D.NONE,value:1e-6,offset:0},cup:{name:"cup",base:L.VOLUME,prefixes:D.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:L.VOLUME,prefixes:D.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:L.VOLUME,prefixes:D.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:L.VOLUME,prefixes:D.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:L.VOLUME,prefixes:D.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:L.VOLUME,prefixes:D.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:L.VOLUME,prefixes:D.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:L.VOLUME,prefixes:D.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:L.VOLUME,prefixes:D.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:L.VOLUME,prefixes:D.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:L.VOLUME,prefixes:D.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:L.VOLUME,prefixes:D.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:L.VOLUME,prefixes:D.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:L.VOLUME,prefixes:D.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:L.VOLUME,prefixes:D.NONE,value:.1173478,offset:0},obl:{name:"obl",base:L.VOLUME,prefixes:D.NONE,value:.1589873,offset:0},g:{name:"g",base:L.MASS,prefixes:D.SHORT,value:.001,offset:0},gram:{name:"gram",base:L.MASS,prefixes:D.LONG,value:.001,offset:0},ton:{name:"ton",base:L.MASS,prefixes:D.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:L.MASS,prefixes:D.SHORT,value:1e3,offset:0},grain:{name:"grain",base:L.MASS,prefixes:D.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:L.MASS,prefixes:D.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:L.MASS,prefixes:D.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:L.MASS,prefixes:D.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:L.MASS,prefixes:D.NONE,value:45.359237,offset:0},stick:{name:"stick",base:L.MASS,prefixes:D.NONE,value:.115,offset:0},stone:{name:"stone",base:L.MASS,prefixes:D.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:L.MASS,prefixes:D.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:L.MASS,prefixes:D.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:L.MASS,prefixes:D.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:L.MASS,prefixes:D.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:L.MASS,prefixes:D.NONE,value:45.359237,offset:0},s:{name:"s",base:L.TIME,prefixes:D.SHORT,value:1,offset:0},min:{name:"min",base:L.TIME,prefixes:D.NONE,value:60,offset:0},h:{name:"h",base:L.TIME,prefixes:D.NONE,value:3600,offset:0},second:{name:"second",base:L.TIME,prefixes:D.LONG,value:1,offset:0},sec:{name:"sec",base:L.TIME,prefixes:D.LONG,value:1,offset:0},minute:{name:"minute",base:L.TIME,prefixes:D.NONE,value:60,offset:0},hour:{name:"hour",base:L.TIME,prefixes:D.NONE,value:3600,offset:0},day:{name:"day",base:L.TIME,prefixes:D.NONE,value:86400,offset:0},week:{name:"week",base:L.TIME,prefixes:D.NONE,value:604800,offset:0},month:{name:"month",base:L.TIME,prefixes:D.NONE,value:2629800,offset:0},year:{name:"year",base:L.TIME,prefixes:D.NONE,value:31557600,offset:0},decade:{name:"year",base:L.TIME,prefixes:D.NONE,value:315576e3,offset:0},century:{name:"century",base:L.TIME,prefixes:D.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:L.TIME,prefixes:D.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:L.FREQUENCY,prefixes:D.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:L.FREQUENCY,prefixes:D.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:L.ANGLE,prefixes:D.LONG,value:1,offset:0},deg:{name:"deg",base:L.ANGLE,prefixes:D.LONG,value:null,offset:0},grad:{name:"grad",base:L.ANGLE,prefixes:D.LONG,value:null,offset:0},cycle:{name:"cycle",base:L.ANGLE,prefixes:D.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:L.ANGLE,prefixes:D.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:L.ANGLE,prefixes:D.NONE,value:null,offset:0},A:{name:"A",base:L.CURRENT,prefixes:D.SHORT,value:1,offset:0},ampere:{name:"ampere",base:L.CURRENT,prefixes:D.LONG,value:1,offset:0},K:{name:"K",base:L.TEMPERATURE,prefixes:D.NONE,value:1,offset:0},degC:{name:"degC",base:L.TEMPERATURE,prefixes:D.NONE,value:1,offset:273.15},degF:{name:"degF",base:L.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:L.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:L.TEMPERATURE,prefixes:D.NONE,value:1,offset:0},celsius:{name:"celsius",base:L.TEMPERATURE,prefixes:D.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:L.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:L.TEMPERATURE,prefixes:D.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:L.AMOUNT_OF_SUBSTANCE,prefixes:D.SHORT,value:1,offset:0},mole:{name:"mole",base:L.AMOUNT_OF_SUBSTANCE,prefixes:D.LONG,value:1,offset:0},cd:{name:"cd",base:L.LUMINOUS_INTENSITY,prefixes:D.NONE,value:1,offset:0},candela:{name:"candela",base:L.LUMINOUS_INTENSITY,prefixes:D.NONE,value:1,offset:0},N:{name:"N",base:L.FORCE,prefixes:D.SHORT,value:1,offset:0},newton:{name:"newton",base:L.FORCE,prefixes:D.LONG,value:1,offset:0},dyn:{name:"dyn",base:L.FORCE,prefixes:D.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:L.FORCE,prefixes:D.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:L.FORCE,prefixes:D.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:L.FORCE,prefixes:D.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:L.FORCE,prefixes:D.LONG,value:4448.2216,offset:0},J:{name:"J",base:L.ENERGY,prefixes:D.SHORT,value:1,offset:0},joule:{name:"joule",base:L.ENERGY,prefixes:D.SHORT,value:1,offset:0},erg:{name:"erg",base:L.ENERGY,prefixes:D.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:L.ENERGY,prefixes:D.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:L.ENERGY,prefixes:D.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:L.ENERGY,prefixes:D.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:L.ENERGY,prefixes:D.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:L.POWER,prefixes:D.SHORT,value:1,offset:0},watt:{name:"W",base:L.POWER,prefixes:D.LONG,value:1,offset:0},hp:{name:"hp",base:L.POWER,prefixes:D.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:L.POWER,prefixes:D.SHORT,value:e.I,offset:0},VA:{name:"VA",base:L.POWER,prefixes:D.SHORT,value:1,offset:0},Pa:{name:"Pa",base:L.PRESSURE,prefixes:D.SHORT,value:1,offset:0},psi:{name:"psi",base:L.PRESSURE,prefixes:D.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:L.PRESSURE,prefixes:D.NONE,value:101325,offset:0},bar:{name:"bar",base:L.PRESSURE,prefixes:D.NONE,value:1e5,offset:0},torr:{name:"torr",base:L.PRESSURE,prefixes:D.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:L.PRESSURE,prefixes:D.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:L.PRESSURE,prefixes:D.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:L.PRESSURE,prefixes:D.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:L.ELECTRIC_CHARGE,prefixes:D.LONG,value:1,offset:0},C:{name:"C",base:L.ELECTRIC_CHARGE,prefixes:D.SHORT,value:1,offset:0},farad:{name:"farad",base:L.ELECTRIC_CAPACITANCE,prefixes:D.LONG,value:1,offset:0},F:{name:"F",base:L.ELECTRIC_CAPACITANCE,prefixes:D.SHORT,value:1,offset:0},volt:{name:"volt",base:L.ELECTRIC_POTENTIAL,prefixes:D.LONG,value:1,offset:0},V:{name:"V",base:L.ELECTRIC_POTENTIAL,prefixes:D.SHORT,value:1,offset:0},ohm:{name:"ohm",base:L.ELECTRIC_RESISTANCE,prefixes:D.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:L.ELECTRIC_INDUCTANCE,prefixes:D.LONG,value:1,offset:0},H:{name:"H",base:L.ELECTRIC_INDUCTANCE,prefixes:D.SHORT,value:1,offset:0},siemens:{name:"siemens",base:L.ELECTRIC_CONDUCTANCE,prefixes:D.LONG,value:1,offset:0},S:{name:"S",base:L.ELECTRIC_CONDUCTANCE,prefixes:D.SHORT,value:1,offset:0},weber:{name:"weber",base:L.MAGNETIC_FLUX,prefixes:D.LONG,value:1,offset:0},Wb:{name:"Wb",base:L.MAGNETIC_FLUX,prefixes:D.SHORT,value:1,offset:0},tesla:{name:"tesla",base:L.MAGNETIC_FLUX_DENSITY,prefixes:D.LONG,value:1,offset:0},T:{name:"T",base:L.MAGNETIC_FLUX_DENSITY,prefixes:D.SHORT,value:1,offset:0},b:{name:"b",base:L.BIT,prefixes:D.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:L.BIT,prefixes:D.BINARY_LONG,value:1,offset:0},B:{name:"B",base:L.BIT,prefixes:D.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:L.BIT,prefixes:D.BINARY_LONG,value:8,offset:0}},_={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};function E(e){"BigNumber"===e.number?(e=X.pi(I.BigNumber),J.rad.value=new I.BigNumber(1),J.deg.value=e.div(180),J.grad.value=e.div(200),J.cycle.value=e.times(2),J.arcsec.value=e.div(648e3),J.arcmin.value=e.div(10800)):(J.rad.value=1,J.deg.value=Math.PI/180,J.grad.value=Math.PI/200,J.cycle.value=2*Math.PI,J.arcsec.value=Math.PI/648e3,J.arcmin.value=Math.PI/10800)}E(g),i.on("config",function(e,t){e.number!==t.number&&E(e)});var k={si:{NONE:{unit:N,prefix:D.NONE[""]},LENGTH:{unit:J.m,prefix:D.SHORT[""]},MASS:{unit:J.g,prefix:D.SHORT.k},TIME:{unit:J.s,prefix:D.SHORT[""]},CURRENT:{unit:J.A,prefix:D.SHORT[""]},TEMPERATURE:{unit:J.K,prefix:D.SHORT[""]},LUMINOUS_INTENSITY:{unit:J.cd,prefix:D.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:J.mol,prefix:D.SHORT[""]},ANGLE:{unit:J.rad,prefix:D.SHORT[""]},BIT:{unit:J.bit,prefix:D.SHORT[""]},FORCE:{unit:J.N,prefix:D.SHORT[""]},ENERGY:{unit:J.J,prefix:D.SHORT[""]},POWER:{unit:J.W,prefix:D.SHORT[""]},PRESSURE:{unit:J.Pa,prefix:D.SHORT[""]},ELECTRIC_CHARGE:{unit:J.C,prefix:D.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:J.F,prefix:D.SHORT[""]},ELECTRIC_POTENTIAL:{unit:J.V,prefix:D.SHORT[""]},ELECTRIC_RESISTANCE:{unit:J.ohm,prefix:D.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:J.H,prefix:D.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:J.S,prefix:D.SHORT[""]},MAGNETIC_FLUX:{unit:J.Wb,prefix:D.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:J.T,prefix:D.SHORT[""]},FREQUENCY:{unit:J.Hz,prefix:D.SHORT[""]}}};k.cgs=JSON.parse(JSON.stringify(k.si)),k.cgs.LENGTH={unit:J.m,prefix:D.SHORT.c},k.cgs.MASS={unit:J.g,prefix:D.SHORT[""]},k.cgs.FORCE={unit:J.dyn,prefix:D.SHORT[""]},k.cgs.ENERGY={unit:J.erg,prefix:D.NONE[""]},k.us=JSON.parse(JSON.stringify(k.si)),k.us.LENGTH={unit:J.ft,prefix:D.NONE[""]},k.us.MASS={unit:J.lbm,prefix:D.NONE[""]},k.us.TEMPERATURE={unit:J.degF,prefix:D.NONE[""]},k.us.FORCE={unit:J.lbf,prefix:D.NONE[""]},k.us.ENERGY={unit:J.BTU,prefix:D.BTU[""]},k.us.POWER={unit:J.hp,prefix:D.NONE[""]},k.us.PRESSURE={unit:J.psi,prefix:D.NONE[""]},k.auto=JSON.parse(JSON.stringify(k.si));var q,R=k.auto;for(j in b.setUnitSystem=function(e){if(!k.hasOwnProperty(e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(k).join(", "));R=k[e]},b.getUnitSystem=function(){for(var e in k)if(k[e]===R)return e},b.typeConverters={BigNumber:function(e){return new I.BigNumber(e+"")},Fraction:function(e){return new I.Fraction(e)},Complex:function(e){return e},number:function(e){return e}},b._getNumberConverter=function(e){if(!b.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return b.typeConverters[e]},J)(F=J[j]).dimensions=F.base.dimensions;for(q in _)if(_.hasOwnProperty(q)){var F,j,V={};for(j in F=J[_[q]])F.hasOwnProperty(j)&&(V[j]=F[j]);V.name=q,J[q]=V}return b.createUnit=function(e,t){if("object"!=typeof e)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var i in e)if(e.hasOwnProperty(i)&&b.deleteUnit(i),e[i].aliases)for(var n=0;n<e[i].aliases.length;n++)b.deleteUnit(e[i].aliases[n]);var a;for(i in e)e.hasOwnProperty(i)&&(a=b.createUnitSingle(i,e[i]));return a},b.createUnitSingle=function(t,e,i){if(null==e&&(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(J.hasOwnProperty(t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var i=e.charAt(t),n=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!n(i))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(0<t&&!(n(i)||"0"<=(i=i)&&i<="9"))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(t);var n,a=null,r=[],o=0;if(e&&"Unit"===e.type)a=e.clone();else if("string"==typeof e)""!==e&&(n=e);else{if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');n=e.definition,l=e.prefixes,o=e.offset,e.aliases&&(r=e.aliases.valueOf())}if(r)for(var s=0;s<r.length;s++)if(J.hasOwnProperty(r[s]))throw new Error('Cannot create alias "'+r[s]+'": a unit with that name already exists');if(n&&"string"==typeof n&&!a)try{a=b.parse(n,{allowNoUnits:!0})}catch(e){throw e.message='Could not create unit "'+t+'" from "'+n+'": '+e.message,e}else n&&"Unit"===n.type&&(a=n.clone());var r=r||[],o=o||0,l=l&&l.toUpperCase&&D[l.toUpperCase()]||D.NONE,h={};if(a){var h={name:t,value:a.value,dimensions:a.dimensions.slice(0),prefixes:l,offset:o},c=!1;for(s in L)if(L.hasOwnProperty(s)){for(var u=!0,d=0;d<P.length;d++)if(1e-12<Math.abs((h.dimensions[d]||0)-(L[s].dimensions[d]||0))){u=!1;break}if(u){c=!0;break}}c||(f=t+"_STUFF",(I={dimensions:a.dimensions.slice(0)}).key=f,L[f]=I,R[f]={unit:h,prefix:D.NONE[""]},h.base=f)}else{var p,f=t+"_STUFF";if(0<=P.indexOf(f))throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');for(p in P.push(f),L)L.hasOwnProperty(p)&&(L[p].dimensions[P.length-1]=0);for(var I={dimensions:[]},s=0;s<P.length;s++)I.dimensions[s]=0;I.dimensions[P.length-1]=1,I.key=f,L[f]=I,h={name:t,value:1,dimensions:L[f].dimensions.slice(0),prefixes:l,offset:o,base:f},R[f]={unit:h,prefix:D.NONE[""]}}b.UNITS[t]=h;for(s=0;s<r.length;s++){var g,m=r[s],y={};for(g in h)h.hasOwnProperty(g)&&(y[g]=h[g]);y.name=m,b.UNITS[m]=y}return new b(null,t)},b.deleteUnit=function(e){delete b.UNITS[e]},b.PREFIXES=D,b.BASE_DIMENSIONS=P,b.BASE_UNITS=L,b.UNIT_SYSTEMS=k,b.UNITS=J,b},t.math=!0},function(e,t,i){"use strict";var r=i(13);t.name="unit",t.factory=function(i,e,t,n){var a=n("unit",{Unit:function(e){return e.clone()},string:function(e){return i.Unit.isValuelessUnit(e)?new i.Unit(null,e):i.Unit.parse(e)},"number | BigNumber | Fraction | Complex, string":function(e,t){return new i.Unit(e,t)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},a}},function(e,t,i){"use strict";i(13);t.name="createUnit",t.factory=function(a,e,t,i){return i("createUnit",{"Object, Object":function(e,t){return a.Unit.createUnit(e,t)},Object:function(e){return a.Unit.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,i){var n={};return n[e]=t,a.Unit.createUnit(n,i)},"string, Unit | string | Object":function(e,t){var i={};return i[e]=t,a.Unit.createUnit(i,{})},string:function(e){var t={};return t[e]={},a.Unit.createUnit(t,{})}})}},function(e,t,i){"use strict";i(13);t.name="splitUnit",t.factory=function(e,t,i,n){return n("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}})}},function(e,t,i){var n=i(28).lazy;function o(e,t,i){n(e,t,i),n(e.expression.mathWithTransform,t,i)}t.factory=function(t,e,i,n,a){function r(e){e=t.Unit.parse(e);return e.fixPrefix=!0,e}o(a,"speedOfLight",function(){return r("299792458 m s^-1")}),o(a,"gravitationConstant",function(){return r("6.6738480e-11 m^3 kg^-1 s^-2")}),o(a,"planckConstant",function(){return r("6.626069311e-34 J s")}),o(a,"reducedPlanckConstant",function(){return r("1.05457172647e-34 J s")}),o(a,"magneticConstant",function(){return r("1.2566370614e-6 N A^-2")}),o(a,"electricConstant",function(){return r("8.854187817e-12 F m^-1")}),o(a,"vacuumImpedance",function(){return r("376.730313461 ohm")}),o(a,"coulomb",function(){return r("8.9875517873681764e9 N m^2 C^-2")}),o(a,"elementaryCharge",function(){return r("1.60217656535e-19 C")}),o(a,"bohrMagneton",function(){return r("9.2740096820e-24 J T^-1")}),o(a,"conductanceQuantum",function(){return r("7.748091734625e-5 S")}),o(a,"inverseConductanceQuantum",function(){return r("12906.403721742 ohm")}),o(a,"magneticFluxQuantum",function(){return r("2.06783375846e-15 Wb")}),o(a,"nuclearMagneton",function(){return r("5.0507835311e-27 J T^-1")}),o(a,"klitzing",function(){return r("25812.807443484 ohm")}),o(a,"bohrRadius",function(){return r("5.291772109217e-11 m")}),o(a,"classicalElectronRadius",function(){return r("2.817940326727e-15 m")}),o(a,"electronMass",function(){return r("9.1093829140e-31 kg")}),o(a,"fermiCoupling",function(){return r("1.1663645e-5 GeV^-2")}),o(a,"fineStructure",function(){return.007297352569824}),o(a,"hartreeEnergy",function(){return r("4.3597443419e-18 J")}),o(a,"protonMass",function(){return r("1.67262177774e-27 kg")}),o(a,"deuteronMass",function(){return r("3.3435830926e-27 kg")}),o(a,"neutronMass",function(){return r("1.6749271613e-27 kg")}),o(a,"quantumOfCirculation",function(){return r("3.636947552024e-4 m^2 s^-1")}),o(a,"rydberg",function(){return r("10973731.56853955 m^-1")}),o(a,"thomsonCrossSection",function(){return r("6.65245873413e-29 m^2")}),o(a,"weakMixingAngle",function(){return.222321}),o(a,"efimovFactor",function(){return 22.7}),o(a,"atomicMass",function(){return r("1.66053892173e-27 kg")}),o(a,"avogadro",function(){return r("6.0221412927e23 mol^-1")}),o(a,"boltzmann",function(){return r("1.380648813e-23 J K^-1")}),o(a,"faraday",function(){return r("96485.336521 C mol^-1")}),o(a,"firstRadiation",function(){return r("3.7417715317e-16 W m^2")}),o(a,"loschmidt",function(){return r("2.686780524e25 m^-3")}),o(a,"gasConstant",function(){return r("8.314462175 J K^-1 mol^-1")}),o(a,"molarPlanckConstant",function(){return r("3.990312717628e-10 J s mol^-1")}),o(a,"molarVolume",function(){return r("2.241396820e-10 m^3 mol^-1")}),o(a,"sackurTetrode",function(){return-1.164870823}),o(a,"secondRadiation",function(){return r("1.438777013e-2 m K")}),o(a,"stefanBoltzmann",function(){return r("5.67037321e-8 W m^-2 K^-4")}),o(a,"wienDisplacement",function(){return r("2.897772126e-3 m K")}),o(a,"molarMass",function(){return r("1e-3 kg mol^-1")}),o(a,"molarMassC12",function(){return r("1.2e-2 kg mol^-1")}),o(a,"gravity",function(){return r("9.80665 m s^-2")}),o(a,"planckLength",function(){return r("1.61619997e-35 m")}),o(a,"planckMass",function(){return r("2.1765113e-8 kg")}),o(a,"planckTime",function(){return r("5.3910632e-44 s")}),o(a,"planckCharge",function(){return r("1.87554595641e-18 C")}),o(a,"planckTemperature",function(){return r("1.41683385e+32 K")})},t.lazy=!1,t.math=!0},function(e,t,l){"use strict";var n=l(28),h=l(305);function c(e,t,i){e[t]=i,e.expression.mathWithTransform[t]=i}function u(e,t,i){n.lazy(e,t,i),n.lazy(e.expression.mathWithTransform,t,i)}t.factory=function i(n,a,r,o,s){s.on("config",function(e,t){e.number!==t.number&&i(n,a,r,o,s)}),c(s,"true",!0),c(s,"false",!1),c(s,"null",null),c(s,"uninitialized",l(14).UNINITIALIZED),"BigNumber"===a.number?(c(s,"Infinity",new n.BigNumber(1/0)),c(s,"NaN",new n.BigNumber(NaN)),u(s,"pi",function(){return h.pi(n.BigNumber)}),u(s,"tau",function(){return h.tau(n.BigNumber)}),u(s,"e",function(){return h.e(n.BigNumber)}),u(s,"phi",function(){return h.phi(n.BigNumber)}),u(s,"E",function(){return s.e}),u(s,"LN2",function(){return new n.BigNumber(2).ln()}),u(s,"LN10",function(){return new n.BigNumber(10).ln()}),u(s,"LOG2E",function(){return new n.BigNumber(1).div(new n.BigNumber(2).ln())}),u(s,"LOG10E",function(){return new n.BigNumber(1).div(new n.BigNumber(10).ln())}),u(s,"PI",function(){return s.pi}),u(s,"SQRT1_2",function(){return new n.BigNumber("0.5").sqrt()}),u(s,"SQRT2",function(){return new n.BigNumber(2).sqrt()})):(c(s,"Infinity",1/0),c(s,"NaN",NaN),c(s,"pi",Math.PI),c(s,"tau",2*Math.PI),c(s,"e",Math.E),c(s,"phi",1.618033988749895),c(s,"E",s.e),c(s,"LN2",Math.LN2),c(s,"LN10",Math.LN10),c(s,"LOG2E",Math.LOG2E),c(s,"LOG10E",Math.LOG10E),c(s,"PI",s.pi),c(s,"SQRT1_2",Math.SQRT1_2),c(s,"SQRT2",Math.SQRT2)),c(s,"i",n.Complex.I),c(s,"version",l(550))},t.lazy=!1,t.math=!0},function(e,t){e.exports="3.20.2"},function(e,t,i){e.exports=[i(309),i(744),i(749),i(751),i(762),i(120),i(322)]},function(e,t){e.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},function(e,t){e.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(e,t){e.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(e,t){e.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},function(e,t){e.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(e,t){e.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(e,t){e.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},function(e,t){e.exports={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},function(e,t){e.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},function(e,t){e.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},function(e,t){e.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(e,t){e.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(e,t){e.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(e,t){e.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(e,t){e.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(e,t){e.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(e,t){e.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(e,t){e.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(e,t){e.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(e,t){e.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(e,t){e.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(e,t){e.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]}},function(e,t){e.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(e,t){e.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(e,t){e.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(e,t){e.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(e,t){e.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(e,t){e.exports={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]}},function(e,t){e.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},function(e,t){e.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},function(e,t){e.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},function(e,t){e.exports={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]}},function(e,t){e.exports={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]}},function(e,t){e.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},function(e,t){e.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},function(e,t){e.exports={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},function(e,t){e.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(e,t){e.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},function(e,t){e.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},function(e,t){e.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(e,t){e.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(e,t){e.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(e,t){e.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(e,t){e.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(e,t){e.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(e,t){e.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},function(e,t){e.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(e,t){e.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(e,t){e.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(e,t){e.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},function(e,t){e.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(e,t){e.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},function(e,t){e.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(e,t){e.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(e,t){e.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(e,t){e.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']}},function(e,t){e.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},function(e,t){e.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},function(e,t){e.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(e,t){e.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(e,t){e.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},function(e,t){e.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(e,t){e.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(e,t){e.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(e,t){e.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(e,t){e.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(e,t){e.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(e,t){e.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(e,t){e.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(e,t){e.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(e,t){e.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},function(e,t){e.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(e,t){e.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(e,t){e.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},function(e,t){e.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},function(e,t){e.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},function(e,t){e.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(e,t){e.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(e,t){e.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(e,t){e.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(e,t){e.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(e,t){e.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(e,t){e.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},function(e,t){e.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},function(e,t){e.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(e,t){e.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},function(e,t){e.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(e,t){e.exports={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]}},function(e,t){e.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(e,t){e.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(e,t){e.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(e,t){e.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(e,t){e.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(e,t){e.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},function(e,t){e.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]}},function(e,t){e.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(e,t){e.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},function(e,t){e.exports={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},function(e,t){e.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}},function(e,t){e.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(e,t){e.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(e,t){e.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(e,t){e.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(e,t){e.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(e,t){e.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(e,t){e.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(e,t){e.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(e,t){e.exports={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},function(e,t){e.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(e,t){e.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(e,t){e.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},function(e,t){e.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(e,t){e.exports={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(e,t){e.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural"]}},function(e,t){e.exports={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(e,t){e.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(e,t){e.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,t){e.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(e,t){e.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]}},function(e,t){e.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(e,t){e.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(e,t){e.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(e,t){e.exports={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}},function(e,t){e.exports={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}},function(e,t){e.exports={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}},function(e,t){e.exports={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}},function(e,t){e.exports={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}},function(e,t){e.exports={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}},function(e,t){e.exports={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}},function(e,t){e.exports={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}},function(e,t){e.exports={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}},function(e,t){e.exports={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}},function(e,t){e.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},function(e,t){e.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]}},function(e,t){e.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(e,t){e.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(e,t){e.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]}},function(e,t){e.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(e,t){e.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","var"]}},function(e,t){e.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(e,t){e.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(e,t){e.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(e,t){e.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(e,t){e.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(e,t){e.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(e,t){e.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(e,t){e.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(e,t){e.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]}},function(e,t){e.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]}},function(e,t){e.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(e,t){e.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(e,t){e.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(e,t){e.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]}},function(e,t){e.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(e,t){e.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]}},function(e,t){e.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(e,t){e.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(e,t){e.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(e,t){e.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(e,t){e.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(e,t){e.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(e,t){e.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(e,t){e.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(e,t){e.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(e,t){e.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(e,t){e.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(e,t){e.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(e,t){e.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(e,t){e.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(e,t){e.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(e,t){e.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(e,t){e.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(e,t){e.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(e,t){e.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(e,t){e.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},function(e,t){e.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},function(e,t){e.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(e,t){e.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(e,t){e.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},function(e,t){e.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},function(e,t,i){e.exports=[i(745),i(747),i(748),i(320),i(321)]},function(e,t,r){"use strict";var o=r(13);t.name="compile",t.factory=function(e,t,i,n){var a=i(r(120));return n("compile",{string:function(e){return a(e).compile()},"Array | Matrix":function(e){return o(e,function(e){return a(e).compile()})}})}},function(e,t,o){"use strict";var s=o(121).transform,l=o(54).setSafeProperty;t.factory=function(e,t,i,n){var a=i(o(78)),r=i(o(12));return function(e,t,i){try{if(Array.isArray(e))return r(e).subset(t,i).valueOf();if(e&&"function"==typeof e.subset)return e.subset(t,i);if("string"==typeof e)return a(e,t,i);if("object"!=typeof e)throw new TypeError("Cannot apply index: unsupported type of object");if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return l(e,t.getObjectProperty(),i),e}catch(e){throw s(e)}}}},function(e,t,r){"use strict";var o=r(13);t.name="eval",t.factory=function(e,t,i,n){var a=i(r(120));return n("compile",{string:function(e){return a(e).compile().eval({})},"string, Object":function(e,t){return a(e).compile().eval(t)},"Array | Matrix":function(e){var t={};return o(e,function(e){return a(e).compile().eval(t)})},"Array | Matrix, Object":function(e,t){return o(e,function(e){return a(e).compile().eval(t)})}})}},function(e,t,n){"use strict";var s=n(54).getSafeProperty;t.math=!0,t.name="help",t.factory=function(a,e,t,i,r){var o=t(n(309));return i("help",{any:function(e){var t,i=e;if("string"!=typeof e)for(t in r)if(r.hasOwnProperty(t)&&e===r[t]){i=t;break}var n=s(o,i);if(!n)throw new Error('No documentation found on "'+i+'"');return new a.Help(n)}})}},function(e,t,i){e.exports=[i(312),i(239),i(314),i(315),i(316),i(137),i(237),i(317),i(162),i(56),i(319),i(161),i(185),i(238),i(107),i(750)]},function(e,t,i){"use strict";t.name="UpdateNode",t.path="expression.node",t.factory=function(e,t,i,n){return function(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}}},function(e,t,i){e.exports=[i(752),i(753),i(754),i(755),i(756),i(757),i(758),i(759),i(760),i(761)]},function(e,t,r){"use strict";var o=r(121).transform;t.name="concat",t.path="expression.transform",t.factory=function(n,e,t,i){var a=t(r(186));return i("concat",{"...any":function(e){var t=e.length-1,i=e[t];n.isNumber(i)?e[t]=i-1:n.isBigNumber(i)&&(e[t]=i.minus(1));try{return a.apply(null,e)}catch(e){throw o(e)}}})}},function(e,t,l){"use strict";var i=l(14).filter,h=l(14).filterRegExp,r=l(103).maxArgumentCount;function c(e,n){var a=r(n);return i(e,function(e,t,i){return 1===a?n(e):2===a?n(e,[t+1]):n(e,[t+1],i)})}t.name="filter",t.path="expression.transform",t.factory=function(r,e,t,i){var o=t(l(240)),n=t(l(12));function a(e,t,i){var n,a;return e[0]&&(n=e[0].compile().eval(i)),e[1]&&(a=r.isSymbolNode(e[1])||r.isFunctionAssignmentNode(e[1])?e[1].compile().eval(i):o(e[1],t,i)),s(n,a)}a.rawArgs=!0;var s=i("filter",{"Array, function":c,"Matrix, function":function(e,t){return n(c(e.toArray(),t))},"Array, RegExp":h,"Matrix, RegExp":function(e,t){return n(h(e.toArray(),t))}});return s.toTex=void 0,a}},function(e,t,a){"use strict";var l=a(103).maxArgumentCount,h=a(14).forEach;t.name="forEach",t.path="expression.transform",t.factory=function(r,e,t,i){var o=t(a(240));function n(e,t,i){var n,a;return e[0]&&(n=e[0].compile().eval(i)),e[1]&&(a=r.isSymbolNode(e[1])||r.isFunctionAssignmentNode(e[1])?e[1].compile().eval(i):o(e[1],t,i)),s(n,a)}n.rawArgs=!0;var s=i("forEach",{"Array | Matrix, function":function(t,n){var a=l(n),r=function(e,i){Array.isArray(e)?h(e,function(e,t){r(e,i.concat(t+1))}):1===a?n(e):2===a?n(e,i):n(e,i,t)};r(t.valueOf(),[])}});return n}},function(e,t,i){"use strict";t.name="index",t.path="expression.transform",t.factory=function(r,e,t){return function(){for(var e=[],t=0,i=arguments.length;t<i;t++){var n=arguments[t];if(r.isRange(n))n.start--,n.end-=0<n.step?0:2;else if(n&&!0===n.isSet)n=n.map(function(e){return e-1});else if(r.isArray(n)||r.isMatrix(n))n=n.map(function(e){return e-1});else if(r.isNumber(n))n--;else if(r.isBigNumber(n))n=n.toNumber()-1;else if("string"!=typeof n)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[t]=n}var a=new r.Index;return r.Index.apply(a,e),a}}},function(e,t,l){"use strict";var i=l(103).maxArgumentCount,o=l(14).map;function h(e,t,a){var r=i(t);return function i(e,n){return Array.isArray(e)?o(e,function(e,t){return i(e,n.concat(t+1))}):1===r?t(e):2===r?t(e,n):t(e,n,a)}(e,[])}t.name="map",t.path="expression.transform",t.factory=function(r,e,t,i){var o=t(l(240)),n=t(l(12));function a(e,t,i){var n,a;return e[0]&&(n=e[0].compile().eval(i)),e[1]&&(a=r.isSymbolNode(e[1])||r.isFunctionAssignmentNode(e[1])?e[1].compile().eval(i):o(e[1],t,i)),s(n,a)}a.rawArgs=!0;var s=i("map",{"Array, function":function(e,t){return h(e,t,e)},"Matrix, function":function(e,t){return n(h(e.valueOf(),t,e))}});return a}},function(e,t,r){"use strict";var o=r(121).transform,s=r(138);t.name="max",t.path="expression.transform",t.factory=function(i,e,t,n){var a=t(r(323));return n("max",{"...any":function(e){var t;2==e.length&&s(e[0])&&(t=e[1],i.isNumber(t)?e[1]=t-1:i.isBigNumber(t)&&(e[1]=t.minus(1)));try{return a.apply(null,e)}catch(e){throw o(e)}}})}},function(e,t,r){"use strict";var o=r(121).transform,s=r(138);t.name="mean",t.path="expression.transform",t.factory=function(i,e,t,n){var a=t(r(324));return n("mean",{"...any":function(e){var t;2==e.length&&s(e[0])&&(t=e[1],i.isNumber(t)?e[1]=t-1:i.isBigNumber(t)&&(e[1]=t.minus(1)));try{return a.apply(null,e)}catch(e){throw o(e)}}})}},function(e,t,r){"use strict";var o=r(121).transform,s=r(138);t.name="min",t.path="expression.transform",t.factory=function(i,e,t,n){var a=t(r(327));return n("min",{"...any":function(e){var t;2==e.length&&s(e[0])&&(t=e[1],i.isNumber(t)?e[1]=t-1:i.isBigNumber(t)&&(e[1]=t.minus(1)));try{return a.apply(null,e)}catch(e){throw o(e)}}})}},function(e,t,r){"use strict";t.name="range",t.path="expression.transform",t.factory=function(e,t,i,n){var a=i(r(328));return n("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),a.apply(null,e)}})}},function(e,t,r){"use strict";var o=r(121).transform;t.name="subset",t.path="expression.transform",t.factory=function(e,t,i,n){var a=i(r(78));return n("subset",{"...any":function(e){try{return a.apply(null,e)}catch(e){throw o(e)}}})}},function(e,t,a){"use strict";var s=a(28),l=a(40);t.name="Help",t.path="type",t.factory=function(r,e,t,i){var o=t(a(321))();function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},t="\n";if(e.name&&(t+="Name: "+e.name+"\n\n"),e.category&&(t+="Category: "+e.category+"\n\n"),e.description&&(t+="Description:\n    "+e.description+"\n\n"),e.syntax&&(t+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){t+="Examples:\n";for(var i=0;i<e.examples.length;i++){var n,a=e.examples[i];t+="    "+a+"\n";try{n=o.eval(a)}catch(e){n=e}void 0===n||r.isHelp(n)||(t+="        "+l.format(n,{precision:14})+"\n")}t+="\n"}return e.seealso&&e.seealso.length&&(t+="See also: "+e.seealso.join(", ")+"\n"),t},n.prototype.toJSON=function(){var e=s.clone(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t,i={};for(t in e)"mathjs"!==t&&(i[t]=e[t]);return new n(i)},n.prototype.valueOf=n.prototype.toString,n}},function(e,t,i){e.exports=[i(764),i(784),i(803),i(816),i(820),i(824),i(827),i(831),i(844),i(853),i(856),i(864),i(866),i(872),i(874),i(899),i(901)]},function(e,t,i){e.exports=[i(765),i(241),i(767),i(768),i(336),i(337),i(342),i(782),i(343)]},function(e,t,h){"use strict";t.name="derivative",t.factory=function(s,c,e,t){var n=e(h(120)),a=e(h(241)),u=e(h(137)),d=e(h(162)),p=e(h(161)),i=e(h(185)),f=e(h(107)),r=t("derivative",{"Node, SymbolNode, Object":function(e,t,i){var n={};l(n,e,t.name);n=I(e,n);return i.simplify?a(n):n},"Node, SymbolNode":function(e,t){return r(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return r(n(e),t)},"string, SymbolNode, Object":function(e,t,i){return r(n(e),t,i)},"string, string":function(e,t){return r(n(e),n(t))},"string, string, Object":function(e,t,i){return r(n(e),n(t),i)},"Node, string":function(e,t){return r(e,n(t))},"Node, string, Object":function(e,t,i){return r(e,n(t),i)}});r._simplify=!0,r.toTex=function(e){return o.apply(null,e.args)};var o=t("_derivTex",{"Node, SymbolNode":function(e,t){return o(e.toString(),t.toString(),1)},"Node, SymbolNode, ConstantNode":function(e,t,i){return o(e.toString(),t.name,i.value)},"string, string, number":function(e,t,i){i=1===i?"{d\\over d"+t+"}":"{d^{"+i+"}\\over d"+t+"^{"+i+"}}";return i+"\\left["+e+"\\right]"}}),l=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0},"Object, SymbolNode, string":function(e,t,i){return t.name!=i&&(e[t]=!0)},"Object, ParenthesisNode, string":function(e,t,i){return l(e,t.content,i)},"Object, FunctionAssignmentNode, string":function(e,t,i){return-1==t.params.indexOf(i)?e[t]=!0:l(e,t.expr,i)},"Object, FunctionNode | OperatorNode, string":function(e,t,i){if(0!=t.args.length){for(var n=l(e,t.args[0],i),a=1;a<t.args.length;++a)n=l(e,t.args[a],i)&&n;if(n)return e[t]=!0}return!1}}),I=t("_derivative",{"ConstantNode, Object":function(e){return new u("0",e.valueType)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?new u("0",c.number):new u("1",c.number)},"ParenthesisNode, Object":function(e,t){return new i(I(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?new u("0",c.number):I(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!=e.args.length&&function(e){if("log"!=e.name&&"nthRoot"!=e.name||2!=e.args.length){for(var t=0;t<e.args.length;++t)e.args[t]=new u(0);throw e.compile().eval(),new Error("Expected TypeError, but none found")}}(e),void 0!==t[e])return new u("0",c.number);var i,n,a,r=e.args[0],o=!1,s=!1;switch(e.name){case"cbrt":o=!0,n=new p("*","multiply",[new u("3",c.number),new p("^","pow",[r,new p("/","divide",[new u("2",c.number),new u("3",c.number)])])]);break;case"sqrt":case"nthRoot":if(1!=e.args.length)return t[i=new p("/","divide",[new u("1",c.number),e.args[1]])]=t[e.args[1]],I(new p("^","pow",[r,i]),t);o=!0,n=new p("*","multiply",[new u("2",c.number),new d("sqrt",[r])]);break;case"log10":i=new u("10",c.number);case"log":if(i||1!=e.args.length){if(!i&&void 0===t[e.args[1]])return I(new p("/","divide",[new d("log",[r]),new d("log",[e.args[1]])]),t);n=new p("*","multiply",[r.clone(),new d("log",[i||e.args[1]])])}else n=r.clone();o=!0;break;case"exp":n=new d("exp",[r.clone()]);break;case"sin":n=new d("cos",[r.clone()]);break;case"cos":n=new p("-","unaryMinus",[new d("sin",[r.clone()])]);break;case"tan":n=new p("^","pow",[new d("sec",[r.clone()]),new u("2",c.number)]);break;case"sec":n=new p("*","multiply",[e,new d("tan",[r.clone()])]);break;case"csc":s=!0,n=new p("*","multiply",[e,new d("cot",[r.clone()])]);break;case"cot":s=!0,n=new p("^","pow",[new d("csc",[r.clone()]),new u("2",c.number)]);break;case"asin":o=!0,n=new d("sqrt",[new p("-","subtract",[new u("1",c.number),new p("^","pow",[r.clone(),new u("2",c.number)])])]);break;case"acos":s=o=!0,n=new d("sqrt",[new p("-","subtract",[new u("1",c.number),new p("^","pow",[r.clone(),new u("2",c.number)])])]);break;case"atan":o=!0,n=new p("+","add",[new p("^","pow",[r.clone(),new u("2",c.number)]),new u("1",c.number)]);break;case"asec":o=!0,n=new p("*","multiply",[new d("abs",[r.clone()]),new d("sqrt",[new p("-","subtract",[new p("^","pow",[r.clone(),new u("2",c.number)]),new u("1",c.number)])])]);break;case"acsc":s=o=!0,n=new p("*","multiply",[new d("abs",[r.clone()]),new d("sqrt",[new p("-","subtract",[new p("^","pow",[r.clone(),new u("2",c.number)]),new u("1",c.number)])])]);break;case"acot":s=o=!0,n=new p("+","add",[new p("^","pow",[r.clone(),new u("2",c.number)]),new u("1",c.number)]);break;case"sinh":n=new d("cosh",[r.clone()]);break;case"cosh":n=new d("sinh",[r.clone()]);break;case"tanh":n=new p("^","pow",[new d("sech",[r.clone()]),new u("2",c.number)]);break;case"sech":s=!0,n=new p("*","multiply",[e,new d("tanh",[r.clone()])]);break;case"csch":s=!0,n=new p("*","multiply",[e,new d("coth",[r.clone()])]);break;case"coth":s=!0,n=new p("^","pow",[new d("csch",[r.clone()]),new u("2",c.number)]);break;case"asinh":o=!0,n=new d("sqrt",[new p("+","add",[new p("^","pow",[r.clone(),new u("2",c.number)]),new u("1",c.number)])]);break;case"acosh":o=!0,n=new d("sqrt",[new p("-","subtract",[new p("^","pow",[r.clone(),new u("2",c.number)]),new u("1",c.number)])]);break;case"atanh":o=!0,n=new p("-","subtract",[new u("1",c.number),new p("^","pow",[r.clone(),new u("2",c.number)])]);break;case"asech":s=o=!0,n=new p("*","multiply",[r.clone(),new d("sqrt",[new p("-","subtract",[new u("1",c.number),new p("^","pow",[r.clone(),new u("2",c.number)])])])]);break;case"acsch":s=o=!0,n=new p("*","multiply",[new d("abs",[r.clone()]),new d("sqrt",[new p("+","add",[new p("^","pow",[r.clone(),new u("2",c.number)]),new u("1",c.number)])])]);break;case"acoth":s=o=!0,n=new p("-","subtract",[new u("1",c.number),new p("^","pow",[r.clone(),new u("2",c.number)])]);break;case"abs":n=new p("/","divide",[new d(new f("abs"),[r.clone()]),r.clone()]);break;default:throw new Error('Function "'+e.name+'" not supported by derivative')}var l=o?(a="/","divide"):(a="*","multiply"),h=I(r,t);return s&&(h=new p("-","unaryMinus",[h])),new p(a,l,[h,n])},"OperatorNode, Object":function(e,i){if(void 0!==i[e])return new u("0",c.number);var t=e.args[0],n=e.args[1];switch(e.op){case"+":return new p(e.op,e.fn,e.args.map(function(e){return I(e,i)}));case"-":return 1==e.args.length?new p(e.op,e.fn,[I(t,i)]):new p(e.op,e.fn,[I(t,i),I(n,i)]);case"*":var a=e.args.filter(function(e){return void 0!==i[e]});if(0<a.length){var r=e.args.filter(function(e){return void 0===i[e]}),r=1===r.length?r[0]:new p("*","multiply",r),r=a.concat(I(r,i));return new p("*","multiply",r)}return new p("+","add",e.args.map(function(t){return new p("*","multiply",e.args.map(function(e){return e===t?I(e,i):e.clone()}))}));case"/":return void 0!==i[n]?new p("/","divide",[I(t,i),n]):void 0!==i[t]?new p("*","multiply",[new p("-","unaryMinus",[t]),new p("/","divide",[I(n,i),new p("^","pow",[n.clone(),new u("2",c.number)])])]):new p("/","divide",[new p("-","subtract",[new p("*","multiply",[I(t,i),n.clone()]),new p("*","multiply",[t.clone(),I(n,i)])]),new p("^","pow",[n.clone(),new u("2",c.number)])]);case"^":if(void 0!==i[t])return!s.isConstantNode(t)||"0"!==t.value&&"1"!==t.value?new p("*","multiply",[e,new p("*","multiply",[new d("log",[t.clone()]),I(n.clone(),i)])]):new u("0",c.number);if(void 0===i[n])return new p("*","multiply",[new p("^","pow",[t.clone(),n.clone()]),new p("+","add",[new p("*","multiply",[I(t,i),new p("/","divide",[n.clone(),t.clone()])]),new p("*","multiply",[I(n,i),new d("log",[t.clone()])])])]);if(s.isConstantNode(n)){var o=n.value;if("0"===o)return new u("0",c.number);if("1"===o)return I(t,i)}o=new p("^","pow",[t.clone(),new p("-","subtract",[n,new u("1",c.number)])]);return new p("*","multiply",[n.clone(),new p("*","multiply",[I(t,i),o])]);default:throw new Error('Operator "'+e.op+'" not supported by derivative')}}});return r}},function(e,t,i){"use strict";t.math=!0,t.name="resolve",t.path="algebra.simplify",t.factory=function(r,e,t,i,o){var s=o.expression.node.Node,l=o.expression.node.OperatorNode,h=o.expression.node.FunctionNode,c=o.expression.node.ParenthesisNode;return function t(e,i){if(!i)return e;if(r.isSymbolNode(e)){var n=i[e.name];if(n instanceof s)return t(n,i);if("number"==typeof n)return o.parse(String(n))}else{if(r.isOperatorNode(e)){var a=e.args.map(function(e){return t(e,i)});return new l(e.op,e.fn,a)}if(r.isParenthesisNode(e))return new c(t(e.content,i));if(r.isFunctionNode(e))return a=e.args.map(function(e){return t(e,i)}),new h(e.name,a)}return e}}},function(e,t,o){"use strict";t.name="rationalize",t.factory=function(e,t,i,n){var p=i(o(241)),f=i(o(331)),I=i(o(329)),g=o(134),a=i(o(320)),m=o(17),y=i(o(137)),v=i(o(161)),d=i(o(107)),r=n("rationalize",{string:function(e){return r(a(e),{},!1)},"string, boolean":function(e,t){return r(a(e),{},t)},"string, Object":function(e,t){return r(a(e),t,!1)},"string, Object, boolean":function(e,t,i){return r(a(e),t,i)},Node:function(e){return r(e,{},!1)},"Node, boolean":function(e,t){return r(e,{},t)},"Node, Object":function(e,t){return r(e,t,!1)},"Node, Object, boolean":function(e,t,i){var n,a=function(e,t,i){var o=[],t=p(e,t),s="+-*"+((i=!!i)?"/":"");!function e(t){var i=t.type;{if("FunctionNode"===i)throw new g("There is an unsolved function call");if("OperatorNode"===i)if("^"===t.op){if("ConstantNode"!==t.args[1].type||!m.isInteger(parseFloat(t.args[1].value)))throw new g("There is a non-integer exponent");e(t.args[0])}else{if(-1===s.indexOf(t.op))throw new g("Operator "+t.op+" invalid in polynomial expression");for(var n=0;n<t.args.length;n++)e(t.args[n])}else if("SymbolNode"===i){var a=t.name,r=o.indexOf(a);-1===r&&o.push(a)}else if("ParenthesisNode"===i)e(t.content);else if("ConstantNode"!==i)throw new g("type "+i+" is not allowed in polynomial expression")}}(t);i={};return i.expression=t,i.variables=o,i}(e,t,!0),r=a.variables.length,e=a.expression;if(1<=r){var o=((d={}).firstRules=(n=[f,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},I,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}]).concat(u=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],t=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}]),d.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],d.sucDivRules=t,d.firstRulesAgain=n.concat(u),d.finalRules=[f,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},I,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],d);e=function e(t,i,n){var a=t.type;var r=1<arguments.length;{var o,s;"OperatorNode"===a&&(o=!1,"^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(s=parseFloat(t.args[1].value),o=2<=s&&m.isInteger(s))),o&&(t=2<s?(o=t.args[0],s=new v("^","pow",[t.args[0].cloneDeep(),new y(s-1)]),new v("*","multiply",[o,s])):new v("*","multiply",[t.args[0],t.args[0].cloneDeep()]),r&&("content"===n?i.content=t:i.args[n]=t)))}if("ParenthesisNode"===a)e(t.content,t,"content");else if("ConstantNode"!==a&&"SymbolNode"!==a)for(var l=0;l<t.args.length;l++)e(t.args[l],t,l);if(!r)return t}(e);var s,l,h=!0,c=!0;for((e=p(e,o.firstRules)).toString();;){if(l=c?o.distrDivRules:o.sucDivRules,c=!c,(l=(e=p(e,l)).toString())===s)break;h=!0,s=l}h&&(e=p(e,o.firstRulesAgain)),e=p(e,o.finalRules)}var u=[],d={};return"OperatorNode"===e.type&&"/"===e.op?(1==r&&(e.args[0]=C(e.args[0],u),e.args[1]=C(e.args[1])),i&&(d.numerator=e.args[0],d.denominator=e.args[1])):(1==r&&(e=C(e,u)),i&&(d.numerator=e,d.denominator=null)),i?(d.coefficients=u,d.variables=a.variables,d.expression=e,d):e}});function C(e,s){var t={cte:1,oper:"+",fire:""},l=(s=void 0===s?[]:s)[0]=0,h="";!function e(t,i,n){var a=t.type;{if("FunctionNode"===a)throw new g("There is an unsolved function call");if("OperatorNode"===a){if(-1==="+-*^".indexOf(t.op))throw new g("Operator "+t.op+" invalid");if(null!==i){if(("unaryMinus"===t.fn||"pow"===t.fn)&&"add"!==i.fn&&"subtract"!==i.fn&&"multiply"!==i.fn)throw new g("Invalid "+t.op+" placing");if(("subtract"===t.fn||"add"===t.fn||"multiply"===t.fn)&&"add"!==i.fn&&"subtract"!==i.fn)throw new g("Invalid "+t.op+" placing");if(("subtract"===t.fn||"add"===t.fn||"unaryMinus"===t.fn)&&0!==n.noFil)throw new g("Invalid "+t.op+" placing")}"^"!==t.op&&"*"!==t.op||(n.fire=t.op);for(var r=0;r<t.args.length;r++)"unaryMinus"===t.fn&&(n.oper="-"),"+"!==t.op&&"subtract"!==t.fn||(n.fire="",n.cte=1,n.oper=0===r?"+":t.op),n.noFil=r,e(t.args[r],t,n)}else if("SymbolNode"===a){if(t.name!==h&&""!==h)throw new g("There is more than one variable");if(h=t.name,null===i)return void(s[1]=1);if("^"===i.op&&0!==n.noFil)throw new g("In power the variable should be the first parameter");if("*"===i.op&&1!==n.noFil)throw new g("In multiply the variable should be the second parameter");""!==n.fire&&"*"!==n.fire||(l<1&&(s[1]=0),s[1]+=n.cte*("+"===n.oper?1:-1),l=Math.max(1,l))}else{if("ConstantNode"!==a)throw new g("Type "+a+" is not allowed");var o=parseFloat(t.value);if(null===i)return void(s[0]=o);if("^"===i.op){if(1!==n.noFil)throw new g("Constant cannot be powered");if(!m.isInteger(o)||o<=0)throw new g("Non-integer exponent is not allowed");for(r=l+1;r<o;r++)s[r]=0;return l<o&&(s[o]=0),s[o]+=n.cte*("+"===n.oper?1:-1),void(l=Math.max(o,l))}n.cte=o,""===n.fire&&(s[0]+=n.cte*("+"===n.oper?1:-1))}}return}(e,null,t);for(var i,n,a,r,o,c=!0,u=l=s.length-1;0<=u;u--)0!==s[u]&&(i=new y(c?s[u]:Math.abs(s[u])),n=s[u]<0?"-":"+",0<u&&(r=new d(h),1<u&&(a=new y(u),r=new v("^","pow",[r,a])),i=-1===s[u]&&c?new v("-","unaryMinus",[r]):1===Math.abs(s[u])?r:new v("*","multiply",[i,r])),o=c?i:"+"==n?new v("+","add",[o,i]):new v("-","subtract",[o,i]),c=!1);return c?new y(0):o}return r}},function(e,t,s){"use strict";t.name="qr",t.factory=function(e,t,i,n){var a=i(s(12)),m=i(s(119)),y=i(s(184)),v=(i(s(332)),i(s(242))),C=(i(s(163)),i(s(333))),M=(i(s(89)),i(s(334))),b=i(s(140)),x=i(s(335)),O=i(s(106)),A=i(s(62)),T=i(s(55)),S=i(s(73)),w=i(s(72)),n=n("qr",{DenseMatrix:function(e){return r(e)},SparseMatrix:function(e){return o(e)},Array:function(e){e=a(e),e=r(e);return{Q:e.Q.valueOf(),R:e.R.valueOf()}}}),r=function(e){for(var t=e._size[0],i=e._size[1],n=y([t],"dense"),a=n._data,e=e.clone(),r=e._data,o=m([t],""),s=0;s<Math.min(i,t);++s){var l=r[s][s],h=O(M(l)),c=x(h),u=0;for(p=s;p<t;p++)u=A(u,S(r[p][s],x(r[p][s])));h=S(h,b(u));if(!v(h)){for(var d=w(l,h),p=s+(o[s]=1);p<t;p++)o[p]=T(r[p][s],d);for(var f,I=O(x(T(d,h))),g=s;g<i;g++){for(f=0,p=s;p<t;p++)f=A(f,S(x(o[p]),r[p][g]));for(f=S(f,I),p=s;p<t;p++)r[p][g]=S(w(r[p][g],S(o[p],f)),c)}for(p=0;p<t;p++){for(f=0,g=s;g<t;g++)f=A(f,S(a[p][g],o[g]));for(f=S(f,I),g=s;g<t;++g)a[p][g]=T(w(a[p][g],S(f,x(o[g]))),c)}}}for(p=0;p<t;++p)for(g=0;g<p&&g<i;++g){if(C(0,T(r[p][g],1e5)))throw new Error("math.qr(): unknown error - R is not lower triangular (element ("+p+", "+g+")  = "+r[p][g]+")");r[p][g]=S(r[p][g],0)}return{Q:n,R:e,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}},o=function(e){throw new Error("qr not implemented for sparse matrices yet")};return n}},function(e,t,n){"use strict";t.name="cs_sqr",t.path="sparse",t.factory=function(e,t,i){var s=i(n(770)),l=i(n(772)),h=i(n(773)),c=i(n(774)),u=i(n(775));return function(e,t,i){var n,a=t._ptr,r=t._size[1],o={};if(o.q=s(e,t),e&&!o.q)return null;if(i){e=e?l(t,null,o.q,0):t;o.parent=h(e,1);t=c(o.parent,r);if(o.cp=u(e,o.parent,t,1),e&&o.parent&&o.cp&&function(e,t){var i=e._ptr,n=e._index,a=e._size,r=a[0],o=a[1];t.pinv=[],t.leftmost=[];for(var s=t.parent,l=t.pinv,h=t.leftmost,c=[],u=0,d=r,p=r+o,f=r+2*o,I,g,m,y,v,g=0;g<o;g++){c[d+g]=-1;c[p+g]=-1;c[f+g]=0}for(I=0;I<r;I++)h[I]=-1;for(g=o-1;g>=0;g--)for(y=i[g],v=i[g+1],m=y;m<v;m++)h[n[m]]=g;for(I=r-1;I>=0;I--){l[I]=-1;g=h[I];if(g==-1)continue;if(c[f+g]++===0)c[p+g]=I;c[u+I]=c[d+g];c[d+g]=I}for(t.lnz=0,t.m2=r,g=0;g<o;g++){I=c[d+g];t.lnz++;if(I<0)I=t.m2++;l[I]=g;if(--f[g]<=0)continue;t.lnz+=c[f+g];var C=s[g];if(C!=-1){if(c[f+C]===0)c[p+C]=c[p+g];c[u+c[p+g]]=c[d+C];c[d+C]=c[u+I];c[f+C]+=c[f+g]}}for(I=0;I<r;I++)if(l[I]<0)l[I]=g++;return true}(e,o))for(n=o.unz=0;n<r;n++)o.unz+=o.cp[n]}else o.unz=4*a[r]+r,o.lnz=o.unz;return o}}},function(e,t,n){"use strict";t.name="cs_amd",t.path="sparse",t.factory=function(e,t,i){function Y(e,t){return e!=t}var Q=i(n(243)),$=i(n(771)),ee=i(n(338)),te=i(n(71)),ie=i(n(51)),ne=i(n(189)),ae=function(e,t,i,n,a){if(e<2||e+t<0){for(var r=0;r<a;r++)0!==i[n+r]&&(i[n+r]=1);e=2}return e};return function(e,t){if(!t||e<=0||3<e)return null;var i=t._size,n=i[0],a=i[1],r=0,i=Math.max(16,10*Math.sqrt(a)),n=function(e,t,i,n,a){var r=ne(t);if(e===1&&n===i)return te(t,r);if(2!=e)return ie(r,t);for(var o=r._index,s=r._ptr,l=0,h=0;h<i;h++){var c=s[h];s[h]=l;if(s[h+1]-c>a)continue;for(var u=s[h+1];c<u;c++)o[l++]=o[c]}return s[i]=l,t=ne(r),ie(r,t)}(e,t,n,a,i=Math.min(a-2,i));$(n,Y,null);for(var o,s,l,h,c,u,d,p,f,I,g,m=n._index,y=n._ptr,v=y[a],C=[],M=[],b=a+1,x=2*(a+1),O=3*(a+1),A=4*(a+1),T=5*(a+1),S=6*(a+1),w=7*(a+1),B=C,D=function(e,t,i,n,a,r,o,s,l,h,c,u){for(var d=0;d<e;d++)i[n+d]=t[d+1]-t[d];for(var p=i[n+e]=0;p<=e;p++){i[a+p]=-1;r[p]=-1;i[o+p]=-1;i[s+p]=-1;i[l+p]=1;i[h+p]=1;i[c+p]=0;i[u+p]=i[n+p]}var f=ae(0,0,i,h,e);return i[c+e]=-2,t[e]=-1,i[h+e]=0,f}(a,y,M,0,O,B,x,w,b,S,A,T),P=function(e,t,i,n,a,r,o,s,l,h,c){for(var u=0,d=0;d<e;d++){var p=i[n+d];if(p===0){i[a+d]=-2;u++;t[d]=-1;i[r+d]=0}else if(p>o){i[s+d]=0;i[a+d]=-1;u++;t[d]=Q(e);i[s+e]++}else{var f=i[l+p];if(f!=-1)h[f]=d;i[c+d]=i[l+p];i[l+p]=d}}return u}(a,y,M,T,A,S,i,b,O,B,x),L=0;P<a;){for(s=-1;L<a&&-1==(s=M[O+L]);L++);-1!=M[x+s]&&(B[M[x+s]]=-1),M[O+L]=M[x+s];var N=M[A+s],J=M[b+s];P+=J;var _=0;M[b+s]=-J;for(var E,k,q=y[s],R=0===N?q:v,F=R,j=1;j<=N+1;j++){for(c=N<j?(h=q,M[0+(k=s)]-N):(h=y[k=m[q++]],M[0+k]),l=1;l<=c;l++)(V=M[b+(o=m[h++])])<=0||(_+=V,M[b+o]=-V,-1!=M[x+(m[F++]=o)]&&(B[M[x+o]]=B[o]),-1!=B[o]?M[x+B[o]]=M[x+o]:M[O+M[T+o]]=M[x+o]);k!=s&&(y[k]=Q(s),M[S+k]=0)}for(0!==N&&(v=F),M[T+s]=_,y[s]=R,M[0+s]=F-R,M[A+s]=-2,D=ae(D,r,M,S,a),u=R;u<F;u++)if(!((d=M[A+(o=m[u])])<=0))for(var V,H=D-(V=-M[b+o]),q=y[o],G=y[o]+d-1;q<=G;q++)M[S+(k=m[q])]>=D?M[S+k]-=V:0!==M[S+k]&&(M[S+k]=M[T+k]+H);for(u=R;u<F;u++){for(p=(G=y[o=m[u]])+M[A+o]-1,g=I=0,q=f=G;q<=p;q++)0!==M[S+(k=m[q])]&&(0<(E=M[S+k]-D)?(g+=E,I+=m[f++]=k):(y[k]=Q(s),M[S+k]=0));M[A+o]=f-G+1;var z=f,X=G+M[0+o];for(q=1+p;q<X;q++){var W,Z=M[b+(W=m[q])];Z<=0||(g+=Z,I+=m[f++]=W)}0===g?(y[o]=Q(s),_-=V=-M[b+o],J+=V,P+=V,M[b+o]=0,M[A+o]=-1):(M[T+o]=Math.min(M[T+o],g),m[f]=m[z],m[z]=m[G],m[G]=s,M[0+o]=f-G+1,M[x+o]=M[w+(I=(I<0?-I:I)%a)],B[M[w+I]=o]=I)}for(M[T+s]=_,r=Math.max(r,_),D=ae(D+r,r,M,S,a),u=R;u<F;u++)if(!(0<=M[b+(o=m[u])]))for(o=M[w+(I=B[o])],M[w+I]=-1;-1!=o&&-1!=M[x+o];o=M[x+o],D++){for(c=M[0+o],d=M[A+o],q=y[o]+1;q<=y[o]+c-1;q++)M[S+m[q]]=D;var U=o;for(W=M[x+o];-1!=W;){var K=M[0+W]===c&&M[A+W]===d;for(q=y[W]+1;K&&q<=y[W]+c-1;q++)M[S+m[q]]!=D&&(K=0);K?(y[W]=Q(o),M[b+o]+=M[b+W],M[b+W]=0,M[A+W]=-1,W=M[x+W],M[x+U]=W):W=M[x+(U=W)]}}for(u=q=R;u<F;u++)(V=-M[b+(o=m[u])])<=0||(M[b+o]=V,g=M[T+o]+_-V,-1!=M[O+(g=Math.min(g,a-P-V))]&&(B[M[O+g]]=o),M[x+o]=M[O+g],B[o]=-1,M[O+g]=o,L=Math.min(L,g),M[T+o]=g,m[q++]=o);M[b+s]=J,0==(M[0+s]=q-R)&&(y[s]=-1,M[S+s]=0),0!==N&&(v=q)}for(o=0;o<a;o++)y[o]=Q(y[o]);for(W=0;W<=a;W++)M[O+W]=-1;for(W=a;0<=W;W--)0<M[b+W]||(M[x+W]=M[O+y[W]],M[O+y[W]]=W);for(k=a;0<=k;k--)M[b+k]<=0||-1!=y[k]&&(M[x+k]=M[O+y[k]],M[O+y[k]]=k);for(o=s=0;o<=a;o++)-1==y[o]&&(s=ee(o,s,M,O,x,C,S));return C.splice(C.length-1,1),C}}},function(e,t,i){"use strict";t.name="cs_fkeep",t.path="sparse",t.factory=function(){return function(e,t,i){for(var n=e._values,a=e._index,r=e._ptr,o=e._size[1],s=0,l=0;l<o;l++){var h=r[l];for(r[l]=s;h<r[l+1];h++)t(a[h],l,n?n[h]:1,i)&&(a[s]=a[h],n&&(n[s]=n[h]),s++)}return r[o]=s,a.splice(s,a.length-s),n&&n.splice(s,n.length-s),s}}},function(e,t,i){"use strict";t.name="cs_permute",t.path="sparse",t.factory=function(e){var M=e.SparseMatrix;return function(e,t,i,n){for(var a=e._values,r=e._index,o=e._ptr,s=e._size,l=e._datatype,h=s[0],c=s[1],u=n&&e._values?[]:null,d=[],p=[],f=0,I=0;I<c;I++){p[I]=f;for(var g=i?i[I]:I,m=o[g],y=o[g+1],v=m;v<y;v++){var C=t?t[r[v]]:r[v];d[f]=C,u&&(u[f]=a[v]),f++}}return p[c]=f,new M({values:u,index:d,ptr:p,size:[h,c],datatype:l})}}},function(e,t,i){"use strict";t.name="cs_etree",t.path="sparse",t.factory=function(){return function(e,t){if(!e)return null;var i,n=e._index,a=e._ptr,e=e._size,r=e[0],o=e[1],s=[],l=[],h=o;if(t)for(I=0;I<r;I++)l[h+I]=-1;for(var c=0;c<o;c++){s[c]=-1,l[0+c]=-1;for(var u=a[c],d=a[c+1],p=u;p<d;p++){for(var f=n[p],I=t?l[h+f]:f;-1!=I&&I<c;I=i)i=l[0+I],l[0+I]=c,-1==i&&(s[I]=c);t&&(l[h+f]=c)}}return s}}},function(e,t,n){"use strict";t.name="cs_post",t.path="sparse",t.factory=function(e,t,i){var l=i(n(338));return function(e,t){if(!e)return null;for(var i=0,n=[],a=[],r=t,o=2*t,s=0;s<t;s++)a[0+s]=-1;for(s=t-1;0<=s;s--)-1!=e[s]&&(a[r+s]=a[0+e[s]],a[0+e[s]]=s);for(s=0;s<t;s++)-1==e[s]&&(i=l(s,i,a,0,r,n,o));return n}}},function(e,t,n){"use strict";t.name="cs_counts",t.path="sparse",t.factory=function(e,t,i){var A=i(n(189)),T=i(n(776));return function(e,t,i,n){if(!e||!t||!i)return null;for(var a,r,o,s,l,h=e._size,c=h[0],u=h[1],d=4*u+(n?u+c+1:0),p=[],f=u,I=2*u,g=3*u,m=4*u,y=5*u+1,v=0;v<d;v++)p[v]=-1;var C=[],e=A(e),M=e._index,b=e._ptr;for(v=0;v<u;v++)for(C[a=i[v]]=-1==p[g+a]?1:0;-1!=a&&-1==p[g+a];a=t[a])p[g+a]=v;if(n){for(v=0;v<u;v++)p[i[v]]=v;for(x=0;x<c;x++){for(v=u,s=b[x],l=b[x+1],o=s;o<l;o++)v=Math.min(v,p[M[o]]);p[y+x]=p[m+v],p[m+v]=x}}for(x=0;x<u;x++)p[0+x]=x;for(v=0;v<u;v++){for(-1!=t[a=i[v]]&&C[t[a]]--,r=n?p[m+v]:a;-1!=r;r=n?p[y+r]:-1)for(o=b[r];o<b[r+1];o++){var x=M[o],O=T(x,a,p,g,f,I,0);1<=O.jleaf&&C[a]++,2==O.jleaf&&C[O.q]--}-1!=t[a]&&(p[0+a]=t[a])}for(a=0;a<u;a++)-1!=t[a]&&(C[t[a]]+=C[a]);return C}}},function(e,t,i){"use strict";t.name="cs_leaf",t.path="sparse",t.factory=function(){return function(e,t,i,n,a,r,o){var s,l,h,c=0;if(e<=t||i[n+t]<=i[a+e])return-1;if(i[a+e]=i[n+t],n=i[r+e],i[r+e]=t,-1===n)c=1,h=e;else{for(c=2,h=n;h!=i[o+h];h=i[o+h]);for(s=n;s!=h;s=l)l=i[o+s],i[o+s]=h}return{jleaf:c,q:h}}}},function(e,t,n){"use strict";t.name="cs_lu",t.path="sparse",t.factory=function(e,t,i){var T=i(n(89)),S=i(n(55)),w=i(n(51)),B=i(n(105)),D=i(n(339)),P=i(n(778)),L=e.SparseMatrix;return function(e,t,i){if(!e)return null;var n,a=e._size[1],r=100,o=100;t&&(n=t.q,r=t.lnz||r,o=t.unz||o);var s=[],l=[],h=[],c=new L({values:s,index:l,ptr:h,size:[a,a]}),u=[],d=[],p=[],t=new L({values:u,index:d,ptr:p,size:[a,a]}),f=[],I=[],g=[];for(v=0;v<a;v++)I[v]=0,f[v]=-1,h[v+1]=0;for(var r=0,o=0,m=0;m<a;m++){h[m]=r,p[m]=o;for(var y,v,C=n?n[m]:m,M=P(c,e,C,g,I,f,1),b=-1,x=-1,O=M;O<a;O++)f[v=g[O]]<0?(y=T(I[v]),B(y,x)&&(x=y,b=v)):(d[o]=f[v],u[o++]=I[v]);if(-1==b||x<=0)return null;var A=I[b=f[C]<0&&D(T(I[C]),w(x,i))?C:b];for(d[o]=m,u[o++]=A,f[b]=m,l[r]=b,s[r++]=1,O=M;O<a;O++)f[v=g[O]]<0&&(l[r]=v,s[r++]=S(I[v],A)),I[v]=0}for(h[a]=r,p[a]=o,O=0;O<r;O++)l[O]=f[l[O]];return s.splice(r,s.length-r),l.splice(r,l.length-r),u.splice(o,u.length-o),d.splice(o,d.length-o),{L:c,U:t,pinv:f}}}},function(e,t,n){"use strict";t.name="cs_spsolve",t.path="sparse",t.factory=function(e,t,i){var b=i(n(55)),x=i(n(51)),O=i(n(72)),A=i(n(779));return function(e,t,i,n,a,r,o){for(var s,l,h,c=e._values,u=e._index,d=e._ptr,p=e._size[1],f=t._values,I=t._index,g=t._ptr,t=A(e,t,i,n,r),m=t;m<p;m++)a[n[m]]=0;for(s=g[i],l=g[i+1],m=s;m<l;m++)a[I[m]]=f[m];for(var y=t;y<p;y++){var v=n[y],C=r?r[v]:v;if(!(C<0))for(s=d[C],l=d[C+1],a[v]=b(a[v],c[o?s:l-1]),m=o?s+1:s,h=o?l:l-1;m<h;m++){var M=u[m];a[M]=O(a[M],x(c[m],a[v]))}}return t}}},function(e,t,n){"use strict";t.name="cs_reach",t.path="sparse",t.factory=function(e,t,i){var p=i(n(780)),f=i(n(340)),I=i(n(341));return function(e,t,i,n,a){for(var r=e._ptr,o=e._size,s=t._index,t=t._ptr,l=o[1],h=l,o=t[i],c=t[i+1],u=o;u<c;u++){var d=s[u];f(r,d)||(h=p(d,e,h,n,a))}for(u=h;u<l;u++)I(r,n[u]);return h}}},function(e,t,n){"use strict";t.name="cs_dfs",t.path="sparse",t.factory=function(e,t,i){var f=i(n(340)),I=i(n(341)),g=i(n(781));return function(e,t,i,n,a){var r,o=t._index,s=t._ptr,l=t._size[1],h=0;for(n[0]=e;0<=h;){e=n[h];var c=a?a[e]:e;f(s,e)||(I(s,e),n[l+h]=c<0?0:g(s[c]));for(var u=1,d=n[l+h],p=c<0?0:g(s[c+1]);d<p;d++)if(r=o[d],!f(s,r)){n[l+h]=d,n[++h]=r,u=0;break}u&&(h--,n[--i]=e)}return i}}},function(e,t,a){"use strict";t.name="cs_unflip",t.path="sparse",t.factory=function(e,t,i){var n=i(a(243));return function(e){return e<0?n(e):e}}},function(e,t,p){"use strict";var f=Array.isArray;t.name="lusolve",t.factory=function(t,e,i,n){function r(e){if(t.isMatrix(e))return e;if(f(e))return a(e);throw new TypeError("Invalid Matrix LU decomposition")}var a=i(p(12)),o=i(p(336)),s=i(p(337)),l=i(p(783)),h=i(p(244)),c=i(p(343)),u=i(p(342)),n=n("lusolve",{"Array, Array | Matrix":function(e,t){e=a(e);e=o(e);return d(e.L,e.U,e.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){e=o(e);return d(e.L,e.U,e.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){e=o(e);return d(e.L,e.U,e.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,i,n){n=s(e,i,n);return d(n.L,n.U,n.p,n.q,t)},"Object, Array | Matrix":function(e,t){return d(e.L,e.U,e.p,e.q,t)}}),d=function(e,t,i,n,a){e=r(e),t=r(t),a=h(e,a,!1),i&&(a._data=l(i,a._data));a=u(e,a),a=c(t,a);return n&&(a._data=l(n,a._data)),a};return n}},function(e,t,i){"use strict";t.name="cs_ipvec",t.path="sparse",t.factory=function(){return function(e,t,i){var n,i=t.length,a=[];if(e)for(n=0;n<i;n++)a[e[n]]=t[n];else for(n=0;n<i;n++)a[n]=t[n];return a}}},function(e,t,i){e.exports=[i(89),i(71),i(62),i(785),i(786),i(787),i(139),i(344),i(788),i(789),i(790),i(306),i(791),i(792),i(793),i(794),i(346),i(796),i(797),i(51),i(798),i(799),i(136),i(307),i(334),i(140),i(800),i(72),i(106),i(801),i(802)]},function(e,t,n){"use strict";var c=n(13);var u=Math.cbrt||function(e){if(0===e)return e;var t,i=e<0;return i&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,i?-t:t};t.name="cbrt",t.factory=function(a,r,e,t){var o=e(n(106)),s=e(n(164)),l=e(n(12)),i=t("cbrt",{number:u,Complex:h,"Complex, boolean":h,BigNumber:function(e){return e.cbrt()},Unit:function(e){{if(e.value&&a.isComplex(e.value))return(n=e.clone()).value=1,(n=n.pow(1/3)).value=h(e.value),n;var t,i=s(e.value);i&&(e.value=o(e.value)),t=a.isBigNumber(e.value)?new a.BigNumber(1).div(3):a.isFraction(e.value)?new a.Fraction(1,3):1/3;var n=e.pow(t);return i&&(n.value=o(n.value)),n}},"Array | Matrix":function(e){return c(e,i,!0)}});function h(e,t){var i=e.arg()/3,n=e.abs(),e=new a.Complex(u(n),0).mul(new a.Complex(0,i).exp());if(t){i=[e,new a.Complex(u(n),0).mul(new a.Complex(0,i+2*Math.PI/3).exp()),new a.Complex(u(n),0).mul(new a.Complex(0,i-2*Math.PI/3).exp())];return"Array"===r.matrix?i:l(i)}return e}return i.toTex={1:"\\sqrt[3]{${args[0]}}"},i}},function(e,t,i){"use strict";var r=i(13);t.name="ceil",t.factory=function(e,t,i,n){var a=n("ceil",{number:Math.ceil,Complex:function(e){return e.ceil()},BigNumber:function(e){return e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},a}},function(e,t,i){"use strict";var r=i(13);t.name="cube",t.factory=function(e,t,i,n){var a=n("cube",{number:function(e){return e*e*e},Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return r(e,a,!0)},Unit:function(e){return e.pow(3)}});return a.toTex={1:"\\left(${args[0]}\\right)^3"},a}},function(e,t,p){"use strict";t.name="dotMultiply",t.factory=function(e,t,i,n){var a=i(p(12)),r=i(p(73)),o=p(23),s=i(p(83)),l=i(p(345)),h=i(p(65)),c=i(p(39)),u=i(p(35)),d=n("dotMultiply",{"any, any":r,"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?l(e,t,r,!1):s(t,e,r,!0):"sparse"===t.storage()?s(e,t,r,!1):c(e,t,r);return t},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?h:u)(e,t,r,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?h:u)(t,e,r,!0);return e},"Array, any":function(e,t){return u(a(e),t,r,!1).valueOf()},"any, Array":function(e,t){return u(a(t),e,r,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+o.operators.dotMultiply+"${args[1]}\\right)"},d}},function(e,t,f){"use strict";t.name="dotPow",t.factory=function(e,t,i,n){var a=i(f(12)),r=i(f(136)),o=f(23),s=i(f(63)),l=i(f(87)),h=i(f(65)),c=i(f(64)),u=i(f(39)),d=i(f(35)),p=n("dotPow",{"any, any":r,"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?l(e,t,r,!1):s(t,e,r,!0):"sparse"===t.storage()?s(e,t,r,!1):u(e,t,r);return t},"Array, Array":function(e,t){return p(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return p(a(e),t)},"Matrix, Array":function(e,t){return p(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?h:d)(e,t,p,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?c:d)(t,e,p,!0);return e},"Array, any":function(e,t){return d(a(e),t,p,!1).valueOf()},"any, Array":function(e,t){return d(a(t),e,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+o.operators.dotPow+"${args[1]}\\right)"},p}},function(e,t,i){"use strict";var r=i(13);t.name="exp",t.factory=function(e,t,i,n){var a=n("exp",{number:Math.exp,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\exp\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="floor",t.factory=function(e,t,i,n){var a=n("floor",{number:Math.floor,Complex:function(e){return e.floor()},BigNumber:function(e){return e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},a}},function(e,t,u){"use strict";var n=u(17).isInteger;function d(e,t){if(!n(e)||!n(t))throw new Error("Parameters in function gcd must be integer numbers");for(var i;0!=t;)i=e%t,e=t,t=i;return e<0?-e:e}t.name="gcd",t.factory=function(a,e,t,i){var n=t(u(12)),r=t(u(104)),o=t(u(232)),s=t(u(117)),l=t(u(39)),h=t(u(35)),c=i("gcd",{"number, number":d,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var i=new a.BigNumber(0);for(;!t.isZero();){var n=e.mod(t);e=t,t=n}return e.lt(i)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?o(e,t,c):r(t,e,c,!0):"sparse"===t.storage()?r(e,t,c,!1):l(e,t,c);return t},"Array, Array":function(e,t){return c(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return c(n(e),t)},"Matrix, Array":function(e,t){return c(e,n(t))},"Matrix, number | BigNumber":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,c,!1);return t},"number | BigNumber, Matrix":function(e,t){e=("sparse"===t.storage()?s:h)(t,e,c,!0);return e},"Array, number | BigNumber":function(e,t){return h(n(e),t,c,!1).valueOf()},"number | BigNumber, Array":function(e,t){return h(n(t),e,c,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,i){for(var n=c(e,t),a=0;a<i.length;a++)n=c(n,i[a]);return n}});return c.toTex="\\gcd\\left(${args}\\right)",c}},function(e,t,d){"use strict";var p=d(14).flatten;t.name="hypot",t.factory=function(e,t,i,n){var r=i(d(89)),o=i(d(62)),s=i(d(55)),l=i(d(73)),h=i(d(140)),c=i(d(118)),u=i(d(163)),a=n("hypot",{"... number | BigNumber":function(e){for(var t=0,i=0,n=0;n<e.length;n++){var a=r(e[n]);c(i,a)?(t=l(t,l(s(i,a),s(i,a))),t=o(t,1),i=a):t=o(t,u(a)?l(s(a,i),s(a,i)):a)}return l(i,h(t))},Array:function(e){return a.apply(a,p(e))},Matrix:function(e){return a.apply(a,p(e.toArray()))}});return a.toTex="\\hypot\\left(${args}\\right)",a}},function(e,t,u){"use strict";var a=u(17).isInteger;function d(e,t){if(!a(e)||!a(t))throw new Error("Parameters in function lcm must be integer numbers");if(0==e||0==t)return 0;for(var i,n=e*t;0!=t;)t=e%(i=t),e=i;return Math.abs(n/e)}t.name="lcm",t.factory=function(a,e,t,i){var n=t(u(12)),r=t(u(83)),o=t(u(190)),s=t(u(65)),l=t(u(39)),h=t(u(35)),c=i("lcm",{"number, number":d,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||t.isZero())return new a.BigNumber(0);var i=e.times(t);for(;!t.isZero();){var n=t;t=e.mod(n),e=n}return i.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?o(e,t,c):r(t,e,c,!0):"sparse"===t.storage()?r(e,t,c,!1):l(e,t,c);return t},"Array, Array":function(e,t){return c(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return c(n(e),t)},"Matrix, Array":function(e,t){return c(e,n(t))},"Matrix, number | BigNumber":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,c,!1);return t},"number | BigNumber, Matrix":function(e,t){e=("sparse"===t.storage()?s:h)(t,e,c,!0);return e},"Array, number | BigNumber":function(e,t){return h(n(e),t,c,!1).valueOf()},"number | BigNumber, Array":function(e,t){return h(n(t),e,c,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,i){for(var n=c(e,t),a=0;a<i.length;a++)n=c(n,i[a]);return n}});return c.toTex=void 0,c}},function(e,t,i){"use strict";e.exports=function(e,t,i,n,a,r,o,s,l,h,c){var u,d,p,f,I=e._values,g=e._index,e=e._ptr,m=o._index;if(n)for(d=e[t],p=e[t+1],u=d;u<p;u++)i[f=g[u]]!==r?(i[f]=r,m.push(f),h?(n[f]=l?s(I[u],c):s(c,I[u]),a[f]=r):n[f]=I[u]):(n[f]=l?s(I[u],n[f]):s(n[f],I[u]),a[f]=r);else for(d=e[t],p=e[t+1],u=d;u<p;u++)i[f=g[u]]!==r?(i[f]=r,m.push(f)):a[f]=r}},function(e,t,i){"use strict";var r=i(13);var o=Math.log10||function(e){return Math.log(e)/Math.LN10};t.name="log10",t.factory=function(t,i,e,n){var a=n("log10",{number:function(e){return 0<=e||i.predictable?o(e):new t.Complex(e,0).log().div(Math.LN10)},Complex:function(e){return new t.Complex(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||i.predictable?e.log():new t.Complex(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},a}},function(e,t,f){"use strict";t.name="mod",t.factory=function(e,t,i,n){var a=i(f(12)),r=f(23),o=i(f(83)),s=i(f(63)),l=i(f(183)),h=i(f(65)),c=i(f(64)),u=i(f(39)),d=i(f(35)),p=n("mod",{"number, number":function(e,t){{if(0<t)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}},"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?l(e,t,p,!1):o(t,e,p,!0):"sparse"===t.storage()?s(e,t,p,!1):u(e,t,p);return t},"Array, Array":function(e,t){return p(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return p(a(e),t)},"Matrix, Array":function(e,t){return p(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?h:d)(e,t,p,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?c:d)(t,e,p,!0);return e},"Array, any":function(e,t){return d(a(e),t,p,!1).valueOf()},"any, Array":function(e,t){return d(a(t),e,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+r.operators.mod+"${args[1]}\\right)"},p}},function(e,t,o){"use strict";t.name="norm",t.factory=function(e,t,i,n){var c=i(o(89)),u=i(o(71)),d=i(o(136)),p=i(o(140)),f=i(o(51)),I=i(o(47)),g=i(o(105)),m=i(o(118)),a=i(o(12)),y=i(o(347)),v=i(o(189)),r=n("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},"boolean | null":function(e){return Math.abs(e)},Array:function(e){return C(a(e),2)},Matrix:function(e){return C(e,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(e){return r(e)},"Array, number | BigNumber | string":function(e,t){return C(a(e),t)},"Matrix, number | BigNumber | string":C});function C(e,t){var i,n=e.size();if(1==n.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var a=0;return e.forEach(function(e){e=c(e);g(e,a)&&(a=e)},!0),a}if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return e.forEach(function(e){e=c(e);i&&!m(e,i)||(i=e)},!0),i||0;if("fro"===t)return C(e,2);if("number"!=typeof t||isNaN(t))throw new Error("Unsupported parameter value");if(I(t,0))return Number.POSITIVE_INFINITY;var r=0;return e.forEach(function(e){r=u(d(c(e),t),r)},!0),d(r,1/t)}if(2==n.length){if(1===t){var o=[],s=0;return e.forEach(function(e,t){t=t[1],e=u(o[t]||0,c(e));g(e,s)&&(s=e),o[t]=e},!0),s}if(t===Number.POSITIVE_INFINITY||"inf"===t){var l=[],h=0;return e.forEach(function(e,t){t=t[0],e=u(l[t]||0,c(e));g(e,h)&&(h=e),l[t]=e},!0),h}if("fro"===t)return p(y(f(v(e),e)));if(2===t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return r.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},r}},function(e,t,p){"use strict";function f(e,t){var i=t<0;if(0===(t=i?-t:t))throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==e)return i?1/0:0;if(!isFinite(e))return i?0:e;t=Math.pow(Math.abs(e),1/t),t=e<0?-t:t;return i?1/t:t}function I(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");for(var i=e.arg(),e=e.abs(),n=[],a=Math.pow(e,1/t),r=0;r<t;r++)n.push({r:a,phi:(i+2*Math.PI*r)/t});return n}t.name="nthRoot",t.factory=function(s,e,t,i){var n=t(p(12)),a=t(p(104)),r=t(p(83)),o=t(p(190)),l=t(p(65)),h=t(p(39)),c=t(p(35)),u=i("nthRoot",{number:function(e){return f(e,2)},"number, number":f,BigNumber:function(e){return d(e,new s.BigNumber(2))},Complex:function(e){return I(e,2)},"Complex, number":I,"BigNumber, BigNumber":d,"Array | Matrix":function(e){return u(e,2)},"Matrix, Matrix":function(e,t){var i;if("sparse"===e.storage())if("sparse"===t.storage()){if(1!==t.density())throw new Error("Root must be non-zero");i=o(e,t,u)}else i=r(t,e,u,!0);else if("sparse"===t.storage()){if(1!==t.density())throw new Error("Root must be non-zero");i=a(e,t,u,!1)}else i=h(e,t,u);return i},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"Matrix, number | BigNumber":function(e,t){t=("sparse"===e.storage()?l:c)(e,t,u,!1);return t},"number | BigNumber, Matrix":function(e,t){var i;if("sparse"===t.storage()){if(1!==t.density())throw new Error("Root must be non-zero");i=l(t,e,u,!0)}else i=c(t,e,u,!0);return i},"Array, number | BigNumber":function(e,t){return u(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return u(e,n(t)).valueOf()}});return u.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},u;function d(e,t){var i=s.BigNumber.precision,n=s.BigNumber.clone({precision:i+2}),a=new s.BigNumber(0),r=new n(1),o=t.isNegative();if((t=o?t.neg():t).isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return o?new n(1/0):0;if(!e.isFinite())return o?a:e;t=e.abs().pow(r.div(t)),t=e.isNeg()?t.neg():t;return new s.BigNumber((o?r.div(t):t).toPrecision(i))}}},function(e,t,i){"use strict";var r=i(13);t.name="square",t.factory=function(e,t,i,n){var a=n("square",{number:function(e){return e*e},Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return r(e,a,!0)},Unit:function(e){return e.pow(2)}});return a.toTex={1:"\\left(${args[0]}\\right)^2"},a}},function(e,t,o){"use strict";var s=o(13);t.name="unaryPlus",t.factory=function(t,i,e,n){var a=o(23),r=n("unaryPlus",{number:function(e){return e},Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return s(e,r,!0)},"boolean | string | null":function(e){return"BigNumber"==i.number?new t.BigNumber(+e):+e}});return r.toTex={1:a.operators.unaryPlus+"\\left(${args[0]}\\right)"},r}},function(e,t,i){"use strict";var c=i(17).isInteger;t.name="xgcd",t.factory=function(u,d,e,t){var p=e(i(12));return(t=t("xgcd",{"number, number":function(e,t){var i,n,a,r,o=0,s=1,l=1,h=0;if(!c(e)||!c(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)n=Math.floor(e/t),a=e-n*t,o=s-n*(i=o),s=i,l=h-n*(i=l),h=i,e=t,t=a;r=e<0?[-e,-s,-h]:[e,e?s:0,h];return"Array"===d.matrix?r:p(r)},"BigNumber, BigNumber":function(e,t){var i,n,a,r=new u.BigNumber(0),o=new u.BigNumber(1),s=r,l=o,h=o,c=r;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)n=e.div(t).floor(),a=e.mod(t),i=s,s=l.minus(n.times(s)),l=i,i=h,h=c.minus(n.times(h)),c=i,e=t,t=a;r=e.lt(r)?[e.neg(),l.neg(),c.neg()]:[e,e.isZero()?0:l,c];return"Array"===d.matrix?r:p(r)}})).toTex=void 0,t}},function(e,t,i){e.exports=[i(804),i(806),i(807),i(809),i(811),i(813),i(815)]},function(e,t,d){"use strict";var p=d(17).isInteger,f=d(805);t.name="bitAnd",t.factory=function(e,t,i,n){var a=d(23),r=i(d(12)),o=i(d(83)),s=i(d(190)),l=i(d(65)),h=i(d(39)),c=i(d(35)),u=n("bitAnd",{"number, number":function(e,t){if(!p(e)||!p(t))throw new Error("Integers expected in function bitAnd");return e&t},"BigNumber, BigNumber":f,"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?s(e,t,u,!1):o(t,e,u,!0):"sparse"===t.storage()?o(e,t,u,!1):h(e,t,u);return t},"Array, Array":function(e,t){return u(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return u(r(e),t)},"Matrix, Array":function(e,t){return u(e,r(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?l:c)(e,t,u,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?l:c)(t,e,u,!0);return e},"Array, any":function(e,t){return c(r(e),t,u,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,u,!0).valueOf()}});return u.toTex={2:"\\left(${args[0]}"+a.operators.bitAnd+"${args[1]}\\right)"},u}},function(e,t,i){var n=i(245);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var i=e.constructor;if(e.isNaN()||t.isNaN())return new i(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()==t.isNegative()?e:new i(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new i(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new i(0):e}return n(e,t,function(e,t){return e&t})}},function(e,t,o){"use strict";var s=o(13),l=o(246),h=o(17).isInteger;t.name="bitNot",t.factory=function(e,t,i,n){var a=o(23),r=n("bitNot",{number:function(e){if(!h(e))throw new Error("Integer expected in function bitNot");return~e},BigNumber:l,"Array | Matrix":function(e){return s(e,r)}});return r.toTex={1:a.operators.bitNot+"\\left(${args[0]}\\right)"},r}},function(e,t,d){"use strict";var p=d(17).isInteger,f=d(808);t.name="bitOr",t.factory=function(e,t,i,n){var a=d(23),r=i(d(12)),o=i(d(104)),s=i(d(232)),l=i(d(117)),h=i(d(39)),c=i(d(35)),u=n("bitOr",{"number, number":function(e,t){if(!p(e)||!p(t))throw new Error("Integers expected in function bitOr");return e|t},"BigNumber, BigNumber":f,"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?s(e,t,u):o(t,e,u,!0):"sparse"===t.storage()?o(e,t,u,!1):h(e,t,u);return t},"Array, Array":function(e,t){return u(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return u(r(e),t)},"Matrix, Array":function(e,t){return u(e,r(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?l:c)(e,t,u,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?l:c)(t,e,u,!0);return e},"Array, any":function(e,t){return c(r(e),t,u,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,u,!0).valueOf()}});return u.toTex={2:"\\left(${args[0]}"+a.operators.bitOr+"${args[1]}\\right)"},u}},function(e,t,i){var n=i(245);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var i=e.constructor;if(e.isNaN()||t.isNaN())return new i(NaN);i=new i(-1);return e.isZero()||t.eq(i)||e.eq(t)?t:t.isZero()||e.eq(i)?e:e.isFinite()&&t.isFinite()?n(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?i:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}},function(e,t,d){"use strict";var p=d(17).isInteger,f=d(810);t.name="bitXor",t.factory=function(e,t,i,n){var a=d(23),r=i(d(12)),o=i(d(63)),s=i(d(87)),l=i(d(64)),h=i(d(39)),c=i(d(35)),u=n("bitXor",{"number, number":function(e,t){if(!p(e)||!p(t))throw new Error("Integers expected in function bitXor");return e^t},"BigNumber, BigNumber":f,"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?s(e,t,u):o(t,e,u,!0):"sparse"===t.storage()?o(e,t,u,!1):h(e,t,u);return t},"Array, Array":function(e,t){return u(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return u(r(e),t)},"Matrix, Array":function(e,t){return u(e,r(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?l:c)(e,t,u,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?l:c)(t,e,u,!0);return e},"Array, any":function(e,t){return c(r(e),t,u,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,u,!0).valueOf()}});return u.toTex={2:"\\left(${args[0]}"+a.operators.bitXor+"${args[1]}\\right)"},u}},function(e,t,i){var a=i(245),r=i(246);e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var i=e.constructor;if(e.isNaN()||t.isNaN())return new i(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new i(0);var n=new i(-1);return e.eq(n)?r(t):t.eq(n)?r(e):e.isFinite()&&t.isFinite()?a(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new i(e.isNegative()==t.isNegative()?1/0:-1/0):n}},function(e,t,g){"use strict";var m=g(17).isInteger,y=g(812);t.name="leftShift",t.factory=function(e,t,i,n){var a=g(23),r=i(g(12)),o=i(g(47)),s=i(g(119)),l=i(g(104)),h=i(g(83)),c=i(g(247)),u=i(g(117)),d=i(g(65)),p=i(g(39)),f=i(g(35)),I=n("leftShift",{"number, number":function(e,t){if(!m(e)||!m(t))throw new Error("Integers expected in function leftShift");return e<<t},"BigNumber, BigNumber":y,"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?c(e,t,I,!1):h(t,e,I,!0):"sparse"===t.storage()?l(e,t,I,!1):p(e,t,I);return t},"Array, Array":function(e,t){return I(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return I(r(e),t)},"Matrix, Array":function(e,t){return I(e,r(t))},"Matrix, number | BigNumber":function(e,t){if(o(t,0))return e.clone();t=("sparse"===e.storage()?d:f)(e,t,I,!1);return t},"number | BigNumber, Matrix":function(e,t){if(o(e,0))return s(t.size(),t.storage());e=("sparse"===t.storage()?u:f)(t,e,I,!0);return e},"Array, number | BigNumber":function(e,t){return I(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return I(e,r(t)).valueOf()}});return I.toTex={2:"\\left(${args[0]}"+a.operators.leftShift+"${args[1]}\\right)"},I}},function(e,t){e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var i=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new i(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new i(2).pow(t)):new i(NaN)}},function(e,t,g){"use strict";var m=g(17).isInteger,y=g(814);t.name="rightArithShift",t.factory=function(e,t,i,n){var a=g(23),r=i(g(12)),o=i(g(47)),s=i(g(119)),l=i(g(104)),h=i(g(83)),c=i(g(247)),u=i(g(117)),d=i(g(65)),p=i(g(39)),f=i(g(35)),I=n("rightArithShift",{"number, number":function(e,t){if(!m(e)||!m(t))throw new Error("Integers expected in function rightArithShift");return e>>t},"BigNumber, BigNumber":y,"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?c(e,t,I,!1):h(t,e,I,!0):"sparse"===t.storage()?l(e,t,I,!1):p(e,t,I);return t},"Array, Array":function(e,t){return I(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return I(r(e),t)},"Matrix, Array":function(e,t){return I(e,r(t))},"Matrix, number | BigNumber":function(e,t){if(o(t,0))return e.clone();t=("sparse"===e.storage()?d:f)(e,t,I,!1);return t},"number | BigNumber, Matrix":function(e,t){if(o(e,0))return s(t.size(),t.storage());e=("sparse"===t.storage()?u:f)(t,e,I,!0);return e},"Array, number | BigNumber":function(e,t){return I(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return I(e,r(t)).valueOf()}});return I.toTex={2:"\\left(${args[0]}"+a.operators.rightArithShift+"${args[1]}\\right)"},I}},function(e,t){e.exports=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var i=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new i(NaN):e.isZero()||t.isZero()?e:t.isFinite()?(t.lt(55)?e.div(Math.pow(2,t.toNumber())+""):e.div(new i(2).pow(t))).floor():e.isNegative()?new i(-1):e.isFinite()?new i(0):new i(NaN)}},function(e,t,g){"use strict";var m=g(17).isInteger;t.name="rightLogShift",t.factory=function(e,t,i,n){var a=g(23),r=i(g(12)),o=i(g(47)),s=i(g(119)),l=i(g(104)),h=i(g(83)),c=i(g(247)),u=i(g(117)),d=i(g(65)),p=i(g(39)),f=i(g(35)),I=n("rightLogShift",{"number, number":function(e,t){if(!m(e)||!m(t))throw new Error("Integers expected in function rightLogShift");return e>>>t},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?c(e,t,I,!1):h(t,e,I,!0):"sparse"===t.storage()?l(e,t,I,!1):p(e,t,I);return t},"Array, Array":function(e,t){return I(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return I(r(e),t)},"Matrix, Array":function(e,t){return I(e,r(t))},"Matrix, number | BigNumber":function(e,t){if(o(t,0))return e.clone();t=("sparse"===e.storage()?d:f)(e,t,I,!1);return t},"number | BigNumber, Matrix":function(e,t){if(o(e,0))return s(t.size(),t.storage());e=("sparse"===t.storage()?u:f)(t,e,I,!0);return e},"Array, number | BigNumber":function(e,t){return I(r(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return I(e,r(t)).valueOf()}});return I.toTex={2:"\\left(${args[0]}"+a.operators.rightLogShift+"${args[1]}\\right)"},I}},function(e,t,i){e.exports=[i(817),i(818),i(348),i(819)]},function(e,t,l){"use strict";t.name="bellNumbers",t.factory=function(e,t,i,n){var a=i(l(71)),r=i(l(348)),o=i(l(164)),s=i(l(141));return(n=n("bellNumbers",{"number | BigNumber":function(e){if(!s(e)||o(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,i=0;i<=e;i++)t=a(t,r(e,i));return t}})).toTex={1:"\\mathrm{B}_{${args[0]}}"},n}},function(e,t,h){"use strict";t.name="composition",t.factory=function(e,t,i,n){var a=i(h(192)),r=i(h(62)),o=i(h(163)),s=i(h(141)),l=i(h(105));return(n=n("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(s(e)&&o(e)&&s(t)&&o(t)))throw new TypeError("Positive integer value expected in function composition");if(l(t,e))throw new TypeError("k must be less than or equal to n in function composition");return a(r(e,-1),r(t,-1))}})).toTex=void 0,n}},function(e,t,c){"use strict";t.name="catalan",t.factory=function(e,t,i,n){var a=i(c(71)),r=i(c(139)),o=i(c(51)),s=i(c(192)),l=i(c(164)),h=i(c(141));return(n=n("catalan",{"number | BigNumber":function(e){if(!h(e)||l(e))throw new TypeError("Non-negative integer value expected in function catalan");return r(s(o(e,2),e),a(e,1))}})).toTex={1:"\\mathrm{C}_{${args[0]}}"},n}},function(e,t,i){e.exports=[i(821),i(335),i(822),i(823)]},function(e,t,i){"use strict";var r=i(13);t.name="arg",t.factory=function(t,e,i,n){var a=n("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return t.BigNumber.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\arg\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="im",t.factory=function(t,e,i,n){var a=n("im",{number:function(e){return 0},BigNumber:function(e){return new t.BigNumber(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},a}},function(e,t,i){"use strict";var r=i(13);t.name="re",t.factory=function(e,t,i,n){var a=n("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},a}},function(e,t,i){e.exports=[i(825),i(826)]},function(e,t,n){"use strict";t.name="intersect",t.factory=function(t,m,e,i){var y=e(n(89)),v=e(n(71)),C=e(n(62)),a=e(n(12)),M=e(n(51)),b=e(n(73)),x=e(n(55)),O=e(n(72)),A=e(n(118)),T=e(n(47)),r=i("intersect",{"Array, Array, Array":function(e,t,i){if(!w(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!(4===(d=i).length&&p(d[0])&&p(d[1])&&p(d[2])&&p(d[3])))throw new TypeError("Array with 4 numbers expected as third argument");var n,a,r,o,s,l,h,c,u,d;return n=e[0],a=e[1],r=e[2],o=t[0],s=t[1],l=t[2],h=i[0],c=i[1],u=i[2],d=i[3],e=b(n,h),t=b(o,h),i=b(a,c),h=b(s,c),c=b(r,u),u=b(l,u),c=x(O(O(O(d,e),i),c),O(O(O(C(C(t,h),u),e),i),c)),n=C(n,b(c,O(o,n))),a=C(a,b(c,O(s,a))),r=C(r,b(c,O(l,r))),[n,a,r]},"Array, Array, Array, Array":function(e,t,i,n){if(2===e.length){if(!S(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!S(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!S(i))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!S(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,i,n){var a=e,r=i,o=O(a,t),s=O(r,n),e=O(b(o[0],s[1]),b(s[0],o[1]));if(A(y(e),m.epsilon))return null;i=b(s[0],a[1]),t=b(s[1],a[0]),n=b(s[0],r[1]),r=b(s[1],r[0]),e=x(C(O(O(i,t),n),r),e);return v(M(o,e),a)}(e,t,i,n)}if(3!==e.length)throw new TypeError("Arrays with two or thee dimensional points expected");if(!w(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(i))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w(n))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return a=e[0],r=e[1],o=e[2],s=t[0],l=t[1],h=t[2],c=i[0],u=i[1],d=i[2],p=n[0],f=n[1],I=n[2],g=B(a,c,p,c,r,u,f,u,o,d,I,d),e=B(p,c,s,a,f,u,l,r,I,d,h,o),t=B(a,c,s,a,r,u,l,r,o,d,h,o),i=B(p,c,p,c,f,u,f,u,I,d,I,d),n=B(s,a,s,a,l,r,l,r,h,o,h,o),n=x(O(b(g,e),b(t,i)),O(b(n,i),b(e,e))),i=x(C(g,b(n,e)),i),a=C(a,b(n,O(s,a))),r=C(r,b(n,O(l,r))),o=C(o,b(n,O(h,o))),c=C(c,b(i,O(p,c))),u=C(u,b(i,O(f,u))),d=C(d,b(i,O(I,d))),T(a,c)&&T(r,u)&&T(o,d)?[a,r,o]:null;var a,r,o,s,l,h,c,u,d,p,f,I,g},"Matrix, Matrix, Matrix":function(e,t,i){return a(r(e.valueOf(),t.valueOf(),i.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,i,n){return a(r(e.valueOf(),t.valueOf(),i.valueOf(),n.valueOf()))}});function p(e){return"number"==typeof e||t.isBigNumber(e)}function S(e){return 2===e.length&&p(e[0])&&p(e[1])}function w(e){return 3===e.length&&p(e[0])&&p(e[1])&&p(e[2])}function B(e,t,i,n,a,r,o,s,l,h,c,u){n=b(O(e,t),O(i,n)),s=b(O(a,r),O(o,s)),u=b(O(l,h),O(c,u));return C(C(n,s),u)}return r}},function(e,t,C){"use strict";t.name="distance",t.factory=function(t,e,i,n){i(C(12));var h=i(C(62)),c=i(C(72)),u=i(C(73)),d=i(C(55)),a=i(C(106)),p=i(C(140)),r=i(C(89));function o(e){return"number"==typeof e||t.isBigNumber(e)}function s(e){return o((e=e.constructor!==Array?I(e):e)[0])&&o(e[1])}function l(e){return o((e=e.constructor!==Array?I(e):e)[0])&&o(e[1])&&o(e[2])}function f(e){return o((e=e.constructor!==Array?I(e):e)[0])&&o(e[1])&&o(e[2])&&o(e[3])&&o(e[4])&&o(e[5])}function I(e){for(var t=Object.keys(e),i=[],n=0;n<t.length;n++)i.push(e[t[n]]);return i}function g(e,t,i,n,a){a=r(h(h(u(i,e),u(n,t)),a)),n=p(h(u(i,i),u(n,n)));return d(a,n)}function m(e,t,i,n,a,r,o,s,l){t=[c(u(c(a,t),l),u(c(r,i),s)),c(u(c(r,i),o),u(c(n,e),l)),c(u(c(n,e),s),u(c(a,t),o))],t=p(h(h(u(t[0],t[0]),u(t[1],t[1])),u(t[2],t[2]))),l=p(h(h(u(o,o),u(s,s)),u(l,l)));return d(t,l)}function y(e,t,i,n){t=c(n,t),e=c(i,e),e=h(u(t,t),u(e,e));return p(e)}function v(e,t,i,n,a,r){i=c(r,i),t=c(a,t),e=c(n,e),e=h(h(u(i,i),u(t,t)),u(e,e));return p(e)}return n("distance",{"Array, Array, Array":function(e,t,i){if(2!=e.length||2!=t.length||2!=i.length)throw new TypeError("Invalid Arguments: Try again");if(!s(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!s(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!s(i))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var n=d(c(i[1],i[0]),c(t[1],t[0])),i=u(u(n,n),t[0]),n=a(u(n,t[0])),t=e[1];return g(e[0],e[1],i,n,t)},"Object, Object, Object":function(e,t,i){if(2!=Object.keys(e).length||2!=Object.keys(t).length||2!=Object.keys(i).length)throw new TypeError("Invalid Arguments: Try again");if(!s(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!s(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!s(i))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("lineOnePtX")&&t.hasOwnProperty("lineOnePtY")&&i.hasOwnProperty("lineTwoPtX")&&i.hasOwnProperty("lineTwoPtY")){var n=d(c(i.lineTwoPtY,i.lineTwoPtX),c(t.lineOnePtY,t.lineOnePtX)),i=u(u(n,n),t.lineOnePtX),n=a(u(n,t.lineOnePtX)),t=e.pointX;return g(e.pointX,e.pointY,i,n,t)}throw new TypeError("Key names do not match")},"Array, Array":function(e,t){if(2==e.length&&3==t.length){if(!s(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(e[0],e[1],t[0],t[1],t[2])}if(3==e.length&&6==t.length){if(!l(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!f(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return m(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(2==e.length&&2==t.length){if(!s(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!s(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");return y(e[0],e[1],t[0],t[1])}if(3!=e.length||3!=t.length)throw new TypeError("Invalid Arguments: Try again");if(!l(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!l(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(e[0],e[1],e[2],t[0],t[1],t[2])},"Object, Object":function(e,t){if(2==Object.keys(e).length&&3==Object.keys(t).length){if(!s(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("xCoeffLine")&&t.hasOwnProperty("yCoeffLine")&&t.hasOwnProperty("constant"))return g(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(e).length&&6==Object.keys(t).length){if(!l(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if(e.hasOwnProperty("pointX")&&e.hasOwnProperty("pointY")&&t.hasOwnProperty("x0")&&t.hasOwnProperty("y0")&&t.hasOwnProperty("z0")&&t.hasOwnProperty("a")&&t.hasOwnProperty("b")&&t.hasOwnProperty("c"))return m(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2==Object.keys(e).length&&2==Object.keys(t).length){if(!s(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!s(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY"))return y(e.pointOneX,e.pointOneY,t.pointTwoX,t.pointTwoY);throw new TypeError("Key names do not match")}if(3!=Object.keys(e).length||3!=Object.keys(t).length)throw new TypeError("Invalid Arguments: Try again");if(!l(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!l(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if(e.hasOwnProperty("pointOneX")&&e.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointOneZ")&&t.hasOwnProperty("pointTwoX")&&t.hasOwnProperty("pointTwoY")&&t.hasOwnProperty("pointTwoZ"))return v(e.pointOneX,e.pointOneY,e.pointOneZ,t.pointTwoX,t.pointTwoY,t.pointTwoZ);throw new TypeError("Key names do not match")},Array:function(e){if(!function(e){if(2==e[0].length&&o(e[0][0])&&o(e[0][1])){for(var t in e)if(2!=e[t].length||!o(e[t][0])||!o(e[t][1]))return!1}else{if(!(3==e[0].length&&o(e[0][0])&&o(e[0][1])&&o(e[0][2])))return!1;for(var t in e)if(3!=e[t].length||!o(e[t][0])||!o(e[t][1])||!o(e[t][2]))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],i=0;i<e.length-1;i++)for(var n=i+1;n<e.length;n++)2==e[0].length?t.push(y(e[i][0],e[i][1],e[n][0],e[n][1])):3==e[0].length&&t.push(v(e[i][0],e[i][1],e[i][2],e[n][0],e[n][1],e[n][2]));return t}(e)}})}},function(e,t,i){e.exports=[i(828),i(350),i(829),i(830)]},function(e,t,f){"use strict";t.name="and",t.factory=function(e,t,i,n){var a=f(23),r=i(f(12)),o=i(f(119)),s=i(f(350)),l=(i(f(242)),i(f(83))),h=i(f(190)),c=i(f(65)),u=i(f(39)),d=i(f(35)),p=n("and",{"number, number":function(e,t){return!(!e||!t)},"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return p(e.value,t.value)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?h(e,t,p,!1):l(t,e,p,!0):"sparse"===t.storage()?l(e,t,p,!1):u(e,t,p);return t},"Array, Array":function(e,t){return p(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return p(r(e),t)},"Matrix, Array":function(e,t){return p(e,r(t))},"Matrix, any":function(e,t){if(s(t))return o(e.size(),e.storage());t=("sparse"===e.storage()?c:d)(e,t,p,!1);return t},"any, Matrix":function(e,t){if(s(e))return o(e.size(),e.storage());e=("sparse"===t.storage()?c:d)(t,e,p,!0);return e},"Array, any":function(e,t){return p(r(e),t).valueOf()},"any, Array":function(e,t){return p(e,r(t)).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+a.operators.and+"${args[1]}\\right)"},p}},function(e,t,d){"use strict";t.name="or",t.factory=function(e,t,i,n){var a=d(23),r=i(d(12)),o=i(d(63)),s=i(d(183)),l=i(d(64)),h=i(d(39)),c=i(d(35)),u=n("or",{"number, number":function(e,t){return!(!e&&!t)},"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return u(e.value,t.value)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?s(e,t,u):o(t,e,u,!0):"sparse"===t.storage()?o(e,t,u,!1):h(e,t,u);return t},"Array, Array":function(e,t){return u(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return u(r(e),t)},"Matrix, Array":function(e,t){return u(e,r(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?l:c)(e,t,u,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?l:c)(t,e,u,!0);return e},"Array, any":function(e,t){return c(r(e),t,u,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,u,!0).valueOf()}});return u.toTex={2:"\\left(${args[0]}"+a.operators.or+"${args[1]}\\right)"},u}},function(e,t,d){"use strict";t.name="xor",t.factory=function(e,t,i,n){var a=d(23),r=i(d(12)),o=i(d(63)),s=i(d(87)),l=i(d(64)),h=i(d(39)),c=i(d(35)),u=n("xor",{"number, number":function(e,t){return!!e!=!!t},"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return u(e.value,t.value)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?s(e,t,u):o(t,e,u,!0):"sparse"===t.storage()?o(e,t,u,!1):h(e,t,u);return t},"Array, Array":function(e,t){return u(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return u(r(e),t)},"Matrix, Array":function(e,t){return u(e,r(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?l:c)(e,t,u,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?l:c)(t,e,u,!0);return e},"Array, any":function(e,t){return c(r(e),t,u,!1).valueOf()},"any, Array":function(e,t){return c(r(t),e,u,!0).valueOf()}});return u.toTex={2:"\\left(${args[0]}"+a.operators.xor+"${args[1]}\\right)"},u}},function(e,t,i){e.exports=[i(186),i(832),i(326),i(833),i(834),i(184),i(835),i(836),i(837),i(325),i(838),i(351),i(839),i(248),i(328),i(840),i(841),i(90),i(352),i(843),i(78),i(347),i(189),i(119)]},function(e,t,l){"use strict";var h=l(14);t.name="cross",t.factory=function(e,t,i,n){var a=i(l(12)),r=i(l(72)),o=i(l(51));return(n=n("cross",{"Matrix, Matrix":function(e,t){return a(s(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return a(s(e.toArray(),t))},"Array, Matrix":function(e,t){return a(s(e,t.toArray()))},"Array, Array":s})).toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},n;function s(e,t){var i=Math.max(h.size(e).length,h.size(t).length);e=h.squeeze(e),t=h.squeeze(t);var n=h.size(e),a=h.size(t);if(1!=n.length||1!=a.length||3!=n[0]||3!=a[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+n.join(", ")+"], B = ["+a.join(", ")+"])");t=[r(o(e[1],t[2]),o(e[2],t[1])),r(o(e[2],t[0]),o(e[0],t[2])),r(o(e[0],t[1]),o(e[1],t[0]))];return 1<i?[t]:t}}},function(e,t,a){"use strict";var r=a(14),o=(a(28).clone,a(17).isInteger);t.name="diag",t.factory=function(h,e,t,i){var c=t(a(12));return(i=i("diag",{Array:function(e){return n(e,0,r.size(e),null)},"Array, number":function(e,t){return n(e,t,r.size(e),null)},"Array, BigNumber":function(e,t){return n(e,t.toNumber(),r.size(e),null)},"Array, string":function(e,t){return n(e,0,r.size(e),t)},"Array, number, string":function(e,t,i){return n(e,t,r.size(e),i)},"Array, BigNumber, string":function(e,t,i){return n(e,t.toNumber(),r.size(e),i)},Matrix:function(e){return n(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return n(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return n(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return n(e,0,e.size(),t)},"Matrix, number, string":function(e,t,i){return n(e,t,e.size(),i)},"Matrix, BigNumber, string":function(e,t,i){return n(e,t.toNumber(),e.size(),i)}})).toTex=void 0,i;function n(e,t,i,n){if(!o(t))throw new TypeError("Second parameter in function diag must be an integer");var a=0<t?t:0,r=t<0?-t:0;switch(i.length){case 1:return function(e,t,i,n,a,r){r=[n+a,n+r],t=h.Matrix.storage(i||"dense").diagonal(r,e,t);return null!==i?t:t.valueOf()}(e,t,n,i[0],r,a);case 2:return function(e,t,i,n,a,r){if(h.isMatrix(e)){t=e.diagonal(t);return null!==i?i!==t.storage()?c(t,i):t:t.valueOf()}for(var o=Math.min(n[0]-a,n[1]-r),s=[],l=0;l<o;l++)s[l]=e[l+a][l+r];return null!==i?c(s):s}(e,t,n,i,r,a)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}},function(e,t,r){"use strict";var h=r(14).size;t.name="dot",t.factory=function(e,t,i,n){var s=i(r(71)),l=i(r(51));return(n=n("dot",{"Matrix, Matrix":function(e,t){return a(e.toArray(),t.toArray())},"Matrix, Array":function(e,t){return a(e.toArray(),t)},"Array, Matrix":function(e,t){return a(e,t.toArray())},"Array, Array":a})).toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},n;function a(e,t){var i=h(e),n=h(t),a=i[0];if(1!==i.length||1!==n.length)throw new RangeError("Vector expected");if(i[0]!=n[0])throw new RangeError("Vectors must have equal length ("+i[0]+" != "+n[0]+")");if(0==a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var r=0,o=0;o<a;o++)r=s(r,l(e[o],t[o]));return r}}},function(e,t,r){"use strict";var i=r(14).filter,o=r(14).filterRegExp,s=r(103).maxArgumentCount;function l(e,n){var a=s(n);return i(e,function(e,t,i){return 1===a?n(e):2===a?n(e,[t]):n(e,[t],i)})}t.name="filter",t.factory=function(e,t,i,n){var a=i(r(12));return(n=n("filter",{"Array, function":l,"Matrix, function":function(e,t){return a(l(e.toArray(),t))},"Array, RegExp":o,"Matrix, RegExp":function(e,t){return a(o(e.toArray(),t))}})).toTex=void 0,n}},function(e,t,r){"use strict";var o=r(28).clone,s=r(14).flatten;t.name="flatten",t.factory=function(e,t,i,n){var a=i(r(12));return(n=n("flatten",{Array:function(e){return s(o(e))},Matrix:function(e){e=s(o(e.toArray()));return a(e)}})).toTex=void 0,n}},function(e,t,i){"use strict";var o=i(103).maxArgumentCount,s=i(14).forEach;function a(t,n){function a(e,i){Array.isArray(e)?s(e,function(e,t){a(e,i.concat(t))}):1===r?n(e):2===r?n(e,i):n(e,i,t)}var r=o(n);a(t,[])}t.name="forEach",t.factory=function(e,t,i,n){return(n=n("forEach",{"Array, function":a,"Matrix, function":function(e,t){return e.forEach(t)}})).toTex=void 0,n}},function(e,t,s){"use strict";var l=s(14).size;t.name="kron",t.factory=function(e,t,i,n){var a=i(s(12)),r=i(s(73));return n("kron",{"Matrix, Matrix":function(e,t){return a(o(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return a(o(e.toArray(),t))},"Array, Matrix":function(e,t){return a(o(e,t.toArray()))},"Array, Array":o});function o(e,i){if(1===l(e).length&&(e=[e]),1===l(i).length&&(i=[i]),2<l(e).length||2<l(i).length)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(i.length)+")");var n=[],a=[];return e.map(function(t){return i.map(function(e){return t.map(function(t){return e.map(function(e){return a.push(r(t,e))})},n.push(a=[]))})},n=[])&&n}}},function(e,t,a){"use strict";var s=a(17).isInteger,l=a(14).resize;t.name="ones",t.factory=function(r,i,e,t){var o=e(a(12));return(t=t("ones",{"":function(){return"Array"===i.matrix?n([]):n([],"default")},"...number | BigNumber | string":function(e){if("string"!=typeof e[e.length-1])return"Array"===i.matrix?n(e):n(e,"default");var t=e.pop();return n(e,t)},Array:n,Matrix:function(e){var t=e.storage();return n(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return n(e.valueOf(),t)}})).toTex=void 0,t;function n(e,t){var n,i=(n=!1,e.forEach(function(e,t,i){r.isBigNumber(e)&&(n=!0,i[t]=e.toNumber())}),n)?new r.BigNumber(1):1;if(e.forEach(function(e){if("number"!=typeof e||!s(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}),t){var a=o(t);return 0<e.length?a.resize(e,i):a}a=[];return 0<e.length?l(a,e,i):a}}},function(e,t,r){"use strict";r(49);var o=r(17).isInteger,s=r(14);t.name="reshape",t.factory=function(e,t,i,n){var a=i(r(12));return(n=n("reshape",{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):a(s.reshape(e.valueOf(),t))},"Array, Array":function(e,t){return t.forEach(function(e){if(!o(e))throw new TypeError("Invalid size for dimension: "+e)}),s.reshape(e,t)}})).toTex=void 0,n}},function(e,t,n){"use strict";var s=n(49),l=n(134),h=n(17).isInteger,c=n(40).format,u=n(28).clone,d=n(14);t.name="resize",t.factory=function(a,r,e,t){function i(e,t,i){if(2!=arguments.length&&3!=arguments.length)throw new l("resize",arguments.length,2,3);if(a.isMatrix(t)&&(t=t.valueOf()),a.isBigNumber(t[0])&&(t=t.map(function(e){return a.isBigNumber(e)?e.toNumber():e})),a.isMatrix(e))return e.resize(t,i,!0);if("string"==typeof e)return function(e,t,i){if(void 0!==i){if("string"!=typeof i||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";if(1!==t.length)throw new s(t.length,1);var n=t[0];if("number"!=typeof n||!h(n))throw new TypeError("Invalid size, must contain positive integers (size: "+c(t)+")");{if(e.length>n)return e.substring(0,n);if(e.length<n){for(var a=e,r=0,o=n-e.length;r<o;r++)a+=i;return a}return e}}(e,t,i);var n=!Array.isArray(e)&&"Array"!==r.matrix;if(0!=t.length)return Array.isArray(e)||(e=[e]),e=u(e),i=d.resize(e,t,i),n?o(i):i;for(;Array.isArray(e);)e=e[0];return u(e)}var o=e(n(12));return i.toTex=void 0,i}},function(e,t){e.exports=function t(e,i){"use strict";function n(e){return t.insensitive&&(""+e).toLowerCase()||""+e}var a,r,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,s=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,h=/^0x[0-9a-f]+$/i,c=/^0/,e=n(e).replace(s,"")||"",s=n(i).replace(s,"")||"",u=e.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=s.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),e=parseInt(e.match(h),16)||1!==u.length&&e.match(l)&&Date.parse(e),s=parseInt(s.match(h),16)||e&&s.match(l)&&Date.parse(s)||null;if(s){if(e<s)return-1;if(s<e)return 1}for(var p=0,f=Math.max(u.length,d.length);p<f;p++){if(a=!(u[p]||"").match(c)&&parseFloat(u[p])||u[p]||0,r=!(d[p]||"").match(c)&&parseFloat(d[p])||d[p]||0,isNaN(a)!==isNaN(r))return isNaN(a)?1:-1;if(typeof a!=typeof r&&(a+="",r+=""),a<r)return-1;if(r<a)return 1}return 0}},function(e,t,r){"use strict";var o=r(28),s=r(14);t.name="squeeze",t.factory=function(e,t,i,n){var a=i(r(12));return(n=n("squeeze",{Array:function(e){return s.squeeze(o.clone(e))},Matrix:function(e){e=s.squeeze(e.toArray());return Array.isArray(e)?a(e):e},any:function(e){return o.clone(e)}})).toTex=void 0,n}},function(e,t,i){e.exports=[i(192),i(191),i(349),i(845),i(846),i(847),i(848),i(851),i(852)]},function(e,t,d){"use strict";t.name="kldivergence",t.factory=function(e,t,i,n){var a=i(d(12)),r=i(d(139)),o=i(d(353)),s=i(d(51)),l=i(d(344)),h=i(d(346)),c=i(d(234));function u(e,t){var i=t.size().length,n=e.size().length;if(1<i)throw new Error("first object must be one dimensional");if(1<n)throw new Error("second object must be one dimensional");if(i!==n)throw new Error("Length of two vectors must be equal");if(0===o(e))throw new Error("Sum of elements in first object must be non zero");if(0===o(t))throw new Error("Sum of elements in second object must be non zero");e=r(e,o(e)),t=r(t,o(t)),t=o(s(e,h(l(e,t))));return c(t)?t:Number.NaN}return n("kldivergence",{"Array, Array":function(e,t){return u(a(e),a(t))},"Matrix, Array":function(e,t){return u(e,a(t))},"Array, Matrix":function(e,t){return u(a(e),t)},"Matrix, Matrix":u})}},function(e,t,c){"use strict";var u=c(122);t.name="multinomial",t.factory=function(e,t,i,n){var a=i(c(71)),r=i(c(51)),o=i(c(139)),s=i(c(191)),l=i(c(141)),h=i(c(163));return n("multinomial",{"Array | Matrix":function(e){var t=0,i=1;return u(e,function(e){if(!l(e)||!h(e))throw new TypeError("Positive integer value expected in function multinomial");t=a(t,e),i=r(i,s(e))}),o(s(t),i)}})}},function(e,t,n){"use strict";var r=n(17).isInteger;function o(e){return e.isInteger()&&e.gte(0)}t.name="permutations",t.factory=function(a,e,t,i){return(t=i("permutations",{"number | BigNumber":t(n(191)),"number, number":function(e,t){var i,n;if(!r(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!r(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(e<t)throw new TypeError("second argument k must be less than or equal to first argument n");for(n=e-t+(i=1);n<=e;n++)i*=n;return i},"BigNumber, BigNumber":function(e,t){var i,n;if(!o(e)||!o(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(i=new a.BigNumber(1),n=e.minus(t).plus(1);n.lte(e);n=n.plus(1))i=i.times(n);return i}})).toTex=void 0,t}},function(e,t,a){"use strict";t.name="pickRandom",t.factory=function(e,t,i,n){return(i=i(a(249))("uniform").pickRandom).toTex=void 0,i}},function(e,t,i){"use strict";var s=i(850),l=s();t.factory=function(e,t,i,n,a){var r;function o(e){r=null===e?l:s(String(e))}return o(t.randomSeed),a.on("config",function(e,t,i){void 0!==i.randomSeed&&o(e.randomSeed)}),function(){return r()}},t.math=!0},function(a,e,t){"use strict";var r=[],o="undefined"==typeof global?window:global,s=Math.pow(256,6),l=Math.pow(2,52),h=2*l,i=Math.random;function c(e){var t,i=e.length,o=this,n=0,a=o.i=o.j=0,r=o.S=[];for(i||(e=[i++]);n<256;)r[n]=n++;for(n=0;n<256;n++)r[n]=r[a=255&a+e[n%i]+(t=r[n])],r[a]=t;(o.g=function(e){for(var t,i=0,n=o.i,a=o.j,r=o.S;e--;)t=r[n=255&n+1],i=256*i+r[255&(r[n]=r[a=255&a+t])+(r[a]=t)];return o.i=n,o.j=a,i})(256)}function u(e,t){for(var i,n=e+"",a=0;a<n.length;)t[255&a]=255&(i^=19*t[255&a])+n.charCodeAt(a++);return d(t)}function d(e){return String.fromCharCode.apply(0,e)}a.exports=function(e,t){if(t&&!0===t.global)return t.global=!1,Math.random=a.exports(e,t),t.global=!0,Math.random;var i=[],n=(u(function e(t,i){var n,a=[],r=(typeof t)[0];if(i&&"o"==r)for(n in t)try{a.push(e(t[n],i-1))}catch(e){}return a.length?a:"s"==r?t:t+"\0"}(t&&t.entropy||!1?[e,d(r)]:0 in arguments?e:function(e){try{return o.crypto.getRandomValues(e=new Uint8Array(256)),d(e)}catch(e){return[+new Date,o,o.navigator&&o.navigator.plugins,o.screen,d(r)]}}(),3),i),new c(i));return u(d(n.S),r),function(){for(var e=n.g(6),t=s,i=0;e<l;)e=256*(e+i),t*=256,i=n.g(1);for(;h<=e;)e/=2,t/=2,i>>>=1;return(e+i)/t}},a.exports.resetGlobal=function(){Math.random=i},u(Math.random(),r)},function(e,t,a){"use strict";t.name="random",t.factory=function(e,t,i,n){return(i=i(a(249))("uniform").random).toTex=void 0,i}},function(e,t,a){"use strict";t.name="randomInt",t.factory=function(e,t,i,n){return(i=i(a(249))("uniform").randomInt).toTex=void 0,i}},function(e,t,i){e.exports=[i(142),i(99),i(854),i(98),i(105),i(339),i(118),i(855),i(333)]},function(e,t,a){"use strict";t.name="deepEqual",t.factory=function(e,t,i,n){var r=i(a(98));return(n=n("deepEqual",{"any, any":function(e,t){return function e(t,i){{if(Array.isArray(t)){if(Array.isArray(i)){var n=t.length;if(n!==i.length)return!1;for(var a=0;a<n;a++)if(!e(t[a],i[a]))return!1;return!0}return!1}return!Array.isArray(i)&&r(t,i)}}(e.valueOf(),t.valueOf())}})).toTex=void 0,n}},function(e,t,u){"use strict";var d=u(17).nearlyEqual,p=u(116);t.name="smallerEq",t.factory=function(e,i,t,n){var a=t(u(12)),r=t(u(63)),o=t(u(87)),s=t(u(64)),l=t(u(39)),h=t(u(35)),t=u(23),c=n("smallerEq",{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||d(e,t,i.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||p(e,t,i.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"string, string":function(e,t){return e<=t},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?o(e,t,c):r(t,e,c,!0):"sparse"===t.storage()?r(e,t,c,!1):l(e,t,c);return t},"Array, Array":function(e,t){return c(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return c(a(e),t)},"Matrix, Array":function(e,t){return c(e,a(t))},"Matrix, any":function(e,t){t=("sparse"===e.storage()?s:h)(e,t,c,!1);return t},"any, Matrix":function(e,t){e=("sparse"===t.storage()?s:h)(t,e,c,!0);return e},"Array, any":function(e,t){return h(a(e),t,c,!1).valueOf()},"any, Array":function(e,t){return h(a(t),e,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+t.operators.smallerEq+"${args[1]}\\right)"},c}},function(e,t,i){e.exports=[i(857),i(354),i(858),i(355),i(859),i(860),i(861),i(862),i(356),i(863)]},function(e,t,a){"use strict";var d=a(14).flatten;t.name="setCartesian",t.factory=function(e,t,i,n){var s=i(a(88)),l=i(a(135)),h=i(a(90)),c=i(a(78)),u=i(a(99));return n("setCartesian",{"Array | Matrix, Array | Matrix":function(e,t){if(0===c(h(e),new s(0))||0===c(h(t),new s(0)))var i=[];else for(var n=d(Array.isArray(e)?e:e.toArray()).sort(u),a=d(Array.isArray(t)?t:t.toArray()).sort(u),i=[],r=0;r<n.length;r++)for(var o=0;o<a.length;o++)i.push([n[r],a[o]]);return Array.isArray(e)&&Array.isArray(t)?i:new l(i)}})}},function(e,t,c){"use strict";var u=c(14).flatten;t.name="setDistinct",t.factory=function(e,t,i,n){var a=i(c(98)),r=i(c(88)),o=i(c(135)),s=i(c(90)),l=i(c(78)),h=i(c(99));return n("setDistinct",{"Array | Matrix":function(e){if(0===l(s(e),new r(0)))var t=[];else{var i=u(Array.isArray(e)?e:e.toArray()).sort(h);(t=[]).push(i[0]);for(var n=1;n<i.length;n++)a(i[n],i[n-1])||t.push(i[n])}return Array.isArray(e)?t:new o(t)}})}},function(e,t,a){"use strict";var d=a(14).flatten,p=a(14).identify;t.name="setIsSubset",t.factory=function(e,t,i,n){var s=i(a(98)),l=i(a(88)),h=i(a(90)),c=i(a(78)),u=i(a(99));return n("setIsSubset",{"Array | Matrix, Array | Matrix":function(e,t){if(0===c(h(e),new l(0)))return!0;if(0===c(h(t),new l(0)))return!1;for(var i=p(d(Array.isArray(e)?e:e.toArray()).sort(u)),n=p(d(Array.isArray(t)?t:t.toArray()).sort(u)),a=0;a<i.length;a++){for(var r=!1,o=0;o<n.length;o++)if(s(i[a].value,n[o].value)&&i[a].identifier===n[o].identifier){r=!0;break}if(!1===r)return!1}return!0}})}},function(e,t,a){"use strict";var h=a(14).flatten;t.name="setMultiplicity",t.factory=function(e,t,i,n){var r=i(a(98)),o=i(a(88)),s=i(a(90)),l=i(a(78));return n("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===l(s(t),new o(0)))return 0;for(var i=h(Array.isArray(t)?t:t.toArray()),n=0,a=0;a<i.length;a++)r(i[a],e)&&n++;return n}})}},function(e,t,l){"use strict";var h=l(14).flatten;t.name="setPowerset",t.factory=function(e,t,i,n){var a=i(l(88)),r=i(l(90)),o=i(l(78)),s=i(l(99));return n("setPowerset",{"Array | Matrix":function(e){if(0===o(r(e),new a(0)))return[];for(var t=h(Array.isArray(e)?e:e.toArray()).sort(s),i=[],n=0;n.toString(2).length<=t.length;)i.push(function(e,t){for(var i=[],n=0;n<t.length;n++)"1"===t[n]&&i.push(e[n]);return i}(t,n.toString(2).split("").reverse())),n++;return function(e){for(var t=[],i=e.length-1;0<i;i--)for(var n=0;n<i;n++)e[n].length>e[n+1].length&&(t=e[n],e[n]=e[n+1],e[n+1]=t);return e}(i)}})}},function(e,t,a){"use strict";var s=a(14).flatten;t.name="setSize",t.factory=function(e,t,i,n){var r=i(a(98)),o=i(a(99));return n("setSize",{"Array | Matrix":function(e){return(Array.isArray(e)?s(e):s(e.toArray())).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return(Array.isArray(e)?s(e):s(e.toArray())).length;for(var i=s(Array.isArray(e)?e:e.toArray()).sort(o),n=1,a=1;a<i.length;a++)r(i[a],i[a-1])||n++;return n}})}},function(e,t,c){"use strict";var u=c(14).flatten;t.name="setUnion",t.factory=function(e,t,i,n){var a=i(c(88)),r=i(c(186)),o=i(c(90)),s=i(c(78)),l=i(c(355)),h=i(c(356));return n("setUnion",{"Array | Matrix, Array | Matrix":function(e,t){if(0===s(o(e),new a(0)))return u(t);if(0===s(o(t),new a(0)))return u(e);e=u(e),t=u(t);return r(h(e,t),l(e,t))}})}},function(e,t,i){e.exports=[i(865)]},function(e,t,i){"use strict";var r=i(13),o=i(17).sign;var s=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],l=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],h=Math.pow(2,53);t.name="erf",t.factory=function(t,e,i,n){var a=n("erf",{number:function(e){var t=Math.abs(e);return h<=t?o(e):t<=.46875?o(e)*function(e){var t,i=e*e,n=s[0][4]*i,a=i;for(t=0;t<3;t+=1)n=(n+s[0][t])*i,a=(a+l[0][t])*i;return e*(n+s[0][3])/(a+l[0][3])}(t):t<=4?o(e)*(1-function(e){var t,i=s[1][8]*e,n=e;for(t=0;t<7;t+=1)i=(i+s[1][t])*e,n=(n+l[1][t])*e;var a=(i+s[1][7])/(n+l[1][7]),r=parseInt(16*e)/16,o=(e-r)*(e+r);return Math.exp(-r*r)*Math.exp(-o)*a}(t)):o(e)*(1-function(e){var t,i=1/(e*e),n=s[2][5]*i,a=i;for(t=0;t<4;t+=1)n=(n+s[2][t])*i,a=(a+l[2][t])*i;var r=i*(n+s[2][4])/(a+l[2][4]);r=(.5641895835477563-r)/e,i=parseInt(16*e)/16;e=(e-i)*(e+i);return Math.exp(-i*i)*Math.exp(-e)*r}(t))},BigNumber:function(e){return new t.BigNumber(a(e.toNumber()))},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"erf\\left(${args[0]}\\right)"},a}},function(e,t,i){e.exports=[i(867),i(323),i(324),i(357),i(327),i(868),i(869),i(870),i(871),i(353),i(358)]},function(e,t,h){"use strict";var c=h(14).flatten;t.name="mad",t.factory=function(e,t,i,n){var a=i(h(89)),r=i(h(351)),o=i(h(357)),s=i(h(72));return(n=n("mad",{"Array | Matrix":l,"...":l})).toTex=void 0,n;function l(e){if(0===(e=c(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation of an empty array");var t=o(e);return o(r(e,function(e){return a(s(e,t))}))}}},function(e,t,i){"use strict";var r=i(14).flatten;t.name="mode",t.factory=function(e,t,i,n){return n("mode",{"Array | Matrix":a,"...":a});function a(e){if(0==(e=r(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");var t,i={},n=[],a=0;for(t in e)e[t]in i||(i[e[t]]=0),i[e[t]]++,i[e[t]]==a?n.push(e[t]):i[e[t]]>a&&(a=i[e[t]],n=[e[t]]);return n}}},function(e,t,o){"use strict";var s=o(122);t.name="prod",t.factory=function(e,t,i,n){var a=i(o(73));return(n=n("prod",{"Array | Matrix":r,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":r})).toTex=void 0,n;function r(e){var t=void 0;if(s(e,function(e){t=void 0===t?e:a(t,e)}),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}},function(e,t,n){"use strict";var m=n(17).isInteger,y=n(17).isNumber,v=n(14).flatten,C=n(138);t.name="quantileSeq",t.factory=function(c,e,t,i){var d=t(n(71)),p=t(n(51)),f=t(n(248)),I=t(n(142));function u(e,t,i){var n,a=v(e),e=a.length;if(0===e)throw new Error("Cannot calculate quantile of an empty sequence");if(y(t)){if(0===(c=(n=t*(e-1))%1)){var r=i?a[n]:f(a,n);return g(r),r}var o=Math.floor(n);if(i)l=a[o],h=a[o+1];else{h=f(a,o+1),l=a[o];for(var s=0;s<o;++s)0<I(a[s],l)&&(l=a[s])}return g(l),g(h),d(p(l,1-c),p(h,c))}if((n=t.times(e-1)).isInteger()){n=n.toNumber();r=i?a[n]:f(a,n);return g(r),r}var l,h,o=n.floor(),c=n.minus(o),u=o.toNumber();if(i)l=a[u],h=a[u+1];else{h=f(a,u+1),l=a[u];for(s=0;s<u;++s)0<I(a[s],l)&&(l=a[s])}g(l),g(h);i=new c.constructor(1);return d(p(l,i.minus(c)),p(h,c))}var g=i({"number | BigNumber | Unit":function(e){return e}});return function(e,t,i){var n,a;if(arguments.length<2||3<arguments.length)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(C(e)){if("boolean"!=typeof(i=i||!1))throw new TypeError("Unexpected type of argument in function quantileSeq");if(n=e.valueOf(),y(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return u(n,t,i);if(1<t){if(!m(t))throw new Error("N must be a positive integer");for(var r=t+1,o=new Array(t),s=0;s<t;)o[s]=u(n,++s/r,i);return o}}if(c.isBigNumber(t)){if(t.isNegative())throw new Error("N/prob must be non-negative");if(a=new t.constructor(1),t.lte(a))return u(n,t,i);if(t.gt(a)){if(!t.isInteger())throw new Error("N must be a positive integer");var l=t.toNumber();if(4294967295<l)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");r=new c.BigNumber(l+1);o=new Array(l);for(s=0;s<l;)o[s]=u(n,new c.BigNumber(++s).div(r),i);return o}}if(Array.isArray(t)){o=new Array(t.length);for(s=0;s<o.length;++s){var h=t[s];if(y(h)){if(h<0||1<h)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!c.isBigNumber(h))throw new TypeError("Unexpected type of argument in function quantileSeq");if(a=new h.constructor(1),h.isNegative()||h.gt(a))throw new Error("Probability must be between 0 and 1, inclusive")}o[s]=u(n,h,i)}return o}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}},function(e,t,s){"use strict";t.name="std",t.factory=function(e,t,i,n){var a=i(s(140)),r=i(s(358));return(n=n("std",{"Array | Matrix":o,"Array | Matrix, string":o,"...":function(e){return o(e)}})).toTex=void 0,n;function o(e,t){if(0==e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return a(r.apply(null,arguments))}}},function(e,t,i){e.exports=[i(308),i(873)]},function(e,t,i){"use strict";var s=i(40).isString,l=i(40).format;function a(e,r,o){return e.replace(/\$([\w\.]+)/g,function(e,t){for(var i=t.split("."),n=r[i.shift()];i.length&&void 0!==n;)var a=i.shift(),n=a?n[a]:n+".";return void 0!==n?s(n)?n:l(n,o):e})}t.name="print",t.factory=function(e,t,i,n){return(n=n("print",{"string, Object":a,"string, Object, number | Object":a})).toTex=void 0,n}},function(e,t,i){e.exports=[i(875),i(359),i(876),i(877),i(878),i(879),i(880),i(881),i(882),i(883),i(884),i(885),i(886),i(887),i(888),i(889),i(890),i(891),i(892),i(893),i(894),i(895),i(896),i(897),i(898)]},function(e,t,i){"use strict";var r=i(13);t.name="acos",t.factory=function(t,i,e,n){var a=n("acos",{number:function(e){return-1<=e&&e<=1||i.predictable?Math.acos(e):new t.Complex(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="acot",t.factory=function(t,e,i,n){var a=n("acot",{number:function(e){return Math.atan(1/e)},Complex:function(e){return e.acot()},BigNumber:function(e){return new t.BigNumber(1).div(e).atan()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="acoth",t.factory=function(t,i,e,n){var a=n("acoth",{number:function(e){return 1<=e||e<=-1||i.predictable?isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0:new t.Complex(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new t.BigNumber(1).div(e).atanh()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="acsc",t.factory=function(t,i,e,n){var a=n("acsc",{number:function(e){return e<=-1||1<=e||i.predictable?Math.asin(1/e):new t.Complex(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new t.BigNumber(1).div(e).asin()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="acsch",t.factory=function(t,e,i,n){var a=n("acsch",{number:function(e){return e=1/e,Math.log(e+Math.sqrt(e*e+1))},Complex:function(e){return e.acsch()},BigNumber:function(e){return new t.BigNumber(1).div(e).asinh()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="asec",t.factory=function(t,i,e,n){var a=n("asec",{number:function(e){return e<=-1||1<=e||i.predictable?Math.acos(1/e):new t.Complex(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new t.BigNumber(1).div(e).acos()},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,r){"use strict";var o=r(13);t.name="asech",t.factory=function(i,n,e,t){t.find(e(r(359)),["Complex"]);var a=t("asech",{number:function(e){if(e<=1&&-1<=e||n.predictable){e=1/e;var t=Math.sqrt(e*e-1);return 0<e||n.predictable?Math.log(t+e):new i.Complex(Math.log(t-e),Math.PI)}return new i.Complex(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new i.BigNumber(1).div(e).acosh()},"Array | Matrix":function(e){return o(e,a)}});return a.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="asin",t.factory=function(t,i,e,n){var a=n("asin",{number:function(e){return-1<=e&&e<=1||i.predictable?Math.asin(e):new t.Complex(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="asinh",t.factory=function(e,t,i,n){var a=n("asinh",{number:Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="atan",t.factory=function(e,t,i,n){var a=n("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,p){"use strict";t.name="atan2",t.factory=function(i,e,t,n){var a=t(p(12)),r=t(p(83)),o=t(p(63)),s=t(p(345)),l=t(p(65)),h=t(p(64)),c=t(p(39)),u=t(p(35)),d=n("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return i.BigNumber.atan2(e,t)},"Matrix, Matrix":function(e,t){t="sparse"===e.storage()?"sparse"===t.storage()?s(e,t,d,!1):r(t,e,d,!0):"sparse"===t.storage()?o(e,t,d,!1):c(e,t,d);return t},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"Matrix, number | BigNumber":function(e,t){t=("sparse"===e.storage()?l:u)(e,t,d,!1);return t},"number | BigNumber, Matrix":function(e,t){e=("sparse"===t.storage()?h:u)(t,e,d,!0);return e},"Array, number | BigNumber":function(e,t){return u(a(e),t,d,!1).valueOf()},"number | BigNumber, Array":function(e,t){return u(a(t),e,d,!0).valueOf()}});return d.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},d}},function(e,t,i){"use strict";var r=i(13);var o=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2};t.name="atanh",t.factory=function(t,i,e,n){var a=n("atanh",{number:function(e){return e<=1&&-1<=e||i.predictable?o(e):new t.Complex(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="cos",t.factory=function(t,e,i,n){var a=n("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\cos\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);var o=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2};t.name="cosh",t.factory=function(t,e,i,n){var a=n("cosh",{number:o,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\cosh\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="cot",t.factory=function(t,e,i,n){var a=n("cot",{number:function(e){return 1/Math.tan(e)},Complex:function(e){return e.cot()},BigNumber:function(e){return new t.BigNumber(1).div(e.tan())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\cot\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);function o(e){e=Math.exp(2*e);return(e+1)/(e-1)}t.name="coth",t.factory=function(t,e,i,n){var a=n("coth",{number:o,Complex:function(e){return e.coth()},BigNumber:function(e){return new t.BigNumber(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\coth\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="csc",t.factory=function(t,e,i,n){var a=n("csc",{number:function(e){return 1/Math.sin(e)},Complex:function(e){return e.csc()},BigNumber:function(e){return new t.BigNumber(1).div(e.sin())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\csc\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13),n=i(17).sign;function o(e){return 0==e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*n(e)}t.name="csch",t.factory=function(t,e,i,n){var a=n("csch",{number:o,Complex:function(e){return e.csch()},BigNumber:function(e){return new t.BigNumber(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="sec",t.factory=function(t,e,i,n){var a=n("sec",{number:function(e){return 1/Math.cos(e)},Complex:function(e){return e.sec()},BigNumber:function(e){return new t.BigNumber(1).div(e.cos())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\sec\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);function o(e){return 2/(Math.exp(e)+Math.exp(-e))}t.name="sech",t.factory=function(t,e,i,n){var a=n("sech",{number:o,Complex:function(e){return e.sech()},BigNumber:function(e){return new t.BigNumber(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="sin",t.factory=function(t,e,i,n){var a=n("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\sin\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);var o=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2};t.name="sinh",t.factory=function(t,e,i,n){var a=n("sinh",{number:o,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\sinh\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);t.name="tan",t.factory=function(t,e,i,n){var a=n("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\tan\\left(${args[0]}\\right)"},a}},function(e,t,i){"use strict";var r=i(13);var o=Math.tanh||function(e){e=Math.exp(2*e);return(e-1)/(e+1)};t.name="tanh",t.factory=function(t,e,i,n){var a=n("tanh",{number:o,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return a(e.value)},"Array | Matrix":function(e){return r(e,a,!0)}});return a.toTex={1:"\\tanh\\left(${args[0]}\\right)"},a}},function(e,t,i){e.exports=[i(900)]},function(e,t,h){"use strict";t.name="to",t.factory=function(e,t,i,n){var a=h(23),r=i(h(12)),o=i(h(39)),s=i(h(35)),l=n("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return o(e,t,l)},"Array, Array":function(e,t){return l(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return l(r(e),t)},"Matrix, Array":function(e,t){return l(e,r(t))},"Matrix, any":function(e,t){return s(e,t,l,!1)},"any, Matrix":function(e,t){return s(t,e,l,!0)},"Array, any":function(e,t){return s(r(e),t,l,!1).valueOf()},"any, Array":function(e,t){return s(r(t),e,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}"+a.operators.to+"${args[1]}\\right)"},l}},function(e,t,i){e.exports=[i(332),i(141),i(164),i(234),i(163),i(902),i(242),i(903),i(235)]},function(e,t,i){"use strict";var r=i(13);t.name="isPrime",t.factory=function(i,e,t,n){var a=n("isPrime",{number:function(e){if(e<2)return!1;if(2==e)return!0;if(e%2==0)return!1;for(var t=3;t*t<=e;t+=2)if(e%t==0)return!1;return!0},BigNumber:function(e){if(e.lt(2))return!1;if(e.equals(2))return!0;if(e.mod(2).isZero())return!1;for(var t=i.BigNumber(3);t.times(t).lte(e);t=t.plus(1))if(e.mod(t).isZero())return!1;return!0},"Array | Matrix":function(e){return r(e,a)}});return a}},function(e,t,i){"use strict";var a=i(13);i(17);t.name="isNaN",t.factory=function(e,t,i,n){return n("isNaN",{number:function(e){return Number.isNaN(e)},BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return a(e,Number.isNaN)}})}},function(e,t,i){e.exports=[i(905)]},function(e,t,i){"use strict";t.name="reviver",t.path="json",t.factory=function(n,e,t,i){return function(e,t){var i=n[t&&t.mathjs];return i&&"function"==typeof i.fromJSON?i.fromJSON(t):t}}},function(e,t,i){"use strict";var n=i(134),a=i(49),r=i(159);e.exports=[{name:"ArgumentsError",path:"error",factory:function(){return n}},{name:"DimensionError",path:"error",factory:function(){return a}},{name:"IndexError",path:"error",factory:function(){return r}}]},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),l=i(250),i=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"overTurn",value:function(e,t){var i,n=e;function a(){n.viewStack!=n.getViewStack()?(n.scale.x=-1,n.scaleHasChanged=!0):(n.scale.x=1,n.scaleHasChanged=!1)}n.addedRubber&&n.currentContainer&&n.currentContainer.currentContainer&&"Flume"===n.currentContainer.currentContainer.name?Math.abs(n.currentContainer.rotation)<.99*Math.PI||(i=n.addedRubber.getBounds(),e=n.addedRubber.brother.getBounds(),(t=Math.abs(t.rotation))==Math.PI||Math.floor(100*t)/100==3.14?null!=n.constructor.name.match("Left")?e.x>i.x&&(a(),this.resetRect(n,n.currentContainer)):e.x<i.x&&(a(),this.resetRect(n,n.currentContainer)):0==t&&(null!=n.constructor.name.match("Left")?e.x<i.x&&(a(),this.resetRect(n,n.currentContainer)):e.x>i.x&&(a(),this.resetRect(n,n.currentContainer)))):n.scaleHasChanged&&a()}},{key:"resetRect",value:function(e,t){var i,n,a,r,o=t;!t||(r=t.currentContainer)&&this.check(e,t)&&(i=r.eqLimitBounds,n=r.eqLimitPos,a=o.getViewStack().toLocal(o.getBounds()),e={x:o.position.x-a.x,y:o.position.y-a.y},o.viewStack!=o.getViewStack()&&(e={x:(r=o.getViewStack().toLocal(o.toGlobal({x:0,y:0}))).x-a.x,y:r.y-a.y}),o.dragRect={x:n.x+e.x,y:n.y-t.height+e.y,width:i.width-t.width,height:i.height},t.updateTransform(),NBDrag.addDrag(o,o.dragRect))}},{key:"check",value:function(e,t){var i=e.getViewStack().scale.x,n=t.currentContainer.eqLimitBounds;if(isNaN(t.typeInContainer))return!1;switch(t.typeInContainer){case 0:return!(t.localBounds.height>n.height)&&!(t.getBounds().width/i>n.width);case 1:return!0;case 2:return!(t.getBounds().width/i>n.width)}}},{key:"adsorb",value:function(e,t){var i=t,n=t.currentContainer;if(n){var a=n.eqLimitBounds,r=n.eqLimitPos,o=t.getBounds();if(this.check(e,t)){var s,e=n.toLocal(o),o=0;if(l[n.constructor.name]&&(s=l[n.constructor.name].thickness),e.y+t.height>r.y+n.localBounds.height-s&&(o=e.y+t.height-(r.y+n.localBounds.height-s),TweenMax.to(i,.3,{y:i.y-o})),e.x<r.x)return o=r.x-e.x,void TweenMax.to(i,.3,{x:i.x+o});e.x+t.localBounds.width>r.x+a.width&&(o=e.x+t.localBounds.width-(r.x+a.width),TweenMax.to(i,.3,{x:i.x-o})),t.updateTransform()}}}}]),e}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),l=n(i(7)),h=n(i(5)),s=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var d=i(52),p=i(91),f=i(18),I=i(16),g=Math.PI/180*3,i=function(){(0,h.default)(s,p);var i=u(s);function s(e,t){return(0,r.default)(this,s),i.call(this,e,t)}return(0,o.default)(s,[{key:"initButton",value:function(){this.name="eqRotateButton",(0,l.default)((0,c.default)(s.prototype),"initButton",this).call(this),this.pointLength=50,this.circleRotate=2*Math.PI,this.centerPosition=this.target.getCenterPosition(),this.pointToCenterDis=d.distance(this.centerPosition,this.btnPosition)-52,this.target.pointToCenterDis=this.pointToCenterDis,this.textDis=this.pointToCenterDis+140,this.lineAry=[],this.tempPoint={x:0,y:0};var e=this.target.root.mouseManager;I.addMouseEvent(e,this.button,I.status.ROTATE),this.initRotateText(),this.initUnicorn(Math.PI/2)}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.rotate")}},{key:"initPointLine",value:function(){this.lineAry.length=0;for(var e=this.target.getCenterPositionToEqLayer(),t=this.pointToCenterDis,i=0;i<this.pointLength;i++){var n=this.circleRotate/this.pointLength*i,a=e.x+t*Math.cos(n),r=e.y+t*Math.sin(n);this.lineAry.push({x:a,y:r,rotation:n,type:"dark"})}}},{key:"initRotateText",value:function(){this.textBox=new PIXI.Container,this.target.getViewStack().addChild(this.textBox);var e=this.rotateText=this.target.getText("",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),t=new PIXI.Graphics;this.textBox.addChild(t),this.textBox.addChild(e),t.lineStyle(0),t.beginFill(0,.6),t.drawRoundedRect(-45,-25,90,50,10),t.endFill(),this.textBox.interactive=!1,this.textBox.allowGetBounds=!1,this.textBox.visible=!1}},{key:"showRotateText",value:function(){this.textBox.visible=!0,this.setRotateTextPos(),this.setRotateText()}},{key:"hideRotateText",value:function(){this.textBox.visible=!1}},{key:"setRotateTextPos",value:function(){var e=this.target.getCenterPositionToEqLayer();this.textBox.x=e.x,this.textBox.y=e.y-this.textDis}},{key:"setRotateText",value:function(){var e=this.target,t=e.worldRotation||f.retrieveRotation(e.worldTransform),e="".concat(Math.round(t*(180/Math.PI)),"°");this.rotateText.text!==e&&(this.rotateText.text=e);t=this.rotateText,e=t.width,t=t.height;this.rotateText.x=(this.textBox.width-e)/2+2,this.rotateText.y=(this.textBox.height-t)/2}},{key:"showButton",value:function(){var e;TweenMax.isTweening(this.target)||this.getEnabled()&&((0,l.default)((0,c.default)(s.prototype),"showButton",this).call(this),this.button.visible=!0,this.setBtnPosition(),this.beginRotation||0===this.beginRotation||(e=(this.target.rotation-Math.PI/2)%(2*Math.PI),e=-(e=Math.abs(e)>Math.PI?0<e?e%Math.PI-Math.PI:e%Math.PI+Math.PI:e)),this.updateUnicorn(e))}},{key:"dragButtonBegin",value:function(e){(0,l.default)((0,c.default)(s.prototype),"dragButtonBegin",this).call(this,e);var t=this.target,i=this.tempPoint;i.x=e.data.global.x,i.y=e.data.global.y;e=t.toGlobal(this.centerPosition);this.beginRotation=this.getAtan2Angle(i,e),this.calcRotation=t.rotation,this.lastBeginRotation=this.beginRotation,this.currentMoveType=0,this.lightButton(),this.initPointLine(),this.drawLinePoint(),this.showRotateText(),this.target.addWholeRotateType(["eqRotateButton"])}},{key:"dragButtonMove",value:function(e){(0,l.default)((0,c.default)(s.prototype),"dragButtonMove",this).call(this,e);var t=this.target;t.root.viewStack.hasEqMove=2,t.waveHeight=0,t.maxWaveHeight=0;var i,n,a=t.toGlobal(this.centerPosition),r=this.getAtan2Angle(e.data.global,a),o=r-this.beginRotation;Math.abs(o)>Math.PI?this.beginRotation=r:(this.calcRotation+=o,this.currentMoveType+=o,o=(n=this.getAdsorbedAngle(this.calcRotation))-this.target.rotation,(i=t.toGlobal({x:0,y:0})).x-=a.x,i.y-=a.y,e=i.x*Math.cos(o)-i.y*Math.sin(o),o=i.x*Math.sin(o)+i.y*Math.cos(o),i.x=e+a.x,i.y=o+a.y,i=t.parent.toLocal(i),t.napeBody?(t.napeBody.set_rotation(this.calcRotation),t.napeBody.get_position().set_x(i.x),t.napeBody.get_position().set_y(i.y)):(t.rotation=n,t.x=i.x,t.y=i.y),this.beginRotation=r,r=(this.calcRotation-Math.PI/2)%(2*Math.PI),Math.abs(r)>Math.PI&&(r=0<r?r%Math.PI-Math.PI:r%Math.PI+Math.PI),this.beginRotation=r,n=(n-Math.PI/2)%(2*Math.PI),Math.abs(n)>Math.PI&&(n=0<n?n%Math.PI-Math.PI:n%Math.PI+Math.PI),this.setBtnPosition(),this.updatePointLine(),this.drawLinePoint(),this.setRotateText(),this.updateUnicorn(-n))}},{key:"dragButtonEnd",value:function(e){(0,l.default)((0,c.default)(s.prototype),"dragButtonEnd",this).call(this,e),this.beginRotation=null,this.clearLinePoint(),this.hideRotateText(),this.target.removeWholeRotateType(["eqRotateButton"]),this.target.calculateLiquid&&this.target.calculateLiquid(!0)}},{key:"getAdsorbedAngle",value:function(e){var t=Math.PI;return Math.abs(e)>t&&(e=0<e?e%t-t:e%t+t),this.calcRotation=e,Math.abs(e-t)<g?t:Math.abs(e-t/2)<g?t/2:Math.abs(e)<g?0:Math.abs(e+t/2)<g?-t/2:Math.abs(e+t)<g?-t:e}},{key:"zoomChangePos",value:function(){(0,l.default)((0,c.default)(s.prototype),"zoomChangePos",this).call(this);var e=(1-this.buttonScale)*nb.BUTTON_RADIUS;this.btnPosition={x:this.oriBtnPosition.x,y:this.oriBtnPosition.y+e},this.setBtnPosition(this.btnPosition),this.textBox&&(e=(e=1/this.buttonScale)<1?1/e:e>nb.INFO_TEXT_MAX_SCALE?nb.INFO_TEXT_MAX_SCALE/e:1,this.textBox.scale.x=this.textBox.scale.y=e)}},{key:"updatePointLine",value:function(){var i=this,n=e(this.lastBeginRotation),a=e(this.beginRotation);this.currentMoveType=this.currentMoveType%(2*Math.PI);var r=0<this.currentMoveType?"clockwise":"anticlockwise";function e(e){var t=e;return t=e<0?2*Math.PI+e:t}this.lineAry.forEach(function(e){var t=e.rotation;.1<Math.abs(i.currentMoveType)?e.type=function(e,t){var i="dark";"clockwise"===e?n<a?n<t&&t<a&&(i="light"):(n<t||t<a)&&(i="light"):a<n?t<n&&a<t&&(i="light"):(t<n||a<t)&&(i="light");return i}(r,t):e.type="dark"})}},{key:"destroy",value:function(){this.textBox&&(this.textBox.destroy(),this.textBox=null),(0,l.default)((0,c.default)(s.prototype),"destroy",this).call(this)}}]),s}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(250),d=i(18),p=i(26),f=i(79),s={BigTestTube:{BigBeaker:{x:180,y:0,rotation:.5},SmallBeaker:{x:148,y:-70,rotation:.4},HugeBeaker:{x:225,y:210,rotation:.58}},SmallTestTube:{BigBeaker:{x:235,y:-75,rotation:.55},SmallBeaker:{x:210,y:-145,rotation:.5},HugeBeaker:{x:370,y:230,rotation:1}}},i=function(){function u(){(0,a.default)(this,u)}return(0,r.default)(u,null,[{key:"initTwoContainerCollision",value:function(e){e.hasCallContainerCollision&&(e.restoreSave=u.restoreSave,e.addEventListener(NBEvent.HITTED_TWOCONTAINER,u.operation))}},{key:"operation",value:function(e){var t,i=this,e=e.hitObj;if(this!==e&&!TweenMax.isTweening(e)&&!this.currentContainer&&e&&e.isBaseContainer)if("SmallBeaker"===e.name&&Math.abs(i.getRealRotation())>nb.FALLROTATION)"HugeBeaker"===i.name&&e.hitHugebeaker(i);else if("HugeBeaker"===e.name&&Math.abs(e.getRealRotation())>nb.FALLROTATION)"SmallBeaker"===i.name&&i.hitHugebeaker(e);else if(!(i.pourOut&&e.pourIn&&i.eqLimitBounds&&e.eqLimitBounds&&i.intersectRect(e)<=.8)||i.breakImg&&e.containerHitArea&&i.breakImg.hitTest(e.containerHitArea)){if(/(TestTube)$/.test(i.name)&&/(Beaker)$/.test(e.name)){var n=this.getViewStack({x:0,y:0},e);if(this.getViewStack({x:0,y:0},i).x>n.x+2*e.localBounds.width/3)return}n=u.getHitType(i,e);u.cannotPlay(i,e,n)&&(this.removeEventListener(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.lastRotation=d.retrieveRotation(e.worldTransform),o[e.name]&&(t=o[e.name].thickness),this.currentContainer=e,i.addTwoContainerCollision=!0,u.addEvents.call(this),u.playAnimation(i,e,n,t))}}},{key:"getHitType",value:function(e,t){var i,n=e;if(e.isTestTube&&t.isBeaker)return i=3;t=d.retrieveRotation(t.worldTransform),e=d.retrieveRotation(e.worldTransform),t=Math.abs(e-t),t=t>Math.PI?2*Math.PI-t:t;return"DryingTube"===n.name?i=t<Math.PI/2?0:2:(i=t<=Math.PI/4?0:t>=3*Math.PI/4?2:1,isNaN(n._fixedType)?i:n._fixedType)}},{key:"playAnimation",value:function(e,t,i,n){var a=e;e.typeInContainer=i,NBDrag.removeDrag(e);var r="Flume"===t.name?"0":a.getHitProperty(a,t).zIndex;"top"===r?t.addChildAtWithSamePos(a,Number(t.children.length)):r?t.addChildAtWithSamePos(a,Number(r)):t.addChildWithSamePos(a);var o=e.localBounds;switch(i){case 0:u.playType0(e,t,o,n);break;case 1:u.playType1(e,t,o,n);break;case 2:u.playType2(e,t,o,n);break;case 3:u.playType3(e,t)}}},{key:"cannotPlay",value:function(e,t,i){var n=e,a=t.eqLimitBounds,r=e.getViewStack().scale.x,o=e.localBounds;switch(i){case 0:if(!a)return!1;if(o.height>a.height)return!0;var s=n.rotation;n.rotation=0;var l=n.getBounds().width/r;return n.rotation=s,!(l>a.width);case 1:return!(0<n.currentEquipmentValue||n.currentPlug&&0<n.currentPlug.curValue||n.localBounds.height>a.width||n.getFull());case 2:return!(0<n.currentEquipmentValue||n.currentPlug&&0<n.currentPlug.curValue||n.localBounds.width>a.width||n.getFull());case 3:return!0}}},{key:"playType0",value:function(e,t,i,n){var a=t.eqLimitBounds,r=t.eqLimitPos,a=(a.width-i.width)/2+r.x-i.x,i=r.y+t.localBounds.height-i.height-n-i.y;if(t!=e.parent)return{x:a,y:i,rotation:0};e.rotation=e.getRealRotation()-t.getRealRotation(),TweenMax.to(e,.3,{x:a,y:i,rotation:0,onComplete:function(){u.limitDragRect(e,t,0),u.playType0Complete(e)}})}},{key:"playType0Complete",value:function(e){NBDrag.addDrag(e,e.dragRect)}},{key:"playType1",value:function(e,t,i,n){var a=e,r=0<e.getRealRotation()?Math.PI/2:-Math.PI/2,o=t.eqLimitBounds,s=t.eqLimitPos,l=0,h=0,h=0<r?(l=(o.width-i.height)/2+s.x+i.height+i.y,s.y+t.localBounds.height-i.width-n-i.x):(l=(o.width-i.height)/2+s.x-i.y,s.y+t.localBounds.height-n+i.x);if(t!=a.parent)return{x:l,y:h,rotation:r};e.rotation=e.getRealRotation()-t.getRealRotation(),TweenMax.to(e,.3,{x:l,y:h,rotation:r,onComplete:function(){u.limitDragRect(e,t,1,n),u.playType1Complete(e,t,n)}})}},{key:"playType1Complete",value:function(e,i,t){var a,n,r,o,s,l,h,c=e;c.parent.getCurrentCapacity()?(a=Math.pow(c.getViewStack().scale.x,2),n=c.getTotalCapacity(),h=p.getArea(c.liquidVertexUp)/a*c.capacityScale,r=(h=Math.min(h,n))/2/10,o=new TimelineLite,c.noPascal=!0,c.waterAbsorption=!0,s=c.localBounds.x,l=c.localBounds.y,o.to(c,2,{onUpdate:function(){var e;c.isCovered()||c.currentPlug||(c.currentCapacity<.1&&c.calculateLiquid(!0),c.parent&&c.parent.liquidVertex&&c.parent.liquidVertex[0].y<c.liquidVertex[0].y&&(e=c.getCurrentCapacity(),n-r<=e?n<=e||(c.setCurrentCapacity(n),c.parent.setCurrentCapacity(c.parent.getCurrentCapacity()-(n-e))):(e=c.parent.medicineData.covertVolumeToLiquid(r),c.parent.setCurrentCapacity(c.parent.getCurrentCapacity()-r),c.addMedicine(e))))}},.5),h=0<d.retrieveRotation(c.worldTransform)?Math.PI:-Math.PI,o.to(c,.5,{x:i.localBounds.width/2+c.localBounds.width/2+s,y:i.localBounds.height+l-t,rotation:h,onComplete:function(){u.limitDragRect(e,i,0),NBDrag.addDrag(c,c.dragRect),c.emit("appendEquipment",c.parent),c.parent.emit("appendEquipment",c);var t=0,n=[];c.medicineData.gasAry.forEach(function(e){t+=e.getMol()}),c.medicineData.gasAry.forEach(function(e){n.push(e.getMol()/t)}),setTimeout(function(){var e=p.getArea(c.liquidVertexUp)/a/1e6*c.capacityScale,i=(nb.PASCAL-1e3)*e/8.314/f.convertCToK(nb.DEFAULT_TEMP);c.medicineData.gasAry.forEach(function(e,t){e.setMol(i*n[t])}),delete c.noPascal,delete c.waterAbsorption},100),u.limitDragRect(e,i,2),NBDrag.addDrag(c,c.dragRect)}})):NBDrag.addDrag(c,c.dragRect)}},{key:"playType2",value:function(e,t,i,n){var a=e,r=0<d.retrieveRotation(a.worldTransform)?Math.PI:-Math.PI,o=t.eqLimitBounds,s=t.eqLimitPos,o=(o.width-i.width)/2+s.x+i.width+i.x,i=s.y+t.localBounds.height-n+i.y;if(t!=a.parent)return{x:o,y:i,rotation:r};e.rotation=e.getRealRotation()-t.getRealRotation(),TweenMax.to(a,.3,{x:o,y:i,rotation:r,onComplete:function(){u.limitDragRect(e,t,2),u.playType2Complete(e,t),e.root.emit(NBEvent.communicate.angular.UPDATE_EQ_ATTRIBUTE,e)}})}},{key:"playType2Complete",value:function(e,t){NBDrag.addDrag(e,e.dragRect),e.emit("appendEquipment",t),t.emit("appendEquipment",e)}},{key:"playType3",value:function(e,t){var i=e,t=s[i.name][t.name];TweenMax.to(i,.2,{x:t.x,y:t.y,rotation:t.rotation,onComplete:function(){NBDrag.addDrag(i),i.once(NBDrag.event.PREPARE_DRAG,i.eqAddToViewStack)}})}},{key:"limitDragRect",value:function(e,t,i){var n=e,a=t.eqLimitBounds,r=t.eqLimitPos,o=n.localBounds;switch(n.dragRect={x:r.x-o.x,y:r.y-o.height-(o.height-o.y)*Math.cos(n.rotation),width:a.width-n.width,height:a.height},i){case 0:o.height>t.localBounds.height&&(n.dragRect.width=a.width-o.width),n.dragRect.y=r.y-(o.height+o.y);break;case 1:0<(0<d.retrieveRotation(n.worldTransform)?Math.PI/2:-Math.PI/2)?(n.dragRect.x=r.x+(o.height+o.y),n.dragRect.y=r.y-(o.width+o.x)):(n.dragRect.x=r.x+o.y,n.dragRect.y=r.y+o.x),n.dragRect.width=a.width-n.localBounds.height;break;case 2:n.dragRect.x=r.x+(o.width+o.x),n.dragRect.y=r.y+o.y}}},{key:"cancelDragRect",value:function(){this.dragRect.enabled=!1,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.addTweoContainerCollision=!1}},{key:"restoreSave",value:function(){u.addEvents.call(this),this.addTwoContainerCollision=!0}},{key:"addEvents",value:function(){this.addEventListener("outTopBounds",u.cancelDragRect),this.addEventListener(TouchEvent.TOUCH_END,u.mouseUp),this.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,u.mouseUp)}},{key:"removeEvents",value:function(){this.removeEventListener("outTopBounds",u.cancelDragRect),this.removeEventListener(TouchEvent.TOUCH_END,u.mouseUp),this.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,u.mouseUp)}},{key:"initEvents",value:function(){this.emit("removeEquipment",this.currentContainer),this.currentContainer.emit("removeEquipment",this),this.dragRect=void 0,this.currentContainer=void 0,this.typeInContainer=void 0}},{key:"mouseUp",value:function(){this.dragRect&&0==this.dragRect.enabled&&!TweenMax.isTweening(this)&&this.currentContainer&&(u.removeEvents.call(this),u.initEvents.call(this),this.getViewStack().addChildWithSamePos(this))}}]),u}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(363),s=i(123),l=i(53),h=i(913),c=nape.geom.Vec2,u=i(52),i=function(){function e(){(0,a.default)(this,e),this.var_seBody=null,this.var_handJoint=null,this.var_originDat=null,this.var_isClick=!1,this.var_oldP=null,this.cannotStart=!1}return(0,r.default)(e,[{key:"func_touchBegin",value:function(e,t){this.cannotStart?this.cannotStart=!1:(this.func_touchEnd(null),this.var_seBody=e,this.func_dragJoint(this.var_seBody,t))}},{key:"func_dragJoint",value:function(e,t){var i,n,a;!(this.var_seBody=e)||(i=e.get_space())&&(n=i.world,this.var_space=i,e.isKinematic&&(this.var_originDat={},e.noallowRotation=!0),this.var_isClick=!0,this.var_oldP=t,a=e.worldPointToLocal(c.get(t.x,t.y)),e.set_type(s.DYNAMIC),this.var_handJoint=new o(n,e,new c(t.x,t.y),a),this.var_seBody.userData.handJointStiff?this.var_handJoint.stiff=!0:(this.var_handJoint.stiff=!1,this.var_seBody.userData.handJointFrequency&&(this.var_handJoint.frequency=this.var_seBody.userData.handJointFrequency)),this.var_seBody.userData.coerceAB&&(this.var_handJoint.coerceAB=!0,this.var_handJoint.aTob=!1),this.var_handJoint.damping=1.3,this.var_handJoint.ignore=!0,i.constraints.add(this.var_handJoint),(e=e.userData.view)&&e.emit(h.BEGIN))}},{key:"func_touchMove",value:function(e){this.var_seBody&&(this.var_isClick&&20<u.distance(this.var_oldP,e)&&(this.var_isClick=!1),this.var_handJoint.anchor1.set(new c(e.x,e.y)),(e=this.var_seBody.userData.view)&&e.emit(h.MOVE))}},{key:"func_touchEnd",value:function(e){var t;this.var_handJoint&&(this.var_space.constraints.remove(this.var_handJoint),this.var_handJoint=null),this.var_originDat&&(this.var_seBody.noallowRotation=!1,this.var_seBody.set_type(s.KINEMATIC),l.frezzBody(this.var_seBody),this.var_originDat=null),this.var_seBody&&((t=this.var_seBody.userData.view)&&e&&(this.var_isClick&&t.emit(h.CLICK,e),t.emit(h.END,e)),this.var_isClick=!1,this.var_seBody=null)}}]),e}();e.exports=i},function(e,t,i){"use strict";function c(){}c.arrayContainsValue=function(e,t){return-1!=e.indexOf(t)},c.arrayContainsArray=function(e,t){for(var i=!0,n=t.length,a=0;a<n;a++){var r=t[a];if(!c.arrayContainsValue(e,r)){i=!1;break}}return i},c.removeValueFromArray=function(e,t){for(var i=e.length;-1<i;i--)if(e[i]===t)return e.splice(i,1),!0;return!1},c.addSingleArr=function(e,t){return!c.arrayContainsValue(e,t)&&(e.push(t),!0)},c.removeValueFromIndex=function(e,t){var i,n=e.length;return 0<=t&&t<n&&(i=e[t],e.splice(t,1)),i},c.removeArrayFromArray=function(e,t){for(var i=(t=t||[]).length,n=0;n<i;n++){var a=t[n];c.removeValueFromArray(e,a)}return e},c.createUniqueCopy=function(e){for(var t,i=new Array,n=e.length,a=0;a<n;++a)t=e[a],c.arrayContainsValue(i,t)||i.push(t);return i},c.copyArray=function(e){return e?e.slice():null},c.arraysAreEqual=function(e,t){if(e.length!=t.length)return!1;for(var i=e.length,n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0},c.clear=function(e){e&&0!=e.length&&e.splice(0,e.length)},c.print=function(e){for(var t in e)trace(t+":"+e[t])},c.getIndexFromValue=function(e,t){for(var i=-1,n=e.length,a=0;a<n;a++)if(t==e[a]){i=a;break}return i},c.swapObj=function(e,t){},c.swapArrObj=function(e,t,i){var n=c.getIndexFromValue(e,t),a=c.getIndexFromValue(e,i);-1<n&&-1<a&&(e[n]=i,e[a]=t)},c.swapArrInd=function(e,t,i){var n=e[t],a=e[i];-1<t&&-1<i&&(e[t]=a,e[i]=n)},c.swapChaArrInd=function(e,t,i){var n,a,r,o=[],s=e.length;if(t<0||s<=t)return e;if(0<=i&&i<s){n=e[t],a=e[i],c.removeValueFromIndex(e,t);for(var l=c.getIndexFromValue(e,a),h=0;h<l;h++)o[h]=e[h];for(o[l]=n,r=l+1;r<s+1;r++)o[r]=e[r-1]}else s<=i?(n=e[t],c.removeValueFromIndex(e,t),e.push(n),o=c.copyArray(e)):i<0&&(n=e[t],c.removeValueFromIndex(e,t),e.unshift(n),o=c.copyArray(e));return o},c.getString=function(e){if(!e||0==e.length)return"";var i="";return $.each(e,function(e,t){i+=t}),i},c.getMinIndex=function(e,t){for(var i=0,n=void 0===t?t[0]:e[0][t],a=1;a<e.length;a++){var r=t?e[a][t]:e[a];r<n&&(i=a,n=r)}return i},c.getMaxIndex=function(e,t){for(var i=0,n=void 0===t?t[0]:e[0][t],a=1;a<e.length;a++){var r=t?e[a][t]:e[a];n<r&&(i=a,n=r)}return i},e.exports=c},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=nape.geom.AABB,i=function(){function i(e,t){(0,a.default)(this,i),this.bitmap=e,this.alphaThreshold=t||128,this.bounds=new o(0,0,this.bitmap.width,this.bitmap.height)}return(0,r.default)(i,[{key:"iso",value:function(e,t){var i=e,t=t;(i=e<0?0:e)>=this.bitmap.width&&(i=this.bitmap.width-1),(t=t<0?0:t)>=this.bitmap.height&&(t=this.bitmap.height-1);t=this.bitmap.getPixel(i,t);return this.alphaThreshold-t[3]}}]),i}();e.exports=i},function(e,t,i){"use strict";function n(){}n.BEGIN="bodyDragBegin",n.MOVE="bodyDragMove",n.END="bodyDragEnd",n.CLICK="bodyClick",e.exports=n},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.call(this)}return(0,o.default)(t,[{key:"execute",value:function(e,t){var i,n,a,r,o,s,l,h=this.root.viewStack,c=this;try{if(this.root.remainAddEqCount++,"string"==typeof e)i=this.manager.execute(NBCommand.CREATE_EQUIPMENT,e);else{if(i=this.manager.execute(NBCommand.CREATE_EQUIPMENT,e.eqName||e.name||e.data.eqName),e.canvasPos=e.canvasPos||e.pos,e.clickAddNewPos=e.clickAddNewPos,!i)return;e.clickAddNewPos?(n=e.clickAddNewPos.center,a=e.clickAddNewPos.add,r=u(n),o=r.x+a.x-i.x,s=r.y+a.y-i.y,i.x=r.x+a.x,i.y=r.y+a.y):e.canvasPos&&(l=u(e.canvasPos),o=l.x-i.x,s=l.y-i.y,i.x=l.x,i.y=l.y)}h.addChild(i),i.isCreationComplete?(d(),i.moveThisToXY&&i.moveThisToXY(o,s)):i.once("creationComplete",function(){d(),i.moveThisToXY&&i.moveThisToXY(o,s)}),i.associatedEquipment&&i.associatedEquipment(t)}catch(e){throw e}function u(e){var t={};return c.root.renderer.plugins.interaction.mapPositionToPoint(t,e.x,e.y),c.root.viewStack.toLocal(t)}function d(){c.root.remainAddEqCount--,NBDrag.addDrag(i,null,{bringToFront:!i.notBringToFront})}return i}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=e.hitObj,i=e.target,n=e.bounds,a=e.type,r=e.offset||{};["x","y","width","height"].forEach(function(e){r[e]=r[e]||0});var o,s,l,h,c=t.eqLimitBounds,u=t.eqLimitPos,d=n,p={x:0,y:0},f={x:0,y:0};switch(i.currentContainer=t,"string"==typeof n&&(o={x:i.getBounds().x,y:i.getBounds().y},s=t.toLocal(o),l=i.rotation,e=i.localBounds.width,h=i.localBounds.height,o=e*Math.cos(Math.abs(l))+h*Math.sin(Math.abs(l)),h=e*Math.sin(Math.abs(l))+h*Math.cos(Math.abs(l)),p=0==Math.abs(t.rotation)?{x:i.x-s.x,y:i.y-s.y}:{x:i.x-o,y:i.y-h},t=i.getViewStack().scale.x,s={x:s.x,y:s.y,width:i.getBounds().width/t,height:i.getBounds().height/t},t=i.localBounds.y*Math.sin(l)+i.localBounds.x*Math.cos(l),l=i.localBounds.y*Math.cos(l)+i.localBounds.x*Math.sin(l),f={x:o-t,y:h-l},h={x:i.x+t,y:i.y+l,width:o,height:h},n="global"==n?s:h),a){case 0:i.on("outTopBounds",I);break;case 1:i.on("outBottomBounds",I);break;case 2:i.on("outTopBounds",I),i.on("outBottomBounds",I)}function I(){switch(i.dragRect.enabled=!1,i.currentContainer&&(i.currentContainer.woodenStick&&(i.currentContainer.woodenStick=null),i.currentContainer=void 0),a){case 0:i.removeEventListener("outTopBounds",I);break;case 1:i.removeEventListener("outBottomBounds",I);break;case 2:i.removeEventListener("outTopBounds",I),i.removeEventListener("outBottomBounds",I)}}function g(){i.viewStack!=i.getViewStack()&&i.dragRect&&!1===i.dragRect.enabled&&(i.getViewStack().addChildWithSamePos(i),i.removeEventListener(TouchEvent.TOUCH_END,g),i.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,g))}i.addEventListener(TouchEvent.TOUCH_END,g),i.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,g),i.dragRect=((h=c.width-n.width)<0&&(h=0),"global"==d?{x:u.x+p.x+r.x,y:u.y-n.height+p.y+r.y,width:h+r.width,height:c.height+r.height}:"local"==d?{x:u.x+f.x+r.x,y:u.y-n.height+f.y+r.y,width:h+r.width,height:c.height+r.height}:n),NBDrag.addDrag(i,i.dragRect,{bringToFront:!1})}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(11),p=[3422529,5725543,14277081,16174677,2581421,3712328];e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t,i,n=this,a=this.root;void 0!==e.color&&(i=e.color,a.canvas.style.backgroundColor="#"+("00000"+(0|i).toString(16)).slice(-6),a.backgroundColor=i,e.notSetGray||(a.isGrayBgc=!1,0<=(t=e.color)&&(i=p.indexOf(t)||0,window.localStorage.setItem("chemBGCIndex",i),192<=.299*(t>>16)+.587*(t>>8&255)+.114*(255&t)&&(a.isGrayBgc=!0))),a.emit(NBEvent.change.BGC,{})),void 0!==e.bgURL&&(void 0===a.bgURLSprite&&(a.bgURLSprite=new PIXI.Sprite,window.addEventListener("resize",this.windowResizeBg.bind(this)),this.root.addChildAt(a.bgURLSprite,0),this.bgColorSprite&&this.root.addChild(this.bgColorSprite)),0===(e=e.bgURL).indexOf("/")&&0===e.indexOf("http")||(e=d.config.URI_PREFIX+e),e=PIXI.Texture.fromImage(e),(a.bgURLSprite.texture=e).baseTexture.on("loaded",function(){n.windowResizeBg()}.bind(this)))}},{key:"windowResizeGra",value:function(){var e=this.root.bgColorSprite;e.clear(),e.beginFill(e.color),e.drawRect(0,0,this.root.W,this.root.H)}},{key:"windowResizeBg",value:function(){var e,t,i=this.root.bgURLSprite;i.texture.width<2&&i.texture.height<2||(e=this.root.W/this.root.H,(t=i.texture.width/i.texture.height)<e?(i.width=this.root.W,i.height=i.width/t):(i.height=this.root.H,i.width=i.height*t),i.x=-(i.width-this.root.W)/2,i.y=-(i.height-this.root.H)/2)}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(251).InfoLayer;e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){for(var t in e)switch(t){case"showEquation":d.SHOW_CHEMICAL_EQUATION=e[t];break;case"showMedicine":d.SHOW_TEMP=e[t]}}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(253);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){var e,t=this.root.viewStack.selectionLayer.selectedObj,i=this.root.clipboardManager;t&&(e={fromeCopy:!0},this.root.execute(NBCommand.GET_CHILDREN_JSON,{children:t,data:e}),i.setData(d.tag.CLIP_BOARD,e))}}]),t}()},function(module,exports,__webpack_require__){"use strict";var _Reflect$construct=__webpack_require__(4),_interopRequireDefault=__webpack_require__(0),_classCallCheck2=_interopRequireDefault(__webpack_require__(1)),_createClass2=_interopRequireDefault(__webpack_require__(2)),_inherits2=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(3));function _createSuper(i){var n=_isNativeReflectConstruct();return function(){var e,t=(0,_getPrototypeOf2.default)(i);return t=n?(e=(0,_getPrototypeOf2.default)(this).constructor,_Reflect$construct(t,arguments,e)):t.apply(this,arguments),(0,_possibleConstructorReturn2.default)(this,t)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!_Reflect$construct)return!1;if(_Reflect$construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch(e){return!1}}var ICommand=__webpack_require__(15),CreateEquipmentCommand=function(_ICommand){(0,_inherits2.default)(CreateEquipmentCommand,_ICommand);var _super=_createSuper(CreateEquipmentCommand);function CreateEquipmentCommand(){return(0,_classCallCheck2.default)(this,CreateEquipmentCommand),_super.apply(this,arguments)}return(0,_createClass2.default)(CreateEquipmentCommand,[{key:"execute",value:function execute(data){var obj=__webpack_require__(254),name,constructorAttribute,name="string"==typeof data?data:data.name;data.constructorAttribute&&(constructorAttribute=data.constructorAttribute);var ary=[],result=obj[name],func;if(result&&(func=eval(result.func),ary.push(this.root.createEquipment(result.path,result.type,func,void 0,void 0,constructorAttribute))),0===ary.length){var medicineManager=this.root.medicineManager,medicine=medicineManager.createMedicine(name,constructorAttribute);if(!medicine||!medicine.medTypeName)return null;var medTypeName=medicine.medTypeName,root=this.root;"BaseSolidMedicine"===medTypeName?root.createEquipment("assets/solidMedicine/white","q",medicine):"BaseSolidBrownMedicine"===medTypeName?root.createEquipment("assets/solidMedicine/brown","q",medicine):"BaseBlockMedicine"===medTypeName?root.createEquipment("assets/solidMedicine/blockWhite","block",medicine):"BaseGasMedicineInGasBag"===medTypeName?root.createEquipment("assets/gasMedicine/gasBag","gas",medicine):"BaseGasMedicine"===medTypeName?root.createEquipment("assets/gasMedicine/gasWhite","gas",medicine):"BaseLiquidSmallWhiteMedicine"===medTypeName?root.createEquipment("assets/liquidMedicine/SmallWhiteBottle","liquid",medicine):"BaseLiquidBrownDropMedicine"===medTypeName?root.createEquipment("assets/liquidMedicine/BrownDropBottle","liquid",medicine):"BaseLiquidWhiteDropMedicine"===medTypeName?root.createEquipment("assets/liquidMedicine/WhiteDropBottle","liquid",medicine):"BaseLiquidWhiteBottleMedicine"===medTypeName?root.createEquipment("assets/liquidMedicine/white","liquid",medicine):"PlasticBottleMedicine"===medTypeName&&root.createEquipment("assets/liquidMedicine/plastic","liquid",medicine),ary.push(medicine)}return data.multi?ary:ary[0]}}]),CreateEquipmentCommand}(ICommand);module.exports=CreateEquipmentCommand},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),A=i(22),T={x:0,y:0},S={Na_s:"Na",H2O_aq:"H2O",HCl_aq:"HCl_lx",C:"C_#1",Mg:"Mg_b","NH3·H2O_aq":"NH3H2O%28&H2O%100",H2CO3_aq:"H2CO3%2&H2O%98",HNO3_aq:"HNO3_lx",H2SO4_aq:"H2SO4_lx","Ca(OH)2_aq":"Ca(OH)2_l",HCl_bag:"HCl_g_bag",K:"K_s"},w={"CH|||CH":"C2H2","CH2||CH2":"CH2=CH2","CHBr||CHBr":"CHBr=CHBr","CH3CH2CH||CH2":"CH3CH2CH=CH2","CH2||CH(CH2)3CH3":"CH2=CH(CH2)3CH3",C2H5Br:"CH3CH2Br",CH3COOC2H5:"CH3COOCH2CH3",C6H5CH3:"C7H8","NH3·H2O":"NH3H2O",C12H22O11:"C12H22O11(蔗糖)","C6H12O6（葡萄糖）":"C6H12O6(葡萄糖)","C6H12O6（果糖）":"C6H12O6(果糖)","Fe(OH)3（胶体）":"Fe(OH)3(胶体)","H2SiO3（胶体）":"H2SiO3"},B=["O2","Cl2"],i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var a=e.condition;(i=e.reactant)&&Array;var a=a||[],i=i.map(function(e){return w[e]||e}),h=this.root,r=h.viewStack,o=h.W,s=h.H,c=r.eqLayer,t=A.EquationMap,u=[];if(h.execute(NBCommand.DELETE_EQUIPMENT,{type:"all",forceClear:!0}),a.includes("通电")||a.includes("电解")){if(i&&1===i.length)return i[0],b("HoffmanElectrolyticDevice"),void M(0);b("HugeBeaker"),b("ElectricityPieceKryptol"),b("ElectricityPieceKryptol")}else{b("BigTestTube");for(var n=0,l=a.length;n<l;n++){var d=a[n];if(!d)break;"点燃"===d||"△"===d?b("AlcoholBurner"):"高温"===d?b("BlastAlcoholBurner"):"H2SO4（浓）"===d||"浓硫酸"===d?b("H2SO4","ln"):b(d,"s")}}var p=[],f=t,I=0,g=i.length,m=/（浓）$/,y=/（稀）$/;if(i.forEach(function(e,t){m.test(e)&&(i[t]=e.replace(m,""),p[t]="ln"),y.test(e)&&(i[t]=e.replace(y,""),p[t]="lx")}),1===g)var v=i[0],f=f[v][v];else for(;I<g;){if(!(f=f[i[I]])){f=null;break}I++}(f=(f=f?f.equationAry:null)&&f.filter?f.filter(function(e){return!e.PhysicalState.includes("i")}):f)&&f[0]?p=function(e,t){for(var i=t.Reactants,n=0,a=e.length;n<a;n++){var r=e[n],r=i.indexOf(r);if(!~r||p[n])break;p[n]=t.PhysicalState[r]}return p}(i,f[0]):i.forEach(function(e){var t=h.medicineManager.medData[e];t&&"Gas"===t.type?p.push("g"):/^[A-Z][a-z]*[0-9]*$/.test(e)||t&&"p"===t.type&&t.solubility<.5?p.push("s"):p.push("aq")}),i.forEach(function(e,t){t=p[t];"l"===t?t="aq":"g"===t&&(t="bag"),b(e,t),/^(K|Na)$/.test(e)&&b("QualitativeFilterPaper")});e=!!u.filter(function(e){return"s"===e.state}).length,t=!!u.filter(function(e){return"g"===e.state}).length,v=!!u.filter(function(e){return"Mg"===e.name}).length;a.includes("点燃")&&e&&t&&!v&&b("CombustionSpoon"),r.scale.x=r.scale.y=1,r.x=o/2,r.y=s/2;var C={s:10,g:50,aq:100,ln:100,bag:1e3};function M(n,a){var r,o,e,s,l;n>=u.length||(e=u[n],r=e.mainEq,o=e.state,s=(s=a)||(0===n?T:{x:(e=c.getLocalBounds()).x+e.width+200,y:e.y+e.height}),(l=h.execute(NBCommand.ADD_EQUIPMENT,{name:r}))?(l.position.set(s.x,s.y),l.once("creationComplete",function(){a||(e=l.getLocalBounds(),l.x-=e.x,l.y-=e.y+e.height),x();var e,t=l.x,i=l.y;"bag"===o?M(n+1,{x:t,y:i-300}):M(n+1),"AlcoholBurner"===r||"BlastAlcoholBurner"===r?O("Match",{x:s.x,y:s.y-500}):"ElectricityPieceKryptol"===r?(O("Wire",{x:t-30,y:i-200}),(e=u[n+1])&&e.mainEq===r&&O("Battery",{x:t+25,y:i-420})):"QualitativeFilterPaper"===r?O("KnifeSmall",{x:t-300,y:i-280}):"BaseLiquidWhiteBottleMedicine"===l.medTypeName?O("ADropper",{x:t+30,y:i-550}):"BaseBlockMedicine"===l.medTypeName?O("Forceps",{x:t-200,y:i-350}):"BaseSolidMedicine"===l.medTypeName||"BaseSolidBrownMedicine"===l.medTypeName?O("LabSpoon",{x:t-110,y:i-300}):"BaseGasMedicineInGasBag"===l.medTypeName&&O("StraightGlassCatheter",{x:t+850,y:i+100})})):M(n+1))}function b(e,t){var i={mainEq:e,state:t};t&&"s"!==t&&(i.mainEq+="_".concat(t));var n=S[i.mainEq];n&&(i.mainEq=n),a.includes("点燃")&&("Cu"===i.mainEq?i.mainEq="CopperWire":"Fe"===i.mainEq&&(i.mainEq="IronWire"),"bag"===t&&B.includes(e)&&(i.mainEq=e,i.state="g","BigTestTube"===u[0].mainEq&&u.shift(),"O2"===e))||u.push(i)}function x(){var e=c.getLocalBounds(),t=e.width,i=e.height,n=e.x,e=e.y;TweenMax.to(r,.2,{x:(o-t)/2-n,y:(s-i)/2-e})}function O(e,t){e=h.execute(NBCommand.ADD_EQUIPMENT,{name:e});return e.position.set(t.x,t.y),e.once("creationComplete",function(){x()}),e}u.sort(function(e,t){var i=0,n=0;return(i=e.state?C[e.state]:i)-(n=t.state?C[t.state]:n)}),M(0)}}]),t}();e.exports=i},function(e,t,i){i(273),e.exports=i(30).Object.getOwnPropertySymbols},function(e,t,i){i(923),e.exports=i(30).Object.getOwnPropertyDescriptors},function(e,t,i){var n=i(38),l=i(924),h=i(94),c=i(154),u=i(282);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=h(e),a=c.f,r=l(n),o={},s=0;r.length>s;)void 0!==(i=a(n,t=r[s++]))&&u(o,t,i);return o}})},function(e,t,i){var n=i(216),a=i(176),r=i(81),i=i(48).Reflect;e.exports=i&&i.ownKeys||function(e){var t=n.f(r(e)),i=a.f;return i?t.concat(i(e)):t}},function(e,t,i){"use strict";function n(e){var t;return e.length<2?(t=e.charCodeAt(0))<128?e:t<2048?m(192|t>>>6)+m(128|63&t):m(224|t>>>12&15)+m(128|t>>>6&63)+m(128|63&t):(t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320),m(240|t>>>18&7)+m(128|t>>>12&63)+m(128|t>>>6&63)+m(128|63&t))}function a(e){return e.replace(y,n)}function r(e){var t=[0,2,1][e.length%3],e=e.charCodeAt(0)<<16|(1<e.length?e.charCodeAt(1):0)<<8|(2<e.length?e.charCodeAt(2):0);return[I.charAt(e>>>18),I.charAt(e>>>12&63),2<=t?"=":I.charAt(e>>>6&63),1<=t?"=":I.charAt(63&e)].join("")}function o(e,t){return t?C(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):C(String(e))}function s(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return m(55296+(t>>>10))+m(56320+(1023&t));case 3:return m((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return m((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}}function l(e){return e.replace(M,s)}function h(e){var t=e.length,i=t%4,e=(0<t?g[e.charAt(0)]<<18:0)|(1<t?g[e.charAt(1)]<<12:0)|(2<t?g[e.charAt(2)]<<6:0)|(3<t?g[e.charAt(3)]:0);return(e=[m(e>>>16),m(e>>>8&255),m(255&e)]).length-=[0,0,2,1][i],e.join("")}function c(e){return x(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))}var u,d=i(0)(i(46)),p={},f=p.Base64,I="gAC+8F73IJ2LM1yPxwSTvVtXqZanjdifRBecD9mbopErsG6Uh4Oz0NKHQ5WuYlk/",g=function(e){for(var t={},i=0,n=e.length;i<n;i++)t[e.charAt(i)]=i;return t}(I),m=String.fromCharCode,y=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,v=p.btoa?function(e){return p.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,r)},C=function(e){return v(a(e))},M=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),b=p.atob?function(e){return p.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,h)},x=function(e){return l(b(e))};p.Base64={VERSION:"2.1.9",atob:b,btoa:v,fromBase64:c,toBase64:o,utob:a,encode:o,encodeURI:function(e){return o(e,!0)},btou:l,decode:c,noConflict:function(){var e=p.Base64;return p.Base64=f,e}},"function"==typeof d.default&&(u=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}},p.Base64.extendString=function(){(0,d.default)(String.prototype,"fromBase64",u(function(){return c(this)})),(0,d.default)(String.prototype,"toBase64",u(function(e){return o(this,e)})),(0,d.default)(String.prototype,"toBase64URI",u(function(){return o(this,!0)}))}),p.Meteor&&(Base64=p.Base64),e.exports=p.Base64},function(e,t,i){"use strict";var l,h,n=i(0),c=n(i(9)),u=n(i(25)),i=i(133),d=i.ionMap,p=i.changeableIon;!function(){var e,t="",i="";for(e in d)0<d[e]?t=n(t,e="Ag(NH3)2"===e?"Ag\\(NH3\\)2":e):("Fe(C6H5O)6"===e?e="Fe\\(C6H5O\\)6":"Fe(CN)6"===e?e="Fe\\(CN\\)6":"CH3(CH2)3COO"===e&&(e="CH3\\(CH2\\)3COO"),i=n(i,e));function n(e,t){return 0===e.length?"\\(*(".concat(t):e+"|".concat(t)}t="^"+t,t+=")\\)*(\\d*)",i+=")\\)*(\\d*)$",l=new RegExp(t),h=new RegExp(i)}();var f={};e.exports=function(e){if(void 0!==f[e])return(0,c.default)([],f[e]);if(e&&!/\%|\&|,|，/g.test(e)){var t=e,i=e.match(/(.*)_/);i&&(e=i[1]);if(["Ag(NH3)2","Fe(C6H5O)6","Cu2Cl4","Fe(SCN)3","Ag(NH3)2OH","FeOH","Fe(CN)6","[Cu(NH3)4]","[Cu(NH3)4](OH)2","C9H7O4","C2H5OH","FeOH(SCN)2","[MnO3]HSO4","(MnO3)2(H3O)(HSO4)3","FeFungus","FeFungusColor"].includes(e))return f[e]=null;if("C9H8O4"===e)return[{count:1,name:"H",valence:1},{count:1,name:"C9H7O4",valence:-1}];if("KAl(SO4)2"===e)return[{count:1,name:"K",valence:1},{count:1,name:"Al",valence:3},{count:2,name:"SO4",valence:-2}];if("FeOHCl2"===e)return[{count:1,name:"FeOH",valence:2},{count:2,name:"Cl",valence:-1}];if("FeOH(NO3)2"===e)return[{count:1,name:"FeOH",valence:2},{count:2,name:"NO3",valence:-1}];if("FeOHSO4"===e)return[{count:1,name:"FeOH",valence:2},{count:1,name:"SO4",valence:-2}];if("B(OH)4"===e)return f[e]=null;if("NaB(OH)4"===e)return[{count:1,name:"Na",valence:1},{count:1,name:"B(OH)4",valence:-1}];if("C6H8O7"===e)return[{count:1,name:"H",valence:1},{count:1,name:"C6H7O7",valence:-1}];if("C6H7O7"===e)return[{count:1,name:"H",valence:1},{count:1,name:"C6H6O7",valence:-2}];if("C6H6O7"===e)return[{count:1,name:"H",valence:1},{count:1,name:"C6H5O7",valence:-3}];if("C6H5O7Na3"===e)return[{count:3,name:"Na",valence:1},{count:1,name:"C6H5O7",valence:-3}];if("C12H21O12Na"===e)return[{count:1,name:"Na",valence:1},{count:1,name:"C12H21O12",valence:-1}];if("CH3CH2COOH"===e)return[{count:1,name:"H",valence:1},{count:1,name:"CH3CH2COO",valence:-1}];if("C6H5ONa"===e)return[{count:1,name:"Na",valence:1},{count:1,name:"C6H5O",valence:-1}];if("CH3CH2COONa"===e)return[{count:1,name:"Na",valence:1},{count:1,name:"CH3CH2COO",valence:-1}];if("C4H6O5"===e)return[{count:1,name:"H",valence:1},{count:1,name:"C4H5O5",valence:-1}];if("CH3(CH2)3COOH"===e)return[{count:1,name:"H",valence:1},{count:1,name:"CH3(CH2)3COO",valence:-1}];if("Cr2(SO4)3"===e)return[{count:2,name:"Cr",valence:3},{count:3,name:"SO4",valence:-2}];if("H3[Fe(C6H5O)6]"===e)return[{count:3,name:"H",valence:1},{count:1,name:"Fe(C6H5O)6",valence:-3}];if("K3[Fe(CN)6]"===e)return[{count:3,name:"K",valence:1},{count:1,name:"Fe(CN)6",valence:-3}];if("PbI2"===e)return[{count:1,name:"Pb",valence:2},{count:2,name:"I",valence:-1}];if("NaI3"===e)return[{count:1,name:"Na",valence:1},{count:1,name:"I3",valence:-1}];if("KI3"===e)return[{count:1,name:"K",valence:1},{count:1,name:"I3",valence:-1}];if("AlI3"===e)return[{count:1,name:"Al",valence:3},{count:3,name:"I",valence:-1}];if("C6H5COOH"===e)return[{count:1,name:"H",valence:1},{count:1,name:"C6H5COO",valence:-1}];if("C6H5COONa"===e)return[{count:1,name:"Na",valence:1},{count:1,name:"C6H5COO",valence:-1}];if("Cu2(OH)2CO3"!=(e="NH3H2O"===(e="H3PO4"==(e="C17H35COONa"==(e="C17H35COOH"==(e="H3BO3"==(e="H2PO4"==(e="H2O"==e?"HOH":e)?"HHPO4":e)?"HH2BO3":e)?"HC17H35COO":e)?"NaC17H35COO":e)?"HH2PO4":e)?"NH4OH":e)){var n=(e="H2S"==(e="H2SO3"==(e="H2CO3"===(e="H2SiO3"==e?"HHSiO3":e)?"HHCO3":e)?"HHSO3":e)?"HHS":e).match(/(^\(*C2H5O\)*\d*)(.*)$/),a=(e=(n=(e=(n=(e=n?n[2]+n[1]:e).match(/(^\(*CH3COO\)*\d*)(.*)$/))?n[2]+n[1]:e).match(/(^\(*HCOO\)*\d*)(.*)$/))?n[2]+n[1]:e).match(/\.|·/),i=(e=a?e.substring(0,a.index):e).match(l),n=e,a=(n=i?e.replace(i[1],""):n).match(h);if(i&&a){var n=function(e){var t=(0,u.default)(e[2]||1),i=e[1],e=d[i];o+=t*e;e={count:t,name:i,valence:e},i=p[i];i&&s.push({obj:e,valences:i}),r.push(e)},r=[];"NaHSO4"===e&&r.push({count:1,name:"H",valence:1});var o=0,s=[];if(n(i),n(a),0===o)return f[t]=(0,c.default)([],r),r;if(1!==s.length)return f[t]=(0,c.default)([],r),r;s=s[0],a=r.indexOf(s.obj),a=r[(a+1)%2],a=-a.valence*a.count/s.obj.count;return-1!==s.valences.indexOf(a)?(s.obj.valence=a,f[t]=(0,c.default)([],r),r):void 0}return null}}}},function(e,t,i){"use strict";var n=i(0),r=n(i(24)),a=n(i(1)),o=n(i(2)),i=function(){function e(){(0,a.default)(this,e)}return(0,o.default)(e,null,[{key:"getSolventFromLiquid",value:function(e,t){for(var i=new r.default,n=0;n<e.length;n++){var a=e[n];("TRUE"===a.dat["solution_".concat(a.name)]||-1<t.indexOf(a.name))&&0<a.mol&&i.set(a.name,a)}return i}}]),e}();e.exports=i},function(e){e.exports=JSON.parse('{"dat":"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nHJpd3DeybseTt5PMDReycJlLCJxa39zat1BnF10qXw9IcpnIbMeLCJsIehenCIsImjeLCJzI90sIbJ9qt10St5DZXReyeI0MTg6M+qO1SIsIbAOatlOaXw5IcoNMCheTt96V7VGjCIW1+gsIDNBiFw9nXgeyc8NMChev3JUZ3VcdF10qXwNjOIWIDROTON+n+LeBp8GTt5+n+IefS4uID5BntveyeJyqVl+n+IeLCJTj7V9ZCIWMCQhM+gh1ChevmVBqHwBnbwzIcpnID5BIehexKhOI90sI9AOnKwNqHwzIcpnID5BxKheXSheTtlDdt4NjOIWtzIsMShOXSheV7VGj3MeyeI4McgGyTghIehejHA9qK9BnFAOatlOaXw5IcpuID5BIco4fShev7B5jK9cqt4Td7F0ZSIWtOJzIeheZOIsIbMeXShej3JpnHJpd3DeycIQLCJ1at5vZtNhIco4McgsIDNBiFw9nXgeycDhM30siOJyqtN9IcoeTmFfS+JPIehevHA9Ztxeycg6M+ghM+xsI9J9qt10qt50jOIWtOJyqSIsIDROTOJdLCJxjmlDdt10jOIWtOJyqvlIIeheS+IeXSheTtlDdt4NjOIWtzIsMehOL+FdLCJvZtNhjOIWIcgGyTghIehejHA9qK9BnFAOatlOaXw5IcpuID5BIco4fShev3JUZ3VcdF10qXwNjOIWID5BT0RGS+LeBp8eLCJxa39zat1BnF10qXw9IcpnIbMeLCJsIehenCIsImjeXShej3JpnHJpd3DeycvhLCJ1at5vZtNhIcohLCJ1qXBvZtNhIco5M+AlL3seTmFGZSIWID5BX0YOIehevHA9Ztxeycg6M+ghMShevmVBqHwBnbwzIcpnID5BIeheTzIeXShev3JUZ3Vcd3Mey9seTm8OTzIeXShexKl6Z790atl6IcoeQpazIeheTtlDdt4NjOIWtzIsMSh4XSheV7VGj3MeyeI4McgGMTD5MCIsIb1hZt1pqt4xjm9Ujm90iSIWiOJyqSIWM30sI9AoiX1pqKFsvHwBd7vey9sejOIsImjeLCJzI90sIbAOatlOaXw5IcohLCJ1at5vZtNhIco4McgsIDNBiFw9nXgeyc85yTAlL3seTmFGZSIWID5BMDlfS+JPIehevHA9Ztxeycg6M+gh1ShevmVBqHwBnbwzIcpn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IcpnMehNL+IsMShOL+1dLCJvZtNhjOIWIcgGMTghMCIsI9AoiX1pqKFsvHwBd7vey9senCIsImheLCJsIehenCIsImheLCJsI90sIbAOatlOaXw5IcohLCJ1at5vZtNhIcohLCJ1qXBvZtNhIco4M+ghfS4uID5BntveyeJIMDlfS85PMOIsI91hZtVDIcohLcghM+g4LCJSZtFcd7F6d3Mey9seS+JPIeheS85PMOJdLCJxjmlDdt10jOIWtOJIMDYeLCJITDYzI90sIDNUZ3VsdXMey9s4L+8sMSh4XSheV7VGj3MeyeIhLT8hM+geLCJxa39zat1BnF10qXw9IcpnImheLCJbIehenCIsImheXShexXZBat4Bqm49IcoeMCIsIbJ9qt10atl6vK9bneIWI623cCIsIbAOatlOaXw5IcohLCJ1at5vZtNhIcohLCJ1qXBvZtNhIco4M+ghfS4uID5BntveyeJIMDlfS8JOIehevHA9Ztxeycg6M+ghM+8sI9J9qt10qt50jOIWtOJIMDYeLCJIxbIeXShev3JUZ3Vcd3Mey9seS+JPIeheS8JOI90sIDNUZ3VsdXMey9s4L+8sMSh4XSheV7VGj3MeyeIhLT8hM+geLCJxa39zat1BnF10qXw9IcpnImheLCJbIehenCIsImheXShejmVBqHwpnK5Tatd6IcoeQoiMIehej3JpnHJpd3DeycgsIDNpn9w9nXgeycgsIDNBiFw9nXgeyc8hM+AlL3seTmFGZSIWIDROTNlIxKheLCJTj7V9ZCIWMCQhM+ghMShevmVBqHwBnbwzIcpnIDROTOIsIDB+nCJdLCJxjmlDdt10jOIWtOJIMDYeLCJIxKheXSheTtlDdt4NjOIWtz8sMSh4L+FdLCJvZtNhjOIWIcgGyTveLCJxa39zat1BnF10qXw9IcpnImheLCJbIehenCIsImheXShejmVBqHwpnK5Tatd6IcoeQoiMIehej3JpnHJpd3DeycgsIDNpn9w9nXgeycgsIDNBiFw9nXgeycDNfS4uID5BntveyeJJM9lyqvlIIehevHA9Ztxeycg6M+ghM+8sI9J9qt10qt50jOIWtOJJMeIsID5BT0ReXShev3JUZ3Vcd3Mey9seTmFJIeheTmFJTzMeLCJIMDYeXSheTtlDdt4NjOIWtzMs1ehNL+8sMN0s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"}')},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(167),p=i(8),f=i(368),I=i(11),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(r){var o=this.root,s=this.root.viewStack;o.isRestoring=!1;var t,l=r.eq,e=r.forceDelete;(t=l)&&t.forEach&&t.forEach(function(e){"BaseGasMedicineInGasBag"===e.name&&e.addedNode&&1===e.addedNode.length&&"RubberCatheter"===e.addedNode[0].name&&(e=e.addedNode[0],t.includes(e)||t.push(e))}),"all"===r.type&&(o.viewStack.scale.x=o.viewStack.scale.y=1,o.viewStack.x=0,o.viewStack.y=0,o.viewStack.scale.x=o.viewStack.scale.y=1,o.magnifierLayer.clear(),o.microAnimationManager.clearAnimation());var h=[];if(void 0===l){if("selected"!==r.type)return"all"===r.type?void i.apply(this,[r.forceClear]):void 0;if(!this.root.viewStack.selectionLayer.selectedObj)return void i.apply(this,[e]);l=[].concat(this.root.viewStack.selectionLayer.selectedObj)}function i(e){function t(e){if(e){var t=this.root.viewStack.topLayer.children;l=[];for(var i=0;i<t.length;i++){var n=t[i];n instanceof p&&l.push(n)}l=l.concat(this.root.viewStack.eqLayer.children),a(!0),r.callbackTrue&&r.callbackTrue()}r.callback&&r.callback()}e?(t.call(this,!0),this.root.viewStack.eqChildren.length=0):f.confirm({content:r.content||"是否清空舞台?",callback:t.bind(this)})}function a(e){!e&&l.length!==s.eqLayer.children.length||o.emit(d.communicate.angular.CHANGE_PANEL_STATUS,{confArr:null,clearAll:!0});for(var t=s.selectionLayer,i=0;i<l.length;i++){var n=l[i];0<I.extraConfigEq.length&&(0<=(a=I.extraConfigEq.indexOf(n))&&(n.emit(d.HIDE_WHOLE_BUTTON),I.extraConfigEq.splice(a,1)));var a=n===I.currentConfigEq;a||!n.isADropper&&!n.isLiquidDropper||t.selectedObj&&1===t.selectedObj.length&&t.selectedObj[0]===n&&(a=!0),a&&(s.sortIndexOfEquipments(),I.currentConfigEq=null,o.emit(d.communicate.angular.CHANGE_PANEL_STATUS,{confArr:null}),o.emit(d.communicate.angular.CHANGE_EQ_INFO,{info:""})),n.parent&&(h.push(n.parent),a=n,o.resetPascalNode(),function e(t){if(!t.isDeleting){t.emit(d.del.PREPARE_DELETE),t.isDeleting=!0;for(var i=t.children.length-1;0<=i;i--){var n=t.children[i];n&&e(n)}}}(a),a.parent&&(a.parent.removeChild(a),a.emit(d.del.DELETE))),n.hasAnimation&&[n.plugAnimation,n.holdAnimation,n.fun].filter(Boolean).forEach(function(e){e.preDelte(),o.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e],eqNotSelect:!0})})}r.eqNotSelect||t.clear()}a()}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),I=i(52),g=i(31),m=i(32),y=i(16),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){g.register(m.EXTRACTGLASSSTOPPER),g.register(m.ADDGLASSSTOPPER);var t=e.container;t.addChild(t.head),t.head.z_index=25.05,t.isCovered=function(){return i.parent===t};var i=t.head;"BaseSolidBrownMedicine"===t.medTypeName&&(i.alpha=.8,i.gotoAndStop(2));var n=t.headArea||t,a={x:i.x,y:i.y},r=e.outter,o=e.invert,s=i.parent;i.headIndex&&s.addChildAtWithSamePos(i,i.headIndex);var l=i.headIndex||s.getChildIndex(i);NBDrag.addDrag(t.head),i.on(NBDrag.event.PREPARE_DRAG,function(){"BaseSolidBrownMedicine"===t.medTypeName&&i.gotoAndStop(0);TweenMax.killTweensOf(i),i._gsTweenID&&delete TweenLite._internals.tweenLookup[i._gsTweenID];s=i.parent,u.eqLayer.addChildWithSamePos(this),t.headBg&&!t.isDeleting&&s!==t&&(t.headBg.alpha=.5);s&&s!=u.eqLayer&&s.isBaseContainer&&("PlasticBottleMedicine"!==t.name&&g.play(m.EXTRACTGLASSSTOPPER),s.removeCoverBody(),h.resetPascalNode());d.changeMouseStatus(y.status.CLOSE,!0,i)}),i.on(NBDrag.event.STOP_DRAG,function(){t&&t.headBg&&!t.isDeleting&&(t.headBg.alpha=0);{var e;i.hitTest(n)&&c()&&(r?(t.addChildWithSamePos(i),i.saveIndex&&t.addChildAt(i,i.saveIndex)):t.addChildAtWithSamePos(i,l),t.addCoverBody instanceof Function&&t.addCoverBody(),d.changeMouseStatus(y.status.OPEN,!0,i),i.parent&&i.parent.isBaseContainer&&"PlasticBottleMedicine"!==t.name&&g.play(m.EXTRACTGLASSSTOPPER),e=I.distance(i,a),TweenMax.to(i,e*nb.SECOND_PER_PIXEL,{x:a.x,y:a.y,onComplete:function(){"BaseSolidBrownMedicine"===t.medTypeName&&i.gotoAndStop(2),p()}}),TweenMax.to(i,e*nb.SECOND_PER_PIXEL/2,{onComplete:function(){"AlcoholBurner"===t.name&&(t.ifDestroyPar=!0)}}),h.resetPascalNode())}f(!0)}),i.on(NBDrag.event.DRAG_MOVE,f);var h=t.root,c=e.headCanCover instanceof Function?e.headCanCover:function(){return!0};t.headMoveTo=function(e,t){h.viewStack.eqLayer.addChildWithSamePos(i),i.x=e,i.y=t,f(!0)};var u=this.root.viewStack;var d=i.root.mouseManager;function p(){t.emit("change",{isCoverd:!i._reverse})}function f(e){o&&(i.hitTest(n)?(i._reverse&&(i._reverse=!i._reverse,TweenMax.to(i,nb.SECOND_PER_RADIUS*i.rotation,{rotation:0,onComplete:p})),!0===e&&TweenMax.to(i,nb.SECOND_PER_RADIUS*i.rotation,{rotation:0,onComplete:p})):(i._reverse||(i._reverse=!i._reverse,TweenMax.to(i,nb.SECOND_PER_RADIUS*(Math.PI-i.rotation),{rotation:Math.PI,onComplete:p})),!0===e&&TweenMax.to(i,nb.SECOND_PER_RADIUS*(Math.PI-i.rotation),{rotation:Math.PI,onComplete:p})))}i.on(MouseEvent.MOUSE_OVER,function(){i.parent===i.root.viewStack.eqLayer?d.changeMouseStatus(y.status.CLOSE,!0,i):d.changeMouseStatus(y.status.OPEN,!0,i)}),i.on(MouseEvent.MOUSE_OUT,function(){i.parent===i.root.viewStack.eqLayer?d.changeMouseStatus(y.status.CLOSE,!1,i):d.changeMouseStatus(y.status.OPEN,!1,i)})}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),I=i(8),d=i(52),g=i(18),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){e=e.dragObj;function f(e,t){var i,t=1<arguments.length&&void 0!==t&&t;e._pourOutObj_?(e._pourOutObj_.showBorder(!1),(i=e._pourOutObj_).growLiquid&&(i.growLiquid.deltaCapacity=0),i._pourInObj_&&i._pourInObj_.growLiquid&&(i._pourInObj_.growLiquid.deltaCapacity=0),t&&e.checkAutoIncline&&e.checkAutoIncline()&&(TweenMax.killTweensOf(e),TweenMax.to(e,.5,{rotation:0})),delete e._pourOutObj_._pourInObj_,delete e._pourOutObj_):e._pourInObj_&&((i=e._pourInObj_).growLiquid&&(i.growLiquid.deltaCapacity=0),i._pourOutObj_&&i._pourOutObj_.growLiquid&&(i._pourOutObj_.growLiquid.deltaCapacity=0),t&&i.checkAutoIncline&&i.checkAutoIncline()&&(TweenMax.killTweensOf(i),TweenMax.to(i,.5,{rotation:0})),delete e._pourInObj_._pourOutObj_,delete e._pourInObj_)}function i(){var e;f(this),this.vRotateSprite&&(e=!!this.rotateCircle&&this.rotateCircle.visible,this.vRotateSprite.setEnabled(!1,e),delete this.vRotateSprite),this.removeListener("update",o)}function o(){var e,t;void 0!==this._pourInObj_&&this._pourInObj_.pourIn?(e=this._pourInObj_.pourIn.toGlobal({x:0,y:0}),t=this.pourOut.toGlobal({x:0,y:0}),80<d.distance(e,t)&&i.apply(this)):i.apply(this)}e.on(NBDrag.event.START_DRAG,function(){f(this,!0)}),e.on(NBDrag.event.STOP_DRAG,function(){var e,t,i,n,a,r;(function(){if(void 0!==this.pourOut&&(this.isOpen||this.getPourInObj())&&(!this.isCoverGS||this.openArea&&"right"===this.openDirection)&&(!this.checkCanPour||this.checkCanPour())){var e=g.retrieveRotation(this.worldTransform);if(e>-Math.PI/2&&e<Math.PI/2){for(var t=this.getEquipments(),e=t.length,i=[],n=e-1;0<=n;n--){var a=t[n];if(a!==this&&(!a.noInteract&&a instanceof I&&(!a.isCoverGS||a.openArea&&"left"===a.openDirection)&&!(a.currentPlug&&a.parent!=a.currentPlug||a.isCovered instanceof Function&&a.isCovered()||a.stopShowBorder||a.isKippsCenter&&a.addedCatheter||a.getSelfParent()===this)))if(a.parent!==this&&a.parent!==this.currentPlug){var r=g.retrieveRotation(a.worldTransform);if(a.chooseArea&&a.getChooseAreaMaxY instanceof Function){if(a.pourIn===a.pourInChoice0&&!(r>-Math.PI/2&&r<Math.PI/2))continue;if(a.pourIn===a.pourInChoice1&&r>-Math.PI/2&&r<Math.PI/2)continue}else if(!(r>-Math.PI/2&&r<Math.PI/2))continue;r=this.pourOutHitArea||this;(a.containerHitArea&&!a.isHardGlass?r.hitTest(a.containerHitArea):a.bg?r.hitTest(a.bg):r.hitTest(a))&&a.pourIn&&i.push(a)}else this.showBorder(!1)}if(i.length){for(var o,s=1/0,l=0;l<i.length;l++){var h=i[l],c=function(e,t){t=e.toLocal(new PIXI.Point(t.x,t.y),t.parent);return t.x*t.x+t.y*t.y}(this,h.pourIn);c<s&&(s=c,o=h)}if(this.showBorder(!0,o),"BigBeaker"===o.name)for(var u=null,d=0,p=o.children.length;d<p;d++)if("Pledget"==(u=o.children[d]).name){o=u;break}this._pourInObj_!==o&&f(this),(this._pourInObj_=o)._pourOutObj_=this}else this.showBorder(!1),f(this)}}}).call(this),this.stopContainerAdsotb||this.parent!==this.getViewStack().eqLayer||!this.parent||this._pourInObj_&&/HardGlassTube$/.test(this._pourInObj_.name)&&this._pourInObj_.medicineData.solidAry.C2H4?this.showBorder(!1):this._pourInObj_&&this._pourInObj_.parent!==this?(this._pourInObj_.emit(NBEvent.HIDE_WHOLE_BUTTON),this.showBorder(!1),e=this.rotation,this.rotation=0,this.updateTransform(),this._pourInObj_.checkAutoIncline&&this._pourInObj_.checkAutoIncline()?(n=this._pourInObj_.rotation,this._pourInObj_.onBalance||(this._pourInObj_.rotation=Math.PI/10,this._pourInObj_.updateTransform()),t=this._pourInObj_.pourIn.toGlobal({x:0,y:0}),this._pourInObj_.rotation=n,this._pourInObj_.addWholeRotateType([],!0),this._pourInObj_.onBalance||TweenMax.to(this._pourInObj_,.5,{rotation:Math.PI/10})):(this._pourInObj_.updateTransform(),t=this._pourInObj_.pourIn.toGlobal({x:0,y:0})),i=this.pourOut.toGlobal({x:0,y:0}),a=this.getViewStack().scale.x,n=(t.x-i.x)/a,a=(t.y-i.y)/a,this.rotation=e,(r=this).changePic instanceof Function&&this.changePic(),r.addWholeRotateType([],!0),TweenMax.to(this,.5,{x:this.x+n,y:this.y+a,rotation:0,onComplete:function(){r.getGlobalVertexes(!0),r.enableRotate(!0,void 0,0),r.on("update",o)}})):this.resetPic instanceof Function&&this.resetPic()}),e.on(NBEvent.del.PREPARE_DELETE,function(){i.apply(this)})}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=this.root.renderer.view,i=this.root,n=this.root.viewStack,a=n.selectionLayer.bgLayer;e.enabled?$(t).attr("oncontextmenu","return true"):($(t).attr("oncontextmenu","return false"),a.on(MouseEvent.TOUCH_BEGIN,function(e){e&&void 0!==(e.button||e.which)&&0!==e.button&&1!==e.which||this.root.getScaleAndDragAble()&&(a.zoomObj&&1<a.zoomObj.getTouchCount()?r():(i.setSingleTouchStageMove(!0),a.off(MouseEvent.TOUCH_END,r).on(MouseEvent.TOUCH_END,r),a.off(MouseEvent.TOUCH_END_OUTSIDE,r).on(MouseEvent.TOUCH_END_OUTSIDE,r),$(window).on("mouseup.left",r),i.emit(NBEvent.communicate.angular.RIGHT_MOUSE_DOWN,e),e=e.data.global,e.x,e.y,n.activeZoomGesture=!1))}));function r(e){e&&void 0!==(e.button||e.which)&&0!==e.button&&1!==e.which||(i.setSingleTouchStageMove(!1),a.off(MouseEvent.TOUCH_END,r),a.off(MouseEvent.TOUCH_END_OUTSIDE,r),$(window).off("mouseup.left",r),n.checkStagePosChange(!0))}}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(8),p=i(196),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=e.children;e=e.data,this.recurse(t,e),delete e.containsBaseEq}},{key:"recurse",value:function(e,n){var a,r=this,o=[];if(n&&n.fromeCopy)a=e,delete n.fromeCopy,i();else if(e instanceof Array)for(var t=0;t<e.length;t++)a=e[t].children||e[t],i();else a=e.children||e,i();function i(){for(var e=0;e<a.length;e++){var t=a[e];if(!(t instanceof PIXI.Graphics)&&(!t.cannotSave&&t instanceof PIXI.Container)){var i=null;if(t instanceof p||!(t instanceof d||t.equationInfo)){if(void 0===t.name)continue;i={instanceName:t.name}}else try{i=t.toJSON(),n.containsBaseEq=!0,i.containsBaseEq=!0}catch(e){continue}o.push(i),r.recurse(t,i||{instanceName:t.name})}}}for(var s=0;s<o.length;s++)void 0===o[s].containsBaseEq?(o.splice(s,1),s--):delete o[s].containsBaseEq;n.children=o}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){var e={},t=this.root;e.chemBackGroundColor=t.getBackgroundColor();var i=t.viewStack;e.viewStack={x:i.x,y:i.y,scaleX:i.scale.x,scaleY:i.scale.y};var n=i.topLayer,i=[].concat(i.eqLayer);return i.push(n),t.execute(NBCommand.GET_CHILDREN_JSON,{children:i,data:e}),e}}]),t}()},function(e,t,i){"use strict";var a=i(4),r=i(129),o=i(366),s=i(223),n=i(367),l=i(69),h=i(46),c=i(0),u=c(i(124)),d=c(i(1)),p=c(i(2)),f=c(i(5)),I=c(i(6)),g=c(i(3));function m(t,e){var i,n=r(t);return o&&(i=o(t),e&&(i=i.filter(function(e){return s(t,e).enumerable})),n.push.apply(n,i)),n}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach(function(e){(0,u.default)(t,e,i[e])}):n?l(t,n(i)):m(Object(i)).forEach(function(e){h(t,e,s(i,e))})}return t}function v(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,g.default)(i);return t=n?(e=(0,g.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,I.default)(this,t)}}var C=i(15),M=i(18),i=function(){(0,f.default)(c,C);var e=v(c);function c(){return(0,d.default)(this,c),e.apply(this,arguments)}return(0,p.default)(c,[{key:"execute",value:function(e){var t,i,n,a;e.name?t=e:(t=e.eq,i=e.ismini),t&&t.getBounds&&t.getStageToDomPos;var r,o,s,l,h=t.originLocalBounds||t.localBounds||t.getLocalBounds(),e=t.worldRotation;if((e=void 0===e?M.retrieveRotation(t.worldTransform):e)>=Math.PI/2&&e<Math.PI?a=1:e<=-Math.PI/2?n=a=1:e<0&&e>-Math.PI/2&&(n=1),l="RubberCatheter"===t.name?(o=t.leftHead.getBounds(),s=t.rightHead.getBounds(),r=(o.right+s.right)/2,(o.y+s.y)/2-50):(t.instanceName.includes("EleTester")&&(h=t.getLocalBounds()),e=t.toGlobal({x:h.x,y:h.y}),o=t.toGlobal({x:h.x+h.width,y:h.y}),s=t.toGlobal({x:h.x,y:h.y+h.height}),l=t.toGlobal({x:h.x+h.width,y:h.y+h.height}),r=Math.max(e.x,o.x,s.x,l.x),Math.min(e.y,o.y,s.y,l.y)),t.rotateSpriteIcon&&t.rotateSpriteIcon.button&&t.rotateSpriteIcon.button.visible&&(r=c.getMaxRight(t.rotateSpriteIcon.button,r)),t.extendSprite&&t.extendSprite.button&&t.extendSprite.button.visible&&(r=c.getMaxRight(t.extendSprite.button,r)),t.RGCRotateSpriteIcon&&t.RGCRotateSpriteIcon.button&&t.RGCRotateSpriteIcon.button.visible&&(r=c.getMaxRight(t.RGCRotateSpriteIcon.button,r)),i)return t.getStageToDomPos({x:r,y:l});h=t.toGlobal({x:h.x+h.width+10,y:h.y+70});return y(y({},t.getStageToDomPos(h)),{},{topOffset:n,leftOffset:a})}}],[{key:"getMaxRight",value:function(e,t){var i=e.allowGetBounds;e.allowGetBounds=!0;var n=e.getBounds().right;return e.allowGetBounds=i,Math.max(t,n)}}]),c}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),m=nape.geom.Vec2,i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t;e.dis&&e.dis.parent&&e.dis.parent.isBaseContainer&&(t=e.dis.parent,this.checkStirInLiquid(e.dis,t),this.stirSolidGra(e.dis,t))}},{key:"checkStirInLiquid",value:function(e,t){if(!(t.getCurrentCapacity()<1)){var i=e.getLocalBounds();if(!(e.toGlobal({x:i.x+i.width/2,y:i.y+i.height}).y<t.liquidVertex[0].y)){t.chargeMn2O7Boom(1);i=t.stirLiquidCount||0;if(i+=2,i=Math.min(10,i),t.stirLiquidCount=i,null!=t.stirCount){for(var n=t.medicineData.liquidAry,i=t.medicineData.solidAry,a=0;a<n.length;a++){var r=n[a],o=r.getMol();if(!(isNaN(o)||o<1e-7)&&"C17H35COONa"===r.name){t.stirCount++,t.soapMol=r.mol;break}}80<=t.stirCount&&(t.containSoap=!0,t.soapCount=0),t.containSoap&&i["(C17H35COO)2Ca"]&&(t.containSoapCa=!0)}null!=t.stirSedCount&&(t.medicineData.liquidAry.length&&t.stirSedCount++,80<=t.stirSedCount&&t.showSedimentParticle&&t.showSedimentParticle())}}}},{key:"stirSolid",value:function(t,e,i,n){var a=i.particleMedContainer.children,r=i.toLocal({x:0,y:0},e.bg),o=10;if(e.lastPosX){if(t)o=(o=100<(o=Math.floor(e.x-e.lastPosX))?100:o)<-100?-100:o;else{i.a_para<3&&(i.a_para+=.05);for(var s,l=i.toLocal(i.liquidVertex[0]).y,h=e.localBounds.height+e.y,c=1e4,u=0;u<a.length;u++)a[u].y<c&&(c=a[u].y);if(i.activeCount=nb.ACTIVE_COUNT,o=(o=200<(o=5*Math.floor(e.x-e.lastPosX))?200:o)<-200?-200:o,l<h&&(s=Math.abs(e.x-e.lastPosX)/10,l=i.maxWaveHeight,i.maxWaveHeight=l<s?s:l),a.length<1||h+5<=c)return;e.lastPosX=e.x}for(var d=0;d<a.length;d++){var p=a[d],f=0;p.solidMedicineInfo.forEach(function(e){f=e.mm*e.mol,e.graphicInfo&&"ellipse"===e.graphicInfo.shape&&!t&&(f*=.3)});var I=p.napeShape.get_body(),g=r.x-p.x,p=1-Math.abs(g/i.localBounds.width),g=void 0,g=t?p*o*f*(1-2*Math.random()):p*o*f*(1-2*Math.random())*i.a_para,p=I.get_velocity().get_length();n<p&&(g*=Math.pow(1-(p-n)/p,t?.6:.5)),I.applyImpulse(new m(g,0),I.get_position())}}else e.lastPosX=r.x}},{key:"stirSolidGra",value:function(e,t){(!t.isBaseChangeAlphaContainer||0<t.particleMedContainer.children.length)&&this.stirSolid(t.isBaseChangeAlphaContainer,e,t,30)}},{key:"checkBodyIfFluidForce",value:function(e){for(var t=e.get_arbiters(),i=0;i<t.get_length();i++)if(t.at(i).get_type()==nape.dynamics.ArbiterType.get_FLUID())return!0;return!1}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var i=e.container,n=i.head,t=i.headArea||i,a={x:n.x,y:n.y},r=(e.invert,n.parent);NBDrag.addDrag(i.head),n.on(NBDrag.event.PREPARE_DRAG,function(){TweenMax.killTweensOf(n),n._gsTweenID&&delete TweenLite._internals.tweenLookup[n._gsTweenID]}),n.on(NBDrag.event.STOP_DRAG,function(){n.hitTest(t)||n.parent!=r||n.dragRect&&0==n.dragRect.enabled&&!TweenMax.isTweening(n)&&(i.root.viewStack.addChildWithSamePos(n),i.isCoverGS=!1,n.dragRect=void 0,n.removeEventListener("outLeftBounds",c),n.removeEventListener("outRightBounds",c),n.removeEventListener("outTopBounds",c));{var e;!n.hitTest(t)||null!=n.dragRect&&0!=n.dragRect.enabled||!function(e){if(e.children.find(function(e){return"Forceps"===e.name||"WoodenStick"===e.name||"CrucibleTong"===e.name}))return!0;return!1}(t.parent)&&(e=i.children.length,i.addChildAtWithSamePos(n,e),i.isCoverGS=!0,TweenMax.to(n,.3,{x:a.x,y:a.y,onComplete:l}))}}),n.on(NBDrag.event.DRAG_MOVE,h);var o=i.root;function s(){!function(){var e=50,t=124;n.dragRect={x:e-i.localBounds.width/2+30,y:n.y,width:i.localBounds.width+t-60,height:0}}(),n.filtration={x:0,y:10},NBDrag.addDrag(n,n.dragRect,null,null,null,n.filtration),n.on("outLeftBounds",c),n.on("outRightBounds",c),n.on("outTopBounds",c)}function l(){s(),i.emit("change",{isCoverd:!n.reverse})}function h(){}function c(){n.dragRect&&(n.dragRect.enabled=!1),n.filtration&&(n.filtration.enabled=!1)}s(),i.headMoveTo=function(e,t){o.viewStack.addChildWithSamePos(n),n.x=e,n.y=t,h()}}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){var n=this.root,a=n.renderer.view;function e(e,t,i){keyboardJS.bind(e,t?function(){a!==n.renderer.view||document.activeElement instanceof HTMLInputElement||t()}:null,i?function(){a!==n.renderer.view||document.activeElement instanceof HTMLInputElement||i()}:null)}document.addEventListener("mousedown",function(e){a=e.target}),document.addEventListener("touchstart",function(e){a=e.target}),e("f1",function(){},null),e("ctrl + z",function(){},null),e("ctrl + y",function(){},null),e("backspace",this.deleteFunc.bind(this)),e("delete",this.deleteFunc.bind(this)),e("ctrl + c",function(){nb.isDebug&&n.execute(NBCommand.COPY_EQ)}),e("ctrl + v",function(){nb.isDebug&&n.execute(NBCommand.PASTE_EQ)}),e("ctrl + a",function(){n.execute(NBCommand.SELECT_ALL)}),e(["h","space"],function(){n.setSingleTouchStageMove(!0)},function(){n.setSingleTouchStageMove(!1)})}},{key:"deleteFunc",value:function(){var e=this.root,t=e.viewStack.selectionLayer.selectedObj;t&&e.execute(NBCommand.DELETE_EQUIPMENT,{eq:t.concat()})}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){var e,t=[];for(e in window.localStorage)t.push(e);return t}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){var e=i(369);e.registerCommand(e.CAPTURE_SCREEN,function(e){return this.manager.execute(NBCommand.SCREEN_SHOT,e)}.bind(this))}}]),t}()},function(t,e){!function(){var e={CAPTURE_SCREEN:"nb.openAPI.CaptureScreen"},i={};e.registerCommand=function(e,t){i[e]={func:t}},window.parent!==window?window.addEventListener("message",function(e){var t=e.data;t&&t.api&&(e=t.api,i[e]&&(e=i[e].func,t.data=e.call(null,t),window.parent.postMessage(t,"*")))}):window.addEventListener("message",function(e){var t=e.data;t&&(e=t.api,i[e]&&i[e].func.call(null,t))}),window&&(window.nb=window.nb||{},window.nb.openAPI=e);try{t.exports=e}catch(e){}}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=e.medicine;t.getObjectByAABB(t.getBounds()).map(function(e){e&&"CrucibleTong"===e.name&&e._adsorb_(null,t)})}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),c=n(i(96)),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var d=i(15),p=i(11),i=navigator.userAgent.toLowerCase(),i=-1!=i.indexOf("windows")||-1!=i.indexOf("win32"),f=.003;i&&(f=.1);i=function(){(0,s.default)(t,d);var e=u(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t,i,n,a,r,o,s,l=this;function h(){t.root.emit(NBEvent.change.STAGE_MOVE,{x:t.x,y:t.y})}this.root.getScaleAndDragAble()&&(n=this.root.renderer.plugins.interaction,(t=this.root.viewStack).lastScaleTime=(0,c.default)(),o=n.mouse.global,e.deltaY&&(s=1+e.deltaY*f,(i=t.scale.x*s)<p.MIN_SCALE_VALUE?s=(i=p.MIN_SCALE_VALUE)/t.scale.x:i>p.MAX_SCALE_VALUE&&(s=(i=p.MAX_SCALE_VALUE)/t.scale.x),t.activeZoomGesture=!1,t.scale.x=i,t.scale.y=i,r=(t.x-o.x)*s+o.x,a=(t.y-o.y)*s+o.y,setTimeout(function(){l.root.emit(NBEvent.change.ZOOM,{zoom:i})},0),t.x=r,t.y=a,n=t.x,e=t.y,o=(s=this.root).W,r=s.H,a=t.scale.x,o=-(s=p.canvasArea*a)+o+(a=s/2),s=-s+r+(r=s/2),a<n?(t.x=a,h()):n<o&&(t.x=o,h()),r<e?(t.y=r,h()):e<s&&(t.y=s,h())))}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(130)),o=n(i(1)),s=n(i(2)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(15),i=function(){(0,l.default)(t,d);var e=u(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,s.default)(t,[{key:"execute",value:function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{width:460,height:260,quality:.8,downLoad:!1},d="data:image/png;base64,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wpVyAQAAAwA0IwPg3UEAegoAowuAMmtspwYAAGTsPwBgbAf57zy2dwMAgBvAAQBIaQWIaQXY5w9gAQDqKwCi/QHi/QF1cVGdf4csw8V5zIvaBIAvGx19nwRAtAH43jM6OtI0Ovq9BgB7CND6cWyXBwCwXAMgSHdy8nTs6j2x4j936n8BBc0RWL9fr2kAADogaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChNYWNpbnRvc2gpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE5LTAzLTIyVDE1OjE2OjQwKzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOS0wMy0yMlQxNToyMTo1MCswODowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTktMDMtMjJUMTU6MjE6NTArMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjZjNzg2ODFmLTM2YTMtNDMwNS05Njg1LWJiZTc0MDdhYTJhODwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo3YTAxYjk1My1kYTAxLTQ4OTYtOTFkMC0xYzY4MTg0YWIzZjQ8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo3YTAxYjk1My1kYTAxLTQ4OTYtOTFkMC0xYzY4MTg0YWIzZjQ8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6N2EwMWI5NTMtZGEwMS00ODk2LTkxZDAtMWM2ODE4NGFiM2Y0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE5LTAzLTIyVDE1OjE2OjQwKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NmM3ODY4MWYtMzZhMy00MzA1LTk2ODUtYmJlNzQwN2FhMmE4PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE5LTAzLTIyVDE1OjIxOjUwKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+RGlzcGxheTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Puy4oJ8AAAAgY0hSTQAAbicAAHOvAAD2pgAAiY8AAHlwAADwhAAAL9UAABPlXFqtXQAAABNJREFUeNpi+P//PwMAAAD//wMACPwC/tOldWEAAAAASUVORK5CYII=";return new r.default(function(a){var t=chemicalMain.viewStack,e=t.children;e.forEach(function(e){e.visible=e===t.eqLayer||e===t.particleLayer});var i,n=PIXI.settings.RESOLUTION;if(PIXI.settings.RESOLUTION=1,t.eqChildren.length||u.topCanvas){u.topCanvas&&(r=new PIXI.Texture.from(u.topCanvas),i=new PIXI.Sprite(r),t.eqLayer.addChild(i),u.topCanvasOffset&&(o=chemicalMain.W/chemicalMain.canvas.width,i.x=u.topCanvasOffset.x*o,i.y=u.topCanvasOffset.y*o,i.scale.x=o,i.scale.y=o));var r=t.eqLayer.getBounds(),o=t.particleLayer.getBounds(),o=Math.max(r.width,r.height,o.width,o.height),o=2048<o?2048/o:1;1!==o&&(t.eqLayer.scale.x=t.eqLayer.scale.y=o,t.particleLayer.scale.x=t.particleLayer.scale.y=o);try{d=chemicalMain.renderer.extract.base64(chemicalMain.viewStack)}catch(e){}1!==o&&(t.eqLayer.scale.x=t.eqLayer.scale.y=1,t.particleLayer.scale.x=t.particleLayer.scale.y=1),i&&i.parent.removeChild(i)}if(PIXI.settings.RESOLUTION=n,e.forEach(function(e){e.visible=!0}),u.downLoad&&(t.eqChildren.length||u.topCanvas)){var s=document.createElement("a");return s.download=(new Date).getTime()+".png",s.href=d,document.body.appendChild(s),s.addEventListener("click",function(){s.parentNode.removeChild(s)}),void s.click()}e=new Image;e.src=d,d=e;var l=document.createElement("canvas");l.width=u.width,l.height=u.height;var h=l.getContext("2d"),c=l.width/l.height;e.onload=function(){var e,t,i=d.width/d.height,i=c<i?(e=l.width,n=l.width/i,t=0,l.height-n>>1):(n=l.height,t=l.width-(e=i*n)>>1,0);(-1!==window.navigator.userAgent.indexOf("iPad")||/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&h.transform(1,0,0,-1,0,u.height),h.fillStyle="#".concat(("00000"+(0|chemicalMain.getBackgroundColor()).toString(16)).substr(-6)),h.fillRect(0,0,u.width,u.height),h.drawImage(d,t+10,i+10,e-20,n-20);var n=l.toDataURL("image/jpeg",1<u.quality?u.quality/100:u.quality);a(n)}})}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(369);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){var t=this.root;d.registerCommand(d.CAPTURE_SCREEN,function(e){return t.execute(NBCommand.SCREEN_SHOT,e)})}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(253);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){var e=this.root.clipboardManager.getData(d.tag.CLIP_BOARD);e.fromePaste=!0;e=this.root.execute(NBCommand.RESTORE_DATA,e);e.map(function(e){e.once("creationComplete",function(){this.x+=40,this.y+=40}),e.parent.addChild(e)}),this.root.execute(NBCommand.SELECT_ALL,{children:e})}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(11);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){new PIXI.Texture.fromImage(d.config.URI_PREFIX+"assets/catheterSoftLeft.png"),new PIXI.Texture.fromImage(d.config.URI_PREFIX+"assets/catheterSoft.png")}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=e.type,e=this.root.undoManager;"undo"===t?e.undo():"redo"===t&&e.redo()}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(368),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=this.root;function i(){t.execute(NBCommand.RESTORE_DATA,e)}e instanceof Object&&(e=e.data),0!==t.viewStack.eqLayer.children.length?d.confirm({content:"是否清空舞台",callback:function(e){e&&(e=t.viewStack.eqLayer.children,t.execute(NBCommand.DELETE_EQUIPMENT,{eq:e})),i()}}):i()}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(229)),o=n(i(61)),s=n(i(1)),l=n(i(2)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(15),f=i(74),I=i(361),g=i(251).ChemicalEquation,i=function(){(0,h.default)(t,p);var e=d(t);function t(){return(0,s.default)(this,t),e.apply(this,arguments)}return(0,l.default)(t,[{key:"execute",value:function(e){if("string"==typeof(e="object"===(0,o.default)(e)?(0,r.default)(e):e))try{e=JSON.parse(e)}catch(e){return void this.root.emit(NBEvent.communicate.angular.LOADED_RESTORE_DATA,{loaded:!0})}if(e){var t=this.root.viewStack.eqLayer;0<=e.chemBackGroundColor&&this.root.execute(NBCommand.CHANGE_BACKGROUND,{color:e.chemBackGroundColor}),e.fromePaste?delete e.fromePaste:this.root.execute(NBCommand.DELETE_EQUIPMENT,{type:"all",forceClear:!0}),this.root.isRestoring=!0;var i=this.root.viewStack;return(e.viewStack&&((!e.children||e.children.length<1)&&(e.viewStack.x=e.viewStack.y=0,e.viewStack.scaleX=e.viewStack.scaleY=1),i.x=e.viewStack.x,i.y=e.viewStack.y,i.scale.x=e.viewStack.scaleX||e.viewStack.scale.x,i.scale.y=e.viewStack.scaleY||e.viewStack.scale.y),e.magnifierData&&this.root.magnifierLayer.setData(e.magnifierData),e.microAniData&&this.root.microAnimationManager.setData(e.microAniData),!e.children||e.children.length<1)?(this.root.emit(NBEvent.communicate.angular.LOADED_RESTORE_DATA,{loaded:!0}),void(this.root.isRestoring=!1)):(this.eqCount=0,this.loadedEqCount=0,this.recurse(t,e.children))}this.root.emit(NBEvent.communicate.angular.LOADED_RESTORE_DATA,{loaded:!0})}},{key:"recurse",value:function(o,e){var s=this,l=[],h=this,c=e;if(!c)return l;for(var t=0;t<c.length;t++)!function(e){var t,i,n,a=c[e],r=(a=I.nameReplace(a)).name;void 0!==r?(e={name:r},"PE"===r&&void 0!==a.isBurning&&(a.name=e.name="PlasticBrick",a.instanceName=a.instanceName.replace("solid.PE","aid.PlasticBrick")),a.constructorAttribute&&(e.constructorAttribute=a.constructorAttribute),(e=s.root.execute(NBCommand.CREATE_EQUIPMENT,e))&&(h.eqCount++,e.once("creationComplete",function(){h.loadedEqCount++,h.loadedEqCount===h.eqCount&&(h.root.emit(NBEvent.communicate.angular.LOADED_RESTORE_DATA,{loaded:!0}),setTimeout(function(){h.root.isRestoring=!1},100)),f.addDrag(this,null,{bringToFront:!0});try{this.setJSON(a),h.recurse(this,a.children)}catch(e){}}),o.children.length>=a.index?o.addChildAt(e,a.index):o.addChild(e)),l.push(e)):a.equationInfo?(t=s.root.viewStack,i=new g(a.equationInfo,!0,s.root,!0,!0),h.loadedEqCount++,n=(n=t.scale.x)<1?1/n:n>nb.INFO_TEXT_MAX_SCALE?nb.INFO_TEXT_MAX_SCALE/n:1,i.scale.x=i.scale.y=n*nb.CHEM_EQU_INFO_DEFAULT_SCALE/2,t.eqLayer.addChild(i),t.eqChildren.push(i),f.addDrag(i),i.x=a.pos.x,i.y=a.pos.y,i.on(NBEvent.del.PREPARE_DELETE,function(){var e=t.eqChildren.indexOf(i);0<=e&&t.eqChildren.splice(e,1)})):(n=a.instanceName,s.recurse(o[n],a.children))}(t);return!h.eqCount&&h.root.isRestoring&&(h.root.emit(NBEvent.communicate.angular.LOADED_RESTORE_DATA,{loaded:!0}),setTimeout(function(){h.root.isRestoring=!1},100)),l}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(229)),o=n(i(1)),s=n(i(2)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(15);e.exports=function(){(0,l.default)(t,d);var e=u(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,s.default)(t,[{key:"execute",value:function(e){var t={};t.chemBackGroundColor=this.root.getBackgroundColor();var i=this.root.viewStack;if(t.viewStack={x:i.x,y:i.y,scaleX:i.scale.x,scaleY:i.scale.y},t.magnifierData=this.root.magnifierLayer.getData(),t.microAniData=this.root.microAnimationManager.getData(),this.root.isRestoring)return(0,r.default)(t);var n=i.topLayer,i=[].concat(e.parent||this.root.viewStack.eqLayer);return i.push(n),this.root.execute(NBCommand.GET_CHILDREN_JSON,{children:i,data:t}),this.tag=e.tag,e.eqName&&("string"==typeof e.eqName&&(e.eqName=JSON.parse(e.eqName)),t.eqName=e.eqName.eqName),this.jsonData=t,e.noImgData?this.setTag(!0,e.emitComplete):(t.imgData=this.root.execute(NBCommand.SCREEN_SHOT),this.setTag(!1,e.emitComplete)),(this.jsonData=null,r.default)(t)}},{key:"setTag",value:function(e,t){var i;this.tag&&((i=window.localStorage)&&i.setItem(this.tag,(0,r.default)(this.jsonData)),this.tag=null),t||this.root.emit(NBEvent.communicate.angular.SAVE_DATA_COMPLETE,this.jsonData)}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{width:460,height:260,quality:.8,downLoad:!1};t.quality=1<t.quality?t.quality/100:t.quality;var i=new PIXI.Graphics,n=PIXI.settings.RESOLUTION;PIXI.settings.RESOLUTION=1;var a=this.root.viewStack;a.children.forEach(function(e){e!==a.eqLayer&&e!==a.particleLayer&&(e.visible=!1)});var r,o=0===a.eqLayer.children.length&&0===a.particleLayer.children.length&&!t.topCanvas;o&&(a.eqLayer.addChild(i),i.beginFill(this.root.getBackgroundColor(),0),i.drawRect(0,0,t.width,t.height),i.endFill()),t.topCanvas&&(r=new PIXI.Sprite(new PIXI.Texture.from(t.topCanvas)),a.eqLayer.addChild(r),t.topCanvasOffset&&(l=this.root.W/this.root.canvas.width,r.x=t.topCanvasOffset.x*l,r.y=t.topCanvasOffset.y*l,r.scale.x=l,r.scale.y=l));var s,l,h=a.getBounds(),c=Math.min(1,t.width/h.width*a.scale.x,t.height/h.height*a.scale.x);return a.eqLayer.scale.set(c),a.particleLayer.scale.set(c),t.downLoad?o?this.root.emit(NBEvent.communicate.angular.DOWNLOAD_EMPTY_IMG,{}):((s=document.createElement("a")).download=(new Date).getTime()+".png",e=this.root.renderer.extract.base64(a),s.href=e,document.body.appendChild(s),s.addEventListener("click",function(){s.parentNode.removeChild(s)}),s.click()):(l=(t.width+20/t.height*t.width)/c,o=(t.height+20)/c,h=a.getBounds(),t=a.eqLayer.toLocal(new PIXI.Point(h.x,h.y)),i.clear(),a.eqLayer.addChildAt(i,0),i.beginFill(this.root.getBackgroundColor(),1),i.drawRect(t.x-(l-h.width/c/a.scale.x)/2,t.y-(o-h.height/c/a.scale.x)/2,l,o),i.endFill(),e=this.root.renderer.extract.base64(a)),a.eqLayer.scale.set(1),a.particleLayer.scale.set(1),a.children.forEach(function(e){e.visible=!0}),i.parent&&i.parent.removeChild(i),i.destroy(),r&&(r.parent.removeChild(r),r.destroy()),PIXI.settings.RESOLUTION=n,e}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(25)),o=n(i(130)),s=n(i(1)),l=n(i(2)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(15),i=function(){(0,h.default)(t,p);var e=d(t);function t(){return(0,s.default)(this,t),e.apply(this,arguments)}return(0,l.default)(t,[{key:"execute",value:function(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,quality:.8,type:"png",transparent:!1},d=this,p=(0,r.default)(this.root.canvas.style.width),f=(0,r.default)(this.root.canvas.style.height),e=this.root.W/p,t=this.root.H/f,I=u.outWidth&&0<u.outWidth?u.outWidth:p,g=u.outHeight&&0<u.outHeight?u.outHeight:f,m=(u.x||0)*e,y=(u.y||0)*t,v=(u.width||p)*e,C=(u.height||f)*t,M=u.type&&"png"===u.type.toLowerCase()?"image/png":"image/jpeg";return new o.default(function(t,e){d.root.getBackgroundColor();d.root.renderer.render(d.root);var i=d.root.canvas,n=document.createElement("canvas");n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0);var n=n.toDataURL(),a=new Image;a.src=n,a.width=p,a.height=f,a.style.width=p+"px",a.style.height=f+"px";var r=document.createElement("canvas");r.width=I,r.height=g,r.style.width=I+"px",r.style.height=g+"px";var o,s,l,h=r.getContext("2d"),n=v/C,c=I/g<n?(l=0,(g-(s=(o=I)/n))/2):(l=(I-(o=n*(s=g)))/2,0);a.onload=function(){0<u.width&&0<u.height&&(u.width!==p||u.height!==f)?h.drawImage(a,m,y,v,C,l,c,o,s):h.drawImage(a,l,c,o,s);var e=r.toDataURL(M,u.quality);t(e)}})}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=(i(8),i(256).NBCommand),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){this.root.execute(d.communicate.angular.CHANGE_PANEL_STATUS,{children:[]});var t=this.root.viewStack,i=t.selectionLayer,e=(t.topLayer,(e&&e.children?e:t.eqLayer).children);e=[].concat(e).concat(t.getOtherDisplay()),i.clear(),i.selectedChildren(e)}}]),t}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(59)),r=n(i(1)),o=n(i(2)),s=i(15),l=i(108);e.exports=function(){function t(e){(0,r.default)(this,t),this.map={},e.on("execute",function(e){var t=e.type,e=e.data;this.execute(t,e)}),this.root=e,l.registerCommand(this)}return(0,o.default)(t,[{key:"registerCommand",value:function(e,t){if(this.map[e])throw e+"命令重复";this.map[e]=t}},{key:"executeCommand",value:function(e,t,i){e=this.map[e];if(e){e=new e;if(!(e instanceof s))throw"commandClass必须继承ICommand";return e.root=this.root,e.manager=this,e.execute.apply(e,[t].concat((0,a.default)(i?[i]:[])))}}},{key:"execute",value:function(){return this.executeCommand.apply(this,arguments)}}]),t}()},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(370),s=nape.geom.Vec2,l=i(257),h=i(957),i=function(){function e(){(0,a.default)(this,e),this.isDebug=!1,this.timeStep=1/60,this.velocityIterations=10,this.positionIterations=10,this.space=null,this.touchManager=null,this._gravity=new s(0,l.DEFAULT_GRAVITY),this.viewSync=null,this._enabledDeviceGravity=!1,this._enabledForceAnalysis=!1,this._play=!0,this.timerInd=0,this.rootGroup=new nape.dynamics.InteractionGroup(!0)}return(0,r.default)(e,[{key:"init",value:function(){this.space=new o(this._gravity),this.space.set_worldAngularDrag(0),this.space.set_worldLinearDrag(0),this.viewSync=new h(this),this.createWall(),this.keyTest()}},{key:"keyTest",value:function(){var t=arguments,i=this;document.onkeydown=function(e){e=e||window.event||t.callee.caller.arguments[0];e&&112===e.keyCode&&(i.isDebug=!i.isDebug)}}},{key:"update",value:function(){this.space.step(this.timeStep,this.velocityIterations,this.positionIterations),this.viewSync.update(),this.timerInd++}},{key:"createWall",value:function(){}},{key:"getGravity",value:function(){return this._gravity.get_y()/l.DEFAULT_GRAVITY*l.EARTH_GRAVITY}},{key:"getTimer",value:function(){return Math.floor(this.timerInd*this.timeStep*1e3*1.2)}}]),e}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(371),i=function(){function t(e){(0,a.default)(this,t),(this._nape=e).renderCount=0,this.tick=null,this.debugDraw=new o(this._nape),e.root.viewStack.addChild(this.debugDraw)}return(0,r.default)(t,[{key:"timer",value:function(){var e=this;this.tick=new PIXI.ticker.Ticker,this.tick.add(function(){e.update()}),this.tick.start()}},{key:"update",value:function(){var e,t;this._nape.isDebug?this.debugDraw.draw():this.debugDraw.clear(),0<this._nape.renderCount&&(e=this._nape.space.get_constraints(),i=this._nape.space.get_compounds(),t=this._nape.space.get_bodies(),this.updateJoint(e),this.updateBody(t),this.updateComp(i),this._nape.renderCount--);var i=this._nape.root.viewStack;this._nape.root.isRestoring||(i.eqChildren.map(function(e){e.isCreationComplete&&(e.update(1/60),e.emit("update",{dt:1/60}))}),i.infoLayer.updateInfo(i.eqChildren))}},{key:"updateComp",value:function(e){for(var t=0;t<e.get_length();t++){var i=e.at(t),n=i.get_bodies();this.updateJoint(i.get_constraints()),this.updateBody(n)}}},{key:"updateJoint",value:function(e){for(var t=0;t<e.get_length();t++){var i=e.at(t);i.userData&&i.userData.view&&i.userData.view.update(),i.updateStep&&i.updateStep()}}},{key:"updateBody",value:function(e){for(var t=0;t<e.get_length();t++){var i,n,a,r=e.at(t);r&&r.userData&&((a=r.userData.view)&&(a.napeObj?(i=n=void 0,a.napeObj.get_type()===nape.phys.BodyType.get_DYNAMIC()?(i={x:r.get_position().get_x(),y:r.get_position().get_y()},r.userData.coordinateField&&(i=r.userData.coordinateField.toLocal(i,a.parent.getViewStack())),a.x=i.x,a.y=i.y,a.rotation=r.get_rotation()):(i=a.toGlobal({x:0,y:0}),i=a.getViewStack().toLocal(i),n=r.get_position().copy(),r.get_position().set_x(i.x),r.get_position().set_y(i.y)),a.refreshxy&&a.refreshxy(i.x-n.get_x(),i.y-n.get_y())):(n={x:r.get_position().get_x(),y:r.get_position().get_y()},r.userData.coordinateField&&(n=r.userData.coordinateField.toLocal(n,a.parent.getViewStack())),a.x=n.x,a.y=n.y,a.rotation=r.get_rotation())),a&&7680<r.get_velocity().get_y()&&((a=r.userData.view)&&a.parent&&"WeightBox"===a.parent.name&&a.isDragging||(a&&"function"==typeof a.destroy&&(r.userData.view.destroy(),r.userData.view=null,a.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[a]})),r.get_space()&&r.get_space().remove(r))))}}}]),t}();e.exports=i},function(module,exports,__webpack_require__){"use strict";var _Reflect$construct=__webpack_require__(4),_interopRequireDefault=__webpack_require__(0),_parseFloat2=_interopRequireDefault(__webpack_require__(77)),_set=_interopRequireDefault(__webpack_require__(60)),_classCallCheck2=_interopRequireDefault(__webpack_require__(1)),_createClass2=_interopRequireDefault(__webpack_require__(2)),_inherits2=_interopRequireDefault(__webpack_require__(5)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(3));function _createSuper(i){var n=_isNativeReflectConstruct();return function(){var e,t=(0,_getPrototypeOf2.default)(i);return t=n?(e=(0,_getPrototypeOf2.default)(this).constructor,_Reflect$construct(t,arguments,e)):t.apply(this,arguments),(0,_possibleConstructorReturn2.default)(this,t)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!_Reflect$construct)return!1;if(_Reflect$construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(_Reflect$construct(Boolean,[],function(){})),!0}catch(e){return!1}}var LiquidVO=__webpack_require__(33),SolidVO=__webpack_require__(20),ionMedVo=__webpack_require__(166),DissolveVO=__webpack_require__(194),GasVO=__webpack_require__(27),ChemicalUtil=__webpack_require__(22),ChemicalUtilTool=__webpack_require__(45),solCurveEq=__webpack_require__(959),nb=__webpack_require__(11),LiquidUtil=__webpack_require__(255),TempUtil=__webpack_require__(79),LoadFundamentalData=__webpack_require__(193),solutionFormulaMap={ChemicalFormula:function(e){return 1.5*e}},MedicineManager=function(_PIXI$EventEmitter){(0,_inherits2.default)(MedicineManager,_PIXI$EventEmitter);var _super=_createSuper(MedicineManager);function MedicineManager(e){var t;return(0,_classCallCheck2.default)(this,MedicineManager),(t=_super.call(this)).root=e,t.medData={},t.medIdData={},t}return(0,_createClass2.default)(MedicineManager,[{key:"afterDataLoaded",value:function(){for(var e=LoadFundamentalData.dataList.nbMedicine,t=(e=LiquidUtil.convertGas(e)).length,i=0;i<t;i++){var n=e[i],a=n.chemical;n.solubility=n.sol_curve?this.getSolution(a,25):n.solubility;var r=n.id;solCurveEq[a]&&(n.sol_curve=solCurveEq[a]),a&&(this.medData[a]=n,ChemicalUtil.setMoleculeDensity(a,n.density_solid,n.density_liquid,n.density_gas)),r&&(this.medIdData["id_"+r]=n)}ChemicalUtil.getMedicineData=this.getMedicineData,this.emit("loaded");var o=this.medData.O2,s=this.medData.N2;this.airGas=[new GasVO(o,2e5),new GasVO(s,8e5)],ChemicalUtil.root=this.root,ChemicalUtil.EffectFuncs.forEach(ChemicalUtil.convertEquationToIonEquation)}},{key:"getSolution",value:function getSolution(chemicalFormula){var temp=1<arguments.length&&void 0!==arguments[1]?arguments[1]:25;if(void 0===solutionFormulaMap[chemicalFormula]){var dat=this.getMedicineData(chemicalFormula);if(void 0===dat||void 0===dat.solubility)return 0;var solCurve=dat.sol_curve;if(void 0===solCurve||"NH4HCO3"===chemicalFormula)return(0,_parseFloat2.default)(dat.solubility);solutionFormulaMap[chemicalFormula]=eval("(function(){return function(x){return ".concat(solCurve,"}})()"))}var sol=solutionFormulaMap[chemicalFormula](temp);return sol<0&&(sol=0),"C6H5OH"===chemicalFormula&&64<=temp&&(sol=9998),sol}},{key:"getKsp",value:function(e,t,i){var n,i=i.name!==e?(n=this.getMedicineData(e),ChemicalUtilTool.getMoleculeRelativeMass(e)):(n=i.dat,i.mm||ChemicalUtilTool.getMoleculeRelativeMass(e));if((void 0===n.solubility||0===n.solubility)&&!n.ksp)return 0;var a,r=0;return void 0===n.ksp?(a=this.getSolution(e,t)/i,a/=.1,i=n.ions,r=1,i.forEach(function(e){var t=e.count*a;r*=Math.pow(t,e.count)})):r=n.ksp,r}},{key:"getMedicineData",value:function(e){return this.medData[e]}},{key:"isSolution",value:function(e){e=/_(aq|bag)/.exec(e);return!!e&&e.index}},{key:"getSolutionSolid",value:function(e){if(this.isSolution(e))return e.substr(0,this.isSolution(e))}},{key:"createMedicine",value:function(s,e){var t=this.isSolution(s);t&&(s=this.getSolutionSolid(s));var p=this.medData[s]||this.medIdData[s];if(p){var i=p.chemical.indexOf("_#");-1!=i&&(p.chemical=p.chemical.substr(0,i));var n,a,f,r,c,o,BaseGasMedicine,l,BaseSolidMedicine,h,i=p.type;return(p&&p.chemical.includes("&")?(p.densityArr=[],p.chemicalArr=[],p.chemical.split("&").forEach(function(e){var t=e.indexOf("%");-1===t?(p.chemicalArr.push(e),p.densityArr.push(1)):(isNaN(Number(e.substr(t+1))),p.densityArr.push(Number(e.substr(t+1))/100),p.chemicalArr.push(e.substr(0,t)))})):(p.chemicalArr=[p.chemical],p.densityArr=[1]),void 0===p)?null:("Liquid"===i?(n="brown"===u(p.chemical)?(a=__webpack_require__(372),"BaseLiquidBrownDropMedicine"):"white"===u(p.chemical)?(a=__webpack_require__(373),"BaseLiquidWhiteDropMedicine"):"smallWhite"===u(p.chemical)?(a=__webpack_require__(374),"BaseLiquidSmallWhiteMedicine"):(a=__webpack_require__(197),"BaseLiquidWhiteBottleMedicine"),(a=new a(p)).noPascal=!0,f=this,a.on("creationComplete",function(){var h=this;function c(e,t){e[t]||(e[t]=1)}var e,u=p,d=p.chemicalArr,t=d.findIndex(function(e){return"H2O"===e});-1!==t&&(d.splice(t,1),e=u.densityArr.splice(t,1),u.densityArr.unshift(e[0]),d.unshift("H2O")),d.forEach(function(e,t){var i,n,a,r,o=e,s=ChemicalUtil.splitMedicineNameToIon(o),l=u.densityArr[t];!s||s.length<2?(r=.8*h.getTotalCapacity(),i=ChemicalUtil.getMoleculeDensity(o).l,n=ChemicalUtilTool.getMoleculeRelativeMass(o),a=(p=f.medData[o.split("_")[0]]).gasSolution?new DissolveVO(p,r*i/n*l,"gas"):new LiquidVO(p,r*i/n*l),h.medicineData.push(a)):(e=.8*h.getTotalCapacity(),s=0,r=f.medData[o],1<d.length?s=e*ChemicalUtil.getMoleculeDensity("H2O").l/ChemicalUtilTool.getMoleculeRelativeMass("H2O")*l:(r.molecular_mass&&r.solubility?9999===r.solubility&&"C2H5OH"!==r.chemical?s=5*e/1e3:"CH3COOH"!==r.chemical?(c(r,"density_solid"),c(r,"solubility"),c(r,"molecular_mass"),s=e*f.getSolution(o,nb.DEFAULT_TEMP)/100/Number(r.molecular_mass)*.9,"HI_lx"===o&&(s=.2)):s=.5:s=ChemicalUtil.getMoleculeDensity("H2O").l*e/1e3,i=ChemicalUtil.getMoleculeDensity("H2O").l,n=ChemicalUtilTool.getMoleculeRelativeMass("H2O"),a=h.medicineManager.getMedicineData("H2O"),l=new LiquidVO(a,e*i/n*l),0===t&&"C2H5OH"!==r.chemical&&"乙酸"!==p.name_cn&&h.medicineData.push(l)),o=o.split("_")[0],r=f.medData[o],o=new LiquidVO(r,s),"H2SO4"===r.chemical&&(o.originDensity=s/e*1e3),h.medicineData.push(o),r.shouldIon&&h.medicineData.push(new ionMedVo(h,r,s)),h.medicineData.liquidAry.newMedicineAry=new _set.default)}),-1!==t&&(d.shift(),d.push("H2O"),t=u.densityArr.shift(),u.densityArr.push(t)),this.medicineData.getCapacity()&&this.setCurrentCapacity(200)})):"p"!==i||t?"p"===i&&t?(n="brown"===u(p.chemical)?(r=__webpack_require__(372),"BaseLiquidBrownDropMedicine"):"white"===u(p.chemical)?(r=__webpack_require__(373),"BaseLiquidWhiteDropMedicine"):"plastic"===u(p.chemical)?(r=__webpack_require__(961),"PlasticBottleMedicine"):(r=__webpack_require__(197),"BaseLiquidWhiteBottleMedicine"),-1===p.name_cn.indexOf("溶液")&&(p.name_cn+="溶液"),(a=new r(p)).noPascal=!0,c=this,a.on("creationComplete",function(){var l=this,h=p;p.chemicalArr.forEach(function(e,t){var i,n=e,a=ChemicalUtil.splitMedicineNameToIon(n),r=h.densityArr[t],o=.8*l.getTotalCapacity(),s=ChemicalUtil.getMoleculeDensity("H2O").l,e=ChemicalUtilTool.getMoleculeRelativeMass("H2O"),t=l.medicineManager.getMedicineData("H2O");!a||a.length<2?(a=new LiquidVO(t,o*s/e*r),l.medicineData.push(a),i=(p=c.medData[n.split("_")[0]]).gasSolution?new DissolveVO(p,o*s/e*r*.1,"gas"):(i=o*s/e*r*.1,p.molecular_mass&&p.solubility&&((a=o*c.getSolution(n,nb.DEFAULT_TEMP)/100/Number(p.molecular_mass)*.25)<i&&(i=a)),new LiquidVO(p,i)),l.medicineData.push(i)):(e=new LiquidVO(t,o*s/e*r),l.medicineData.push(e),o=(r=c.medData[n]).molecular_mass&&r.solubility?o*c.getSolution(n,nb.DEFAULT_TEMP)/100/Number(r.molecular_mass)*.25:e.getDensity()*o/1e3,"NaOH"===(r=c.medData[n.split("_")[0]]).chemical&&(o=.4),"KMnO4"===r.chemical&&(o=8e-4),e=new LiquidVO(r,o),l.medicineData.push(e),l.medicineData.push(new ionMedVo(l,r,o)),l.medicineData.liquidAry.newMedicineAry=new _set.default)}),this.medicineData.liquidAry.forEach(function(e){e.setTemp(nb.DEFAULT_TEMP)}),this.setCurrentCapacity(200)})):"block"===i?(n="BaseBlockMedicine",(a=new(__webpack_require__(198))(p)).noPascal=!0,o=this,a.on("creationComplete",function(){var e=.8*this.getTotalCapacity(),t=ChemicalUtil.getMoleculeDensity(s),i=ChemicalUtilTool.getMoleculeRelativeMass(s);p=o.medData[s.split("_")[0]];i=new SolidVO(p,e*t/i);this.medicineData.push(i)})):"Gas"===i&&(n=t?(BaseGasMedicine=__webpack_require__(376),"BaseGasMedicineInGasBag"):(BaseGasMedicine=__webpack_require__(199),"BaseGasMedicine"),l=this,(a=new BaseGasMedicine(p,e)).on("creationComplete",function(){var e;"空气"!==p.name_cn&&"混合气体"!==p.name_cn&&(this.medicineData.gasAry.clear(),e=this.getTotalCapacity(),p=l.medData[s.split("_")[0]],e=new GasVO(p,nb.PASCAL*e/1e6/nb.R/TempUtil.convertCToK(nb.DEFAULT_TEMP)),this.medicineData.push(e))})):(-1!==p.name_cn.indexOf("溶液")&&(p.name_cn=p.name_cn.substr(0,p.name_cn.indexOf("溶液"))),n="brown"===function(e){for(var t=__webpack_require__(110).brownWildMouthBottleEnglishName,i=0;i<t.length;i++)if(e===t[i])return"brown";return!1}(p.chemical)?(BaseSolidMedicine=__webpack_require__(960),"BaseSolidBrownMedicine"):(BaseSolidMedicine=__webpack_require__(375),"BaseSolidMedicine"),(a=new BaseSolidMedicine(p)).noPascal=!0,h=this,a.on("creationComplete",function(){var r=this,o=p;p.chemicalArr.forEach(function(e,t){var i=e,n=o.densityArr[t],a=.8*r.getTotalCapacity();s=s.split("_")[0];e=ChemicalUtil.getMoleculeDensity(i).s,t=ChemicalUtilTool.getMoleculeRelativeMass(i);p=h.medData[i];t=new SolidVO(p,a*e/t*n);t.setProportion(n),r.medicineData.push(t)})})),a.medTypeName=n,a)}function u(e){for(var t=__webpack_require__(110).brownDropEnglishName,i=__webpack_require__(110).whiteDropEnglishName,n=__webpack_require__(110).smallWhiteBottleENName,a=__webpack_require__(110).plasticDropEnglishName,r=0;r<t.length;r++)if(e==t[r])return"brown";for(var o=0;o<i.length;o++)if(e==i[o])return"white";for(var s=0;s<n.length;s++)if(e==n[s])return"smallWhite";for(var l=0;l<a.length;l++)if(e==a[l])return"plastic";return!1}}}]),MedicineManager}(PIXI.EventEmitter);module.exports=MedicineManager},function(e,t,i){"use strict";e.exports={NH3:"87.58649214660656+(-1.6930661606354693*x)+(0.009164234678172942*Math.pow(x,2))",NH4HCO3:"-4.2624661647569155+(3.1433634791354734*x)+(-0.08906914903281837*Math.pow(x,2))+(0.0008642137770727004*Math.pow(x,3))",NH4Cl:"29.587032655426583+(0.3569982619735512*x)+(0.0011725771104090787*Math.pow(x,2))",NH4NO3:"99.46029412358621+(6.16533764426822*x)+(-0.06815840718262933*Math.pow(x,2))+(0.0008642260358796006*Math.pow(x,3))","(NH4)2SO4":"70.42848368122895+(0.23459053492720017*x)+(0.0008977940349707003*Math.pow(x,2))","(NH4)2SO3":"44.732875276273035+(0.7173149886412062*x)+(0.005014930906453219*Math.pow(x,2))",BaCl2:"31.273712617693775+(0.2085104743661077*x)+(0.0006994169362656288*Math.pow(x,2))","Ba(OH)2·8H2O":"11.500914894028824+(-1.0837407654826663*x)+(0.023184879118933244*Math.pow(x,2))","Ba(NO3)2":"4.46137580089021+(0.21402681897908238*x)+(0.0008280288962612126*Math.pow(x,2))",CaCl2:"45.6009655995922+(2.301258874066491*x)+(-0.01253829496117198*Math.pow(x,2))",CaBr2:"120.73800187500638+(0.36788583420093346*x)+(0.06891357198662007*Math.pow(x,2))+(-0.0005574305555555992*Math.pow(x,3))","Ca(OH)2":"0.17341047442121493+(-0.0005472360485089256*x)+(-0.0000059895629607888525*Math.pow(x,2))","Ca(NO3)2":"118.43389843333716+(-2.518524144486946*x)+(0.1583986218183*Math.pow(x,2))+(-0.0011176284722221874*Math.pow(x,3))","Cr(NO3)3":"113.50539989999902+(0.6847376666668197*x)+(0.013049999999996231*Math.pow(x,2))",KBr:"53.99350714884076+(0.5667289333933567*x)+(-0.0006880325567569789*Math.pow(x,2))",K2CO3:"107.46177152397718+(0.07706387439965567*x)+(0.004158308980662939*Math.pow(x,2))",KClO3:"4.029469444754284+(0.06328239983222517*x)+(0.004476912900316432*Math.pow(x,2))",KCl:"27.344963174738496+(0.3323785060371378*x)+(-0.00045024345013183753*Math.pow(x,2))",K2CrO4:"58.684502965499746+(0.15262759948419813*x)+(0.0014598163712690182*Math.pow(x,2))",K2Cr2O7:"2.9478823669761596+(0.368589320959984*x)+(0.005463166912000106*Math.pow(x,2))",KHSO4:"39.11554048843789+(0.3478949788169814*x)+(0.004681443143601416*Math.pow(x,2))",KOH:"119.05302160450083+(-9.050766849490174*x)+(0.8896758099353974*Math.pow(x,2))+(-0.029081207542503762*Math.pow(x,3))+(0.0003872886724698432*Math.pow(x,4))+(-0.0000017544841271095735*Math.pow(x,5))",KIO3:"4.306491711813891+(0.17886405645096737*x)+(0.0008827441710937689*Math.pow(x,2))",KI:"126.73001065478365+(0.8839144930737319*x)+(-0.0007594707325786487*Math.pow(x,2))",KNO3:"13.21518079178827+(0.597061166748361*x)+(0.016846851587241862*Math.pow(x,2))",KMnO4:"3.1639531632939395+(0.05900085635989605*x)+(0.004621931042542882*Math.pow(x,2))",K2SO4:"7.3664269567521785+(0.1961636835315126*x)+(-0.00026329423591567314*Math.pow(x,2))",KSCN:"187.36911998325832+(0.9103334092845898*x)+(0.03724386232854027*Math.pow(x,2))",LiOH:"13.108484075316113+(-0.04272133314873727*x)+(0.000926037717926792*Math.pow(x,2))",SO2:"18.51410596918989+(-0.40251353284703395*x)+(0.0026018936355685467*Math.pow(x,2))",AlCl3:"43.68449232155609+(0.13773371660408174*x)+(-0.0011882602247023644*Math.pow(x,2))","Al(NO3)3":"64.12076363285746+(0.26980356591793964*x)+(0.007577247673831056*Math.pow(x,2))","Al2(SO4)3":"30.094361525349882+(0.2789876043224382*x)+(0.003202355571521709*Math.pow(x,2))",MgCl2:"53.03577779846887+(0.04417856923573282*x)+(0.0015195833228850986*Math.pow(x,2))","Mg(NO3)2":"64.8771369049274+(0.1667065999376831*x)+(0.002091976376845439*Math.pow(x,2))",MgSO4:"19.024059635437425+(0.908302717759998*x)+(-0.0057591850364818176*Math.pow(x,2))",MnCl2:"57.64260044918626+(1.0168823686292967*x)+(-0.004001067762411159*Math.pow(x,2))",MnSO4:"57.822836007657315+(0.23989857682504834*x)+(-0.004806958442745257*Math.pow(x,2))","Mn(NO3)2":"110.68159214999923+(-0.8817598333333194*x)+(0.12442500000000045*Math.pow(x,2))",NaBr:"75.71456206126663+(0.9973867234262883*x)+(-0.005419871122383846*Math.pow(x,2))",Na2CO3:"0.7731290555577175+(1.5997466076022953*x)+(-0.013109019501202301*Math.pow(x,2))",NaClO3:"81.45029060066304+(0.5617333610269242*x)+(0.006372803726988563*Math.pow(x,2))",NaCl:"35.96220733304688+(-0.0029092166137481*x)+(0.000426235330750091*Math.pow(x,2))",Na2CrO4:"11.365044887505974+(5.23500470315355*x)+(-0.1064408557068326*Math.pow(x,2))+(0.0007619889434184873*Math.pow(x,3))",Na2Cr2O7:"162.82701011472227+(0.4229743066802314*x)+(0.024688058258279355*Math.pow(x,2))",NaH2PO4:"50.463926503312905+(1.9690013123512244*x)+(0.0006536191449646456*Math.pow(x,2))",NaHCO3:"6.909364423068112+(0.12167699238380081*x)+(0.0005902461825398608*Math.pow(x,2))",NaOH:"69.49745990375982+(2.072212749961892*x)+(-0.01245317793650802*Math.pow(x,2))",NaNO3:"74.65450738036657+(0.5217110810500571*x)+(0.004612976772693234*Math.pow(x,2))",Na2C2O4:"2.6513899608821276+(0.039893547386744554*x)+(-0.00003122086121649936*Math.pow(x,2))",Na2SO4:"1.715186318523422+(1.4152504078833523*x)+(-0.010605759384397284*Math.pow(x,2))",Na2S2O3:"70.26852528437541+(0.13082522366070748*x)+(0.0015095357142860255*Math.pow(x,2))",HCl:"82.64663144817678+(-0.6417783997833766*x)+(0.0024407871740975695*Math.pow(x,2))",FeCl2:"54.03322653292412+(0.3944745111848462*x)+(0.00034152753913707645*Math.pow(x,2))",FeSO4:"19.86791488774884+(2.189696080733583*x)+(-0.018327723607210133*Math.pow(x,2))",CuBr2:"104.41871360000027+(1.4512*x)+(-0.021279999999999077*Math.pow(x,2))",CuCl2:"64.06248930159222+(0.5995290912950182*x)+(-0.001216084377844373*Math.pow(x,2))","Cu(NO3)2":"90.31691484846533+(1.8183219806774957*x)+(-0.0035115302000710003*Math.pow(x,2))","CuSO4·5H2O":"23.968927500847258+(0.28048380367791736*x)+(0.005850682127045981*Math.pow(x,2))",ZnCl2:"323.14010961624444+(5.728083080648503*x)+(-0.17905576986777305*Math.pow(x,2))+(0.00455414143020505*Math.pow(x,3))+(-0.00005013515573759619*Math.pow(x,4))+(1.8592090204536116e-7*Math.pow(x,5))",ZnSO4:"39.56785164702944+(0.9150335448888853*x)+(-0.0055644888805803094*Math.pow(x,2))",AgF:"68.37386367999989+(6.658294400000045*x)+(-0.08586399999999994*Math.pow(x,2))",AgNO3:"125.6114268442825+(3.8942612128824408*x)+(0.022301223824646943*Math.pow(x,2))",Ag2SO4:"0.5851189484145785+(0.011082250769361979*x)+(-0.000027599516994195397*Math.pow(x,2))",CaSO4:"0.2307402853581797+(0.0016582693412617033*x)+(-0.000019767480497619953*Math.pow(x,2))",CuSO4:"15.340113600542509+(0.17950963435385248*x)+(0.0037444365613096275*Math.pow(x,2))",C6H5COOH:"0.6191704055802703+(-0.02953186824958909*x)+(0.0006458933544731503*Math.pow(x,2))",C6H5OH:"24.0476236800082+(-1.0833184000005076*x)+(0.019336000000006237*Math.pow(x,2))",NaBrO3:"23.744325126921126+(0.638581093304559*x)+(0.000048824916108747285*Math.pow(x,2))",Na2SiO3:"10.546945524176408+(-0.17179046169303547*x)+(0.025885612257329438*Math.pow(x,2))"}},function(e,t,i){"use strict";var a=i(4),n=i(0),s=n(i(25)),r=n(i(9)),l=n(i(1)),h=n(i(2)),c=n(i(7)),u=n(i(5)),o=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}var f=i(45),I=i(109),g=i(29).getLanType,i=function(){(0,u.default)(o,I);var t=p(o);function o(e){return(0,l.default)(this,o),(e=t.call(this,e)).noConfig=!0,e.name="BaseSolidBrownMedicine",e.preventCalEffect=!0,e.z_index=15.39,e}return(0,h.default)(o,[{key:"creationComplete",value:function(){var e=this;(0,c.default)((0,d.default)(o.prototype),"creationComplete",this).call(this),this.isSolidMedBottle=!0,this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0});var n,a="";1<this.medConfData.chemicalArr.length?(n=this.medConfData.chemicalArr,this.medConfData.chemicalArr.forEach(function(e,t){var i=e.indexOf("%");-1===i?(a+=e,t<n.length-1&&(a+=nb.MIX_SYMBOL)):a+=e.substr(0,i)})):a=this.medConfData.chemical,this.bg.alpha=.8,"zh"!==g()?(this.label.txt.text=f.convertToChemicalName(a),this.label.txt.y+=16):this.label.txt.text=this.medConfData.name_cn+"\n"+f.convertToChemicalName(a),this.CNName=this.medConfData.name_cn,this.label.getChildAt(0).alpha=.8;var t=this.label.txt.width=125<this.label.txt.width?125:this.label.txt.width;this.label.txt.x=(125-t)/2;var i=new PIXI.filters.ColorMatrixFilter,r=(0,s.default)(this.medConfData.color),t=i.matrix;t[0]=(r>>16)/255,t[6]=(r>>8&255)/255,t[12]=(255&r)/255,this.colorFilter=i,this.medicineMc.filters=[i],this.medicineMc.mask=this.medicineMask.getChildAt(0),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.on(NBEvent.del.ADDED,function(){e.head.parent!==e&&(e.headParent.addChildWithSamePos(e.head),delete e.headParent)})}},{key:"canSpoonTake",value:function(){return this.isOpen}},{key:"canSpoonPour",value:function(){return!1}},{key:"toJSON",value:function(){var e="id_"+this.medConfData.id;return(0,r.default)((0,c.default)((0,d.default)(o.prototype),"toJSON",this).call(this),{name:e})}}]),o}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var BaseLiquidWhiteBottleMedicine=i(197),i=function(){(0,s.default)(i,BaseLiquidWhiteBottleMedicine);var t=c(i);function i(e){return(0,o.default)(this,i),(e=t.call(this,e)).name="PlasticBottleMedicine",e}return(0,r.default)(i)}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(19)),h=n(i(7)),c=n(i(5)),u=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=i(91),I=i(16),i=function(){(0,c.default)(a,f);var n=p(a);function a(e,t,i){return(0,o.default)(this,a),(i=n.call(this,e,t,i)).oldBtnPos=t,i.percent=0,i.setLineInContainer(!0),i.initLineAry(),i.target.on(NBDrag.event.DRAG_MOVE,i.initLineAry.bind((0,l.default)(i))),i}return(0,s.default)(a,[{key:"initButton",value:function(){this.name="moveSwitchButton",(0,h.default)((0,d.default)(a.prototype),"initButton",this).call(this);var e=this.target.root.mouseManager;I.addMouseEvent(e,this.button,I.status.SHAKE),this.initUnicorn(Math.PI/2)}},{key:"initLineAry",value:function(){var e=this.oldBtnPos;this.lineAry=this.generateLinePoints({x:e.x,y:e.y+50},{x:e.x+150,y:e.y+50},15),this.setBtnRotate(this.target.scale.x),this.setPointAryPercent(0,this.percent)}},{key:"setBtnRotate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=this.oldBtnPos||this.btnPosition,t=this.otherLayer.toLocal({x:t.x,y:t.y},this.target);-1===e?(this.button.visible&&NBDrag.addDrag(this.button,{x:t.x-150,y:t.y,width:150,height:0}),this.minX=t.x-150,this.maxX=t.x):(this.button.visible&&NBDrag.addDrag(this.button,{x:t.x,y:t.y,width:150,height:0}),this.minX=t.x,this.maxX=t.x+150)}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.adjust")}},{key:"dragButtonBegin",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonBegin",this).call(this,e),this.startDragPos=(0,r.default)({},e.data.global)}},{key:"dragButtonMove",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonMove",this).call(this,e),this.setPercent(this.getPercent(e,this.startDragPos)),this.btnPosition=this.target.toLocal({x:this.button.x,y:this.button.y},this.otherLayer)}},{key:"dragButtonEnd",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonEnd",this).call(this,e)}},{key:"showButton",value:function(){(0,h.default)((0,d.default)(a.prototype),"showButton",this).call(this),this.setPosByPercent(this.percent)}},{key:"getPercent",value:function(e,t){var i;e&&t&&(i=(n=e.data.global).x-t.x,e=this.button.x,e=(e=(e-=i)>this.maxY?this.maxX:e)<this.minX?this.minX:e,this.button.X=e,t.y=n.y);var n=1-(this.maxX-this.button.x)/150;return n=1<(n=n<1e-5?0:n)?1:n}},{key:"setPercent",value:function(e){this.percent=e,this.target.setPercent instanceof Function&&this.target.setPercent(e),this.setPointAryPercent(0,e)}},{key:"setPosByPercent",value:function(e){var t;0<=e&&e<=1&&(t=1===this.target.scale.x?150*e:150*(1-e),this.btnPosition.x=this.oriBtnPosition.x+t,this.setBtnPosition(this.btnPosition),this.percent=e,this.setPointAryPercent(0,e))}}]),a}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(125),d=i(34),i=function(){function t(e){(0,a.default)(this,t),this.root=e}return(0,r.default)(t,[{key:"addParticle",value:function(e){var t=e.particle,i=e.initProps,n=e.parent,a=e.bindObj,r=e.pos,o=e.functions,s={};if(s.particle=t,n.addChild(t),a&&t.bind(a.obj,a.x||0,a.y||0),o)for(var l=0;l<o.length;l++){var h=o[l];s[h]=this[h].bind(s)}return r&&(t.x=r.x||0,t.y=r.y||0),i&&this.setParticleProp(t,i),s}},{key:"setParticleProp",value:function(e,t){for(var i in t)e.setParticleProp(i,t[i])}},{key:"updatePos",value:function(e){this.particle.x=e.x,this.particle.y=e.y}},{key:"destroy",value:function(e,t,i,n){function a(){e&&(e.parent&&e.parent.removeChild(e),e.destroy())}e&&(i?a():(n&&TweenMax.to(e.particle,t||.5,n),TweenMax.to(e,t||.5,{alpha:0,onComplete:a})))}},{key:"initNaParticleAir",value:function(t,e){t.particleCl&&(t.particleCl=null);var i,n=new o,a=d.getParticle(d.particles.na_air_smoke);return(t.smokeParticle=a).bind(t),t.addChild(a),t.getViewStack().addParticle(a),n.push(a),"K"===e?(i=d.getParticle(d.particles.KFiremInWater)).bind(t,0,5):(i=d.getParticle(d.particles.na_air_fire)).bind(t,-15,5),i.position.set(t.width/2,t.height/2),t.fireParticle=i,t.addChild(i),t.getViewStack().addParticle(i),i.particle&&(i.particle.spawnRect.x=-100,i.particle.spawnRect.y=50),setTimeout(function(){var e;i&&(n.push(i),i.setParticleProp("startSpeed",200),i.alpha=0,t.burnStartTime=t.burnningTime=(new Date).getTime(),TweenMax.to(i,.5,{alpha:1}),e=TweenMax.to(i,.5,{onUpdate:function(){i.setParticleProp("startSpeed",200+1800*e.progress())},onComplete:function(){var e;i&&(e=TweenMax.to(i,1,{onUpdate:function(){i.setParticleProp("startSpeed",2e3-1200*e.progress()),i.setParticleProp("startScale",1+.5*e.progress()),i.setParticleProp("endScale",3-2.7*e.progress()),i.setParticleProp("minStartRotation",-40-50*e.progress()),i.setParticleProp("maxStartRotation",50*e.progress()-140),i.setParticleProp("maxLifetime",.15+.15*e.progress())}}))}}))},500),n}},{key:"initNaParticleCl",value:function(e){var t=d.getParticle(d.particles.na_lv_halo_gas);return t.mask=e.capacityMask,t.allowGetBounds=!1,t.bind(e,e.localBounds.width/2,e.localBounds.height/5),e.bottleHalo=t,e.addChild(t),t}},{key:"initNaBottleSmoke",value:function(e){var t=new o,i=d.getParticle(d.particles.na_lv_smoke_gas_down);e.bottleSmokeDown=i,e.bottleSmokeDown.mask=e.capacityMask,i.allowGetBounds=!1,i.bind(e,e.localBounds.width/2,.05*e.localBounds.height),e.gasContainer.addChildAt(i,0),t.push(i);i=d.getParticle(d.particles.na_lv_smoke_gas_up);return e.bottleSmokeUp=i,e.bottleSmokeUp.mask=e.capacityMask,i.allowGetBounds=!1,i.bind(e,e.localBounds.width/2,.95*e.localBounds.height),e.gasContainer.addChildAt(i,0),t.push(i),t}},{key:"initP4Particle",value:function(e,t){var i=new o,n=d.getParticle(d.particles.mg_burn_smoke);e.smokeParticle=n,t(e,n),i.push(n);var a=d.getParticle(d.particles.bailin_fire_main_1);e.sparkParticle=a,t(e,a);var r=d.getParticle(d.particles.bailin_fire_main);return e.mainParticle=r,t(e,r),e.mainParticle.alpha=0,setTimeout(function(){var t;e.mainParticle&&e.sparkParticle&&(i.push(r).push(a),TweenMax.to(e.mainParticle,1.5,{alpha:1}),t=TweenMax.to(r,1.5,{onUpdate:function(){var e=t.progress();r.setParticleProp("startSpeed",200+600*e),a.setParticleProp("startSpeed",200+1800*e)}}))},500),i}},{key:"initP4BottleSmoke",value:function(){var e=d.getParticle(d.particles.p4_bottle_smoke);return this.gasContainer.addChildAt(e,0),e.allowGetBounds=!1,e}},{key:"initSParticleInAir",value:function(e){var t=d.getParticle(d.particles.s_burn_fire_m);return e.addChild(t),t.allowGetBounds=!1,t}},{key:"initSParticleInO2",value:function(e,t){var i=d.getParticle(d.particles.s_burn_fire_m1);return i.allowGetBounds=!1,i.bind(e,0,t),e.addChild(i),i}},{key:"changingParticle",value:function(i,e,t,n){if(i){for(var a=i.getParticleProp("startColor"),r=i.getParticleProp("endColor"),o=[],s=[],l=0;l<a.length;l++)o.push(e[l]-a[l]),s.push(t[l]-r[l]);var h=TweenMax.to(i.particle,1,{maxLifetime:n,onUpdate:function(){var e=a.map(function(e,t){return e+h.ratio*o[t]}),t=r.map(function(e,t){return e+h.ratio*s[t]});i.setParticleProp("startColor",e),i.setParticleProp("endColor",t)}})}}},{key:"initPParticleInAir",value:function(e,t){var i=d.getParticle(d.particles.red_lin_fire);return e.addChild(i),i.bind(e,t.x,t.y+50),i.allowGetBounds=!1,i}},{key:"initPSmokeInAir",value:function(e,t){var i=d.getParticle(d.particles.red_lin_smoke);return e.addChild(i),i.bind(e,t.x-8,t.y-e.spoon.height),i.allowGetBounds=!1,i}},{key:"initCParticleInAir",value:function(e,t){var i=d.getParticle(d.particles.c_burn_fire);return e.addChild(i),i.bind(e,t.x,t.y+50),i.allowGetBounds=!1,i}},{key:"initMgParticle",value:function(){var e={};return e.particleSelf=d.getParticle(d.particles.meitiao_fuzhuo_qipao),this.waterContainer.addChild(e.particleSelf),e.particleUp=d.getParticle(d.particles.meitiao_up_qipao),this.waterContainer.addChild(e.particleUp),e.particleFantan=d.getParticle(d.particles.meitiao_fantan_qipao),this.waterContainer.addChild(e.particleFantan),e.particleLeft=d.getParticle(d.particles.meitiao_shiguan_left),this.addChild(e.particleLeft),e.particleLeft.mask=this.capacityMask,e.particleLeft.allowGetBounds=!1,e.particleRight=d.getParticle(d.particles.meitiao_shiguan_right),this.addChild(e.particleRight),e.particleRight.mask=this.capacityMask,e.particleRight.allowGetBounds=!1,e}},{key:"initFlocParticle",value:function(){var e={};e.dripParticle=d.getParticle(d.particles.xuzhuang_diru_qing2),e.mainParticle=d.getParticle(d.particles.xuzhuang_diru2),e.fullParticle=d.getParticle(d.particles.xuzhuang_full),e.mainParticle.alpha=0,this.waterContainer.addChild(e.mainParticle),this.waterContainer.addChild(e.dripParticle),this.waterContainer.addChild(e.fullParticle);var t,i=this.localLiquidVertex[0],n=this.localLiquidVertex[this.localLiquidVertex.length-1];1<this.liquidGra.length&&((t=this.liquidGra.find(function(e){return e.med&&"H2O"===e.med.name}))&&t.curLocalVertex&&2<t.curLocalVertex.length&&(i=t.curLocalVertex[0],n=t.curLocalVertex[t.curLocalVertex.length-1]));n=i.x>n.x?i:n;e.dripParticle.position.set(n.x,n.y);n=this.localBounds;return e.fullParticle.x=n.x,e.fullParticle.y=n.y,e.fullParticle.allowGetBounds=!1,e.fullParticle.alpha=0,e.fullParticle.visible=!1,e}},{key:"initWireBottleSmoke",value:function(){var e=d.getParticle(d.particles[this.needWireBottleSmoke+"_cl_bottle"]);this.wireBottleSmoke=e,this.gasContainer.addChildAt(e,this.gasContainer.children.length),e.position={x:0,y:0}}},{key:"initBlockCuClBottleSmoke",value:function(){var e=d.getParticle(d.particles.blockCu_cl_bottle);this.blockCuClBottleSmoke=e,this.gasContainer.addChildAt(e,this.gasContainer.children.length);var t=this.localBounds||this.getLocalBounds();e.position={x:t.x,y:t.y+t.height+30}}},{key:"initWireClSmoke",value:function(e){this.getSelfParent().needWireBottleSmoke=e;var t=this.localBounds,i=d.getParticle(d.particles[e+"_cl_up"]);(this.particleCl=i).allowGetBounds=!1,this.addChild(i),i.bind(this,t.x+t.width/2,t.y+t.height);e=d.getParticle(d.particles[e+"_cl_out"]);(this.particleClOut=e).allowGetBounds=!1,this.getSelfParent().addChildAt(e,0),e.bind(this.getSelfParent(),111,0)}},{key:"initFeOH2",value:function(){var e={},t=d.getParticle(d.particles.liusuanyatie_chendian_lv2);e.particle2=t,this.addChild(t),t.mask=this.waterMask,t.allowGetBounds=!1;t=d.getParticle(d.particles.liusuanyatie_chendian_lv);return e.particle3=t,this.addChild(t),t.mask=this.waterMask,t.allowGetBounds=!1,e}},{key:"initFeOH3",value:function(){var e={},t=d.getParticle(d.particles.liusuanyatie_chendian_red_lv2);return e.particle1=t,this.addChild(t),t.mask=this.waterMask,t.allowGetBounds=!1,e}},{key:"initCu2O",value:function(){var e={},t=d.getParticle(d.particles.liusuanyatie_chendian_red_lv2);e.particle2=t,this.addChild(t),t.mask=this.waterMask,t.allowGetBounds=!1;t=d.getParticle(d.particles.xuzhuang_cuoh2);return e.particle1=t,this.addChild(t),t.mask=this.waterMask,t.allowGetBounds=!1,e}},{key:"initCopperWireBubble",value:function(){var e=d.getParticle(d.particles.copper_wire_bubble);this.currentContainer.waterContainer.addChild(e);var t=this.localBounds;return e.bind(this,t.x+t.width/2,t.y+t.height),e.allowGetBounds=!1,e}},{key:"initMatelBubble",value:function(){var e=d.getParticle(d.particles.metalBubble);return this.currentContainer.waterContainer.addChild(e),e.allowGetBounds=!1,e.bind(this,this.metal.x,this.metal.y+this.metal.height),e}},{key:"initParticleOfAlOrMgAndIGroup",value:function(e){var i,n,a,r,o,s,l,t,h,c=e.medicineNBGraphicMap,u=c.get("I2"),c=c.get("Al")||c.get("Mg");u&&c&&(a=i=1/0,r=n=-1/0,s=o=null,l=!1,u.forEach(function(e){var t=e.position.x;e.isFloatage||(l=!0),t<i?(i=t,o=e):n<t&&(n=t)}),c.forEach(function(e){var t=e.position.x;e.isFloatage||(l=!0),t<a?(a=t,s=e):r<t&&(r=t)}),!1!==l&&((c=e.particlesOfAlOrMgAndI)?(t=c.smoke,h=c.fire):(t=d.getParticle(d.particles.somkeOfIandAl),h=d.getParticle(d.particles.fireOfIandAl),e.gasContainer.addChild(t),e.gasContainer.addChild(h),t.allowGetBounds=!1,h.allowGetBounds=!1,c=e.particlesOfAlOrMgAndI={fire:h,smoke:t}),c.count=50,c=Math.min(r,n)-Math.max(a,i),i<a?(h.bind(s),t.bind(s)):(h.bind(o),t.bind(o)),c=new PIXI.Rectangle(0,-20,c,0),h.setParticleProp("spawnRect",c),t.setParticleProp("spawnRect",c)))}},{key:"initPaperFire",value:function(){var e=d.getParticle(d.particles.paperFire);this.paperFire=e,this.addChild(e),this.getViewStack().addParticle(e),e.bind(this)}},{key:"destroyParticleofAlandIGroup",value:function(e){var t,i=e.particlesOfAlOrMgAndI;i&&(t=i.smoke,i=i.fire,t.parent.removeChild(t),i.parent.removeChild(i),t.destroy(),i.destroy(),delete e.particlesOfAlOrMgAndI)}}]),t}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),i=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,[{key:"getPointEquipment",value:function(t){var i=this,e=chemicalMain.viewStack.eqChildren,n=[];return e.forEach(function(e){e.noChoice||i.processInteractive({point:t,target:null},e,!0,!0,!0)&&e.instanceName&&n.push(e)}),n}},{key:"processInteractive",value:function(e,t,i,n,a){if(!t||!t.visible)return!1;if(!a&&t.isEquipment)return!1;var r=e.point,o=!1,s=i=t.forceSelfInteractive?t.interactive:t.interactive||i,a=!0;if(t._mask&&n&&(t._mask.containsPoint(r)||(a=n=!1)),a&&t.interactiveChildren&&t.children)for(var l=t.children,h=l.length-1;0<=h;h--){var c=l[h],u=this.processInteractive(e,c,s,n);u&&c.parent&&(s=!1,u&&(e.target&&(n=!1),o=!0))}return i&&n&&!e.target&&(t.containsPoint&&!1!==t.interactiveChildren&&t.containsPoint(r)&&(o=!0),t.interactive&&o&&!e.target&&(e.target=t)),o}}]),e}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),l=i(109),h=i(193),i=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,t),this.nameData=e}return(0,r.default)(t,[{key:"setInstance",value:function(i){var n=this;if(!this.allEqInfo){var e=h.dataList.totalEquipmentMessageData;5<(e="string"==typeof e?JSON.parse(e):e).length&&(e=e.splice(0,5)),this.allEqInfo={};for(var t=0;t<e.length;t++)e[t].equipments.forEach(function(e){n.allEqInfo[e.eqName]="main."+e.lan_key})}var a=i.CNName,r=i.name,o=this.nameData;if(i.isChemEquText)r="chemEquation";else if(i instanceof l&&i.medConfData){var s=i.medConfData,r=s.chemical;"乙酸"===s.name_cn&&(r="CH3COOH_#1"),!s.name_cn.includes("溶液")||"p"!==s.type&&"Solid"!==s.type&&"block"!==s.type||(r=s.chemical+"_aq"),i.isBaseGasMedicineInGasBag&&(r=s.chemical+"_bag")}else if(null==a||null==r)return void i.on("creationComplete",function(){setTimeout(function(){var e=i.isBlockMedicine?i.constName:i.name;o[e]?o[e]++:o[e]=1;var t="^"+o[e],e=n.allEqInfo[e];e&&(i.instanceName=e+t)},0)});o[r]?o[r]++:o[r]=1;a="^"+o[r],r=this.allEqInfo[r];r?i.instanceName=r+a:i.isChemEquText&&(i.instanceName="main.chemEquation.equation"+a)}}]),t}();e.exports=i},function(e,t,i){"use strict";e.exports={version:"v3.14.4"}},function(e,t,i){"use strict";var a=i(4),n=i(0),c=n(i(9)),r=n(i(1)),o=n(i(2)),u=n(i(19)),s=n(i(5)),l=n(i(6)),d=n(i(7)),p=n(i(3));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var I=PIXI.Container,g=i(251).InfoLayer,m=i(8),y=i(968),v=i(969),C=i(11),M=i(970),b=i(167),i=function(){(0,s.default)(h,I);var e=f(h);function h(){var s,l;return(0,r.default)(this,h),(l=e.call(this)).needTouchUpAry=[],l.once("added",function(){l.eqChildren=[];var e=new PIXI.Graphics,t=l.parent,i=t.W,n=t.H;l.parent.initedW=i,l.parent.initedH=n;var a=C.canvasArea,r=-a/2,t=-a/2,n=9*Math.max(i,n);e.beginFill(3355443,1),e.drawRect(r-n,t-n,n,a+n),e.drawRect(r,t-n,a+n,n),e.drawRect(r+a,t,n,a+n),e.drawRect(r-n,t+a,a+n,n),e.interactive=!1,e.interactiveChildren=!1,(e.allowGetBounds=!1,d.default)((s=(0,u.default)(l),(0,p.default)(h.prototype)),"addChild",s).call(s,e),l.bottomLayer=new PIXI.Container,(0,d.default)((s=(0,u.default)(l),(0,p.default)(h.prototype)),"addChild",s).call(s,l.bottomLayer),l.eqLayer=new y,(0,d.default)((s=(0,u.default)(l),(0,p.default)(h.prototype)),"addChild",s).call(s,l.eqLayer),l.eqLayer.on(TouchEvent.TOUCH_BEGIN,l.eqLayerStop,!0),l.root.addEventListener(TouchEvent.TOUCH_END,l.eqLayerEnd.bind((0,u.default)(l))),l.particleLayer=new PIXI.Container,(0,d.default)((s=(0,u.default)(l),(0,p.default)(h.prototype)),"addChild",s).call(s,l.particleLayer),l.infoLayer=new g,(0,d.default)((s=(0,u.default)(l),(0,p.default)(h.prototype)),"addChild",s).call(s,l.infoLayer),l.otherLayer=new PIXI.Container,(0,d.default)((s=(0,u.default)(l),(0,p.default)(h.prototype)),"addChild",s).call(s,l.otherLayer),l.topLayer=new v,(0,d.default)((s=(0,u.default)(l),(0,p.default)(h.prototype)),"addChild",s).call(s,l.topLayer),l.selectionLayer=new M,(0,d.default)((s=(0,u.default)(l),(0,p.default)(h.prototype)),"addChildAt",s).call(s,l.selectionLayer,0);var o=(0,u.default)(l);l.root.on(b.change.ZOOM,function(e){for(var t=(t=e.zoom)<1?1/t:t>C.INFO_TEXT_MAX_SCALE?C.INFO_TEXT_MAX_SCALE/t:1,i=0;i<o.eqChildren.length;i++){var n=o.eqChildren[i];n.isChemEquText&&(n.scale.x=n.scale.y=C.CHEM_EQU_INFO_DEFAULT_SCALE*t/2)}})}),l.handleUpdate=l.onUpdate.bind((0,u.default)(l)),l._enableMutipleTouchMove=!1,l._enableSingleMove=!1,l._enableStageMove=!1,l.hasEqMove=0,l}return(0,o.default)(h,[{key:"activeMutipleTouch",get:function(){return this._enableMutipleTouchMove},set:function(e){this._enableMutipleTouchMove=e,this.checkEnableStageMove()}},{key:"enableSingleMove",get:function(){return this._enableSingleMove},set:function(e){this._enableSingleMove=e,this.checkEnableStageMove()}},{key:"checkEnableStageMove",value:function(){this.enableStageMove=this.enableSingleMove||this.activeMutipleTouch}},{key:"enableStageMove",get:function(){return this._enableStageMove},set:function(e){e!==this.enableStageMove&&(this._enableStageMove=e,this.root.emit(b.communicate.angular.STAGE_MOVE_ENABLE,{enable:e}))}},{key:"sortIndexOfEquipments",value:function(){this.eqLayer.children.sort(function(e,t){return(e=e.z_index||0)-(t=t.z_index||0)})}},{key:"eqLayerStop",value:function(e){for(var t,i=this.root.PointerManager.getPointEquipment(e.data.global),n=C.currentConfigEq,a=[],r=0,o=i.length;r<o;r++)(t=i[r]).dontDrag||a.push(t);var s,l=(i=a).length;1<l&&!n&&i[0].selectByIndex&&!i.find(function(e){return"NonPorousRubberPlugBig"===e.name})&&(n=i[0],this.root.viewStack.needTouchUpAry.indexOf(i[0])<0&&this.root.viewStack.needTouchUpAry.push(i[0])),1<l&&n&&i.find(function(e){return e===n})&&(n.isTouchDown||(e.type="pointerdown",e.capture=!1,s=(new Date).getTime(),l=(0,c.default)({},e.data.global),e.target.__timer=s,e.target.__globalPoint__=l,e.target=n.dragArea||n,TouchEvent.simulateTouchDown(n.dragArea||n,e),n.timer=s,n.__globalPoint__=l,e.stopImmediatePropagation()))}},{key:"eqLayerEnd",value:function(t){var e=[].concat(this.needTouchUpAry);0<e.length&&(t.type="pointerup",t.capture=!1,e.forEach(function(e){t.target=e.dragArea||e,TouchEvent.simulateTouchUp(e.dragArea||e,t),e.timer=(new Date).getTime(),e.__globalPoint__=(0,c.default)({},t.data.global),e.hasUp=!0})),this.needTouchUpAry.length=0,C.currentConfigEq&&(e=C.currentConfigEq,t.type="pointerup",t.capture=!1,t.target=e.dragArea||e,TouchEvent.simulateTouchUp(e,t),e.timer=(new Date).getTime(),e.__globalPoint__=(0,c.default)({},t.data.global),e.hasUp=!0)}},{key:"removeNeedTouchUp",value:function(e){e=this.needTouchUpAry.indexOf(e);-1!==e&&this.needTouchUpAry.splice(e,1)}},{key:"addParticle",value:function(e){this.particleLayer.addChild(e)}},{key:"removeParticle",value:function(e){this.particleLayer.removeChild(e)}},{key:"addChild",value:function(e){(e.isOnBottom?this.bottomLayer:e instanceof m?this.eqLayer:this.otherLayer).addChild(e)}},{key:"addChildAt",value:function(e,t){(e.isOnBottom?this.bottomLayer:e instanceof m?this.eqLayer:this.otherLayer).addChildAt(e,t)}},{key:"removeChild",value:function(e){(e.isOnBottom?this.bottomLayer:e instanceof m?this.eqLayer:this.otherLayer).removeChild(e)}},{key:"removeChildAt",value:function(e){(child.isOnBottom?this.bottomLayer:child instanceof m?this.eqLayer:this.otherLayer).removeChildAt(e)}},{key:"render",value:function(e){for(var t=this.children,i=this.eqLayer,n=0,a=t.length;n<a;n++){var r=t[n];r!==i&&r.renderWebGL(e)}for(var o=0,s=(t=i.children).length;o<s;o++){var l=t[o];0<l.activeCount?l.renderWebGL(e):l.bg&&l.bg.renderWebGL(e)}}},{key:"getOtherDisplay",value:function(){for(var e=[],t=0;t<this.topLayer.children.length;t++){var i=this.topLayer.children[t];(i.isEquipment||i.isChemEquText)&&e.push(i)}for(var n=0;n<this.otherLayer.children.length;n++){var a=this.otherLayer.children[n];(a.isEquipment||a.isChemEquText||a.isMicroAnimation)&&e.push(a)}return e.concat(this.root.magnifierLayer.children)}},{key:"checkStagePosChange",value:function(){var e=this.x,t=this.y,i=this.root,n=i.W,a=i.H,r=this.scale.x,o=C.canvasArea*r,s=o/2,l=o/2,i=-o+n+s,r=-o+a+l,n=!1,o=this.x,a=this.y;s<e&&(o=s,n=!0),e<i&&(o=i,n=!0),l<t&&(a=l,n=!0),t<r&&(a=r,n=!0),n&&(0<arguments.length&&void 0!==arguments[0]&&arguments[0]?TweenMax.to(this,.3,{x:o,y:a,onUpdate:this.handleUpdate}):(this.x=o,this.y=a,this.onUpdate()))}},{key:"onUpdate",value:function(){this.root.emit(b.change.STAGE_MOVE,{x:this.x,y:this.y})}},{key:"update",value:function(){this.otherLayer.children.map(function(e){e.needUpdate&&e.update()})}}]),h}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}i=function(e){(0,s.default)(i,e);var t=c(i);function i(){return(0,o.default)(this,i),t.call(this)}return(0,r.default)(i)}(PIXI.Container);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}i=function(e){(0,s.default)(i,e);var t=c(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).selectionGra=new PIXI.Graphics,e.addChild(e.selectionGra),e.selectionGra.interactive=!1,e.borderRadius=10,e.lastSelectAry=[],e}return(0,o.default)(i,[{key:"renderSelectionArea",value:function(e){var t=this.parent,i=t.eqLayer.children.concat(t.getOtherDisplay()),n=[];if(e)for(var a=0;a<i.length;a++){var r=i[a],o=r.getBounds();!r.dontDrag&&o.intersect(e)&&(n.push(r),r.selectionAreaSelected=!0,r.hideVRotateBtn&&r.hideVRotateBtn())}return this.renderSelectedObj(n),n}},{key:"clearInnerBorder",value:function(){var e=this.selectionGra;e.innerBorder&&(e.innerBorder.forEach(function(e){e.parent&&(e.parent.name&&(e.parent.name.includes("SeparatingFunnelBulbShape")||"SeparatingFunnelStraight"===e.parent.name)&&(e.parent.addedBgGraphics=!1),e.parent.removeChild(e))}),e.innerBorder=null)}},{key:"renderSelectedObj",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.selectionGra;if(!e||e.length<1)return i.clear(),this.clearInnerBorder(),void(this.lastSelectAry.length&&(this.lastSelectAry=e||[],this.root.emit(NBEvent.communicate.angular.CHANGE_SELECTED,this.lastSelectAry)));if(!this.checkSelectAryChange(e)||t){this.lastSelectAry=e,this.root.emit(NBEvent.communicate.angular.CHANGE_SELECTED,e);for(var n=e.length,a=!1,r=0;r<n;r++){var o,s=e[r];if(s){if(s.selectionAreaSelected){delete s.selectionAreaSelected,a=!0;break}if(s.findParentContainer instanceof Function&&((o=s.findParentContainer())&&o.isMoving&&s.activeCount<=1&&(s.activeCount=20)),0<s.activeCount){a=!0;break}}}if(a){i.clear(),this.clearInnerBorder();t=this.parent.scale.x;i.lineStyle(2/t,16777215,.3);for(var l=0;l<e.length;l++){var h=e[l],c=h.originLocalBounds||h.localBounds||h.getLocalBounds();if(!c.width||!c.height)break;var u={x:(c=nb.specialBoundsAry.includes(h.name)?h.getLocalBounds():c).x,y:c.y-this.borderRadius},d={x:c.x+c.width,y:c.y-this.borderRadius},p={x:c.x,y:c.y+c.height+2*this.borderRadius},f={x:c.x+c.width,y:c.y+c.height+2*this.borderRadius},f=(i.toLocal(u,h),i.toLocal(d,h),i.toLocal(p,h),i.toLocal(f,h),new PIXI.Graphics);i.innerBorder?i.innerBorder.push(f):i.innerBorder=[f],h.addChildAt(f,0),h.name&&(h.name.includes("SeparatingFunnelBulbShape")||"SeparatingFunnelStraight"===h.name)&&(h.addedBgGraphics=!0),f.beginFill(16777215,.1),f.drawRoundedRect(c.x-this.borderRadius,c.y-this.borderRadius,c.width+2*this.borderRadius,c.height+2*this.borderRadius,this.borderRadius),f.allowGetBounds=!1}}}}},{key:"drawLineToButton",value:function(e,t,i){var n,a,r=i.tl,o=i.tr,s=i.bl,l=i.br,h={x:0,y:0},c=t.angle,i=t.height;"top"===t.directionStyle?(n=(r.y+o.y)/2,a=(r.x+o.x)/2,c-=Math.PI/2):"bottom"===t.directionStyle&&(n=(s.y+l.y)/2,a=(s.x+l.x)/2,c+=Math.PI/2),e.moveTo(a,n),h.y=Math.sin(c)*i+n,h.x=Math.cos(c)*i+a,e.lineTo(h.x,h.y)}},{key:"checkSelectAryChange",value:function(e){var t=e.length;if(t!==this.lastSelectAry.length)return!1;for(var i=0;i<t;i++)if(e[i]!==this.lastSelectAry[i])return!1;return!0}}]),i}(PIXI.Container);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(96)),r=n(i(24)),s=n(i(1)),l=n(i(2)),h=n(i(19)),c=n(i(5)),u=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=i(132),I=i(11),g=i(167),i=function(e){(0,c.default)(i,e);var t=p(i);function i(){var e;return(0,s.default)(this,i),(e=t.call(this)).once("added",e.addedToStage),PIXI.ticker.shared.add(e.render.bind((0,h.default)(e))),e.moveFunc=e.touchMove.bind((0,h.default)(e)),e.endFunc=e.touchEnd.bind((0,h.default)(e)),e}return(0,l.default)(i,[{key:"addItem",value:function(e){e.selectionAreaSelected=!0,this.selectedObj?-1===this.selectedObj.indexOf(e)&&this.selectedObj.push(e):this.selectedObj=[e]}},{key:"bgLayer",get:function(){return this._bgLayer}},{key:"touchBegin",value:function(e){var t,i;2!==e.button&&3!==e.which||(i=(t=this.parent).parent,e=this.selectionLayer,void 0===t.selectionDraw&&(t.selectionDraw=new PIXI.Graphics,i.addChild(t.selectionDraw),t.selectionDraw.visible=!1),!0!==(t=t.selectionDraw).visible&&(t.visible=!0,this.clearSelectionObj(),i.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),i=i.renderer.plugins.interaction.mouse.global,t.startPoint={x:i.x,y:i.y},e.addEventListener(TouchEvent.TOUCH_MOVE,this.moveFunc),e.addEventListener(TouchEvent.TOUCH_END,this.endFunc),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,this.endFunc),$(window).bind("mouseup.right",this.endFunc)))}},{key:"touchMove",value:function(e){var t=this.parent,i=t.topLayer,n=t.selectionDraw;n.clear(),n.lineStyle(2,16777215,1),n.beginFill(16777215,.15);var a=n.startPoint.x,r=n.startPoint.y,o=Math.min(a,e.data.global.x),t=Math.min(r,e.data.global.y),a=Math.max(a,e.data.global.x)-o,e=Math.max(r,e.data.global.y)-t;a<3||e<3||(n.drawRect(o,t,a,e),n.endFill(),e=i.renderSelectionArea(new PIXI.Rectangle(o,t,a,e)),this.selectedObj=e,this.selectedByDouble=!1)}},{key:"touchEnd",value:function(e){var t,i;e&&void 0!==(e.button||e.which)&&2!==e.button&&3!==e.which||((i=(t=this).parent).parent,e=this.selectionLayer,i=i.selectionDraw,e.removeEventListener(TouchEvent.TOUCH_MOVE,t.moveFunc),e.removeEventListener(TouchEvent.TOUCH_END,t.endFunc),e.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,t.endFunc),$(window).unbind("mouseup.right",t.endFunc),t.selectedByDouble||(i&&(i.clear(),i.visible=!1),t.selectedObj&&1<t.selectedObj.length&&t.selectedObj.map(function(e){(e=e.dragArea?e.dragArea:e).on(TouchEvent.TOUCH_BEGIN,t.selectedObjBegin,!0,1)})))}},{key:"selectedObjBegin",value:function(e){e.stopImmediatePropagation();var t=this.root.viewStack.selectionLayer;if("touchstart"===e.type){if(!isNaN(t.touchID))return;t.touchID=e.data.identifier}t.lastGlobalPos={x:e.data.global.x,y:e.data.global.y},this.on(TouchEvent.TOUCH_MOVE,t.selectedObjMove),this.on(TouchEvent.TOUCH_END,t.selectedObjEnd),this.on(TouchEvent.TOUCH_END_OUTSIDE,t.selectedObjEnd),t.selectedObj&&t.selectedObj.map(function(e){e._lastTouchPoint_={x:e.x,y:e.y},e.isMoving=!1})}},{key:"selectedObjMove",value:function(e){var t=this.root.viewStack;t.hasEqMove=2;var i,n,a=t.selectionLayer,r=t.topLayer;e.data.identifier!==a.touchID&&"touchmove"===e.type||(i=e.data.global.x-a.lastGlobalPos.x,n=e.data.global.y-a.lastGlobalPos.y,a.lastGlobalPos={x:e.data.global.x,y:e.data.global.y},t=t.scale.x,a.selectedObj&&(n/=t,(r=r.selectionGra).x+=i/=t,r.y+=n,a.selectedObj.map(function(e){e.x+=i,e.y+=n,e.isMoving=!0})))}},{key:"selectedObjEnd",value:function(){var e=this.root.viewStack,t=e.selectionLayer;t.touchID=NaN,t.selectedObj&&(e.hasEqMove=2,t.selectedObj.forEach(function(e){e.isMoving=!1})),this.off(TouchEvent.TOUCH_MOVE,t.selectedObjMove),this.off(TouchEvent.TOUCH_END,t.selectedObjEnd),this.off(TouchEvent.TOUCH_END_OUTSIDE,t.selectedObjEnd)}},{key:"clearSelectionObj",value:function(){var t;this.selectedObj&&!this.selectedByDouble&&((t=this).selectedObj.map(function(e){e&&(e=e.dragArea?e.dragArea:e).removeEventListener(TouchEvent.TOUCH_BEGIN,t.selectedObjBegin,!0)}),this.selectedObj=null)}},{key:"addedToStage",value:function(){var e=this,t=new PIXI.Graphics,i=this.parent,n=(this.viewStack=i).parent;t.renderable=!1,this.selectionLayer=t,this.on("clear",this.clearSelectionObj),this.on("select",this.touchEnd),i.parent.addChildAt(t,0),this._bgLayer=t;var a=n.renderer.view;$(a).bind("mousedown.right",this.touchBegin.bind(this)),window.addEventListener("resize",r),f.doubleTouchGesture(t,this.emitShowAllEvent);a=f.touchGesture(t,i,{maxZoom:I.MAX_SCALE_VALUE,minZoom:I.MIN_SCALE_VALUE});function r(){t.clear(),t.beginFill(16777215,1),t.drawRect(0,0,n.W||I.canvasWidth,n.H||I.canvasHeight)}t.zoomObj=a,i.on(g.change.ZOOM,function(e){i.lastScaleTime=(0,o.default)(),n.emit(g.change.ZOOM,e)}),setTimeout(r,100),this.touchID=NaN,this.lastGlobalPos=null,this.bgLayer.on(TouchEvent.TOUCH_BEGIN,function(){e.selectedObj&&!e.selectedByDouble&&e.clearSelectionObj(),n.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]})},!0)}},{key:"emitShowAllEvent",value:function(e){e?(this.root.viewStack.x=e.x,this.root.viewStack.y=e.y,this.root.viewStack.scale.x=e.scaleX,this.root.viewStack.scale.y=e.scaleY):this.root.emit(g.communicate.angular.SHOW_ALL_EQU,{})}},{key:"clear",value:function(){this.selectedObj&&this.emit("clear")}},{key:"render",value:function(){this.viewStack&&this.viewStack.topLayer.renderSelectedObj(this.selectedObj)}},{key:"selectedChildren",value:function(e){this.clear(),e.map(function(e){e.selectionAreaSelected=!0}),this.selectedObj=e,this.emit("select")}},{key:"deleteChoice",value:function(e){var t=this.selectedObj;!t||-1!==(e=t.indexOf(e))&&t.splice(e,1)}},{key:"selectedObj",get:function(){return this._selectedObj_},set:function(t){var i=new r.default;(t||[]).concat(this.selectedObj||[]).forEach(function(e){void 0===i.get(e)?i.set(e,1):i.set(e,i.get(e)+1)}),this.selectedObj&&this.selectedObj.forEach(function(e){e&&1===i.get(e)&&(e.emit(g.CANCEL_SELECTED,{selected:t}),e.root.emit(g.CANCEL_SELECTED,{selected:e}),e.addWholeRotateType&&e.addWholeRotateType())}),t&&t.forEach(function(e){e&&1===i.get(e)&&e.emit(g.SELECTED,{selected:t}),1<t.length&&(e.addWholeRotateType&&e.addWholeRotateType(),e.hideVRotateBtn&&e.hideVRotateBtn())}),this._selectedObj_=t}}]),i}(PIXI.Container);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(37)),o=n(i(1)),s=n(i(2)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(972),i=function(e){(0,l.default)(n,e);var i=u(n);function n(e){var t;return(0,o.default)(this,n),(t=i.call(this)).main=e,t.list=[],t}return(0,s.default)(n,[{key:"added",value:function(e){e=new d(this.main,e);this.addChild(e)}},{key:"getData",value:function(){return this.children.map(function(e){return e.getData()})}},{key:"setData",value:function(e){var t=this;this.clear(),(0,r.default)(e)&&e.forEach(function(e){return t.added(e)})}},{key:"clear",value:function(){for(var e=this.children.length-1;0<=e;e--)this.children[e].removed()}},{key:"update",value:function(){this.updateHandle()}},{key:"updateHandle",value:function(){this.updatePosition(),this.children.forEach(function(e){return e.update()})}},{key:"updatePosition",value:function(){this.x=this.main.viewStack.x,this.y=this.main.viewStack.y,this.scale.set(this.main.viewStack.scale.x)}}]),n}(PIXI.Container);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(25)),o=n(i(1)),s=n(i(2)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(74),p=i(144),f=i(16),i=function(e){(0,l.default)(a,e);var n=u(a);function a(e,t){var i;return(0,o.default)(this,a),(i=n.call(this)).btnX=0,i.btnY=160,i.main=e,i.root=e,i.added(t),i.name="ConvexGlass",i.CNName="放大镜",i.z_index=9999,i.instanceName="main.components.convexGlass",i}return(0,s.default)(a,[{key:"radius",get:function(){return this.controlBtn?Math.sqrt(Math.pow(this.controlBtn.x,2)+Math.pow(this.controlBtn.y,2)):Math.sqrt(Math.pow(this.btnX,2)+Math.pow(this.btnY,2))}},{key:"getCenterPoint",value:function(){var e=(document.documentElement||document.body).clientHeight,t=(document.documentElement||document.body).clientWidth,i={};return this.main.renderer.plugins.interaction.mapPositionToPoint(i,t/2,e/2),this.main.magnifierLayer.toLocal(i)}},{key:"getScale",value:function(){return this.controlBtn?1.25*Math.pow(2,180*Math.atan(Math.abs(this.controlBtn.x/this.controlBtn.y))/Math.PI/45):1.25}},{key:"getTextureWidth",value:function(){return 2*this.radius*this.getViewStackScale()/this.getScale()}},{key:"added",value:function(e){var n=this,t=this.getViewStackScale(),i=this.getTextureWidth();this.glassFrame=new PIXI.Graphics,this.drawFrame(),this.addChild(this.glassFrame),this.con=new PIXI.Sprite,this.con.anchor.set(.5),this.con.width=2*this.radius,this.con.height=2*this.radius,this.addChild(this.con),this.renderTexture=PIXI.RenderTexture.create(i,i);var a=this.getCenterPoint(),i=a.x,a=a.y;e?(this.x=e.glassInformation.x,this.y=e.glassInformation.y):(this.x=i,this.y=a);var r=new PIXI.extras.AnimatedSprite([PIXI.Texture.fromFrame("magnifierBtn"),PIXI.Texture.fromFrame("magnifierBtn_Drag")]);r.width=52/t,r.height=52/t,e?(r.x=e.controlButtonPosition.x,r.y=e.controlButtonPosition.y):(r.x=this.btnX,r.y=this.btnY),r.anchor.set(.5,.4),this.controlBtn=r,this.addChild(r),this.controlBtnTouch=p.addTouch(r,{begin:function(e){n.dotMoving=!0,n.interactive=!1;var t=p.getMouseXY(e);n.startP=n.toLocal(t);e=n.controlBtn,t=e.x,e=e.y;n.oldPos={x:t,y:e},n.controlBtn.gotoAndStop(1)},move:function(e){var t=p.getMouseXY(e),i=(t=n.toLocal(t)).x-n.startP.x+n.oldPos.x,e=t.y-n.startP.y+n.oldPos.y;e<0&&(e=0),0===(i=i<0?0:i)&&0===e||((t=Math.abs(Math.sqrt(Math.pow(i,2)+Math.pow(e,2))))<140&&(i*=140/t,e*=140/t),420<t&&(i*=420/t,e*=420/t),r.x=i,r.y=e,n.changedBoundsAndFreshSelect())},end:function(){n.dotMoving=!1,n.interactive=!0,n.controlBtn.gotoAndStop(2),n.changedBoundsAndFreshSelect()}},null,null),this.glassMask=new PIXI.Graphics,this.renderMask(),this.addChild(this.glassMask),this.con.mask=this.glassMask,this.renderContent(),this.con.texture=this.renderTexture,d.addDrag(this),NBGesture.tapGesture(this,null,this),this.on(NBGesture.gesture.TAP,this.emitTap.bind(this)),f.addMouseEvent(this.main.mouseManager,this,f.status.DRAG),this.on(NBEvent.del.PREPARE_DELETE,this.removed)}},{key:"drawFrame",value:function(){this.glassFrame&&this.drawCircle(this.glassFrame,this.radius,6052956,this.main.getBackgroundColor())}},{key:"renderMask",value:function(){this.glassMask&&this.drawCircle(this.glassMask,this.radius-2/this.getViewStackScale(),0,255)}},{key:"drawCircle",value:function(e,t,i,n){e.clear(),e.lineStyle(4/this.getViewStackScale(),i),e.beginFill(n,1),e.drawCircle(0,0,t),e.endFill()}},{key:"renderContent",value:function(){var e=this.toGlobal({x:0,y:0}),t=this.getTextureWidth();this.main.renderer.render(this.main.viewStack,this.renderTexture,!0,(new PIXI.Matrix).translate(-e.x+t/2,-e.y+t/2)),this.con.width=2*this.radius,this.con.height=2*this.radius,this.con.texture=this.renderTexture}},{key:"resetControlBtnSize",value:function(){var e=this.getViewStackScale();this.controlBtn.width=52/e,this.controlBtn.height=52/e}},{key:"getData",value:function(){return{controlButtonPosition:{x:this.controlBtn.x,y:this.controlBtn.y},glassInformation:{x:this.x,y:this.y,scale:this.getScale(),radius:this.radius}}}},{key:"update",value:function(){var e;this.isDeleting||this.controlBtn&&(e=this.getTextureWidth(),this.renderTexture.resize(e,e,!1),this.drawFrame(),this.renderMask(),this.renderContent(),this.resetControlBtnSize())}},{key:"removed",value:function(){p.removeTouch(this.controlBtn,this.controlBtnTouch),d.removeDrag(this),this.main=null,this.parent&&this.parent.removeChild(this),this.destroy()}},{key:"getConfigureData",value:function(){return{confArr:[]}}},{key:"getStageToDomPos",value:function(e){var t=(0,r.default)(this.main.canvas.style.width)/this.main.W,i=(0,r.default)(this.main.canvas.style.height)/this.main.H;return{x:e.x*t,y:e.y*i}}},{key:"emitTap",value:function(){this.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[this]}),this.execute(NBCommand.communicate.angular.SHOW_EQ_ATTRIBUTE,{children:[this]}),this.addedToSelectionLayer()}},{key:"addedToSelectionLayer",value:function(){this.getViewStack().selectionLayer.addItem(this)}},{key:"getViewStack",value:function(){return this.main.viewStack}},{key:"getViewStackScale",value:function(){return this.getViewStack().scale.x}},{key:"getEqLayer",value:function(){return this.getViewStack().eqLayer}},{key:"execute",value:function(e,t){return this.main.execute(e,t)}},{key:"changedBoundsAndFreshSelect",value:function(){this.originLocalBounds=this.getLocalBounds().clone();var e=this.getViewStack(),t=e.selectionLayer.selectedObj;t&&t.includes(this)&&e.topLayer.renderSelectedObj(t,!0)}}]),a}(PIXI.Container);e.exports=i},function(e,t,i){"use strict";function a(){}a.round=function(e,t){return void 0===t&&(t=1),Math.round(e/t)*t},a.floor=function(e,t){return void 0===t&&(t=1),Math.floor(e/t)*t},a.ceil=function(e,t){return void 0===t&&(t=1),Math.ceil(e/t)*t},a.random=function(e,t,i){var n;(t=void 0===t?0:t)<e&&(n=e,e=t,t=n);t=t-e+ +(i=void 0===i?1:i),t=Math.random()*t;return a.floor(t+=e,i)},a.getUniqueID=function(){return a.getUnique()+""},a.getUnique=function(){null==a._aUniqueIDs&&(a._aUniqueIDs=new Array);for(var e=new Date,t=e.getTime();!a.isUnique(t);)t+=a.random(e.getTime(),2*e.getTime());return a._aUniqueIDs.push(t),t},a.isUnique=function(e){for(var t=0;t<a._aUniqueIDs.length;t++)if(a._aUniqueIDs[t]==e)return!1;return!0},e.exports=a},function(e,t,i){"use strict";var n=i(0)(i(24));!function(){var u=new n.default,d=i(377);u.set(d,[[i(378)],[i(379)],[i(380)],[i(381)],[i(382)],[i(383)]]);e.exports=function(){var n,l=[],h=-1,a=100,c=!1,t=function(e,t){return e&&"function"==typeof e[t]&&(c=!0,e[t](),c=!1),this};return{add:function(r){if(c)return this;var e,t,i,o=l[h],s=r;return l.splice(h+1,l.length-h),function(){var e=u.get(d);if(e)for(var t=0;t<e.length;t++)for(var i=e[t],n=0;n<i.length;n++)if(s.classType&&s.classType.name==i[n].name){var a={};return l[h]&&l[h].classType==d&&(a={classType:"combineFunc",undo:function(){s.undo(),o.undo()},redo:function(){o.redo(),s.redo()}}),l.pop(),--h,r=a}}(),l.push(r),a&&l.length>a&&(t=0,i=-(a+1),(e=l).splice(t,!i||1+i-t+(!(i<0^0<=t)&&(i<0||-1)*e.length)),e.length),h=l.length-1,n&&n(),this},setCallback:function(e){n=e},undo:function(){var e=l[h];return e&&(t(e,"undo"),--h,n&&n()),this},redo:function(){var e=l[h+1];return e&&(t(e,"redo"),h+=1,n&&n()),this},clear:function(){var e=l.length;l=[],h=-1,n&&0<e&&n()},hasUndo:function(){return-1!==h},hasRedo:function(){return h<l.length-1},getCommands:function(){return l},getIndex:function(){return h},setLimit:function(e){a=e}}}}()},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2));e.exports=function(){function e(){(0,a.default)(this,e)}return(0,r.default)(e,null,[{key:"tablet",value:function(){var e=navigator.userAgent.toLowerCase();return/(?:ipad|playbook)/.test(e)||/android/i.test(e)&&!/(?:mobile)/.test(e)||/(?:firefox)/.test(e)&&/(?:tablet)/.test(e)}},{key:"mobile",value:function(){return this.touchDevice()&&!this.tablet()}},{key:"touchDevice",value:function(){var e=navigator.userAgent.toLowerCase();return/iphone os/i.test(e)||/midp/i.test(e)||/rv:1.2.3.4/i.test(e)||/ucweb/i.test(e)||/android/i.test(e)||/windows ce/i.test(e)||/windows mobile/i.test(e)}}]),e}()},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),i=function(){function e(){(0,a.default)(this,e),this.textPool=[],this.graphicsPool=[]}return(0,r.default)(e,[{key:"disposeAll",value:function(){this.textPool.length=0,this.graphicsPool.length=0}},{key:"resetAll",value:function(e){e.alpha=1,e.visible=!0,e.width=0,e.height=0,e.setTransform()}},{key:"pushGraphic",value:function(e){e.clear(),this.resetAll(e),this.graphicsPool.push(e)}},{key:"popGraphic",value:function(){var e=this.graphicsPool.pop();return e=!e||!e.transform?new PIXI.Graphics:e}},{key:"pushText",value:function(e){e.text="",this.resetAll(e),e.anchor.set(0,0),this.textPool.push(e),e.parent&&e.parent.removeChild(e)}},{key:"popText",value:function(e,t){e=e||"",t=t||"";var i=this.textPool.pop();return i?(i.text=e,i.style=t):i=new PIXI.Text(e,t),i}}]),e}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),o=i(384),i=function(){function t(e){(0,a.default)(this,t),this.main=e}return(0,r.default)(t,[{key:"addAnimation",value:function(e,t){this.animation?this.animation.setAnimationByEquation(e,t):(this.animation=new o(this.main,e,t),this.main.viewStack.addChild(this.animation)),this.animationKey=e}},{key:"removeAnimation",value:function(){this.animation=null,this.animationKey=null}},{key:"clearAnimation",value:function(){this.animation&&(this.animation.destroy(),this.removeAnimation())}},{key:"getData",value:function(){return this.animation?{key:this.animationKey,pos:{x:this.animation.x+this.animation.width/2,y:this.animation.y}}:{}}},{key:"setData",value:function(e){null!=e&&e.key&&this.addAnimation(e.key,e.pos)}}]),t}();e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(2)),r=n(i(1)),i=n(i(124)),a=(0,a.default)(function e(){(0,r.default)(this,e)});(0,i.default)(a,"WHITE_STYLE_ARY",["e_1","H_0","H_1","Li_1","C_0","N_0","O_0","O_2","Na_1","S_0","S_2","Cl_1","Cl_0","K_1","Ca_2","Cr_3","Mn_2","Fe_2","Fe_3","Cu_0","Cu_2","Br_1","Br_0","I_1","I_0"]),(0,i.default)(a,"DIA_DEFAULT",26),(0,i.default)(a,"SKIN_DIA_DEF",100),(0,i.default)(a,"RATIO_e_1",.32),(0,i.default)(a,"RATIO_H_1",.7),(0,i.default)(a,"RATIO_Al_3",.78),(0,i.default)(a,"RATIO_H_0",.83),(0,i.default)(a,"RATIO_Hg_2",.91),(0,i.default)(a,"RATIO_Li_1",1.07),(0,i.default)(a,"RATIO_Cr_3",1.09),(0,i.default)(a,"RATIO_Fe_3",1.09),(0,i.default)(a,"RATIO_Mg_2",1.1),(0,i.default)(a,"RATIO_F_0",1.14),(0,i.default)(a,"RATIO_Cu_2",1.15),(0,i.default)(a,"RATIO_O_0",1.16),(0,i.default)(a,"RATIO_Fe_2",1.16),(0,i.default)(a,"RATIO_Zn_2",1.16),(0,i.default)(a,"RATIO_N_0",1.17),(0,i.default)(a,"RATIO_C_0",1.18),(0,i.default)(a,"RATIO_Pb_4",1.18),(0,i.default)(a,"RATIO_Mn_2",1.2),(0,i.default)(a,"RATIO_Pb_2",1.29),(0,i.default)(a,"RATIO_Na_1",1.3),(0,i.default)(a,"RATIO_Cl_0",1.33),(0,i.default)(a,"RATIO_Ca_2",1.33),(0,i.default)(a,"RATIO_S_0",1.35),(0,i.default)(a,"RATIO_Hg_0",1.38),(0,i.default)(a,"RATIO_Br_0",1.43),(0,i.default)(a,"RATIO_Ag_1",1.43),(0,i.default)(a,"RATIO_Fe_0",1.44),(0,i.default)(a,"RATIO_Cr_0",1.45),(0,i.default)(a,"RATIO_Mn_0",1.45),(0,i.default)(a,"RATIO_Al_0",1.45),(0,i.default)(a,"RATIO_Cu_0",1.52),(0,i.default)(a,"RATIO_Zn_0",1.55),(0,i.default)(a,"RATIO_I_0",1.55),(0,i.default)(a,"RATIO_F_1",1.55),(0,i.default)(a,"RATIO_K_1",1.55),(0,i.default)(a,"RATIO_Mg_0",1.57),(0,i.default)(a,"RATIO_Ba_2",1.57),(0,i.default)(a,"RATIO_O_2",1.62),(0,i.default)(a,"RATIO_Ag_0",1.63),(0,i.default)(a,"RATIO_Li_0",1.68),(0,i.default)(a,"RATIO_Pb_0",1.8),(0,i.default)(a,"RATIO_Ca_0",1.83),(0,i.default)(a,"RATIO_Cl_1",1.87),(0,i.default)(a,"RATIO_S_2",1.89),(0,i.default)(a,"RATIO_Na_0",1.91),(0,i.default)(a,"RATIO_Br_1",1.97),(0,i.default)(a,"RATIO_K_0",2.02),(0,i.default)(a,"RATIO_I_1",2.13),(0,i.default)(a,"SPECIAL_ARY",["PbSO4_0","CH3COOH_0","CH3COO_1","Cr2O7_2"]),(0,i.default)(a,"NORMAL_MATER_MAP",{"Fe(OH)3_0":{width:2.18,height:2.18,children:[{name:"Fe_3",distance:0,angle:0},{name:"O_0",distance:2.25,angle:0},{name:"O_0",distance:2.25,angle:120},{name:"O_0",distance:2.25,angle:240},{name:"H_0",distance:4.24,angle:0},{name:"H_0",distance:4.24,angle:120},{name:"H_0",distance:4.24,angle:240}]},"Mg(OH)2_0":{width:2.2,height:2.2,children:[{name:"Mg_2",distance:0,angle:0},{name:"O_0",distance:2.26,angle:0},{name:"O_0",distance:2.26,angle:180},{name:"H_0",distance:4.25,angle:0},{name:"H_0",distance:4.25,angle:180}]},"Zn(OH)3_0":{width:2.32,height:2.32,children:[{name:"Zn_2",distance:0,angle:0},{name:"O_0",distance:2.32,angle:0},{name:"O_0",distance:2.32,angle:180},{name:"H_0",distance:4.31,angle:0},{name:"H_0",distance:4.31,angle:180}]},"Fe(OH)2_0":{width:2.32,height:2.32,children:[{name:"Fe_2",distance:0,angle:0},{name:"O_0",distance:2.32,angle:0},{name:"O_0",distance:2.32,angle:180},{name:"H_0",distance:4.31,angle:0},{name:"H_0",distance:4.31,angle:180}]},"Cu(OH)2_0":{width:2.3,height:2.3,children:[{name:"Cu_2",distance:0,angle:0},{name:"O_0",distance:2.31,angle:0},{name:"O_0",distance:2.31,angle:180},{name:"H_0",distance:4.3,angle:0},{name:"H_0",distance:4.3,angle:180}]},AgCl_0:{width:3.3,height:3.3,children:[{name:"Ag_1",distance:1.87,angle:180},{name:"Cl_1",distance:1.43,angle:0}]},AgBr_0:{width:3.4,height:3.4,children:[{name:"Ag_1",distance:1.97,angle:180},{name:"Br_1",distance:1.43,angle:0}]},AgI_0:{width:3.56,height:3.56,children:[{name:"Ag_1",distance:2.13,angle:180},{name:"I_1",distance:1.43,angle:0}]},I2_0:{width:3.1,height:3.1,children:[{name:"I_0",distance:1.55,angle:180},{name:"I_0",distance:1.55,angle:0}]},H2_0:{width:1.66,height:1.66,children:[{name:"H_0",distance:.83,angle:180},{name:"H_0",distance:.83,angle:0}]},PbO_0:{width:2.45,height:2.45,children:[{name:"Pb_2",distance:1.16,angle:180},{name:"O_0",distance:1.29,angle:0}]},OH_1:{width:1.99,height:1.16,children:[{name:"O_0",distance:.83,angle:180},{name:"H_0",distance:1.16,angle:0}]},Cl2_0:{width:2.66,height:2.66,children:[{name:"Cl_0",distance:1.33,angle:180},{name:"Cl_0",distance:1.33,angle:0}]},ClO_1:{width:2.49,height:2.49,children:[{name:"Cl_0",distance:1.16,angle:180},{name:"O_0",distance:1.33,angle:0}]},Br2_0:{width:2.86,height:2.86,children:[{name:"Br_0",distance:1.43,angle:180},{name:"Br_0",distance:1.43,angle:0}]},O2_0:{width:2.32,height:2.32,children:[{name:"O_0",distance:1.16,angle:180},{name:"O_0",distance:1.16,angle:0}]},H2O_0:{width:2.32,height:2.32,children:[{name:"O_0",distance:0,angle:0},{name:"H_0",distance:1.89,angle:37.5},{name:"H_0",distance:1.89,angle:142.5}]},CO2_0:{width:2.36,height:2.36,children:[{name:"C_0",distance:0,angle:0},{name:"O_0",distance:2.34,angle:0},{name:"O_0",distance:2.34,angle:180}]},PbO2_0:{width:2.36,height:2.36,children:[{name:"Pb_4",distance:0,angle:0},{name:"O_0",distance:2.34,angle:0},{name:"O_0",distance:2.34,angle:180}]},AlO2_1:{width:2,height:2,children:[{name:"Al_3",distance:0,angle:0},{name:"O_0",distance:2.16,angle:0},{name:"O_0",distance:2.16,angle:180}]},IO3_1:{width:3.1,height:3.1,children:[{name:"O_0",distance:2.6,angle:30},{name:"O_0",distance:2.6,angle:150},{name:"I_0",distance:0,angle:0},{name:"O_0",distance:2.16,angle:90}]},BrO3_1:{width:2.86,height:2.86,children:[{name:"O_0",distance:2.48,angle:30},{name:"O_0",distance:2.48,angle:150},{name:"Br_0",distance:0,angle:0},{name:"O_0",distance:2.04,angle:90}]},CO3_2:{width:2.36,height:2.36,children:[{name:"C_0",distance:0,angle:0},{name:"O_0",distance:2.34,angle:0},{name:"O_0",distance:2.34,angle:120},{name:"O_0",distance:2.34,angle:240}]},NO3_1:{width:2.34,height:2.34,children:[{name:"N_0",distance:0,angle:0},{name:"O_0",distance:2.33,angle:0},{name:"O_0",distance:2.33,angle:120},{name:"O_0",distance:2.33,angle:240}]},NH4_1:{width:2.34,height:2.34,children:[{name:"H_0",distance:1.94,angle:30},{name:"H_0",distance:1.94,angle:150},{name:"H_0",distance:1.94,angle:270},{name:"N_0",distance:0,angle:0},{name:"H_0",distance:1.94,angle:90}]},SO4_2:{width:2.5,height:2.5,children:[{name:"O_0",distance:2.4,angle:30},{name:"O_0",distance:2.4,angle:150},{name:"O_0",distance:2.4,angle:270},{name:"S_0",distance:0,angle:0},{name:"O_0",distance:1.96,angle:90}]},CH4_0:{width:2.36,height:2.36,children:[{name:"H_0",distance:1.91,angle:30},{name:"H_0",distance:1.91,angle:150},{name:"H_0",distance:1.91,angle:270},{name:"C_0",distance:0,angle:0},{name:"H_0",distance:1.53,angle:90}]},MnO4_1:{width:2.6,height:2.6,children:[{name:"O_0",distance:2.5,angle:30},{name:"O_0",distance:2.5,angle:150},{name:"O_0",distance:2.5,angle:270},{name:"Mn_0",distance:0,angle:0},{name:"O_0",distance:2.06,angle:90}]}}),e.exports=a},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(1)),s=n(i(2)),l=n(i(5)),r=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var u=i(980),i=function(e){(0,l.default)(r,e);var a=c(r);function r(e,t,i){var n;return(0,o.default)(this,r),(n=a.call(this)).lightning=new u,n.updatePoints(e),void 0!==i&&n.setChildLineNum(i),n.isActive=!1,n}return(0,s.default)(r,[{key:"updatePoints",value:function(e,t){e&&this.lightning.startPoint.set(e.x,e.y),t&&this.lightning.endPoint.set(t.x,t.y);t=this.lightning.length(),t=Math.ceil(t/10);this.lightning.step=Math.max(5,t)}},{key:"setChildLineNum",value:function(e){this.lightning.setChildNum(e)}},{key:"setEnable",value:function(e){this.isActive&&!e&&this.clear(),this.isActive=e}},{key:"setLightningProps",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.color,i=e.speed,n=e.amplitude,a=e.lineWidth,r=e.startPoint,e=e.endPoint;void 0!==t&&(this.lightning.color=t),void 0!==i&&(this.lightning.speed=i),void 0!==n&&(this.lightning.amplitude=n),void 0!==a&&(this.lightning.lineWidth=a),void 0===r&&void 0===e||this.updatePoints(r,e)}},{key:"update",value:function(){this.isActive&&(this.clear(),this.lightning.update(),this.drawLightning(this.lightning))}},{key:"drawLightning",value:function(e){var t=this,i=e.points;this.lineStyle(e.lineWidth,e.color);for(var n=0,a=i.length;n<a;n++){var r=i[n];0===n?this.moveTo(r.x,r.y):this.lineTo(r.x,r.y)}0<e.children.length&&e.children.map(function(e){t.drawLightning(e)})}},{key:"removed",value:function(){this.lightning.destroy(),this.lightning=null,this.destroy()}}]),r}(PIXI.Graphics);e.exports=i},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),s=i(981),M=i(982),i=function(){function o(e,t,i){(0,a.default)(this,o),this.startPoint=e||new M(0,0),this.endPoint=t||new M(400,400),this.step=i||45,this.children=[],this.color=16777215,this.speed=.025,this.amplitude=1,this.lineWidth=5,this.points=null,this.off=0,this._simplexNoise=new s,this.parent=null,this.startStep=0,this.endStep=0}return(0,r.default)(o,[{key:"length",value:function(){return this.startPoint.distanceTo(this.endPoint)}},{key:"getChildNum",value:function(){return this.children.length}},{key:"setChildNum",value:function(e){var t,i=this.children,n=i.length;if(e<n){for(var a=e;a<n;a++)i[a].dispose();i.splice(e,n-e)}else for(var r=n;r<e;r++)(t=new o)._setAsChild(this),i.push(t)}},{key:"update",value:function(){var e,t=this.startPoint,i=this.endPoint;this.parent&&(this.endStep>this.parent.step&&this._updateStepsByParent(),e=this.parent.points[this.startStep],n=this.parent.points[this.endStep],t.set(e.x,e.y),i.set(n.x,n.y));var n=this.length(),a=M.sub(i,t).normalize().scale(n/this.step),i=a.angle(),r=Math.sin(i),o=Math.cos(i),s=this.points=[],l=this.off+=this.random(this.speed,.2*this.speed),h=(this.parent?1.5*n:n)*this.amplitude;750<h&&(h=750);for(var c=0,u=this.step+1;c<u;c++){var d=c/60,p=h*this._noise(d-l,0)*.5,f=r*p,I=o*p,g=h*this._noise(d+l,0)*.5,p=r*g,d=o*g,g=Math.sin(Math.PI*(c/(u-1))),p=t.x+a.x*c+(f-p)*g,g=t.y+a.y*c-(I-d)*g;s.push(new M(p,g))}for(var m=this.children,y=0,v=m.length;y<v;y++){var C=m[y];C.color=this.color,C.speed=1.35*this.speed,C.amplitude=this.amplitude,C.lineWidth=.75*this.lineWidth,C.blur=this.blur,C.blurColor=this.blurColor,m[y].update()}}},{key:"dispose",value:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._simplexNoise=null}},{key:"destroy",value:function(){this.setChildNum(0),this.dispose()}},{key:"random",value:function(e,t){return"number"!=typeof e?Math.random():("number"!=typeof t&&(t=0),Math.random()*(e-t)+t)}},{key:"randint",value:function(e,t){return e?0|this.random(e+1,t):0}},{key:"_noise",value:function(e){for(var t=1,i=1,n=0,a=0;a<6;++a)n+=(t*=.5)*(this._simplexNoise.noise2D(e*i,0)+1)*.5,i*=2;return n}},{key:"_setAsChild",value:function(e){var t=this;this.parent=e;var i=this;i._timeoutId=setTimeout(function e(){i._updateStepsByParent(),i._timeoutId=setTimeout(e,t.randint(1500))},this.randint(1500))}},{key:"_updateStepsByParent",value:function(){var e;this.parent&&(e=this.parent.step,this.startStep=this.randint(e-2),this.endStep=this.startStep+this.randint(e-this.startStep-2)+2,this.step=this.endStep-this.startStep)}}]),o}();e.exports=i},function(e,t,i){"use strict";var v,C,H,G;function n(e){e="function"==typeof e?e:e?function(){for(var n,t=0,i=0,a=0,r=1,e=(n=4022871197,function(e){e=e.toString();for(var t=0;t<e.length;t++){var i=.02519603282416938*(n+=e.charCodeAt(t));i-=n=i>>>0,n=(i*=n)>>>0,n+=4294967296*(i-=n)}return 2.3283064365386963e-10*(n>>>0)}),t=e(" "),i=e(" "),a=e(" "),o=0;o<arguments.length;o++)(t-=e(arguments[o]))<0&&(t+=1),(i-=e(arguments[o]))<0&&(i+=1),(a-=e(arguments[o]))<0&&(a+=1);return function(){var e=2091639*t+2.3283064365386963e-10*r;return t=i,i=a,a=e-(r=0|e)}}(e):Math.random;this.p=a(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var t=0;t<512;t++)this.perm[t]=this.p[255&t],this.permMod12[t]=this.perm[t]%12}function a(e){for(var t=new Uint8Array(256),i=0;i<256;i++)t[i]=i;for(i=0;i<255;i++){var n=i+~~(e()*(256-i)),a=t[i];t[i]=t[n],t[n]=a}return t}v=.5*(Math.sqrt(3)-1),C=(3-Math.sqrt(3))/6,H=(Math.sqrt(5)-1)/4,G=(5-Math.sqrt(5))/20,n.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,t){var i,n=this.permMod12,a=this.perm,r=this.grad3,o=0,s=0,l=0,h=(e+t)*v,c=Math.floor(e+h),u=Math.floor(t+h),d=(c+u)*C,p=e-(c-d),f=t-(u-d),I=f<p?(i=1,0):(i=0,1),g=p-i+C,m=f-I+C,y=p-1+2*C,h=f-1+2*C,e=255&c,t=255&u,d=.5-p*p-f*f,c=.5-g*g-m*m,u=.5-y*y-h*h;return 70*((o=0<=d?(d*=d)*d*(r[d=3*n[e+a[t]]]*p+r[1+d]*f):o)+(s=0<=c?(c*=c)*c*(r[I=3*n[e+i+a[t+I]]]*g+r[1+I]*m):s)+(l=0<=u?(u*=u)*u*(r[t=3*n[1+e+a[1+t]]]*y+r[1+t]*h):l))},noise3D:function(e,t,i){var n,a,r,o,s,l=this.permMod12,h=this.perm,c=this.grad3,u=(e+t+i)*(1/3),d=Math.floor(e+u),p=Math.floor(t+u),f=Math.floor(i+u),I=(d+p+f)*(1/6),g=e-(d-I),m=t-(p-I),y=i-(f-I),v=m<=g?y<=m?(o=r=n=1,s=a=0):(o=(r=(s=y<=g?(n=1,a=0):(a=n=0,1),1),0),1):m<y?(r=a=n=0,o=s=1):g<y?(r=s=n=0,o=a=1):(o=r=a=1,s=n=0),C=g-n+1/6,M=m-a+1/6,b=y-s+1/6,x=g-r+1/6*2,O=m-o+1/6*2,A=y-v+1/6*2,T=g-1+.5,S=m-1+.5,u=y-1+.5,e=255&d,t=255&p,i=255&f,I=.6-g*g-m*m-y*y,d=.6-C*C-M*M-b*b,p=.6-x*x-O*O-A*A,f=.6-T*T-S*S-u*u;return 32*((I<0?0:(I*=I)*I*(c[I=3*l[e+h[t+h[i]]]]*g+c[1+I]*m+c[2+I]*y))+(d<0?0:(d*=d)*d*(c[s=3*l[e+n+h[t+a+h[i+s]]]]*C+c[1+s]*M+c[2+s]*b))+(p<0?0:(p*=p)*p*(c[v=3*l[e+r+h[t+o+h[i+v]]]]*x+c[1+v]*O+c[2+v]*A))+(f<0?0:(f*=f)*f*(c[i=3*l[1+e+h[1+t+h[1+i]]]]*T+c[1+i]*S+c[2+i]*u)))},noise4D:function(e,t,i,n){var a,r,o,s,l,h,c,u,d,p=this.perm,f=this.grad4,I=(e+t+i+n)*H,g=Math.floor(e+I),m=Math.floor(t+I),y=Math.floor(i+I),v=Math.floor(n+I),C=(g+m+y+v)*G,M=e-(g-C),b=t-(m-C),x=i-(y-C),O=n-(v-C),A=0,T=0,S=0,w=0;b<M?A++:T++,x<M?A++:S++,O<M?A++:w++,x<b?T++:S++,O<b?T++:w++,O<x?S++:w++;var B,D,P,L=M-(a=3<=A?1:0)+G,N=b-(r=3<=T?1:0)+G,J=x-(o=3<=S?1:0)+G,_=O-(B=3<=w?1:0)+G,E=M-(s=2<=A?1:0)+2*G,k=b-(l=2<=T?1:0)+2*G,q=x-(h=2<=S?1:0)+2*G,R=O-(D=2<=w?1:0)+2*G,F=M-(c=1<=A?1:0)+3*G,j=b-(u=1<=T?1:0)+3*G,V=x-(d=1<=S?1:0)+3*G,I=O-(P=1<=w?1:0)+3*G,e=M-1+4*G,t=b-1+4*G,i=x-1+4*G,n=O-1+4*G,C=255&g,A=255&m,T=255&y,S=255&v,w=.6-M*M-b*b-x*x-O*O,g=.6-L*L-N*N-J*J-_*_,m=.6-E*E-k*k-q*q-R*R,y=.6-F*F-j*j-V*V-I*I,v=.6-e*e-t*t-i*i-n*n;return 27*((w<0?0:(w*=w)*w*(f[w=p[C+p[A+p[T+p[S]]]]%32*4]*M+f[1+w]*b+f[2+w]*x+f[3+w]*O))+(g<0?0:(g*=g)*g*(f[B=p[C+a+p[A+r+p[T+o+p[S+B]]]]%32*4]*L+f[1+B]*N+f[2+B]*J+f[3+B]*_))+(m<0?0:(m*=m)*m*(f[D=p[C+s+p[A+l+p[T+h+p[S+D]]]]%32*4]*E+f[1+D]*k+f[2+D]*q+f[3+D]*R))+(y<0?0:(y*=y)*y*(f[P=p[C+c+p[A+u+p[T+d+p[S+P]]]]%32*4]*F+f[1+P]*j+f[2+P]*V+f[3+P]*I))+(v<0?0:(v*=v)*v*(f[S=p[1+C+p[1+A+p[1+T+p[1+S]]]]%32*4]*e+f[1+S]*t+f[2+S]*i+f[3+S]*n)))}},n._buildPermutationTable=a,void 0===(i=function(){return n}.call(t,i,t,e))||(e.exports=i),t.SimplexNoise=n,e.exports=n},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2));e.exports=function(){function i(e,t){(0,a.default)(this,i),this.x=e||0,this.y=t||0}return(0,r.default)(i,[{key:"set",value:function(e,t){return this.x=e||0,this.y=t||0,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"scale",value:function(e){return this.x*=e,this.y*=e,this}},{key:"normalize",value:function(){var e=this.length();return 0<e&&this.scale(1/e),this}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"distanceTo",value:function(e){var t=this.x-e.x,e=this.y-e.y;return Math.sqrt(t*t+e*e)}},{key:"distanceToSq",value:function(e){var t=e.x-this.x,e=e.y-this.y;return t*t+e*e}},{key:"clone",value:function(){return new i(this.x,this.y)}}],[{key:"add",value:function(e,t){return new i(e.x+t.x,e.y+t.y)}},{key:"sub",value:function(e,t){return new i(e.x-t.x,e.y-t.y)}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(16),p=PIXI.Graphics,f=PIXI.Sprite,I=PIXI.Container,i=function(e){(0,l.default)(n,e);var i=u(n);function n(e){var t;return(0,r.default)(this,n),(t=i.call(this)).main=e,t.init(),t}return(0,o.default)(n,[{key:"init",value:function(){this.initBg(),this.initCtrCon()}},{key:"destroy",value:function(){this.ctrCon.destroy(),this.ctrCon=null,this.curProGra.destroy(),(this.curProGra=null,s.default)((0,c.default)(n.prototype),"destroy",this).call(this)}},{key:"setPercent",value:function(e){this.progressBtn.x=360*e,this.curProGra.width=360*e}},{key:"initBg",value:function(){var e=new p;e.beginFill(1447704,.8),e.drawRoundedRect(-240,0,480,48*1.2,12),e.endFill(),this.addChild(e)}},{key:"initCtrCon",value:function(){var e=new I;e.allowGetBounds=!1,this.addChild(e),this.ctrCon=e,this.ctrCon.x=-156,this.ctrCon.y=24*1.2,this.initPlayCon(),this.initProgressBar(),this.initCurProgress()}},{key:"initPlayCon",value:function(){var t=this,e=new I;this.addChild(e);var i=f.fromImage("play.png");i.anchor.set(.5,.5),i.visible=!1;var n=f.fromFrame("pause.png");n.anchor.set(.5,.5),e.addChild(i),e.addChild(n),this.spPause=n,this.spPlay=i,e.x=-192,e.y=24*1.2,e.interactive=!0,e.scale.set(1.2),this.main.addCursor(e,d.status.PAN),e.addEventListener("pointerdown",function(){var e=!t.main.getPauseStatus();t.setPauseStatus(e)})}},{key:"initProgressBar",value:function(){var t=this,i=new I,e=new p;e.beginFill(16711680,0),e.drawRect(0,-12,360,36),e.beginFill(16777215,.3),e.drawRect(0,-2,360,4),i.addChild(e),this.ctrCon.addChild(i),this.main.addCursor(i,d.status.PAN),i.on(TouchEvent.TOUCH_BEGIN,function(e){e=i.toLocal(e.data.global).x,e=Math.min(360,Math.max(e,0));t.progressBtn.x=e,t.curProGra.width=e,t.lastPlayStatus=t.main.getPauseStatus(),t.main.setAniPercent(e/360),t.setPauseStatus(!0),t.isOnSetAni=!0,NBDrag.removeDrag(t.main),t.main.interactive=!1,t.progressBtn.scale.set(1.2)}),i.on(TouchEvent.TOUCH_MOVE,function(e){t.isOnSetAni&&(e=i.toLocal(e.data.global).x,e=Math.min(359.64,Math.max(e,0)),t.progressBtn.x=e,t.curProGra.width=e,t.main.setAniPercent(e/360))}),i.on(TouchEvent.TOUCH_END,function(){t.isOnSetAni&&(t.isOnSetAni=!1,t.setPauseStatus(t.lastPlayStatus),NBDrag.addDrag(t.main),t.main.interactive=!0,t.progressBtn.scale.set(1))}),i.on(TouchEvent.TOUCH_END_OUTSIDE,function(){t.isOnSetAni&&(t.isOnSetAni=!1,t.setPauseStatus(t.lastPlayStatus),NBDrag.addDrag(t.main),t.main.interactive=!0,t.progressBtn.scale.set(1))})}},{key:"initCurProgress",value:function(){this.curProGra=new p,this.ctrCon.addChild(this.curProGra),this.curProGra.beginFill(2328041),this.curProGra.drawRect(0,-2,360,4),this.curProGra.endFill(),this.curProGra.width=0,this.initProgressBtn()}},{key:"initProgressBtn",value:function(){var e=new p;e.beginFill(2328041),e.drawCircle(0,0,9.6),e.endFill(),e.beginFill(1447704),e.drawCircle(0,0,6*1.2),e.endFill(),this.ctrCon.addChild(e),this.progressBtn=e}},{key:"setPauseStatus",value:function(e){this.main.setPauseStatus(e),this.spPause.visible=!e,this.spPlay.visible=e}},{key:"drawTip",value:function(e,t,i,n,a,r){e.beginFill(r,6<arguments.length&&void 0!==arguments[6]?arguments[6]:1),e.drawRoundedRect(t-n/2,i,n,a,6*1.2),e.moveTo(t-6,i+a),e.lineTo(t+6,i+a),e.lineTo(t,i+a+6*1.2),e.closePath(),e.endFill()}}]),n}(I);e.exports=i},function(module,exports){var wm4;function __cons(t,a){return eval("new t("+Array.prototype.map.call(a,function(e,t){return"a["+t+"]"}).join(",")+")")}Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw TypeError("Object.getPrototypeOf called on non-object");return e.__proto__||e.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i}),"function"!=typeof Object.create&&(Object.create=function(e,t){if("object"!=typeof e)throw TypeError();function i(){}i.prototype=e;var n=new i;if(e&&(n.constructor=i),void 0!==t){if(t!==Object(t))throw TypeError();Object.defineProperties(n,t)}return n}),Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),1}catch(e){return}}()||(wm4=Object.defineProperty,Object.defineProperty=function(e,t,i){if(wm4)try{return wm4(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i&&(e[t]=i.value),e}),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(e,t){if(e!==Object(e))throw TypeError("Object.defineProperties called on non-object");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&Object.defineProperty(e,i,t[i]);return e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw TypeError("Bind must be called on a function");function t(){return n.apply(this instanceof a?this:e,i.concat(Array.prototype.slice.call(arguments)))}var i=Array.prototype.slice.call(arguments,1),n=this,a=function(){};return this.prototype&&(a.prototype=this.prototype),t.prototype=new a,t}),Array.isArray=Array.isArray||function(e){return Boolean(e&&"[object Array]"===Object.prototype.toString.call(Object(e)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if(0==i)return-1;var n=0;if(0<arguments.length&&(n=Number(arguments[1]),isNaN(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(0<n||-1)*Math.floor(Math.abs(n)))),i<=n)return-1;for(var a=0<=n?n:Math.max(i-Math.abs(n),0);a<i;a++)if(a in t&&t[a]===e)return a;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if(0==i)return-1;var n=i;1<arguments.length&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(0<n||-1)*Math.floor(Math.abs(n))));for(var a=0<=n?Math.min(n,i-1):i-Math.abs(n);0<=a;a--)if(a in t&&t[a]===e)return a;return-1}),Array.prototype.every||(Array.prototype.every=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();for(var n=arguments[1],a=0;a<i;a++)if(a in t&&!e.call(n,t[a],a,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();for(var n=arguments[1],a=0;a<i;a++)if(a in t&&e.call(n,t[a],a,t))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();for(var n=arguments[1],a=0;a<i;a++)a in t&&e.call(n,t[a],a,t)}),Array.prototype.map||(Array.prototype.map=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var n=[];n.length=i;for(var a=arguments[1],r=0;r<i;r++)r in t&&(n[r]=e.call(a,t[r],r,t));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();for(var n,a=[],r=arguments[1],o=0;o<i;o++)o in t&&(n=t[o],e.call(r,n,o,t)&&a.push(n));return a}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0==i&&1===arguments.length)throw TypeError();var n,a=0;if(2<=arguments.length)n=arguments[1];else for(;;){if(a in t){n=t[a++];break}if(++a>=i)throw TypeError()}for(;a<i;)a in t&&(n=e.call(void 0,n,t[a],a,t)),a++;return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0==i&&1===arguments.length)throw TypeError();var n,a=i-1;if(2<=arguments.length)n=arguments[1];else for(;;){if(a in this){n=this[a--];break}if(--a<0)throw TypeError()}for(;0<=a;)a in t&&(n=e.call(void 0,n,t[a],a,t)),a--;return n}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return("00"+e).slice(-2)}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}),function(o){"use strict";var g=void 0;function m(e){return e===o?g:e}function r(e,t){for(var i=Object.getOwnPropertyDescriptor(e,t),n=Object.getPrototypeOf(e);!i&&n;)i=Object.getOwnPropertyDescriptor(n,t),n=Object.getPrototypeOf(n);return i}var t,i,n=(t=o.Promise,i=o.setImmediate,t?function(e){t.resolve().then(function(){e()})}:i?function(e){i(e)}:function(e){setTimeout(e,0)});function s(e,t,i,n){t in e&&!n||("function"==typeof i?Object.defineProperty(e,t,{value:i,configurable:!0,enumerable:!1,writable:!0}):Object.defineProperty(e,t,{value:i,configurable:!1,enumerable:!1,writable:!1}))}function u(e,t,i){Object.defineProperty(e,t,{value:i,configurable:!1,enumerable:!1,writable:!0})}var a=o.isNaN,e=o.parseInt,l=o.parseFloat,h=Math.E,c=Math.LOG10E,d=Math.LOG2E,p=Math.abs,f=Math.ceil,I=Math.exp,y=Math.floor,v=Math.log,C=Math.max,M=Math.min,b=Math.pow,x=Math.random,O=Math.sqrt,A=String.prototype.match,T=String.prototype.replace,S=String.prototype.search,w=String.prototype.split;function B(){var o=re(null);function s(e){var t="function"==typeof e.valueOf&&e.valueOf(o);return t===e?null:t}return{clear:function(){o=re(null)},remove:function(e){e=s(e);return!(!e||!$(e,"value"))&&(delete e.value,!0)},get:function(e,t){e=s(e);return e&&$(e,"value")?e.value:t},has:function(e){e=s(e);return Boolean(e&&$(e,"value"))},set:function(e,t){var i,n,a,r;(s(e)||(a=(i=e).valueOf,r=re(null),Object.defineProperty(i,"valueOf",{value:(n=o,function(e){return e===n?r:a.apply(i,arguments)}),configurable:!0,writeable:!0,enumerable:!1}),r)).value=t}}}var D,P=Object.create(null);!function(){var t=Object.create(null),i={};D=function(e){return i[e]};var a=[];function r(e){if(!(this instanceof r))return new r(e,t);if(this instanceof r&&arguments[1]!==t)throw TypeError();e=e===g?g:String(e);return u(this,"[[SymbolData]]",Array(128+1).join("x").replace(/x/g,function(){return x()<.5?"‌":"‍"})),u(this,"[[Description]]",e),i[this]=this}"Symbol"in o||(o.Symbol=r),s(r,"for",function(e){for(var t=String(e),i=0;i<a.length;++i){var n=a[i];if(U(n["[[key]]"],t))return n["[[symbol]]"]}e=r(e);return a.push({"[[key]]":t,"[[symbol]]":e}),e}),s(o.Symbol,"iterator",o.Symbol("Symbol.iterator")),s(r,"keyFor",function(e){if(!(e instanceof r))throw TypeError();for(var t=0;t<a.length;++t){var i=a[t];if(U(i["[[symbol]]"],e))return i["[[key]]"]}return g}),s(o.Symbol,"match",o.Symbol("Symbol.match")),s(o.Symbol,"replace",o.Symbol("Symbol.replace")),s(o.Symbol,"search",o.Symbol("Symbol.search")),s(o.Symbol,"split",o.Symbol("Symbol.split")),s(o.Symbol,"toStringTag",o.Symbol("Symbol.toStringTag")),Object.defineProperty(r.prototype,"toString",{value:function(){var e=m(this),t=e["[[Description]]"];return"Symbol("+(t===g?"":t)+e["[[SymbolData]]"]+")"},configurable:!0,writeable:!0,enumerable:!1}),Object.defineProperty(r.prototype,"valueOf",{value:function(){throw TypeError()},configurable:!0,writeable:!0,enumerable:!1})}();var L={};function N(e){switch(typeof e){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";default:return null===e?"null":e instanceof o.Symbol?"symbol":"object"}}var J,_,E,k,q=o.Symbol.iterator,R=o.Symbol.match,F=o.Symbol.replace,j=o.Symbol.search,V=o.Symbol.split,H=o.Symbol.toStringTag;function G(e){return e=Number(e),a(e)?0:0===e||e===1/0||e===-1/0?e:(e<0?-1:1)*y(p(e))}function z(e){if(null===e||e===g)throw TypeError();return Object(e)}function X(e){e=G(e);return e<=0?0:e===1/0?9007199254740991:M(e,9007199254740991)}function W(e){return"function"==typeof e}function Z(e){return!!/Constructor/.test(Object.prototype.toString.call(e))||(!!/Function/.test(Object.prototype.toString.call(e))||"function"==typeof e)}function U(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case"undefined":return!0;case"number":return e!=e&&t!=t?!0:0===e&&0===t?1/e==1/t:e===t;default:return e===t}}function K(e,t){if(typeof e==typeof t)switch(typeof e){case"undefined":return 1;case"number":return e!=e&&t!=t?1:e===t;default:return e===t}}function Y(e,t){t=t,t=z(e)[t];if(t===g||null===t)return g;if(!W(t))throw TypeError();return t}function Q(e,t){for(;e;){if(Object.prototype.hasOwnProperty.call(e,t))return!0;if("object"!==N(e))return!1;var i=Object.getPrototypeOf(e);if(i===e)return!1;e=i}return!1}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ee(e,t){e=(t=arguments.length<2?Y(e,q):t).call(e);if("object"!==N(e))throw TypeError();return e}function te(e){return e.value}function ie(e,t){e=function(e,t){if("object"!==N(t=arguments.length<2?e.next():e.next(t)))throw TypeError();return t}(e,t),t=e.done;return!0!==Boolean(t)&&e}function ne(e,t){var i={};return i.value=e,i.done=t,i}function ae(e,t,i){n(function(){t.apply(g,i)})}function re(e,t){return Object.create(e,t)}function oe(e){return!D(e)}s(Object,"assign",function(e,t){var i=z(e);if(arguments.length<2)return i;for(var n=1;n<arguments.length;)for(var a,r=arguments[n++],o=r===g||null===r?[]:(a=z(r),r=a,Object.getOwnPropertyNames(r)),s=0;s<o.length;++s){var l=o[s],h=Object.getOwnPropertyDescriptor(a,l);h!==g&&h.enumerable&&(h=a[l],i[l]=h)}return i}),J="symbol"==typeof o.Symbol(),_=Object.getOwnPropertyNames,E=Object.keys,k="object"==typeof window?_(window):[],s(Object,"getOwnPropertyNames",function(e){if("[object Window]"===Object.prototype.toString.call(e))try{return _(e).filter(oe)}catch(e){return k.slice()}return _(e).filter(oe)},!J),s(Object,"getOwnPropertySymbols",function(e){return _(e).filter(D).map(D)},!J),s(Object,"keys",function(e){return E(e).filter(oe)},!J),s(Object,"is",U),s(Object,"setPrototypeOf",function(e,t){if("object"!==N(e))throw TypeError();if("object"!==N(t)&&"null"!==N(t))throw TypeError();return e.__proto__=t,e});var se=Object.prototype.toString;s(Object.prototype,"toString",function(){var e=m(this);return e===Object(e)&&H in e?"[object "+e[H]+"]":se.apply(e,arguments)}),s(o.Symbol.prototype,o.Symbol.toStringTag,"Symbol"),s(Number,"EPSILON",function(){for(var e,t=1;1+t!==1;t/=2)e=t;return e}()),s(Number,"isFinite",function(e){return"number"===N(e)&&(e==e&&e!==1/0&&e!==-1/0)}),s(Number,"isInteger",function(e){return"number"===N(e)&&(e==e&&e!==1/0&&e!==-1/0&&G(e)===e)}),s(Number,"isNaN",function(e){return"number"===N(e)&&e!=e}),s(Number,"isSafeInteger",function(e){if("number"!==N(e))return!1;if(e!=e||e===1/0||e===-1/0)return!1;var t=G(e);return t===e&&p(t)<=9007199254740991}),s(Number,"MAX_SAFE_INTEGER",9007199254740991),s(Number,"MIN_SAFE_INTEGER",-9007199254740991),s(Number,"parseFloat",l),s(Number,"parseInt",e),s(Math,H,"Math"),s(Math,"acosh",function(e){return e=Number(e),v(e+O(e*e-1))}),s(Math,"asinh",function(e){if(U(e=Number(e),-0))return e;var t=O(e*e+1);return v(t===-e?0:e+t)}),s(Math,"atanh",function(e){return 0===(e=Number(e))?e:v((1+e)/(1-e))/2}),s(Math,"cbrt",function(e){if(e=Number(e),a(e/e))return e;var t=b(p(e),1/3),e=e/t/t;return t+t*(e-t)/(2*t+e)}),s(Math,"clz32",function(e){function t(e){return 240&e?128&e?0:64&e?1:32&e?2:3:8&e?4:4&e?5:2&e?6:1&e?7:8}return 4278190080&(e>>>=0)?t(e>>24):16711680&e?t(e>>16)+8:65280&e?t(e>>8)+16:t(e)+24}),s(Math,"cosh",function(e){return e=Number(e),(b(h,e)+b(h,-e))/2}),s(Math,"expm1",function(e){return U(e=Number(e),-0)?-0:p(e)<1e-5?e+.5*e*e:I(e)-1}),s(Math,"fround",function(e){return a(e)?NaN:1/e==1/0||1/e==-1/0||e===1/0||e===-1/0?e:new Float32Array([e])[0]}),s(Math,"hypot",function(){for(var e=[],t=0,i=!1,n=0;n<arguments.length;++n){var a=p(Number(arguments[n]));if(a===1/0)return a;a!=a&&(i=!0),t<a&&(t=a),e[n]=a}if(i)return NaN;if(0===t)return 0;for(var r=0,n=0;n<e.length;++n){var o=e[n]/t;r+=o*o}return t*O(r)}),s(Math,"imul",function(e,t){var i=e>>>0,n=t>>>0,e=65535&i,t=65535&n;return e*t+((i>>>16&65535)*t+e*(n>>>16&65535)<<16>>>0)|0},"imul"in Math&&0===Math.imul(1,2147483648)),s(Math,"log1p",function(e){return(e=Number(e))<-1?NaN:U(e,-0)?-0:1e-4<p(e)?v(1+e):(-.5*e+1)*e}),s(Math,"log10",function(e){return e=Number(e),v(e)*c}),s(Math,"log2",function(e){return e=Number(e),v(e)*d}),s(Math,"sign",function(e){return(e=Number(e))<0?-1:0<e?1:e}),s(Math,"sinh",function(e){return U(e=Number(e),-0)?e:(b(h,e)-b(h,-e))/2}),s(Math,"tanh",function(e){e=Number(e);var t=b(h,2*e)-1,i=b(h,2*e)+1;return U(e,-0)?e:t===i?1:t/i}),s(Math,"trunc",function(e){return e=Number(e),a(e)?NaN:(e<0?f:y)(e)});var le,e=(e={},le=Symbol(),e[Symbol.match]=function(){return le},"".match(e)===le);function he(){}s(String,"fromCodePoint",function(){for(var e=arguments,t=e.length,i=[],n=0;n<t;){var a=Number(e[n]);if(!U(a,G(a))||a<0||1114111<a)throw RangeError("Invalid code point "+a);a<65536?i.push(String.fromCharCode(a)):(a-=65536,i.push(String.fromCharCode(55296+(a>>10))),i.push(String.fromCharCode(a%1024+56320))),n+=1}return i.join("")}),s(String,"raw",function(e){var t,i=[].slice.call(arguments,1),e=Object(e).raw,n=X((t=Object(e)).length);if(n<=0)return"";for(var a=[],r=0;;){var o=t[r],s=String(o);if(a.push(s),r+1===n)return a.join("");o=i[r],o=String(o);a.push(o),r+=1}}),s(String.prototype,"codePointAt",function(e){var t=m(this),i=String(t),n=G(e),t=i.length;if(n<0||t<=n)return g;e=i.charCodeAt(n);if(e<55296||56319<e||n+1===t)return e;n=i.charCodeAt(n+1);return n<56320||57343<n?e:1024*(e-55296)+(n-56320)+65536}),s(String.prototype,"endsWith",function(e){var t=arguments[1],i=m(this),n=String(i),i=String(e),e=n.length,t=t===g?e:G(t),t=M(C(t,0),e),e=i.length,t=t-e;return!(t<0)&&n.substring(t,t+e)===i}),s(String.prototype,"includes",function(e){var t=arguments[1],i=m(this),n=String(i),i=String(e),e=G(t),t=n.length,t=M(C(e,0),t);return-1!==n.indexOf(i,t)}),s(String.prototype,"match",function(e){var t=m(this),t=String(t),e=Q(e,R)?e:new RegExp(e);return e[R](t)},!e),s(String.prototype,"repeat",function(e){var t=m(this),t=String(t),e=G(e);if(e<0)throw RangeError();if(e===1/0)throw RangeError();return new Array(e+1).join(t)}),s(String.prototype,"replace",function(e,t){var i=m(this);return Q(e,F)?e[F](i,t):T.call(i,e,t)},!e),s(String.prototype,"search",function(e){var t=m(this),t=String(t),e=Q(e,j)?e:new RegExp(e);return e[j](t)},!e),s(String.prototype,"split",function(e,t){var i=m(this);return Q(e,V)?e[V](i,t):w.call(i,e,t)},!e),s(String.prototype,"startsWith",function(e){var t=arguments[1],i=m(this),n=String(i),a=String(e),i=G(t),e=n.length,t=M(C(i,0),e),i=a.length;return!(e<i+t)&&n.substring(t,t+i)===a}),s(String.prototype,q,function(){return e=this,t="value",i=String(e),u(e=new he,"[[IteratedString]]",i),u(e,"[[StringIteratorNextIndex]]",0),u(e,"[[StringIterationKind]]",t),e;var e,t,i});e=Object.create(L);s(he.prototype=e,"next",function(){var e=z(this),t=String(e["[[IteratedString]]"]),i=e["[[StringIteratorNextIndex]]"];if(t.length<=i)return u(e,"[[StringIteratorNextIndex]]",1/0),ne(g,!0);t=t.codePointAt(i);return u(e,"[[StringIteratorNextIndex]]",i+(65535<t?2:1)),ne(String.fromCodePoint(t),!1)}),s(e,H,"String Iterator"),"flags"in RegExp.prototype||Object.defineProperty(RegExp.prototype,"flags",{get:function(){var e=String(this);return e.substring(e.lastIndexOf("/")+1)}}),s(RegExp.prototype,R,function(e){var t=m(this);return A.call(e,t)}),s(RegExp.prototype,F,function(e,t){var i=m(this);return T.call(e,i,t)}),s(RegExp.prototype,j,function(e){var t=m(this);return S.call(e,t)}),s(RegExp.prototype,V,function(e,t){var i=m(this);return w.call(e,i,t)}),s(Array,"from",function(e){var t=arguments[1],i=arguments[2],n=m(this);if(t===g)var a=!1;else{if(!W(t))throw TypeError();var r=i,a=!0}i=Y(e,q);if(i!==g)for(var o=Z(n)?new n:new Array(0),s=ee(e,i),l=0;;){var h=ie(s);if(!1===h)return o.length=l,o;var h=te(h),c=a?t.call(r,h):h;o[l]=c,l+=1}var u=z(e),d=X(u.length);for(o=new(Z(n)?n:Array)(d),l=0;l<d;){var p=u[l];c=a?t.call(r,p,l):p,o[l]=c,l+=1}return o.length=d,o}),s(Array,"of",function(){for(var e=arguments,t=e.length>>>0,i=m(this),n=Z(i)?z(n=new i(t)):new Array(t),a=0;a<t;)n[a]=e[a],a+=1;return n.length=t,n}),s(Array.prototype,"copyWithin",function(e,t){var i,n=arguments[2],a=z(this),r=X(a.length),r=C(r,0),e=G(e),o=e<0?C(r+e,0):M(e,r),t=G(t),s=t<0?C(r+t,0):M(t,r),n=n===g?r:G(n),n=n<0?C(r+n,0):M(n,r),l=M(n-s,r-o);for(s<o&&o<s+l?(i=-1,s=s+l-1,o=o+l-1):i=1;0<l;){var h=String(s),c=String(o);Q(a,h)?(h=a[h],a[c]=h):delete a[c],s+=i,o+=i,l-=1}return a});e="entries"in Array.prototype&&"next"in[].entries();function ce(){}function ue(e,t){var i=new ce;return u(i,"[[IteratedObject]]",z(e)),u(i,"[[ArrayIteratorNextIndex]]",0),u(i,"[[ArrayIterationKind]]",t),i}s(Array.prototype,"entries",function(){return ue(this,"key+value")},!e),s(Array.prototype,"fill",function(e){for(var t=arguments[1],i=arguments[2],n=z(this),a=X(n.length),a=C(a,0),t=G(t),r=t<0?C(a+t,0):M(t,a),i=i===g?a:G(i),o=i<0?C(a+i,0):M(i,a);r<o;)n[String(r)]=e,r+=1;return n}),s(Array.prototype,"find",function(e){var t=z(this),i=G(t.length);if(!W(e))throw TypeError();for(var n=1<arguments.length?arguments[1]:g,a=0;a<i;){var r=String(a);if(Q(t,r)){var o=t[r],r=e.call(n,o,a,t);if(Boolean(r))return o}++a}return g}),s(Array.prototype,"findIndex",function(e){var t=z(this),i=X(t.length);if(!W(e))throw TypeError();for(var n=1<arguments.length?arguments[1]:g,a=0;a<i;){var r=String(a);if(Q(t,r)){r=t[r],r=e.call(n,r,a,t);if(Boolean(r))return a}++a}return-1}),s(Array.prototype,"keys",function(){return ue(this,"key")},!e),s(Array.prototype,"values",function(){return ue(this,"value")},!e),s(Array.prototype,q,Array.prototype.values);e=Object.create(L);function de(e){var t={"[[value]]":!1},i=a;function a(e){var t=a["[[Promise]]"],i=a["[[AlreadyResolved]]"];if(i["[[value]]"])return g;if(u(i,"[[value]]",!0),U(e,t))return ge(t,TypeError());if("object"!==N(e))return pe(t,e);try{var n=e.then}catch(n){return ge(t,n)}return W(n)?(ae(0,ve,[t,e,n]),g):pe(t,e)}u(i,"[[Promise]]",e),u(i,"[[AlreadyResolved]]",t);var n=r;function r(e){var t=r["[[Promise]]"],i=r["[[AlreadyResolved]]"];return i["[[value]]"]?g:(u(i,"[[value]]",!0),ge(t,e))}return u(n,"[[Promise]]",e),u(n,"[[AlreadyResolved]]",t),{"[[Resolve]]":i,"[[Reject]]":n}}function pe(e,t){var i=e["[[PromiseFulfillReactions]]"];return u(e,"[[PromiseResult]]",t),u(e,"[[PromiseFulfillReactions]]",g),u(e,"[[PromiseRejectReactions]]",g),u(e,"[[PromiseState]]","fulfilled"),me(i,t)}function fe(e){return function(e,t){var i={};u(i,"[[Promise]]",e),u(i,"[[Resolve]]",g),u(i,"[[Reject]]",g);var n=function(){function n(e,t){var i=n["[[Capability]]"];if(i["[[Resolve]]"]!==g)throw TypeError();if(i["[[Reject]]"]!==g)throw TypeError();return u(i,"[[Resolve]]",e),u(i,"[[Reject]]",t),g}return n}();u(n,"[[Capability]]",i);n=e=new t(n);if(u(i,"[[Promise]]",e),!W(i["[[Resolve]]"]))throw TypeError();if(!W(i["[[Reject]]"]))throw TypeError();if("object"===N(n)&&!U(e,n))throw TypeError();return i}(g,e)}function Ie(e){return"object"===N(e)&&("[[PromiseState]]"in e&&e["[[PromiseState]]"]!==g)}function ge(e,t){var i=e["[[PromiseRejectReactions]]"];return u(e,"[[PromiseResult]]",t),u(e,"[[PromiseFulfillReactions]]",g),u(e,"[[PromiseRejectReactions]]",g),u(e,"[[PromiseState]]","rejected"),me(i,t)}function me(e,t){for(var i=0,n=e.length;i<n;++i)ae(0,ye,[e[i],t]);return g}function ye(e,t){var i,n=e["[[Capabilities]]"],e=e["[[Handler]]"];try{if("Identity"===e)i=t;else{if("Thrower"===e)throw t;i=e.call(g,t)}}catch(i){return void n["[[Reject]]"].call(g,i)}n["[[Resolve]]"].call(g,i)}function ve(t,e,i){t=de(t);try{i.call(e,t["[[Resolve]]"],t["[[Reject]]"])}catch(e){t["[[Reject]]"].call(g,e);return}}function Ce(e){var t={configurable:!1,enumerable:!1,writable:!0,value:g};Object.defineProperty(this,"[[PromiseState]]",t),Object.defineProperty(this,"[[PromiseConstructor]]",t),Object.defineProperty(this,"[[PromiseResult]]",t),Object.defineProperty(this,"[[PromiseFulfillReactions]]",t),Object.defineProperty(this,"[[PromiseRejectReactions]]",t);if("object"!==N(this))throw new TypeError;if(!("[[PromiseState]]"in this))throw TypeError();if(this["[[PromiseState]]"]!==g)throw TypeError();if(!W(e))throw TypeError();return u(this,"[[PromiseConstructor]]",Ce),function(e,t){u(e,"[[PromiseState]]","pending"),u(e,"[[PromiseFulfillReactions]]",[]),u(e,"[[PromiseRejectReactions]]",[]);var i=de(e);try{t.call(g,i["[[Resolve]]"],i["[[Reject]]"])}catch(e){i["[[Reject]]"].call(g,e)}return e}(this,e)}s(ce.prototype=e,"next",function(){var e=m(this);if("object"!==N(e))throw TypeError();var t,i,n=e["[[IteratedObject]]"],a=e["[[ArrayIteratorNextIndex]]"],r=e["[[ArrayIterationKind]]"],o=n.length>>>0;if(-1!==r.indexOf("sparse"))for(var s=!1;!s&&a<o;)(s=Q(n,t=String(a)))||(a+=1);if(o<=a)return u(e,"[[ArrayIteratorNextIndex]]",1/0),ne(g,!0);if(u(e,"[[ArrayIteratorNextIndex]]",(t=a)+1),-1!==r.indexOf("value")&&(i=n[t]),-1!==r.indexOf("key+value"))return ne([t,i],!1);if(-1!==r.indexOf("key"))return ne(t,!1);if("value"===r)return ne(i,!1);throw Error("Internal error")}),s(e,H,"Array Iterator"),["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(e){var t;e in o&&(s(t=o[e],"from",function(e){var t=arguments[1],i=arguments[2],n=m(this);if(!Z(n))throw TypeError();if(t===g)var a=!1;else{if(W(t))throw TypeError();var r=i,a=!0}i=Y(e,q);if(i!==g){for(var o,s=ee(e,i),l=[],h=!0;!1!==h;)!1!==(h=ie(s))&&(o=te(h),l.push(o));for(var c=l.length,u=new n(c),d=0;d<c;){var p=l.shift(),f=a?t.call(r,p):p;u[d]=f,++d}return u}for(var I=z(e),u=new n(c=X(I.length)),d=0;d<c;)p=I[d],f=a?t.call(r,p,d):p,u[d]=f,++d;return u}),s(t,"of",function(){for(var e=arguments,t=e.length,i=new(m(this))(t),n=0;n<t;)i[n]=e[n],++n;return i}),s(t.prototype,"copyWithin",Array.prototype.copyWithin),s(t.prototype,"entries",Array.prototype.entries),s(t.prototype,"every",Array.prototype.every),s(t.prototype,"fill",function(e){for(var t=arguments[1],i=arguments[2],n=z(this),a=X(n.length),a=C(a,0),t=G(t),r=t<0?C(a+t,0):M(t,a),i=i===g?a:G(i),o=i<0?C(a+i,0):M(i,a);r<o;)n[String(r)]=e,r+=1;return n}),s(t.prototype,"filter",function(e){var t=arguments[1],i=z(this),n=X(i.length);if(!W(e))throw TypeError();for(var a=t,t=i.constructor,r=[],o=0,s=0;o<n;){var l=i[o];e.call(a,l,o,i)&&(r.push(l),++s),++o}for(var h=new t(s),c=0,u=0;u<r.length;++u){var d=r[u];h[c]=d,++c}return h}),s(t.prototype,"find",Array.prototype.find),s(t.prototype,"findIndex",Array.prototype.findIndex),s(t.prototype,"forEach",Array.prototype.forEach),s(t.prototype,"indexOf",Array.prototype.indexOf),s(t.prototype,"join",Array.prototype.join),s(t.prototype,"keys",Array.prototype.keys),s(t.prototype,"lastIndexOf",Array.prototype.lastIndexOf),s(t.prototype,"map",function(e){var t=arguments[1],i=z(this),n=X(i.length);if(!W(e))throw TypeError();var a=t,r=g,t=i.constructor;(r=Z(t)?new t(n):r)===g&&(r=new Array(n));for(var o,s=0;s<n;)Q(i,s)&&(o=i[s],o=e.call(a,o,s,i),r[s]=o),++s;return r}),s(t.prototype,"reduce",Array.prototype.reduce),s(t.prototype,"reduceRight",Array.prototype.reduceRight),s(t.prototype,"reverse",Array.prototype.reverse),s(t.prototype,"slice",function(e,t){var i=z(this),n=X(i.length),e=G(e),a=e<0?C(n+e,0):M(e,n),t=t===g?n:G(t),r=t<0?C(n+t,0):M(t,n),t=r-a,n=i.constructor;if(!Z(n))throw TypeError();for(var o=new n(t),s=0;a<r;){var l=i[a];o[s]=l,++a,++s}return o}),s(t.prototype,"some",Array.prototype.some),s(t.prototype,"sort",function(){var i=arguments[0];return Array.prototype.sort.call(this,function(e,t){return e!=e&&t!=t?0:e!=e?1:t!=t?-1:i!==g?i(e,t):e<t?-1:t<e?1:0})}),s(t.prototype,"values",Array.prototype.values),s(t.prototype,q,t.prototype.values),s(t.prototype,H,e))}),function(){function e(){var e=m(this),t=arguments[0];if("object"!==N(e))throw TypeError();if("[[MapData]]"in e)throw TypeError();if(t!==g){var i=e.set;if(!W(i))throw TypeError();var n=ee(z(t))}if(u(e,"[[MapData]]",{keys:[],values:[]}),n===g)return e;for(;;){var a=ie(n);if(!1===a)return e;var r=te(a);if("object"!==N(r))throw TypeError();a=r[0],r=r[1];i.call(e,a,r)}return e}function r(e,t){var i;if(t==t)return e.keys.indexOf(t);for(i=0;i<e.keys.length;i+=1)if(K(e.keys[i],t))return i;return-1}"Map"in o&&!function(){try{return void new o.Map([])}catch(e){return 1}}()&&!function(){try{return!(new o.Map).entries().next}catch(e){return 1}}()&&1===new o.Map([["a",1]]).size||(o.Map=e);function n(){}function t(e,t){if("object"!==N(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(e["[[MapData]]"]===g)throw TypeError();var i=new n;return u(i,"[[Map]]",e),u(i,"[[MapNextIndex]]",0),u(i,"[[MapIterationKind]]",t),i}s(e.prototype={},"clear",function(){var e=m(this);if("object"!==N(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(e["[[MapData]]"]===g)throw TypeError();e=e["[[MapData]]"];return e.keys.length=0,e.values.length=0,g}),s(e.prototype,"delete",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(!("[[MapData]]"in t))throw TypeError();if(t["[[MapData]]"]===g)throw TypeError();t=t["[[MapData]]"],e=r(t,e);return!(e<0)&&(t.keys[e]=P,t.values[e]=P,!0)}),s(e.prototype,"entries",function(){var e=m(this);if("object"!==N(e))throw TypeError();return t(e,"key+value")}),s(e.prototype,"forEach",function(e){var t=arguments[1],i=m(this);if("object"!==N(i))throw TypeError();if(!("[[MapData]]"in i))throw TypeError();if(i["[[MapData]]"]===g)throw TypeError();var n=i["[[MapData]]"];if(!W(e))throw TypeError("First argument to forEach is not callable.");for(var a=0;a<n.keys.length;++a)n.keys[a]!==P&&e.call(t,n.values[a],n.keys[a],i);return g}),s(e.prototype,"get",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(!("[[MapData]]"in t))throw TypeError();if(t["[[MapData]]"]===g)throw TypeError();t=t["[[MapData]]"],e=r(t,e);return 0<=e?t.values[e]:g}),s(e.prototype,"has",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(!("[[MapData]]"in t))throw TypeError();if(t["[[MapData]]"]===g)throw TypeError();return 0<=r(t["[[MapData]]"],e)}),s(e.prototype,"keys",function(){var e=m(this);if("object"!==N(e))throw TypeError();return t(e,"key")}),s(e.prototype,"set",function(e,t){var i=m(this);if("object"!==N(i))throw TypeError();if(!("[[MapData]]"in i))throw TypeError();if(i["[[MapData]]"]===g)throw TypeError();var n=i["[[MapData]]"],a=r(n,e);return a<0&&(a=n.keys.length),U(e,-0)&&(e=0),n.keys[a]=e,n.values[a]=t,i}),Object.defineProperty(e.prototype,"size",{get:function(){var e=m(this);if("object"!==N(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(e["[[MapData]]"]===g)throw TypeError();for(var t=e["[[MapData]]"],i=0,n=0;n<t.keys.length;++n)t.keys[n]!==P&&(i+=1);return i}}),s(e.prototype,"values",function(){var e=m(this);if("object"!==N(e))throw TypeError();return t(e,"value")}),s(e.prototype,q,function(){var e=m(this);if("object"!==N(e))throw TypeError();return t(e,"key+value")}),s(o.Map.prototype,H,"Map");var i=Object.create(L);s(n.prototype=i,"next",function(){var e=m(this);if("object"!==N(e))throw TypeError();for(var t=e["[[Map]]"],i=e["[[MapNextIndex]]"],n=e["[[MapIterationKind]]"],a=t["[[MapData]]"];i<a.keys.length;){var r={key:a.keys[i],value:a.values[i]};if(u(e,"[[MapNextIndex]]",i+=1),r.key!==P)return ne("key"===n?r.key:"value"===n?r.value:[r.key,r.value],!1)}return ne(g,!0)}),s(i,H,"Map Iterator")}(),function(){function e(){var e=m(this),t=arguments[0];if("object"!==N(e))throw TypeError();if("[[SetData]]"in e)throw TypeError();if(t!==g){var i=e.add;if(!W(i))throw TypeError();var n=ee(z(t))}if(u(e,"[[SetData]]",[]),n===g)return e;for(;;){var a=ie(n);if(!1===a)return e;a=te(a);i.call(e,a)}return e}function n(e,t){var i;if(t==t)return e.indexOf(t);for(i=0;i<e.length;i+=1)if(K(e[i],t))return i;return-1}"Set"in o&&!function(){try{return!(new o.Set).entries().next}catch(e){return 1}}()&&1===new o.Set([1]).size||(o.Set=e);function a(){}function t(e,t){if("object"!==N(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(e["[[SetData]]"]===g)throw TypeError();var i=new a;return u(i,"[[IteratedSet]]",e),u(i,"[[SetNextIndex]]",0),u(i,"[[SetIterationKind]]",t),i}s(e.prototype={},"add",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(!("[[SetData]]"in t))throw TypeError();if(t["[[SetData]]"]===g)throw TypeError();U(e,-0)&&(e=0);var i=n(t["[[SetData]]"],e);return i<0&&(i=t["[[SetData]]"].length),t["[[SetData]]"][i]=e,t}),s(e.prototype,"clear",function(){var e=m(this);if("object"!==N(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(e["[[SetData]]"]===g)throw TypeError();return e["[[SetData]]"].length=0,g}),s(e.prototype,"delete",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(!("[[SetData]]"in t))throw TypeError();if(t["[[SetData]]"]===g)throw TypeError();t=t["[[SetData]]"],e=n(t,e);return!(e<0)&&(t[e]=P,!0)}),s(e.prototype,"entries",function(){var e=m(this);if("object"!==N(e))throw TypeError();return t(e,"key+value")}),s(e.prototype,"forEach",function(e){var t=arguments[1],i=m(this);if("object"!==N(i))throw TypeError();if(!("[[SetData]]"in i))throw TypeError();if(i["[[SetData]]"]===g)throw TypeError();var n=i["[[SetData]]"];if(!W(e))throw TypeError("First argument to forEach is not callable.");for(var a=0;a<n.length;++a)n[a]!==P&&e.call(t,n[a],n[a],i)}),s(e.prototype,"has",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(!("[[SetData]]"in t))throw TypeError();if(t["[[SetData]]"]===g)throw TypeError();return-1!==n(t["[[SetData]]"],e)}),Object.defineProperty(e.prototype,"size",{get:function(){var e=m(this);if("object"!==N(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(e["[[SetData]]"]===g)throw TypeError();for(var t=e["[[SetData]]"],i=0,n=0;n<t.length;++n)t[n]!==P&&(i+=1);return i}}),s(e.prototype,"values",function(){var e=m(this);if("object"!==N(e))throw TypeError();return t(e,"value")}),e.prototype.keys=e.prototype.values,s(e.prototype,q,function(){var e=m(this);if("object"!==N(e))throw TypeError();return t(e)}),s(o.Set.prototype,H,"Set");var i=Object.create(L);s(a.prototype=i,"next",function(){var e=m(this);if("object"!==N(e))throw TypeError();for(var t=e["[[IteratedSet]]"],i=e["[[SetNextIndex]]"],n=e["[[SetIterationKind]]"],a=t["[[SetData]]"];i<a.length;){var r=a[i];if(u(e,"[[SetNextIndex]]",i+=1),r!==P)return ne("key+value"===n?[r,r]:r,!1)}return ne(g,!0)}),s(i,H,"Set Iterator")}(),function(){function e(){var e=m(this),t=arguments[0];if("object"!==N(e))throw TypeError();if("[[WeakMapData]]"in e)throw TypeError();if(t!==g){var i=e.set;if(!W(i))throw TypeError();var n=ee(z(t))}if(u(e,"[[WeakMapData]]",new B),n===g)return e;for(;;){var a=ie(n);if(!1===a)return e;var r=te(a);if("object"!==N(r))throw TypeError();a=r[0],r=r[1];i.call(e,a,r)}return e}"WeakMap"in o||(o.WeakMap=e);var t,i;s(e.prototype={},"delete",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(t["[[WeakMapData]]"]===g)throw TypeError();if("object"!==N(e))throw TypeError("Expected object");return t["[[WeakMapData]]"].remove(e)}),s(e.prototype,"get",function(e,t){var i=m(this);if("object"!==N(i))throw TypeError();if(i["[[WeakMapData]]"]===g)throw TypeError();if("object"!==N(e))throw TypeError("Expected object");return i["[[WeakMapData]]"].get(e,t)}),s(e.prototype,"has",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(t["[[WeakMapData]]"]===g)throw TypeError();if("object"!==N(e))throw TypeError("Expected object");return t["[[WeakMapData]]"].has(e)}),s(e.prototype,"set",function(e,t){var i=m(this);if("object"!==N(i))throw TypeError();if(i["[[WeakMapData]]"]===g)throw TypeError();if("object"!==N(e))throw TypeError("Expected object");return i["[[WeakMapData]]"].set(e,t),i}),s(o.WeakMap.prototype,H,"WeakMap"),t=new o.WeakMap,i=o.WeakMap.prototype.set,s(o.WeakMap.prototype,"set",function(){return i.apply(this,arguments),this},t.set({},0)!==t)}(),function(){function e(){var e=m(this),t=arguments[0];if("object"!==N(e))throw TypeError();if("[[WeakSetData]]"in e)throw TypeError();if(t!==g){var i=e.add;if(!W(i))throw TypeError();var n=ee(z(t))}if(u(e,"[[WeakSetData]]",new B),n===g)return e;for(;;){var a=ie(n);if(!1===a)return e;a=te(a);i.call(e,a)}return e}"WeakSet"in o||(o.WeakSet=e);var t,i;s(e.prototype={},"add",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(t["[[WeakSetData]]"]===g)throw TypeError();if("object"!==N(e))throw TypeError("Expected object");return t["[[WeakSetData]]"].set(e,!0),t}),s(e.prototype,"delete",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(t["[[WeakSetData]]"]===g)throw TypeError();if("object"!==N(e))throw TypeError("Expected object");return t["[[WeakSetData]]"].remove(e)}),s(e.prototype,"has",function(e){var t=m(this);if("object"!==N(t))throw TypeError();if(t["[[WeakSetData]]"]===g)throw TypeError();if("object"!==N(e))throw TypeError("Expected object");return t["[[WeakSetData]]"].has(e)}),s(o.WeakSet.prototype,H,"WeakSet"),t=new o.WeakSet,i=o.WeakSet.prototype.add,s(o.WeakSet.prototype,"add",function(){return i.apply(this,arguments),this},t.add({})!==t)}(),"ArrayBuffer"in o&&(s(ArrayBuffer,"isView",function(e){return"object"===N(e)&&("buffer"in e&&e.buffer instanceof ArrayBuffer)}),s(ArrayBuffer.prototype,H,"ArrayBuffer")),"DataView"in o&&s(DataView.prototype,H,"DataView"),s(JSON,H,"JSON"),s(L,q,function(){return this}),s(Ce,"all",function(e){var t=m(this),i=fe(t);try{var n=ee(e)}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}for(var a=[],r={value:1},o=0;;){try{var s=ie(n)}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}if(!s)return--r.value,0===r.value&&i["[[Resolve]]"].apply(g,a),i["[[Promise]]"];try{var l=te(s)}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}try{var h=t.resolve(l)}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}var c=function(){function r(e){if((a=r["[[AlreadyCalled]]"]).value)return g;a.value=!0;var t=r["[[Index]]"],i=r["[[Values]]"],n=r["[[Capabilities]]"],a=r["[[RemainingElements]]"];try{i[t]=e}catch(e){return n["[[Reject]]"].call(g,e),n["[[Promise]]"]}return--a.value,0===a.value?n["[[Resolve]]"].call(g,i):g}return r}();u(c,"[[AlreadyCalled]]",{value:!1}),u(c,"[[Index]]",o),u(c,"[[Values]]",a),u(c,"[[Capabilities]]",i),u(c,"[[RemainingElements]]",r),r.value+=1;try{h.then(c,i["[[Reject]]"])}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}o+=1}}),Ce.prototype={},s(Ce,"race",function(e){var t=m(this),i=fe(t);try{var n=ee(e)}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}for(;;){try{var a=ie(n)}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}if(!a)return i["[[Promise]]"];try{var r=te(a)}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}try{var o=t.resolve(r)}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}try{o.then(i["[[Resolve]]"],i["[[Reject]]"])}catch(e){return i["[[Reject]]"].call(g,e),i["[[Promise]]"]}}}),s(Ce,"reject",function(e){var t=fe(m(this));t["[[Reject]]"].call(g,e);return t["[[Promise]]"]}),s(Ce,"resolve",function(e){var t=m(this);if(Ie(e)&&U(e["[[PromiseConstructor]]"],t))return e;t=fe(t);t["[[Resolve]]"].call(g,e);return t["[[Promise]]"]}),s(Ce.prototype,"catch",function(e){return this.then(g,e)}),s((Ce.prototype.constructor=Ce).prototype,"then",function(e,t){if(!Ie(this))throw TypeError();W(e)||(e="Identity"),W(t)||(t="Thrower");var i=fe(this.constructor),e={"[[Capabilities]]":i,"[[Handler]]":e},t={"[[Capabilities]]":i,"[[Handler]]":t};return"pending"===this["[[PromiseState]]"]?(this["[[PromiseFulfillReactions]]"].push(e),this["[[PromiseRejectReactions]]"].push(t)):"fulfilled"===this["[[PromiseState]]"]?ae(0,ye,[e,this["[[PromiseResult]]"]]):"rejected"===this["[[PromiseState]]"]&&ae(0,ye,[t,this["[[PromiseResult]]"]]),i["[[Promise]]"]}),"Promise"in o||(o.Promise=Ce),"cast"in o.Promise&&(o.Promise.resolve=o.Promise.cast),s(Promise.prototype,H,"Promise"),"Reflect"in o||(o.Reflect={}),s(Reflect,"apply",function(e,t,i){if(!W(e))throw TypeError();return Function.prototype.apply.call(e,t,i)}),s(Reflect,"construct",function(e,t){return __cons(e,t)}),s(Reflect,"defineProperty",function(e,t,i){try{return Object.defineProperty(e,t,i),!0}catch(e){return!1}}),s(Reflect,"deleteProperty",function(e,t){try{return delete e[t],!$(e,t)}catch(e){return!1}}),s(Reflect,"enumerate",function(e){return function(i){var n=[];if(Object(i)!==i)return n;for(var a=new Set;null!==i;)Object.getOwnPropertyNames(i).forEach(function(e){var t;a.has(e)||(t=Object.getOwnPropertyDescriptor(i,e))&&(a.add(e),t.enumerable&&n.push(e))}),i=Object.getPrototypeOf(i);return n[q]()}(e=z(e))}),s(Reflect,"get",function(e,t,i){e=z(e),t=String(t),i=i===g?e:z(i);var n=r(e,t);return n&&"get"in n?Function.prototype.call.call(n.get,i):e[t]}),s(Reflect,"getOwnPropertyDescriptor",Object.getOwnPropertyDescriptor),s(Reflect,"getPrototypeOf",Object.getPrototypeOf),s(Reflect,"has",function(e,t){return String(t)in z(e)}),s(Reflect,"isExtensible",Object.isExtensible),s(Reflect,"ownKeys",function(e){e=z(e);return Object.getOwnPropertyNames(e)}),s(Reflect,"preventExtensions",function(e){try{return Object.preventExtensions(e),!0}catch(e){return!1}}),s(Reflect,"set",function(e,t,i,n){e=z(e),t=String(t),n=n===g?e:z(n);var a=r(e,t);try{return a&&"set"in a?Function.prototype.call.call(a.set,n,i):e[t]=i,!0}catch(e){return!1}}),s(Reflect,"setPrototypeOf",function(e,t){try{return e.__proto__=t,Reflect.getPrototypeOf(e)===t}catch(e){return!1}})}(self),function(e){"use strict";var t,i,n,a=e.isNaN,r=Math.abs,o=Math.floor,s=(Math.max,Math.min);function l(e){return e=Number(e),a(e)?0:0===e||e===1/0||e===-1/0?e:(e<0?-1:1)*o(r(e))}t=Array.prototype,i=function(e){var t,i=arguments[1],n=function(e){if(null==e)throw TypeError();return Object(e)}(this),a=(t=l(t=n.length))<=0?0:s(t,9007199254740991);if(0===a)return!1;var r,i=l(i);for(0<=i?r=i:(r=a+i)<0&&(r=0);r<a;){n[r];if(function(e,t){if(typeof e==typeof t)switch(typeof e){case"undefined":return 1;case"number":return e!=e&&t!=t?1:e===t;default:return e===t}}(n[r],e))return!0;r+=1}return!1},(e="includes")in t&&!n||("function"==typeof i?Object.defineProperty(t,e,{value:i,configurable:!0,enumerable:!1,writable:!0}):Object.defineProperty(t,e,{value:i,configurable:!1,enumerable:!1,writable:!1}))}(this),function(e){"use strict";function t(e,t,i,n){t in e&&!n||("function"==typeof i?Object.defineProperty(e,t,{value:i,configurable:!0,enumerable:!1,writable:!0}):Object.defineProperty(e,t,{value:i,configurable:!1,enumerable:!1,writable:!1}))}var i=e.isNaN,n=Math.abs,a=Math.floor,r=Math.min;function s(e){if(null==e)throw TypeError();return Object(e)}function l(e){e=e,e=Number(e),e=i(e)?0:0===e||e===1/0||e===-1/0?e:(e<0?-1:1)*a(n(e));return e<=0?0:r(e,9007199254740991)}function o(i,n){var e=Object.keys(i),a=[];return e.forEach(function(e){var t=Object.getOwnPropertyDescriptor(i,e);t&&t.enumerable&&("key"===n?a.push(e):(t=i[e],"value"===n?a.push(t):a.push([e,t])))}),a}t(Object,"entries",function(e){return o(s(e),"key+value")}),t(Object,"getOwnPropertyDescriptors",function(e){for(var t=s(e),i=Object.getOwnPropertyNames(t),n={},a=0;a<i.length;++a){var r=i[a],o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,{value:o,writable:!0,enumerable:!0,configurable:!0})}return n}),t(Object,"values",function(e){return o(s(e),"value")}),t(String.prototype,"padEnd",function(e){var t=arguments[1],i=String(this),n=i.length,a=void 0===t?"":String(t);""===a&&(a=" ");e=l(e);if(e<=n)return i;for(var r=e-n,o="";o.length<r;)o+=a;return i+o.substring(0,r)}),t(String.prototype,"padStart",function(e){var t=arguments[1],i=String(this),n=i.length,a=void 0===t?"":String(t);""===a&&(a=" ");e=l(e);if(e<=n)return i;for(var r=e-n,o="";o.length<r;)o+=a;return o.substring(0,r)+i})}(this),function(n){"use strict";var s,a,r,o;function l(){var i=a;a=Object.create(null),o=-1,Object.keys(i).forEach(function(e){var t=i[e];(!t.element||0<(e=t.element).offsetWidth&&0<e.offsetHeight)&&t.callback(Date.now())})}"window"in n&&"document"in n&&("head"in document||(document.head=document.getElementsByTagName("head")[0]),["abbr","article","aside","audio","bdi","canvas","data","datalist","details","dialog","figcaption","figure","footer","header","hgroup","main","mark","meter","nav","output","picture","progress","section","summary","template","time","video"].forEach(function(e){document.createElement(e)}),!("dataset"in document.createElement("span"))&&"Element"in n&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,"dataset",{get:function(){for(var n=Object.create(null),e=0;e<this.attributes.length;++e){var t=this.attributes[e];t.specified&&"data-"===t.name.substring(0,5)&&function(t,i){var e=i.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});n[e]=t.getAttribute("data-"+i),Object.defineProperty(n,e,{get:function(){return t.getAttribute("data-"+i)},set:function(e){t.setAttribute("data-"+i,e)}})}(this,t.name.substring(5))}return n}}),"atob"in n&&"btoa"in n||(s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.atob=function(e){var t=0,i=[],n=0,a=0;if((e=(e=(e=String(e)).replace(/\s/g,"")).length%4==0?e.replace(/=+$/,""):e).length%4==1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;t<e.length;)n=n<<6|s.indexOf(e.charAt(t)),24===(a+=6)&&(i.push(String.fromCharCode(n>>16&255)),i.push(String.fromCharCode(n>>8&255)),i.push(String.fromCharCode(255&n)),n=a=0),t+=1;return 12===a?(n>>=4,i.push(String.fromCharCode(255&n))):18===a&&(n>>=2,i.push(String.fromCharCode(n>>8&255)),i.push(String.fromCharCode(255&n))),i.join("")},n.btoa=function(e){e=String(e);var t,i,n,a,r=0,o=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;r<e.length;)i=(3&(t=e.charCodeAt(r++)))<<4|(n=e.charCodeAt(r++))>>4,n=(15&n)<<2|(a=e.charCodeAt(r++))>>6,a=63&a,r===e.length+2?a=n=64:r===e.length+1&&(a=64),o.push(s.charAt(t>>2),s.charAt(i),s.charAt(n),s.charAt(a));return o.join("")}),"requestAnimationFrame"in n||(a=Object.create(null),r=0,o=-1,n.requestAnimationFrame=function(e,t){var i=++r;return a[i]={callback:e,element:t},-1===o&&(o=n.setTimeout(l,1e3/60)),i},n.cancelAnimationFrame=function(e){delete a[e],0===Object.keys(a).length&&(n.clearTimeout(o),o=-1)}))}(self),function(i){"use strict";var e;function t(e,t,i){var n,a;"function"==typeof t&&((n=this)["_"+(e="DOMContentLoaded"===e?"load":e)+t]=a=function(e){e._timeStamp=Date.now(),e._currentTarget=n,t.call(this,e),e._currentTarget=null},this.attachEvent("on"+e,a))}function n(e,t,i){var n;"function"!=typeof t||(n=this["_"+(e="DOMContentLoaded"===e?"load":e)+t])&&(this.detachEvent("on"+e,n),this["_"+e+t]=null)}function a(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}function r(e,t){"Element"in i&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,e,{get:t})}function o(a,r){function o(e){return e.length?e.split(/\s+/g):[]}function s(e,t){t=o(t),e=t.indexOf(e);return-1!==e&&t.splice(e,1),t.join(" ")}if(Object.defineProperties(this,{length:{get:function(){return o(a[r]).length}},item:{value:function(e){var t=o(a[r]);return 0<=e&&e<t.length?t[e]:null}},contains:{value:function(e){return e=String(e),-1!==o(a[r]).indexOf(e)}},add:{value:function(){if((e=Array.prototype.slice.call(arguments).map(String)).some(function(e){return 0===e.length}))throw SyntaxError();if(e.some(function(e){return/\s/.test(e)}))throw Error("InvalidCharacterError");try{var e,t=a[r],i=o(t);if(0===(e=e.filter(function(e){return-1===i.indexOf(e)})).length)return;0===t.length||/\s$/.test(t)||(t+=" "),t+=e.join(" "),a[r]=t}finally{t=o(a[r]).length;this.length!==t&&(this.length=t)}}},remove:{value:function(){var e=Array.prototype.slice.call(arguments).map(String);if(e.some(function(e){return 0===e.length}))throw SyntaxError();if(e.some(function(e){return/\s/.test(e)}))throw Error("InvalidCharacterError");try{var t=a[r];e.forEach(function(e){t=s(e,t)}),a[r]=t}finally{e=o(a[r]).length;this.length!==e&&(this.length=e)}}},toggle:{value:function(e){var t=arguments[1];try{if(0===(e=String(e)).length)throw SyntaxError();if(/\s/.test(e))throw Error("InvalidCharacterError");var i=o(a[r]).indexOf(e);if(-1!==i&&(!t||void 0===t))return a[r]=s(e,a[r]),!1;if(-1!==i&&t)return!0;var n=a[r];return 0===n.length||/\s$/.test(n)||(n+=" "),n+=e,a[r]=n,!0}finally{n=o(a[r]).length;this.length!==n&&(this.length=n)}}},toString:{value:function(){return a[r]}}}),"length"in this)for(var e=0;e<100;++e)Object.defineProperty(this,String(e),{get:function(e){return function(){return this.item(e)}}(e)});else this.length=o(a[r]).length}function s(i,n){i&&Object.keys(n).forEach(function(t){if(!(t in i||t in i.prototype))try{Object.defineProperty(i.prototype,t,Object.getOwnPropertyDescriptor(n,t))}catch(e){i[t]=n[t]}})}function l(e){var t=null;return 1===(e=e.map(function(e){return e instanceof Node?e:document.createTextNode(e)})).length?t=e[0]:(t=document.createDocumentFragment(),e.forEach(function(e){t.appendChild(e)})),t}"window"in i&&"document"in i&&(document.querySelectorAll||(document.querySelectorAll=function(e){var t,i=document.createElement("style"),n=[];for(document.documentElement.firstChild.appendChild(i),document._qsa=[],i.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),i.parentNode.removeChild(i);document._qsa.length;)(t=document._qsa.shift()).style.removeAttribute("x-qsa"),n.push(t);return document._qsa=null,n}),document.querySelector||(document.querySelector=function(e){e=document.querySelectorAll(e);return e.length?e[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),document.querySelectorAll(e)}),i.Node=i.Node||function(){throw TypeError("Illegal constructor")},[["ELEMENT_NODE",1],["ATTRIBUTE_NODE",2],["TEXT_NODE",3],["CDATA_SECTION_NODE",4],["ENTITY_REFERENCE_NODE",5],["ENTITY_NODE",6],["PROCESSING_INSTRUCTION_NODE",7],["COMMENT_NODE",8],["DOCUMENT_NODE",9],["DOCUMENT_TYPE_NODE",10],["DOCUMENT_FRAGMENT_NODE",11],["NOTATION_NODE",12]].forEach(function(e){e[0]in i.Node||(i.Node[e[0]]=e[1])}),i.DOMException=i.DOMException||function(){throw TypeError("Illegal constructor")},[["INDEX_SIZE_ERR",1],["DOMSTRING_SIZE_ERR",2],["HIERARCHY_REQUEST_ERR",3],["WRONG_DOCUMENT_ERR",4],["INVALID_CHARACTER_ERR",5],["NO_DATA_ALLOWED_ERR",6],["NO_MODIFICATION_ALLOWED_ERR",7],["NOT_FOUND_ERR",8],["NOT_SUPPORTED_ERR",9],["INUSE_ATTRIBUTE_ERR",10],["INVALID_STATE_ERR",11],["SYNTAX_ERR",12],["INVALID_MODIFICATION_ERR",13],["NAMESPACE_ERR",14],["INVALID_ACCESS_ERR",15]].forEach(function(e){e[0]in i.DOMException||(i.DOMException[e[0]]=e[1])}),"Element"in i&&!Element.prototype.addEventListener&&Object.defineProperty&&(Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Object.defineProperties(Event.prototype,{CAPTURING_PHASE:{get:function(){return 1}},AT_TARGET:{get:function(){return 2}},BUBBLING_PHASE:{get:function(){return 3}},target:{get:function(){return this.srcElement}},currentTarget:{get:function(){return this._currentTarget}},eventPhase:{get:function(){return this.srcElement===this.currentTarget?Event.AT_TARGET:Event.BUBBLING_PHASE}},bubbles:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"resize":case"scroll":case"select":case"change":case"submit":case"reset":return!0}return!1}},cancelable:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"submit":return!0}return!1}},timeStamp:{get:function(){return this._timeStamp}},stopPropagation:{value:function(){this.cancelBubble=!0}},preventDefault:{value:function(){this.returnValue=!1}},defaultPrevented:{get:function(){return!1===this.returnValue}}}),[Window,HTMLDocument,Element].forEach(function(e){e.prototype.addEventListener=t,e.prototype.removeEventListener=n})),"CustomEvent"in i&&"function"==typeof i.CustomEvent||(a.prototype=i.Event.prototype,i.CustomEvent=a),window.addEvent=function(t,i,n){t.addEventListener?t.addEventListener(i,n,!1):t.attachEvent&&(t["e"+i+n]=n,t[i+n]=function(){var e=window.event;e.currentTarget=t,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement,e.timeStamp=Date.now(),t["e"+i+n].call(this,e)},t.attachEvent("on"+i,t[i+n]))},window.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&(e.detachEvent("on"+t,e[t+i]),e[t+i]=null,e["e"+t+i]=null)},"classList"in document.createElement("span")?window.getClassList=function(e){return e.classList}:(window.getClassList=function(e){return new o(e,"className")},r("classList",function(){return new o(this,"className")})),"relList"in document.createElement("link")?window.getRelList=function(e){return e.relList}:(window.getRelList=function(e){return new o(e,"rel")},r("relList",function(){return new o(this,"rel")})),"DOMTokenList"in i&&("classList"in(e=document.createElement("span"))&&(e.classList.toggle("x",!1),e.classList.contains("x")&&(i.DOMTokenList.prototype.toggle=function(e){var t=arguments[1];if(void 0!==t)return this[(t=!!t)?"add":"remove"](e),t;t=!this.contains(e);return this[t?"add":"remove"](e),t}))),"previousElementSibling"in document.documentElement||r("previousElementSibling",function(){for(var e=this.previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}),"nextElementSibling"in document.documentElement||r("nextElementSibling",function(){for(var e=this.nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}),"Element"in i&&!Element.prototype.matches&&(Element.prototype.msMatchesSelector?Element.prototype.matches=Element.prototype.msMatchesSelector:Element.prototype.oMatchesSelector?Element.prototype.matches=Element.prototype.oMatchesSelector:Element.prototype.mozMatchesSelector?Element.prototype.matches=Element.prototype.mozMatchesSelector:Element.prototype.webkitMatchesSelector?Element.prototype.matches=Element.prototype.webkitMatchesSelector:document.querySelectorAll&&(Element.prototype.matches=function(e){for(var t,i=(t=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--i&&t.item(i)!==this;);return-1<i})),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,i=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=i.length;0<=--t&&i.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n}),s(i.Document||i.HTMLDocument,e={prepend:function(){var e=l(e=[].slice.call(arguments));this.insertBefore(e,this.firstChild)},append:function(){var e=l(e=[].slice.call(arguments));this.appendChild(e)}}),s(i.DocumentFragment,e),s(i.Element,e),"firstElementChild"in document.documentElement||r("firstElementChild",function(){for(var e=this.children,t=0,i=e.length;t<i;++t){var n=e[t];if(n.nodeType===Node.ELEMENT_NODE)return n}return null}),"lastElementChild"in document.documentElement||r("lastElementChild",function(){for(var e=this.children,t=e.length-1;0<=t;--t){var i=e[t];if(i.nodeType===Node.ELEMENT_NODE)return i}return null}),"childElementCount"in document.documentElement||r("childElementCount",function(){for(var e=0,t=this.children,i=0,n=t.length;i<n;++i)t[i].nodeType===Node.ELEMENT_NODE&&++e;return e}),s(i.DocumentType,e={before:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var i=this.previousSibling;-1!==e.indexOf(i);)i=i.previousSibling;var n=l(e);t.insertBefore(n,i?i.nextSibling:t.firstChild)}},after:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var i=this.nextSibling;-1!==e.indexOf(i);)i=i.nextSibling;var n=l(e);t.insertBefore(n,i)}},replaceWith:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var i=this.nextSibling;-1!==e.indexOf(i);)i=i.nextSibling;var n=l(e);this.parentNode===t?t.replaceChild(n,this):t.insertBefore(n,i)}},remove:function(){this.parentNode&&this.parentNode.removeChild(this)}}),s(i.Element,e),s(i.CharacterData,e))}(self),function(i){"use strict";var t;function n(e){if(this._data=[],e)for(var t=0;t<e.elements.length;++t){var i=e.elements[t];""!==i.name&&this.append(i.name,i.value)}}"window"in i&&"document"in i&&(i.XMLHttpRequest=i.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("This browser does not support XMLHttpRequest.")},[["UNSENT",0],["OPENED",1],["HEADERS_RECEIVED",2],["LOADING",3],["DONE",4]].forEach(function(e){e[0]in i.XMLHttpRequest||(i.XMLHttpRequest[e[0]]=e[1])}),"FormData"in i||(n.prototype={append:function(e,t){if("Blob"in i&&t instanceof i.Blob)throw TypeError("Blob not supported");e=String(e),this._data.push([e,t])},toString:function(){return this._data.map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&")}},i.FormData=n,t=i.XMLHttpRequest.prototype.send,i.XMLHttpRequest.prototype.send=function(e){return e instanceof n&&(this.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),arguments[0]=e.toString()),t.apply(this,arguments)}))}(self),function(e){"use strict";"window"in e&&"document"in e&&"TextRectangle"in e&&!("width"in e.TextRectangle.prototype)&&Object.defineProperties(e.TextRectangle.prototype,{width:{get:function(){return this.right-this.left}},height:{get:function(){return this.bottom-this.top}}})}(self),function(u){"use strict";function a(e){return e&&("Symbol"in u&&"iterator"in u.Symbol&&"function"==typeof e[Symbol.iterator]||!!Array.isArray(e))}function r(e){return"from"in Array?Array.from(e):Array.prototype.slice.call(e)}var e;!function(){var s,l=u.URL;try{if(l){if("searchParams"in(s=new u.URL("http://example.com")))return;"href"in s||(s=void 0)}}catch(e){}function e(e){var i="",n=!0;return e.forEach(function(e){var t=encodeURIComponent(e.name),e=encodeURIComponent(e.value);n||(i+="&"),i+=t+"="+e,n=!1}),i.replace(/%20/g,"+")}function h(e,t){e=e.split("&");t&&-1===e[0].indexOf("=")&&(e[0]="="+e[0]);var n=[];e.forEach(function(e){var t,i;0!==e.length&&(e=-1!==(t=e.indexOf("="))?(i=e.substring(0,t),e.substring(t+1)):(i=e,""),i=i.replace(/\+/g," "),e=e.replace(/\+/g," "),n.push({name:i,value:e}))});var i=[];return n.forEach(function(e){i.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),i}function c(t){var i=this;this._list=[],null==t||(t instanceof c?this._list=h(String(t)):"object"==typeof t&&a(t)?r(t).forEach(function(e){if(!a(e))throw TypeError();e=r(e);if(2!==e.length)throw TypeError();i._list.push({name:String(e[0]),value:String(e[1])})}):"object"==typeof t&&t?Object.keys(t).forEach(function(e){i._list.push({name:String(e),value:String(t[e])})}):("?"===(t=String(t)).substring(0,1)&&(t=t.substring(1)),this._list=h(t))),this._url_object=null;var n=!(this._setList=function(e){n||(i._list=e)});this._update_steps=function(){n||(n=!0,i._url_object&&("about:"===i._url_object.protocol&&-1!==i._url_object.pathname.indexOf("?")&&(i._url_object.pathname=i._url_object.pathname.split("?")[0]),i._url_object.search=e(i._list),n=!1))}}function t(t,i){var n=0;this.next=function(){if(n>=t.length)return{done:!0,value:void 0};var e=t[n++];return{done:!1,value:"key"===i?e.name:"value"===i?e.value:[e.name,e.value]}}}function i(a,r){if(!(this instanceof u.URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");var t=function(e){if(s)return new l(e);var t=document.createElement("a");return t.href=e,t}((a=r?function(){if(s)return new l(a,r).href;var e,t;try{if("[object OperaMini]"===Object.prototype.toString.call(window.operamini)?((e=document.createElement("iframe")).style.display="none",document.documentElement.appendChild(e),t=e.contentWindow.document):document.implementation&&document.implementation.createHTMLDocument?t=document.implementation.createHTMLDocument(""):document.implementation&&document.implementation.createDocument?((t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null)).documentElement.appendChild(t.createElement("head")),t.documentElement.appendChild(t.createElement("body"))):window.ActiveXObject&&((t=new window.ActiveXObject("htmlfile")).write("<head></head><body></body>"),t.close()),!t)throw Error("base not supported");var i=t.createElement("base");i.href=r,t.getElementsByTagName("head")[0].appendChild(i);var n=t.createElement("a");return n.href=a,n.href}finally{e&&e.parentNode.removeChild(e)}}():a)||""),e=function(){if(!("defineProperties"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(e){return!1}}()?this:document.createElement("a"),i=new c(t.search?t.search.substring(1):null);function n(){var e=t.href.replace(/#$|\?$|\?(?=#)/g,"");t.href!==e&&(t.href=e)}function o(){i._setList(t.search?h(t.search.substring(1)):[]),i._update_steps()}return i._url_object=e,Object.defineProperties(e,{href:{get:function(){return t.href},set:function(e){t.href=e,n(),o()},enumerable:!0,configurable:!0},origin:{get:function(){return"origin"in t?t.origin:this.protocol+"//"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return t.protocol},set:function(e){t.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return t.username},set:function(e){t.username=e},enumerable:!0,configurable:!0},password:{get:function(){return t.password},set:function(e){t.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[t.protocol];return e?t.host.replace(e,""):t.host},set:function(e){t.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return t.hostname},set:function(e){t.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return t.port},set:function(e){t.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return"/"!==t.pathname.charAt(0)?"/"+t.pathname:t.pathname},set:function(e){t.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return t.search},set:function(e){t.search!==e&&(t.search=e,n(),o())},enumerable:!0,configurable:!0},searchParams:{get:function(){return i},enumerable:!0,configurable:!0},hash:{get:function(){return t.hash},set:function(e){t.hash=e,n()},enumerable:!0,configurable:!0},toString:{value:function(){return t.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return t.valueOf()},enumerable:!1,configurable:!0}}),e}if(Object.defineProperties(c.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},delete:{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],i=0;i<this._list.length;++i)this._list[i].name===e&&t.push(this._list[i].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var i=!1,n=0;n<this._list.length;)this._list[n].name===e?i?this._list.splice(n,1):(this._list[n].value=t,i=!0,++n):++n;i||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){return new t(this._list,"key+value")},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){return new t(this._list,"key")},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return new t(this._list,"value")},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(i){var n=1<arguments.length?arguments[1]:void 0;this._list.forEach(function(e,t){i.call(n,e.value,e.name)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return e(this._list)},writable:!0,enumerable:!1,configurable:!0}}),"Symbol"in u&&"iterator"in u.Symbol&&(Object.defineProperty(c.prototype,u.Symbol.iterator,{value:c.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,u.Symbol.iterator,{value:function(){return this},writable:!0,enumerable:!0,configurable:!0})),l)for(var n in l)l.hasOwnProperty(n)&&"function"==typeof l[n]&&(i[n]=l[n]);u.URL=i,u.URLSearchParams=c}(),"1"===new u.URLSearchParams([["a",1]]).get("a")&&"1"===new u.URLSearchParams({a:1}).get("a")||(e=u.URLSearchParams,u.URLSearchParams=function(t){if(t&&"object"==typeof t&&a(t)){var i=new e;return r(t).forEach(function(e){if(!a(e))throw TypeError();e=r(e);if(2!==e.length)throw TypeError();i.append(e[0],e[1])}),i}return t&&"object"==typeof t?(i=new e,Object.keys(t).forEach(function(e){i.set(e,t[e])}),i):new e(t)})}(self),function(e){"use strict";function n(e){if((e=String(e)).match(/[^\x00-\xFF]/))throw TypeError("Not a valid ByteString");return e}function a(e){return(e=String(e)).replace(/([\u0000-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF])/g,function(e){return/^[\uD800-\uDFFF]$/.test(e)?"�":e})}function r(e){return String(e).replace(/[a-z]/g,function(e){return e.toUpperCase()})}function o(e){return/^[!#$%&'*+\-.09A-Z^_`a-z|~]+$/.test(e)}function s(e){return{"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0}[e=String(e).toLowerCase()]||"proxy-"===e.substring(0,6)||"sec-"===e.substring(0,4)}function l(e){return{"set-cookie":!0,"set-cookie2":!0}[e=String(e).toLowerCase()]}function h(e,t){return"accept"===(e=String(e).toLowerCase())||"accept-language"===e||"content-language"===e||"content-type"===e&&-1!==["application/x-www-form-encoded","multipart/form-data","text/plain"].indexOf(t)}function c(e){this._guard="none",this._headerList=[],e&&u(this,e)}function u(t,i){i instanceof c?i._headerList.forEach(function(e){t.append(e[0],e[1])}):Array.isArray(i)?i.forEach(function(e){if(!Array.isArray(e)||2!==e.length)throw TypeError();t.append(e[0],e[1])}):(i=Object(i),Object.keys(i).forEach(function(e){t.append(e,i[e])}))}function t(e){this._headers=e,this._index=0}function d(e){this._stream=e,this.bodyUsed=!1}function p(e,t){if(arguments.length<1)throw TypeError("Not enough arguments");if(d.call(this,null),this.method="GET",this.url="",this.headers=new c,this.headers._guard="request",this.referrer=null,this.mode=null,this.credentials="omit",e instanceof p){if(e.bodyUsed)throw TypeError();e.bodyUsed=!0,this.method=e.method,this.url=e.url,this.headers=new c(e.headers),this.headers._guard=e.headers._guard,this.credentials=e.credentials,this._stream=e._stream}else e=a(e),this.url=String(new URL(e,self.location));if("method"in(t=Object(t))){var i=n(t.method);if("CONNECT"===(e=r(e=i))||"TRACE"===e||"TRACK"===e)throw TypeError();this.method="DELETE"===(i=r(e=i))||"GET"===i||"HEAD"===i||"OPTIONS"===i||"POST"===i||"PUT"===i?i:e}"headers"in t&&(this.headers=new c,u(this.headers,t.headers)),"body"in t&&(this._stream=t.body),"credentials"in t&&-1!==["omit","same-origin","include"].indexOf(t.credentials)&&(this.credentials=t.credentials)}function f(e,t){if(arguments.length<1&&(e=""),this.headers=new c,this.headers._guard="response",e instanceof XMLHttpRequest&&"_url"in e){var i=e;return this.type="basic",this.url=a(i._url),this.status=i.status,this.ok=200<=this.status&&this.status<=299,this.statusText=i.statusText,i.getAllResponseHeaders().split(/\r?\n/).filter(function(e){return e.length}).forEach(function(e){var t=e.indexOf(":");this.headers.append(e.substring(0,t),e.substring(t+2))},this),void d.call(this,i.responseText)}d.call(this,e),t=Object(t)||{},this.url="";e="status"in t?65535&t.status:200;if(e<200||599<e)throw RangeError();this.status=e,this.ok=200<=this.status&&this.status<=299;e="statusText"in t?String(t.statusText):"OK";if(/[^\x00-\xFF]/.test(e))throw TypeError();this.statusText=e,"headers"in t&&u(this.headers,t),this.type="basic"}(c.prototype={append:function(e,t){if(!o(e=n(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();"request"===this._guard&&s(e)||"request-no-CORS"===this._guard&&!h(e,t)||"response"===this._guard&&l(e)||(e=e.toLowerCase(),this._headerList.push([e,t]))},delete:function(e){if(!o(e=n(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();if(("request"!==this._guard||!s(e))&&("request-no-CORS"!==this._guard||h(e,"invalid"))&&("response"!==this._guard||!l(e))){e=e.toLowerCase();for(var t=0;t<this._headerList.length;)this._headerList[t][0]===e?this._headerList.splice(t,1):++t}},get:function(e){if(!o(e=n(e)))throw TypeError();e=e.toLowerCase();for(var t=0;t<this._headerList.length;++t)if(this._headerList[t][0]===e)return this._headerList[t][1];return null},getAll:function(e){if(!o(e=n(e)))throw TypeError();e=e.toLowerCase();for(var t=[],i=0;i<this._headerList.length;++i)this._headerList[i][0]===e&&t.push(this._headerList[i][1]);return t},has:function(e){if(!o(e=n(e)))throw TypeError();e=e.toLowerCase();for(var t=0;t<this._headerList.length;++t)if(this._headerList[t][0]===e)return!0;return!1},set:function(e,t){if(!o(e=n(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();if(("request"!==this._guard||!s(e))&&("request-no-CORS"!==this._guard||h(e,t))&&("response"!==this._guard||!l(e))){e=e.toLowerCase();for(var i=0;i<this._headerList.length;++i)if(this._headerList[i][0]===e){for(this._headerList[i++][1]=t;i<this._headerList.length;)this._headerList[i][0]===e?this._headerList.splice(i,1):++i;return}this._headerList.push([e,t])}}})[Symbol.iterator]=function(){return new t(this)},(t.prototype={}).next=function(){return this._index>=this._headers._headerList.length?{value:void 0,done:!0}:{value:this._headers._headerList[this._index++],done:!1}},t.prototype[Symbol.iterator]=function(){return this},p.prototype=d.prototype={arrayBuffer:function(){if(this.bodyUsed)return Promise.reject(TypeError());if(this.bodyUsed=!0,this._stream instanceof ArrayBuffer)return Promise.resolve(this._stream);var n=this._stream;return new Promise(function(e,t){var i=unescape(encodeURIComponent(n)).split("").map(function(e){return e.charCodeAt(0)});e(new Uint8Array(i).buffer)})},blob:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,this._stream instanceof Blob?Promise.resolve(this._stream):Promise.resolve(new Blob([this._stream])))},formData:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,this._stream instanceof FormData?Promise.resolve(this._stream):Promise.reject(Error("Not yet implemented")))},json:function(){if(this.bodyUsed)return Promise.reject(TypeError());this.bodyUsed=!0;var i=this;return new Promise(function(e,t){e(JSON.parse(i._stream))})},text:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,Promise.resolve(String(this._stream)))}},f.prototype=d.prototype,f.redirect=function(){throw Error("Not supported")},"fetch"in e||(e.Headers=c,e.Request=p,e.Response=f,e.fetch=function(o,s){return new Promise(function(e,t){var i=new p(o,s),n=new XMLHttpRequest;n._url=i.url;try{n.open(i.method,i.url,!0)}catch(e){throw TypeError(e.message)}for(var a=i.headers[Symbol.iterator](),r=a.next();!r.done;r=a.next())n.setRequestHeader(r.value[0],r.value[1]);"include"===i.credentials&&(n.withCredentials=!0),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(0===n.status?t(new TypeError("Network error")):e(new f(n)))},n.send(i._stream)})})}(self)},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=window.nb,i=function(e){(0,s.default)(i,e);var t=c(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).lastIndex=0,e.animationSpeed=1,e.ticker=u.MovieClip.ticker,e.totalFrames=0,e._currentTime=0,e.loop=!0,e.playing=!1,e._reverse=!1,e}return(0,o.default)(i,[{key:"currentFrame",get:function(){return this.lastIndex},set:function(e){this.gotoAndStop(Math.floor(e))}},{key:"reverse",get:function(){return this._reverse},set:function(e){if(this._reverse!==e){-1!==this.lastIndex&&this.__gotoAndStop__(this.totalFrames-1-this.lastIndex);for(var t=Math.floor(this.totalFrames/2),i=0;i<t;i++){var n=this[i];this[i]=this[this.totalFrames-1-i],this[this.totalFrames-1-i]=n}this._reverse=e}}},{key:"update",value:function(){if(this.__end__)return this.__end__=!1,this.__gotoAndStop__(0),void(this.__decimal__=0);this.__floor__=this.lastIndex+this.animationSpeed+(this.__decimal__||0);var e=Math.floor(this.__floor__);this.__decimal__=this.__floor__%1,e<0?this.loop?this.__gotoAndStop__(e):(this.__gotoAndStop__(0),this.onComplete&&this.onComplete()):e<=this.totalFrames-1?(this.loop?this.__gotoAndStop__(e):(this.__gotoAndStop__(e),e===this.totalFrames-1&&this.stop()),e===this.totalFrames-1&&(this.onComplete&&this.onComplete(),this.loop&&1<=this.__decimal__+this.animationSpeed&&(this.__end__=!0))):e>this.totalFrames-1&&(this.__gotoAndStop__(this.totalFrames-1),this.onComplete&&this.onComplete(),!1===this.loop&&this.stop())}},{key:"insertDisplayObjectToFrame",value:function(e,t,i){this[t]||(this[t]=[],t>=this.totalFrames&&(this.totalFrames=t+1)),this[t].push({dis:e,tweenTransform:i}),e.visible=!1}},{key:"gotoAndStop",value:function(e){e=Math.round(e),this._currentTime=e,this.stop(),this.__gotoAndStop__(e)}},{key:"gotoAndPlay",value:function(e){e=Math.round(e),this._currentTime=e,this.gotoAndStop(e),this.play()}},{key:"__gotoAndStop__",value:function(e){if(-1!==this.lastIndex){var t=this[this.lastIndex];if(t)for(var i=0;i<t.length;i++)t[i].dis.visible=!1}e>=this.totalFrames&&(e=this.totalFrames-1),this.lastIndex=e;var n=this[e];if(n)for(var a=0;a<n.length;a++){var r,o=n[a].dis;o.visible=!0,o.parent.addChildAt(o,0),n[a].tweenTransform&&(0!==(r=n[a].tweenTransform).r?o.setTransform(r.x,r.y,r.sx,r.sy,r.r):o.setTransform(r.x,r.y,r.sx,r.sy,0,r.skewX,r.skewY))}}},{key:"getFrameIndexByName",value:function(e){var t=this[e];if(!t)return-1;for(var i=0;i<this.totalFrames;i++){var n=this[i];if(n)for(var a=0;a<n.length;a++)if(t===n[a].dis)return i}return-1}},{key:"play",value:function(){this.playing||(this.playing=!0,this.ticker.add(this.update,this))}},{key:"stop",value:function(){this.playing&&(this.playing=!1,this.ticker.remove(this.update,this))}},{key:"clone",value:function(){return this.root.createChildFromData(this.parent,this._nbData_,this._textureMapName_)}}]),i}(PIXI.Container);(u.MovieClip=i).ticker=new PIXI.ticker.Ticker,i.ticker.start(),e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.call(this)}return(0,o.default)(t,[{key:"execute",value:function(e){var t;0==e&&(t=window.localStorage.getItem("chemBGC"),this.root.execute(NBCommand.CHANGE_BACKGROUND,{color:t||nb.DEFALUT_BACKGROUND_COLOR})),this.root.enableRender(e)}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(i,u);var t=c(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).moveDistance=2e3,e.pushDistance=120,e}return(0,o.default)(i,[{key:"execute",value:function(r){var o=this,e=this.root.viewStack,t=r.time||.08;r.length=r.length||50;var s,i,l,n=r.length/15,a=this;function h(e){var t=2*Math.PI*Math.random();return r.length-=n,{x:e*Math.sin(t)+a.lastPos.x,y:e*Math.cos(t)+a.lastPos.y,yoyo:!0}}r.equipment&&(i=(s=r.equipment).getEquipmentsByType(void 0,function(e){return e.parent===e.getEqLayer()}),l=s.getCenterPositionToEqLayer(),i.forEach(function(e){var t,i,n,a;e!==s&&e!==r.noPush&&(t=(a=e.getCenterPositionToEqLayer()).x-l.x,i=a.y-l.y,(n=Math.sqrt(t*t+i*i))>o.moveDistance||(a=1-n/o.moveDistance,a={x:e.x+t/n*a*o.pushDistance,y:e.y+i/n*a*o.pushDistance,ease:Back.easeOut.config(1.7)},TweenMax.to(e,.2,a)))})),TweenMax.killTweensOf(e),e._gsTweenID&&delete TweenLite._internals.tweenLookup[e._gsTweenID],this.lastPos&&(e.x=this.lastPos.x,e.y=this.lastPos.y),this.lastPos={x:e.x,y:e.y},(new TimelineLite).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length)).to(e,t,h(r.length))}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){this.exFun(e)}},{key:"exFun",value:function(e){e=e.id;e&&(e=e.replace("Lab_",""),this.root.remainAddEqCount=0,this.callOtherExperiment(e))}},{key:"callOtherExperiment",value:function(e){var n=this,e=nb.config.URI_PREFIX+"assets/model/data/"+e+".json";$.ajax({url:e,success:function(e,t,i){"success"===t&&n.root.execute(NBCommand.RESTORE_DATA,e)},error:function(e,t,i){},dataType:"text"})}}]),t}();e.exports=i},function(e,t,i){"use strict";i(4);var n=i(0);n(i(1)),n(i(2)),n(i(5)),n(i(6)),n(i(3));i(15)},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){this.root.versionTxt.visible=!e||e.visible}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(96)),o=n(i(1)),s=n(i(2)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(15);e.exports=function(){(0,l.default)(t,d);var e=u(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,s.default)(t,[{key:"execute",value:function(e){var t=e.zoomValue,i=this.root.viewStack;i.lastScaleTime=(0,r.default)();var n=this.root.W/2,a=this.root.H/2,e=t/i.scale.x,n=(i.x-n)*e+n,e=(i.y-a)*e+a,a=Expo.easeOut;TweenMax.to(i.scale,1,{x:t,y:t,ease:a}),TweenMax.to(i,1,{x:n,y:e,ease:a}),i.activeZoomGesture=!1}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=this.root.viewStack.selectionLayer.selectedObj;!t||(t=t[0])&&(void 0!==e.showTemp&&(t.conf_show_temp=e.showTemp),void 0!==e.showVolume&&(t.conf_show_volume=e.showVolume),void 0!==e.showWeight&&(t.conf_show_weight=e.showWeight),void 0!==e.showMol&&(t.conf_show_mol=e.showMol),void 0!==e.showChemicalEquation&&(t.conf_chemical_equation=e.showChemicalEquation),void 0!==e.showSol&&(t.conf_show_sol=e.showSol),void 0!==e.showRubber&&(!0===e.showRubber?t.autoAddPlug():t.autoDeletePlug()))}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(11);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=e.children;if(t){var i=this.root,n=i.viewStack;if(1===t.length){e=t[0];if(null!==d.currentConfigEq&&d.currentConfigEq!==e&&(d.currentConfigEq.emit(NBEvent.HIDE_WHOLE_BUTTON),i.viewStack.sortIndexOfEquipments()),0<d.extraConfigEq.length){for(var a=0;a<d.extraConfigEq.length;a++)d.extraConfigEq[a].emit(NBEvent.HIDE_WHOLE_BUTTON);d.extraConfigEq.length=0}i.emit(NBEvent.communicate.angular.CHANGE_PANEL_STATUS,e.getConfigureData());var t=n.selectionLayer;t.selectedObj&&0<t.selectedObj.length&&t.clearSelectionObj(),e.isADropper||e.isLiquidDropper||(d.currentConfigEq=e),t.selectedObj=[e],e.emit(NBEvent.SHOW_WHOLE_BUTTON,e),e.vRotateSprite&&(t=!!e.rotateCircle&&e.rotateCircle.visible,e.vRotateSprite.setEnabled(!1,t,!0),delete e.vRotateSprite),i.emit(NBEvent.communicate.angular.CHANGE_EQ_INFO,{info:e.instanceName}),e.name.includes("IronSupport")&&e.children.forEach(function(e){"IronClamp"===e.name&&(n.selectionLayer.addItem(e),e.emit(NBEvent.SHOW_WHOLE_BUTTON,e),d.extraConfigEq.includes(e)||d.extraConfigEq.push(e))})}else if(i.emit(NBEvent.communicate.angular.CHANGE_PANEL_STATUS,{confArr:null}),i.emit(NBEvent.communicate.angular.CHANGE_EQ_INFO,{info:""}),d.currentConfigEq&&(d.currentConfigEq.emit(NBEvent.HIDE_WHOLE_BUTTON),i.viewStack.sortIndexOfEquipments()),d.currentConfigEq=null,0<d.extraConfigEq.length){for(var r=0;r<d.extraConfigEq.length;r++)d.extraConfigEq[r].emit(NBEvent.HIDE_WHOLE_BUTTON);d.extraConfigEq.length=0}}}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(15);e.exports=function(){(0,l.default)(t,d);var e=u(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,s.default)(t,[{key:"execute",value:function(e){var t,i=e.eq;i&&(e=(t=i.root).getEqCenterPositionInDom(i,!1),t.emit(NBEvent.communicate.angular.HAPPEN_BOOM,(0,r.default)({width:i.getLocalBounds().width},e)))}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=i(11);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=e.children;t&&(e=this.root,1===t.length?(t=t[0],e.emit(NBEvent.communicate.angular.SHOW_EQ_ATTRIBUTE,t)):(e.emit(NBEvent.communicate.angular.SHOW_EQ_ATTRIBUTE,{confArr:null}),null!==d.currentConfigEq&&e.viewStack.sortIndexOfEquipments()))}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){this.root.execute(NBCommand.DELETE_EQUIPMENT,{type:"all",forceClear:!0}),this.root.undoManager.clear(),this.root.viewStack.resetZoomGesture()}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var a,r,o=e.shakeCount,s=e.dis,l=0,h=0,c=0,u=0;s.on(NBDrag.event.DRAG_MOVE,function(e){if(!a)return a={x:e.data.global.x,y:e.data.global.y},r={x:e.data.global.x,y:e.data.global.y},void(u=e.data.originalEvent.timeStamp);var t,i=0,n=e.data.global.x-r.x;if(30<Math.abs(n-c)&&(t=!0),i=c<n?(c=n,2):n<c?(c=n,1):-1,l!==i&&-1!=i&&t&&(l=i,o<=++h)){i=e.data.originalEvent.timeStamp;if(i-u<=i)return l=h=0,void s.emit("putfire");r={x:e.data.global.x,y:e.data.global.y},u=e.data.originalEvent.timeStamp,c=h=l=0}a={x:e.data.global.x,y:e.data.global.y}}),s.on(NBDrag.event.STOP_DRAG,function(){u=r=a=null,u=c=h=l=0})}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),i=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var a,r,t=e.dis,i=e.disSpeed,o=void 0===i?.9:i,e=e.disTime,s=void 0===e?850:e;t.on(NBDrag.event.PREPARE_DRAG,function(e){a=e.data.originalEvent.timeStamp,r={curX:e.data.global.x,curY:e.data.global.y,distanceX:0,distanceY:0,isRocked:!1}}),t.on(NBDrag.event.DRAG_MOVE,function(e){!r.isRocked&&function(e){var t=e.data.originalEvent.timeStamp;r.distanceX+=Math.abs(e.data.global.x-r.curX),r.distanceY+=Math.abs(e.data.global.y-r.curY);var i=Math.round(r.distanceX/t-a),n=Math.round(r.distanceY/t-a);return o<=(n<i?i:n)&&s<=t-a?r.isRocked=!0:(r.curX=e.data.global.x,r.curY=e.data.global.y,!1)}(e)&&t.emit("rocked")})}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15),d=(i(8),new PIXI.Graphics),p=i(11);var f=d.allowGetBounds=!1;window.addEventListener(MouseEvent.TOUCH_BEGIN,function(){f=!0}),window.addEventListener(MouseEvent.TOUCH_END,function(){f=!1,I.changeStyle(I.current),I.current=null});var I=function(){(0,s.default)(i,u);var t=c(i);function i(){var e;return(0,r.default)(this,i),e=t.call(this),i.current={code:-1,obj:null},i.obj=null,e}return(0,o.default)(i,[{key:"execute",value:function(e){i.current=e,f||i.changeStyle(e),-1===e.code&&e.obj&&(d.parent===e.obj&&e.obj.removeChild(d),e.obj=null)}}],[{key:"changeStyle",value:function(e){if(e){var t=document.body,i=p.config.URI_PREFIX;switch(e.code){case 0:t.style.cursor="url(".concat(i,"images/cursor/stretch.cur) 12 12, auto");break;case 1:t.style.cursor="url(".concat(i,"images/cursor/rotate.cur) 13 13, auto");break;case 2:t.style.cursor="url(".concat(i,"images/cursor/drag.cur) 12 12, auto");break;case 3:t.style.cursor="url(".concat(i,"images/cursor/open.cur) 15 12, auto");break;case 4:t.style.cursor="url(".concat(i,"images/cursor/close.cur) 15 12, auto");break;case 5:t.style.cursor="url(".concat(i,"images/cursor/pinch.cur) 12 12, auto");break;case 6:t.style.cursor="url(".concat(i,"images/cursor/pluck.cur) 15 12, auto");break;case 7:t.style.cursor="url(".concat(i,"images/cursor/pan.cur) 12 12, auto");break;case 8:t.style.cursor="url(".concat(i,"images/cursor/shake.cur) 12 12, auto");break;case 9:t.style.cursor="url(".concat(i,"images/cursor/pen.cur) 0 100, auto");break;case 10:t.style.cursor="url(".concat(i,"images/cursor/knife.cur) 0 75, auto");break;default:t.style.cursor="default"}}}}]),i}();e.exports=I},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(a,u);var e=c(a);function a(){return(0,r.default)(this,a),e.apply(this,arguments)}return(0,o.default)(a,[{key:"execute",value:function(e){var t=this.root.undoManager,i=e.container,n=i.isBurning;t.add({classType:a,undo:function(){i.isBurning=!n},redo:function(){i.isBurning=!n}})}}]),a}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(){}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(15);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.apply(this,arguments)}return(0,o.default)(t,[{key:"execute",value:function(e){var t=this.root.undoManager,i=e.children,n=[],a=[];i.map(function(e){n.push({x:e._lastTouchPoint_.x,y:e._lastTouchPoint_.y}),a.push({x:e.x,y:e.y})}),t.add({undo:function(){i.map(function(e,t){var i=n[t].x,t=n[t].y;e.x=i,e.y=t})},redo:function(){i.map(function(e,t){e.x=a[t].x,e.y=a[t].y})}})}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),l=n(i(5)),s=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var u=i(15),i=function(){(0,l.default)(s,u);var e=c(s);function s(){return(0,r.default)(this,s),e.apply(this,arguments)}return(0,o.default)(s,[{key:"execute",value:function(e){var t=this.root.undoManager,i=e.obj,n=e.parent,a=e.dragRect,r=e.hitObj,o=e.events;t.add({classType:s,undo:function(){n[0].addChild(i),i.dragRect=a,i.currentHitObj=r},redo:function(){n[1].addChild(i),i.currentHitObj=void 0;for(var e=0;e<o.length;e++)i.removeEventListener(o[e].name,i[o[e].fun.name])}})}}]),s}();e.exports=i},function(e,t,i){"use strict";var n=i(11);function a(){}a.round=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.PRECISION;return void 0===t&&(t=1),+Number(e).toFixed(t)},a.floor=function(e,t){return void 0===t&&(t=1),Math.floor(e/t)*t},a.ceil=function(e,t){return void 0===t&&(t=1),Math.ceil(e/t)*t},a.random=function(e,t,i){var n;(t=void 0===t?0:t)<e&&(n=e,e=t,t=n);t=t-e+ +(i=void 0===i?1:i),t=Math.random()*t;return a.floor(t+=e,i)},a.getUniqueID=function(){return a.getUnique()+""},a.getUnique=function(){null==a._aUniqueIDs&&(a._aUniqueIDs=new Array);for(var e=new Date,t=e.getTime();!a.isUnique(t);)t+=a.random(e.getTime(),2*e.getTime());return a._aUniqueIDs.push(t),t},a.isUnique=function(e){for(var t=0;t<a._aUniqueIDs.length;t++)if(a._aUniqueIDs[t]==e)return!1;return!0},e.exports=a},function(e,t,i){"use strict";var n=i(0),r=n(i(61)),a=n(i(1)),o=n(i(2)),s=i(370),l=nape.geom.Vec2,h=i(257),c=i(371),d=i(97),p=i(11).DEFAULT_TEMP,f=i(26),I=i(11),i=function(){function t(e){(0,a.default)(this,t),this.isDebug=!1,this.timeStep=1/60,this.velocityIterations=10,this.positionIterations=10,this.space=null,this.touchManager=null,this._gravity=new l(0,h.DEFAULT_GRAVITY),this.viewSync=null,this._enabledDeviceGravity=!1,this._enabledForceAnalysis=!1,this._play=!0,this.timerInd=0,this.rootGroup=new nape.dynamics.InteractionGroup(!0),this.rootContainer=e,this.keyTest=this.keyDownHandler.bind(this)}return(0,o.default)(t,[{key:"init",value:function(){this.space=new s(this._gravity),this.space.set_worldAngularDrag(0),this.space.set_worldLinearDrag(0),this.debugDraw=new c(this),this.rootContainer.addChild(this.debugDraw),this.createWall(),document.addEventListener("keydown",this.keyTest)}},{key:"destroy",value:function(){this.space.clear(),document.removeEventListener("keydown",this.keyTest)}},{key:"keyDownHandler",value:function(e){e=e||window.event||arguments.callee.caller.arguments[0];e&&112===e.keyCode&&(this.isDebug=!this.isDebug)}},{key:"update",value:function(){try{this.space.step(this.timeStep,this.velocityIterations,this.positionIterations)}catch(e){}this.isDebug?this.debugDraw.draw():this.debugDraw.clear();for(var h,e=this.space.constraints,t=this.space.bodies,i=0,i=0;i<e.get_length();i++){var n=e.at(i);n.userData&&n.userData.view&&n.userData.view.update()}for(i=0;i<t.length;i++){var c=t.iterator_at(i).elt.outer,u=c.get_userData();if(c&&u){var a=function(){var e=u.view;if(e&&e.parent){var t={x:c.posx,y:c.posy};e.x=t.x,e.y=t.y,e.rotation=c.rotation,e&&e.isBlockMedicine||(a=e.temp-.8<p?p:e.temp-.8,e.container&&e.isFloatage&&e.container.getCurrentCapacity&&1e-4<e.container.getCurrentCapacity()&&(a=(n=e.container.medicineData.getLiquidAverageTemp&&e.container.medicineData.getLiquidAverageTemp()||p)>e.temp?Math.max(a,n):e.temp),e.setTemp?e.setTemp(a):e.temp=a);var i=!1;if(!e.container)return{v:void 0};var n,a,r,o,s=e.container.getPourInObj(),l=e.container;void 0===h&&(h=l.getLocalBounds(),l.isCombustionSpoon||(h.x-=300,h.y-=300,h.width+=600,h.height+=600,l.isFunnel&&l.currentContainer&&Math.abs(l.rotation)<Math.PI/2&&(h.x+=300,h.width-=600,h.height-=300))),s&&l.vRotateSprite&&l.vRotateSprite.getVisible()&&(s&&s.isBaseContainer?i=!0:s&&"GlassBar"===s.name&&s.parent&&s.parent.isBaseContainer&&(s=s.parent,i=!0)),l.coveredGasBottle&&(s=l.coveredGasBottle,i=!0),l.currentContainer&&l.currentContainer.isBaseContainer&&!l.isCovered()&&!l.currentPlug&&l.currentContainer===l.parent&&(s=l.currentContainer,i=!0),!l.getIronSupportContainer||(r=l.getIronSupportContainer(e.toGlobal({x:0,y:0})))&&(s=r,i=!0),i&&l.medicineData.solidAry?((o=l.getSelfGlobalVertexes?l.getSelfGlobalVertexes():l.getGlobalVertexes()).length<1&&(n=l.toGlobal({x:0,y:0}),n=new d(n.x,n.y),a=l.toGlobal({x:l.width,y:0}),a=new d(a.x,a.y),r=l.toGlobal({x:l.width,y:s.height}),r=new d(r.x,r.y),i=l.toGlobal({x:0,y:l.height}),i=new d(i.x,i.y),o.push(n),o.push(a),o.push(r),o.push(i)),l.updateTransform(),(o=f.containsPoint(o,e.toGlobal({x:0,y:0})))?e.justAdd=0:(e.justAdd--,l.currentContainer&&l.currentContainer===l.parent&&(e.justAdd-=5)),!o&&void 0===l.isAddingMed&&"MortarPestle"!==e.name&&e.justAdd<=0&&(s.activeCount=I.ACTIVE_COUNT,l.graphicsMoveMessage(s,l,e,t))):h.contains(e.x,e.y)||TweenMax.isTweening(e)||(l.currentContainer&&l.isFunnel?l.graphicsMoveMessage(l.currentContainer,l,e,t):TweenMax.to(e,.5,{alpha:0,onComplete:function(){e.clear instanceof Function&&e.clear(),e.destroy()}}))}}();if("object"===(0,r.default)(a))return a.v}}this.timerInd++}},{key:"createWall",value:function(){}},{key:"getGravity",value:function(){return this._gravity.get_y()/h.DEFAULT_GRAVITY*h.EARTH_GRAVITY}},{key:"getTimer",value:function(){return Math.floor(this.timerInd*this.timeStep*1e3*1.2)}}]),t}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10);e.exports=function(){(0,h.default)(t,p);var e=d(t);function t(){return(0,o.default)(this,t),e.call(this)}return(0,s.default)(t,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(t.prototype),"creationComplete",this).call(this)}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(t.prototype),"toJSON",this).call(this),{gotDropper:this.gotDropper})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(t.prototype),"setJSON",this).call(this,e),this.gotDropper=e.gotDropper}}]),t}()},function(e,t,AcidBrownDroppingBottleGroup){"use strict";var a=AcidBrownDroppingBottleGroup(4),i=AcidBrownDroppingBottleGroup(0),n=i(AcidBrownDroppingBottleGroup(1)),r=i(AcidBrownDroppingBottleGroup(2)),o=i(AcidBrownDroppingBottleGroup(19)),s=i(AcidBrownDroppingBottleGroup(5)),l=i(AcidBrownDroppingBottleGroup(6)),h=i(AcidBrownDroppingBottleGroup(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=AcidBrownDroppingBottleGroup(8),d=AcidBrownDroppingBottleGroup(33),AcidBrownDroppingBottleGroup=function(){(0,s.default)(AcidBrownDroppingBottleGroup,u);var t=c(AcidBrownDroppingBottleGroup);function AcidBrownDroppingBottleGroup(){var e;return(0,n.default)(this,AcidBrownDroppingBottleGroup),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(AcidBrownDroppingBottleGroup,[{key:"creationComplete",value:function(){var e=this;this.dropper=this.execute(NBCommand.CREATE_EQUIPMENT,"AcidBrownDropper"),this.bottle=this.execute(NBCommand.CREATE_EQUIPMENT,"AcidBrownDroppingBottle");var t=!1,i=!1;this.bottle.on("creationComplete",function(){i=!0,t&&(e.bottle.addChildAt(e.dropper,0),e.dropper.x=e.bottle.localBounds.width/2),e.getViewStack().addChild(e.bottle),e.bottle.x=e.x,e.bottle.y=e.y}),this.dropper.on("creationComplete",function(){t=!0,i&&(e.bottle.addChildAt(e.dropper,0),e.dropper.x=e.bottle.localBounds.width/2),e.dropper.y=-110}),NBDrag.addDrag(this.dropper),NBDrag.addDrag(this.bottle),this.cannotSystemDrag=!0,this.bottle.gotDropper=!0,this.dropper.addedBottle=this.bottle,this.setMedicineData()}},{key:"setMedicineData",value:function(){var e=new d(this.root.medicineManager.getMedicineData("Br2"),2);this.bottle.medicineData.push(e),e=new d(this.root.medicineManager.getMedicineData("Br2"),.04),this.dropper.medicineData.push(e),this.dropper.addedMedicine=e.name}}]),AcidBrownDroppingBottleGroup}();e.exports=AcidBrownDroppingBottleGroup},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10);e.exports=function(){(0,h.default)(t,p);var e=d(t);function t(){return(0,o.default)(this,t),e.call(this)}return(0,s.default)(t,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(t.prototype),"creationComplete",this).call(this)}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(t.prototype),"toJSON",this).call(this),{gotDropper:this.gotDropper})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(t.prototype),"setJSON",this).call(this,e),this.gotDropper=e.gotDropper}}]),t}()},function(e,t,AcidGlassDroppingBottleGroup){"use strict";var a=AcidGlassDroppingBottleGroup(4),i=AcidGlassDroppingBottleGroup(0),n=i(AcidGlassDroppingBottleGroup(1)),r=i(AcidGlassDroppingBottleGroup(2)),o=i(AcidGlassDroppingBottleGroup(19)),s=i(AcidGlassDroppingBottleGroup(5)),l=i(AcidGlassDroppingBottleGroup(6)),h=i(AcidGlassDroppingBottleGroup(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=AcidGlassDroppingBottleGroup(8),d=AcidGlassDroppingBottleGroup(33),AcidGlassDroppingBottleGroup=function(){(0,s.default)(AcidGlassDroppingBottleGroup,u);var t=c(AcidGlassDroppingBottleGroup);function AcidGlassDroppingBottleGroup(){var e;return(0,n.default)(this,AcidGlassDroppingBottleGroup),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(AcidGlassDroppingBottleGroup,[{key:"creationComplete",value:function(){var e=this;this.dropper=this.execute(NBCommand.CREATE_EQUIPMENT,"AcidGlassDropper"),this.bottle=this.execute(NBCommand.CREATE_EQUIPMENT,"AcidGlassDroppingBottle");var t=!1,i=!1;this.bottle.on("creationComplete",function(){i=!0,t&&(e.bottle.addChildAt(e.dropper,0),e.dropper.x=e.bottle.localBounds.width/2),e.getViewStack().addChild(e.bottle),e.bottle.x=e.x,e.bottle.y=e.y}),this.dropper.on("creationComplete",function(){t=!0,i&&(e.bottle.addChildAt(e.dropper,0),e.dropper.x=e.bottle.localBounds.width/2),e.dropper.y=-110}),NBDrag.addDrag(this.dropper),NBDrag.addDrag(this.bottle),this.cannotSystemDrag=!0,this.dropper.addedBottle=this.bottle,this.bottle.gotDropper=!0,this.setMedicineData()}},{key:"setMedicineData",value:function(){var e=new d(this.root.medicineManager.getMedicineData("Br2"),2);this.bottle.medicineData.push(e),e=new d(this.root.medicineManager.getMedicineData("Br2"),.04),this.dropper.medicineData.push(e),this.dropper.addedMedicine=e.name}}]),AcidGlassDroppingBottleGroup}();e.exports=AcidGlassDroppingBottleGroup},function(e,t,AlkaliBurette){"use strict";var a=AlkaliBurette(4),i=AlkaliBurette(0),n=i(AlkaliBurette(1)),r=i(AlkaliBurette(2)),o=i(AlkaliBurette(7)),s=i(AlkaliBurette(5)),l=i(AlkaliBurette(6)),h=i(AlkaliBurette(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=AlkaliBurette(258),d=AlkaliBurette(1012),p=AlkaliBurette(21),AlkaliBurette=function(){(0,s.default)(AlkaliBurette,u);var t=c(AlkaliBurette);function AlkaliBurette(){var e;return(0,n.default)(this,AlkaliBurette),(e=t.call(this)).name="AlkaliBurette",e.CNName="碱式滴定管",e.z_index=15.05,e.magnifierY=-365,e.standardMagnifierY=112.2875,e.scaleMultiple=3.059,e.startCapacity=27,e.endCapacity=.4,e}return(0,r.default)(AlkaliBurette,[{key:"creationComplete",value:function(){(this.handBubble.allowGetBounds=!1,o.default)((0,h.default)(AlkaliBurette.prototype),"creationComplete",this).call(this),this.capacityScale=.07631479001339275,this.moveTouchHoldButton=new d(this,{x:110,y:1180},!0),this.moveTouchHoldButton.setEnabled(!0),this.lowerGlassTube.defaultX=this.lowerGlassTube.x,this.lowerGlassTube.defaultY=this.lowerGlassTube.y,this.lowerGlassTube.defaultIndex=this.getChildIndex(this.lowerGlassTube),this.botDrop.defaultX=this.botDrop.x,this.botDrop.defaultY=this.botDrop.y,this.showHandBubble=!1;var e=this.buretteWater=ParticleUtil.getParticle(ParticleUtil.particles.buretteWater);e.x=240,e.y=428,this.handBubble.addChild(e)}},{key:"showHandBubble",get:function(){return this.handBubble.visible},set:function(e){this.handBubble.visible=e,this.normalStatus.visible=!e,e?(this.handBubble.addChildAt(this.lowerGlassTube,1),this.lowerGlassTube.x=this.handBubble.lowerGlassTubePos.x,this.lowerGlassTube.y=this.handBubble.lowerGlassTubePos.y,this.lowerGlassTube.rotation=this.handBubble.lowerGlassTubePos.rotation,this.handBubble.addChildAt(this.botDrop,1),this.botDrop.x=this.handBubble.lowerGlassTubePos.x,this.botDrop.y=this.handBubble.lowerGlassTubePos.y,this.botDrop.rotation=this.handBubble.lowerGlassTubePos.rotation):(this.addChildAt(this.lowerGlassTube,this.lowerGlassTube.defaultIndex),this.lowerGlassTube.x=this.lowerGlassTube.defaultX,this.lowerGlassTube.y=this.lowerGlassTube.defaultY,this.addChildAt(this.botDrop,this.lowerGlassTube.defaultIndex-1),this.botDrop.x=this.botDrop.defaultX,this.botDrop.y=this.botDrop.defaultY,this.botDrop.rotation=this.lowerGlassTube.rotation=0)}},{key:"squeezeBubbles",value:function(){var e=this;this.interactive=!1,this.interactiveChildren=!1,this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.hasCovered=!0,this.botDrop.isOnBubble=!0;var t=this;this.lastRotation=this.rotation;var i=this.getCenterPosition(),n=i.x*Math.cos(this.rotation)-i.y*Math.sin(this.rotation),a=i.y*Math.cos(this.rotation)-i.x*Math.sin(this.rotation);this.pivot.x=i.x,this.pivot.y=i.y,this.x+=n,this.y+=a,this.activeCount=nb.ACTIVE_COUNT,TweenMax.to(this,.5,{rotation:0,onComplete:function(){t.showHandBubble=!0,0<t.getCurrentCapacity()||0<t.bottomLiquidAry.length?TweenMax.to([e.handBubble.bottom,e.handBubble.top],.2,{rotation:"-=".concat(3*Math.PI/180),onComplete:function(){t.fluidSpeed=.003,t.canTestHitBottom=!0}}):e.squeezeAnimation()}})}},{key:"squeezeAnimation",value:function(){var e=this,t=this,i=0,n=this.getCenterPosition();TweenMax.to([this.handBubble.bottom,this.handBubble.top],.2,{repeat:6,repeatDelay:.1,yoyo:!0,rotation:"-=".concat(3*Math.PI/180),onRepeat:function(){i++,t.handBubble.ani.currentFrame=i%2,i%2==0?(e.fluidSpeed=.003,t.canShowBuretteWater=!0):(e.fluidSpeed=0,delete t.canShowBuretteWater),t.activeCount=nb.ACTIVE_COUNT},onComplete:function(){TweenMax.to(e,.5,{rotation:t.lastRotation,delay:.5,onComplete:function(){t.showHandBubble=!1,t.pivot.x=0,t.pivot.y=0,t.x-=n.x*Math.cos(t.lastRotation)-n.y*Math.sin(t.lastRotation),t.y-=n.y*Math.cos(t.lastRotation)-n.x*Math.sin(t.lastRotation),t.handBubble.bottom.rotation=t.handBubble.top.rotation=-Math.PI/180*12,t.handBubble.ani.currentFrame=0,t.fluidSpeed=0,t.interactive=!0,t.interactiveChildren=!0,delete t.canShowBuretteWater,delete t.botDrop.isOnBubble,delete t.hasCovered,delete t.lastRotation}})}})}},{key:"getConfigureData",value:function(){var e=(0,o.default)((0,h.default)(AlkaliBurette.prototype),"getConfigureData",this).call(this);return e.confArr.push(p.getButton("press","挤气泡",function(){this.squeezeBubbles()}.bind(this),this)),e}},{key:"update",value:function(e){var t=this;(0,o.default)((0,h.default)(AlkaliBurette.prototype),"update",this).call(this,e),this.buretteWater.render();var i=this.buretteWater;if(this.showHandBubble&&(this.lowerGlassTube.bottomHit.hitTest(this.botDrop.bottomMaskContainer)&&this.canShowBuretteWater))return void(i.particle&&!1===i.particle.emit&&(i.setParticleProp("emit",!0),i.setParticleProp("_spawnTimer",0),e=this.botDrop.getColor().color,i.setParticleProp("startColor",[e>>16,e>>8&255,255&e])));i.particle&&!0===i.particle.emit&&(i.setParticleProp("emit",!1),i.setParticleProp("_spawnTimer",0)),this.canTestHitBottom&&this.lowerGlassTube.bottomHit.hitTest(this.botDrop.bottomMaskContainer)&&(this.canTestHitBottom=!1,TweenMax.to([this.handBubble.bottom,this.handBubble.top],.2,{rotation:-Math.PI/180*12,onComplete:function(){t.squeezeAnimation()}}))}}]),AlkaliBurette}();e.exports=AlkaliBurette},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(19)),h=n(i(7)),c=n(i(5)),u=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=i(52),I=i(91),g=i(18),m=i(16),i=function(){(0,c.default)(a,I);var n=p(a);function a(e,t,i){return(0,o.default)(this,a),(e=n.call(this,e,t)).DISX=50,e.oldBtnPos=t,e.percent=0,e.setLineInContainer(!0),e.changeType(i),e.initLineAry(),e.target.on(NBDrag.event.DRAG_MOVE,e.initLineAry.bind((0,l.default)(e))),e}return(0,s.default)(a,[{key:"initButton",value:function(){this.name="moveTouchHoldButton",(0,h.default)((0,d.default)(a.prototype),"initButton",this).call(this);var e=this.target.root.mouseManager;m.addMouseEvent(e,this.button,m.status.SHAKE),this.initUnicorn(0)}},{key:"changeType",value:function(e){"left"===e&&(this.DISX=-50,this.initLineAry(),this.updateUnicorn(Math.PI))}},{key:"initLineAry",value:function(){var e=this.oldBtnPos,e={x:e.x,y:e.y-55};this.lineAry=this.generateLinePoints({x:e.x,y:e.y},{x:e.x+150,y:e.y},15),this.setPointAryPercent(0,this.percent),this.setBtnRotate()}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.pinch")}},{key:"setBtnRotate",value:function(){var e=g.retrieveRotation(this.target.worldTransform);this.button.rotation=e;var t=this.btnPosition,t=this.btnPos=this.otherLayer.toLocal({x:t.x,y:t.y},this.target);this.button.visible&&NBDrag.addDrag(this.button,{x:t.x,y:t.y,width:150,height:0,rotate:e})}},{key:"dragButtonBegin",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonBegin",this).call(this,e),this.startDragPos=(0,r.default)({},e.data.global)}},{key:"dragButtonMove",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonMove",this).call(this,e),this.setPercent(this.getPercent(e,this.startDragPos)),this.btnPosition=this.target.toLocal({x:this.button.x,y:this.button.y},this.otherLayer)}},{key:"dragButtonEnd",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonEnd",this).call(this,e),this.resetButton()}},{key:"resetButton",value:function(){this.setPercent(0),this.button.x=this.btnPos.x,this.button.y=this.btnPos.y,this.btnPosition=this.target.toLocal({x:this.button.x,y:this.button.y},this.otherLayer)}},{key:"getPercent",value:function(){var e=this.button.position,e=f.distance(e,this.btnPos)/150;return e=1<(e=e<0?0:e)?1:e}},{key:"setPercent",value:function(e){this.percent=e,this.target.setPercent instanceof Function&&this.target.setPercent(e),this.setPointAryPercent(0,e)}},{key:"zoomChangePos",value:function(){(0,h.default)((0,d.default)(a.prototype),"zoomChangePos",this).call(this);var e=(1-this.buttonScale)*nb.BUTTON_RADIUS;"left"===this.currentType&&(e=-e),this.btnPosition.y=this.oriBtnPosition.y-e,this.btnPosition.x=this.oriBtnPosition.x-e,this.setBtnPosition(this.btnPosition),this.setBtnRotate()}},{key:"setPosByPercent",value:function(e){0<=e&&e<=1&&(this.btnPosition.x=this.oriBtnPosition.x+150*e,this.setBtnPosition(this.btnPosition),this.setPointAryPercent(0,e))}}]),a}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10),p=i(26),f=i(18),I=i(31),g=i(32),m=i(79),y=i(11),v=.0005058029670080605;e.exports=function(){(0,l.default)(n,d);var t=u(n);function n(){var e;return(0,r.default)(this,n),e=t.call(this),I.register(g.BALLOON),e.isBalloon=!0,e.isOldBalloon=!0,e.cannotSave=!0,e}return(0,o.default)(n,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(n.prototype),"creationComplete",this).call(this),this.init(),this.name="Balloon",this.CNName="气球"}},{key:"init",value:function(){this.liquidGraContainer.allowGetBounds=!1,this.capacityScale=1,this.broken=!1,this.addListeners()}},{key:"isOpen",get:function(){return!1},set:function(e){}},{key:"equipment",get:function(){return this._equipment},set:function(e){e?(this._equipment=this.addedNode[0]=e).emit("appendEquipment",this):this._equipment&&(e=this._equipment.addedNode,this._equipment.addedRubber=null,e.splice(e.indexOf(this),1),this._equipment=null,this.addedNode.length=0)}},{key:"pascal",get:function(){return Math.round(this._pascal)},set:function(e){}},{key:"update",value:function(e){var t,i;(0,s.default)((0,c.default)(n.prototype),"update",this).call(this,e),this.broken||(!this.originArea&&this.liquidVertexUp&&(e=Math.pow(this.getViewStack().scale.x,2),this.originArea=p.getArea(this.liquidVertexUp)/1e6/e),this.equipment&&this.equipment.currentContainer?(t=this.medicineData.getGasMol(),this.gasChange(t)):this.lastMol!==v&&(t=this.medicineData.getGasMol(),i=v/t,this.medicineData.gasAry.forEach(function(e){return e.mol*=i}),this.gasChange(v)))}},{key:"addListeners",value:function(){var l=this;this.on(NBDrag.event.STOP_DRAG,function(e){e.evt.stopPropagation();var t=e.target;TweenMax.killTweensOf(t),t._gsTweenID&&delete TweenLite._internals.tweenLookup[t._gsTweenID];for(var i,n=l.getEquipments(),a=0;a<n.length;a++){var r,o,s=n[a];if(!l.broken&&t.hitTest(s)&&s.allowRubberCatheter&&(null===s.addedRubber||s.addedRubberArray&&s.addedRubberArray.allow))return t.equipment&&(t.equipment.addedRubber&&(t.equipment.addedRubber=null),t.equipment.removeAddedRubber&&t.equipment.removeAddedRubber(t)),s.addChildWithSamePos(t),i=s,((r=t).equipment=i).addedRubberArray?i.addedRubberArray.addTarget=r:i.addedRubber=r,void(void 0!==s.isLeft?(o=0===s.isLeft?-Math.PI/2:Math.PI/2,TweenMax.to(t,.5,{x:s.rubberPos.x,y:s.rubberPos.y,rotation:o})):(r=f.retrieveRotation(t.worldTransform),o=f.retrieveRotation(s.worldTransform),isPlus=0<o-r?-1:1,TweenMax.to(t,.5,{x:s.rubberPos.x,y:s.rubberPos.y,rotation:s.rubberPos.rotation+Math.PI/2})))}t.equipment&&(t.equipment.addedRubber&&(t.equipment.addedRubber=null),t.equipment.removeAddedRubber&&t.equipment.removeAddedRubber(t),t.equipment=null,e=f.retrieveRotation(t.worldTransform),l.getEqLayer().addChildWithSamePos(t),t.rotation=e,TweenMax.to(t,.5,{rotation:0}))})}},{key:"gasChange",value:function(e){var t,i;this.lastMol!==e&&0!==e&&((t=(e-v)/(85e-5-v))<0||t<1&&(this.activeCount=y.ACTIVE_COUNT,this._pascal=(101400-y.PASCAL)*t+y.PASCAL,i=8.314*e*m.convertCToK(this.medicineData.gasAry[0].getTemp())/this._pascal,this.originArea&&(this.capacityScale=i/this.originArea),this.animation.gotoAndStop(Math.round(27*t)),this.changedBoundsAndFreshSelect(),this.lastMol=e))}}]),n}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var AcidGlassDropper=i(225),d=i(389);e.exports=function(){(0,l.default)(BasicDropper,AcidGlassDropper);var t=u(BasicDropper);function BasicDropper(){var e;return(0,r.default)(this,BasicDropper),(e=t.call(this)).autoHideInfo=!0,e}return(0,o.default)(BasicDropper,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BasicDropper.prototype),"creationComplete",this).call(this)}},{key:"dragMoveListener",value:function(){var n=this;this.on(NBDrag.event.STOP_DRAG,function(){for(var e=n.getEquipments(),t=0;t<e.length;t++){var i=e[t];if(i instanceof d&&!i.gotDropper&&n.hitTest(i)&&n.judgeMedicineSame(i))return i.addChildAtWithSamePos(n,0),i.gotDropper=!0,n.addedBottle=i,void TweenMax.to(n,.5,{x:i.localBounds.width/2,y:-110,onComplete:function(){n.shouldAbsorb&&n.absorbLiquid()}})}})}}]),BasicDropper}()},function(e,t,BasicDroppingBottleGroup){"use strict";var a=BasicDroppingBottleGroup(4),i=BasicDroppingBottleGroup(0),n=i(BasicDroppingBottleGroup(1)),r=i(BasicDroppingBottleGroup(2)),o=i(BasicDroppingBottleGroup(19)),s=i(BasicDroppingBottleGroup(5)),l=i(BasicDroppingBottleGroup(6)),h=i(BasicDroppingBottleGroup(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BasicDroppingBottleGroup(8),d=BasicDroppingBottleGroup(33),BasicDroppingBottleGroup=function(){(0,s.default)(BasicDroppingBottleGroup,u);var t=c(BasicDroppingBottleGroup);function BasicDroppingBottleGroup(){var e;return(0,n.default)(this,BasicDroppingBottleGroup),(e=t.call(this)).CNName="碱式玻璃滴管",e.once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(BasicDroppingBottleGroup,[{key:"creationComplete",value:function(){var e=this;this.dropper=this.execute(NBCommand.CREATE_EQUIPMENT,"BasicDropper"),this.bottle=this.execute(NBCommand.CREATE_EQUIPMENT,"BasicDroppingBottle");var t=!1,i=!1;this.bottle.on("creationComplete",function(){i=!0,t&&(e.bottle.addChildAt(e.dropper,0),e.dropper.x=e.bottle.localBounds.width/2),e.getViewStack().addChild(e.bottle),e.bottle.x=e.x,e.bottle.y=e.y}),this.dropper.on("creationComplete",function(){t=!0,i&&(e.bottle.addChildAt(e.dropper,0),e.dropper.x=e.bottle.localBounds.width/2),e.dropper.y=-110}),NBDrag.addDrag(this.dropper),NBDrag.addDrag(this.bottle),this.cannotSystemDrag=!0,this.bottle.gotDropper=!0,this.dropper.addedBottle=this.bottle,this.setMedicineData()}},{key:"setMedicineData",value:function(){var e=new d(this.root.medicineManager.getMedicineData("Br2"),2);this.bottle.medicineData.push(e),e=new d(this.root.medicineManager.getMedicineData("Br2"),.03),this.dropper.medicineData.push(e),this.dropper.addedMedicine=e.name}}]),BasicDroppingBottleGroup}();e.exports=BasicDroppingBottleGroup},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(170);e.exports=function(){(0,l.default)(t,d);var e=u(t);function t(){return(0,r.default)(this,t),e.call(this)}return(0,o.default)(t,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(t.prototype),"creationComplete",this).call(this),this.rotationConf={position:{x:this.width,y:this.height},start:0,end:-Math.PI/4*3}}},{key:"addedToStage",value:function(){(0,s.default)((0,c.default)(t.prototype),"addedToStage",this).call(this)}}]),t}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var EvaporatingDish=i(390);e.exports=function(){(0,s.default)(BigEvaporatingDish,EvaporatingDish);var t=c(BigEvaporatingDish);function BigEvaporatingDish(){var e;return(0,o.default)(this,BigEvaporatingDish),(e=t.call(this)).name="BigEvaporatingDish",e.CNName="大蒸发皿",e.z_index=15.07,e}return(0,r.default)(BigEvaporatingDish)}()},function(e,t,BigHardGlassTube){"use strict";var a=BigHardGlassTube(4),i=BigHardGlassTube(0),n=i(BigHardGlassTube(1)),r=i(BigHardGlassTube(2)),o=i(BigHardGlassTube(7)),s=i(BigHardGlassTube(5)),l=i(BigHardGlassTube(6)),h=i(BigHardGlassTube(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var HardGlassTube=BigHardGlassTube(391),u=PIXI.Point,BigHardGlassTube=function(){(0,s.default)(BigHardGlassTube,HardGlassTube);var t=c(BigHardGlassTube);function BigHardGlassTube(){var e;return(0,n.default)(this,BigHardGlassTube),(e=t.call(this)).name="BigHardGlassTube",e.CNName="大硬质玻璃管",e.z_index=17.03,e.noStratifyGas=!0,e.needSpoonPlug=!0,e.W=82,e.H=1084,e.pU=new u(41,0),e.pD=new u(41,1084),e.pM=new u(41,542),e.addSolidMedPos=new u(41,542),e}return(0,r.default)(BigHardGlassTube,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BigHardGlassTube.prototype),"creationComplete",this).call(this),this.on("hitTwoIronClamp",this.hitTwoIronClamp),this.on("stopDragNoPerfectObj",this.eqAddToViewStack)}},{key:"setCapacityScale",value:function(){this.capacityScale=.0815}},{key:"hitTwoIronClamp",value:function(e){var t=this;t.eqAddToViewStack();for(var i,n,a,r,o=!0,s=0;s<e.length;s++){var l=e[s];if(!l.parent)return;if("IronSupport"!==l.parent.name){o=!1;break}if(!l.parent.plateSideIsCenter){o=!1;break}}o&&(i=e[0],n=e[1],a=i.parent,r=n.parent,a.addChildAtWithSamePos(r,0),i.addChildAtWithSamePos(t,i.children.length),(1e-4<Math.abs(r.x-840)||1e-4<Math.abs(+r.y))&&TweenMax.to(r,.2,{x:840,y:0}),(1e-4<Math.abs(t.x-810)||1e-4<Math.abs(t.y-9))&&TweenMax.to(t,.2,{x:1050,y:9}),t.rotation=Math.PI/2,TweenMax.to([i.clamp,n.clamp],.2,{rotation:Math.PI/2}),TweenMax.to(n,.2,{y:i.y}),t.dragRect={x:-9999999,y:9,width:19999999,height:0},t.removeEventListener(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),t.mergeSupport(a,r),t.twoHitClamp={main:{support:a,clamp:i},aid:{support:r,clamp:n}},n.followClamp(i),i.followClamp(n),n.clampEq=i.clampEq=t)}},{key:"mergeSupport",value:function(e,t){"IronSupport"===e.name&&"IronSupport"===t.name&&(NBDrag.removeDrag(e),NBDrag.removeDrag(t),e.doubleDragArea&&(e.doubleDragArea=new PIXI.Container,e.doubleDragArea.addChildWithSamePos(e.dragArea.clone()),e.doubleDragArea.addChildWithSamePos(t.dragArea.clone()),e.addChild(e.doubleDragArea)),e.aidSupport=t,e.dragArea=e.doubleDragArea,NBDrag.addDrag(e))}},{key:"breakTwoHitClamp",value:function(e){var t=this;t.listenClamp&&(t.listenClamp.aid.removeFollowClamp(t.listenClamp.main),t.listenClamp.main.removeFollowClamp(t.listenClamp.aid),t.listenClamp.aid.clampEq=t.listenClamp.main.clampEq=null,t.listenClamp=null),t.twoHitClamp&&(t.twoHitClamp.main.support.dragArea=t.twoHitClamp.main.support.dragAreaCenter,NBDrag.addDrag(t.twoHitClamp.main.support),NBDrag.addDrag(t.twoHitClamp.aid.support),t.twoHitClamp.main.support.aidSupport=null,t.twoHitClamp.aid.support&&t.twoHitClamp.aid.support.parent&&t.twoHitClamp.aid.support.eqAddToViewStack(),e?t.listenClamp={aid:t.twoHitClamp.aid.clamp,main:t.twoHitClamp.main.clamp}:(t.twoHitClamp.aid.clamp.removeFollowClamp(t.twoHitClamp.main.clamp),t.twoHitClamp.main.clamp.removeFollowClamp(t.twoHitClamp.aid.clamp)),t.twoHitClamp=null)}}]),BigHardGlassTube}();e.exports=BigHardGlassTube},function(e,t,BigTestTube){"use strict";var a=BigTestTube(4),i=BigTestTube(0),n=i(BigTestTube(9)),r=i(BigTestTube(1)),o=i(BigTestTube(2)),h=i(BigTestTube(7)),s=i(BigTestTube(5)),l=i(BigTestTube(6)),c=i(BigTestTube(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var d=BigTestTube(10),p=BigTestTube(58),f=BigTestTube(34),I=BigTestTube(31),g=BigTestTube(21),m=BigTestTube(32),y=PIXI.Point,v=BigTestTube(18),C=BigTestTube(11),M=BigTestTube(169),BigTestTube=function(){(0,s.default)(BigTestTube,d);var t=u(BigTestTube);function BigTestTube(){var e;return(0,r.default)(this,BigTestTube),(e=t.call(this)).top=e.bottom="",e.name="BigTestTube",e.CNName="大试管",e.needSpoonPlug=!0,e.isTestTube=!0,e.needLimitObjAry=["TestTubeRack","TestTubeHolder","IronClamp","IronClampSideLook"],I.register(m.BUBBLING),e.hitThisAttachAttr={offsetUp:-262,offsetDown:262,type:3},e.canCommandPlug=!0,e.z_index=15.09,e.canEditLable=!0,e.canPutTwo=!0,e.W=76,e.H=534,e.pU=new y(0,-267),e.pD=new y(0,267),e.pM=new y(0,0),e.addSolidMedPos=new y(0,0),e.transKMnO4Count=0,e}return(0,o.default)(BigTestTube,[{key:"creationComplete",value:function(){(0,h.default)((0,c.default)(BigTestTube.prototype),"creationComplete",this).call(this),this.particle=f.getParticle(f.particles.gas_collecting_bottle_bubble),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),p.apply(this),this.enableRotate(!0,{position:{x:this.localBounds.width/2+10,y:-this.localBounds.height/2}},1),this.label.txt.anchor.x=.5,this.label.txt.x=30,this._addedBlackBag=!1,this.water.mask=this.gasMask,-1!=C.NORMALCONTAINER.indexOf(this.name)&&M.addHgFogPic(this,90,"Hg")}},{key:"addedBlackBag",get:function(){return this._addedBlackBag},set:function(e){this.activeCount=this.hasReact=C.ACTIVE_COUNT,this._addedBlackBag=e,this.preventCalEffect=e}},{key:"updateOilSmoke",value:function(){var e,t,i;0<this.paraffinOilCount?(this.paraffinOilSmoke?this.paraffinOilSmoke.render():(this.paraffinOilSmoke=f.getParticle(f.particles.paraffin_smoke),this.gasContainer.addChild(this.paraffinOilSmoke),e=(i=this.medicineData.solidAry["碎瓷片"])&&.001<i.mol?.9:.6,this.paraffinOilSmoke.alpha=e,t=this.localBounds,this.paraffinOilSmoke.x=t.x+t.width/2,this.paraffinOilSmoke.y=t.y+t.height),this.paraffinOilCount--):this.paraffinOilSmoke&&(this.root.particleManager.destroy(this.paraffinOilSmoke,2),this.paraffinOilSmoke=null),this.abCotton&&(!(i=this.medicineData.liquidAry.quickMap.get("石蜡油"))||i.mol<=0||((e=this.abCotton.medicineData.liquidAry.quickMap.get("石蜡油"))&&.1<e.mol||(t=.01<i.mol?.01:i.mol,i.setMol(i.mol-t),e?e.setMol(e.mol+t):(i=i.deepClone(),this.abCotton.medicineData.push(i,t)),this.abCotton.changeWetPersent())))}},{key:"transKMnO4",value:function(){this.transKMnO4Count<10&&(this.transKMnO4Count=Math.min(10,this.transKMnO4Count+5))}},{key:"testOilMed",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!(this.isPourOut&&!this.containSoap||t)||((e=this.medicineData.liquidAry.quickMap.get("植物油"))&&1e-7<e.mol||t)&&0===this.water.alpha&&TweenMax.to(this.water,1,{alpha:1})}},{key:"pourOutSituation",value:function(e,t,i,n,a,r,o,s,l){this.isPourOut=!0,this.testOilMed(),(0,h.default)((0,c.default)(BigTestTube.prototype),"pourOutSituation",this).call(this,e,t,i,n,a,r,o,s,l)}},{key:"setReactStatus",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!e.Products.includes("CCl4")||(t=this.medicineData.liquidAry.quickMap.get("CCl4"))&&1e-5<t.getMol()&&this.testOilMed(!0),(0,h.default)((0,c.default)(BigTestTube.prototype),"setReactStatus",this).call(this,e,i)}},{key:"smellMedicine",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.interactive=!1,this.interactiveChildren=!1,this.root.execute(NBCommand.ADD_EQUIPMENT,"Fun",this)}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldTestTube",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"plug",value:function(){this.isOpen&&(this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"PlugTestTube",this))}},{key:"unPlug",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.plugAnimation.delPlugAnimation(e)}},{key:"drawSilMir",value:function(e){this.mainSilMirPic||M.addSilverMirror(this,!1),this.mainSilMirPic.silverPic&&this.transSilMirPic.silverPic&&(this.mainSilMirPic.silverPic.mask=e,this.transSilMirPic.silverPic.mask=e)}},{key:"update",value:function(e){if(0<this.transKMnO4Count&&this.transKMnO4Count--,this.testOilMed(),0!==this.water.alpha&&this.containSoap&&(TweenMax.killTweensOf(this.water),this.water._gsTweenID&&delete TweenLite._internals.tweenLookup[this.water._gsTweenID],this.water.alpha=0),(0,h.default)((0,c.default)(BigTestTube.prototype),"update",this).call(this,e),this.particle.loaded&&!this.changedParticle&&(this.particle.particle.spawnRect.width=this.localBounds.width,this.changedParticle=!0),this.lasPascal=this.lasPascal||this.pascal,this.parent&&this.parent.liquidVertex&&this.parent instanceof d){var t=this.localBounds,e=this.getViewStack().toLocal({x:t.x,y:t.y},this).y;if(this.particle&&this.gasLeakage&&0<this.gasLeakage.length&&e>this.getViewStack().toLocal(this.parent.liquidVertex[0]).y&&this.getCurrentCapacity()<=.5){this.parent.waterContainer.addChild(this.particle),this.gasLeakage&&(this.gasLeakage.length=0),this.particle.visible=!0,this.particle.render(),this.bubbleSound||(this.bubbleSound=I.play(m.BUBBLING,null,null,null,-1)),this.bubbleSound.play();for(var i=0;i<this.medicineData.liquidAry.length;i++)this.medicineData.liquidAry[i].mol<=0&&(this.medicineData.liquidAry.splice(i,1),i--);var n=this.parent.toLocal(this.toGlobal({x:t.x+t.width,y:t.y}));this.particle.y=n.y,this.particle.x=n.x}else this.parent.waterContainer.removeChild(this.particle),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=void 0)}else this.particle.visible&&(this.particle.visible=!1),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=void 0);this.lasPascal=this.pascal,this.updateOilSmoke(),!this.needShading||(n=this.medicineData.solidAry)&&n.NaCl&&n.NaCl.setMol(0)}},{key:"addChildAt",value:function(e,t){(0,h.default)((0,c.default)(BigTestTube.prototype),"addChildAt",this).call(this,e,t),"PlasticBag"===e.name&&(this.addedBlackBag=!0)}},{key:"eqAddToViewStack",value:function(){(0,h.default)((0,c.default)(BigTestTube.prototype),"eqAddToViewStack",this).call(this)}},{key:"removeChild",value:function(e){(0,h.default)((0,c.default)(BigTestTube.prototype),"removeChild",this).call(this,e),"PlasticBag"===e.name&&(this.addedBlackBag=!1)}},{key:"shakeSelf",value:function(){var e=this;if(this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.parent===this.getEqLayer()&&!TweenMax.isTweening(this)){this.interactive=!1,this.interactiveChildren=!1,NBDrag.removeDrag(this);for(var t=new TimelineMax,i=this.medicineData.gasAry,n=0;n<i.length;n++)i[n].isBubble+=16;this.reCalSolvent(),this.showSedimentParticle(),this.hasReact+=10;var a=Math.PI/6;this.pivot.y=this.localBounds.y,this.y+=this.localBounds.y*Math.cos(this.rotation),this.x-=this.localBounds.y*Math.sin(this.rotation),t.to(this,.2,{rotation:a}).to(this,.15,{rotation:-Math.PI/12}).to(this,.15,{rotation:Math.PI/4,repeat:4,yoyo:!0,onUpdate:function(){e.chargeMn2O7Boom(10)}}).to(this,.2,{rotation:0,onComplete:function(){e.maxWaveHeight=10,e.pivot.y=0,e.y-=e.localBounds.y,e.interactive=!0,e.interactiveChildren=!0,NBDrag.addDrag(e)}})}}},{key:"checkCanPlug",value:function(){var e=this.children.some(function(e){return C.EQUIPMENTINTESTTUBE.includes(e.name)}),t=this.medicineData.getLiquidMol(),i=this.medicineData.getSolidMol();return!(t||i||e)||"Flume"===this.parent.name}},{key:"getConfigureData",value:function(){var e=(0,h.default)((0,c.default)(BigTestTube.prototype),"getConfigureData",this).call(this);this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(g.getButton("shake","振荡",function(){this.shakeSelf()}.bind(this),this)),this.hasAnimation?this.plugAnimation?this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(g.getButton(null,"松手",function(){this.unPlug()}.bind(this),this)):this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(g.getButton(null,"松手",function(){this.loose()}.bind(this),this)):this.isOpen?!TweenMax.isTweening(this)&&this.checkCanPlug()&&e.confArr.push(g.getButton(null,"堵住",function(){this.plug()}.bind(this),this)):this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(g.getButton(null,"手握",function(){this.hold()}.bind(this),this));var t=this.worldRotation||v.retrieveRotation(this.worldTransform);return!this.hasAnimation&&this.isOpen&&0===t&&(TweenMax.isTweening(this)||e.confArr.push(g.getButton(null,"闻气味",function(){this.smellMedicine()}.bind(this),this))),e}},{key:"checkAutoIncline",value:function(){return this.parent===this.getEqLayer()}},{key:"checkCollision",value:function(){(0,h.default)((0,c.default)(BigTestTube.prototype),"checkCollision",this).call(this),this.plugAnimation&&this.plugAnimation.checkCollision()}},{key:"eqStopDrag",value:function(){(0,h.default)((0,c.default)(BigTestTube.prototype),"eqStopDrag",this).call(this),this.plugAnimation&&this.plugAnimation.eqStopDrag()}},{key:"toJSON",value:function(){var e={};return this.preventProduceHCO3&&(e.preventProduceHCO3=this.preventProduceHCO3),(0,n.default)(e,(0,h.default)((0,c.default)(BigTestTube.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,h.default)((0,c.default)(BigTestTube.prototype),"setJSON",this).call(this,e),e.preventProduceHCO3&&(this.preventProduceHCO3=e.preventProduceHCO3)}}]),BigTestTube}();e.exports=BigTestTube},function(e,t,CO2Bottle){"use strict";var a=CO2Bottle(4),i=CO2Bottle(0),n=i(CO2Bottle(1)),r=i(CO2Bottle(2)),o=i(CO2Bottle(7)),s=i(CO2Bottle(5)),l=i(CO2Bottle(6)),h=i(CO2Bottle(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=CO2Bottle(10),d=CO2Bottle(27),p=CO2Bottle(26),f=CO2Bottle(11),I=CO2Bottle(79),g=CO2Bottle(31),m=CO2Bottle(32),y=CO2Bottle(29).getLanType,CO2Bottle=function(){(0,s.default)(CO2Bottle,u);var t=c(CO2Bottle);function CO2Bottle(){var e;return(0,n.default)(this,CO2Bottle),e=t.call(this),g.register(m.SHAKEBOTTLE),e.name="CO2Bottle",e.CNName="二氧化碳瓶",e.z_index=15,e}return(0,r.default)(CO2Bottle,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(CO2Bottle.prototype),"creationComplete",this).call(this),this.shakedWaterSound(),this.isStart=!0,this.currentLiquidVertexUp,this.changePascal=0,this.changeVolume=0,"zh"===y()?this.label.txt.text="二氧化碳\nCO₂":(this.label.txt.text="CO₂",this.label.txt.x=25,this.label.txt.y=13),this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0}),this.removeChild(this.capacityMask),this.medicineData.gasAry.clear();var t=this.root.medicineManager.getMedicineData("CO2"),t=new d(t,.02);this.medicineData.push(t),this.liquidGraBgContainer.mask=this.liquid1.getChildAt(0),this.liquidGraContainer.mask=this.liquid1.getChildAt(0),this.capacityScale=.2,this.liquidGraContainer.addChild(this.waterContainer),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))})}},{key:"update",value:function(e){(0,o.default)((0,h.default)(CO2Bottle.prototype),"update",this).call(this,e);var t,i=this;i.isStart&&(i.currentLiquidVertexUp=i.liquidVertexUp,i.globalScale=Math.pow(i.getViewStack().scale.x,2),i.isStart=!1),i.head.parent!=i&&(i.img.gotoAndStop(0),i.capacityScale=.2,i.liquidGraBgContainer.mask=i.liquid1.getChildAt(0),i.liquidGraContainer.mask=i.liquid1.getChildAt(0),i.currentLiquidVertexUp=i.liquidVertexUp,i.globalScale=Math.pow(i.getViewStack().scale.x,2),i.area=p.getArea(i.currentLiquidVertexUp)/i.globalScale*.2),i.area&&(t=i.medicineData.getGasMol(),e=i.area/1e6,e=(e=8.314*t*I.convertCToK(i.medicineData.gasAry[0].getTemp())/e)>f.PASCAL?f.PASCAL:e,i.changeVolume=i.area-e/f.PASCAL*i.area,i.head.parent==i&&(40<=i.changeVolume?(i.img.gotoAndStop(2),i.capacityScale=.9*.2,i.liquidGraBgContainer.mask=i.liquid3.getChildAt(0),i.liquidGraContainer.mask=i.liquid3.getChildAt(0)):5<=i.changeVolume&&i.changeVolume<45&&(i.img.gotoAndStop(1),i.capacityScale=.19,i.liquidGraBgContainer.mask=i.liquid2.getChildAt(0),i.liquidGraContainer.mask=i.liquid2.getChildAt(0))))}},{key:"shakedWaterSound",value:function(){var n,a,r=this,o=0,s={};this.on(NBDrag.event.PREPARE_DRAG,function(e){n=a=void(o=0);e=e.data.global;s.x=e.x,s.y=e.y}),this.on(NBDrag.event.DRAG_MOVE,function(e){var t,i;r.getCurrentCapacity()<10||(i=(t=e.data.global).x-s.x,e=t.y-s.y,void 0!==n&&(n*i<0||a*e<0)&&2<o++&&(r.shakedSound||(r.shakedSound=g.play(m.SHAKEBOTTLE,null,null,null,-1)),o=0),n=i||n,a=e||a,s.x=t.x,s.y=t.y)}),this.on(NBDrag.event.STOP_DRAG,function(){r.shakedSound&&(r.shakedSound._pause(),r.shakedSound=null)})}}]),CO2Bottle}();e.exports=CO2Bottle},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10),TailNozzle=i(261),p=i(21);e.exports=function(){(0,l.default)(ConicalFlask100ml,d);var t=u(ConicalFlask100ml);function ConicalFlask100ml(){var e;return(0,r.default)(this,ConicalFlask100ml),(e=t.call(this)).top=e.bottom="",e.name="ConicalFlask100ml",e.CNName="锥形瓶100mL",e.z_index=15.1,e.canEditLable=!0,e}return(0,o.default)(ConicalFlask100ml,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(ConicalFlask100ml.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.STOP_DRAG,function(){for(var e=this.getBounds(),t=this.getObjectByAABB(e),i=0;i<t.length;i++)if(t[i]instanceof TailNozzle&&t[i].isConnect){var n=t[i].toGlobal({x:0,y:0}),n=this.root.viewStack.toLocal({x:n.x,y:n.y});TweenMax.to(this,.3,{x:n.x+155,y:n.y+20});break}}),this.canCommandPlug=!0,this.enableRotate(!0,{position:{x:this.localBounds.width+10,y:0},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2}},1),this.label.txt.anchor.x=.5,this.label.txt.x=40}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldConicalFlask",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"getConfigureData",value:function(){var e=(0,s.default)((0,c.default)(ConicalFlask100ml.prototype),"getConfigureData",this).call(this);return this.isOpen||this.holdAnimation||this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(p.getButton(null,"手握",function(){this.hold()}.bind(this),this)),this.holdAnimation&&(this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(p.getButton(null,"松手",function(){this.loose()}.bind(this),this))),e}}]),ConicalFlask100ml}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10),TailNozzle=i(261),p=i(21);e.exports=function(){(0,l.default)(ConicalFlask250ml,d);var t=u(ConicalFlask250ml);function ConicalFlask250ml(){var e;return(0,r.default)(this,ConicalFlask250ml),(e=t.call(this)).top=e.bottom="",e.name="ConicalFlask250ml",e.CNName="锥形瓶250mL",e.canCommandPlug=!0,e.z_index=15.11,e.canEditLable=!0,e}return(0,o.default)(ConicalFlask250ml,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(ConicalFlask250ml.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.STOP_DRAG,function(){for(var e=this.getBounds(),t=this.getObjectByAABB(e),i=0;i<t.length;i++)if(t[i]instanceof TailNozzle&&t[i].isConnect){var n=t[i].toGlobal({x:0,y:0}),n=this.root.viewStack.toLocal({x:n.x,y:n.y});TweenMax.to(this,.3,{x:n.x+120,y:n.y+20,rotation:0});break}}),this.enableRotate(!0,{position:{x:this.localBounds.width+10,y:0},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2}},1),this.label.txt.anchor.x=.5,this.label.txt.x=62.5}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldConicalFlask",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"getConfigureData",value:function(){var e=(0,s.default)((0,c.default)(ConicalFlask250ml.prototype),"getConfigureData",this).call(this);return this.isOpen||this.holdAnimation||this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(p.getButton(null,"手握",function(){this.hold()}.bind(this),this)),this.holdAnimation&&(this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(p.getButton(null,"松手",function(){this.loose()}.bind(this),this))),e}}]),ConicalFlask250ml}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(260),p=i(53),f=i(50);e.exports=function(){(0,l.default)(Crucible,d);var i=u(Crucible);function Crucible(e){var t;return(0,r.default)(this,Crucible),(t=i.call(this)).name="Crucible",t.CNName="坩埚",t.z_index=15.12,e&&(t.dataBuild=e.dataBuild),t.medContainerIndex="top",t._specialFrontChange=!1,t}return(0,o.default)(Crucible,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(Crucible.prototype),"creationComplete",this).call(this),this.init(),this.eqBg&&this.eqBg.parent.setChildIndex(this.eqBg,0),this.pointAry=[{x:-3,y:0},{x:this.width,y:0},{x:this.width+5,y:12},{x:-3,y:12}],this.addChild(this.dishFront),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.dataBuild||this.createCover()}},{key:"init",value:function(){this.ifFrontChange=!1}},{key:"eqAddToViewStack",value:function(){(0,s.default)((0,c.default)(Crucible.prototype),"eqAddToViewStack",this).call(this),this.rotation=0}},{key:"removeBody",value:function(){this.currentBody&&(this.currentBody.set_space(null),this.currentBody=void 0)}},{key:"createBody",value:function(e){e=p.BodyFromArray([e]);e.set_type(f.kinematic),e.set_space(this.engine.space),this.currentBody=e}},{key:"createCover",value:function(){var e=this,t=this.root.execute(NBCommand.ADD_EQUIPMENT,{name:"CrucibleCover"});t.on("creationComplete",function(){t.x=e.x+40,t.y=e.y-1.25,t.addToCrucible()})}},{key:"specialFrontChange",get:function(){return this._specialFrontChange},set:function(e){e?(this._specialFrontChange=!0,this.frontDishChangeAlpha(0)):(this._specialFrontChange=!1,this.dishFront.alpha=.8,this.ifContainerSome()?(this.frontDishChangeAlpha(.25),this.ifFrontChange=!0):(this.frontDishChangeAlpha(1),this.ifFrontChange=!1))}},{key:"update",value:function(e){(0,s.default)((0,c.default)(Crucible.prototype),"update",this).call(this,e),this.specialFrontChange||(this.ifContainerSome()&&!this.ifFrontChange?(this.frontDishChangeAlpha(.25),this.ifFrontChange=!0):!this.ifContainerSome()&&this.ifFrontChange&&(this.frontDishChangeAlpha(1),this.ifFrontChange=!1))}},{key:"ifContainerSome",value:function(){if(this.medicineData){var e=!1;if(this.medicineData.solidAry)for(var t in this.medicineData.solidAry)if(t){e=!0;break}var i=!1;return(i=this.medicineData.liquidAry&&0!=this.medicineData.liquidAry.length?!0:i)||e}return!1}}]),Crucible}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10),p=i(29).getLan;e.exports=function(){(0,l.default)(DirtCup,d);var t=u(DirtCup);function DirtCup(){var e;return(0,r.default)(this,DirtCup),(e=t.call(this)).name="DirtCup",e.CNName="污物杯",e.z_index=5.13,e.noConfig=!0,e.noPascal=!0,e.medicineData.noPush=!0,e.noAddMedicine=!0,e}return(0,o.default)(DirtCup,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(DirtCup.prototype),"creationComplete",this).call(this),this.initText()}},{key:"initText",value:function(){this.selfLabel.txt.text=p("eq_DirtCup"),this.selfLabel.txt.anchor.x=.5,this.selfLabel.txt.anchor.y=.5,this.selfLabel.txt.x=78,this.selfLabel.txt.y=48,125<this.selfLabel.txt.width&&(this.selfLabel.txt.scale.x=125/this.selfLabel.txt.width)}},{key:"addCandle",value:function(e){this.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e]})}},{key:"getConfigureData",value:function(){return{confArr:[]}}}]),DirtCup}()},function(e,t,DistillingFlask){"use strict";var a=DistillingFlask(4),i=DistillingFlask(0),n=i(DistillingFlask(1)),r=i(DistillingFlask(2)),o=i(DistillingFlask(7)),s=i(DistillingFlask(5)),l=i(DistillingFlask(6)),h=i(DistillingFlask(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=DistillingFlask(10),d=DistillingFlask(58),p=DistillingFlask(21),f=PIXI.Point,DistillingFlask=function(){(0,s.default)(DistillingFlask,u);var t=c(DistillingFlask);function DistillingFlask(){var e;return(0,n.default)(this,DistillingFlask),(e=t.call(this)).name="DistillingFlask",e.CNName="蒸馏烧瓶",e.needLimitObjAry=["IronClampSideLook"],e.allowRubberCatheter=!0,e.addedRubber=null,e.z_index=15.13,e.hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e.canCommandPlug=!0,e.pU=new f(125,0),e.pM=new f(125,200),e.addSolidMedPos=new f(125,200),e}return(0,r.default)(DistillingFlask,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(DistillingFlask.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),d.apply(this),this.rubberPos={x:this.localBounds.width+11,y:this.localBounds.height/3-22,rotation:Math.PI/12}}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldFlorenceFlask",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"getConfigureData",value:function(){var e=(0,o.default)((0,h.default)(DistillingFlask.prototype),"getConfigureData",this).call(this);return this.isOpen||this.holdAnimation||this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(p.getButton(null,"手握",function(){this.hold()}.bind(this),this)),this.holdAnimation&&(this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(p.getButton(null,"松手",function(){this.loose()}.bind(this),this))),e}},{key:"canSpoonPour",value:function(){return!this.currentPlug}}]),DistillingFlask}();e.exports=DistillingFlask},function(e,t,DripBoard){"use strict";var a=DripBoard(4),i=DripBoard(0),n=i(DripBoard(1)),r=i(DripBoard(2)),o=i(DripBoard(7)),s=i(DripBoard(5)),l=i(DripBoard(6)),h=i(DripBoard(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=DripBoard(8),d=DripBoard(21),DripBoard=function(){(0,s.default)(DripBoard,u);var t=c(DripBoard);function DripBoard(){var e;return(0,n.default)(this,DripBoard),(e=t.call(this)).name="DripBoard",e.CNName="点滴板",e.z_index=19,e}return(0,r.default)(DripBoard,[{key:"creationComplete",value:function(){var t=this;(0,o.default)((0,h.default)(DripBoard.prototype),"creationComplete",this).call(this),setTimeout(function(){for(var e=0;e<4;e++)t.creatFromRestore?t.removeChild(t["DripHolp".concat(e)]):t.creatDripHolp(e);t.bindChildDripHolp()},0)}},{key:"creatDripHolp",value:function(t){var i=this,n=this,a=this["DripHolp".concat(t)],r=this.root.execute(NBCommand.ADD_EQUIPMENT,{name:"DripHole",index:t});r.on("creationComplete",function(e){n["childDripHolp".concat(t)]=e,r.x=a.x,r.y=a.y,r.scale.x=a.scale.x,r.scale.y=a.scale.y,i.addChild(r),i.removeChild(a)})}},{key:"bindClearEvent",value:function(){NBGesture.addGesture(this.clearBtn,NBGesture.gesture.TAP,function(){})}},{key:"bindChildDripHolp",value:function(){var t=this,i=this,n=setInterval(function(){var e=t.children.filter(function(e){return"DripHole"===e.name});e&&4<=e.length&&(clearInterval(n),e.sort(function(e,t){return 1e3*e.y+e.x-1e3*t.y-t.x}),e.forEach(function(e,t){(i["childDripHolp".concat(t)]=e).dripBoardIndex=t}))},100)}},{key:"clearAll",value:function(){for(var e=0;e<4;e++){var t=this["childDripHolp".concat(e)];t&&t.getCurrentCapacity()&&t.setCurrentCapacity(0)}}},{key:"getConfigureData",value:function(){var e=(0,o.default)((0,h.default)(DripBoard.prototype),"getConfigureData",this).call(this),t=d.getButton("clear","清空",function(){this.clearAll()}.bind(this),this);return e.confArr?e.confArr.push(t):e.confArr=[t],e}},{key:"setJSON",value:function(e){(0,o.default)((0,h.default)(DripBoard.prototype),"setJSON",this).call(this,e),this.creatFromRestore=!0}}]),DripBoard}();e.exports=DripBoard},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10);e.exports=function(){(0,h.default)(DripHole,p);var t=d(DripHole);function DripHole(){var e;return(0,o.default)(this,DripHole),(e=t.call(this)).name="DripHole",e.CNName="点滴孔",e.noChoice=!0,e.consts={FILL_GRA_R:10,FILL_SCALE_X:7.6,FILL_SCALE_Y:3,TOTAL_CAPACITY:5},e._currentCapacity=0,e._mixerColor={color:0,alpha:0},e.isCreationComplete=!1,e}return(0,s.default)(DripHole,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(DripHole.prototype),"creationComplete",this).call(this),this.isCreationComplete=!0,this.initGraphics(),this.backIndex=this.children.length-1,this.capacityScale=this.consts.TOTAL_CAPACITY/this.getTotalCapacity(),setTimeout(function(){NBDrag.removeDrag(e)},0),this.updateWaterGraphics()}},{key:"currentCapacity",get:function(){return this._currentCapacity},set:function(e){e!==this.currentCapacity&&(this._currentCapacity=e,this.updateWaterGraphics())}},{key:"mixerColor",get:function(){return(0,r.default)({},this._mixerColor)},set:function(e){var t;e&&(t=e.color,e=e.alpha,t===this._mixerColor.color&&e===this._mixerColor.alpha||this.updateWaterGraphics(),this._mixerColor.color=t,this._mixerColor.alpha=e)}},{key:"updateWaterGraphics",value:function(){var e,t,i;this.isCreationComplete&&(e=(i=this.getWaterInfo(this.currentCapacity)).per,t=i.color,i=i.alpha,this.drawWaterGraphics(e,t,i))}},{key:"getWaterInfo",value:function(e){var t=0,i=0;return this.mixerColor&&(t=this.mixerColor.color,i=.75*this.mixerColor.alpha),{per:Math.max((void 0===e?this.currentCapacity:e)/this.getTotalCapacity(),0),color:t,alpha:i}}},{key:"initGraphics",value:function(){var e=this.graphicsMask,t=this.waterGraphics=new PIXI.Graphics;t.mask=e.children[0],this.addChild(t),this.liquidGraContainer.visible=!1,this.liquidGraBgContainer.visible=!1}},{key:"drawWaterGraphics",value:function(e,t,i){var n=this.waterGraphics;n.clear(),n.beginFill(t,i),n.drawCircle(0,0,this.consts.FILL_GRA_R),n.endFill(),e&&(n.beginFill(16777215,.2),n.drawCircle(0,0,this.consts.FILL_GRA_R),n.endFill()),n.scale.set(this.consts.FILL_SCALE_X*e,this.consts.FILL_SCALE_Y*e)}},{key:"addNBGraphic",value:function(){}},{key:"canSpoonPour",value:function(){return!1}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(DripHole.prototype),"toJSON",this).call(this),{mixerColor:this.mixerColor})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(DripHole.prototype),"setJSON",this).call(this,e),this.mixerColor=e.mixerColor,this.updateWaterGraphics()}}]),DripHole}()},function(e,t,DroppingFunnel){"use strict";var a=DroppingFunnel(4),i=DroppingFunnel(0),n=i(DroppingFunnel(9)),r=i(DroppingFunnel(1)),o=i(DroppingFunnel(2)),s=i(DroppingFunnel(7)),l=i(DroppingFunnel(5)),h=i(DroppingFunnel(6)),c=i(DroppingFunnel(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var DroppingFunnelWithBalancedPressure=DroppingFunnel(392),d=DroppingFunnel(21),p=DroppingFunnel(393),DroppingFunnel=function(){(0,l.default)(DroppingFunnel,DroppingFunnelWithBalancedPressure);var t=u(DroppingFunnel);function DroppingFunnel(){var e;return(0,r.default)(this,DroppingFunnel),(e=t.call(this)).autoHideInfo=!0,e.noPascal=!0,e.name="DroppingFunnel",e.CNName="滴液漏斗",e.removeAry=[],e.z_index=15.262,e.hitObjProp={DistillingFlask:{x:122,y:-460,rotation:0},RoundBottomFlask:{x:122,y:-460,rotation:0},FlorenceFlask:{x:113,y:-460,rotation:0},ThreeNeckedFlask:{area0:{x:-181,y:-337,rotation:0},area1:{x:224.5,y:-447,rotation:0},area2:{x:630,y:-337,rotation:0}}},e}return(0,o.default)(DroppingFunnel,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(DroppingFunnel.prototype),"creationComplete",this).call(this),this.head.reversal=function(){e.setHeadDir(!e.head.isOpen)},this.reversalType=0}},{key:"setSwitch",value:function(){var e=this;(0,s.default)((0,c.default)(DroppingFunnel.prototype),"setSwitch",this).call(this),this.headSwitchButton=new p(this,{x:-115,y:-380}),this.headSwitchButton.setEnabled(!0),this.on(NBEvent.SHOW_WHOLE_BUTTON,function(){e.headSwitchButtonShow()}),this.head.on(NBDrag.event.START_DRAG,function(){e.headSwitchButton.setEnabled(!1)})}},{key:"headSwitchButtonShow",value:function(){this.hasHole&&this.isCovered()?(this.headSwitchButton.setEnabled(!0),this.headSwitchButton.showButton()):this.headSwitchButton.setEnabled(!1)}},{key:"isCovered",value:function(){if(this.head)return this.head.parent===this}},{key:"setHasHole",value:function(e){var t=this.hole,i=this.head;this.hasHole!==e&&(e?(t.alpha=1,i.gotoAndStop(1),this.isCovered()&&(this.headSwitchButton.setEnabled(!0),this.headSwitchButton.showButton())):(t.alpha=0,i.gotoAndStop(0),this.headSwitchButton.setEnabled(!1),this.headSwitchButton.hideButton()),this.hasHole=e)}},{key:"setHeadDir",value:function(e){var t;this.head.isOpen!==e&&this.hasHole&&this.head.parent===this&&(t=this.head,e?(t.gotoAndStop(2),t.isOpen=!0):!1===e&&(t.gotoAndStop(1),t.isOpen=!1))}},{key:"checkCandrop",value:function(){return this.tubeDrip.timeLength<this.maxTimeLength&&(!1===this.isCovered()||this.head.isOpen)&&1e-7<this.getCurrentCapacity()&&this.tubeDrip.checkPascal.call(this.tubeDrip)}},{key:"reversal",value:function(){this.reversalType=1-this.reversalType;var e=1===this.reversalType;this.main.scale.x=this.ani.scale.x=e?-1:1,this.ani.x=this.main.x+(e?-16.1:16.1),this.movePortraitSwitchButton.oldBtnPos.x=e?-155:160,this.movePortraitSwitchButton.btnPosition.x=this.movePortraitSwitchButton.oldBtnPos.x,this.movePortraitSwitchButton.oriBtnPosition.x=this.movePortraitSwitchButton.oldBtnPos.x,this.movePortraitSwitchButton.changeType(e?"left":"right"),this.movePortraitSwitchButton.setBtnPosition()}},{key:"getConfigureData",value:function(){var e=(0,s.default)((0,c.default)(DroppingFunnel.prototype),"getConfigureData",this).call(this);return(e=!e||!e.confArr?{confArr:[]}:e).confArr.push(d.getRadio("方向",1-this.reversalType,["左","右"],function(e){this.reversalType=e,this.reversal()}.bind(this),this)),e.confArr.push(d.getRadio("器材类型",this.hasHole?1:0,["无孔","有孔"],function(e){this.setHasHole(!!e)}.bind(this),this)),e}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(DroppingFunnel.prototype),"toJSON",this).call(this),{_hasHole:this.hasHole,headOpen:this.head.isOpen,reversalType:this.reversalType})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(DroppingFunnel.prototype),"setJSON",this).call(this,e),e._hasHole&&(this.setHasHole(e._hasHole),this.headSwitchButton.hideButton()),e.headOpen&&this.setHeadDir(e.headOpen),e.reversalType&&this.reversal()}}]),DroppingFunnel}();e.exports=DroppingFunnel},function(e,t,DryingBottle){"use strict";var a=DryingBottle(4),i=DryingBottle(0),n=i(DryingBottle(9)),r=i(DryingBottle(1)),o=i(DryingBottle(2)),s=i(DryingBottle(7)),l=i(DryingBottle(5)),h=i(DryingBottle(6)),c=i(DryingBottle(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=DryingBottle(10),p=DryingBottle(33),f=DryingBottle(79),I=DryingBottle(11),g=DryingBottle(29).getLan,DryingBottle=function(){(0,l.default)(DryingBottle,d);var i=u(DryingBottle);function DryingBottle(e){var t;return(0,r.default)(this,DryingBottle),(t=i.call(this)).name="DryingBottle",t.CNName="浓硫酸干燥瓶",t.canCommandPlug=!0,t.dataBuild=!1,t.z_index=15.01,t.preventCalEffect=!0,e&&(t.dataBuild=e.dataBuild),t}return(0,o.default)(DryingBottle,[{key:"creationComplete",value:function(){var e,t,i;(0,s.default)((0,c.default)(DryingBottle.prototype),"creationComplete",this).call(this),this.capacityScale=.407,this.label.txt.text=g("H2SO4_conc"),this.label.txt.x=(140-this.label.txt.width)/2,this.dataBuild||(this.createMedicine(),this.autoAddPlug(),e=(this.getTotalCapacity()-this.medicineData.getCapacity())/1e6*I.PASCAL/(I.R*f.convertCToK(I.DEFAULT_TEMP)),t=.2*e,i=.8*e,this.medicineData.gasAry.forEach(function(e){"O2"===e.name&&e.setMol(t),"N2"===e.name&&e.setMol(i)}))}},{key:"createMedicine",value:function(){var e=this.root.medicineManager.getMedicineData("H2SO4"),t=this.root.medicineManager.getMedicineData("H2O"),e=new p(e,3.1),t=new p(t,.39594581794070327);this.currentH2O=.39594581794070327,this.medicineData.push(t),this.medicineData.push(e)}},{key:"update",value:function(e){if(this.currentH2O<18){for(var t=this.medicineData,i=0;i<t.gasAry.length;i++){var n=t.gasAry[i];if("H2O"===n.name&&0<n.mol){this.medicineData.push(new p(this.root.medicineManager.getMedicineData("H2O"),.1*n.mol)),t.gasAry.splice(i,1);break}}for(var a=0;a<t.liquidAry.length;a++){var r=t.liquidAry[a];if("H2O"===r.name){this.currentH2O=r.mol;break}}}(0,s.default)((0,c.default)(DryingBottle.prototype),"update",this).call(this,e)}},{key:"canSpoonPour",value:function(){return!1}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(DryingBottle.prototype),"setJSON",this).call(this,e),void 0!==e.currentH2O?this.currentH2O=e.currentH2O:this.currentH2O=0}},{key:"toJSON",value:function(){var e={};return e.currentH2O=this.currentH2O,(0,n.default)(e,(0,s.default)((0,c.default)(DryingBottle.prototype),"toJSON",this).call(this))}}]),DryingBottle}();e.exports=DryingBottle},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var UTubeWithSideNeck=i(394);e.exports=function(){(0,l.default)(ElectrolysisUTubeWithSideNeck,UTubeWithSideNeck);var t=u(ElectrolysisUTubeWithSideNeck);function ElectrolysisUTubeWithSideNeck(){var e;return(0,r.default)(this,ElectrolysisUTubeWithSideNeck),(e=t.call(this)).name="ElectrolysisUTubeWithSideNeck",e.CNName="电解具支U型管",e}return(0,o.default)(ElectrolysisUTubeWithSideNeck,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(ElectrolysisUTubeWithSideNeck.prototype),"creationComplete",this).call(this)}}]),ElectrolysisUTubeWithSideNeck}()},function(e,t,ElectrolyticContainer){"use strict";var a=ElectrolyticContainer(4),i=ElectrolyticContainer(0),n=i(ElectrolyticContainer(9)),r=i(ElectrolyticContainer(1)),o=i(ElectrolyticContainer(2)),s=i(ElectrolyticContainer(7)),l=i(ElectrolyticContainer(5)),h=i(ElectrolyticContainer(6)),c=i(ElectrolyticContainer(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=ElectrolyticContainer(10),p=ElectrolyticContainer(21),f=["NaOH","H2SO4"],I=["NaOH","H₂SO₄"],ElectrolyticContainer=function(){(0,l.default)(ElectrolyticContainer,d);var t=u(ElectrolyticContainer);function ElectrolyticContainer(){var e;return(0,r.default)(this,ElectrolyticContainer),(e=t.call(this)).name="ElectrolyticContainer",e.CNName="燃料电池容器",e.z_index=15.27,e.currentMed="",e}return(0,o.default)(ElectrolyticContainer,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(ElectrolyticContainer.prototype),"creationComplete",this).call(this),this.setCurrentMed(0)}},{key:"setCurrentMed",value:function(e){var t=f[e];t&&(this.setCurrentCapacity(0),this.medicineData.push(new LiquidVO(this.root.medicineManager.getMedicineData("H2O"),80)),this.medicineData.push(new LiquidVO(this.root.medicineManager.getMedicineData(t),.8)),this.setLabelText(I[e],""),this.currentMed=t)}},{key:"getConfigureData",value:function(){var e={confArr:[]},t=I;return e.confArr.push(p.getRadio("溶质",f.indexOf(this.currentMed),t,function(e){this.setCurrentMed(e)}.bind(this),this)),e}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(ElectrolyticContainer.prototype),"toJSON",this).call(this),{_currentMed:this.currentMed,_gasL:this.gasL?this.gasL.getUUID():void 0,_gasR:this.gasL?this.gasR.getUUID():void 0,_electrodeL:this.electrodeL?this.electrodeL.getUUID():void 0,_electrodeR:this.electrodeR?this.electrodeR.getUUID():void 0})}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(ElectrolyticContainer.prototype),"setJSON",this).call(this,e),this.visible=!1;var i=this;e._currentMed&&this.setCurrentMed(f.indexOf(e._currentMed)),e._gasL&&this.getEquipmentByUUID(e._gasL).then(function(e){(t.gasL=e).visible=!1,a(e)}),e._gasR&&this.getEquipmentByUUID(e._gasR).then(function(e){(t.gasR=e).visible=!1,a(e)}),e._electrodeL&&this.getEquipmentByUUID(e._electrodeL).then(function(e){(t.electrodeL=e).visible=!1,a(e)}),e._electrodeR&&this.getEquipmentByUUID(e._electrodeR).then(function(e){(t.electrodeR=e).visible=!1,a(e)});var n=0;function a(e){e.visible=!0,e.interactive=!1,NBDrag.removeDrag(e),4<=(n+=1)&&(i.visible=!0)}}}]),ElectrolyticContainer}();e.exports=ElectrolyticContainer},function(e,t,ExhaledBreath){"use strict";var a=ExhaledBreath(4),i=ExhaledBreath(0),o=i(ExhaledBreath(9)),n=i(ExhaledBreath(1)),r=i(ExhaledBreath(2)),s=i(ExhaledBreath(7)),l=i(ExhaledBreath(5)),h=i(ExhaledBreath(6)),c=i(ExhaledBreath(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=ExhaledBreath(109),p=ExhaledBreath(74),f=ExhaledBreath(11),I=ExhaledBreath(108),g=ExhaledBreath(27),m=ExhaledBreath(16),y=["N2","O2","CO2"],v=[.8,.01,.19],ExhaledBreath=function(){(0,l.default)(ExhaledBreath,d);var i=u(ExhaledBreath);function ExhaledBreath(e){var t;return(0,n.default)(this,ExhaledBreath),(t=i.call(this)).name="ExhaledBreath",t.CNName="吹气仪",t.isBaseGasMedicineInGasBag=!0,t.allowRubberCatheter=!0,t.addedRubber=null,t.totalGasMol=2,t.z_index=15.4,t.noConfig=!0,t.rubberPos={x:275,y:10,rotation:0},e&&(t.dataBuild=e.dataBuild),t}return(0,r.default)(ExhaledBreath,[{key:"_switchIsOpen_",get:function(){return 0<this.releaseGas}},{key:"creationComplete",value:function(){this.startBtn.allowGetBounds=!1,this.human.allowGetBounds=!1,this.human.interactive=!1,(this.human.visible=!1,s.default)((0,c.default)(ExhaledBreath.prototype),"creationComplete",this).call(this),this.releaseGas=0,this.dataBuild||this.initRubberAndCather(),this.addListeners(),this.initTxtStyle(),this.initGasMedicine()}},{key:"initRubberAndCather",value:function(){var t=this,i=this.execute(I.CREATE_EQUIPMENT,"RubberCatheter"),n=this.execute(I.CREATE_EQUIPMENT,"GasTailGlassCatheter"),a=!1,r=!1;i.on("creationComplete",function(){a=!0,t.addedRubber=i.leftHead,i.leftHead.equipment=t,i.leftHead.x=t.rubberPos.x,i.leftHead.y=t.rubberPos.y;var e=t.getViewStack().toLocal(t.rubberPos,t);i.rightHead.x=e.x+200,i.rightHead.y=e.y+55,i.rightHead.rotation=Math.PI/2,t.addChild(i.leftHead),t.getViewStack().addChild(i),r&&t.completeHandler(n,i.rightHead,i)}),n.on("creationComplete",function(){r=!0;var e=t.getViewStack().toLocal(t.rubberPos,t);n.x=e.x+187,n.y=e.y+88,a&&t.completeHandler(n,i.rightHead,i),p.addDrag(n)})}},{key:"completeHandler",value:function(e,t,i){e.addChild(t),((t._equipment=e).addedRubber=t).x=e.rubberPos.x,t.y=e.rubberPos.y,(i.addedNode[1]=e).emit("appendEquipment",i);t=this.getViewStack();t.addChildAt(i,0),t.addChild(e)}},{key:"initTxtStyle",value:function(){this.startBtn.txt.x=0,this.startBtn.txt.y=0,this.startBtn.txt2.x=0,this.startBtn.txt2.y=0,this.startBtn.txt.anchor.x=.5,this.startBtn.txt.anchor.y=.5,this.startBtn.txt2.anchor.x=.5,this.startBtn.txt2.anchor.y=.5}},{key:"initGasMedicine",value:function(){this.medicineData.gasAry.clear();for(var e=0;e<y.length;e++)this.medicineData.push(new g(this.root.medicineManager.medData[y[e]],this.totalGasMol*v[e]))}},{key:"allowPourLiquid",value:function(){return this.head.parent!==this}},{key:"addListeners",value:function(){var a=this;NBGesture.addGesture(this.startBtn,NBGesture.gesture.TAP,this.changeStatus.bind(this)),m.addMouseEvent(this.root.mouseManager,this.startBtn,m.status.PAN),this.addEventListener(NBEvent.del.PREPARE_DELETE,function(){a.addedRubber&&(a.addedRubber.equipment=null,a.getViewStack().eqLayer.addChildWithSamePos(a.addedRubber),a.addedRubber=null)});var r={};this.on(p.event.PREPARE_DRAG,function(e){(0,o.default)(r,e.data.global)}),this.on(p.event.DRAG_MOVE,function(e){var t,i,n=e.data.global;a.addedRubber&&!a.addedRubber.brother.equipment&&(t=a.addedRubber.brother,i=a.getViewStack().scale.x,t.x+=(n.x-r.x)/i,t.y+=(n.y-r.y)/i),(0,o.default)(r,e.data.global)})}},{key:"update",value:function(e){if((0,s.default)((0,c.default)(ExhaledBreath.prototype),"update",this).call(this,e),this.medicineData&&0!==this.medicineData.gasAry.length&&this.liquidVertexUp&&this._switchIsOpen_){this.hasReact=2;for(var t=0;t<this.medicineData.gasAry.length;t++){var i=this.medicineData.gasAry[t];i.setMol((v[y.indexOf(i.name)]||0)*this.totalGasMol),i.setTemp(f.DEFAULT_TEMP)}this.medicineData.liquidAry.clear()}}},{key:"changeStatus",value:function(){0<this.releaseGas?(this.releaseGas=0,this.startBtn.gotoAndStop(0),this.human.alpha=0,this.human.interactive=!1,this.human.visible=!1):(this.releaseGas=f.MAX_RELEASE_GAS,this.startBtn.gotoAndStop(1),this.human.alpha=1,this.human.interactive=!0,this.human.visible=!0)}},{key:"toJSON",value:function(){var e=(0,s.default)((0,c.default)(ExhaledBreath.prototype),"toJSON",this).call(this);return e.isBlowing=this._switchIsOpen_,e}},{key:"setJSON",value:function(e){return e.isBlowing&&this.changeStatus(),(0,s.default)((0,c.default)(ExhaledBreath.prototype),"setJSON",this).call(this,e)}}]),ExhaledBreath}();e.exports=ExhaledBreath},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var RoundBottomFlask=i(262);e.exports=function(){(0,s.default)(FlorenceFlask,RoundBottomFlask);var t=c(FlorenceFlask);function FlorenceFlask(){var e;return(0,o.default)(this,FlorenceFlask),(e=t.call(this)).name="FlorenceFlask",e.CNName="平底烧瓶",e.z_index=15.25,e}return(0,r.default)(FlorenceFlask)}()},function(e,t,FunnelBig){"use strict";var a=FunnelBig(4),i=FunnelBig(0),n=i(FunnelBig(1)),r=i(FunnelBig(2)),o=i(FunnelBig(7)),s=i(FunnelBig(5)),l=i(FunnelBig(6)),h=i(FunnelBig(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=FunnelBig(10),d=FunnelBig(126),p=FunnelBig(80),f=FunnelBig(53),I=FunnelBig(50),QualitativeFilterPaper=FunnelBig(201),g=FunnelBig(18),m=PIXI.Point,FunnelBig=function(){(0,s.default)(FunnelBig,d);var t=c(FunnelBig);function FunnelBig(){var e;return(0,n.default)(this,FunnelBig),(e=t.call(this)).autoHideInfo=!0,e._fixedType=2,e.isFunnel=!0,e.name="FunnelBig",e.CNName="三角漏斗",e.z_index=19.05,e.pU=new m(134,-10),e.pM=new m(134,10),e.addSolidMedPos=new m(134,50),e}return(0,r.default)(FunnelBig,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(FunnelBig.prototype),"creationComplete",this).call(this),this.drop.alpha=0,this.capacityMask.alpha=0,this.tubeDrip=new p(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y+24},2e3,.2,.1,u),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.allowRubberCatheter=!0,this.rubberPos={x:135,y:390,rotation:Math.PI/2},this.addedRubber=null,this.setEnableRotate(!0),this.paper=null,this.medicineData.oriPush=this.medicineData.push}},{key:"setEnableRotate",value:function(e){this.enableRotate(e,{position:{x:this.localBounds.width/2+10,y:0},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2}},1)}},{key:"addMedicine",value:function(e,t,i,n){this.paper&&(e instanceof LiquidVO||e instanceof DissolveVO)&&this.paper.medicineData.getLiquidCapacity()<this.paper.maxVol?this.paper.addMedicine(e):(0,o.default)((0,h.default)(FunnelBig.prototype),"addMedicine",this).call(this,e,t,i,n)}},{key:"changePaperIndex",value:function(){var e,t=this.children.length-1,i=this.getChildByTypeResuly(QualitativeFilterPaper);for(e in i)i[e].alpha=.8,this.setChildIndex(i[e],t),t=0<=t-1?t-1:0}},{key:"createFunnelBottom",value:function(){var e;this.currentBody||(e=[{x:(e=this.funnelbottom).x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],this.createBody(e))}},{key:"removeBody",value:function(){this.currentBody&&(this.currentBody.set_space(null),this.currentBody=null)}},{key:"createBody",value:function(e){e=f.BodyFromArray([e]);e.set_type(I.kinematic),e.set_space(this.engine.space),this.currentBody=e}},{key:"update",value:function(e){(0,o.default)((0,h.default)(FunnelBig.prototype),"update",this).call(this,e);var t,i=this.children,n=!1;for(t in i){var a=i[t];if(a instanceof QualitativeFilterPaper){n=!0,this.paper=a;break}}!n&&this.paper&&(this.paper.takeFunnelSolid(this),this.paper=null,this.removeBody());e=g.retrieveRotation(this.transform.worldTransform);1.3<Math.abs(e)?this.stopTubeDrip=!0:this.stopTubeDrip=!1,0<this.getCurrentCapacity()&&!1===this.tubeDrip.isDripping&&!this.stopTubeDrip&&!this.addedRubber?this.tubeDrip.isDripping=!0:this.tubeDrip.isDripping=!1,this.hasFiltePaper?this.tubeDrip.timeLength=.01:this.tubeDrip.timeLength=.001}}]),FunnelBig}();e.exports=FunnelBig},function(e,t,FunnelSmall){"use strict";var a=FunnelSmall(4),i=FunnelSmall(0),n=i(FunnelSmall(1)),r=i(FunnelSmall(2)),I=i(FunnelSmall(7)),o=i(FunnelSmall(5)),s=i(FunnelSmall(6)),g=i(FunnelSmall(3));function l(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,g.default)(i);return t=n?(e=(0,g.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var h=FunnelSmall(126),c=FunnelSmall(80),m=FunnelSmall(10),u=FunnelSmall(53),d=FunnelSmall(50),y=FunnelSmall(31),v=FunnelSmall(32),QualitativeFilterPaper=FunnelSmall(201),p=PIXI.Point,FunnelSmall=function(){(0,o.default)(FunnelSmall,h);var t=l(FunnelSmall);function FunnelSmall(){var e;return(0,n.default)(this,FunnelSmall),(e=t.call(this)).autoHideInfo=!0,e._fixedType=2,e.isFunnel=!0,e.name="FunnelSmall",e.CNName="小号三角漏斗",e.z_index=19.06,y.register(v.BUBBLING),e.pU=new p(85,-20),e.pM=new p(85,0),e.addSolidMedPos=new p(85,0),e}return(0,r.default)(FunnelSmall,[{key:"creationComplete",value:function(){this.capacityScale=.5,(0,I.default)((0,g.default)(FunnelSmall.prototype),"creationComplete",this).call(this),this.drop.alpha=0,this.particle=ParticleUtil.getParticle(ParticleUtil.particles.gas_collecting_bottle_bubble),this.tubeDrip=new c(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y+24},2e3,.2,.1,m),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.allowRubberCatheter=!0,this.rubberPos={x:83,y:250,rotation:Math.PI/2},this._addedRubber=null,this._needBackflow=!1,this.enableRotate(!0,{position:{x:this.localBounds.width/2+10,y:0},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2}},1),this.paper=null,this.medicineData.oriPush=this.medicineData.push}},{key:"needBackflow",get:function(){return this._needBackflow},set:function(e){e?(this.tubeDrip.isDripping=!1,this.tubeDrip.timeLength=0,this.isFunnel=!1,this.cannotRubberLos=!1):this.isFunnel=!0,this._needBackflow=e}},{key:"addedRubber",get:function(){return this._addedRubber},set:function(e){e&&(this.tubeDrip.isDripping=!1,this.tubeDrip.timeLength=0),this._addedRubber=e}},{key:"createFunnelBottom",value:function(){var e;this.currentBody||(e=[{x:(e=this.funnelbottom).x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],this.createBody(e))}},{key:"changePaperIndex",value:function(){var e,t=this.children.length-1,i=this.getChildByTypeResuly(QualitativeFilterPaper);for(e in i)i[e].alpha=.8,this.setChildIndex(i[e],t),t=0<=t-1?t-1:0}},{key:"addMedicine",value:function(e,t,i,n){this.paper&&(e instanceof LiquidVO||e instanceof DissolveVO)&&this.paper.medicineData.getLiquidCapacity()<this.paper.maxVol?this.paper.addMedicine(e):(0,I.default)((0,g.default)(FunnelSmall.prototype),"addMedicine",this).call(this,e,t,i,n)}},{key:"removeBody",value:function(){this.currentBody&&(this.currentBody.set_space(null),this.currentBody=void 0)}},{key:"createBody",value:function(e){e=u.BodyFromArray([e]);e.set_type(d.kinematic),e.set_space(this.engine.space),this.currentBody=e}},{key:"update",value:function(e){(0,I.default)((0,g.default)(FunnelSmall.prototype),"update",this).call(this,e);var t,i=this,n=this.children,a=!1;for(t in n){var r=n[t];if(r instanceof QualitativeFilterPaper){a=!0,this.paper=r;break}}if(!a&&this.paper&&(this.removeBody(),this.paper.takeFunnelSolid(this),this.paper=null),this.paper&&this.paper.medicineData.getLiquidCapacity()<this.paper.maxVol?this.medicineData.push=function(e){i.paper.medicineData.push(e)}:this.medicineData.push=this.medicineData.oriPush,this.particle.loaded&&!this.changedParticle&&(this.particle.particle.spawnRect.width=this.localBounds.width,this.changedParticle=!0),this.lasPascal=this.lasPascal||this.pascal,this.rotation===Math.PI&&this.parent&&this.parent.liquidVertex&&this.parent instanceof m){var o=this.localBounds,s=this.getViewStack().toLocal({x:o.x,y:o.y},this).y,l=this.getViewStack().toLocal({x:o.x+o.width/2,y:o.y+o.height},this).y,h=this.medicineData.pascalAllLines&&this.medicineData.pascalAllLines.find(function(e){return!0===e[e.length-1]});if(this.particle&&this.gasLeakage&&0<this.gasLeakage.length&&this.getCurrentCapacity()<=1.5&&!h){for(var h=this.getViewStack().toLocal(this.parent.liquidVertex[0]).y,c=0,u=this.parent.medicineData.liquidAry.find(function(e){return"NaOH"===e.name&&1e-5<e.mol}),d=0;d<this.gasLeakage.length;d++){var p=this.gasLeakage[d];u&&("HBr"===p.name||"HCl"===p.name||"SO2"===p.name)||(c+=p.mol||p.getMol()||0)}if(h<s&&l<h&&2e-8<c){this.parent.waterContainer.addChild(this.particle),this.gasLeakage&&(this.gasLeakage.length=0),this.particle.visible=!0,this.particle.render(),this.wideBubbleSound||(this.wideBubbleSound=y.play(v.BUBBLING,null,null,null,-1)),this.wideBubbleSound.play();for(var f=0;f<this.medicineData.liquidAry.length;f++)this.medicineData.liquidAry[f].mol<=0&&(this.medicineData.liquidAry.splice(f,1),f--);o=this.parent.toLocal(this.toGlobal({x:o.x+o.width,y:o.y}));this.particle.y=o.y,this.particle.x=o.x}else this.parent.waterContainer.removeChild(this.particle),this.wideBubbleSound&&(this.wideBubbleSound._pause(),this.wideBubbleSound=void 0);h<l&&!this.addedRubber&&s<h&&2e-7<c?this.bubbleParticle?this.bubbleParticle.particleRemoved?(this.bubbleParticle.destroy(!0),this.bubbleParticle=null):((h=this.parent.toLocal(this.toGlobal(this.rubberPos))).rotation=-MatrixUtil.retrieveRotation(this.parent.worldTransform),this.bubbleParticle.updateMedicine(this.gasLeakage,c,h),this.bubbleParticle.render(e),this.gasLeakage&&(this.gasLeakage.length=0)):this.bubbleParticle=new TubeBubble(this.parent.waterContainer,void 0,this):this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null)}else this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null),this.parent.waterContainer===this.particle.parent&&(this.parent.waterContainer.removeChild(this.particle),this.wideBubbleSound&&(this.wideBubbleSound._pause(),this.wideBubbleSound=void 0))}else this.particle.visible&&(this.particle.visible=!1),this.wideBubbleSound&&(this.wideBubbleSound._pause(),this.wideBubbleSound=void 0),this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null);this.lasPascal=this.pascal,this.needBackflow||this.addedRubber||(!(0<this.getCurrentCapacity()&&Math.abs(this.rotation)<Math.PI/2)||this.parent&&this.parent.isBaseContainer&&this.toGlobal(this.tubeDrip.startPos).y<=this.parent.liquidVertex[0].y||this.parent.pascal>1.01*nb.PASCAL?this.tubeDrip.isDripping=!1:!1===this.tubeDrip.isDripping&&(this.tubeDrip.isDripping=!0),this.hasFiltePaper?this.tubeDrip.timeLength=1:this.tubeDrip.timeLength=.1)}}]),FunnelSmall}();e.exports=FunnelSmall},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10);e.exports=function(){(0,l.default)(GasBottle,d);var t=u(GasBottle);function GasBottle(){var e;return(0,r.default)(this,GasBottle),(e=t.call(this)).name="GasBottle",e}return(0,o.default)(GasBottle,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(GasBottle.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack)}}]),GasBottle}()},function(e,t,GasCollectingBottleOfDivide){"use strict";var a=GasCollectingBottleOfDivide(4),i=GasCollectingBottleOfDivide(0),n=i(GasCollectingBottleOfDivide(9)),r=i(GasCollectingBottleOfDivide(59)),o=i(GasCollectingBottleOfDivide(1)),s=i(GasCollectingBottleOfDivide(2)),l=i(GasCollectingBottleOfDivide(7)),h=i(GasCollectingBottleOfDivide(5)),c=i(GasCollectingBottleOfDivide(6)),u=i(GasCollectingBottleOfDivide(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var GasCollectingBottle=GasCollectingBottleOfDivide(397),p=GasCollectingBottleOfDivide(26),f=GasCollectingBottleOfDivide(31),I=GasCollectingBottleOfDivide(32),g=GasCollectingBottleOfDivide(21),GasCollectingBottleOfDivide=function(){(0,h.default)(GasCollectingBottleOfDivide,GasCollectingBottle);var t=d(GasCollectingBottleOfDivide);function GasCollectingBottleOfDivide(){var e;return(0,o.default)(this,GasCollectingBottleOfDivide),(e=t.call(this)).top=e.bottom="",e.capacityScale=.806,e.name="GasCollectingBottleOfDivide",e.CNName="五等分集气瓶",e.needLimitObjAry=[],f.register(I.PUTINWATER),f.register(I.BUBBLING),e.canCommandPlug=!0,e.isGasBottle=!0,e.z_index=15.151,e.canEditLable=!0,e.forbidRotate=!0,e.lastDivideCapacity=0,e.setDivideByData=!1,e}return(0,s.default)(GasCollectingBottleOfDivide,[{key:"initPartLine",value:function(){this.partLine=new PIXI.Graphics;var e=this.children.indexOf(this.label);this.addChildAt(this.partLine,e-1),this.partLine.x=this.localBounds.x+this.localBounds.width/2}},{key:"showPartLine",get:function(){return this._showPartLine},set:function(e){this._showPartLine=e}},{key:"enableRotate",value:function(e,t,i){1!==i&&(0,l.default)((0,u.default)(GasCollectingBottleOfDivide.prototype),"enableRotate",this).call(this,e,t,i)}},{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(GasCollectingBottleOfDivide.prototype),"creationComplete",this).call(this),this.initPartLine()}},{key:"pushSmokeMedicine",value:function(e){var t;this.smokeMedicine[e.name]?(t=this.smokeMedicine[e.name].getMol()+e.getMol(),this.smokeMedicine[e.name].setMol(t)):this.smokeMedicine[e.name]=e}},{key:"addAsbType",value:function(){var e=this.currentHitObj;e&&"AsbestosFreeWireGauze"===e.name&&(this.addedInAsb=!0,this.isCoverGS=!0,e.currentChildHitObj=this)}},{key:"releaseSmokeMedicine",value:function(){var e,t="releaseBottle";for(e in this.currentHitObj&&"AsbestosFreeWireGauze"===this.currentHitObj.name&&(t="releaseAsb"),this.smokeMedicine){var i=this.smokeMedicine[e];switch(t){case"releaseBottle":this.medicineData.push(i),this.addMedicine(i);break;case"releaseAsb":this.currentHitObj.addProduct(i)}}}},{key:"hitGasLib",value:function(){}},{key:"checkRemoveAsb",value:function(){this.addedInAsb&&(this.isCoverGS=!1,this.addedInAsb=!1)}},{key:"checkCottonBurn",value:function(){this.curCotton&&this.curCotton.checkBurn()}},{key:"divideGasArea",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=[];0!==this.rotation&&(this.rotation=0,this.calculateLiquid(!0)),t.push(this.toLocal(this.liquidVertex[0]).y);for(var i=Math.pow(this.getViewStack().scale.x,2),n=e||(this.getTotalCapacity()-this.getCurrentCapacity())/5/this.capacityScale*.99,a=this.liquidVertexUp,r=1;r<5;r++){var o=p.getAABB(a),o=p.iterator(a,o,n,i);if(!o||!o[0])break;if(t.push(this.toLocal(o[0]).y),4!==r){o=p.getDivideSpace(a,o[0],o[o.length-1]);if(!o||!o.up)break;a=o.up}}5===t.length&&(this.drawPartLine(t),this.lastDivideCapacity=n)}},{key:"drawPartLine",value:function(e){this.partLine.clear(),this.partLine.lineStyle(4,16711680,.9);for(var t=0;t<e.length;t++){var i=e[t];this.partLine.moveTo(-40,i),this.partLine.lineTo(40,i)}}},{key:"update",value:function(e){(0,l.default)((0,u.default)(GasCollectingBottleOfDivide.prototype),"update",this).call(this,e),this.setDivideByData&&(this.divideGasArea(this.lastDivideCapacity),this.setDivideByData=!1)}},{key:"toJSON",value:function(){var e={};return this.lastDivideCapacity&&(e.lastDivideCapacity=this.lastDivideCapacity),(0,n.default)(e,(0,l.default)((0,u.default)(GasCollectingBottleOfDivide.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(GasCollectingBottleOfDivide.prototype),"setJSON",this).call(this,e),e.lastDivideCapacity&&(this.setDivideByData=!0)}},{key:"clearMed",value:function(){for(var e in this.blockMedicineMap.forEach(function(e){e&&0<e.size&&(0,r.default)(e).forEach(function(e){e.clear(),e.destroy()})}),this.medicineNBGraphicMap.forEach(function(e){e&&0<e.size&&(0,r.default)(e).forEach(function(e){e.destroy()})}),this.medicineNBGraphicMap.clear(),this.setCurrentCapacity(0),this.medicineData.solidAry)this.medicineData.solidAry.hasOwnProperty(e)&&delete this.medicineData.solidAry[e];for(var t=this.medicineData.gasAry.length-1;0<=t;t--)this.medicineData.gasAry[t].setMol(0);this.initStuffAir()}},{key:"getConfigureData",value:function(){var e=(0,l.default)((0,u.default)(GasCollectingBottleOfDivide.prototype),"getConfigureData",this).call(this);return e.confArr.push(g.getButton("divide","五等分",this.divideGasArea.bind(this),this)),e.confArr.push(g.getButton("clear","清空",this.clearMed.bind(this),this)),e}}]),GasCollectingBottleOfDivide}();e.exports=GasCollectingBottleOfDivide},function(e,t,GeiserBurette){"use strict";var a=GeiserBurette(4),i=GeiserBurette(0),n=i(GeiserBurette(1)),r=i(GeiserBurette(2)),o=i(GeiserBurette(7)),s=i(GeiserBurette(5)),l=i(GeiserBurette(6)),h=i(GeiserBurette(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=GeiserBurette(258),d=GeiserBurette(200),GeiserBurette=function(){(0,s.default)(GeiserBurette,u);var t=c(GeiserBurette);function GeiserBurette(){var e;return(0,n.default)(this,GeiserBurette),(e=t.call(this)).name="GeiserBurette",e.CNName="酸式滴定管",e.magnifierY=-375,e.standardMagnifierY=106.73935546875,e.scaleMultiple=3.056,e.startCapacity=28,e.endCapacity=2,e.z_index=15.16,e.hintOffsetX=-26,e}return(0,r.default)(GeiserBurette,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(GeiserBurette.prototype),"creationComplete",this).call(this),this.capacityScale=.0743406073369934,this.movePortraitSwitchButton=new d(this,{x:200,y:1060},!0),this.movePortraitSwitchButton.setEnabled(!0)}}]),GeiserBurette}();e.exports=GeiserBurette},function(e,t,HotWaterBath){"use strict";var a=HotWaterBath(4),i=HotWaterBath(0),n=i(HotWaterBath(1)),r=i(HotWaterBath(2)),o=i(HotWaterBath(19)),s=i(HotWaterBath(7)),l=i(HotWaterBath(5)),h=i(HotWaterBath(6)),c=i(HotWaterBath(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=HotWaterBath(8),HotWaterBath=function(){(0,l.default)(HotWaterBath,d);var t=u(HotWaterBath);function HotWaterBath(){var e;return(0,n.default)(this,HotWaterBath),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(HotWaterBath,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(HotWaterBath.prototype),"creationComplete",this).call(this);var e=this;this.container=this.execute(NBCommand.CREATE_EQUIPMENT,"WaterBath"),this.excuteEq=[this.container],this.container.on("creationComplete",function(){e.root.viewStack.addChild(e.container),e.container.addTempWater("H2O",50),e.container.setTempAllTime=60,NBDrag.addDrag(e.container),e.container.x=e.x,e.container.y=e.y,e.container.setLable("热水浴")})}},{key:"update",value:function(e){(0,s.default)((0,c.default)(HotWaterBath.prototype),"update",this).call(this,e)}}]),HotWaterBath}();e.exports=HotWaterBath},function(e,t,IceWaterBath){"use strict";var a=IceWaterBath(4),i=IceWaterBath(0),n=i(IceWaterBath(1)),r=i(IceWaterBath(2)),o=i(IceWaterBath(19)),s=i(IceWaterBath(7)),l=i(IceWaterBath(5)),h=i(IceWaterBath(6)),c=i(IceWaterBath(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=IceWaterBath(8),IceWaterBath=function(){(0,l.default)(IceWaterBath,d);var t=u(IceWaterBath);function IceWaterBath(){var e;return(0,n.default)(this,IceWaterBath),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(IceWaterBath,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(IceWaterBath.prototype),"creationComplete",this).call(this);var e=this;this.container=this.execute(NBCommand.CREATE_EQUIPMENT,"WaterBath"),this.excuteEq=[this.container],this.container.on("creationComplete",function(){e.root.viewStack.addChild(e.container),e.container.addTempWater("H2O",50),e.container.setTempAllTime=10,NBDrag.addDrag(e.container),e.container.x=e.x,e.container.y=e.y,e.container.setLable("冷水浴")})}},{key:"update",value:function(e){(0,s.default)((0,c.default)(IceWaterBath.prototype),"update",this).call(this,e)}}]),IceWaterBath}();e.exports=IceWaterBath},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8);e.exports=function(){(0,h.default)(InsulationBeaker,p);var t=d(InsulationBeaker);function InsulationBeaker(){var e;return(0,o.default)(this,InsulationBeaker),(e=t.call(this)).name="InsulationBeaker",e.CNName="保温烧杯",e._innerBeaker=null,e._coverHeader=null,e}return(0,s.default)(InsulationBeaker,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(InsulationBeaker.prototype),"creationComplete",this).call(this),this.initEvent(),this.foam.originLocalBounds=this.foam.getLocalBounds()}},{key:"innerBeaker",get:function(){return this._innerBeaker},set:function(e){null!==e?this.isCover||this._innerBeaker||(this._innerBeaker=e,this.addInnerBeaker(e),this.updateInnerBeakerTempLossFactor()):this._innerBeaker&&(this.removeInnerBeaker(this._innerBeaker),this.resetInnerBeakerTempLossFactor(this._innerBeaker),this._innerBeaker=null)}},{key:"coverHeader",get:function(){return this._coverHeader},set:function(e){e?(this.isCover=!0,this.innerBeaker&&(this.innerBeaker.interactive=!1,this.innerBeaker.isCover=!0,this.innerBeaker.isCoverGS=!0,this.updateInnerBeakerTempLossFactor()),this.addCover(e),this._coverHeader=e):null===e&&this._coverHeader&&(this.isCover=!1,this.innerBeaker&&(this.innerBeaker.interactive=!0,this.innerBeaker.isCover=!1,this.innerBeaker.isCoverGS=!1,this.updateInnerBeakerTempLossFactor()),this._coverHeader=null)}},{key:"initEvent",value:function(){var t=this;this.on("hitted",function(e){e=e.dragObj;e.bg&&!e.bg.hitTest(t)||(e.isBeaker?t.innerBeaker=e:"WoodenCover"===e.name&&(t.coverHeader=e))})}},{key:"addInnerBeaker",value:function(e){var t=this.originLocalBounds.width,i=e.originLocalBounds.width,n={x:.6*(t-i),y:0},a=this.foam,t=this.getChildIndex(a);this.addChildAtWithSamePos(e,t+1),TweenMax.to(e,.3,n);i=(10+i)/a.originLocalBounds.width;a.scale.x=a.scale.y=i,a.x=n.x-10-3,a.y=-10,TweenMax.to(a,.3,{alpha:1}),e.once(NBDrag.event.START_DRAG,this.innerBeakerPrepareDrag.bind(this))}},{key:"removeInnerBeaker",value:function(){var e=this.foam;TweenMax.to(e,.3,{alpha:0})}},{key:"innerBeakerPrepareDrag",value:function(e){e.target.removeListener(NBDrag.event.START_DRAG,this.innerBeakerPrepareDrag.bind(this)),this.innerBeaker=null}},{key:"updateInnerBeakerTempLossFactor",value:function(){var e=this.innerBeaker,t=this.isCover;e&&e.setTempLossFactor("liquid",t?.01:.1)}},{key:"resetInnerBeakerTempLossFactor",value:function(e){e&&e.setTempLossFactor("liquid",1)}},{key:"addCover",value:function(e){this.addChildWithSamePos(e),TweenMax.to(e,.3,{x:this.originLocalBounds.width/2,y:3}),e.once(NBDrag.event.PREPARE_DRAG,this.coverPrepareDrag.bind(this))}},{key:"coverPrepareDrag",value:function(e){e=e.target;e.eqAddToViewStack(),e.removeListener(NBDrag.event.PREPARE_DRAG,this.coverPrepareDrag.bind(this)),this.coverHeader=null}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(InsulationBeaker.prototype),"toJSON",this).call(this),{innerBeaker:this.innerBeaker&&this.innerBeaker.getUUID?this.innerBeaker.getUUID():this.innerBeaker,coverHeader:this.coverHeader&&this.coverHeader.getUUID?this.coverHeader.getUUID():this.coverHeader})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(InsulationBeaker.prototype),"setJSON",this).call(this,e),e.innerBeaker&&this.getEquipmentByUUID(e.innerBeaker).then(function(e){t.innerBeaker=e}),e.coverHeader&&this.getEquipmentByUUID(e.coverHeader).then(function(e){t.coverHeader=e})}}]),InsulationBeaker}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(a,d);var t=u(a);function a(){var e;return(0,r.default)(this,a),(e=t.call(this)).count=0,e}return(0,o.default)(a,[{key:"creationComplete",value:function(){var t=this;(0,s.default)((0,c.default)(a.prototype),"creationComplete",this).call(this);var i=this.x,n=this.y,InsulationBeaker=this.insulationBeaker=this.execute(NBCommand.CREATE_EQUIPMENT,"InsulationBeaker"),BigBeaker=this.bigBeaker=this.execute(NBCommand.CREATE_EQUIPMENT,"SmallBeaker"),WoodenCover=this.woodenCover=this.execute(NBCommand.CREATE_EQUIPMENT,"WoodenCover");InsulationBeaker.once("creationComplete",function(){var e=InsulationBeaker;e.x=i,e.y=n,t.checkEqNum(e)}),BigBeaker.once("creationComplete",function(){var e=BigBeaker;e.x=i,e.y=n,t.checkEqNum(e)}),WoodenCover.once("creationComplete",function(){var e=WoodenCover;e.x=i+t.header.x,e.y=n+t.header.y,t.checkEqNum(e)})}},{key:"checkEqNum",value:function(e){this.count+=1,this.getEqLayer().addChild(e),NBDrag.addDrag(e),3<=this.count&&(this.bigBeaker.emit(NBDrag.event.STOP_DRAG,{}),this.parent.removeChild(this))}}]),a}()},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(9)),s=n(i(1)),l=n(i(2)),h=n(i(19)),c=n(i(7)),u=n(i(5)),r=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var f=i(8),i=function(){(0,u.default)(r,f);var t=p(r);function r(){var e;return(0,s.default)(this,r),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,h.default)(e))}),e}return(0,l.default)(r,[{key:"creationComplete",value:function(){var e=this;(0,c.default)((0,d.default)(r.prototype),"creationComplete",this).call(this);var KippsCenter=this.execute(NBCommand.CREATE_EQUIPMENT,"KippsCenter"),t=this.execute(NBCommand.CREATE_EQUIPMENT,"KippsFunnel"),KippsCatheter=this.execute(NBCommand.CREATE_EQUIPMENT,"KippsCatheter");this.executeEq=[KippsCenter,t,KippsCatheter],t.x=this.x+45,t.y=this.y,KippsCenter.x=this.x,KippsCenter.y=this.y+321,KippsCatheter.x=this.x,KippsCatheter.y=this.y;var i=!1,n=!1,a=!1;KippsCenter.on("creationComplete",function(){i=!0,e.root.viewStack.addChild(KippsCenter),NBDrag.addDrag(KippsCenter),n&&(KippsCenter.addChildAtWithSamePos(t,0),t.x=45,t.y=-321,KippsCenter.emit("appendEquipment",t),t.emit("appendEquipment",KippsCenter),KippsCenter.addedFunnel=t),a&&(KippsCenter.addChildAtWithSamePos(KippsCatheter,0),KippsCatheter.x=KippsCatheter.defaultPos.x,KippsCatheter.y=KippsCatheter.defaultPos.y,KippsCenter.addedCatheter=KippsCatheter,KippsCenter.createBody(),(KippsCatheter.currentContainer=KippsCenter).emit("appendEquipment",KippsCatheter),KippsCatheter.emit("appendEquipment",KippsCenter),NBDrag.addDrag(KippsCatheter))}),t.on("creationComplete",function(){n=!0,e.root.viewStack.addChild(t),i&&(KippsCenter.addChildAtWithSamePos(t,0),t.x=45,t.y=-321,KippsCenter.emit("appendEquipment",t),t.emit("appendEquipment",KippsCenter),KippsCenter.addedFunnel=t)}),KippsCatheter.on("creationComplete",function(){a=!0,NBDrag.removeDrag(KippsCatheter),i&&(KippsCenter.addChildAtWithSamePos(KippsCatheter,0),KippsCatheter.x=KippsCatheter.defaultPos.x,KippsCatheter.y=KippsCatheter.defaultPos.y,KippsCenter.addedCatheter=KippsCatheter,KippsCenter.createBody(),(KippsCatheter.currentContainer=KippsCenter).emit("appendEquipment",KippsCatheter),KippsCatheter.emit("appendEquipment",KippsCenter),NBDrag.addDrag(KippsCatheter))})}},{key:"toJSON",value:function(){return(0,o.default)({},(0,c.default)((0,d.default)(r.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(){}}]),r}();e.exports=i},function(e,t,KippsCatheter){"use strict";var a=KippsCatheter(4),i=KippsCatheter(0),n=i(KippsCatheter(9)),r=i(KippsCatheter(61)),o=i(KippsCatheter(1)),s=i(KippsCatheter(2)),l=i(KippsCatheter(7)),h=i(KippsCatheter(5)),c=i(KippsCatheter(6)),u=i(KippsCatheter(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=KippsCatheter(85),f=KippsCatheter(16),KippsCatheter=function(){(0,h.default)(KippsCatheter,p);var t=d(KippsCatheter);function KippsCatheter(){var e;return(0,o.default)(this,KippsCatheter),(e=t.call(this)).name="KippsCatheter",e.CNName="启普发生器导管",e.z_index=15.51,e.catheterSwitchIsOpen=!1,e.isKippsCatheter=!0,e.defaultPos={x:350,y:17},e}return(0,s.default)(KippsCatheter,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(KippsCatheter.prototype),"creationComplete",this).call(this),this.init(),this.initWhiff()}},{key:"init",value:function(){this.lineFix={true:-.5,false:0},this.ropePoint=[{x:-144,y:59},{x:-146,y:60}],this.pointAry=[{x:-146,y:60},{x:-20,y:-6},{x:148,y:-6}],this.initLines(),this.rubberPos={x:165,y:-5,rotation:0},this.fireParticlePos=[{x:150,y:-5,rotation:0,waterParticle:null,particle:null,bindAttr:"addedRubber",direction:!0},{x:-146,y:60,rotation:Math.PI/6,waterParticle:null,particle:null,bindAttr:"addedBottle",direction:!1}];var t=this;this.bg.swtchBtn.on(TouchEvent.TOUCH_BEGIN,function(e){e.stopPropagation(),t.currentContainer&&((e=t.currentContainer).hasReact+=2,e.medicineData.pascalAllLines=null),t.catheterSwitchIsOpen=!t.catheterSwitchIsOpen,t.bg.swtchBtn.currentFrame=Number(t.catheterSwitchIsOpen)}),f.addMouseEvent(this.root.mouseManager,this.bg.swtchBtn,f.status.PAN),this.on(NBDrag.event.PREPARE_DRAG,this.dragBegin),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.STOP_DRAG,this.stopDrag)}},{key:"dragBegin",value:function(){var e;this.viewStack!=this.root.viewStack&&this.currentContainer&&this.currentContainer&&((e=this.currentContainer).removeBody(),this.emit("removeEquipment",e),e.emit("removeEquipment",this),this.currentContainer=null,e.addedCatheter=null)}},{key:"stopDrag",value:function(){for(var n=this,a=this.getSortDisHitObjects(),e=0;e<a.length;e++){var t=function(e){var t=a[e].objB,i=n;if("KippsCenter"===t.name&&!t.addedCatheter)return t.addedCatheter=i,NBDrag.removeDrag(t),NBDrag.removeDrag(i),t.addChildAtWithSamePos(i,0),TweenMax.to(i,.2,{x:i.defaultPos.x,y:i.defaultPos.y,onComplete:function(){t.createBody(),i.currentContainer=t,i.emit("appendEquipment",t),t.emit("appendEquipment",i),NBDrag.addDrag(t),NBDrag.addDrag(i)}}),{v:void 0}}(e);if("object"===(0,r.default)(t))return t.v}}},{key:"eqPrepareDelete",value:function(){(0,l.default)((0,u.default)(KippsCatheter.prototype),"eqPrepareDelete",this).call(this);try{this.currentContainer&&this.currentContainer.removeBody()}catch(e){}}},{key:"toJSON",value:function(){return(0,n.default)({},(0,l.default)((0,u.default)(KippsCatheter.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(KippsCatheter.prototype),"setJSON",this).call(this,e)}}]),KippsCatheter}();e.exports=KippsCatheter},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10),f=i(53),I=i(50);e.exports=function(){(0,h.default)(KippsCenter,p);var t=d(KippsCenter);function KippsCenter(){var e;return(0,o.default)(this,KippsCenter),(e=t.call(this)).name="KippsCenter",e.CNName="启普发生器",e.z_index=15.52,e.isKippsCenter=!0,e.kippsPos={x:80,y:205},e.bodyPoints=[{x:187,y:60},{x:210,y:95},{x:238,y:80},{x:215,y:45}],e}return(0,s.default)(KippsCenter,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(KippsCenter.prototype),"creationComplete",this).call(this)}},{key:"removeBody",value:function(){this.currentBody&&(this.currentBody.set_space(null),this.currentBody=void 0)}},{key:"createBody",value:function(){var e=f.BodyFromArray([this.bodyPoints]);e.set_type(I.kinematic),e.set_space(this.engine.space),e.allowGetBounds=!1,this.currentBody=e}},{key:"toJSON",value:function(){return(0,r.default)({addedFunnel:this.addedFunnel&&this.addedFunnel.getUUID(),addedCatheter:this.addedCatheter&&this.addedCatheter.getUUID()},(0,l.default)((0,u.default)(KippsCenter.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(KippsCenter.prototype),"setJSON",this).call(this,e),e.addedFunnel&&this.getEquipmentByUUID(e.addedFunnel).then(function(e){NBDrag.removeDrag(e),t.addedFunnel=e}),e.addedCatheter&&this.getEquipmentByUUID(e.addedCatheter).then(function(e){t.addedCatheter=e,t.removeBody(),t.createBody(),(e.currentContainer=t).addChildAtWithSamePos(e,0),t.emit("appendEquipment",e),e.emit("appendEquipment",t)})}}]),KippsCenter}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10);e.exports=function(){(0,h.default)(KippsFunnel,p);var t=d(KippsFunnel);function KippsFunnel(){var e;return(0,o.default)(this,KippsFunnel),(e=t.call(this)).name="KippsFunnel",e.CNName="启普发生器漏斗",e.z_index=15.5,e.isKippsPart=!0,e.noChoice=!0,e.kippsPos={x:90,y:600},e}return(0,s.default)(KippsFunnel,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(KippsFunnel.prototype),"creationComplete",this).call(this),this.precisePascal=!0,this.pourOutPoint={x:this.localBounds.x+this.localBounds.width/2,y:this.localBounds.y+this.localBounds.height},this.execute(NBCommand.DRAG_COVER,{container:this,outter:!0}),NBDrag.removeDrag(this),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))})}},{key:"isCovered",value:function(){if(this.head)return this.head.parent===this}},{key:"initOverflowParticle",value:function(){this.overflowParticle?(TweenMax.killTweensOf(this.overflowParticle),this.overflowParticle._gsTweenID&&delete TweenLite._internals.tweenLookup[this.overflowParticle._gsTweenID],this.overflowParticle.alpha=1,this.overflowParticle.particle&&!1===this.overflowParticle.particle.emit&&(this.overflowParticle.setParticleProp("emit",!0),this.overflowParticle.setParticleProp("_spawnTimer",0),this.overflowParticle.setParticleProp("emitterLifetime",1))):(this.overflowParticle=ParticleUtil.getParticle(ParticleUtil.particles.overflowLiquid),this.overflowParticle.allowGetBounds=!1,this.overflowParticle.x=67,this.overflowParticle.y=65,this.addChild(this.overflowParticle))}},{key:"updateOverflowParticle",value:function(){var e;this.isCovered()&&this.overflowParticle?this.clearOverflowParticle(!0):(this.overflowParticle&&this.overflowParticle.render(),0<this.overflowCount?(this.overflowCount--,this.getCurrentCapacity()<.5*this.getTotalCapacity()?this.clearOverflowParticle(!0):(e=this.liquidGra[this.liquidGra.length-1].liquidColor,this.initOverflowParticle(),this.overflowParticle.loaded&&(this.overflowParticle.setParticleProp("startColor",e=[e>>16,e>>8&255,255&e]),this.overflowParticle.setParticleProp("endColor",e),this.overflowParticle.particle.spawnRect.width=50))):this.clearOverflowParticle())}},{key:"clearOverflowParticle",value:function(){var e=this;this.overflowParticle&&(0<arguments.length&&void 0!==arguments[0]&&arguments[0]?(TweenMax.killTweensOf(this.overflowParticle),this.overflowParticle._gsTweenID&&delete TweenLite._internals.tweenLookup[this.overflowParticle._gsTweenID],this.destroyOverflowParticle()):TweenMax.isTweening(this.overflowParticle)||TweenMax.to(this.overflowParticle,1,{alpha:0,onComplete:function(){e.destroyOverflowParticle()}}))}},{key:"destroyOverflowParticle",value:function(){this.overflowParticle.parent&&(this.overflowParticle.parent.removeChild(this.overflowParticle),this.overflowParticle=null)}},{key:"eqPrepareDelete",value:function(){this.clearOverflowParticle(!0),(0,l.default)((0,u.default)(KippsFunnel.prototype),"eqPrepareDelete",this).call(this)}},{key:"update",value:function(e){(0,l.default)((0,u.default)(KippsFunnel.prototype),"update",this).call(this,e),this.updateOverflowParticle()}},{key:"toJSON",value:function(){return(0,r.default)({},(0,l.default)((0,u.default)(KippsFunnel.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(KippsFunnel.prototype),"setJSON",this).call(this,e)}}]),KippsFunnel}()},function(e,t,LongNeckFunnel){"use strict";var a=LongNeckFunnel(4),i=LongNeckFunnel(0),n=i(LongNeckFunnel(1)),r=i(LongNeckFunnel(2)),o=i(LongNeckFunnel(7)),s=i(LongNeckFunnel(5)),l=i(LongNeckFunnel(6)),h=i(LongNeckFunnel(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=LongNeckFunnel(10),d=LongNeckFunnel(126),p=LongNeckFunnel(80),f=LongNeckFunnel(11),I=PIXI.Point,LongNeckFunnel=function(){(0,s.default)(LongNeckFunnel,d);var t=c(LongNeckFunnel);function LongNeckFunnel(){var e;return(0,n.default)(this,LongNeckFunnel),(e=t.call(this)).autoHideInfo=!0,e.name="LongNeckFunnel",e.CNName="长颈漏斗",e.z_index=19.1,e.pU=new I(43,0),e.pM=new I(43,40),e.addSolidMedPos=new I(43,50),e}return(0,r.default)(LongNeckFunnel,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(LongNeckFunnel.prototype),"creationComplete",this).call(this),this.drop.alpha=0,this.tubeDrip=new p(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y+17},2e3,.4,.2,u),this.on(NBEvent.REMOEVD_FROM_STAGE,function(){e.tubeDrip&&(e.tubeDrip.isDripping=!1)}),this.dripPos={x:this.drop.x,y:this.drop.y+17}}},{key:"checkPascal",value:function(){if(this.currentContainer){this.tubeDrip.timeLength=1;var e=this.currentContainer,t=this.root.viewStack,i=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,e=0===e?0:t*f.EARTH_GRAVITY*e/f.PASCAL_PIXELS_PER_CM*10;return isNaN(e)?0:e}(t.toLocal(e.liquidVertex[0]).y-t.toLocal(this.liquidVertex[0]).y),t=e.liquidVertex[0].y-this.toGlobal(this.dripPos).y;return f.PASCAL+i<e.pascal||t<0?!1:!0}return this.tubeDrip.timeLength=.2,!0}},{key:"initOverflowParticle",value:function(){this.overflowParticle?(TweenMax.killTweensOf(this.overflowParticle),this.overflowParticle._gsTweenID&&delete TweenLite._internals.tweenLookup[this.overflowParticle._gsTweenID],this.overflowParticle.alpha=1,this.overflowParticle.particle&&!1===this.overflowParticle.particle.emit&&(this.overflowParticle.setParticleProp("emit",!0),this.overflowParticle.setParticleProp("_spawnTimer",0),this.overflowParticle.setParticleProp("emitterLifetime",1))):(this.overflowParticle=ParticleUtil.getParticle(ParticleUtil.particles.overflowLiquid),this.overflowParticle.allowGetBounds=!1,this.overflowParticle.x=this.localBounds.x+this.localBounds.width,this.overflowParticle.y=this.localBounds.y,this.addChild(this.overflowParticle))}},{key:"updateOverflowParticle",value:function(){var e,t;this.overflowParticle&&this.overflowParticle.render(),0<this.overflowCount?(this.overflowCount--,this.getCurrentCapacity()<.1*this.getTotalCapacity()?this.clearOverflowParticle(!0):(t=this.liquidGra[this.liquidGra.length-1].liquidColor,this.initOverflowParticle(),this.overflowParticle.loaded&&(this.overflowParticle.setParticleProp("startColor",t=[t>>16,t>>8&255,255&t]),this.overflowParticle.setParticleProp("endColor",t),t=this.localBounds.x,Math.abs(this.worldRotation)<.01?(t+=.1*this.localBounds.width,e=.8*this.localBounds.width):(e=10,t=this.worldRotation<0?t-5:t-5+this.localBounds.width,this.overflowParticle.rotation=-this.worldRotation),this.overflowParticle.x=t,this.overflowParticle.particle.spawnRect.width=e))):this.clearOverflowParticle()}},{key:"clearOverflowParticle",value:function(){var e=this;this.overflowParticle&&(0<arguments.length&&void 0!==arguments[0]&&arguments[0]?(TweenMax.killTweensOf(this.overflowParticle),this.overflowParticle._gsTweenID&&delete TweenLite._internals.tweenLookup[this.overflowParticle._gsTweenID],this.destroyOverflowParticle()):TweenMax.isTweening(this.overflowParticle)||TweenMax.to(this.overflowParticle,1,{alpha:0,onComplete:function(){e.destroyOverflowParticle()}}))}},{key:"destroyOverflowParticle",value:function(){this.overflowParticle.parent&&(this.overflowParticle.parent.removeChild(this.overflowParticle),this.overflowParticle=null)}},{key:"eqPrepareDelete",value:function(){this.clearOverflowParticle(!0),(0,o.default)((0,h.default)(LongNeckFunnel.prototype),"eqPrepareDelete",this).call(this)}},{key:"update",value:function(e){this.forceUpdateLiquidGra=!0,(0,o.default)((0,h.default)(LongNeckFunnel.prototype),"update",this).call(this,e),this.pascal=f.PASCAL,0<this.getCurrentCapacity()&&this.checkPascal()?this.tubeDrip.isDripping=!0:this.tubeDrip.isDripping&&(this.tubeDrip.isDripping=!1),this.updateOverflowParticle()}}]),LongNeckFunnel}();e.exports=LongNeckFunnel},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(264);e.exports=function(){(0,l.default)(MeasuringCylinder100ml,d);var t=u(MeasuringCylinder100ml);function MeasuringCylinder100ml(){var e;return(0,r.default)(this,MeasuringCylinder100ml),(e=t.call(this)).name="MeasuringCylinder100ml",e.CNName="量筒100mL",e.z_index=15.19,e}return(0,o.default)(MeasuringCylinder100ml,[{key:"creationComplete",value:function(){this.tipFontSize=25,(0,s.default)((0,c.default)(MeasuringCylinder100ml.prototype),"creationComplete",this).call(this),this.capacityScale=.270658,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.enableRotate(!0,{},1)}}]),MeasuringCylinder100ml}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(264);e.exports=function(){(0,l.default)(MeasuringCylinder10ml,d);var t=u(MeasuringCylinder10ml);function MeasuringCylinder10ml(){var e;return(0,r.default)(this,MeasuringCylinder10ml),(e=t.call(this)).name="MeasuringCylinder10ml",e.CNName="量筒10mL",e.z_index=15.2,e}return(0,o.default)(MeasuringCylinder10ml,[{key:"creationComplete",value:function(){this.tipFontSize=15,(0,s.default)((0,c.default)(MeasuringCylinder10ml.prototype),"creationComplete",this).call(this),this.capacityScale=.119121,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.enableRotate(!0,{},1)}}]),MeasuringCylinder10ml}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(264);e.exports=function(){(0,l.default)(MeasuringCylinder50ml,d);var t=u(MeasuringCylinder50ml);function MeasuringCylinder50ml(){var e;return(0,r.default)(this,MeasuringCylinder50ml),(e=t.call(this)).name="MeasuringCylinder50ml",e.CNName="量筒50mL",e.z_index=15.21,e}return(0,o.default)(MeasuringCylinder50ml,[{key:"creationComplete",value:function(){this.tipFontSize=20,(0,s.default)((0,c.default)(MeasuringCylinder50ml.prototype),"creationComplete",this).call(this),this.capacityScale=.269557201,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.enableRotate(!0,{},1)}}]),MeasuringCylinder50ml}()},function(e,t,i){"use strict";var a=i(4),s=i(44),l=i(42),h=i(43),c=i(37),n=i(0),r=n(i(1)),o=n(i(2)),u=n(i(7)),d=n(i(5)),p=n(i(6)),f=n(i(3));function I(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return g(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function m(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(i);return t=n?(e=(0,f.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,p.default)(this,t)}}var y=i(260),v=i(18),C=i(21);e.exports=function(){(0,d.default)(Mortar,y);var t=m(Mortar);function Mortar(){var e;return(0,r.default)(this,Mortar),(e=t.call(this)).name="Mortar",e.CNName="研钵",e.z_index=15.22,e.medContainerIndex="top",e}return(0,o.default)(Mortar,[{key:"init",value:function(){this.ifFrontChange=!1}},{key:"creationComplete",value:function(){(0,u.default)((0,f.default)(Mortar.prototype),"creationComplete",this).call(this),this.init(),this.capacityScale=.6,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.addChild(this.dishFront)}},{key:"getAllHitBreakBlockMed",value:function(){var t=[];return this.blockMedicineMap&&0<this.blockMedicineMap.size&&this.blockMedicineMap.forEach(function(e){e&&0<e.size&&e.forEach(function(e){e.hitBreak instanceof Function&&t.push(e)})}),t}},{key:"smellMedicine",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.interactive=!1,this.interactiveChildren=!1,this.root.execute(NBCommand.ADD_EQUIPMENT,"Fun",this)}},{key:"update",value:function(e){(0,u.default)((0,f.default)(Mortar.prototype),"update",this).call(this,e),this.ifContainerSome()&&!this.ifFrontChange?(this.frontDishChangeAlpha(.5),this.ifFrontChange=!0):!this.ifContainerSome()&&this.ifFrontChange&&(this.frontDishChangeAlpha(1),this.ifFrontChange=!1)}},{key:"ifContainerSome",value:function(){if(this.medicineData){var e=!1;if(this.medicineData.solidAry)for(var t in this.medicineData.solidAry)if(t){e=!0;break}0<this.medicineNBGraphicMap.size&&(e=!0);var i,n=I(this.blockMedicineMap.entries());try{for(n.s();!(i=n.n()).done;)if(0<i.value[1].size){e=!0;break}}catch(e){n.e(e)}finally{n.f()}var a=!1;return(a=this.medicineData.liquidAry&&0!=this.medicineData.liquidAry.length?!0:a)||e}return!1}},{key:"getConfigureData",value:function(){var e=(0,u.default)((0,f.default)(Mortar.prototype),"getConfigureData",this).call(this),t=this.worldRotation||v.retrieveRotation(this.worldTransform);return!this.hasAnimation&&this.isOpen&&0===t&&(TweenMax.isTweening(this)||e.confArr.push(C.getButton(null,"闻气味",function(){this.smellMedicine()}.bind(this),this))),e}}]),Mortar}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(a,d);var t=u(a);function a(){var e;return(0,r.default)(this,a),(e=t.call(this)).count=0,e}return(0,o.default)(a,[{key:"creationComplete",value:function(){var t=this;(0,s.default)((0,c.default)(a.prototype),"creationComplete",this).call(this);var i=this.x,n=this.y,Mortar=this.execute(NBCommand.CREATE_EQUIPMENT,"Mortar"),MortarPestle=this.execute(NBCommand.CREATE_EQUIPMENT,"MortarPestle");Mortar.once("creationComplete",function(){var e=Mortar;e.x=i-325,e.y=n-50,t.addEq(e)}),MortarPestle.once("creationComplete",function(){var e=MortarPestle;e.x=i+325,e.y=n-165,t.addEq(e)})}},{key:"addEq",value:function(e){this.count+=1,this.getEqLayer().addChild(e),NBDrag.addDrag(e),2<=this.count&&this.parent&&this.parent.removeChild(this)}}]),a}()},function(e,t,NO2Ball){"use strict";var a=NO2Ball(4),i=NO2Ball(0),n=i(NO2Ball(9)),r=i(NO2Ball(1)),o=i(NO2Ball(2)),s=i(NO2Ball(7)),l=i(NO2Ball(5)),h=i(NO2Ball(6)),c=i(NO2Ball(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=NO2Ball(10),p=NO2Ball(27),NO2Ball=function(){(0,l.default)(NO2Ball,d);var t=u(NO2Ball);function NO2Ball(){var e;return(0,r.default)(this,NO2Ball),(e=t.call(this)).name="NO2Ball",e.z_index=19.19,e.noChoice=!0,e.dragAble=!1,e.once("creationComplete",e.checkParent),e}return(0,o.default)(NO2Ball,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(NO2Ball.prototype),"creationComplete",this).call(this),this.interactive=!1,this.medicineData.clear(),this.allowPass=!0,this.hasCovered=!0,this.capacityScale=.4;var e=this.medicineManager.getMedicineData("NO2"),t=this.medicineManager.getMedicineData("N2O4");this.medicineData.push(new p(e,.004906)),this.medicineData.push(new p(t,.003347)),this.on("hitted",this.hitFun),this.noConfig=!0,this.naturalCover=!0,this.getGlobalVertexes(!0),this.calculateLiquid(!0),this.updateGasVertex()}},{key:"checkParent",value:function(){var e=this;setTimeout(function(){e.parent&&"NO2BallGroup"===e.parent.name&&e.parent.children.indexOf(e)<2&&e.parent.addChildAt(e,e.parent.children.indexOf(e.parent.bg)-1)},50)}},{key:"hitFun",value:function(){this.hitTime=!0}},{key:"isFull",value:function(e){return!!this.currentBottle||(this.hitTime&&(t=function e(){i.currentBottle=null,n.removeEventListener(NBDrag.event.PREPARE_DRAG,e)},(n=(i=this).currentBottle=e).addEventListener(NBDrag.event.PREPARE_DRAG,t),n.on(NBEvent.del.PREPARE_DELETE,function(){i.currentBottle=null}),this.hitTime=!1),!1);var t,i,n}},{key:"update",value:function(e){var t;(0,s.default)((0,c.default)(NO2Ball.prototype),"update",this).call(this,e),this.currentBottle&&this.currentBottle.medicineData&&0<this.currentBottle.medicineData.liquidAry.length&&(e=e*((t=this.currentBottle.medicineData.liquidAry[0].getTemp())-nb.DEFAULT_TEMP),t<20&&(e-=5),50<t&&(e+=5),this.medicineData.increaseGasHeat(e,t))}},{key:"toJSON",value:function(){return(0,n.default)({currentBottle:this.currentBottle&&this.currentBottle.getUUID()},(0,s.default)((0,c.default)(NO2Ball.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(NO2Ball.prototype),"setJSON",this).call(this,e),e.currentBottle&&this.getEquipmentByUUID(e.currentBottle).then(function(e){t.hitTime=!0,t.isFull(e)})}}]),NO2Ball}();e.exports=NO2Ball},function(e,t,NaClOBottle){"use strict";var a=NaClOBottle(4),i=NaClOBottle(0),n=i(NaClOBottle(1)),r=i(NaClOBottle(2)),o=i(NaClOBottle(7)),s=i(NaClOBottle(5)),l=i(NaClOBottle(6)),h=i(NaClOBottle(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=NaClOBottle(10),d=NaClOBottle(33),p=NaClOBottle(29).getLan,NaClOBottle=function(){(0,s.default)(NaClOBottle,u);var i=c(NaClOBottle);function NaClOBottle(e){var t;return(0,n.default)(this,NaClOBottle),(t=i.call(this)).name="NaClOBottle",t.CNName="84消毒液",t.dataBuild=!1,t.isLiquidMedicine=!0,t.isLiquidMedBottle=!0,t.noConfig=!0,t.z_index=15.02,e&&(t.dataBuild=e.dataBuild),t}return(0,r.default)(NaClOBottle,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(NaClOBottle.prototype),"creationComplete",this).call(this),this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0}),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.selfLabel.txt.text=p("84消毒液"),this.selfLabel.txt.anchor.x=.5,this.selfLabel.txt.anchor.y=.5,this.selfLabel.txt.x=78,this.selfLabel.txt.y=48,125<this.selfLabel.txt.width&&(this.selfLabel.txt.scale.x=125/this.selfLabel.txt.width),this.createMedicine()}},{key:"createMedicine",value:function(){var e=this.root.medicineManager.getMedicineData("NaClO"),t=this.root.medicineManager.getMedicineData("H2O"),i=this.root.medicineManager.getMedicineData("NaCl"),n=this.root.medicineManager.getMedicineData("NaOH"),e=new d(e,4),i=new d(i,1.5),t=new d(t,1e3/18),n=new d(n,.1);this.medicineData.push(t),this.medicineData.push(e),this.medicineData.push(i),this.medicineData.push(n)}}]),NaClOBottle}();e.exports=NaClOBottle},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10);e.exports=function(){(0,h.default)(NarrowMouthedBottle,p);var t=d(NarrowMouthedBottle);function NarrowMouthedBottle(){var e;return(0,o.default)(this,NarrowMouthedBottle),(e=t.call(this)).top=e.bottom="",e.name="NarrowMouthedBottle",e.CNName="细口瓶",e.z_index=15.23,e.canEditLable=!0,e}return(0,s.default)(NarrowMouthedBottle,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(NarrowMouthedBottle.prototype),"creationComplete",this).call(this),this.labelX=this.label.x,this.bottleLabelMask(),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0}),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.on(NBEvent.del.ADDED,function(){e.head.parent!==e&&(e.headParent.addChildWithSamePos(e.head),delete e.headParent)}),this.label.txt.anchor.x=.5,this.label.txt.x=62.5}},{key:"rotateBottle",value:function(e){this.label.x=e?this.label.width/3:this.labelX}},{key:"bottleLabelMask",value:function(){var e=new PIXI.Graphics;e.beginFill(16711680,1),e.x=this.label.x,e.y=this.label.y,e.drawRect(-2.5,-2.5,this.label.width+5,this.label.height),this.addChildAt(e,0),this.label.mask=e}},{key:"toJSON",value:function(){return(0,r.default)({isLiquidMedBottle:this.isLiquidMedBottle},(0,l.default)((0,u.default)(NarrowMouthedBottle.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(NarrowMouthedBottle.prototype),"setJSON",this).call(this,e),e.isLiquidMedBottle&&(this.isLiquidMedBottle=e.isLiquidMedBottle)}}]),NarrowMouthedBottle}()},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(1)),s=n(i(2)),l=n(i(19)),h=n(i(7)),c=n(i(5)),r=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var p=i(10),i=function(){(0,c.default)(r,p);var t=d(r);function r(){var e;return(0,o.default)(this,r),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,l.default)(e))}),e}return(0,s.default)(r,[{key:"creationComplete",value:function(){var e=this;(0,h.default)((0,u.default)(r.prototype),"creationComplete",this).call(this);var t=this.execute(NBCommand.CREATE_EQUIPMENT,"UTubeWithSideNeckLeft"),i=this.execute(NBCommand.CREATE_EQUIPMENT,"UTubeWithSideNeckRight");this.executeEq=[t,i],t.x=this.x,t.y=this.y,i.x=this.x,i.y=this.y;var n=!1,a=!1;t.on("creationComplete",function(){n=!0,e.root.viewStack.addChild(t),NBDrag.addDrag(t),a&&(t.addChildAtWithSamePos(i,0),i.x=0,i.y=0,t.emit("appendEquipment",i),i.emit("appendEquipment",t),t.addedRight=i)}),i.on("creationComplete",function(){a=!0,e.root.viewStack.addChild(i),n&&(t.addChildAtWithSamePos(i,0),i.x=0,i.y=-0,t.emit("appendEquipment",i),i.emit("appendEquipment",t),t.addedRight=i)})}}]),r}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var HugeBeaker=i(263);e.exports=function(){(0,s.default)(PlasticHugeBeaker,HugeBeaker);var t=c(PlasticHugeBeaker);function PlasticHugeBeaker(){var e;return(0,o.default)(this,PlasticHugeBeaker),(e=t.call(this)).top=e.bottom="",e.name="PlasticHugeBeaker",e.CNName="塑料烧杯1000mL",e}return(0,r.default)(PlasticHugeBeaker)}()},function(e,t,PlasticWashBottle){"use strict";var a=PlasticWashBottle(4),i=PlasticWashBottle(0),n=i(PlasticWashBottle(1)),r=i(PlasticWashBottle(2)),o=i(PlasticWashBottle(7)),s=i(PlasticWashBottle(5)),l=i(PlasticWashBottle(6)),h=i(PlasticWashBottle(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=PlasticWashBottle(10),d=PlasticWashBottle(18),p=PlasticWashBottle(131),f=PlasticWashBottle(26),I=PlasticWashBottle(145),g=PlasticWashBottle(16),PlasticWashBottle=Math.PI/3,m=12*Math.cos(PlasticWashBottle),y=12*Math.sin(PlasticWashBottle),PlasticWashBottle=function(){(0,s.default)(PlasticWashBottle,u);var t=c(PlasticWashBottle);function PlasticWashBottle(){var e;return(0,n.default)(this,PlasticWashBottle),(e=t.call(this)).name="PlasticWashBottle",e.CNName="洗瓶250mL",e.z_index=19.12,e}return(0,r.default)(PlasticWashBottle,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(PlasticWashBottle.prototype),"creationComplete",this).call(this),this.head={},(this.head.parent=this).canNotHitAry=["PlasticInjector","Flume","Crucible","UTubeWithSideNeck","ADropper","CombustionSpoon","SmallCombustionSpoon"],NBDrag.addDrag(this),this.on(NBDrag.event.STOP_DRAG,this.eqStopDrag),this.medicineData.addMedicine("H2O",139.18),this.capacityScale=4.7,this.isHit=!1,this.holdTime=0,this.dripWater=0,this.outPoint.rotation=Math.PI/12,this.outPoint.alpha=0,this.on(NBEvent.del.PREPARE_DELETE,function(){e.spWater&&(e.spWater.particle.destroy(),e.spWater=null)}),this.holdArea.interactive=!0,NBGesture.addGesture(this.holdArea,NBGesture.gesture.PAN),this.holdArea.on(NBGesture.gesture.PAN,this.holdAreFun),this.holdArea.allowGetBounds=!1;var t=this.root.mouseManager;g.addMouseEvent(t,this.holdArea,g.status.PAN)}},{key:"holdAreFun",value:function(e){var t=this.parent;switch(e.type){case"begin":t.isHold=!0;break;case"end":t.isHold=!1}}},{key:"eqStopDrag",value:function(){}},{key:"eqDragMove",value:function(){var e;this.isHit&&(e=this.parent,this.isHit=!1,TweenMax.to(this,.5,{rotation:0}),TweenMax.to(e,.5,{rotation:0}),NBDrag.addDrag(e),this.isMove=!0)}},{key:"animation",value:function(e){this.parent&&this.parent==this.getEqLayer()&&(!e.isCovered()||e.parent&&e.parent!=e.getEqLayer())&&(this.preHitObjRotation=d.retrieveRotation(e.worldTransform),this.holdTime=0,this.rotationHit(e))}},{key:"rotationHit",value:function(e){var t,i,n,a=this;("FunnelBig"===e.name||"FunnelSmall"===e.name||e.eqLimitPos&&e.eqLimitBounds)&&(e.addChildAtWithSamePos(this,0),NBDrag.removeDrag(this),NBDrag.removeDrag(e),n={x:this.outPoint.x,y:e.localBounds.y-this.outPoint.y},t=new TimelineMax,n="FunnelBig"===e.name||"FunnelSmall"===e.name?(i={x:n.x,y:n.y},{x:n.x+e.localBounds.width}):(i={x:n.x+e.eqLimitPos.x,y:n.y},{x:n.x+e.eqLimitPos.x+e.eqLimitBounds.width}),TweenMax.to(e,.5,{rotation:-Math.PI/8}),t.to(a,.5,{x:i.x,y:i.y,rotation:Math.PI/2.4,onComplete:function(){a.isHold=!0,a.isHit=!0}}).to(a,.5,{x:n.x,yoyo:!0,repeat:3,onComplete:function(){NBDrag.addDrag(a),a.eqDragMove(),a.root.viewStack.addChildWithSamePos(a)}}))}},{key:"waterParticleHitContainer",value:function(){var c=this,u=this.spWater.particle;u.allowGetBounds=!0;var e=u.getBounds(),e=this.getObjectByAABB(e);u.allowGetBounds=!1,e.forEach(function(e){if(e&&(e.isBaseContainer&&e.isOpen&&!e.isCovered()&&!e.currentPlug||"GlassBar"===e.name)){var t,i,n,a=0;if("GlassBar"!==e.name){if(!(t=e.getGlobalVertexes(!0))||t.length<3)return;i=t[0],n=t[t.length-1],i.x>n.x&&(r=i,i=n,n=r)}e.root.viewStack.position;for(var r,o=0;o<u.children.length;o++){var s,l,h=u.children[o];"GlassBar"===e.name?e.hitTest(h)&&(h.kill(),a++):(s=u.toGlobal(h),l={},void 0!==h.velocity&&0!==h.velocity.x&&0!==h.velocity.y?l=h.velocity:(l.x=m,l.y=y),l=u.toGlobal({x:h.x+l.x,y:h.y+l.y}),l=p.lineIntersect(i,n,s,l),p.containsPoint(l,i,n)&&s.x>=i.x&&s.x<=n.x&&(h.canKill=!0),f.containsPoint(t,s)&&(h.kill(),h.canKill&&(h.canKill=!1,a++))),h.canKill=void 0}u.children.length<1||0<a&&(r=a/Math.max(u.children.length,100)*10,r=c.medicineData.covertVolumeToLiquid(r),e.addMedicine(r),"GlassBar"===e.name&&e.washByWater())}})}},{key:"spurtWater",value:function(){var e=this.medicineData.liquidAry;this.spWater.updateMedicine(e,this.dripMol)}},{key:"update",value:function(e){var t;(0,o.default)((0,h.default)(PlasticWashBottle.prototype),"update",this).call(this,e),this.spWater&&!0!==this.spWater.particleRemoved||(this.spWater=new I(this,.05,this.outPoint)),this.isHold||this.spWater&&this.spWater.particle&&0<this.spWater.particle.children.length?(this.isHold?(this.main.currentFrame=1,this.dripMol=.05,t=this.medicineData.liquidAry,this.spWater.updateMedicine(t,this.dripMol),t=this.medicineData.covertVolumeToLiquid(-this.dripMol),this.addMedicine(t)):(this.main.currentFrame=0,this.dripMol=0),this.waterParticleHitContainer()):(this.main.currentFrame=0,this.dripMol=0),this.spurtWater(),this.spWater.render(e)}}]),PlasticWashBottle}();e.exports=PlasticWashBottle},function(e,t,Pledget){"use strict";var a=Pledget(4),s=Pledget(44),l=Pledget(42),h=Pledget(43),c=Pledget(37),i=Pledget(0),n=i(Pledget(129)),r=i(Pledget(9)),o=i(Pledget(1)),u=i(Pledget(2)),d=i(Pledget(7)),p=i(Pledget(5)),f=i(Pledget(6)),I=i(Pledget(3));function g(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function y(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,I.default)(i);return t=n?(e=(0,I.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,f.default)(this,t)}}var v=Pledget(10),C=Pledget(126),M=Pledget(80),b=PIXI.Point,Pledget=function(){(0,p.default)(Pledget,C);var t=y(Pledget);function Pledget(){var e;return(0,o.default)(this,Pledget),(e=t.call(this)).autoHideInfo=!0,e._fixedType=2,e.isFunnel=!0,e.preventCalEffect=!0,e.name="Pledget",e.CNName="纱布",e.z_index=19.05,e.pU=new b(134,-10),e.pM=new b(134,10),e.addSolidMedPos=new b(134,50),e}return(0,u.default)(Pledget,[{key:"creationComplete",value:function(){(this.bg.packMc.visible=!1,d.default)((0,I.default)(Pledget.prototype),"creationComplete",this).call(this),this.drop.alpha=0,this.capacityMask.alpha=0,this.tubeDrip=new M(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y},2e3,.2,.1,v),this.on(NBDrag.event.PREPARE_DRAG,this.prepareDrag),this.on(NBDrag.event.STOP_DRAG,this.onStopDrag)}},{key:"update",value:function(e){(0,d.default)((0,I.default)(Pledget.prototype),"update",this).call(this,e),(this.medicineData.liquidAry.length||(0,n.default)(this.medicineData.solidAry).length)&&(this.bg.putMc.bg.alpha=.5,0<this.getCurrentCapacity()&&!1===this.tubeDrip.isDripping?this.tubeDrip.isDripping=!0:this.tubeDrip.isDripping=!1,this.tubeDrip.timeLength=.01)}},{key:"prepareDrag",value:function(){this.eqAddToViewStack(),this.disabled||(this.medicineData.liquidAry.length||(0,n.default)(this.medicineData.solidAry).length)&&this.setDisable()}},{key:"onStopDrag",value:function(){this.disabled&&(this.clearMed(),this.setDisableMc())}},{key:"setDisable",value:function(){this.disabled=!0,this.noInteract=!0,this.noCombine=!0}},{key:"setDisableMc",value:function(){this.bg.packMc.visible=!0,this.bg.putMc.visible=!1,this.localBounds=this.getLocalBounds().clone(),this.originLocalBounds=(0,r.default)({},this.localBounds)}},{key:"clearMed",value:function(){var e,t=g(this.medicineNBGraphicMap.keys());try{for(t.s();!(e=t.n()).done;){var i,n=e.value,a=g(this.medicineNBGraphicMap.get(n));try{for(a.s();!(i=a.n()).done;){var r=i.value;this.removeNbGraphic([r]),r.destroy()}}catch(e){a.e(e)}finally{a.f()}}}catch(e){t.e(e)}finally{t.f()}this.medicineData.clear()}},{key:"toJSON",value:function(){var e=(0,d.default)((0,I.default)(Pledget.prototype),"toJSON",this).call(this);return this.disabled&&(e.disabled=this.disabled),e}},{key:"setJSON",value:function(e){(0,d.default)((0,I.default)(Pledget.prototype),"setJSON",this).call(this,e),e.disabled&&(this.setDisable(),this.setDisableMc())}}]),Pledget}();e.exports=Pledget},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8),i=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(i,[{key:"creationComplete",value:function(){var n,a,r,e=this,t=this.x,i=this.y;this.funnel=this.execute(NBCommand.CREATE_EQUIPMENT,"SeparatingFunnelBulbShapeWithHose"),this.funnel.on("creationComplete",function(){e.funnel.x=t,e.funnel.y=i,e.funnel.getEqLayer().addChild(e.funnel),l()}),this.group=this.execute(NBCommand.CREATE_EQUIPMENT,"CatheterGroupWhole"),this.group.on("assemblyCompleted",function(e){var t=e.eq,i=t.left,e=t.right,t=t.rubber;n=i,a=e,r=t,l()});var o=0,s=this;function l(){var e;2<=++o&&(e=s.funnel.head,n.x=e.width/2,n.y=-15,setTimeout(function(){e.addChildAt(n,0),n.updateCurveGlass(0)},0),setTimeout(function(){s.funnel.bindCatheter(a),s.funnel.bindHeadCatheter(n),s.funnel.bindRubber(r),s.funnel.updateCatheterPos(),NBDrag.addDrag(s.funnel)},0))}}}]),i}();e.exports=i},function(e,t,SeparatingFunnelBulbShapeWithHose){"use strict";var a=SeparatingFunnelBulbShapeWithHose(4),i=SeparatingFunnelBulbShapeWithHose(0),r=i(SeparatingFunnelBulbShapeWithHose(69)),n=i(SeparatingFunnelBulbShapeWithHose(9)),o=i(SeparatingFunnelBulbShapeWithHose(1)),s=i(SeparatingFunnelBulbShapeWithHose(2)),l=i(SeparatingFunnelBulbShapeWithHose(7)),h=i(SeparatingFunnelBulbShapeWithHose(5)),c=i(SeparatingFunnelBulbShapeWithHose(6)),u=i(SeparatingFunnelBulbShapeWithHose(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var SeparatingFunnelBulbShape=SeparatingFunnelBulbShapeWithHose(265),SeparatingFunnelBulbShapeWithHose=function(){(0,h.default)(SeparatingFunnelBulbShapeWithHose,SeparatingFunnelBulbShape);var t=d(SeparatingFunnelBulbShapeWithHose);function SeparatingFunnelBulbShapeWithHose(){var e;return(0,o.default)(this,SeparatingFunnelBulbShapeWithHose),(e=t.call(this)).name="SeparatingFunnelBulbShapeWithHose",e.CNName="带胶塞的球形分液漏斗",e.bindedCatheter=void 0,e.bindedHeadCatheter=void 0,e.bindedRubber=void 0,e}return(0,s.default)(SeparatingFunnelBulbShapeWithHose,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(SeparatingFunnelBulbShapeWithHose.prototype),"creationComplete",this).call(this),this.head.isOpen=!0,this.canHasHole=!1}},{key:"bindCatheter",value:function(a){var r,o,s,e,l,t=this;function i(){var e,t,i,n;r&&l.checkAllInEqlayer()&&(e=l.x,t=l.y,i=e-o,n=t-s,a.x+=i,a.y+=n,o=e,s=t)}a&&(r=!1,o=this.x,s=this.y,e=this.getEqLayer(),(l=this).bindedCatheter||((this.bindedCatheter=a).extendSprite.setEnabled(!1),this.on(NBDrag.event.START_DRAG,function(){t.isCovered()&&t.checkAllInEqlayer()&&(r=!0,o=t.x,s=t.y)}),this.on(NBDrag.event.DRAG_MOVE,i),this.on(NBDrag.event.STOP_DRAG,function(){i(),r=!1,t.checkAllInEqlayer()&&e.addChildWithSamePos(a),a.emit(NBDrag.event.STOP_DRAG)})))}},{key:"checkAllInEqlayer",value:function(){var e=this.getEqLayer(),t=this.bindedCatheter;return this.parent===e&&t.parent===e}},{key:"bindRubber",value:function(e){var t,i,n=this;e&&(t=(this.bindedRubber=e).catheterIsStoped,i=this,(0,r.default)(e,{catheterIsStoped:{set:function(e){t=e,n.head.isOpen=!e},get:function(){return i.isLinked||t}}}))}},{key:"isLinked",get:function(){return this&&this.bindedCatheter&&this.head&&this.head.parent===this&&this.currentContainer===this.bindedCatheter.currentContainer}},{key:"bindHeadCatheter",value:function(e){var t;e&&(this.bindedHeadCatheter||(this.bindedHeadCatheter=e,NBDrag.removeDrag(e),e.dragAble=!1,e.extendSprite.setEnabled(!1),(t=this).head.on(NBDrag.event.DRAG_MOVE,function(){e.isDeleting?(t.head.isOpen=!1,t.head.off(NBDrag.event.DRAG_MOVE)):e.emit(NBDrag.event.DRAG_MOVE)}),this.on("change",function(){e.isDeleting?(t.head.isOpen=!1,t.head.off("change")):e.emit(NBDrag.event.DRAG_MOVE)})))}},{key:"reversal",value:function(){(0,l.default)((0,u.default)(SeparatingFunnelBulbShapeWithHose.prototype),"reversal",this).call(this),this.checkAllInEqlayer()&&this.updateCatheterPos()}},{key:"updateCatheterPos",value:function(){var e=this.x,t=this.y,i=this.height,n=this.width,a=this.bindedCatheter;a.y=t+.55*i,0===this.reversalType?(a.x=e+.25*n,this.bindedHeadCatheter.updateCurveGlass(0),a.updateCurveGlass(0)):1===this.reversalType&&(a.x=e+.45*n,this.bindedHeadCatheter.updateCurveGlass(Math.PI),a.updateCurveGlass(Math.PI))}},{key:"toJSON",value:function(){return(0,n.default)((0,l.default)((0,u.default)(SeparatingFunnelBulbShapeWithHose.prototype),"toJSON",this).call(this),{_bindedCatheter:this.bindedCatheter?this.bindedCatheter.getUUID():void 0,_bindedHeadCatheter:this.bindedHeadCatheter?this.bindedHeadCatheter.getUUID():void 0,_bindedRubber:this.bindedRubber?this.bindedRubber.getUUID():void 0})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(SeparatingFunnelBulbShapeWithHose.prototype),"setJSON",this).call(this,e),e._bindedCatheter&&this.getEquipmentByUUID(e._bindedCatheter).then(function(e){t.bindCatheter(e)}),e._bindedHeadCatheter&&this.getEquipmentByUUID(e._bindedHeadCatheter).then(function(e){t.bindHeadCatheter(e)}),e._bindedRubber&&this.getEquipmentByUUID(e._bindedRubber).then(function(e){t.bindRubber(e)})}}]),SeparatingFunnelBulbShapeWithHose}();e.exports=SeparatingFunnelBulbShapeWithHose},function(e,t,SeparatingFunnelPearShape){"use strict";var a=SeparatingFunnelPearShape(4),i=SeparatingFunnelPearShape(0),n=i(SeparatingFunnelPearShape(1)),r=i(SeparatingFunnelPearShape(2)),o=i(SeparatingFunnelPearShape(7)),s=i(SeparatingFunnelPearShape(5)),l=i(SeparatingFunnelPearShape(6)),h=i(SeparatingFunnelPearShape(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=SeparatingFunnelPearShape(10),d=SeparatingFunnelPearShape(126),p=SeparatingFunnelPearShape(80),f=SeparatingFunnelPearShape(16),I=SeparatingFunnelPearShape(21),g=SeparatingFunnelPearShape(200),SeparatingFunnelPearShape=function(){(0,s.default)(SeparatingFunnelPearShape,d);var t=c(SeparatingFunnelPearShape);function SeparatingFunnelPearShape(){var e;return(0,n.default)(this,SeparatingFunnelPearShape),(e=t.call(this)).autoHideInfo=!0,e.noPascal=!0,e.name="SeparatingFunnelPearShape",e.CNName="梨形分液漏斗",e.removeAry=[],e.z_index=15.26,e}return(0,r.default)(SeparatingFunnelPearShape,[{key:"creationComplete",value:function(){var e=this;this.initShakeHand(),(0,o.default)((0,h.default)(SeparatingFunnelPearShape.prototype),"creationComplete",this).call(this),this.head.headIndex=5,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this}),this.drop.alpha=0,this.tubeDrip=new p(this,this.medicineData,this.drop,{x:this.drop.x,y:this.drop.y+24},2e3,.4,.2,u),this.setSwitch(),this.setEnableRotate(!0),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))})}},{key:"initShakeHand",value:function(){this.shakeHandTop.visible=!1,this.shakeHandTop.allowGetBounds=!1,this.shakeHandBot.visible=!1,this.shakeHandBot.allowGetBounds=!1}},{key:"setEnableRotate",value:function(e){this.enableRotate(e,{position:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:0,y:100,width:this.localBounds.width,height:.2*this.localBounds.height}},1)}},{key:"setPercent",value:function(e){e=this.minTimeLength+(this.maxTimeLength-this.minTimeLength)*(e=1-e);this.ani.gotoAndStop(4-Math.round((e-this.minTimeLength)/(this.maxTimeLength-this.minTimeLength)*4)),this.tubeDrip.timeLength=e}},{key:"setSwitch",value:function(){var n=this;this.tubeDrip.timeLength=this.maxTimeLength,this.movePortraitSwitchButton=new g(this,{x:-60,y:380},"left"),this.movePortraitSwitchButton.setEnabled(!0);var a=this,e=this.root.mouseManager,r=0,o=this.maxTimeLength;function t(){for(var e=r=0;e<a.removeAry.length;e++){var t=a.removeAry[e];NBDrag.addDrag(t),t.interactive=!0}a.removeAry.length=0}this.tubeDrip.timeLength=o,this.ani.on(MouseEvent.MOUSE_OVER,function(){e.changeMouseStatus(f.status.STRETCH,!0,n.ani)}),this.ani.on(MouseEvent.MOUSE_OUT,function(){e.changeMouseStatus(f.status.STRETCH,!1,n.ani)}),this.ani.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){r=e.data.global.y,o=n.tubeDrip.timeLength||0,a.findAllParent(a,a.removeAry);for(var t=0;t<a.removeAry.length;t++){var i=a.removeAry[t];NBDrag.removeDrag(i),i.interactive=!1}}),this.ani.addEventListener(TouchEvent.TOUCH_MOVE,function(e){var t;0!==r&&(t=e.data.global.y,e=(r-t)/100,r=t,e=(e=(e=o+e)<n.minTimeLength?n.minTimeLength:e)>n.maxTimeLength?n.maxTimeLength:e,e=((o=e)-n.minTimeLength)/(n.maxTimeLength-n.minTimeLength),n.movePortraitSwitchButton.setPosByPercent(1-e),n.ani.gotoAndStop(4-Math.round(4*e)),n.tubeDrip.timeLength=o)}),this.ani.addEventListener(TouchEvent.TOUCH_END,t.bind(this)),this.ani.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,t.bind(this))}},{key:"findAllParent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t.push(e),e.parent&&e.parent!==this.getEqLayer()&&this.findAllParent(e.parent,t),t}},{key:"isCovered",value:function(){if(this.head)return this.head.parent===this}},{key:"toogleShakeHand",value:function(e){this.shakeHandTop.visible=e,this.shakeHandTop.alpha=e?1:0,this.shakeHandBot.visible=e,this.shakeHandBot.alpha=e?1:0}},{key:"shakeSelf",value:function(){var e,t,i,n,a,r,o,s=this;this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||(this.head&&(o=this.children.indexOf(this.shakeHandTop),this.addChildAt(this.head,o-1),this.head.isDeleting=null,this.head.x=73.05,this.head.y=0),this.addChildAt(this.shakeHandBot,0),this.setPercent(0),this.movePortraitSwitchButton.setPosByPercent(0),this.interactive=!1,this.interactiveChildren=!1,NBDrag.removeDrag(this),e=new TimelineMax,this.hasReact=nb.ACTIVE_COUNT,this.toogleShakeHand(!0),t=this,a=(i=-.75*Math.PI)-this.rotation,n=this.toGlobal(this.getCenterPosition()),r=a,(o=this.toGlobal({x:0,y:0})).x-=n.x,o.y-=n.y,a=o.x*Math.cos(r)-o.y*Math.sin(r),r=o.x*Math.sin(r)+o.y*Math.cos(r),o.x=a+n.x,o.y=r+n.y,o=this.parent.toLocal(o),e.to(this,.3,{rotation:i,x:o.x,y:o.y}).to(this,.15,{x:o.x+200,y:o.y+200,onComplete:function(){s.reCalSolvent()}}).to(this,.3,{x:o.x,y:o.y,repeat:5,onComplete:function(){t.interactive=!0,t.interactiveChildren=!0,NBDrag.addDrag(t),s.toogleShakeHand(!1)}}))}},{key:"update",value:function(e){(0,o.default)((0,h.default)(SeparatingFunnelPearShape.prototype),"update",this).call(this,e),0!==this.getCurrentCapacity()&&this.tubeDrip.timeLength<this.maxTimeLength&&!1===this.isCovered()&&this.getCurrentCapacity()>nb.dripError&&this.tubeDrip.checkPascal.call(this.tubeDrip)?!1===this.tubeDrip.isDripping&&(this.tubeDrip.isDripping=!0):this.tubeDrip.isDripping=!1}},{key:"getConfigureData",value:function(){var e=(0,o.default)((0,h.default)(SeparatingFunnelPearShape.prototype),"getConfigureData",this).call(this);return this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(I.getButton("shake","振荡",function(){this.shakeSelf()}.bind(this),this)),e}}]),SeparatingFunnelPearShape}();e.exports=SeparatingFunnelPearShape},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var SeparatingFunnelBulbShape=i(265);e.exports=function(){(0,l.default)(SeparatingFunnelStraight,SeparatingFunnelBulbShape);var t=u(SeparatingFunnelStraight);function SeparatingFunnelStraight(){var e;return(0,r.default)(this,SeparatingFunnelStraight),(e=t.call(this)).autoHideInfo=!0,e.noPascal=!0,e.name="SeparatingFunnelStraight",e.CNName="直形分液漏斗",e.removeAry=[],e.z_index=15.261,e.canHasHole=!0,e.hasHole=!1,e._addedBgGraphics=!1,e.switchOffsetX=160,e.headSwitchPos={x:-115,y:-380},e}return(0,o.default)(SeparatingFunnelStraight,[{key:"update",value:function(e){(0,s.default)((0,c.default)(SeparatingFunnelStraight.prototype),"update",this).call(this,e)}}]),SeparatingFunnelStraight}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var RoundBottomFlask=i(262);e.exports=function(){(0,l.default)(SmallRoundBottomFlask,RoundBottomFlask);var t=u(SmallRoundBottomFlask);function SmallRoundBottomFlask(){var e;return(0,r.default)(this,SmallRoundBottomFlask),(e=t.call(this)).name="SmallRoundBottomFlask",e.CNName="圆底烧瓶100mL",e}return(0,o.default)(SmallRoundBottomFlask,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(SmallRoundBottomFlask.prototype),"creationComplete",this).call(this),this.capacityScale=.275907515200235}}]),SmallRoundBottomFlask}()},function(e,t,TestTubeWithSideNeck){"use strict";var a=TestTubeWithSideNeck(4),i=TestTubeWithSideNeck(0),n=i(TestTubeWithSideNeck(1)),r=i(TestTubeWithSideNeck(2)),c=i(TestTubeWithSideNeck(7)),o=i(TestTubeWithSideNeck(5)),s=i(TestTubeWithSideNeck(6)),u=i(TestTubeWithSideNeck(3));function l(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var h=TestTubeWithSideNeck(10),d=TestTubeWithSideNeck(58),p=TestTubeWithSideNeck(127),f=TestTubeWithSideNeck(33),I=TestTubeWithSideNeck(11),g=TestTubeWithSideNeck(145),m=TestTubeWithSideNeck(18),y=TestTubeWithSideNeck(171),v=TestTubeWithSideNeck(21),C=TestTubeWithSideNeck(27),M=PIXI.Point,TestTubeWithSideNeck=function(){(0,o.default)(TestTubeWithSideNeck,h);var t=l(TestTubeWithSideNeck);function TestTubeWithSideNeck(){var e;return(0,n.default)(this,TestTubeWithSideNeck),(e=t.call(this)).needSpoonPlug=!0,e.name="TestTubeWithSideNeck",e.CNName="具支试管",e.needLimitObjAry=["TestTubeRack","TestTubeHolder","IronClamp"],e.allowRubberCatheter=!0,e.addedRubber=null,e.canCommandPlug=!0,e.isLeft=1,e.rubberPos={x:134,y:107.5},e.z_index=15.29,e.fireParticleSettings={x:134,y:107.5,rotation:0,particle:null,waterParticle:null,bindAttr:"addedRubber"},e.hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e.leakageMedicine=[],e.bubbleParticle=null,e.rubberMedicine=[],e.bubblePos={x:34,y:102},e.W=80,e.H=588,e.pU=new M(0,0),e.pD=new M(0,588),e.pM=new M(0,294),e.addSolidMedPos=new M(0,294),e}return(0,r.default)(TestTubeWithSideNeck,[{key:"creationComplete",value:function(){(0,c.default)((0,u.default)(TestTubeWithSideNeck.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),d.apply(this)}},{key:"smellMedicine",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.interactive=!1,this.interactiveChildren=!1,this.root.execute(NBCommand.ADD_EQUIPMENT,"Fun",this)}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldTestTube",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"update",value:function(e){(0,c.default)((0,u.default)(TestTubeWithSideNeck.prototype),"update",this).call(this,e);var t=this.fireParticleSettings;t.particle&&(!t.particle.particleRemoved&&(null===this[t.bindAttr]||t.secondAttr&&null===this[t.bindAttr][t.secondAttr])||(!1===t.particle.particleRemoved&&t.particle.destroy(!0),t.particle=null),t.particle&&(t.particle.updateMedicine(this.medicineData.gasAry),t.particle.render(e)));for(var i=[],n=0,a=0;a<this.leakageMedicine.length;a++){var r=this.leakageMedicine[a];r instanceof f&&(i.push(r),n+=r.mol,r.mol/=2)}if(null===this[t.bindAttr]||t.secondAttr&&null===this[t.bindAttr][t.secondAttr]?t.waterParticle&&!1===t.waterParticle.particleRemoved?(t.waterParticle.updateMedicine(i,n),t.waterParticle.render(e)):1e-4<n&&(t.waterParticle=new g(this,n,t)):t.waterParticle&&(t.waterParticle.destroy(!0),t.waterParticle=null),0<this.toGlobal(this.rubberPos).y-this.liquidVertex[0].y){for(var o=0,s=0;s<this.rubberMedicine.length;s++){var l=this.rubberMedicine[s];l instanceof C&&(o+=l.mol)}if(this.bubbleParticle)if(this.bubbleParticle.particleRemoved)this.bubbleParticle=null;else{this.bubblePos.rotation=-m.retrieveRotation(this.worldTransform),this.bubbleParticle.updateMedicine(this.rubberMedicine,o,this.bubblePos),this.bubbleParticle.render(e);for(var h=0;h<this.rubberMedicine.length;h++)this.rubberMedicine[h].mol/=2}else 1e-6<o&&(this.bubbleParticle=new y(this.waterContainer))}else this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null)}},{key:"getLightOnPoint",value:function(){return this.toGlobal(this.fireParticleSettings)}},{key:"lightOn",value:function(){var e,t;null===this.fireParticleSettings.particle&&this.pascal>I.PASCAL&&this.toLocal(this.liquidVertex[0]).y>this.fireParticleSettings.y&&(t=(e=this.fireParticleSettings).particle=new p(this),this.addChild(t),t.x=e.x,t.y=e.y,t.rotation=e.rotation,t.particle.updateMedicine(this.medicineData.gasAry))}},{key:"getPutMedicinePoint",value:function(){var e;return e=this.medRef?{x:this.medRef.x,y:this.medRef.y}:{x:(e=this.localBounds).x+e.width/4,y:e.y},this.toGlobal(e)}},{key:"canSpoonPour",value:function(){return!this.currentPlug}},{key:"getConfigureData",value:function(){var e=(0,c.default)((0,u.default)(TestTubeWithSideNeck.prototype),"getConfigureData",this).call(this);return this.isOpen||this.holdAnimation||this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(v.getButton(null,"手握",function(){this.hold()}.bind(this),this)),this.holdAnimation&&(this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(v.getButton(null,"松手",function(){this.loose()}.bind(this),this))),!this.hasAnimation&&this.isOpen&&(this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(v.getButton(null,"闻气味",function(){this.smellMedicine()}.bind(this),this))),e}}]),TestTubeWithSideNeck}();e.exports=TestTubeWithSideNeck},function(e,t,ThreeNeckedFlask){"use strict";var a=ThreeNeckedFlask(4),i=ThreeNeckedFlask(0),n=i(ThreeNeckedFlask(1)),r=i(ThreeNeckedFlask(2)),o=i(ThreeNeckedFlask(7)),s=i(ThreeNeckedFlask(5)),l=i(ThreeNeckedFlask(6)),h=i(ThreeNeckedFlask(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ThreeNeckedFlask(10),d=ThreeNeckedFlask(58),p=ThreeNeckedFlask(21),ThreeNeckedFlask=function(){(0,s.default)(ThreeNeckedFlask,u);var t=c(ThreeNeckedFlask);function ThreeNeckedFlask(){var e;return(0,n.default)(this,ThreeNeckedFlask),(e=t.call(this)).name="ThreeNeckedFlask",e.needLimitObjAry=["IronClamp"],e._medRef={x:225.7,y:7.5},e}return(0,r.default)(ThreeNeckedFlask,[{key:"currentPlug",get:function(){},set:function(e){}},{key:"medRefOfLabSpoon",get:function(){return this._medRef},set:function(e){this._medRef=e}},{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ThreeNeckedFlask.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.bg.interactive=!1,this.bg.interactiveChildren=!1,d.apply(this)}},{key:"getPutMedicinePoint",value:function(){var e=this.localBounds;this.updateTransform();e={x:e.x+e.width/2+5,y:e.y};return this.toGlobal(e)}},{key:"checkCanPour",value:function(){return!this.chooseArea.area0.thisAreaWasFull}},{key:"getChooseAreaMaxY",value:function(e){var t,i,n=e,a=this.chooseArea.area0,r=this.chooseArea.area2,o=a.thisAreaWasFull,e=r.thisAreaWasFull;return o?e||(t=r.getLocalBounds(),i=r.toGlobal({x:t.x,y:t.y}),t=r.toGlobal({x:t.x+t.width,y:t.y}),n=Math.max(i.y,t.y,n)):(i=a.getLocalBounds(),t=a.toGlobal({x:i.x,y:i.y}),i=a.toGlobal({x:i.x+i.width,y:i.y}),n=Math.max(t.y,i.y,n)),n}},{key:"pourIn",get:function(){return this.chooseArea.area2.thisAreaWasFull?this.chooseArea.area1.thisAreaWasFull?this.chooseArea.area0.thisAreaWasFull?null:this.pourInArea0:this.pourInArea1:this.pourInArea2}},{key:"getPutMedPosInfo",value:function(){var e={rotation:-Math.PI/2,pos:this.pourInArea1};return this.chooseArea.area1.thisAreaWasFull&&(this.chooseArea.area2.thisAreaWasFull?(e.rotation-=this.chooseArea.area0.rotation,e.pos=this.pourInArea0):(e.rotation-=this.chooseArea.area2.rotation,e.pos=this.pourInArea2)),e}},{key:"getAddMedPos",value:function(){var e=this.chooseArea.area2,t=(e=this.chooseArea.area2.thisAreaWasFull?this.chooseArea.area1.thisAreaWasFull?this.chooseArea.area0:this.chooseArea.area1:e).getLocalBounds();return this.toLocal({x:t.x+t.width/2,y:t.y+t.height/5},e)}},{key:"getSpoonHintInfo",value:function(){var e={p0:{x:225.7,y:209.9},p1:{x:225.7,y:7.5}};return this.chooseArea.area1.thisAreaWasFull&&(this.chooseArea.area2.thisAreaWasFull?(e.p0.x=126.5,e.p0.y=217.3,e.p1.x=40.7):(e.p0.x=315.5,e.p0.y=229.4,e.p1.x=408),e.p1.y=62.4),this.medRefOfLabSpoon=e.p0,e}},{key:"getSpoonPourInfo",value:function(){var e=this.getSpoonHintInfo();return{p0:this.toGlobal(e.p0),p1:this.toGlobal(e.p1)}}},{key:"hold",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.root.execute(NBCommand.ADD_EQUIPMENT,"HoldThreeNeckFlask",this)}},{key:"loose",value:function(){this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.holdAnimation.delHoldAnimation()}},{key:"getConfigureData",value:function(){var e=(0,o.default)((0,h.default)(ThreeNeckedFlask.prototype),"getConfigureData",this).call(this);return this.isOpen||this.holdAnimation||this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(p.getButton(null,"手握",function(){this.hold()}.bind(this),this)),this.holdAnimation&&(this.parent!==this.getEqLayer()||TweenMax.isTweening(this)||e.confArr.push(p.getButton(null,"松手",function(){this.loose()}.bind(this),this))),e}}]),ThreeNeckedFlask}();e.exports=ThreeNeckedFlask},function(e,t,ToiletCleaner){"use strict";var a=ToiletCleaner(4),i=ToiletCleaner(0),n=i(ToiletCleaner(1)),r=i(ToiletCleaner(2)),o=i(ToiletCleaner(7)),s=i(ToiletCleaner(5)),l=i(ToiletCleaner(6)),h=i(ToiletCleaner(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ToiletCleaner(10),d=ToiletCleaner(33),p=ToiletCleaner(29).getLan,ToiletCleaner=function(){(0,s.default)(ToiletCleaner,u);var i=c(ToiletCleaner);function ToiletCleaner(e){var t;return(0,n.default)(this,ToiletCleaner),(t=i.call(this)).name="ToiletCleaner",t.CNName="洁厕灵",t.dataBuild=!1,t.isLiquidMedicine=!0,t.isLiquidMedBottle=!0,t.noConfig=!0,t.z_index=15.03,e&&(t.dataBuild=e.dataBuild),t}return(0,r.default)(ToiletCleaner,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(ToiletCleaner.prototype),"creationComplete",this).call(this),this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0}),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.selfLabel.txt.text=p("洁厕灵"),this.selfLabel.txt.anchor.x=.5,this.selfLabel.txt.anchor.y=.5,this.selfLabel.txt.x=78,this.selfLabel.txt.y=48,125<this.selfLabel.txt.width&&(this.selfLabel.txt.scale.x=125/this.selfLabel.txt.width),this.createMedicine()}},{key:"createMedicine",value:function(){var e=this.root.medicineManager.getMedicineData("HCl"),t=this.root.medicineManager.getMedicineData("H2O"),e=new d(e,4),t=new d(t,1e3/18);this.medicineData.push(t),this.medicineData.push(e)}}]),ToiletCleaner}();e.exports=ToiletCleaner},function(e,t,UDryingTube){"use strict";var a=UDryingTube(4),i=UDryingTube(0),n=i(UDryingTube(9)),r=i(UDryingTube(1)),o=i(UDryingTube(2)),s=i(UDryingTube(7)),l=i(UDryingTube(5)),h=i(UDryingTube(6)),c=i(UDryingTube(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=UDryingTube(10),p=UDryingTube(58),f=UDryingTube(20),I=UDryingTube(79),g=469981,UDryingTube=function(){(0,l.default)(UDryingTube,d);var i=u(UDryingTube);function UDryingTube(e){var t;return(0,r.default)(this,UDryingTube),(t=i.call(this)).name="UDryingTube",t.CNName="硫酸铜U型管",t.needLimitObjAry=["IronClamp","IronClampSideLook"],t.preventCalEffect=!0,t.dataBuild=!1,e&&(t.dataBuild=e.dataBuild),t}return(0,o.default)(UDryingTube,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(UDryingTube.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),p.apply(this),this.capacityScale=.4,this.currentH2O=0,this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.colorMatrix=new PIXI.filters.ColorMatrixFilter,this.colorMatrix.matrix=this.matrix,this.solidImage.filters=[this.colorMatrix],this.CuSO4Dat=this.root.medicineManager.getMedicineData("CuSO4"),this.H2O=this.root.medicineManager.getMedicineData("H2O");var t,i,e=new f(this.CuSO4Dat,.8);this.leftCurrent=0,this.rightCurrent=0,this.medicineData.push(e),this.targetR=7/255,this.targetG=43/255,this.targetB=221/255,this.targetMedDat=this.root.medicineManager.getMedicineData("CuSO4·5H2O"),this.dataBuild||(this.autoAddPlug(),e=(this.getTotalCapacity()-this.medicineData.getCapacity())/1e6*nb.PASCAL/(nb.R*I.convertCToK(nb.DEFAULT_TEMP)),t=.2*e,i=.8*e,this.medicineData.gasAry.forEach(function(e){"O2"===e.name&&e.setMol(t),"N2"===e.name&&e.setMol(i)})),this.addEventListener("areaPushLeakage",this.areaPush),this.slope=[],this.centerPoint={x:110,y:100},this.reduceCircle=50,this.oriTypeAry=[0,0,0],this.initCuSO45H2O()}},{key:"update",value:function(e){if(this.currentH2O<4){for(var t=this.medicineData,i=0;i<t.gasAry.length;i++){var n=t.gasAry[i];if("H2O"===n.name&&0<n.mol){this.medicineData.push(new LiquidVO(this.root.medicineManager.getMedicineData("H2O"),.1*n.mol)),t.gasAry.splice(i,1);break}}for(var a=0;a<t.liquidAry.length;a++){var r=t.liquidAry[a];if("H2O"===r.name){this.currentH2O=r.mol;break}}}(0,s.default)((0,c.default)(UDryingTube.prototype),"update",this).call(this,e)}},{key:"modifyMed",value:function(e){this.medicineData.push(new f(this.CuSO4Dat,-(e/=5))),this.medicineData.push(new LiquidVO(this.H2O,5*-e)),this.medicineData.push(new f(this.targetMedDat,e))}},{key:"areaPush",value:function(e){var t,i=this.medicineData.solidAry.CuSO4;!i||i.getMol()<0||(t=(e.med||e).find(function(e){return"H2O"===e.name}))&&((i=t.getMol())<0||(t=i/4,this.modifyMed(i),1<=this.leftCurrent+this.rightCurrent||("area0"===e.name?(this.leftCurrent+=t,this.changeCuSO4Gra(0,Math.floor(380*this.leftCurrent))):"area1"===e.name&&(this.rightCurrent+=t,this.changeCuSO4Gra(1,Math.floor(380*this.rightCurrent))))))}},{key:"addMedicine",value:function(e,t){var i="area0";t&&(100<t.x&&(i="area1"),this.medicineData.push(e),this.emit("areaPushLeakage",{name:i,med:e}))}},{key:"createGra",value:function(){var e=new PIXI.Graphics;return this.addChild(e),e.x=0,e.y=180,e.beginFill(g,1),e.lineStyle(.1,g),e}},{key:"initCuSO45H2O",value:function(){this.leftGra=this.createGra(),this.rightGra=this.createGra(),this.solidImageBlueRight.mask=this.rightGra,this.solidImageBlueLeft.mask=this.leftGra;for(var e=0;e<=380;e++){var t,i=void 0;i=e<100?{pa:{x:0,y:e},pb:{x:this.centerPoint.x-this.reduceCircle,y:e}}:e<280?(t=Math.PI-Math.PI/180*(e-100),{pa:{x:this.centerPoint.x+this.centerPoint.x*Math.cos(t),y:this.centerPoint.y+this.centerPoint.y*Math.sin(t)},pb:{x:this.centerPoint.x+50*Math.cos(t),y:this.centerPoint.y+50*Math.sin(t)}}):{pa:{x:2*this.centerPoint.x,y:380-e},pb:{x:this.centerPoint.x+this.reduceCircle,y:380-e}},this.slope.push(i)}this.leftSlope=this.slope.concat([]),this.rightSlope=this.slope.reverse()}},{key:"changeCuSO4Gra",value:function(e,t){var i,n,a;if(!(380<(t=t<10?10:t))){switch(e){case 0:if(void 0!==this.lastLeftNum&&t<=this.lastLeftNum)return;this.lastLeftNum=t,i=this.leftGra,n=this.leftSlope[t],a=this.leftSlope;break;case 1:if(void 0!==this.lastrightNum&&t<=this.lastrightNum)return;this.lastrightNum=t,i=this.rightGra,n=this.rightSlope[t],a=this.rightSlope}i.clear(),i.beginFill(g,1),i.lineStyle(2,g),i.moveTo(0,0);var r=n.pa,o=n.pb,s=(r.x-o.x)/(r.y-o.y);r.x-o.x!=0&&r.y-o.y!=0||(s=0);for(var l=0;l<t;l++){var h=a[l].pa;0===l?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)}for(var c=1;c<20;c++){var u={x:(o.x-r.x)*(c/20)+r.x,y:(o.y-r.y)*(c/20)+r.y},d=Math.floor(5*(Math.random()-.5));0===s?u.y+=d:(u.x+=d,u.y+=d*s),i.lineTo(u.x,u.y)}for(var p=t-1;0<=p;p--){var f=a[p].pb;i.lineTo(f.x,f.y)}}}},{key:"canSpoonPour",value:function(){return!1}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(UDryingTube.prototype),"setJSON",this).call(this,e),void 0!==e.currentH2O?this.currentH2O=e.currentH2O:this.currentH2O=0}},{key:"toJSON",value:function(){var e={};return e.currentH2O=this.currentH2O,(0,n.default)(e,(0,s.default)((0,c.default)(UDryingTube.prototype),"toJSON",this).call(this))}}]),UDryingTube}();e.exports=UDryingTube},function(e,t,UDryingTubeOfCaO){"use strict";var a=UDryingTubeOfCaO(4),i=UDryingTubeOfCaO(0),f=i(UDryingTubeOfCaO(95)),I=i(UDryingTubeOfCaO(60)),n=i(UDryingTubeOfCaO(1)),r=i(UDryingTubeOfCaO(2)),g=i(UDryingTubeOfCaO(7)),o=i(UDryingTubeOfCaO(5)),s=i(UDryingTubeOfCaO(6)),m=i(UDryingTubeOfCaO(3));function l(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(i);return t=n?(e=(0,m.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var h=UDryingTubeOfCaO(10),c=UDryingTubeOfCaO(58),y=UDryingTubeOfCaO(20),v=UDryingTubeOfCaO(33),C=UDryingTubeOfCaO(27),M=UDryingTubeOfCaO(100),b=UDryingTubeOfCaO(166),u=UDryingTubeOfCaO(79),d=[.3,.6,.1,0,.2,.3,.6,.1,0,.2,.3,.6,.1,0,.2,0,0,0,1,0],UDryingTubeOfCaO=function(){(0,o.default)(UDryingTubeOfCaO,h);var i=l(UDryingTubeOfCaO);function UDryingTubeOfCaO(e){var t;return(0,n.default)(this,UDryingTubeOfCaO),(t=i.call(this)).name="UDryingTubeOfCaO",t.CNName="碱石灰U型管",t.needLimitObjAry=["IronClamp","IronClampSideLook"],t.dataBuild=!1,t.preventCalEffect=!0,e&&(t.dataBuild=e.dataBuild),t}return(0,r.default)(UDryingTubeOfCaO,[{key:"creationComplete",value:function(){(0,g.default)((0,m.default)(UDryingTubeOfCaO.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),c.apply(this),this.capacityScale=.4,this.colorMatrix=new PIXI.filters.ColorMatrixFilter,this.colorMatrix.matrix=d,this.solidImage.filters=[this.colorMatrix];var t,i,e=this.root.medicineManager.getMedicineData("CaO"),n=this.root.medicineManager.getMedicineData("NaOH"),e=new y(e,15),n=new y(n,5);this.medicineData.push(e),this.medicineData.push(n),this.noNbGraphics=!0,this.dataBuild||(this.autoAddPlug(),n=(this.getTotalCapacity()-this.medicineData.getCapacity())/1e6*nb.PASCAL/(nb.R*u.convertCToK(nb.DEFAULT_TEMP)),t=.2*n,i=.8*n,this.medicineData.gasAry.forEach(function(e){"O2"===e.name&&e.setMol(t),"N2"===e.name&&e.setMol(i)}))}},{key:"update",value:function(e){var t=this.medicineData.gasAry.quickMap.get("H2O");t&&(this.medicineData.push(new v(t.dat,t.getMol())),this.medicineData.pop(t));for(var i=this.medicineData.gasAry.concat(this.medicineData.liquidAry),t=(0,f.default)(this.medicineData.solidAry),i=i.concat(t),n=ChemicalUtil.generalFindEquation(i,void 0,this.root.medicineManager),a=new I.default,r=0;r<n.length;r++){var o=n[r];if(!/点燃|△|高温/.test(o.equationDat.Condition)){for(var s=n[r].products,l=n[r].reactants,h=0;h<l.length;h++){var c,u=l[h].med;u.mol&&0<u.mol&&(u.mol=-u.mol,/HCl|CO2|SO2|Cl2|H2S|HI|HBr/.test(u.name)?(c=this.medicineData.gasAry.quickMap.get(u.name))&&(c.mol=0):this.medicineData.push(u))}for(var d=0;d<s.length;d++){var p=s[d].med;if(p&&"H2O"===p.name)this.medicineData.push(new v(p.dat,p.mol));else if(p&&p.mol&&0<p.mol)switch(p.type){case 0:this.medicineData.push(new y(p.dat,p.mol));break;case 1:this.medicineData.push(new v(p.dat,p.mol));break;case 2:this.medicineData.push(new C(p.dat,p.mol));break;case 3:this.medicineData.push(new M(p.dat,p.mol));break;case 4:this.medicineData.push(new b(p.dat,p.mol))}}a.has(o.equationDat.Name.replace(/\d/g,""))||(this.setReactStatus(n[r].equationDat,10),a.add(o.equationDat.Name.replace(/\d/g,"")))}}(0,g.default)((0,m.default)(UDryingTubeOfCaO.prototype),"update",this).call(this,e)}},{key:"addMedicine",value:function(e){this.medicineData.push(e)}},{key:"canSpoonPour",value:function(){return!1}}]),UDryingTubeOfCaO}();e.exports=UDryingTubeOfCaO},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8),i=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(i,[{key:"redoAdd",value:function(){function e(e,t,i,n){e.addChild(t),((t._equipment=e).addedRubber=t).x=e.rubberPos.x,t.y=e.rubberPos.y,n?i.addedNode[0]=e:i.addedNode[1]=e,e.addedNode.push(i)}this.left.x=10+this.x,this.left.y=this.y,e(this.left,this.rubber.leftHead,this.rubber,!0),e(this.right,this.rubber.rightHead,this.rubber,!1)}},{key:"creationComplete",value:function(){var e=this,t=this;this.left=this.execute(NBCommand.CREATE_EQUIPMENT,"UShapeTube"),this.right=this.execute(NBCommand.CREATE_EQUIPMENT,"UShapeTube");var i=!(this.executeEq=[this.left,this.right,this.rubber]),n=!1;this.left.on("creationComplete",function(){e.left.x=10+e.x,e.left.y=e.y,i=!0,a.addChild(r.left),o()}),this.right.on("creationComplete",function(){e.right.x=550+e.x,e.right.y=e.y,n=!0,a.addChild(r.right),o()}),this.cannotSystemDrag=!0,NBDrag.addDrag(this.left),NBDrag.addDrag(this.right);var a=this.getViewStack(),r=this;function o(){n&&i&&(t.rubber=t.execute(NBCommand.CREATE_EQUIPMENT,"RubberCatheter"),t.rubber.on("creationComplete",function(){t.left.addChild(t.rubber.leftHead),t.right.addChild(t.rubber.rightHead),t.rubber.leftHead.equipment=t.left,t.rubber.rightHead.equipment=t.right,t.left.addedRubber=t.rubber.leftHead,t.right.addedRubber=t.rubber.rightHead,t.rubber.leftHead.x=t.left.rubberPos.x,t.rubber.leftHead.y=t.left.rubberPos.y,t.rubber.rightHead.x=t.right.rubberPos.x,t.rubber.rightHead.y=t.right.rubberPos.y,t.rubber.rightHead.rotation=-t.right.rubberPos.rotation,t.rubber.leftHead.rotation=t.left.rubberPos.rotation,a.addChildAt(t.rubber,0)}))}}}]),i}();e.exports=i},function(e,t,UTube){"use strict";var a=UTube(4),i=UTube(0),n=i(UTube(1)),r=i(UTube(2)),o=i(UTube(7)),s=i(UTube(5)),l=i(UTube(6)),h=i(UTube(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=UTube(10),d=PIXI.Point,UTube=function(){(0,s.default)(UTube,u);var t=c(UTube);function UTube(){var e;return(0,n.default)(this,UTube),(e=t.call(this)).name="UTube",e.CNName="U型管",e.z_index=15.04,e.needSpoonPlug=!0,e.pLU=new d(23,0),e.pLM=new d(23,130),e.pRU=new d(193,0),e.pRM=new d(193,140),e.addSolidMedPos=new d(193,140),e}return(0,r.default)(UTube,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(UTube.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.addSolidMedPos={x:190,y:0}}},{key:"getSpoonPourInfo",value:function(){var e=this.getSpoonHintInfo();return{p0:this.toGlobal(e.p0),p1:this.toGlobal(e.p1)}}},{key:"getSpoonHintInfo",value:function(){var e,t;return this.chooseArea.area1.currentPlug?(e=this.pLM,t=this.pLU,this.addSolidMedPos=this.pLM):(e=this.pRM,t=this.pRU,this.addSolidMedPos=this.pRM),{p0:e,p1:t}}},{key:"canSpoonPour",value:function(){var e=this.chooseArea.area0.currentPlug;return!(this.chooseArea.area1.currentPlug&&e)}}]),UTube}();e.exports=UTube},function(e,t,UTubeWithSideNeckLeft){"use strict";var a=UTubeWithSideNeckLeft(4),i=UTubeWithSideNeckLeft(0),n=i(UTubeWithSideNeckLeft(1)),r=i(UTubeWithSideNeckLeft(2)),c=i(UTubeWithSideNeckLeft(7)),o=i(UTubeWithSideNeckLeft(5)),s=i(UTubeWithSideNeckLeft(6)),u=i(UTubeWithSideNeckLeft(3));function l(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var h=UTubeWithSideNeckLeft(10),d=UTubeWithSideNeckLeft(58),p=UTubeWithSideNeckLeft(127),f=UTubeWithSideNeckLeft(33),I=UTubeWithSideNeckLeft(11),g=UTubeWithSideNeckLeft(145),m=UTubeWithSideNeckLeft(18),y=UTubeWithSideNeckLeft(171),v=UTubeWithSideNeckLeft(27),C=PIXI.Point,UTubeWithSideNeckLeft=function(){(0,o.default)(UTubeWithSideNeckLeft,h);var t=l(UTubeWithSideNeckLeft);function UTubeWithSideNeckLeft(){var e;return(0,n.default)(this,UTubeWithSideNeckLeft),(e=t.call(this)).needSpoonPlug=!0,e.name="UTubeWithSideNeckLeft",e.CNName="具支U型管左侧",e.allowRubberCatheter=!0,e.addedRubber=null,e.canCommandPlug=!0,e.rubberPos={x:-184,y:-147,rotation:Math.PI},e.z_index=15.29,e.fireParticleSettings={x:-164,y:-147,rotation:Math.PI,particle:null,waterParticle:null,bindAttr:"addedRubber"},e.hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e.leakageMedicine=[],e.bubbleParticle=null,e.rubberMedicine=[],e.bubblePos={x:-108,y:-137},e.addSolidMedPos={x:-83,y:-100},e.UTubeRightPos={x:0,y:184},e.W=42,e.H=282,e.pU=new C(-81,-187),e.pD=new C(-81,95),e.pM=new C(-81,-46),e.addSolidMedPos=new C(-81,-46),e}return(0,r.default)(UTubeWithSideNeckLeft,[{key:"creationComplete",value:function(){(0,c.default)((0,u.default)(UTubeWithSideNeckLeft.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),d.apply(this)}},{key:"update",value:function(e){(0,c.default)((0,u.default)(UTubeWithSideNeckLeft.prototype),"update",this).call(this,e);var t=this.fireParticleSettings;t.particle&&(!t.particle.particleRemoved&&(null===this[t.bindAttr]||t.secondAttr&&null===this[t.bindAttr][t.secondAttr])||(!1===t.particle.particleRemoved&&t.particle.destroy(!0),t.particle=null),t.particle&&(t.particle.updateMedicine(this.medicineData.gasAry),t.particle.render(e)));for(var i=[],n=0,a=0;a<this.leakageMedicine.length;a++){var r=this.leakageMedicine[a];r instanceof f&&(i.push(r),n+=r.mol,r.mol/=2)}if(null===this[t.bindAttr]||t.secondAttr&&null===this[t.bindAttr][t.secondAttr]?t.waterParticle&&!1===t.waterParticle.particleRemoved?(t.waterParticle.updateMedicine(i,n),t.waterParticle.render(e)):1e-4<n&&(t.waterParticle=new g(this,n,t)):t.waterParticle&&(t.waterParticle.destroy(!0),t.waterParticle=null),0<this.toGlobal(this.rubberPos).y-this.liquidVertex[0].y){for(var o=0,s=0;s<this.rubberMedicine.length;s++){var l=this.rubberMedicine[s];l instanceof v&&(o+=l.mol)}if(this.bubbleParticle)if(this.bubbleParticle.particleRemoved)this.bubbleParticle=null;else{this.bubblePos.rotation=-m.retrieveRotation(this.worldTransform),this.bubbleParticle.updateMedicine(this.rubberMedicine,o,this.bubblePos),this.bubbleParticle.render(e);for(var h=0;h<this.rubberMedicine.length;h++)this.rubberMedicine[h].mol/=2}else 1e-6<o&&(this.bubbleParticle=new y(this.waterContainer))}else this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null)}},{key:"getLightOnPoint",value:function(){return this.toGlobal(this.fireParticleSettings)}},{key:"lightOn",value:function(){var e,t;null===this.fireParticleSettings.particle&&this.pascal>I.PASCAL&&this.toLocal(this.liquidVertex[0]).y>this.fireParticleSettings.y&&(t=(e=this.fireParticleSettings).particle=new p(this),this.addChild(t),t.x=e.x,t.y=e.y,t.rotation=e.rotation,t.particle.updateMedicine(this.medicineData.gasAry))}}]),UTubeWithSideNeckLeft}();e.exports=UTubeWithSideNeckLeft},function(e,t,UTubeWithSideNeckRight){"use strict";var a=UTubeWithSideNeckRight(4),i=UTubeWithSideNeckRight(0),n=i(UTubeWithSideNeckRight(1)),r=i(UTubeWithSideNeckRight(2)),c=i(UTubeWithSideNeckRight(7)),o=i(UTubeWithSideNeckRight(5)),s=i(UTubeWithSideNeckRight(6)),u=i(UTubeWithSideNeckRight(3));function l(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var h=UTubeWithSideNeckRight(10),d=UTubeWithSideNeckRight(58),p=UTubeWithSideNeckRight(127),f=UTubeWithSideNeckRight(33),I=UTubeWithSideNeckRight(11),g=UTubeWithSideNeckRight(145),m=UTubeWithSideNeckRight(18),y=UTubeWithSideNeckRight(171),v=UTubeWithSideNeckRight(27),C=PIXI.Point,UTubeWithSideNeckRight=function(){(0,o.default)(UTubeWithSideNeckRight,h);var t=l(UTubeWithSideNeckRight);function UTubeWithSideNeckRight(){var e;return(0,n.default)(this,UTubeWithSideNeckRight),(e=t.call(this)).needSpoonPlug=!0,e.name="UTubeWithSideNeckRight",e.CNName="具支U型管左侧",e.allowRubberCatheter=!0,e.addedRubber=null,e.canCommandPlug=!0,e.isLeft=1,e.rubberPos={x:164,y:-147},e.z_index=15.29,e.fireParticleSettings={x:164,y:-147,rotation:0,particle:null,waterParticle:null,bindAttr:"addedRubber"},e.hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e.leakageMedicine=[],e.bubbleParticle=null,e.rubberMedicine=[],e.bubblePos={x:108,y:-137},e.addSolidMedPos={x:83,y:-186},e.UTubeRightPos={x:0,y:184},e.W=42,e.H=282,e.pU=new C(83,-187),e.pD=new C(83,95),e.pM=new C(83,-46),e.addSolidMedPos=new C(83,-46),e}return(0,r.default)(UTubeWithSideNeckRight,[{key:"creationComplete",value:function(){(0,c.default)((0,u.default)(UTubeWithSideNeckRight.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),d.apply(this)}},{key:"update",value:function(e){(0,c.default)((0,u.default)(UTubeWithSideNeckRight.prototype),"update",this).call(this,e);var t=this.fireParticleSettings;t.particle&&(!t.particle.particleRemoved&&(null===this[t.bindAttr]||t.secondAttr&&null===this[t.bindAttr][t.secondAttr])||(!1===t.particle.particleRemoved&&t.particle.destroy(!0),t.particle=null),t.particle&&(t.particle.updateMedicine(this.medicineData.gasAry),t.particle.render(e)));for(var i=[],n=0,a=0;a<this.leakageMedicine.length;a++){var r=this.leakageMedicine[a];r instanceof f&&(i.push(r),n+=r.mol,r.mol/=2)}if(null===this[t.bindAttr]||t.secondAttr&&null===this[t.bindAttr][t.secondAttr]?t.waterParticle&&!1===t.waterParticle.particleRemoved?(t.waterParticle.updateMedicine(i,n),t.waterParticle.render(e)):1e-4<n&&(t.waterParticle=new g(this,n,t)):t.waterParticle&&(t.waterParticle.destroy(!0),t.waterParticle=null),0<this.toGlobal(this.rubberPos).y-this.liquidVertex[0].y){for(var o=0,s=0;s<this.rubberMedicine.length;s++){var l=this.rubberMedicine[s];l instanceof v&&(o+=l.mol)}if(this.bubbleParticle)if(this.bubbleParticle.particleRemoved)this.bubbleParticle=null;else{this.bubblePos.rotation=-m.retrieveRotation(this.worldTransform),this.bubbleParticle.updateMedicine(this.rubberMedicine,o,this.bubblePos),this.bubbleParticle.render(e);for(var h=0;h<this.rubberMedicine.length;h++)this.rubberMedicine[h].mol/=2}else 1e-6<o&&(this.bubbleParticle=new y(this.waterContainer))}else this.bubbleParticle&&(this.bubbleParticle.destroy(!0),this.bubbleParticle=null)}},{key:"getLightOnPoint",value:function(){return this.toGlobal(this.fireParticleSettings)}},{key:"lightOn",value:function(){var e,t;null===this.fireParticleSettings.particle&&this.pascal>I.PASCAL&&this.toLocal(this.liquidVertex[0]).y>this.fireParticleSettings.y&&(t=(e=this.fireParticleSettings).particle=new p(this),this.addChild(t),t.x=e.x,t.y=e.y,t.rotation=e.rotation,t.particle.updateMedicine(this.medicineData.gasAry))}}]),UTubeWithSideNeckRight}();e.exports=UTubeWithSideNeckRight},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10);e.exports=function(){(0,l.default)(VolumetricFlask100ml,d);var t=u(VolumetricFlask100ml);function VolumetricFlask100ml(){var e;return(0,r.default)(this,VolumetricFlask100ml),(e=t.call(this)).name="VolumetricFlask100ml",e.CNName="容量瓶100mL",e.z_index=15.32,e}return(0,o.default)(VolumetricFlask100ml,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(VolumetricFlask100ml.prototype),"creationComplete",this).call(this),this.capacityScale=.371070110701107,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this,outter:!0}),this.enableRotate(!0,{position:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:this.localBounds.width/3+3,y:118,width:this.localBounds.width/3-8,height:.3*this.localBounds.width}},1),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))})}}]),VolumetricFlask100ml}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10);e.exports=function(){(0,l.default)(VolumetricFlask250ml,d);var t=u(VolumetricFlask250ml);function VolumetricFlask250ml(){var e;return(0,r.default)(this,VolumetricFlask250ml),(e=t.call(this)).name="VolumetricFlask250ml",e.CNName="容量瓶250mL",e.z_index=15.33,e}return(0,o.default)(VolumetricFlask250ml,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(VolumetricFlask250ml.prototype),"creationComplete",this).call(this),this.capacityScale=.4709871891484552,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this,outter:!0}),this.enableRotate(!0,{position:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:this.localBounds.width/3+3,y:165,width:this.localBounds.width/3-8,height:.3*this.localBounds.width}},1),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))})}}]),VolumetricFlask250ml}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10);e.exports=function(){(0,l.default)(VolumetricFlask50ml,d);var t=u(VolumetricFlask50ml);function VolumetricFlask50ml(){var e;return(0,r.default)(this,VolumetricFlask50ml),(e=t.call(this)).name="VolumetricFlask50ml",e.CNName="容量瓶50mL",e.z_index=15.34,e}return(0,o.default)(VolumetricFlask50ml,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(VolumetricFlask50ml.prototype),"creationComplete",this).call(this),this.capacityScale=.35688793718772305,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this,outter:!0}),this.enableRotate(!0,{position:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotatePoint:{x:this.localBounds.width/2,y:this.localBounds.height/2},rotateRect:{x:this.localBounds.width/3+4,y:80,width:this.localBounds.width/3-8,height:.3*this.localBounds.width}},1),this.on(NBEvent.del.PREPARE_DELETE,function(){e.head.parent!==e&&(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))})}}]),VolumetricFlask50ml}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10),p=i(29).getLan;e.exports=function(){(0,l.default)(WasteWaterVat,d);var t=u(WasteWaterVat);function WasteWaterVat(){var e;return(0,r.default)(this,WasteWaterVat),(e=t.call(this)).name="WasteWaterVat",e.CNName="废液缸",e.noConfig=!0,e.noPascal=!0,e.medicineData.noPush=!0,e.noAddMedicine=!0,e}return(0,o.default)(WasteWaterVat,[{key:"addCandle",value:function(e){this.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e]})}},{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(WasteWaterVat.prototype),"creationComplete",this).call(this),this.initText()}},{key:"initText",value:function(){this.txt.text=p("eq_wasteWaterVat")}},{key:"getConfigureData",value:function(){return{confArr:[]}}}]),WasteWaterVat}()},function(e,t,WatchGlass){"use strict";var a=WatchGlass(4),i=WatchGlass(0),n=i(WatchGlass(1)),r=i(WatchGlass(2)),o=i(WatchGlass(7)),s=i(WatchGlass(5)),l=i(WatchGlass(6)),h=i(WatchGlass(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=WatchGlass(10),BigBeaker=WatchGlass(259),d=PIXI.Point,WatchGlass=function(){(0,s.default)(WatchGlass,u);var t=c(WatchGlass);function WatchGlass(){var e;return(0,n.default)(this,WatchGlass),(e=t.call(this)).name="WatchGlass",e.CNName="表面皿",e.z_index=15.35,e.pM=new d(100,0),e.pU=new d(100,-15),e.addSolidMedPos=new d(100,10),e}return(0,r.default)(WatchGlass,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(WatchGlass.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.adsorbI2=null,this.on(NBEvent.del.PREPARE_DELETE,this.clearLisenS)}},{key:"eqAddToViewStack",value:function(){this.parent instanceof BigBeaker&&(this.parent.hasCovered=!1,this.listenI2Container=null),(0,o.default)((0,h.default)(WatchGlass.prototype),"eqAddToViewStack",this).call(this)}},{key:"clearLisenS",value:function(){this.checkH2SBurnTube&&(this.checkH2SBurnTube.coverByWatchGlass=null,this.checkH2SBurnTube=null)}},{key:"eqStopDrag",value:function(){var e=this,t=this.perfectHitObj();this.alpha<1&&(this.alpha=1),this.clearLisenS();for(var i,n,a,r=0;r<this.children.length;r++)if(this.children[r]==t)return;t?(t instanceof BigBeaker&&(t.addChildWithSamePos(e),e.alpha=.5,NBDrag.removeDrag(e),TweenMax.to(e,.5,{x:10,y:0,rotation:0,onComplete:function(){NBDrag.addDrag(e),(e.listenI2Container=t).hasCovered=!0}})),"SharpNoseGlassTube"!==t.name&&"ShapeGlassCatheter"!==t.name||t.currentContainer||(i=1,n=253,a=-50,"SharpNoseGlassTube"===t.name&&(i=.6,n=95,a=165),t.addChildWithSamePos(e),NBDrag.removeDrag(e),TweenMax.to(e,.5,{x:n,y:a,rotation:i,onComplete:function(){NBDrag.addDrag(e),(e.checkH2SBurnTube=t).coverByWatchGlass=!0}}))):(NBDrag.removeDrag(this),TweenMax.to(e,.5,{rotation:0,onComplete:function(){NBDrag.addDrag(e)}}))}},{key:"listenI2",value:function(){var e,t,i,n;this.listenI2Container&&this.listenI2Container.medicineData.getMedVo&&(e=this.listenI2Container.medicineData.getMedVo("I2","gas",!1),t=this.listenI2Container.medicineData.getMedVo("I2","gas"),e&&.7<e.getVol()/this.parent.totalCapacity&&(i=Math.min(e.getMol()*(e.getVol()/this.parent.totalCapacity-.7),e.getMol()/50),this.adsorbI2?(this.adsorbI2.setMol(this.adsorbI2.getMol()+i),n=this.adsorbI2.getMol()/.2<1?this.adsorbI2.getMol()/.2:1,this.adhere.alpha=n):this.adsorbI2=t.setMol(i),e.setMol(e.getMol()-i)))}},{key:"listenS",value:function(){var e;this.checkH2SBurnTube&&this.checkH2SBurnTube.hasH2SBurn&&this.sulfurPic.alpha<1&&(e=Math.min(1,this.sulfurPic.alpha+.002),this.sulfurPic.alpha=e)}},{key:"update",value:function(e){(0,o.default)((0,h.default)(WatchGlass.prototype),"update",this).call(this,e),this.listenI2(),this.listenS()}}]),WatchGlass}();e.exports=WatchGlass},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10);e.exports=function(){(0,l.default)(WideMouthedBottle,d);var e=u(WideMouthedBottle);function WideMouthedBottle(){return(0,r.default)(this,WideMouthedBottle),e.call(this)}return(0,o.default)(WideMouthedBottle,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(WideMouthedBottle.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0})}}]),WideMouthedBottle}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10),f=i(53),I=i(50);e.exports=function(){(0,h.default)(WildMouthedBottle,p);var t=d(WildMouthedBottle);function WildMouthedBottle(){var e;return(0,o.default)(this,WildMouthedBottle),(e=t.call(this)).top=e.bottom="",e.name="WildMouthedBottle",e.CNName="广口瓶",e.z_index=24.01,e.canEditLable=!0,e}return(0,s.default)(WildMouthedBottle,[{key:"creationComplete",value:function(){var t=this;(0,l.default)((0,u.default)(WildMouthedBottle.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.execute(NBCommand.DRAG_COVER,{container:this,invert:!0,outter:!0}),this.on(NBEvent.del.PREPARE_DELETE,function(){t.head.parent!==t&&(t.headParent=t.head.parent,t.addChildWithSamePos(t.head))}),this.on(NBEvent.del.ADDED,function(){t.head.parent!==t&&(t.headParent.addChildWithSamePos(t.head),delete t.headParent)});var i=this;this.on("change",function(e){e.isCoverd&&!i.currentBody&&i.createBody(t.pointAry)}),this.head.on(NBDrag.event.START_DRAG,function(){i.removeBody()}),this.label.txt.anchor.x=.5,this.label.txt.x=62.5,this.removeLabel(),this.enableRotate(!0,{},1),this.pointAry=[{x:-40,y:-120},{x:40,y:-120},{x:45,y:-108},{x:-40,y:-108}],this.createBody(this.pointAry)}},{key:"createBody",value:function(e){e=f.BodyFromArray([e]);e.set_type(I.kinematic),e.set_space(this.engine.space),this.currentBody=e}},{key:"removeBody",value:function(){this.currentBody&&(this.currentBody.set_space(null),this.currentBody=void 0)}},{key:"canSpoonTake",value:function(){return this.isOpen&&.9<this.medicineData.getSolidMass()}},{key:"toJSON",value:function(){return(0,r.default)({},(0,l.default)((0,u.default)(WildMouthedBottle.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(WildMouthedBottle.prototype),"setJSON",this).call(this,e),e.isLiquidMedBottle}}]),WildMouthedBottle}()},function(e,t,AbrasiveCotton){"use strict";var a=AbrasiveCotton(4),i=AbrasiveCotton(0),r=i(AbrasiveCotton(24)),n=i(AbrasiveCotton(9)),o=i(AbrasiveCotton(1)),s=i(AbrasiveCotton(2)),l=i(AbrasiveCotton(7)),h=i(AbrasiveCotton(5)),c=i(AbrasiveCotton(6)),u=i(AbrasiveCotton(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=AbrasiveCotton(8),f=AbrasiveCotton(53),I=AbrasiveCotton(50),g=AbrasiveCotton(18),m=AbrasiveCotton(10),y=AbrasiveCotton(75),v=PIXI.Point,AbrasiveCotton=function(){(0,h.default)(AbrasiveCotton,p);var t=d(AbrasiveCotton);function AbrasiveCotton(){var e;return(0,o.default)(this,AbrasiveCotton),(e=t.call(this)).name="AbrasiveCotton",e.CNName="石棉",e.hasReact=0,e.pU=new v(0,0),e.pM=new v(0,30),e.cannotBurn=!0,e}return(0,s.default)(AbrasiveCotton,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(AbrasiveCotton.prototype),"creationComplete",this).call(this),this.medicineData=new y(this),this.bg.visible=!1,this.needAddArray={SmallTestTube:{x:0,y:320,scaleX:.65,scaleY:.65,index:0},BigTestTube:{x:0,y:200,scaleX:1,scaleY:1,index:0}},this.on(NBDrag.event.PREPARE_DRAG,this.dragBegin),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on("dragObjComplete",this.dragEvent),this.on("hitted",this.adsorb),this.on(NBDrag.event.STOP_DRAG,function(){e.viewStack==e.getViewStack()&&(NBDrag.removeDrag(e),TweenMax.to(e,.3,{rotation:0,onComplete:function(){NBDrag.addDrag(e)}})),e.followMouse=!1})}},{key:"catchDropWaterEq",get:function(){return!this.currentContainer}},{key:"dragEvent",value:function(e){e=e.hitObj;this.currentContainer=e}},{key:"getLiquid",value:function(e){var e=e.medicineData,i=this;e.forEach(function(e){var t=e.name,e=e.getMol();i.medicineData.addMedicine(t,e)}),this.changeWetPersent()}},{key:"changeWetPersent",value:function(){var e=this.medicineData.liquidAry,e=e&&e.quickMap.get("石蜡油");e&&0<e.mol&&(e=.8<(e=e.mol/.05)?.8:e,this.bg.wet.alpha=e,this.ani.wet.alpha=e)}},{key:"init",value:function(e){e.abCotton=null,this.rotation=0,this.currentContainer=null}},{key:"removeBody",value:function(){this.currentBody&&(this.currentBody.set_space(null),this.currentBody=void 0)}},{key:"createBody",value:function(e){e=f.BodyFromArray([e]);e.set_type(I.kinematic),e.set_space(this.currentContainer.engine.space),this.currentBody=e}},{key:"adsorb",value:function(e){var t=e.hitObj;t.isCovered instanceof Function&&(t.isCovered()||t.currentPlug||this!=t&&(e=g.retrieveRotation(t.worldTransform),"BigTestTube"!==t.name&&"SmallTestTube"!==t.name||(t.addChildWithSamePos(this),this.rotation-=e,this.currentContainer=t,this.judgeType(t))))}},{key:"findData",value:function(e){return this.needAddArray[e]||!1}},{key:"lightOn",value:function(e,t){var i=!0,n=null;if((this.parent!==this.getEqLayer()&&(i=!1,n=this.parent),t)&&(i?3e4:12e4)<Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))return;t=this.medicineData.liquidAry.quickMap.get("石蜡油");t&&0<t.mol&&(t.setMol(t.getMol()-1e-5),n&&n.medicineData&&(n.medicineData.addGasMedicine("石蜡油",1e-4),n.paraffinOilCount=20),this.changeWetPersent())}},{key:"getLightOnPoint",value:function(){this.updateTransform();var e=[],t=this.getEqLayer().x,i=this.toGlobal({x:0,y:0});return i.x+=(this.width/2+200)*t,i.y+=this.height/2*t,e.push({x:i.x,y:i.y}),e}},{key:"judgeType",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.ani.visible=!1,this.bg.visible=!0,this.bg.alpha=1,e.abCotton=this,e.addChildAtWithSamePos(this,e.children.length-1);var n=this.findData(e.name);i?(this.x=n.x,this.y=n.y,this.rotation=0,this.scale.x=n.scaleX,this.scale.y=n.scaleY,this.autoCreateBody(e.name)):(TweenMax.to(this,.3,{x:n.x,y:n.y,rotation:0}),TweenMax.to(this.scale,.3,{x:n.scaleX,y:n.scaleY,onComplete:function(){t.autoCreateBody(e.name)}}))}},{key:"autoCreateBody",value:function(e){var t;"BigTestTube"!==e&&"SmallTestTube"!==e||(t=this.scale.x,e=this.scale.y,e=[{x:this.x-this.width*t/2+5,y:this.y-this.height*e/2+32},{x:this.x+this.width*t/2-5,y:this.y-this.height*e/2+32},{x:this.x+this.width*t/2-5,y:this.y+this.height*e/2-16},{x:this.x-this.width*t/2+5,y:this.y+this.height*e/2-16}],this.createBody(e))}},{key:"assemblyHint",value:function(e){if(e.isCovered instanceof Function&&!e.isCovered()&&!e.currentPlug){var t=e.name;if(this.needAddArray[t]){t=this.needAddArray[t];return this.drawBg(e,t.x-34,t.y-62,void 0,{x:t.scaleX,y:t.scaleY})}}}},{key:"dragBegin",value:function(){this.viewStack!=this.root.viewStack&&this.currentContainer&&(this.removeBody(),this.init(this.currentContainer))}},{key:"getGasMedicineInfo",value:function(){if(this.parent===this.getEqLayer()){var e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),e=new GasVO(e,20),t=new GasVO(t,80);return(new r.default).set("O2",e).set("N2",t)}if(this.currentContainer&&this.currentContainer instanceof m){var i=this.currentContainer.medicineData.gasAry,n=new r.default;return i.forEach(function(e){n.set(e.name,e)}),n}if(this.parent&&this.parent.isGasBottle){i=this.parent.medicineData.getMedVo("H2O","liquid");if(!(i&&2.439<i.getMol())){var i=this.parent.medicineData.gasAry,a=new r.default;return i.forEach(function(e){a.set(e.name,e)}),a}}}},{key:"getSpoonPourInfo",value:function(){return{p0:this.toGlobal(this.pM),p1:this.toGlobal(this.pU)}}},{key:"addSolidMedicine",value:function(e){var t=this;e.forEach(function(e){t.medicineData.solidAry[e.name]=e})}},{key:"clearMedicine",value:function(){for(var e=this.medicineData,t=e.gasAry.length-1;0<=t;t--)e.gasAry.pop();for(var i,n=e.liquidAry.length-1;0<=n;n--)e.liquidAry.pop();for(i in e.solidAry)delete e.solidAry[i]}},{key:"getLiquidMedicineInfo",value:function(){for(var e=new r.default,t=0;t<this.medicineData.liquidAry.length;t++){var i=this.medicineData.liquidAry[t];e.set(name,i.deepClone(i.mol))}return e}},{key:"addMedicine",value:function(e){e instanceof GasVO&&this.parent.addMedicine(e)}},{key:"setReactStatus",value:function(e){this.parent&&this.parent.setReactStatus(e,8)}},{key:"toJSON",value:function(){return(0,n.default)({},(0,l.default)((0,u.default)(AbrasiveCotton.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(AbrasiveCotton.prototype),"setJSON",this).call(this,e),this.currentContainer&&this.judgeType(this.currentContainer,!0),this.changeWetPersent()}},{key:"update",value:function(e){var t=this.parent;t instanceof m&&(t.isCovered()||t.currentPlug)?this.interactive=!1:this.interactive=!0,ChemicalUtil.genEffectFunc(this,e,!0)}}]),AbrasiveCotton}();e.exports=AbrasiveCotton},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(8);e.exports=function(){(0,s.default)(AbrasivePaper,u);var t=c(AbrasivePaper);function AbrasivePaper(){var e;return(0,r.default)(this,AbrasivePaper),(e=t.call(this))._events_(),e.name="AbrasivePaper",e.CNName="砂纸",e.used=!1,e.solidDrugAry_={MagnesiumRibbon:{offset:{x:0,y:0}},BlockFe:{offset:{x:0,y:0}},BlockCu:{offset:{x:0,y:0}},BlockMgStrip:{offset:{x:0,y:0}},BlockAl:{offset:{x:0,y:0}},BlockPingPong:{offset:{x:0,y:0}},BlockFilterPaper:{offset:{x:0,y:0}}},e.z_index=23,e}return(0,o.default)(AbrasivePaper,[{key:"_hasHitConnect_",value:function(){for(var e=this.getEquipments(),t=0;t<e.length;t++)if(!e[t].parent||!e[t].parent.isBaseContainer){var i=e[t].constName;if(this.solidDrugAry_[i]&&this.hitTest(e[t]))return e[t]}}},{key:"_adsorb_",value:function(){var i,n,a,e,t,r,o;this.used||(i=this._hasHitConnect_())&&(n=this,(i.isBlockMedicine||!i.isBurning&&i.isMgoExist)&&i&&null==this.currentPickUp&&!i.evenPickUp&&(this._collapse_(),a={x:0,y:0,targetY:100},e=this.solidDrugAry_[i.constName],i.isBlockMedicine?(i.parent.isClamp&&(i.parent.holdObj=null,i.eqAddToViewStack(),i.rotation=0),r=i.localBounds||i.getLocalBounds(),a.x=i.x+(r.x-r.width/2),a.y=i.y+(r.y-r.height/2),a.targetY=this.ani.y+r.height,a.boundsH=r.height/2):("MagnesiumRibbon"===i.name&&i.leaveHold(),o=i.getBounds(),t=this.root.viewStack.toLocal({x:o.x,y:o.y}),o=r=0,a.x=t.x+e.offset.x-r,a.y=t.y+e.offset.y-o),e&&!TweenMax.isTweening(this)&&null==this.currentPickUp&&(this.used=!0,NBDrag.removeDrag(i),i.interactive=!1,TweenMax.to(this,.2,{x:a.x,y:a.y,onComplete:function(){(n.currentPickUp=i).evenPickUp=!0,n.addChildWithSamePos(i),n.addChildAt(i,0),"MagnesiumRibbon"===i.name&&i.on(NBDrag.event.PREPARE_DRAG,i.eqAddToViewStack),i.once(NBDrag.event.PREPARE_DRAG,function(){n.currentPickUp=void 0,this.evenPickUp=!1});var t=n.ani.y;TweenMax.to(n.ani,1,{y:a.targetY,onComplete:function(){TweenMax.to(n.ani,1,{y:t,repeat:1,yoyo:!0,onComplete:function(){i.rustState&&(i.rustState=!1),i.eqAddToViewStack(),TweenMax.to(n.ani,1,{y:t});var e=n.y+a.boundsH;TweenMax.to(n,1,{x:"+=100",y:e,onComplete:function(){NBDrag.addDrag(i),n.currentPickUp=void 0,i.evenPickUp=!1,i.interactive=!0}})}})}}),i.clearMgoSkin&&i.clearMgoSkin(2)}}))))}},{key:"_collapse_",value:function(){this.ani.currentFrame=1}},{key:"_spread_",value:function(){this.ani.currentFrame=0}},{key:"_events_",value:function(){var e=this;this.on(NBDrag.event.STOP_DRAG,this._adsorb_),this.on(NBDrag.event.START_DRAG,function(){TweenMax.killTweensOf(e),e._gsTweenID&&delete TweenLite._internals.tweenLookup[e._gsTweenID]})}}]),AbrasivePaper}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),h=n(i(7)),l=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),i=function(){(0,l.default)(i,p);var t=d(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(i,[{key:"creationComplete",value:function(){var n=this;(0,h.default)((0,u.default)(i.prototype),"creationComplete",this).call(this);var a=this,r=this.getViewStack(),o=this.execute(NBCommand.CREATE_EQUIPMENT,"DryingBottle"),s=(a.executeEq=[o],!1),l=!1;o.on("creationComplete",function(){r.addChild(o),o.x=a.x,o.y=a.y,NBDrag.addDrag(o);var e=n.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),t=n.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter");function i(){s&&t&&l&&(e.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:o,dragObj:e,fromSetJson:!0}),t.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:o,dragObj:t,fromSetJson:!0}))}e.once("creationComplete",function(){r.addChild(e),e.updateCurveGlass(0),e.x=o.x+78.5,e.y=o.y-47,NBDrag.addDrag(e),e.dripArea.y=e.ropePoint[1].y=e.whiffAreaAry[1].area.y=373,i()}),t.once("creationComplete",function(){r.addChild(t),s=!0,t.updateCurveGlass(Math.PI),t.x=o.x+144,t.y=o.y-47,NBDrag.addDrag(t),i()}),(l=o.currentPlug.isCreationComplete)||o.currentPlug.once("creationComplete",function(){l=!0,i()})})}}]),i}();e.exports=i},function(e,t,AirBalloon){"use strict";var a=AirBalloon(4),i=AirBalloon(0),l=i(AirBalloon(9)),n=i(AirBalloon(61)),r=i(AirBalloon(1)),o=i(AirBalloon(2)),s=i(AirBalloon(7)),h=i(AirBalloon(5)),c=i(AirBalloon(6)),u=i(AirBalloon(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=AirBalloon(10),f=AirBalloon(18),PlasticInjector=AirBalloon(172),I=AirBalloon(143),g=AirBalloon(79),m=AirBalloon(144),AirBalloon=function(){(0,h.default)(AirBalloon,p);var t=d(AirBalloon);function AirBalloon(){var e;return(0,r.default)(this,AirBalloon),(e=t.call(this)).name="AirBalloon",e.CNName="气球",e.z_index=23.17,e.SELF_MASS=0,e.napeObj={oriMass:0,get_space:function(){},get_type:function(){}},e.firstListenerPascal=0,e}return(0,o.default)(AirBalloon,[{key:"creationComplete",value:function(){var a=this;(0,s.default)((0,u.default)(AirBalloon.prototype),"creationComplete",this).call(this),this.noLiquidGra=!0,this.capacityScale=.5,this.oriGasMol=.0002552793585404523,this.maxShape=this.ball.totalFrames-3,this.smallMaxAddPascal=+nb.PASCAL,this.middleMaxAddPascal=10*nb.PASCAL,this.bigMaxAddPascal=60*nb.PASCAL,this.boomPascal=70*nb.PASCAL,this.on(NBDrag.event.STOP_DRAG,this.eqStopDrag),this.on(NBDrag.event.PREPARE_DRAG,this.eqPrepareDrag),this.isBalloon=!0,NBGesture.addGesture(this,NBGesture.gesture.HOLD,1),this.on(NBEvent.del.PREPARE_DELETE,function(){a.equipment=null}),this.on(NBGesture.gesture.HOLD,function(e){switch(e.type){case"begin":case"end":a.holdTime=0;break;case"hold":var t,i,n;a.holdTime++,10<=a.holdTime&&a.equipment&&(a.endStop=!0,0<a.addedNode.length&&(i=a.medicineData.getGasMol()-a.oriGasMol,t=a.oriGasMol/6,n=!(a.addedNode[0]instanceof p)&&a.addedNode[0].addedBottle||a.addedNode[0],PlasticInjector.connectGas(a.medicineData.gasAry,-(i=t<(i=i<0?0:i)?t:i),n,a)));break;case"move":a.endStop=!1}})}},{key:"equipment",get:function(){return this._equipment},set:function(e){e?(I.emitEvent(this,e),this._equipment=e):this._equipment&&(e=this._equipment.addedNode,this._equipment.addedRubber=null,this._equipment.addedRubberArray?this._equipment.addedRubberArray.splice(this._equipment.addedRubberArray.indexOf(this),1,null):this._equipment.addedRubber=null,e.splice(e.indexOf(this),1),this._equipment=null,this.addedNode.length=0,this.root.resetPascalNode())}},{key:"isOpen",get:function(){return!(this._equipment||this.topGlassCatheter||this.parent&&this.parent.addedEq===this)}},{key:"listenPascal",value:function(e){if(this.firstListenerPascal<5)return this.firstListenerPascal++,void(this.hasReact=300);if(!isNaN(e)&&this.isCreationComplete){var t=1,i=this.topGlassCatheter;if(!i||(i=i.getCurrentContainer())&&(t=nb.PASCAL/i.pascal),(e*=t)<.999*nb.PASCAL)e<.8*nb.PASCAL?this.ball.currentFrame=this.ball.totalFrames-1:e<.98*nb.PASCAL&&(this.ball.currentFrame=this.ball.totalFrames-2);else{if((e/=2*this.capacityScale)/t>this.boomPascal)return this.parent&&this.parent.bottomAirBalloon===this&&(this.parent.bottomAirBalloon=null),void this.happenBoom("ball");var e=e-nb.PASCAL,e=e<this.smallMaxAddPascal?13*e/this.smallMaxAddPascal:e<this.middleMaxAddPascal?13+9*(e-this.smallMaxAddPascal)/(this.middleMaxAddPascal-this.smallMaxAddPascal):22+(this.maxShape-22)*(e-this.middleMaxAddPascal)/(this.bigMaxAddPascal-this.middleMaxAddPascal);this.ball.currentFrame=Math.min(+e>>0,this.maxShape)}}}},{key:"eqStopDrag",value:function(){var r=this;if(this.endStop)this.endStop=!1;else{TweenMax.killTweensOf(this),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID];for(var e,o=this.getEquipments(),t=function(){var e=o[s];if(r.hitTest(e)&&"StraightGlassCatheter"===e.name){var t=function(e){if("StraightGlassCatheter"===e.name){var t,i=this.getEqLayer(),n=i.toLocal(this.mouth,this),a=i.toLocal(e.rubberPos,e),i=i.toLocal(e.ropePoint[1],e),a=m.getPointLen(n,a),i=m.getPointLen(n,i);if(i<=a&&!e.addedBottle?t="D":a<i&&!e.addedRubber&&(t="U"),t)return{dir:t,obj:e,point:"U"===t?e.rubberPos:e.ropePoint[1]}}}.apply(r,[e]);if(t&&t.obj){var i=t.obj,n=t.dir,a=t.point,t=a.x,a=a.y;return"U"===n?(r.rotation=Math.PI,(r.equipment=i).topAirBalloon=r,t+=12,a+=20):(t-=12,a-=3,(i.bottomAirBalloon=r).topGlassCatheter=i),i.addChildWithSamePos(r),TweenMax.to(r,.5,(0,l.default)({x:t,y:a},{onStart:function(){NBDrag.removeDrag(r)},onComplete:function(){r.emit("hasTweenComplete"),i.emit("appendEquipment",r),r.emit("appendEquipment",i),NBDrag.addDrag(r)}})),{v:void 0}}}a={PlasticInjector:{x:235,y:60},BigPlasticInjector:{x:295,y:78}};if(!e.addedEq&&r.hitTest(e)&&a[e.name]&&e.parent===e.getEqLayer())return e.addChildWithSamePos(r),(e.addedEq=r).rotation-=e.rotation,TweenMax.to(r,.3,(0,l.default)({},a[e.name],{rotation:-Math.PI/2,onStart:function(){r.mouth.visible=!1,r.interactive=!1},onComplete:function(){e.emit("appendEquipment",r),r.emit("appendEquipment",e),r.interactive=!0}})),"break"},s=0;s<o.length;s++){var i=t();if("break"===i)break;if("object"===(0,n.default)(i))return i.v}this.equipment&&(this.equipment.addedRubber&&(this.equipment.addedRubber=null),this.equipment.removeAddedRubber&&this.equipment.removeAddedRubber(this),this.equipment=null,e=f.retrieveRotation(this.worldTransform),this.getEqLayer().addChildWithSamePos(this),this.rotation=e,TweenMax.to(this,.5,{rotation:0}))}}},{key:"eqPrepareDrag",value:function(){this.parent&&this.parent.addedEq===this&&(this.parent.addedEq=null),this.eqAddToViewStack(),this.rotation=0;var e=this.addedNode[0];this.mouth.visible=!0,e&&(e.emit("removeEquipment",this),this.emit("removeEquipment",e)),this.topGlassCatheter&&(this.topGlassCatheter.bottomAirBalloon=null,this.topGlassCatheter=null),this.equipment&&(this.equipment.topAirBalloon=null,this.equipment=null)}},{key:"eqPrepareDelete",value:function(){(0,s.default)((0,u.default)(AirBalloon.prototype),"eqPrepareDelete",this).call(this),this.parent&&this.parent.addedEq===this&&(this.parent.addedEq=null),this.topGlassCatheter&&(this.topGlassCatheter.bottomAirBalloon=null,this.topGlassCatheter=null),this.equipment&&(this.equipment.topAirBalloon=null,this.equipment=null)}},{key:"addEq",value:function(e,t){(e.equipment=t).addedRubberArray?t.addedRubberArray.addTarget=e:t.addedRubber=e}},{key:"getMass",value:function(){return this.SELF_MASS}},{key:"update",value:function(e){(0,s.default)((0,u.default)(AirBalloon.prototype),"update",this).call(this,e);var t=this.topGlassCatheter;if(t){var i=t.getCurrentContainer();if(i){var n=i.pascal,a=this.pascal;this.hasReact=Math.abs(n-a);var r=i.medicineData.getGasMol(),o=g.convertCToK(i.medicineData.getGasAverageTemp()),e=i.gasArea,t=this.medicineData.getGasMol(),n=g.convertCToK(this.medicineData.getGasAverageTemp()),a=this.totalCapacity,n=Math.max(0,(t*n*e-r*o*a)/(r*o+t*n))/10;return i.volumeEncroachment=n,void(this.capacityScale=Math.max(Math.min((a+n)/this.totalCapacity/2,2.5),.5))}}this.capacityScale=.5}},{key:"toJSON",value:function(){return(0,l.default)({equipment:this.equipment?this.equipment.getUUID():null,topGlassCatheter:this.topGlassCatheter?this.topGlassCatheter.getUUID():null},(0,s.default)((0,u.default)(AirBalloon.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,u.default)(AirBalloon.prototype),"setJSON",this).call(this,e),e.equipment&&this.getEquipmentByUUID(e.equipment).then(function(e){t.addEq(t,e)}),e.topGlassCatheter&&this.getEquipmentByUUID(e.topGlassCatheter).then(function(e){t.topGlassCatheter=e})}}]),AirBalloon}();e.exports=AirBalloon},function(e,t,AlcoholBurner){"use strict";var a=AlcoholBurner(4),i=AlcoholBurner(0),n=i(AlcoholBurner(9)),r=i(AlcoholBurner(1)),o=i(AlcoholBurner(2)),s=i(AlcoholBurner(7)),l=i(AlcoholBurner(5)),h=i(AlcoholBurner(6)),c=i(AlcoholBurner(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=AlcoholBurner(8),p=AlcoholBurner(34),f=AlcoholBurner(11),I=AlcoholBurner(167),AlcoholLampNetCover=AlcoholBurner(402),g=AlcoholBurner(16),m=AlcoholBurner(27),AlcoholBurner=function(){(0,l.default)(AlcoholBurner,d);var t=u(AlcoholBurner);function AlcoholBurner(){var e;return(0,r.default)(this,AlcoholBurner),(e=t.call(this)).name="AlcoholBurner",e.CNName="酒精灯",e.z_index=11,e}return(0,o.default)(AlcoholBurner,[{key:"creationComplete",value:function(){var e=this;this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.heatRadiationDis=this.fireRect.width/2,(0,s.default)((0,c.default)(AlcoholBurner.prototype),"creationComplete",this).call(this);var t=this;this.execute(NBCommand.DRAG_COVER,{container:this,invert:!1,outter:!0,headCanCover:function(){return!e.isCoverByAlcoholLampNet()}}),this.on("change",function(e){e.isCoverd&&t.lightOff()}),this.isBurning=!1,this.ifDestroyPar=!1,this.on(I.del.PREPARE_DELETE,function(){e.destroyParticle(),e.isCovered()||(e.headParent=e.head.parent,e.addChildWithSamePos(e.head))}),this.on(I.del.ADDED,function(){e.initParticle(),e.headParent&&(e.headParent.addChildWithSamePos(e.head),delete e.headParent)}),this.lightOnRef.interactive=!0,this.lightOnRef.on(TouchEvent.TOUCH_BEGIN,function(){e.isBurning?e.autoLightOff():e.autoLightOn()});var i=this.root.mouseManager;g.addMouseEvent(i,this.lightOnRef,g.status.PAN),this.fireRect.allowGetBounds=!1}},{key:"autoLightOn",value:function(){this.interactive=this.interactiveChildren=!1;var e=this.root.execute(NBCommand.ADD_EQUIPMENT,{name:"MatchStick"});e.noNewRadiantHeat=!0,this.addChild(e),e.x=this.lightOnRef.x+80,e.y=this.lightOnRef.y-10;var t=this;e.on("matchStickFirstTimeFire",function(){TweenMax.to(e,.4,{x:t.lightOnRef.x,onComplete:function(){t.interactive=t.interactiveChildren=!0,t.lightOn(),t.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e],eqNotSelect:!0})}})})}},{key:"autoLightOff",value:function(){var e=this;this.head?(this.addChild(this.head),this.head.isDeleting=null,this.head.x=-2.5,this.head.y=-287.45,this.interactive=this.interactiveChildren=!1,TweenMax.to(this,.25,{onComplete:function(){e.lightOff()}}),TweenMax.to(this.head,.5,{delay:.1,y:-87.45,onComplete:function(){e.interactive=e.interactiveChildren=!0}})):this.lightOff()}},{key:"isCoverByAlcoholLampNet",value:function(){return this.children.find(function(e){return e instanceof AlcoholLampNetCover})}},{key:"initParticle",value:function(){this.particle||(this.particle=p.getParticle(p.particles.all_fire),this.particle.isAlcoholParticle=!0,this.particle.alpha=.5,this.particle.ifScaleParticle=!0,this.particle.x=0,this.particle.y=-120,this.root.viewStack.addParticle(this.particle),this.particle.bind(this))}},{key:"destroyParticle",value:function(){this.particle&&(this.particle.destroy(),this.particle=null),this.ifDestroyPar=!1}},{key:"getLightOnPoint",value:function(){return this.lightOnRef.toGlobal({x:0,y:0})}},{key:"lightOn",value:function(e,t){e&&t&&e.y-t.y<-150||this.isCovered()||!0!==this.isBurning&&(this.isBurning=!0)}},{key:"lightOff",value:function(){!1!==this.isBurning&&(this.isBurning=!1,this.ifDestroyPar=!0,delete this.heatRectObjAry)}},{key:"isLightOn",value:function(){return null!==this.particle&&void 0!==this.particle}},{key:"update",value:function(e){var t,i,n,a;this.isBurning&&!this.isCovered()?(this.initParticle(),this.particle.render(e),t=this.isCoverByAlcoholLampNet()?f.TEMP_ALCOHOL_WIDTH_LAMP_NET:f.TEMP_ALCOHOL,this.updateTransform(),i=this.fireRect.children[0].getBounds(),n=this.toGlobal(this.fireRect.position),a=this.getViewStack().scale.x,i.y=n.y-150*a,i.height+=130*a,i.x=n.x+5*a,i.width-=10*a,this.newRadiantHeat(f.ALCOHOL_HEAT_VALUE,i,e,t,!1,!0,this.particle),this.addBeakerFume()):(this.particle&&this.particle.render(e),this.ifDestroyPar&&this.destroyParticle())}},{key:"findBeakerChild",value:function(){return this.children.find(function(e){return e.isBeaker&&e.addFume})}},{key:"addBeakerFume",value:function(){var e,t,i=this.findBeakerChild();i&&(i.addFume(2e-5),e=new m(i.medicineManager.getMedicineData("H2O"),1e-5),t=new m(i.medicineManager.getMedicineData("CO2"),2e-5),i.medicineData.push([e,t]),i.dripFume>i.dripMaxFume&&(i.dripFume-=i.dripMaxFume,i.tubeDrip.forceDripWater("H2O",i.dripMaxFume)))}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(AlcoholBurner.prototype),"toJSON",this).call(this),{lightOn:this.isLightOn(),cover:{isCoverd:this.isCovered(),x:this.head.x,y:this.head.y}})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(AlcoholBurner.prototype),"setJSON",this).call(this,e);var t=e.cover;!1===t.isCoverd&&(this.headMoveTo(t.x,t.y),e.lightOn&&this.lightOn())}}]),AlcoholBurner}();e.exports=AlcoholBurner},function(e,t,AlcoholSprayBottle){"use strict";var a=AlcoholSprayBottle(4),i=AlcoholSprayBottle(0),n=i(AlcoholSprayBottle(1)),r=i(AlcoholSprayBottle(2)),o=i(AlcoholSprayBottle(7)),s=i(AlcoholSprayBottle(5)),l=i(AlcoholSprayBottle(6)),h=i(AlcoholSprayBottle(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=AlcoholSprayBottle(8),d=AlcoholSprayBottle(16),p=AlcoholSprayBottle(34),AlcoholSprayBottle=function(){(0,s.default)(AlcoholSprayBottle,u);var t=c(AlcoholSprayBottle);function AlcoholSprayBottle(){var e;return(0,n.default)(this,AlcoholSprayBottle),(e=t.call(this)).name="AlcoholSprayBottle",e.CNName="酒精喷雾瓶",e.z_index=19.13,e}return(0,r.default)(AlcoholSprayBottle,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(AlcoholSprayBottle.prototype),"creationComplete",this).call(this),this.on(NBEvent.del.PREPARE_DELETE,function(){e.destroySpParticle(),e.destroyBoomParticle()}),NBGesture.addGesture(this.holdArea,NBGesture.gesture.TAP),this.holdArea.on(NBGesture.gesture.TAP,this.tapAreFun.bind(this)),this.holdArea.allowGetBounds=!1;var t=this.root.mouseManager;d.addMouseEvent(t,this.holdArea,d.status.PINCH)}},{key:"tapAreFun",value:function(){TweenMax.isTweening(this.bg.switchBtn)||(this.sprayParticle?this.sprayParticle.particle&&0===this.sprayParticle.children.length&&!1===this.sprayParticle.particle.emit&&(this.sprayParticle.setParticleProp("emit",!0),this.sprayParticle.setParticleProp("_spawnTimer",0),this.sprayParticle.setParticleProp("emitterLifetime",.5),this.switchBtnActive()):(this.initSprayParticle(),this.switchBtnActive()))}},{key:"switchBtnActive",value:function(){var e=this.getViewStack().toLocal(this.outPoint,this);this.sprayParticle.x=e.x,this.sprayParticle.y=e.y,TweenMax.to(this.bg.switchBtn,.2,{rotation:Math.PI/18,repeat:1,yoyo:!0})}},{key:"initSprayParticle",value:function(){this.sprayParticle=p.getParticle(p.particles.alcoholSpray),this.sprayParticle.allowGetBounds=!1,this.getViewStack().addChild(this.sprayParticle)}},{key:"destroySpParticle",value:function(){this.sprayParticle&&(this.sprayParticle.destroy(),this.sprayParticle=null)}},{key:"initBoomParticle",value:function(){this.boomParticle=p.getParticle(p.particles.alcoholBoom),this.boomParticle.allowGetBounds=!1,this.getViewStack().addChild(this.boomParticle)}},{key:"destroyBoomParticle",value:function(){this.boomParticle&&(this.boomParticle.destroy(),this.boomParticle=null)}},{key:"sprayParticleHitFire",value:function(){var e=this.sprayParticle;e.allowGetBounds=!0;for(var t,i=e.getBounds(),n=this.getEquipments(),a=e.allowGetBounds=!1,r=0;r<n.length;r++){var o=n[r];if("MatchStick"===o.name&&"onFire"===o.fireStyle&&o.particle&&(t=o.toGlobal(o.particle),i.contains(t.x,t.y))){a=!0;break}if(o.isBurning||"burn"===o.cottonType){var s=o.particle||o.fireParticle||o.paperFire;if((s="Cotton"===o.name&&s&&s._particles&&s._particles[1]?s._particles[1]:s)&&s.parent&&(t=o.toGlobal(s),i.contains(t.x,t.y))){a=!0;break}}}a&&(this.destroySpParticle(),this.boomParticle?this.boomParticle.particle&&0===this.boomParticle.children.length&&!1===this.boomParticle.particle.emit&&(this.boomParticle.setParticleProp("emit",!0),this.boomParticle.setParticleProp("_spawnTimer",0),this.boomParticle.setParticleProp("emitterLifetime",1)):this.initBoomParticle(),t=this.getViewStack().toLocal(t),this.boomParticle.x=t.x,this.boomParticle.y=t.y)}},{key:"update",value:function(e){(0,o.default)((0,h.default)(AlcoholSprayBottle.prototype),"update",this).call(this,e),this.sprayParticle&&(this.sprayParticle.render(),0<this.sprayParticle.children.length&&this.sprayParticleHitFire()),this.boomParticle&&this.boomParticle.render()}}]),AlcoholSprayBottle}();e.exports=AlcoholSprayBottle},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(1)),s=n(i(2)),l=n(i(19)),h=n(i(7)),c=n(i(5)),r=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var p=i(8),i=function(){(0,c.default)(r,p);var t=d(r);function r(){var e;return(0,o.default)(this,r),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,l.default)(e))}),e}return(0,s.default)(r,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){var t=this;(0,h.default)((0,u.default)(r.prototype),"creationComplete",this).call(this);var i=this,n=this.getViewStack(),a=this.execute(NBCommand.CREATE_EQUIPMENT,"DryingTubeOfCaO");i.executeEq=[a],a.on("creationComplete",function(){n.addChild(a),a.x=i.x,a.y=i.y,NBDrag.addDrag(a);var e=t.execute(NBCommand.CREATE_EQUIPMENT,"StraightGlassCatheter");e.on("creationComplete",function(){n.addChild(e),e.x=a.x-15,e.y=a.x-78,e.rotation=-Math.PI/2,NBDrag.addDrag(e),e.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:e,fromSetJson:!0})})})}}]),r}();e.exports=i},function(e,t,AlphaParticleScattering){"use strict";var a=AlphaParticleScattering(4),i=AlphaParticleScattering(0),n=i(AlphaParticleScattering(9)),l=i(AlphaParticleScattering(1)),o=i(AlphaParticleScattering(2)),r=i(AlphaParticleScattering(7)),s=i(AlphaParticleScattering(5)),h=i(AlphaParticleScattering(6)),c=i(AlphaParticleScattering(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=AlphaParticleScattering(8),p=AlphaParticleScattering(16),f=AlphaParticleScattering(21),I=AlphaParticleScattering(144),g=PIXI.Rectangle,AlphaParticleScattering=function(){(0,s.default)(AlphaParticleScattering,d);var t=u(AlphaParticleScattering);function AlphaParticleScattering(){var e;return(0,l.default)(this,AlphaParticleScattering),(e=t.call(this)).name="AlphaParticleScattering",e.CNName="α粒子散射",e.bg=null,e.rot0=null,e.rot1=null,e.switchBtn=null,e.screen0=null,e.principle1=null,e.principle2=null,e.inside=null,e.light1=null,e.switchButton=null,e.numsManager=null,e.rotButton00=null,e.rotButton01=null,e.principleCon1=null,e.principleCon2=null,e.screenCon=null,e.type=0,e.isOpen=!1,e.curRotation=0,e.tarRotation=0,e.ticker=null,e.particleLife=100,e.particleN=0,e.k=.0224,e.types=["内部结构","原理一","原理二"],e.ROT_STEP=1,e.MAX_ROTATION=150,e.z_index=24,e}return(0,o.default)(AlphaParticleScattering,[{key:"creationComplete",value:function(){(0,r.default)((0,c.default)(AlphaParticleScattering.prototype),"creationComplete",this).call(this),this.bg.p0.alpha=0,this.screen0.num0.gotoAndStop(10),this.numsManager=new m([this.screen0.num1,this.screen0.num2,this.screen0.num3],0,null),this.switchButton=new v(this.switchBtn,this,1,0,this.switchCallBack,this.isOpen),this.rotButton00=new y(this.rot0,this,0,1,this.rotCallBack00),this.rotButton01=new y(this.rot1,this,0,1,this.rotCallBack01);var e=this.root.mouseManager;p.addMouseEvent(e,this.rot0,p.status.PAN),p.addMouseEvent(e,this.rot1,p.status.PAN),p.addMouseEvent(e,this.switchBtn,p.status.PAN),this.updateRotation(),this.ticker=I.addTicker(this.update,this,!0),this.principleCon1=new b,this.principle1.addChild(this.principleCon1),this.principleCon2=new x,this.principle2.addChild(this.principleCon2),this.screenCon=new C(this.root),this.addChild(this.screenCon),this.setType(this.type),this.switchCallBack(null,this.isOpen),this.updateCount=0}},{key:"eqPrepareDelete",value:function(){this.numsManager&&(this.numsManager.destroy(),this.numsManager=null),this.switchButton&&(this.switchButton.destroy(),this.switchButton=null),this.rotButton00&&(this.rotButton00.destroy(),this.rotButton00=null),this.rotButton01&&(this.rotButton01.destroy(),this.rotButton01=null),this.screenCon&&(this.screenCon.destroy(),this.screenCon=null),I.removeTicker(this.ticker),(this.ticker=null,r.default)((0,c.default)(AlphaParticleScattering.prototype),"eqPrepareDelete",this).call(this)}},{key:"update",value:function(){if(this.updateCount++,1<this.updateCount&&this.isOpen){for(this.curRotation!==this.tarRotation&&this.updateRotation(),.9<Math.random()&&this.principleCon1.addParticle(),.9<Math.random()&&this.principleCon2.addParticle(),this.principleCon1.update(),this.principleCon2.update(),this.screenCon.life=this.particleLife,this.particleN+=this.getN(),1500<this.particleN&&(this.particleN=1500);0<this.particleN;)this.screenCon.addParticle(),this.particleN--;this.screenCon.update(),this.updateCount=0}}},{key:"getN",value:function(){var e=I.toHu(this.curRotation)/2,e=Math.sin(e),e=.5+.02784/(278e-7+e*e*e*e);return e=(.4*Math.random()+.98)*e/this.particleLife}},{key:"updateRotation",value:function(){this.curRotation<this.tarRotation?this.curRotation++:this.curRotation>this.tarRotation&&this.curRotation--,Math.abs(this.curRotation-this.tarRotation)<.5&&(this.curRotation=this.tarRotation);var e=I.toHu(this.curRotation);this.inside.platform.rotation=e,this.inside.gear.rotation=2*-e,0<=this.curRotation?(this.numsManager.setNum(this.curRotation),this.screen0.neg.visible=!1):(this.numsManager.setNum(-this.curRotation),this.screen0.neg.visible=!0)}},{key:"rotCallBack00",value:function(){this.isOpen&&(this.tarRotation+=this.ROT_STEP,this.tarRotation>this.MAX_ROTATION&&(this.tarRotation=this.MAX_ROTATION))}},{key:"rotCallBack01",value:function(){this.isOpen&&(this.tarRotation-=this.ROT_STEP,this.tarRotation<-this.MAX_ROTATION&&(this.tarRotation=-this.MAX_ROTATION))}},{key:"switchCallBack",value:function(e,t){this.isOpen=t,this.isOpen?(this.switchButton.open(),this.screen0.visible=!0,this.screenCon.visible=this.principleCon1.visible=this.principleCon2.visible=!0,this.light1.gotoAndStop(1)):(this.switchButton.close(),this.screen0.visible=!1,this.screenCon.visible=this.principleCon1.visible=this.principleCon2.visible=!1,this.light1.gotoAndStop(0))}},{key:"setType",value:function(e){switch(this.type=e,this.principle1.visible=this.principle2.visible=this.inside.visible=!1,e){case 1:this.principle1.visible=!0;break;case 2:this.principle2.visible=!0;break;default:this.type=0,this.inside.visible=!0}}},{key:"typeChanged",value:function(e){this.setType(e||0)}},{key:"rotationChanged",value:function(e){this.curRotation=this.tarRotation=e.showValue,this.updateRotation()}},{key:"getConfigureData",value:function(){var e=(0,r.default)((0,c.default)(AlphaParticleScattering.prototype),"getConfigureData",this).call(this);e&&e.confArr||(e={confArr:[]});var i=this;return e.confArr.push(f.getDropMenu("类型",!1,"",this.types[this.type]||"内部结构",this.types,this,this.typeChanged.bind(this)),f.getScrollBar("偏转角度",!0,"°",this.MAX_ROTATION,-this.MAX_ROTATION,this.tarRotation,1,function(e){var t;!e._showValue&&0!==e._showValue||(t=e._showValue,t=+Math.round(t).toFixed(0),i.tarRotation=t,e._showValue=t,i.rotationChanged(e))},this)),e}},{key:"toJSON",value:function(){return(0,n.default)({tarRotation:this.tarRotation,isOpen:this.isOpen,type:this.type},(0,r.default)((0,c.default)(AlphaParticleScattering.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,r.default)((0,c.default)(AlphaParticleScattering.prototype),"setJSON",this).call(this,e),e.tarRotation&&(this.tarRotation=e.tarRotation,this.curRotation=e.tarRotation,this.updateRotation()),e.isOpen&&(this.isOpen=e.isOpen,this.switchCallBack(null,this.isOpen)),e.type&&(this.type=e.type,this.setType(this.type))}}]),AlphaParticleScattering}(),m=function(){function n(e,t,i){(0,l.default)(this,n),this.numSpArr=e,this.precision=t||0,this.dotSp=i,this.precision<0&&(this.precision=0),this.sca=Math.pow(10,this.precision)}return(0,o.default)(n,[{key:"destroy",value:function(){}},{key:"setNum",value:function(i){i=Math.floor(i*this.sca),this.numSpArr.forEach(function(e){var t=i%10;e.gotoAndStop(t),i=10<=i?Math.floor(i/10):0})}},{key:"show",value:function(){this.numSpArr.forEach(function(e){e.visible=!0}),this.dotSp&&(this.dotSp.visible=!0)}},{key:"hide",value:function(){this.numSpArr.forEach(function(e){e.visible=!1}),this.dotSp&&(this.dotSp.visible=!1)}}]),n}(),y=function(){function r(e,t,i,n,a){(0,l.default)(this,r),this.sp=e,this.eabase=t,this.callBack=a,this.upIndex=i,this.downIndex=n,this.touchId=I.addTouch(this.sp,{begin:this.touchBegin,end:this.touchEnd,move:this.touchMove,tab:this.touchTab},this),this.ticker=I.addTicker(this.loop,this,!1),this.interval=60,this.count=0}return(0,o.default)(r,[{key:"destroy",value:function(){I.removeTouch(this.sp,this.touchId),I.removeTicker(this.ticker),this.ticker=null,this.sp=null,this.eabase=null,this.callBack=null}},{key:"loop",value:function(){this.count++,this.count>=this.interval&&(this.count=0,this.interval=6,this.callBack&&this.callBack.call(this.eabase,this.sp,null))}},{key:"touchBegin",value:function(){this.sp.gotoAndStop(this.downIndex),this.ticker.start(),this.interval=30,this.count=0}},{key:"touchMove",value:function(){}},{key:"touchEnd",value:function(){this.sp.gotoAndStop(this.upIndex),this.ticker.stop()}},{key:"touchTab",value:function(e){this.callBack&&this.callBack.call(this.eabase,this.sp,e)}}]),r}(),v=function(){function s(e,t,i,n,a,r,o){(0,l.default)(this,s),this.sp=e,this.openIndex=i,this.closeIndex=n,this.eabase=t,this.callBack=a,this.isOpen=r||!1,this.bindSpArr=o,this.isOpen?this.open():this.close(),this.clickId=I.addTouch(this.sp,{tab:this.onClick},this)}return(0,o.default)(s,[{key:"onClick",value:function(){this.isOpen?this.close():this.open(),this.callBack&&this.canCallBack()&&this.callBack.call(this.eabase,this.sp,this.isOpen)}},{key:"destroy",value:function(){I.removeTouch(this.sp,this.clickId),this.sp=null,this.eabase=null,this.callBack=null,this.bindSpArr=null}},{key:"canCallBack",value:function(){return!0}},{key:"open",value:function(){var t=this;this.isOpen=!0,this.sp.gotoAndStop(this.openIndex),this.bindSpArr&&this.bindSpArr.forEach(function(e){e.gotoAndStop(t.openIndex)})}},{key:"close",value:function(){var t=this;this.isOpen=!1,this.sp.gotoAndStop(this.closeIndex),this.bindSpArr&&this.bindSpArr.forEach(function(e){e.gotoAndStop(t.closeIndex)})}},{key:"setState",value:function(e){e?this.open():this.close()}}]),s}(),C=function(e){(0,s.default)(n,e);var i=u(n);function n(e){var t;(0,l.default)(this,n),(t=i.call(this)).root=e,t.rect=new g(200,-158,256,254),t.tf=t.root.cachePool.popText("",{fontSize:"16px",fontFamily:"Microsoft YaHei",fill:65280}),t.addChild(t.tf),t.tf.x=346,t.tf.y=-148;e=new PIXI.Graphics;return t.addChild(e),e.beginFill(0,.5),e.drawRect(t.rect.x,t.rect.y,t.rect.width,t.rect.height),e.endFill(),t.mask=e,t.color=16777215,t.r=1,t.life=100,t.particalCon=new PIXI.Container,t.addChild(t.particalCon),t.pool=[],t.tfN=0,t}return(0,o.default)(n,[{key:"addParticle",value:function(){var e=this.getParticle();e.alpha=1;var t=this.rect.x+Math.random()*this.rect.width,i=this.rect.y+Math.random()*this.rect.height;e.x=t,e.y=i,this.particalCon.addChild(e)}},{key:"update",value:function(){for(var e=1/this.life,t=this.particalCon.children.length-1;0<=t;t--){var i=this.particalCon.children[t];i.alpha<=0?(this.particalCon.removeChildAt(t),this.pool.push(i)):i.alpha-=e}this.tfN<=0&&(this.tf.text="粒子数："+this.particalCon.children.length,this.tfN=30),this.tfN--}},{key:"getParticle",value:function(){return this.pool.pop()||PIXI.Sprite.fromFrame("AlphaParticleScattering/particle2.png")}},{key:"destroy",value:function(){this.root.cachePool.pushText(this.tf),(this.tf=null,r.default)((0,c.default)(n.prototype),"destroy",this).call(this)}}]),n}(PIXI.Container),M=function(e){(0,s.default)(i,e);var t=u(i);function i(){var e;return(0,l.default)(this,i),(e=t.call(this)).rect=new g(0,0,1,1),e.ps=[],e.particles=[],e.pool=[],e.initSpeed=-3,e.k=.1,e.q1=2,e.q2=79,e.particleFrameId="AlphaParticleScattering/particle.png",e.showTail=!0,e.tailW=1,e.tailLife=25,e.tailPool=[],e.tailColor=16777215,e.tailCon=new PIXI.Container,e.addChild(e.tailCon),e.init(),e}return(0,o.default)(i,[{key:"init",value:function(){var e=new PIXI.Graphics;this.addChild(e),e.beginFill(0,.5),e.drawRect(this.rect.x,this.rect.y,this.rect.width,this.rect.height),e.endFill(),this.mask=e}},{key:"addParticle",value:function(){var e=this.getParticle();this.addChild(e),this.particles.push(e),e.x=Math.random()*this.rect.width+this.rect.x,e.y=this.rect.y+this.rect.height,e.speed=new O(0,this.initSpeed)}},{key:"checkContainPoint",value:function(e,t){var i=e.x,n=e.x+e.width,a=e.y,r=e.y+e.height,e=t.x,t=t.y;return i<=e&&e<=n&&a<=t&&t<=r}},{key:"update",value:function(){this.tailCon.visible=this.showTail;for(var e=this.particles.length-1;0<=e;e--){var t,i,n=this.particles[e];this.checkContainPoint(this.rect,n.position)?(t=new O(n.x,n.y),n.x+=n.speed.x,n.y+=n.speed.y,i=this.getForce(n),n.speed.x+=i.x,n.speed.y+=i.y,this.addTail(t,new O(n.x,n.y))):(this.removeChild(n),this.pool.push(n),this.particles.splice(e,1))}for(var a=1/this.tailLife,r=0;r<this.tailCon.children.length;r++){var o=this.tailCon.children[r];o.alpha<=0?(this.tailCon.removeChildAt(r),this.tailPool.push(o)):o.alpha-=a}}},{key:"getForce",value:function(i){var n=this,a=new O(0,0);return this.ps.forEach(function(e){var t=new O(i.x-e.x,i.y-e.y),e=t.length,e=n.k*n.q1*n.q2/(e*e*e);a.x+=t.x*e,a.y+=t.y*e}),a}},{key:"addTail",value:function(e,t){var i=this.getTail();i.alpha=1,i.clear(),i.lineStyle(this.tailW,this.tailColor,.6),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),this.tailCon.addChild(i)}},{key:"getTail",value:function(){return this.tailPool.pop()||new PIXI.Graphics}},{key:"getParticle",value:function(){var e,t=this.pool.pop();return t||(t=new PIXI.Container,e=PIXI.Sprite.fromFrame(this.particleFrameId),t.addChild(e),e.x=-e.width/2,e.y=-e.height/2),t}}]),i}(PIXI.Container),b=function(){(0,s.default)(t,M);var e=u(t);function t(){return(0,l.default)(this,t),e.call(this)}return(0,o.default)(t,[{key:"init",value:function(){this.rect=new g(-159,-158,320,319),this.ps=[new O(-84,-84),new O(84,-84),new O(0,84),new O(-168,84),new O(168,84)],this.initSpeed=-3,this.k=.09,this.tailLife=25,this.showTail=!0,this.tailW=1,this.tailColor=16777215,this.particleFrameId="AlphaParticleScattering/particle.png",(0,r.default)((0,c.default)(t.prototype),"init",this).call(this)}}]),t}(),x=function(){(0,s.default)(t,M);var e=u(t);function t(){return(0,l.default)(this,t),e.call(this)}return(0,o.default)(t,[{key:"init",value:function(){this.rect=new g(-159,-158,320,319),this.ps=[new O(2,-34),new O(-340,-34),new O(340,-34)],this.initSpeed=-4,this.k=1,this.tailLife=40,this.showTail=!0,this.tailW=2,this.tailColor=16777215,this.particleFrameId="AlphaParticleScattering/smallParticle.png",(0,r.default)((0,c.default)(t.prototype),"init",this).call(this)}}]),t}(),O=function(){function i(e,t){(0,l.default)(this,i),this.x=e,this.y=t}return(0,o.default)(i,[{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}}]),i}();e.exports=AlphaParticleScattering},function(e,t,i){"use strict";var a=i(4),n=i(0),s=n(i(1)),l=n(i(2)),h=n(i(5)),r=n(i(6)),o=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(i);return t=n?(e=(0,o.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}i=function(e){(0,h.default)(o,e);var r=c(o);function o(e,t,i,n,a){return(0,s.default)(this,o),(a=r.call(this,e,t,i,n,a)).userData={},a}return(0,l.default)(o,[{key:"body1",get:function(){return this.get_body1()},set:function(e){this.set_body1(e)}},{key:"body2",get:function(){return this.get_body2()},set:function(e){this.set_body2(e)}},{key:"anchor1",get:function(){return this.get_anchor1()},set:function(e){this.set_anchor1(e)}},{key:"anchor2",get:function(){return this.get_anchor2()},set:function(e){this.set_anchor2(e)}},{key:"frequency",get:function(){return this.get_frequency()},set:function(e){this.set_frequency(e)}},{key:"stiff",get:function(){return this.get_stiff()},set:function(e){this.set_stiff(e)}},{key:"damping",get:function(){return this.get_damping()},set:function(e){this.set_damping(e)}},{key:"ignore",get:function(){return this.get_ignore()},set:function(e){this.set_ignore(e)}},{key:"phase",get:function(){return this.get_phase()},set:function(e){this.set_phase(e)}},{key:"active",get:function(){return this.get_active()},set:function(e){this.set_active(e)}}]),o}(nape.constraint.WeldJoint);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),l=n(i(1)),r=n(i(2)),h=n(i(5)),o=n(i(6)),s=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(i);return t=n?(e=(0,s.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}i=function(e){(0,h.default)(s,e);var o=c(s);function s(e,t,i,n,a,r){return(0,l.default)(this,s),(r=o.call(this,e,t,i,n,a,r)).userData={},r}return(0,r.default)(s,[{key:"body1",get:function(){return this.get_body1()},set:function(e){this.set_body1(e)}},{key:"body2",get:function(){return this.get_body2()},set:function(e){this.set_body2(e)}},{key:"jointMax",get:function(){return this.get_jointMax()},set:function(e){this.set_jointMax(e)}},{key:"jointMin",get:function(){return this.get_jointMin()},set:function(e){this.set_jointMin(e)}},{key:"anchor1",get:function(){return this.get_anchor1()},set:function(e){this.set_anchor1(e)}},{key:"anchor2",get:function(){return this.get_anchor2()},set:function(e){this.set_anchor2(e)}},{key:"frequency",get:function(){return this.get_frequency()},set:function(e){this.set_frequency(e)}},{key:"stiff",get:function(){return this.get_stiff()},set:function(e){this.set_stiff(e)}},{key:"damping",get:function(){return this.get_damping()},set:function(e){this.set_damping(e)}},{key:"ignore",get:function(){return this.get_ignore()},set:function(e){this.set_ignore(e)}}]),s}(nape.constraint.DistanceJoint);e.exports=i},function(e,t,AsbestosFreeWireGauzeSpecil){"use strict";var a=AsbestosFreeWireGauzeSpecil(4),i=AsbestosFreeWireGauzeSpecil(0),s=i(AsbestosFreeWireGauzeSpecil(95)),l=i(AsbestosFreeWireGauzeSpecil(25)),n=i(AsbestosFreeWireGauzeSpecil(1)),r=i(AsbestosFreeWireGauzeSpecil(2)),o=i(AsbestosFreeWireGauzeSpecil(7)),h=i(AsbestosFreeWireGauzeSpecil(5)),c=i(AsbestosFreeWireGauzeSpecil(6)),u=i(AsbestosFreeWireGauzeSpecil(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=AsbestosFreeWireGauzeSpecil(8),f=AsbestosFreeWireGauzeSpecil(50),I=nape.shape.Polygon,g=AsbestosFreeWireGauzeSpecil(123),m=AsbestosFreeWireGauzeSpecil(20),y=PIXI.Point,AsbestosFreeWireGauzeSpecil=function(){(0,h.default)(AsbestosFreeWireGauzeSpecil,p);var t=d(AsbestosFreeWireGauzeSpecil);function AsbestosFreeWireGauzeSpecil(){var e;return(0,n.default)(this,AsbestosFreeWireGauzeSpecil),(e=t.call(this)).isAsbestosFreeWireGauzeSpecil=!0,e.name="AsbestosFreeWireGauzeSpecil",e.CNName="陶土网",e.z_index=13.1,e.pU=new y(180,-30),e.pM=new y(180,-24),e.isOpen=!0,e}return(0,r.default)(AsbestosFreeWireGauzeSpecil,[{key:"creationComplete",value:function(){this.colorFilter.apply(this.redRemain,[16604160,0]),(this.redRemain.alpha=0,o.default)((0,u.default)(AsbestosFreeWireGauzeSpecil.prototype),"creationComplete",this).call(this);var e=this.bg.getLocalBounds();e.x+=this.x+this.bg.x,e.y+=this.y+this.bg.y;var t=new I(I.box(e.width,20));this.body=new f(g.KINEMATIC),this.body.mass=30,this.body.add(t),this.body.noallowRotation=!0,this.body.posx=e.x,this.body.posy=e.y,this.body.userData.view=this.bg,this.func_addBodyToSpace(this.body,this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.solidVo={},this.burnRemain.scale.x=0,this.burnRemain.scale.y=0,this.hadBurned=!1,this.heatCount=0,this.burnCount=0,this.updateTransform(),this.updateGlobalAry()}},{key:"update",value:function(e){(0,o.default)((0,u.default)(AsbestosFreeWireGauzeSpecil.prototype),"update",this).call(this,e),this.checkBurn(),this.isBurning&&this.fireParticle?(this.fireParticle.render(),this.burnCount++,this.calcEffect(),this.redRemain.alpha=Math.max(Math.min(this.burnCount/100,1),0)):0<this.burnCount&&(this.burnCount--,this.redRemain.alpha=Math.max(Math.min(this.burnCount/100,1),0)),!this.isBurning&&0<this.heatCount&&this.heatCount--;var t=this.bg.toGlobal({x:0,y:0}),e=this.globalAry[0];(.001<Math.abs(t.x-e.x)||.001<Math.abs(t.y-e.y))&&this.updateGlobalAry()}},{key:"calcEffect",value:function(){var e,t,i,n=this.solidVo.S;n&&0<n.mol?(e=Math.max(n.mol-3e-4,0),i=n.mol-e,n.mol=e,(e=this.solidVo.Fe)&&0<e.mol&&(t=Math.max(e.mol-3e-4,0),i+=e.mol-t,e.mol=t),t=this.root.medicineManager.getMedicineData("FeS"),i=new m(t,i),this.addProduct(i)):this.isBurning&&this.clearParticle()}},{key:"addProduct",value:function(e){var t;this.solidVo||(this.solidVo={}),this.solidVo[e.name]?(t=this.solidVo[e.name].getMol()+e.getMol(),this.solidVo[e.name].setMol(t)):this.solidVo[e.name]=e.deepClone(),this.updateMedColorAndScale()}},{key:"updateMedColorAndScale",value:function(){var e,t=this.solidVo,i=0,n=0;if(!t)return this.burnRemain.scale.x=0,void(this.burnRemain.scale.y=0);for(e in t){i+=t[e].getVol();var a=t[e].getMol();"S"===t[e].name&&(a*=.5),"Fe"===t[e].name&&(a*=2),n+=a}var r=this.getMixColor(n,(0,s.default)(t)).number,o=Math.sqrt(i/3.5);this.colorFilter.apply(this.burnRemain,[r,0]),0<(o=1.7<o?1.7:o)&&(this.burnRemain.scale.x=o,this.burnRemain.scale.y=o,this.redRemain.scale.x=this.redRemain.scale.y=o)}},{key:"getMixColor",value:function(e,t){var i=0,n=0,a=0;if(t){for(var r=0;r<t.length;r++){var o=(0,l.default)(t[r].dat.color_gas||t[r].dat.color),s=t[r].mol/e;i+=((o=!o&&0!==o?16777215:o)>>16)*s,n+=o>>8&255*s,a+=(255&o)*s}return{array:[i=(0,l.default)(i),n=(0,l.default)(n),a=(0,l.default)(a)],number:(i<<16)+(n<<8)+a}}}},{key:"getSpoonPourInfo",value:function(){return{p0:this.toGlobal(this.pM),p1:this.toGlobal(this.pU)}}},{key:"canSpoonPour",value:function(){return!this.hadBurned}},{key:"addMedicine",value:function(e){var t=this;e.forEach(function(e){t.addProduct(e)}),this.updateMedColorAndScale()}},{key:"eqHeat",value:function(e){300<e&&this.heatCount<500&&(this.heatCount+=10)}},{key:"checkBurn",value:function(){var e,t;300<this.heatCount&&!this.isBurning&&(e=this.solidVo.S,t=this.solidVo.Fe,e&&t&&0<e.mol&&0<t.mol&&(this.hadBurned||this.initBurnFire(),this.isBurning=!0))}},{key:"initBurnFire",value:function(){this.hadBurned=!0,this.getParticle()}},{key:"getParticle",value:function(){this.fireParticle=ParticleUtil.getParticle(ParticleUtil.particles.fe_s_fire),this.fireParticle.position.set(180,20),this.addChild(this.fireParticle),this.fireParticle.alpha=.8,this.getViewStack().addParticle(this.fireParticle),this.fireParticle.bind(this)}},{key:"eqPrepareDelete",value:function(){(0,o.default)((0,u.default)(AsbestosFreeWireGauzeSpecil.prototype),"eqPrepareDelete",this).call(this),this.clearParticle()}},{key:"clearParticle",value:function(){this.fireParticle&&(this.isBurning=!1,this.heatCount=0,this.fireParticle.parent&&this.fireParticle.parent.removeChild(this.fireParticle),this.fireParticle.destroy(),this.fireParticle=null,this.burnCount=150)}},{key:"func_addBodyToSpace",value:function(e,t,i){t&&(e.userData.coordinateField=t),i&&e.userData.view&&(e.userData.bindupdate={func:e.userData.view.update,field:e.userData.view}),e.set_space(this.root.nape.space)}},{key:"updateGlobalAry",value:function(){var e=this.bg.getBounds(),t=e.x,i=e.y,n=e.width,e=e.height;this.globalAry=[{x:t,y:i},{x:t+n,y:i},{x:t+n,y:i+e},{x:t,y:i+e}]}}]),AsbestosFreeWireGauzeSpecil}();e.exports=AsbestosFreeWireGauzeSpecil},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(202);e.exports=function(){(0,l.default)(Battery,d);var t=u(Battery);function Battery(){var e;return(0,r.default)(this,Battery),(e=t.call(this)).name="Battery",e.CNName="电源",e.isBurned=!1,e.VOLTAGE=3,e}return(0,o.default)(Battery,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(Battery.prototype),"creationComplete",this).call(this);var e=this.positive,t=this.negative;this.rubberPosAry=[{x:t.x-10,y:t.y,name:"left",rotation:Math.PI,voltage:this.VOLTAGE,electrode:0},{x:e.x+10,y:e.y,name:"right",rotation:0,voltage:this.VOLTAGE,electrode:1}]}}]),Battery}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var PlasticInjector=i(172);e.exports=function(){(0,l.default)(BigPlasticInjector,PlasticInjector);var t=u(BigPlasticInjector);function BigPlasticInjector(){var e;return(0,r.default)(this,BigPlasticInjector),(e=t.call(this)).name="BigPlasticInjector",e.CNName="20ml塑料注射器",e.z_index=23.19,e.originalMass=15,e}return(0,o.default)(BigPlasticInjector,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BigPlasticInjector.prototype),"creationComplete",this).call(this),this.capacityScale=.22906,this.fullCapacity=this.getTotalCapacity(),this.fullGasCapacity=.0008175263777820658,this.needlePos={x:293,y:74.5},this.rubberPos={x:333,y:66,rotation:0},this.plungerLimit={top:94,bottom:270},this.totalHeight=this.plungerLimit.bottom-this.plungerLimit.top}}]),BigPlasticInjector}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var Wire=i(404);e.exports=function(){(0,l.default)(BlackWire,Wire);var t=u(BlackWire);function BlackWire(){var e;return(0,r.default)(this,BlackWire),(e=t.call(this)).name="BlackWire",e.z_index=21.1,e}return(0,o.default)(BlackWire,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlackWire.prototype),"creationComplete",this).call(this)}}]),BlackWire}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),i=function(){(0,h.default)(a,p);var t=d(a);function a(){var e;return(0,r.default)(this,a),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(a,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(a.prototype),"creationComplete",this).call(this);var t=this,i=this.balance=this.execute(NBCommand.CREATE_EQUIPMENT,"Balance"),n=this.weightBox=this.execute(NBCommand.CREATE_EQUIPMENT,"WeightBox");t.executeEq=[i,n],n.x=this.x+600,n.y=this.y-300,n.once("creationComplete",function(){e.root.viewStack.addChild(n),NBDrag.addDrag(n)}),i.on("creationComplete",function(){this.root.viewStack.addChild(this),this.moveThisToXY(t.x-this.x,t.y-this.y),this.x=t.x,this.y=t.y,NBDrag.addDrag(this)})}}]),a}();e.exports=i},function(e,t,BlastAlcoholBurner){"use strict";var a=BlastAlcoholBurner(4),i=BlastAlcoholBurner(0),n=i(BlastAlcoholBurner(9)),h=i(BlastAlcoholBurner(114)),r=i(BlastAlcoholBurner(1)),o=i(BlastAlcoholBurner(2)),s=i(BlastAlcoholBurner(7)),l=i(BlastAlcoholBurner(5)),c=i(BlastAlcoholBurner(6)),u=i(BlastAlcoholBurner(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=BlastAlcoholBurner(8),f=BlastAlcoholBurner(34),I=BlastAlcoholBurner(132),g=BlastAlcoholBurner(11),m=BlastAlcoholBurner(31),y=BlastAlcoholBurner(32),v=BlastAlcoholBurner(16),BlastAlcoholBurner=function(){(0,l.default)(BlastAlcoholBurner,p);var t=d(BlastAlcoholBurner);function BlastAlcoholBurner(){var e;return(0,r.default)(this,BlastAlcoholBurner),(e=t.call(this)).name="BlastAlcoholBurner",e.CNName="酒精喷灯",m.register(y.BLAST_BURNER),e.z_index=11.01,e}return(0,o.default)(BlastAlcoholBurner,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,u.default)(BlastAlcoholBurner.prototype),"creationComplete",this).call(this),this.fireStatus=0,this.cycles=1,this.maxCycleLen=this.cycles*this.btn.getLocalBounds().height,this.curCycleLen=this.maxCycleLen*this.fireStatus,this.topFireParticle=(0,n.default)(f.getParticle(f.particles.BlastAlcoholBurner_Up),{fireStatus:0,isBurning:!1,lastBurningTime:1e4}),this.topFireParticle.alpha=0,this.topFireParticle.position.set(92,-10),this.addChild(this.topFireParticle),this.bottomFireParticle=(0,n.default)(f.getParticle(f.particles.BlastAlcoholBurner_Low),{fireStatus:0,heatTime:0}),this.bottomFireParticle.bind(this),this.bottomFireParticle.position.set(100,135),this.addChild(this.bottomFireParticle),this.getViewStack().addParticle(this.bottomFireParticle),this.addListeners(),this.on(NBEvent.del.PREPARE_DELETE,function(){m.stop(),e.bottomFireParticle.visible=!1,e.topFireParticle.visible=!1}),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBEvent.del.ADDED,function(){e.bottomFireParticle.visible=!0,e.topFireParticle.visible=!0,e.topFireParticle.alpha=1}),this.lightOnRef.on(TouchEvent.TOUCH_BEGIN,function(){0===e.bottomFireParticle.fireStatus&&e.autoLightOn()});var t=this.root.mouseManager;v.addMouseEvent(t,this.lightOnRef,v.status.PAN),this.dragBtn(),this.setBtnStatus()}},{key:"autoLightOn",value:function(){this.interactive=this.interactiveChildren=!1;var e=this.root.execute(NBCommand.ADD_EQUIPMENT,{name:"MatchStick"});e.noNewRadiantHeat=!0,this.addChild(e),e.x=this.lightOnRef.x+80,e.y=this.lightOnRef.y-10;var t=this;e.on("matchStickFirstTimeFire",function(){TweenMax.to(e,.4,{x:t.lightOnRef.x,onComplete:function(){t.interactive=t.interactiveChildren=!0,t.lightOn(),t.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e],eqNotSelect:!0})}})})}},{key:"dragBtn",value:function(){var e=this.btn;e.dragRect={x:0,y:50,width:0,height:20},NBDrag.addDrag(e)}},{key:"eqPrepareDrag",value:function(){(0,s.default)((0,u.default)(BlastAlcoholBurner.prototype),"eqPrepareDrag",this).call(this),this.topFireParticle.fireStatus=this.curCycleLen/this.maxCycleLen}},{key:"addListeners",value:function(){I.addGesture(this.btn,I.gesture.PAN,function(e){if("move"==e.type){var t=this.parent;t.curCycleLen-=e.offsetY,t.curCycleLen>=t.maxCycleLen?t.curCycleLen=t.maxCycleLen:t.curCycleLen<=0&&(t.curCycleLen=0);var i=t.topFireParticle;i.fireStatus=t.curCycleLen/t.maxCycleLen;for(var n=this.root.viewStack.eqLayer.children,a=0;a<n.length;a++){var r=n[a];if("AsbestosFreeWireGauze"===r.name){var o=r.x-this.parent.x,s=r.y-this.parent.y;if(o>r.offset.left&&o<r.offset.right&&s>r.offset.top&&s<r.offset.bottom){i.fireStatus=0;break}}}e.stopPropagation()}})}},{key:"isParticleReady",value:function(e){return!!e.particle}},{key:"updateTopFireStatus",value:function(e){var t=this.topFireParticle,i=this.bottomFireParticle,n=this.soundInstance;if(t&&this.isParticleReady(t)){0==t.fireStatus?t.isBurning=!1:(i&&i.fireStatus&&2<i.heatTime||t.lastBurningTime<2)&&(this.topFireParticle.isBurning=!0,this.topFireParticle.alpha=1,delete this.heatRectObjAry),this.topFireParticle.render(),this.topFireParticle.ifScaleParticle=!0,t.isBurning?(t.lastBurningTime=0,(i=this.topFireParticle.getBounds().clone()).y-=100,i.height+=100,i.x-=50,i.width+=100,this.newRadiantHeat(g.ALCOHOL_HEAT_VALUE,i,e,g.TEMP_BLAST_ALCOHOL_BURNER*this.topFireParticle.fireStatus,!1,!1,this.topFireParticle)):t.lastBurningTime+=e,n&&"playSucceeded"==n.playState?n.volume=t.isBurning?.03*t.fireStatus:0:(this.soundInstance=m.play(y.BLAST_BURNER),this.soundInstance.volume=0,this.soundInstance.loop=999);var a,r={startScale:[.01,.18],endScale:[.01,.13],startAlpha:[.01,.4],endAlpha:[.01,.2],minLifetime:[.001,.05],maxLifetime:[.001,.2]},o=t.fireStatus;for(a in t.isBurning||(o=0),r){var s=(0,h.default)(r[a],2),l=s[0],s=s[1];t.setParticleProp(a,o*(s-l)+l)}}}},{key:"updateBottomFireStatus",value:function(e){var t=this.bottomFireParticle;if(t&&this.isParticleReady(t)){t.render(),t.fireStatus-=e/5,t.heatTime+=e,t.fireStatus<=0?(t.fireStatus=0,t.heatTime=0):this.radiantHeat(g.ALCOHOL_HEAT_VALUE,this.bottomFireRect.getBounds(),e,g.TEMP_ALCOHOL*this.bottomFireParticle.fireStatus);var i,n={endAlpha:[0,.31],minLifetime:[.001,.01],maxLifetime:[.001,.17]};for(i in n){var a=(0,h.default)(n[i],2),r=a[0],a=a[1];t.setParticleProp(i,t.fireStatus*(a-r)+r)}}}},{key:"update",value:function(e){this.updateBottomFireStatus(e),this.updateTopFireStatus(e)}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,u.default)(BlastAlcoholBurner.prototype),"toJSON",this).call(this),{topFireParticle:{fireStatus:this.topFireParticle.fireStatus,isBurning:this.topFireParticle.isBurning,lastBurningTime:this.topFireParticle.lastBurningTime},bottomFireParticle:{fireStatus:this.bottomFireParticle.fireStatus,heatTime:this.bottomFireParticle.heatTime}})}},{key:"setJSON",value:function(e){(0,s.default)((0,u.default)(BlastAlcoholBurner.prototype),"setJSON",this).call(this,e);var t=this.topFireParticle,i=this.bottomFireParticle;function n(e,t){for(var i in t)e[i]=t[i]}n(t,e.topFireParticle),n(i,e.bottomFireParticle),this.curCycleLen=this.topFireParticle.fireStatus*this.maxCycleLen,this.topFireParticle.visible=!0,this.bottomFireParticle.visible=!0}},{key:"getLightOnPoint",value:function(){return this.lightOnRef.toGlobal({x:0,y:0})}},{key:"lightOn",value:function(){0==this.bottomFireParticle.fireStatus&&(this.bottomFireParticle.fireStatus=1)}},{key:"setBtnStatus",value:function(){var e=this.btn,t=this.root.mouseManager,i=v.status.STRETCH;e.on(MouseEvent.MOUSE_OVER,function(){t.changeMouseStatus(i,!0,e)}),e.on(MouseEvent.MOUSE_OUT,function(){t.changeMouseStatus(i,!1,e)})}}]),BlastAlcoholBurner}();e.exports=BlastAlcoholBurner},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),i=function(){(0,h.default)(a,p);var t=d(a);function a(){var e;return(0,r.default)(this,a),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(a,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(a.prototype),"creationComplete",this).call(this);var t=this.execute(NBCommand.CREATE_EQUIPMENT,"BlastAlcoholBurner"),i=this.execute(NBCommand.CREATE_EQUIPMENT,"C2H5OH%95&H2O%5");this.burner=t,this.alcohol=i,e.executeEq=[t,i],this.cannotSystemDrag=!0;var n=this.root.viewStack;t.on("creationComplete",function(){t.isCreationComplete&&(n.addChild(t),n.addChild(i),t.x=e.x,t.y=e.y,i.position.set(t.x+363,t.y+105),NBDrag.addDrag(t,null,{bringToFront:!0}),NBDrag.addDrag(i,null,{bringToFront:!0}))})}}]),a}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(147),d=i(29).getLan;e.exports=function(){(0,s.default)(BlueLitmusPaper,u);var t=c(BlueLitmusPaper);function BlueLitmusPaper(){var e;return(0,r.default)(this,BlueLitmusPaper),(e=t.call(this)).name="BlueLitmusPaper",e.CNName="蓝色石蕊试纸",e}return(0,o.default)(BlueLitmusPaper,[{key:"initText",value:function(){this.txt.allowGetBounds=!1,this.txt.text=d("eq_blueLitmusPaper"),this.txt.anchor.set(.5)}}]),BlueLitmusPaper}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8),p=i(18),f=i(11);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).cannotSystemDrag=!0,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){var t=this;(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this),this.topLength=200,this.upLength=50;var e=new PIXI.mesh.RopeBitmap(new PIXI.Texture.fromImage(f.config.URI_PREFIX+"assets/catheter.png"));this.addChild(e),this.ropeAry=[{x:0,y:200},{x:0,y:50},{x:200,y:50},{x:200,y:200}],e.setPoints(this.ropeAry),this.x=0,this.removeEventListener(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.dragA.container=!1,this.dragB.container=!1,NBDrag.addDrag(this.dragA),NBDrag.addDrag(this.dragB),this.dragA.on(NBDrag.event.STOP_DRAG,function(e){t.dragEnd.call(t,e)}),this.dragB.on(NBDrag.event.STOP_DRAG,function(e){t.dragEnd.call(t,e)}),this.dragA.on(NBDrag.event.DRAG_MOVE,function(e){i.dragMove.call(t,e)}),this.dragB.on(NBDrag.event.DRAG_MOVE,function(e){i.dragMove.call(t,e)})}},{key:"dragEnd",value:function(e){var t=e.target;t.container?(e=t.container.localBounds,(t.y<=e.y||t.x<e.x||t.x>e.x+e.width)&&(this.addChildWithSamePos(t),t.container=!1)):this.getData(t)}},{key:"getData",value:function(e){for(var t=this.getEquipments(),i=0;i<t.length;i++){var n=t[i];if("Catheter"!=n.constructor.name&&e.hitTest(n))return n.addChildWithSamePos(e),e.containedX=n.localBounds.width/2-e.width/2,e.x=e.containedX,e.container=n,void(e.containerHeight=n.height)}}},{key:"update",value:function(){var e,t,i,n;this.dragA&&(e=this.dragA.toGlobal({x:0,y:0}),t=this.dragB.toGlobal({x:0,y:0}),this.dragA.container&&(i=p.retrieveRotation(this.dragA.container.worldTransform)),this.dragB.container&&(n=p.retrieveRotation(this.dragB.container.worldTransform)),this.updatePoint(e.x,e.y,i,this.dragA.container?this.dragA.y:0,0,1),this.updatePoint(t.x,t.y,n,this.dragB.container?this.dragB.y:0,3,2))}},{key:"updatePoint",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length?arguments[4]:void 0,r=5<arguments.length?arguments[5]:void 0;this.ropeAry[a].x=e,this.ropeAry[a].y=t;a=Math.cos(i),n=this.topLength>=n+this.upLength?this.topLength:n+this.upLength;this.ropeAry[r].y=t-n*a,this.ropeAry[r].x=n*Math.sin(i)+e}}],[{key:"dragMove",value:function(e){var t=e.target;t.container&&(e=t.container.localBounds,t.y>e.y&&t.x>e.x&&t.x<e.x+e.width&&(t.x=t.containedX,t.y=Math.min(t.containerHeight-30,t.y)))}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),h=n(i(7)),c=n(i(5)),l=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var p=i(8),i=function(){(0,c.default)(l,p);var t=d(l);function l(){var e;return(0,r.default)(this,l),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(l,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){(0,h.default)((0,u.default)(l.prototype),"creationComplete",this).call(this);var e=this,t=this.getViewStack(),i=this.plug=this.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig"),n=this.catheter1=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),a=this.catheter2=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter");e.executeEq=[i,n,a],i.x=this.x,i.y=this.y,n.x=this.x+20,n.x=this.y-25,a.x=this.x+54,a.x=this.y-25;var r=!1,o=!1,s=!1;i.on("creationComplete",function(){i.x=e.x,i.y=e.y,t.addChild(i),r=!0,NBDrag.addDrag(i),o&&n.hitPlug(i,!0),s&&a.hitPlug(i,!0),i.curValue=2}),n.on("creationComplete",function(){n.x=e.x+20,n.y=e.y-25,t.addChild(n),o=!0,n.updateCurveGlass(0),r&&n.hitPlug(i,!0)}),a.on("creationComplete",function(){a.x=e.x+54,a.y=e.y-25,t.addChild(a),s=!0,a.updateCurveGlass(Math.PI),r&&a.hitPlug(i,!0)})}}]),l}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var CatheterGroup=i(406);e.exports=function(){(0,s.default)(i,CatheterGroup);var t=c(i);function i(){var e;return(0,o.default)(this,i),(e=t.call(this)).isWhole=!0,e}return(0,r.default)(i)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),l=n(i(7)),h=n(i(5)),s=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var d=i(8),p=i(18),g=i(52),f=i(11),i=function(){(0,h.default)(s,d);var i=u(s);function s(){var e;(0,r.default)(this,s),(e=i.call(this)).cannotSystemDrag=!0,e.ropeBound=new PIXI.Graphics,e.ropeBound.renderable=!1,e.rubberPoint=[];for(var t=0;t<50;t++)e.rubberPoint.push({x:0,y:0});return e}return(0,o.default)(s,[{key:"creationComplete",value:function(){(0,l.default)((0,c.default)(s.prototype),"creationComplete",this).call(this),this.init()}},{key:"init",value:function(){var e=this;this.leftGlassCatheter.bottleOffset={x:-2,y:0},this.rightGlassCatheter.bottleOffset={x:20-this.rightGlassCatheter.width,y:0};var t=new PIXI.Rope(new PIXI.Texture.fromImage(f.config.URI_PREFIX+"assets/catheterSoftLeft.png"),this.glassPointLeft),i=new PIXI.Rope(new PIXI.Texture.fromImage(f.config.URI_PREFIX+"assets/catheterSoft.png"),this.galssPointRight);this.ropeRubber=new PIXI.mesh.RopeBitmap(new PIXI.Texture.fromImage(f.config.URI_PREFIX+"assets/catheterSoftRubber.png")),setTimeout(function(){e.leftGlassCatheter.addChild(t),e.rightGlassCatheter.addChild(i),t.x=0,t.y=0,i.x=0,i.y=0,e.addChild(e.ropeRubber)},100),this.glassPointLeft=[{x:9,y:61.5},{x:9,y:111.5}],this.glassPointRight=[{x:this.rightGlassCatheter.width-12,y:61.5},{x:this.rightGlassCatheter.width-12,y:111.5}],this.ropeRubber.setPoints(this.rubberPoint),this.leftGlassCatheter.ropePoint=this.glassPointLeft,this.rightGlassCatheter.ropePoint=this.glassPointRight,this.ropeRubber.addChild(this.ropeBound),this.ropeRubber.leftHead=this.leftRubberHead,this.ropeRubber.rightHead=this.rightRubberHead,NBDrag.addDrag(this.leftGlassCatheter),NBDrag.addDrag(this.rightGlassCatheter),NBDrag.addDrag(this.leftRubberHead),NBDrag.addDrag(this.rightRubberHead),NBDrag.addDrag(this.ropeRubber),this.dragListeners(),this.leftGlassCatheter.rubberPoi={x:this.leftGlassCatheter.width-30,y:0},this.rightGlassCatheter.rubberPoi={x:-12,y:0},this.leftGlassCatheter.isLeft=1,this.rightGlassCatheter.isLeft=0,this.leftRubberHead.isLeft=1,this.rightRubberHead.isLeft=0,this.leftRubberHead.lastIsOpposit=!1,this.rightRubberHead.lastIsOpposit=!1,this.leftRubberHead.tube=this.leftGlassCatheter,this.rightRubberHead.tube=this.rightGlassCatheter,this.leftGlassCatheter.rubber=this.leftRubberHead,this.rightGlassCatheter.rubber=this.rightRubberHead,this.leftGlassCatheter.addChildWithSamePos(this.leftRubberHead),this.rightGlassCatheter.addChildWithSamePos(this.rightRubberHead),this.leftGlassCatheter.bottle=null,this.rightGlassCatheter.bottle=null}},{key:"dragListeners",value:function(){var n=this;function t(e){for(var t=e.target,i=this.getEquipmentsByType(s),n=0;n<i.length;n++)for(var a=[i[n].leftGlassCatheter,i[n].rightGlassCatheter],r=0;r<2;r++){var o=a[r];if(!o.rubber&&t.hitTest(o))return t.tube&&(t.tube.rubber=null),(t.tube=o).rubber=t,o.addChildWithSamePos(t),void(t.isLeft+o.isLeft==1?t.lastIsOpposit?TweenMax.to(t,.5,{x:o.rubberPoi.x+44,y:o.rubberPoi.y+24}):(t.lastIsOpposit=!0,TweenMax.to(t,.5,{x:o.rubberPoi.x+44,y:o.rubberPoi.y+24,rotation:Math.PI})):(t.lastIsOpposit=!1,TweenMax.to(t,.5,{x:o.rubberPoi.x,y:o.rubberPoi.y,rotation:0})))}t.tube&&(t.tube.rubber=null,t.tube=null,this.addChildWithSamePos(t))}this.leftRubberHead.on(NBDrag.event.STOP_DRAG,function(e){t.call(n,e)}),this.rightRubberHead.on(NBDrag.event.STOP_DRAG,function(e){t.call(n,e)});var a={},r=!0;function i(e){e=e.target;e.bottle||e.tempBottle||this.addChildWithSamePos(e),this.eqStopDrag(null,e)}function o(e){var t=e.target;t.bottle&&(t.x=t.bottlePos.x,t.y=t.bottlePos.y,t.ropePoint[1].y+=e.data.global.y-e.target.startY,t.ropePoint[1].y<111.5&&(t.bottle=null),e.target.startY=e.data.global.y)}this.ropeRubber.on(TouchEvent.TOUCH_BEGIN,function(e){n.leftRubberHead.tube&&n.leftRubberHead.tube.bottle||n.rightRubberHead.tube&&n.rightRubberHead.tube.bottle?r=!1:(r=!0,a.x=e.data.global.x,a.y=e.data.global.y)}),this.ropeRubber.on(NBDrag.event.DRAG_MOVE,function(e){var t,i=e.target;i.x=0,i.y=0,r&&(i=(t=e.data.global).x-a.x,e=t.y-a.y,n.leftRubberHead.tube?(n.leftRubberHead.tube.x+=i,n.leftRubberHead.tube.y+=e):(n.leftRubberHead.x+=i,n.leftRubberHead.y+=e),n.rightRubberHead.tube?(n.rightRubberHead.tube.x+=i,n.rightRubberHead.tube.y+=e):(n.rightRubberHead.x+=i,n.rightRubberHead.y+=e),a.x=t.x,a.y=t.y)}),this.leftGlassCatheter.on(NBDrag.event.STOP_DRAG,function(e){i.call(n,e)}),this.rightGlassCatheter.on(NBDrag.event.STOP_DRAG,function(e){i.call(n,e)}),this.leftGlassCatheter.on("hitObjIsNotFull",function(e){n.leftGlassCatheter.tempBottle=e.hitObj}),this.leftGlassCatheter.on("hasTweenComplete",function(){n.leftGlassCatheter.bottlePos={x:n.leftGlassCatheter.x,y:n.leftGlassCatheter.y},n.leftGlassCatheter.bottle=n.leftGlassCatheter.tempBottle,delete n.leftGlassCatheter.tempBottle,n.glassPointLeft[1].y=Math.max(111.5,n.glassPointLeft[1].y)}),this.rightGlassCatheter.on("hitObjIsNotFull",function(e){n.rightGlassCatheter.tempBottle=e.hitObj}),this.rightGlassCatheter.on("hasTweenComplete",function(){n.rightGlassCatheter.bottlePos={x:n.rightGlassCatheter.x,y:n.rightGlassCatheter.y},n.rightGlassCatheter.bottle=n.rightGlassCatheter.tempBottle,delete n.rightGlassCatheter.tempBottle,n.glassPointRight[1].y=Math.max(111.5,n.glassPointRight[1].y)}),this.leftGlassCatheter.on(NBDrag.event.PREPARE_DRAG,function(e){e.target.startY=e.data.global.y}),this.rightGlassCatheter.on(NBDrag.event.PREPARE_DRAG,function(e){e.target.startY=e.data.global.y}),this.leftGlassCatheter.on(NBDrag.event.DRAG_MOVE,function(e){o.call(n,e)}),this.rightGlassCatheter.on(NBDrag.event.DRAG_MOVE,function(e){o.call(n,e)})}},{key:"updateRopePoint",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=g.distance(e,t),a=Math.min(400,a/2),r=e.x+a*Math.cos(i),o=e.y+a*Math.sin(i),s=t.x-a*Math.cos(n),l=t.y-a*Math.sin(n);this.ropeBound.clear(),this.ropeBound.beginFill(16711680,1);for(var h=0;h<49;h++){var c=h/50,u=e.x*Math.pow(1-c,3)+3*r*c*Math.pow(1-c,2)+3*s*Math.pow(c,2)*(1-c)+t.x*Math.pow(c,3),c=e.y*Math.pow(1-c,3)+3*o*c*Math.pow(1-c,2)+3*l*Math.pow(c,2)*(1-c)+t.y*Math.pow(c,3);this.rubberPoint[h]={x:u,y:c}}this.rubberPoint[h]=t;for(var d=[],h=0;h<49;h++){var p=this.rubberPoint[h],f=this.rubberPoint[h+1],I=g.interpolate(p,f,.5),p=Math.atan2(f.y-p.y,f.x-p.x);d[h]={x:I.x+35*Math.sin(p),y:I.y-35*Math.cos(p)},d[97-h]={x:I.x-35*Math.sin(p),y:I.y+35*Math.cos(p)}}for(this.ropeBound.moveTo(this.rubberPoint[0].x,this.rubberPoint[0].y),h=0;h<d.length;h++)this.ropeBound.lineTo(d[h].x,d[h].y);this.ropeBound.endFill()}},{key:"update",value:function(){var e,t;this.leftGlassCatheter&&(e=this.leftRubberHead.toGlobal({x:this.leftRubberHead.width-12,y:12}),t=this.rightRubberHead.toGlobal({x:12,y:12}),this.updateRopePoint(e,t,p.retrieveRotation(this.leftRubberHead.worldTransform),p.retrieveRotation(this.rightRubberHead.worldTransform)))}},{key:"toJSON",value:function(){return(0,l.default)((0,c.default)(s.prototype),"toJSON",this).call(this),{leftGlassX:this.leftGlassCatheter.x,leftGlassY:this.leftGlassCatheter.y,rightGlassX:this.rightGlassCatheter.x,rightGlassY:this.rightGlassCatheter.y,leftBottle:this.leftGlassCatheter.bottle?this.leftGlassCatheter.bottle.getUUID():void 0,rightBottle:this.rightGlassCatheter.bottle?this.rightGlassCatheter.bottle.getUUID():void 0,leftRubberAddedGLass:this.leftRubberHead.tube?this.leftRubberHead.tube.getUUID():void 0,rightRubberAddedGlass:this.rightRubberHead.tube?this.rightRubberHead.tube.getUUID():void 0,leftGlassRubberHead:this.leftGlassCatheter.rubber,rightGlassRubberHead:this.rightGlassCatheter.rubber,leftRubberHeadRotation:this.leftRubberHead.rotation,rightRubberHeadRotation:this.rightRubberHead.rotation,leftGlassRopePoint:this.glassPointLeft[1],rightGlassRopePoint:this.glassPointRight[1]}}},{key:"setJSON",value:function(e){(0,l.default)((0,c.default)(s.prototype),"setJSON",this).call(this,e),this.leftGlassCatheter.x=e.leftGlassX,this.leftGlassCatheter.y=e.leftGlassY,this.rightGlassCatheter.x=e.rightGlassX,this.rightGlassCatheter.y=e.rightGlassY,this.leftGlassCatheter.bottle=e.leftBottle,this.rightGlassCatheter.bottle=e.rightBottle,this.leftRubberHead.tube=e.leftRubberAddedGLass,this.rightRUbberHead.tube=e.rightRubberAddedGlass,this.leftGlassCatheter.rubber=e.leftGlassRubberHead,this.rightGlassCatheter.rubber=e.rightGlassRubberHead,this.leftRubberHead.rotation=e.leftRubberHeadRotation,this.rightRubberHead.rotation=e.rightRubberHeadRotation,this.glassPointLeft[1]=e.leftGlassRopePoint[1],this.glassPointRight[1]=e.rightGlassRopePoint[1]}}]),s}();e.exports=i},function(e,t,ClothStrap){"use strict";var a=ClothStrap(4),i=ClothStrap(0),n=i(ClothStrap(1)),r=i(ClothStrap(2)),o=i(ClothStrap(7)),s=i(ClothStrap(5)),l=i(ClothStrap(6)),h=i(ClothStrap(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ClothStrap(10),d=ClothStrap(11),p=13378082,ClothStrap=function(){(0,s.default)(ClothStrap,u);var t=c(ClothStrap);function ClothStrap(){var e;return(0,n.default)(this,ClothStrap),(e=t.call(this)).name="ClothStrap",e.CNName="布条",e.z_index=21.01,e}return(0,r.default)(ClothStrap,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(ClothStrap.prototype),"creationComplete",this).call(this),this.containerHitArea.allowGetBounds=!1,this.bg.defaultColor=16777215,this.colorFilter.apply(this.bg,[p,0]),this.catchDropWaterEq=!0,this.bg.alpha=1,this.initBlack(),this.initTopBg(),this.noConfig=!0,this.pointOut=!0,this.on(NBDrag.event.STOP_DRAG,this.hittedContainer),this.on(NBDrag.event.PREPARE_DRAG,function(){e.eqAddToViewStack(),e.rotation=0}),this.hitJson={HugeBeaker:{x:20,y:0},GasCollectingBottle:{x:0,y:0},BaseGasMedicine:{x:0,y:0},BigBeaker:{x:10,y:0},ConicalFlask250ml:{x:0,y:-15}},this.changeJson={BigTestTube:{x:72,y:-406,type:1},SmallTestTube:{x:60,y:-135,type:1},RoundBottomFlask:{x:26,y:-20,type:2}},this.isTempFadeStyle=!1,this.isBreakFadeStyle=!1,this.currentTemp=d.DEFAULT_TEMP,this.isWholeWet=!1,this.isPartWet=!1,this.hasLiquid={H2O:0,HClO:0,H2SO3:0,H2SO4:0,H2O2:0},this.colorLevel={l0:p,l1:this.calaColor(.2),l2:this.calaColor(.4),l3:this.calaColor(1)},this.currentColor=0,this.currentWholeColor=0,this.breakFade="l0",this.tempFade="l0"}},{key:"initBlack",value:function(){var e=new PIXI.Container,t=this.maskGra=new PIXI.Graphics;e.alpha=.7,e.addChild(t),this.addChild(e),e.mask=this.black.getChildAt(0),this.maskGra.beginFill(0,1),this.maskGra.lineStyle(14,0,1)}},{key:"initTopBg",value:function(){this.topBg.alpha=0,this.topBg.defaultColor=16777215,this.topBg.mask=this.black.getChildAt(0),this.colorFilter.apply(this.topBg,[p,0]),this.topBg.scale.x=this.topBg.scale.y=.3}},{key:"eqAddToViewStack",value:function(){(0,o.default)((0,h.default)(ClothStrap.prototype),"eqAddToViewStack",this).call(this),this.bg.currentFrame=0,this.maskGra.visible=!0,this.alpha=1,this.scale.y=1}},{key:"hitTestGlassBar",value:function(){for(var e=this,t=this.getSortDisHitObjects(),i=0;i<t.length;i++){var n=t[i].objB;if("GlassBar"===n.name&&n.hitHead.hitTest(e.bg)&&n.hasH2SO4()&&e.parent===e.getEqLayer()){var a=n.parent!==e.getEqLayer()?n.parent:n;if(a.parent===e.parent)if(!(e.parent.getChildIndex(a)<e.parent.getChildIndex(e))){a=e.toLocal(n.hitHead.toGlobal({x:0,y:0}));return e.savePoint&&(e.maskGra.moveTo(e.savePoint.x,e.savePoint.y),e.maskGra.lineTo(a.x+n.hitHead.width/2,a.y+n.hitHead.height)),e.savePoint={x:a.x+n.hitHead.width/2,y:a.y+n.hitHead.height},void n.medicineVolatilize(50)}}}e.savePoint=null}},{key:"hittedContainer",value:function(){for(var e=this,t=this.getSortDisHitObjects(),i=0;i<t.length;i++){var n=t[i].objB,a=e.hitJson[n.name],r=e.changeJson[n.name],o=n.hitTest(e);if(o&&(a||r)){e.holdParent&&e.holdParent.holdObjLeave.apply(e),n.addChildAtWithSamePos(e,n.children.length-1);o=e.getEqLayer().scale.x;e.alpha=.7,a?TweenMax.to(e.scale,.3,{y:.5}):(e.bg.currentFrame=r.type,this.maskGra.visible=!1,a=r),NBDrag.removeDrag(e);a={x:n.localBounds.x+(n.localBounds.width-e.localBounds.width)/2+a.x*o,y:n.localBounds.height-e.localBounds.height/2-10+a.y,callBack:function(){NBDrag.addDrag(e)}};TweenMax.to(e,.3,a);break}}}},{key:"checkFade",value:function(){if(this.parent||this.parent!==this.getViewStack()){var e=this.parent.name;if(this.hitJson[e]||this.changeJson[e]){var t=this.parent.medicineData.liquidAry,i=t.quickMap.get("HClO"),n=t.quickMap.get("H2SO3"),a=t.quickMap.get("H2O2"),r=t.quickMap.get("H2O"),o=this.parent.medicineData.gasAry.quickMap.get("Cl2"),e=this.parent.medicineData.gasAry.quickMap.get("SO2");if(!r){t=0;return o&&(t+=o.getMol()),e&&(t+=e.getMol()),void(1e-4<t&&(this.isPartWet||this.isWholeWet)&&(s=18,s=6<(s-=1e5*t)?s:6,o=!!(o&&1e-4<o.mol),this.hitFadeWater("l3",o,s)))}this.setWet(!0);var s=r.getMol()<.01?"l1":r.getMol()<.03?"l2":"l3",r=18;if(i&&(r-=1e6*i.mol),n&&(r-=100*n.mol),r=6<r?r:6,i)return void this.hitFadeWater(s,!0,r);if(n)return void this.hitFadeWater(s,!1,r);if(a)return void this.hitFadeWater(s,!0,r)}return!0}}},{key:"increaseTemp",value:function(e){var t=this.getViewStack().scale.x,i=e.x+e.width/2,n=e.y+e.height/2+150,e=this.toGlobal({x:this.width/2,y:this.height}),t=(200-(Math.abs(i-e.x)+Math.abs(n-e.y))/t)/200;t=(t=1<t?1:t)<0?0:t,140<this.currentTemp||(this.currentTemp+=t,this.currentTemp=140<this.currentTemp?140:this.currentTemp)}},{key:"backOriColor",value:function(){var e=this.breakFade;(this.currentColor!==Number(e.substr(1,1))||this.isWholeWet&&this.currentWholeColor!==Number(e.substr(1,1)))&&(this.isWholeWet&&(this.colorFilter.apply(this.bg,[this.colorLevel[e],10]),this.currentWholeColor=Number(e.substr(1,1))),this.colorFilter.apply(this.topBg,[this.colorLevel[e],10]),this.currentColor=Number(e.substr(1,1)),this.tempFade=this.breakFade)}},{key:"hitFadeWater",value:function(e,t,i){t?(t=Math.max(Number(this.breakFade.substr(1,1)),Number(e.substr(1,1))),this.breakFade="l".concat(t)):this.tempFade=e;var e=Math.max(Number(this.breakFade.substr(1,1)),Number(this.tempFade.substr(1,1)));this.currentColor>=e&&!(this.isWholeWet&&this.currentWholeColor<e)||(this.currentColor=e,e=this.colorLevel["l".concat(e)],i=i||10,this.isWholeWet&&this.colorFilter.apply(this.bg,[e,i]),this.colorFilter.apply(this.topBg,[e,i]))}},{key:"hitCarbonWater",value:function(){this.isWholeWet&&this.colorFilter.apply(this.bg,[0,10]),this.colorFilter.apply(this.topBg,[0,10])}},{key:"calaColor",value:function(e){var t={r:0,g:0,b:0};return t.r=51,t.g=221,t.b=221,Math.round(Math.round(204+t.r*e)<<16|Math.round(34+t.g*e)<<8|Math.round(34+t.b*e))}},{key:"checkTempBackColor",value:function(){this.checkFade()&&120<this.currentTemp&&this.backOriColor()}},{key:"autoReduceTemp",value:function(){this.currentTemp<d.DEFAULT_TEMP?this.currentTemp=d.DEFAULT_TEMP:this.currentTemp-=.15}},{key:"setWet",value:function(e){e?this.isWholeWet||(this.isWholeWet=!0,this.colorFilter.apply(this.bg,[7607316,1])):this.isPartWet||(this.isPartWet=!0,this.topBg.alpha=1,this.colorFilter.apply(this.topBg,[7607316,1]))}},{key:"getLiquid",value:function(e){var t=e.medicineData;if(t){var i=t.find(function(e){return"HClO"===e.name||"Cl2"===e.name}),n=t.find(function(e){return"H2SO3"===e.name}),a=t.find(function(e){return"H2SO4"===e.name}),e=t.find(function(e){return"H2O"===e.name}),t=t.find(function(e){return"H2O2"===e.name});if(e&&(this.hasLiquid.H2O++,e=Math.min(.3+.05*this.hasLiquid.H2O,4),this.topBg.scale.x=this.topBg.scale.y=e,this.setWet(),4===e&&this.setWet(!0)),a)return this.isCarboned=!0,++this.hasLiquid.H2SO4,void(4<this.hasLiquid.H2SO4&&this.hitCarbonWater());if(!this.isCarboned)if(i)switch(this.hasLiquid.HClO++,!0){case 10<this.hasLiquid.HClO:this.hitFadeWater("l3",!0);break;case 4<this.hasLiquid.HClO:this.hitFadeWater("l2",!0);break;case 0<this.hasLiquid.HClO:this.hitFadeWater("l1",!0)}else if(n)switch(this.hasLiquid.H2SO3++,!0){case 10<this.hasLiquid.H2SO3:this.hitFadeWater("l3",!1);break;case 4<this.hasLiquid.H2SO3:this.hitFadeWater("l2",!1);break;case 0<this.hasLiquid.H2SO3:this.hitFadeWater("l1",!1)}else{if(!t)return!0;switch(this.hasLiquid.H2O2++,!0){case 10<this.hasLiquid.H2O2:this.hitFadeWater("l3",!0);break;case 4<this.hasLiquid.H2O2:this.hitFadeWater("l2",!0);break;case 0<this.hasLiquid.H2O2:this.hitFadeWater("l1",!0)}}}}},{key:"hitReact",value:function(e){if(this.isPartWet&&this.isWholeWet){var t=e.find(function(e){return"Cl2"===e.name}),e=e.find(function(e){return"SO2"===e.name});if(t)this.hitFadeWater("l3",!0);else{if(!e)return!0;this.hitFadeWater("l3",!1)}}}},{key:"checkParentHasCovered",value:function(){var e=this.parent;e instanceof u&&(e.isCovered()||e.currentPlug?NBDrag.hasDrag(this)&&NBDrag.removeDrag(this):NBDrag.hasDrag(this)||NBDrag.addDrag(this))}},{key:"update",value:function(){this.hitTestGlassBar(),this.checkTempBackColor(),this.autoReduceTemp(),this.checkParentHasCovered(),this.topBg.visible=0===this.bg.currentFrame}}]),ClothStrap}();e.exports=ClothStrap},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8);e.exports=function(){(0,h.default)(CobaltGlass,p);var t=d(CobaltGlass);function CobaltGlass(){var e;return(0,o.default)(this,CobaltGlass),(e=t.call(this)).name="CobaltGlass",e.CNName="蓝色钴玻璃",e.z_index=21.02,e}return(0,s.default)(CobaltGlass,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(CobaltGlass.prototype),"creationComplete",this).call(this),this.getViewStack().topLayer.addChild(this),this.init()}},{key:"init",value:function(){var e=this.children[1];e&&void 0!==e.blendMode&&(e.alpha=.2,e.blendMode=2)}},{key:"eqPrepareDrag",value:function(){this.freeBindWire(),(0,l.default)((0,u.default)(CobaltGlass.prototype),"eqPrepareDrag",this).call(this)}},{key:"freeBindWire",value:function(){this.bindWire&&(this.bindWire.coveredByCobaltGlass=null,this.bindWire=null)}},{key:"eqStopDrag",value:function(){var e=this,t=this.perfectHitObj();t&&(this.interactive=!1,t.interactive=!1,TweenMax.to(this,.3,{x:t.x+-79,y:t.y+220,onComplete:function(){e.bindWire=t,e.interactive=!0,t.interactive=!0,t.coveredByCobaltGlass=e}}))}},{key:"update",value:function(e){(0,l.default)((0,u.default)(CobaltGlass.prototype),"update",this).call(this,e),this.bindWire&&(this.x=this.bindWire.x+-79,this.y=this.bindWire.y+220)}},{key:"eqPrepareDelete",value:function(){(0,l.default)((0,u.default)(CobaltGlass.prototype),"eqPrepareDelete",this).call(this),this.bindWire&&(this.bindWire.coveredByCobaltGlass=null,this.bindWire=null)}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(CobaltGlass.prototype),"setJSON",this).call(this,e),this.root.viewStack.topLayer.addChild(this),e.bindWire&&this.getEquipmentByUUID(e.bindWire).then(function(e){(t.bindWire=e).coveredByCobaltGlass=t})}},{key:"toJSON",value:function(){return(0,r.default)({bindWire:this.bindWire&&this.bindWire.getUUID?this.bindWire.getUUID():this.bindWire},(0,l.default)((0,u.default)(CobaltGlass.prototype),"toJSON",this).call(this))}}]),CobaltGlass}()},function(e,t,i){e.exports=i(1106)},function(e,t,i){i(1107);var n=i(30).Object;e.exports=function(e){return n.getOwnPropertyNames(e)}},function(e,t,i){i(179)("getOwnPropertyNames",function(){return i(278).f})},function(e,t,Compressor){"use strict";var a=Compressor(4),i=Compressor(0),n=i(Compressor(1)),r=i(Compressor(2)),o=i(Compressor(7)),s=i(Compressor(5)),l=i(Compressor(6)),h=i(Compressor(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=Compressor(8),d=Compressor(29).getLan,Compressor=function(){(0,s.default)(Compressor,u);var t=c(Compressor);function Compressor(){var e;return(0,n.default)(this,Compressor),(e=t.call(this)).name="Compressor",e.CNName="充有二氧化氮的50ml注射器",e.z_index=23.19,e.isPushed=!1,e.isOnAniMation=!1,e}return(0,r.default)(Compressor,[{key:"creationComplete",value:function(){this.initText(),(0,o.default)((0,h.default)(Compressor.prototype),"creationComplete",this).call(this),this.pushBtn.addEventListener(TouchEvent.TOUCH_END,this.tooglePush.bind(this)),this.no2GasBg.mask=this.graMask.children[0]}},{key:"initText",value:function(){this.pushBtn.txt.allowGetBounds=!1,this.pushBtn.txt.anchor.set(.5),this.pushBtn.txt.text=d("eq_push")}},{key:"tooglePush",value:function(){var e,t,i=this;this.isOnAniMation||(this.pushBtn.visible=!1,this.isOnAniMation=!0,e=150*(this.isPushed?1:-1),t=this.isPushed?.2:1,TweenMax.to(this.graMask.children[0],.3,{width:"+=".concat(e),onComplete:function(){i.isOnAniMation=!1,i.pushBtn.visible=!0,i.isPushed=!i.isPushed,i.pushBtn.txt.text=i.isPushed?d("eq_stretch"):d("eq_push")}}),TweenMax.to(this.pushPart,.3,{x:"+=".concat(e)}),TweenMax.to(this.no2GasBg,.3,{alpha:t}))}},{key:"update",value:function(e){var t;(0,o.default)((0,h.default)(Compressor.prototype),"update",this).call(this,e),this.isOnAniMation||(t=this.isPushed?.6:.5,this.no2GasBg.alpha!==t&&(e=(e=this.no2GasBg.alpha)<t?(e+=8e-4,Math.min(e,t)):(e-=8e-4,Math.max(e,t)),this.no2GasBg.alpha=e))}}]),Compressor}();e.exports=Compressor},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var CondenserPipeSphere=i(408);i(16),i(33),i(29).getLan;e.exports=function(){(0,s.default)(CondenserPipeStraight,CondenserPipeSphere);var t=c(CondenserPipeStraight);function CondenserPipeStraight(){var e;return(0,o.default)(this,CondenserPipeStraight),(e=t.call(this)).name="CondenserPipeStraight",e.CNName="直形冷凝管装置",e.z_index=19.02,e.tlTargetY=-20,e}return(0,r.default)(CondenserPipeStraight)}()},function(e,t,CondenserTubeForOrganic){"use strict";var a=CondenserTubeForOrganic(4),i=CondenserTubeForOrganic(0),n=i(CondenserTubeForOrganic(1)),r=i(CondenserTubeForOrganic(2)),o=i(CondenserTubeForOrganic(7)),s=i(CondenserTubeForOrganic(5)),l=i(CondenserTubeForOrganic(6)),h=i(CondenserTubeForOrganic(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var CondenserTube=CondenserTubeForOrganic(409),u=CondenserTubeForOrganic(18),d=CondenserTubeForOrganic(16),CondenserTubeForOrganic=function(){(0,s.default)(CondenserTubeForOrganic,CondenserTube);var t=c(CondenserTubeForOrganic);function CondenserTubeForOrganic(){var e;return(0,n.default)(this,CondenserTubeForOrganic),(e=t.call(this)).name="CondenserTubeForOrganic",e.CNName="球形冷凝管",e.z_index=19.02,e.hitObjProp={RoundBottomFlask:{x:-340,y:-642,rotation:0},FlorenceFlask:{x:-350,y:-642,rotation:0},DistillingFlask:{x:-340,y:-642,rotation:0},ThreeNeckedFlask:{area0:{x:-680,y:-280,rotation:0},area1:{x:-237,y:-633,rotation:0},area2:{x:317,y:-728,rotation:0}}},e.plugPos={rotation:0,x:424,y:622},e}return(0,r.default)(CondenserTubeForOrganic,[{key:"creationComplete",value:function(){this.ani.whiteMask.rotation=.3052,(this.ani.whiteMask.scale.x=0,o.default)((0,h.default)(CondenserTubeForOrganic.prototype),"creationComplete",this).call(this)}},{key:"backFlowMed",value:function(e){if(this.currentHitObj)for(var t=u.retrieveRotation(this.worldTransform)+1.876,i=Math.abs(t%(2*Math.PI))>Math.PI/2,n=this.connectWater?1:.1,a=e.length-1;0<=a;a--){var r,o=e[a];i&&o.dat&&o.dat.boiling_point&&25<o.dat.boiling_point?(r=this.medicineManager.getMedicineData(o.name),r=new LiquidVO(r,o.getMol()*n),this.parent.medicineData.push(r),1==n?e.splice(a,1):o.setMol(o.getMol()*(1-n))):o.setTemp(nb.DEFAULT_TEMP)}}},{key:"_button_",value:function(){var e=this,t=this.g=new PIXI.Graphics;t.beginFill(0,1),t.drawRoundedRect(-80,-28,160,56,10),t.alpha=.8;var i=this.getText("连通水管",{stroke:"white",fill:"white"});i.anchor.set(.5,.5),t.x=i.x=320,t.y=i.y=-8;var n=new PIXI.Container;this.buttonCon=n,this.addChild(n),n.addChild(t),n.addChild(i),t.textObj=i,t.textObj.interactive=!1,NBGesture.addGesture(n,NBGesture.gesture.TAP,function(){e.connectWater=!0,TweenMax.killTweensOf(n),n._gsTweenID&&delete TweenLite._internals.tweenLookup[n._gsTweenID],n.parent.removeChild(n),n.removeAllListeners(),e.ani.currentFrame=2,e.ani.whiteMc.mask=e.ani.whiteMask.getChildAt(0),TweenMax.to(e.ani.whiteMask.scale,5,{x:1})});var a=this.root.mouseManager,r=d.status.PINCH;n.on(MouseEvent.MOUSE_OVER,function(){a.changeMouseStatus(r,!0,n)}),n.on(MouseEvent.MOUSE_OUT,function(){a.changeMouseStatus(r,!1,n)})}},{key:"setConnectWater",value:function(){this.connectWater=!0,this.buttonCon.removeAllListeners(),this.removeChild(this.buttonCon),this.buttonCon=null,this.ani.currentFrame=2,this.ani.whiteMc.mask=this.ani.whiteMask.getChildAt(0),this.ani.whiteMask.scale.x=1}}]),CondenserTubeForOrganic}();e.exports=CondenserTubeForOrganic},function(e,t,CopperSheet){"use strict";var a=CopperSheet(4),i=CopperSheet(0),n=i(CopperSheet(24)),r=i(CopperSheet(9)),o=i(CopperSheet(1)),s=i(CopperSheet(2)),l=i(CopperSheet(7)),h=i(CopperSheet(5)),c=i(CopperSheet(6)),u=i(CopperSheet(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=CopperSheet(10),f=CopperSheet(11),I=CopperSheet(27),g=CopperSheet(34),m=CopperSheet(41),y=PIXI.Point,CopperSheet=function(){(0,h.default)(CopperSheet,p);var t=d(CopperSheet);function CopperSheet(){var e;return(0,o.default)(this,CopperSheet),(e=t.call(this)).name="CopperSheet",e.CNName="铜片",e.isSheet=!0,e.z_index=19.03,e.medContainerIndex="top",e.pU=new y(200,-35),e.pM=new y(200,-25),e.addSolidMedPos=new y(200,-25),e}return(0,s.default)(CopperSheet,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(CopperSheet.prototype),"creationComplete",this).call(this),this.temp=f.DEFAULT_TEMP,this.hitableAry={HugeBeaker:{x:20,y:0},BigBeaker:{x:80,y:0},SmallBeaker:{x:140,y:0}},this.initEvent(),this.addRealCapacityVertex=!0,this.canAddTempEq=!0,this.setTemp(f.DEFAULT_TEMP),this.updateGlobalAry(),this.napeObj.setShapeMaterials(new nape.phys.Material(.2,.57,1.74,7.8,.005))}},{key:"eqAddToViewStack",value:function(){this.hitableAry[this.parent.name]&&(this.parent.hasCovered=!1,this.listenI2Container=null,this.parent.coveredType=null),(0,l.default)((0,u.default)(CopperSheet.prototype),"eqAddToViewStack",this).call(this)}},{key:"initEvent",value:function(){var o=this;this.on(NBDrag.event.PREPARE_DRAG,function(){o.eqAddToViewStack()}),this.on(NBDrag.event.STOP_DRAG,function(){var n=o,e=n.localBounds,a=e.width,r=e.height,e=o.getSortDisHitObjects();e.forEach(function(e){var t=e.objB,i=t.localBounds.width;n.hitableAry[t.name]?(t.addChildWithSamePos(o),i={x:(i-a)/2,y:-.8*r},NBDrag.removeDrag(n),TweenMax.to(n,.5,{x:i.x,y:i.y,rotation:0,onComplete:function(){NBDrag.addDrag(n),n.parent.hasCovered=!0,n.parent.coveredType="CopperSheet"}})):n.rotation=0,"PureCopper"==t.name&&(new TimelineMax).to(n,.5,{x:t.x,y:t.y-t.height/2,rotation:-Math.PI/6,onComplete:function(){TweenMax.to(t.line,.5,{width:544})}}).to(n,.5,{x:t.x+t.width,y:t.y-t.height/2}).to(n,.5,{x:t.x+e.width,y:t.y,rotation:0})}),0===e.length&&TweenMax.to(n,.5,{rotation:0})})}},{key:"updataTemp",value:function(e,t){t=0==t.medicineData.liquidAry.length?25:t.medicineData.getLiquidAverageTemp();this.medicineData.increaseHeat(4,t)}},{key:"getTemp",value:function(){return this._temp}},{key:"setTemp",value:function(e){e instanceof Number||(e=Number(e)),isNaN(e)||(this._temp=e)}},{key:"getGasMedicineInfo",value:function(){var e,t;return this.gasAry||(e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),e=new I(e,20),t=new I(t,80),this.gasAry=[e,t]),this.gasAry[0].setMol(20),this.gasAry[1].setMol(80),(new n.default).set("O2",this.gasAry[0]).set("N2",this.gasAry[1])}},{key:"eqHeat",value:function(){var e;0<this.medicineNBGraphicMap.size&&(e=this.getBounds(),this.increaseTemp(e,this.getTemp()));var i=this;this.children.forEach(function(e){var t;e instanceof m&&((t=e.temp)<i.getTemp()&&(t=(t+=1)>i.getTemp()?i.getTemp():t,e.temp=t))})}},{key:"heatSelf",value:function(e){var t,i,n;this.fireParticle&&this.PSmokeParticle&&(t=this.getViewStack().scale.x,i=this.PSmokeParticleMaxWidth-this.PSmokeParticleMinWidth,n=this.toGlobal({x:this.fireParticle.x+i/2,y:this.fireParticle.y}),this.heatReact.width=i*t,this.heatReact.x=n.x-this.heatReact.width/2,this.heatReact.height=80*t,this.heatReact.y=n.y-this.heatReact.height/2,this.newRadiantHeat(550,this.heatReact,e,550,!0))}},{key:"update",value:function(e){(0,l.default)((0,u.default)(CopperSheet.prototype),"update",this).call(this,e);var t=this.parent;t instanceof p&&this.updataTemp(this,t),this.PSmokeParticle&&(0<this.PSmokeCount?(this.PSmokeParticle.particle&&(this.PSmokeParticle.particle.maxParticles=100,this.PSmokeParticle.particle.spawnRect.width=this.PSmokeParticleMaxWidth-this.PSmokeParticleMinWidth),this.PSmokeParticle.render(),this.PSmokeCount--):(this.root.particleManager.destroy(this.PSmokeParticle,1),this.PSmokeParticle=null,this.PSmokeParticleMaxWidth=void 0,this.PSmokeParticleMinWidth=void 0)),this.heatSelf(e),this.fireParticle&&(0<this.fireParticleCount?(this.fireParticle.render(),this.fireParticle.particle&&(this.fireParticle.particle.spawnRect.width=this.particleMaxWidth-this.particleMinWidth),this.fireParticleCount--):(this.root.particleManager.destroy(this.fireParticle,1),this.fireParticle=null,this.particleMaxWidth=void 0,this.particleMinWidth=void 0)),this.getTemp()>f.DEFAULT_TEMP&&(this.eqHeat(),this.medicineData.increaseHeat(-3,f.DEFAULT_TEMP)),this.updateGlobalAry()}},{key:"setReactStatus",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;(0,l.default)((0,u.default)(CopperSheet.prototype),"setReactStatus",this).call(this,e,t);var i,n,a,r,o,s,t=this.medicineNBGraphicMap.get("P");"P_O2"===e.Name&&t&&0<t.size&&(this.PSmokeParticle||(this.PSmokeParticle=g.getParticle(g.particles.red_lin_smoke),a=n=i=0,t.forEach(function(e){a+=e.y,0==i&&0==n&&(i=e.x,n=e.x),i>e.x&&(i=e.x),n<e.x&&(n=e.x)}),a/=t.size,this.addChild(this.PSmokeParticle),this.PSmokeParticle.allowGetBounds=!1,this.PSmokeParticle.x=i,this.PSmokeParticle.y=a,this.PSmokeParticleMinWidth=i,this.PSmokeParticleMaxWidth=n),this.PSmokeCount=20,this.fireParticle||(this.fireParticle=g.getParticle(g.particles.red_lin_fire_cu),s=o=r=0,t.forEach(function(e){s+=e.y,0==r&&0==o&&(r=e.x,o=e.x),r>e.x&&(r=e.x),o<e.x&&(o=e.x)}),s/=t.size,this.addChild(this.fireParticle),this.fireParticle.allowGetBounds=!1,this.fireParticle.x=r,this.fireParticle.y=s,this.particleMinWidth=r,this.particleMaxWidth=o),this.fireParticleCount=20,this.heatReact||(this.heatReact=new PIXI.Rectangle(0,0,this.particleMaxWidth-this.particleMinWidth,this.particleMaxWidth-this.particleMinWidth)))}},{key:"setContentMass",value:function(){if(this.body){if(this.body.mass=30,this.solidVo)for(var e in this.solidVo)this.body.mass+=this.solidVo[e].getVol()*this.solidVo[e].getDensity();this.blockMedicine&&(this.body.mass+=this.blockMedicine.getMass())}}},{key:"updateGlobalAry",value:function(){var e=this.bg.getBounds(),t=e.x,i=e.y,n=e.width,e=e.height;this.globalAry=[{x:t,y:i},{x:t+n,y:i},{x:t+n,y:i+e},{x:t,y:i+e}]}},{key:"toJSON",value:function(){var e,t={};for(e in this.solidVo){var i=this.solidVo[e],n=t[e]={};n.dat=i.dat,n.mol=i.mol}return(0,r.default)({blockMedicine:this.blockMedicine?this.blockMedicine.getUUID():null,solidVo:t},(0,l.default)((0,u.default)(CopperSheet.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(CopperSheet.prototype),"setJSON",this).call(this,e);var t=this;if(e.blockMedicine&&this.getEquipmentByUUID(e.blockMedicine).then(function(e){t.blockMedicine=e,NBDrag.removeDrag(e),t.blockMedicine.initNape(t)}),t.solidVo={},e.solidVo)for(var i in e.solidVo){i=e.solidVo[i],i=new SolidVO(i.dat,i.mol).deepClone();t.solidVo[i.name]=i}}}]),CopperSheet}();e.exports=CopperSheet},function(e,t,CopperWire){"use strict";var a=CopperWire(4),s=CopperWire(44),l=CopperWire(42),h=CopperWire(43),c=CopperWire(37),i=CopperWire(0),n=i(CopperWire(24)),r=i(CopperWire(1)),o=i(CopperWire(2)),u=i(CopperWire(7)),d=i(CopperWire(5)),p=i(CopperWire(6)),f=i(CopperWire(3));function I(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return g(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function m(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(i);return t=n?(e=(0,f.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,p.default)(this,t)}}var y=CopperWire(8),v=CopperWire(26),C=CopperWire(10),M=CopperWire(22),b=CopperWire(27),CopperWire=function(){(0,d.default)(CopperWire,y);var t=m(CopperWire);function CopperWire(){var e;return(0,r.default)(this,CopperWire),(e=t.call(this)).noPascal=!0,e.name="CopperWire",e.CNName="铜丝",e.z_index=19.04,e}return(0,o.default)(CopperWire,[{key:"creationComplete",value:function(){(0,u.default)((0,f.default)(CopperWire.prototype),"creationComplete",this).call(this),this.bgMask.allowGetBounds=!1,this.bg.mask=this.bgMask.getChildAt(0),this.heatedPersent=0,this.initBlack(),this.currentTemp=nb.DEFAULT_TEMP,this.updateGlobalAry()}},{key:"updateGlobalAry",value:function(){var e=this.globalAryBody.getBounds(),t=e.x,i=e.y,n=e.width,e=e.height;this.globalAry=[{x:t,y:i},{x:t+n,y:i},{x:t+n,y:i+e},{x:t,y:i+e}]}},{key:"setReactStatus",value:function(e){var t=this.currentContainer;if("0"!==e.Available&&t instanceof C){if(!t.medicineData)return;var i,n=!0,a=I(t.medicineData.chemicalFuncAry.values());try{for(a.s();!(i=a.n()).done;)i.value.equation.Name===e.Name&&(n=!1)}catch(e){a.e(e)}finally{a.f()}n&&t.medicineData.chemicalFuncAry.add({equation:e,lifeTime:100})}"C2H5OH_O2"===e.Name&&100<this.temp&&t&&t.waterContainer&&(this.copperBubble||(this.copperBubble=this.root.particleManager.initCopperWireBubble.call(this)),this.temp-=.2,this.bubbleCount=50)}},{key:"initBlack",value:function(){var d=this;d.blackPic.children.forEach(function(u){u.alpha=0;var e=d.medicineManager.getMedicineData("Cu"),e=new SolidVO(e,.1);u.medVo=[e],u.medicineManager=d.medicineManager,u.setReactStatus=d.setReactStatus.bind(d),u.getSolidMedicineInfo=function(){for(var e=new n.default,t=0;t<this.medVo.length;t++)e.set(this.medVo[t].name,this.medVo[t].deepClone(.1/6e4));return e},u.getSelfContainer=function(){return d.getSelfParent()},u.getLiquidMedicineInfo=function(){if(d.getSelfParent()instanceof C&&u.hitWater){var e=d.getSelfParent().medicineData.liquidAry,t=new n.default;return e.forEach(function(e){t.set(e.name,e)}),t}},u.getGasMedicineInfo=function(){if(d.getSelfParent()instanceof C)return u.hitWater?new n.default:d.getSelfParent().getGasMedicineInfo();var e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),e=new b(e,20),t=new b(t,80);return this.gasAry=[e,t],this.gasAry[0].setMol(20),this.gasAry[1].setMol(80),(new n.default).set("O2",this.gasAry[0]).set("N2",this.gasAry[1])},u.addMedicine=function(t,e){var i=!!e&&e.find(function(e){return"Cu"===e.name});if("Cu"===t.name||t instanceof SolidVO&&t.getMol()<0){var n=u.medVo.find(function(e){return e.name===t.name});n&&n.setMol(n.getMol()+t.getMol())}else if(d.getSelfParent()instanceof C){var a,r=d.getSelfParent(),n=t.name,o=t.getMol(),n=r.root.medicineManager.getMedicineData(n);switch(n.type,n.type){case"Liquid":r.medicineData.push(t);var s=M.splitMedicineNameToIon(t.name);s&&0<s.length&&r.medicineData.addIonMedicine(t,o);break;case"Gas":r.medicineData.push(t),u.hitWater&&i&&((a=r.medicineData.gasAry.quickMap.get(t.name))&&(a.isBubble+=8),r.solidBubbleCount=15,r.copperWireCreateBubble=!0,d.copperBubble||(d.copperBubble=d.root.particleManager.initCopperWireBubble.call(d)),d.bubbleCount=50);break;case"p":case"block":d.checkChildHitWater()?(r.medicineData.push(t),(a=M.splitMedicineNameToIon(t.name))&&0<a.length&&r.medicineData.addIonMedicine(t,o)):r.addMedicine(t)}}else{var l=t.name,h=t.getMol();switch(d.getSelfParent().root.medicineManager.getMedicineData(l).type){case"Liquid":case"Gas":break;case"p":var c=u.medVo.find(function(e){return e.name===l});c?c.setMol(c.getMol()+h):(c=d.medicineManager.getMedicineData(l),c=new SolidVO(c,h),u.medVo.push(c))}}}})}},{key:"checkChildHitWater",value:function(){for(var e=this.blackPic.children,t=0;t<e.length;t++)if(e[t].hitWater)return!0;return!1}},{key:"checkStatus",value:function(i){var n=this,a=n.findParentContainer();n.blackPic.children.forEach(function(e){var t;a!==n.getEqLayer()&&a instanceof C&&(t=e.toGlobal({x:e.width/2,y:e.height}),v.containsPoint(a.liquidVertex,t)?e.hitWater=!0:e.hitWater=!1),n.blackChildFun(e.name,i)})}},{key:"blackChildFun",value:function(e,t){var i,n;this.blackPic[e].medVo[0].getMol()<1e-4||(i=0,(n=this.blackPic[e].medVo.find(function(e){return"CuO"===e.name}))&&0<n.getMol()&&(i=Math.min(n.getMol()/.1*50,1)),this.blackPic[e].alpha=.9*i,M.genEffectFunc(this.blackPic[e],t,2e-5))}},{key:"increaseTemp",value:function(e,t){var i,n,a;this.blackPic&&(i=e.x+e.width/2,n=e.y+e.height/2,a=this.getViewStack().scale.x,e=this.toGlobal(this.blackPic.position),(a=t*(e=(e=1<(e=(500-(Math.abs(i-e.x)+Math.abs(n-e.y))/a)/500)?1:e)<0?0:e))>this.currentTemp&&(this.currentTemp=Math.min(this.currentTemp+.8*e,a)))}},{key:"updateMedTemp",value:function(){var i=this;this.blackPic.children.forEach(function(e){for(var t=0;t<e.medVo.length;t++)e.medVo[t].setTemp(i.currentTemp)})}},{key:"autoLowerTemp",value:function(){this.currentTemp-=.2,this.currentTemp<nb.DEFAULT_TEMP&&(this.currentTemp=nb.DEFAULT_TEMP),this.temp=this.currentTemp}},{key:"checkCanBurnInCl",value:function(){if(this.temp<100)return!1;var e=this.getSelfParent().name;return("GasCollectingBottle"==e||"BaseGasMedicine"==e)&&!(this.getParentCl2Density()<.1)}},{key:"getParentCl2Density",value:function(){var e=this.localBounds||this.getLocalBounds(),e=this.toGlobal({x:e.x+e.width/2,y:e.y+e.height-10});if(!v.containsPoint(this.getSelfParent().liquidVertexUp,e))return 0;var t=0,i=0;return this.getSelfParent().medicineData.gasAry.forEach(function(e){if("Cl2"===e.name&&(i+=e.mol),0===(t+=e.mol))return 0}),i/t}},{key:"updateClParticle",value:function(){var e,t;this.copperBubble&&(0<this.bubbleCount?(this.copperBubble.render(),this.bubbleCount--):(this.copperBubble.destroy(),this.copperBubble=null)),this.checkCanBurnInCl()?(this.currentTemp+=.2,this.particleCl?(this.particleClOut.particle&&(e=this.particleClOut.particle,this.getSelfParent().isCoverGS&&this.getSelfParent().openArea<1?(t=this.getSelfParent().openArea,"right"===this.getSelfParent().openDirection?(e.spawnRect.x=-30,e.spawnRect.width=100*t,e.minStartRotation=-120,e.maxStartRotation=50*t-120):(e.spawnRect.x=100*(1-t)-30,e.spawnRect.width=100*t,e.minStartRotation=-70-50*t,e.maxStartRotation=50*t-70)):(e.spawnRect.x=-30,e.spawnRect.width=100,e.minStartRotation=-120,e.maxStartRotation=-70)),this.particleCl.render(),this.particleClOut.render()):this.root.particleManager.initWireClSmoke.call(this,"copper")):this.particleCl&&(this.root.particleManager.destroy(this.particleCl,1),this.root.particleManager.destroy(this.particleClOut,1),this.particleCl=null,this.particleClOut=null)}},{key:"update",value:function(e){this.checkStatus(e),this.updateMedTemp(),this.autoLowerTemp(),this.updateClParticle();var t=this.globalAryBody.toGlobal({x:0,y:0}),e=this.globalAry[0];(.001<Math.abs(t.x-e.x)||.001<Math.abs(t.y-e.y))&&this.updateGlobalAry()}}]),CopperWire}();e.exports=CopperWire},function(e,t,CorrosionConditionTester){"use strict";var a=CorrosionConditionTester(4),i=CorrosionConditionTester(0),n=i(CorrosionConditionTester(1)),r=i(CorrosionConditionTester(2)),o=i(CorrosionConditionTester(7)),s=i(CorrosionConditionTester(5)),l=i(CorrosionConditionTester(6)),h=i(CorrosionConditionTester(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=CorrosionConditionTester(8),d=CorrosionConditionTester(410),p=5/180*Math.PI,f=2/180*Math.PI,CorrosionConditionTester=function(){(0,s.default)(CorrosionConditionTester,u);var t=c(CorrosionConditionTester);function CorrosionConditionTester(){var e;return(0,n.default)(this,CorrosionConditionTester),(e=t.call(this)).name="CorrosionConditionTester",e.CNName="腐蚀测试器",e.constName="CorrosionConditionTester",e.z_index=23.12,e.ctrlOfs={x:130,y:446},e}return(0,r.default)(CorrosionConditionTester,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(CorrosionConditionTester.prototype),"creationComplete",this).call(this),this.createMask(),this.initDis()}},{key:"createMask",value:function(){this.bigBeaker.drumstick4.mask=this.bigBeaker.liquidMask.getChildAt(0),this.bigBeaker.drumstick5.mask=this.bigBeaker.liquidMask.getChildAt(0),this.bigBeaker.drumstick6.mask=this.bigBeaker.liquidMask.getChildAt(0),this.bigBeaker.drumstick7.mask=this.bigBeaker.liquidMask.getChildAt(0)}},{key:"update",value:function(){(0,o.default)((0,h.default)(CorrosionConditionTester.prototype),"update",this).call(this),this.ctrl.position.set(this.x+this.ctrlOfs.x,this.y+this.ctrlOfs.y)}},{key:"initDis",value:function(){var e=this;this.outer.width=410,this.bigBeaker.width=510,this.outer.height=470,this.bigBeaker.height=590,this.outer.x=200,this.outer.y=-130,this.bigBeaker.x=200,this.bigBeaker.y=-160,this.tweenPlayer=new d(this.ctrl,30,this.onProgress.bind(this),this.root),this.viewStack.addChild(this.ctrl),this.changedBoundsAndFreshSelect(),this.ctrl.position.set(this.x+this.ctrlOfs.x,this.y+this.ctrlOfs.y);for(var t,i=2;i<=8;i++)t="drumstick"+i,this.bigBeaker["f"+i].alpha=0,this.bigBeaker[t]&&(this.bigBeaker[t].alpha=0);this.on(NBEvent.del.PREPARE_DELETE,function(){e.tweenPlayer.destroy(),e.ctrl.parent.removeChild(e.ctrl)})}},{key:"currFrameAni",value:function(e,t,i,n){var a=1-2*(t-.5),r=Math.min(2*(t-.5),1),o=2*t;5===e?(this.bigBeaker[n].rotation=p,this.bigBeaker[n].x=104.4,this.bigBeaker[i]&&(this.bigBeaker[i].alpha=a),this.bigBeaker[n]&&(this.bigBeaker[n].alpha=r)):6===e?t<.5?(this.bigBeaker[i].rotation=p+27*o/180*Math.PI,this.bigBeaker[i].x=104.4-8.4*o):(this.bigBeaker[n].rotation=f,this.bigBeaker[n].y=89.55,this.bigBeaker[i]&&(this.bigBeaker[i].alpha=a),this.bigBeaker[n]&&(this.bigBeaker[n].alpha=r)):7===e?(e=2*t,t<.5?(this.bigBeaker[i].rotation=f+.2*e,this.bigBeaker[i].y=89.55-9*e):(this.bigBeaker[i]&&(this.bigBeaker[i].alpha=a),this.bigBeaker[n]&&(this.bigBeaker[n].alpha=r))):(this.bigBeaker[i]&&(this.bigBeaker[i].alpha=a),this.bigBeaker[n]&&(this.bigBeaker[n].alpha=r))}},{key:"onProgress",value:function(e){for(var t=0!==Math.ceil(8*e)?Math.ceil(8*e):1,i=8===t?8:t+1,n=8*e-Math.floor(8*e),a=1;a<=8;a++){var r,o="f"+t,s="f"+i,l="drumstick"+t,h="drumstick"+i;a<t||i<a?(r="drumstick"+a,this.bigBeaker["f"+a].alpha=0,this.bigBeaker[r]&&(this.bigBeaker[r].alpha=0)):8!==t?(this.currFrameAni(t,n,l,h),this.bigBeaker[o].alpha=.01<1-n?1-n:0,this.bigBeaker[s].alpha=Math.min(1.2*n,1)):(this.bigBeaker[o].alpha=1,this.bigBeaker[l].alpha=1)}}}]),CorrosionConditionTester}();e.exports=CorrosionConditionTester},function(e,t,Cotton){"use strict";var a=Cotton(4),i=Cotton(0),r=i(Cotton(24)),o=i(Cotton(25)),n=i(Cotton(9)),s=i(Cotton(1)),l=i(Cotton(2)),h=i(Cotton(19)),c=i(Cotton(7)),u=i(Cotton(5)),d=i(Cotton(6)),p=i(Cotton(3));function f(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,t)}}var I=Cotton(8),g=Cotton(53),m=Cotton(50),DryingTube=Cotton(411),y=Cotton(18),v=Cotton(10),C=Cotton(75),M=Cotton(125),b=Cotton(34),x=Cotton(57),O=Cotton(26),A=Cotton(33),T=[88,127,16],S=PIXI.Point,Cotton=function(){(0,u.default)(Cotton,I);var t=f(Cotton);function Cotton(){var e;return(0,s.default)(this,Cotton),(e=t.call(this)).name="Cotton",e.CNName="棉花",e.z_index=23.01,e.pU=new S(0,-80),e.pM=new S(0,-70),e.addSolidMedPos=new S(0,-70),e.burnTime=360,e.cottonType="ori",e.fireFrame=0,e.medicineBgColor=16777215,e.currentChangeMnO4=0,e.maxChangeMnO4=500,e.needAddArray={SmallTestTube:{top:{x:-22,y:44,scaleX:.5,scaleY:.5,index:0},bottom:{x:-22,y:320,scaleX:.5,scaleY:.5,index:0}},BigTestTube:{top:{x:-35,y:-220,scaleX:.8,scaleY:.8,index:0},bottom:{x:-35,y:200,scaleX:.8,scaleY:.8,index:0}},BigHardGlassTube:{left:{x:4,y:975,scaleX:.9,scaleY:.9,index:0},right:{x:0,y:47,scaleX:.9,scaleY:.9,index:0}},HardGlassTube:{right:{x:7,y:30,scaleX:.6,scaleY:.6,index:0},left:{x:8,y:525,scaleX:.6,scaleY:.6,index:0}}},e.SELF_MASS=1,e.preventCalEffect=!0,e.medicineData=new C((0,h.default)(e)),e}return(0,l.default)(Cotton,[{key:"creationComplete",value:function(){(0,c.default)((0,p.default)(Cotton.prototype),"creationComplete",this).call(this);var e=this;e.bg.visible=!1,this.catchDropWaterEq=!0,this.on(NBDrag.event.PREPARE_DRAG,this.dragBegin),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on("dragObjComplete",this.dragEvent),this.on("hitted",this.adsorb),this.on(NBDrag.event.STOP_DRAG,function(){1!=this.scale.x&&this.viewStack==this.getViewStack()&&(NBDrag.removeDrag(this),TweenMax.to(this.scale,.3,{x:1,y:1,onComplete:function(){NBDrag.addDrag(e)}}),TweenMax.to(this,.3,{rotation:0})),this.followMouse=!1}),this.on(NBEvent.del.PREPARE_DELETE,this.clear),this.on(NBEvent.del.DELETE,this.clear)}},{key:"dragEvent",value:function(e){e=e.hitObj;this.currentContainer=e}},{key:"getLiquid",value:function(e){e=e.medicineData;this.medicineData.push(e)}},{key:"init",value:function(e){e instanceof DryingTube?(this.currentHitRef.addCotton=!1,this.currentHitRef=void 0):e.addCotton=void 0,"ori"===this.cottonType&&(this.ani.currentFrame=0,this.drawBgShape(this.ani.normalMedicineBg.children[0])),this.currentContainer=null}},{key:"drawBgShape",value:function(e){var t=e.currentPath.shape;e.clear(),e.beginFill(this.medicineBgColor),e.drawPolygon(t)}},{key:"findRealPos",value:function(e,t){var i=t.dragBeginDis.x*t.scale.x,i={x:e.data.global.x+i,y:e.data.global.y+i},i=t.getViewStack().toLocal({x:i.x,y:i.y});t.x=i.x,t.y=i.y}},{key:"removeBody",value:function(){this.currentBody&&(this.currentBody.set_space(null),this.currentBody=void 0)}},{key:"createBody",value:function(e){this.currentContainer&&((e=g.BodyFromArray([e])).set_type(m.kinematic),e.set_space(this.currentContainer.engine.space),this.currentBody=e)}},{key:"adsorb",value:function(e){var t,i,n,a,r=this,o=e.hitObj;function s(e,t){e=e.constructor.name;return!!r.needAddArray[e]&&r.needAddArray[e][1<arguments.length&&void 0!==t?t:"top"]}o.isCovered instanceof Function&&(o.isCovered()||o.currentPlug||this!=o&&(a=y.retrieveRotation(o.worldTransform),"BigTestTube"!==o.name&&"SmallTestTube"!==o.name||"ori"!==this.cottonType?"DripHole"===o.name&&"ori"===this.cottonType?(this.clearHitObj(),r.addedToDripHole(o)):"HardGlassTube"!==o.name&&"BigHardGlassTube"!==o.name||"ori"!==this.cottonType||(o.addChildWithSamePos(r),r.rotation-=a,this.beginAdsorb=!0,t=s(this.currentContainer=o,"left"),n=s(o,"right"),i=S.distance(o.toLocal(new S(0,0),this),new S(t.x,t.y)),e=S.distance(o.toLocal(new S(0,0),this),new S(n.x,n.y)),n=this.hitTest(o)&&i<e?t:n,this.judgeType(o,n),r.ani.currentFrame=2):(this.clearHitObj(),o.addChildWithSamePos(r),r.rotation-=a,this.beginAdsorb=!0,a=s(this.currentContainer=o),this.hitTest(o.cottonHitBottom)?a=s(o,"bottom"):o.addCotton=!0,this.judgeType(o,a),r.ani.currentFrame=2)))}},{key:"judgeType",value:function(t,i){var n=this;t.addChildAtWithSamePos(this,t.children.length-1),TweenMax.to(this,.3,{x:i.x,y:i.y,rotation:0}),TweenMax.to(this.scale,.3,{x:i.scaleX,y:i.scaleY,onComplete:function(){i.ani&&0==n.ani.currentFrame&&n.ani.gotoAndStop(1);var e=n.scale.y,e=[{x:n.x,y:n.y+16*e},{x:n.x+n.width,y:n.y+16*e},{x:n.x+n.width,y:n.y+n.height-16*e},{x:n.x,y:n.y+n.height-16*e}];"BigTestTube"!==t.name&&"SmallTestTube"!==t.name||n.createBody(e)}})}},{key:"evaporation",value:function(e){var n=this;"BigHardGlassTube"!==this.parent.name&&"HardGlassTube"!==this.parent.name||this.medicineData.liquidAry.forEach(function(e){var t,i;e.addedMol=.01*e.mol,(i="NH3H2O"===e.name?(t=n.medicineManager.getMedicineData("NH3"),i=n.medicineManager.getMedicineData("H2O"),[new GasVO(t,e.addedMol),new A(i,e.addedMol)]):new GasVO(e.dat,e.addedMol))instanceof Array?i.forEach(function(e){e.setTemp(nb.DEFAULT_TEMP),n.parent.addMedicine(e)}):(i.setTemp(nb.DEFAULT_TEMP),n.parent.addMedicine(i)),e.setTemp(nb.DEFAULT_TEMP),e.setMol(e.mol-e.addedMol)})}},{key:"addedToDripHole",value:function(DripHole){var r,i,n,a,o,e=DripHole.mixerColor,s=DripHole.currentCapacity;s<=0||((r=this).scale.x/=DripHole.scale.x,r.scale.y/=DripHole.scale.y,DripHole.addChildWithSamePos(r),r.cottonType="addedToDripHole",r.ani.currentFrame=2,r.originLocalBounds=r.getLocalBounds(),i=(e=e||{color:16777215,alpha:.2}).color,n=e.alpha,NBDrag.removeDrag(r),TweenMax.to(r,.3,{x:-38,y:-54}),TweenMax.to(r.scale,.3,{x:.9,y:.9}),a=0,o=TweenMax.to(r,.5,{delay:.3,aloha:.8,onUpdate:function(){var e=o.progress()*n*.8;a=3*o.progress();var t=s-a;0<=t?(DripHole.setCurrentCapacity(t),function(e,t){var i=r.ani.medicineBg.children[0],n=i.currentPath.shape;i.clear();var a="0x"+e.toString(16);r.medicineBgColor=e,i.beginFill(16777215),i.drawPolygon(n),i.beginFill(a,t),i.drawPolygon(n)}(i,e)):(DripHole.setCurrentCapacity(0),TweenMax.killTweensOf(r),r._gsTweenID&&delete TweenLite._internals.tweenLookup[r._gsTweenID],r.eqAddToViewStack())},onComplete:function(){r.eqAddToViewStack()}}),TweenMax.to(r,.3,{delay:1,y:"-=150",onStart:function(){r.medicineData.covertVolumeToLiquid(a),r.scale.x*=DripHole.scale.x,r.scale.y*=DripHole.scale.y,TweenMax.to(r.scale,.2,{x:1,y:1})},onComplete:function(){NBDrag.addDrag(r)}}))}},{key:"assemblyHint",value:function(e){if(e.isCovered instanceof Function&&!e.isCovered()&&!e.currentPlug&&"ori"===this.cottonType){if(e instanceof DryingTube){if(this.hitTest(e.tRef))i={x:46,y:60,scaleX:.8,scaleY:.8,index:0};else{if(!this.hitTest(e.bRef))return;i={x:36,y:181,scaleX:1,scaleY:1,index:0}}return this.drawBg(e,i.x,i.y,void 0,{x:i.scaleX,y:i.scaleY})}var t=e.constructor.name;if(this.needAddArray[t]){var i=this.needAddArray[t].top;return this.hitTest(e.cottonHitBottom)&&(i=this.needAddArray[t].bottom),this.drawBg(e,i.x,i.y,void 0,{x:i.scaleX,y:i.scaleY})}}}},{key:"dragBegin",value:function(){this.viewStack!=this.root.viewStack&&this.currentContainer&&(this.removeBody(),this.init(this.currentContainer))}},{key:"setJSON",value:function(e){(0,c.default)((0,p.default)(Cotton.prototype),"setJSON",this).call(this,e);var t=this;this.x=e.x,this.y=e.y,this.cottonType=e.cottonType,this.rotation=e.rotation,this.ani.currentFrame=e.currentFrame,this.burnTime=e.burnTime,e.scale&&(this.scale=e.scale);var i=function e(t,i){if(t==i||!t)return!1;if(t instanceof I)return t;return e(t.parent,i)}(this.parent,this.getEqLayer());e.currentContainer&&(this.currentContainer=i),!this.currentContainer||"BigTestTube"!=this.currentContainer.name&&"SmallTestTube"!==this.currentContainer.name||(t=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],this.createBody(t)),this.setUUID(e.uuid),e.medicineBgColor&&(this.medicineBgColor=e.medicineBgColor,this.drawBgShape(this.ani.normalMedicineBg.children[0]),this.drawBgShape(this.ani.medicineBg.children[0])),e.currentChangeMnO4&&(this.currentChangeMnO4=e.currentChangeMnO4)}},{key:"getCurrentCapacity",value:function(){return this.medicineData.getCapacity()}},{key:"getGasMedicineInfo",value:function(){if(this.parent===this.getEqLayer()){var e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),e=new GasVO(e,20),t=new GasVO(t,80);return(new r.default).set("O2",e).set("N2",t)}if(this.currentContainer&&this.currentContainer instanceof v){var i=this.currentContainer.medicineData.gasAry,n=new r.default;return i.forEach(function(e){n.set(e.name,e)}),n}if(this.parent&&this.parent.isGasBottle){i=this.parent.medicineData.getMedVo("H2O","liquid");if(!(i&&2.439<i.getMol())){var i=this.parent.medicineData.gasAry,a=new r.default;return i.forEach(function(e){a.set(e.name,e)}),a}}}},{key:"addSolidMedicine",value:function(e){var t=this;e.forEach(function(e){t.medicineData.solidAry[e.name]=e})}},{key:"checkBurn",value:function(){if(this.parent.isGasBottle){var e=this.parent.medicineData.getMedVo("O2","gas"),t=this.parent.medicineData.getMedVo("H2O","liquid");if(!e||e.getMol()<1e-5)return void this.cottonType;if(t&&.001<t)return void this.cottonType}"burn"!==this.cottonType&&(0===this.ani.currentFrame&&(this.fireFrame=3),1===this.ani.currentFrame&&(this.fireFrame=14),this.fireParticle=this.getParticle(),this.cottonType="burn",this.fireParticle.alpha=1)}},{key:"getParticle",value:function(){var e=b.getParticle(b.particles.mg_burn_smoke);this.addChild(e),this.getViewStack().addParticle(e),e.bind(this,0,-this.getBounds().height/4);var t=b.getParticle(b.particles.mianhua_fire);t.position.set(0,0),this.llSmoke=t,this.addChild(t),this.getViewStack().addParticle(t),t.bind(this);var i=new M;return i.push(e).push(t),e.x-=8,t.x-=8,e.y+=10,t.y+=10,i.alpha=0,i}},{key:"clear",value:function(e,t){if(this.fireParticle&&(!e||"fireParticle"===e))if(x.destroy(this.fireParticle),this.fireParticle=null,t)NBDrag.removeDrag(this);else{if(this.parent&&this.parent.isGasBottle){var i,n=this.medicineData.solidAry;for(i in n){var a=n[i].deepClone();this.parent.addMedicine(a,this.position),delete n[i]}}this.destroy()}}},{key:"checkBurnCondition",value:function(){if("hasSolid"===this.cottonType&&this.medicineData.solidAry.Na2O2){if(0<this.medicineData.liquidAry.length){var e=this.medicineData.liquidAry.quickMap.get("H2O");if(e&&0<e.mol)return void this.checkBurn()}this.parent.isGasBottle&&(this.curGasBottle||(this.curGasBottle=this.parent,this.curGasBottle.on("gotDrip",this.curGasBottle.checkCottonBurn),this.curGasBottle.curCotton=this))}}},{key:"clearCurGasBottleEvent",value:function(){this.curGasBottle&&this.curGasBottle!==this.parent&&(this.curGasBottle.off("gotDrip",this.curGasBottle.checkCottonBurn),this.curGasBottle.curCotton=null,this.curGasBottle=null)}},{key:"clearMedicine",value:function(){for(var e=this.medicineData,t=e.gasAry.length-1;0<=t;t--)e.gasAry.pop();for(var i,n=e.liquidAry.length-1;0<=n;n--)e.liquidAry.pop();for(i in e.solidAry)delete e.solidAry[i]}},{key:"lightOn",value:function(e,t){var i=!0,n=null;if(this.parent===this.getEqLayer()||this.parent&&this.parent.isClamp||(i=!1,n=this.parent),t){var a=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2),e=this.getViewStack().scale.x,t=i?3e4:12e4;if((t*=e*e)<a)return}a=this.medicineData.liquidAry.quickMap.get("Na2SiO3");if(!(a&&0<a.mol)){a=this.medicineData.liquidAry.quickMap.get("H2O");if(a&&0<a.mol)return a.setMol(a.getMol()-5e-5),void(n&&n.medicineData&&n.medicineData.addGasMedicine("H2O",1e-4));i&&this.checkBurn()}}},{key:"getLightOnPoint",value:function(){this.updateTransform();var e=[],t=this.localBounds,t=this.toGlobal({x:t.x+t.width/2,y:t.x+t.height});return e.push({x:t.x,y:t.y}),e}},{key:"cottonFire",value:function(e){var t,i,n,a;"burn"===this.cottonType&&0<this.burnTime&&this.fireParticle&&(this.fireFrame+=1/36,this.ani.currentFrame=(0,o.default)(this.fireFrame),t=this.root.particleManager,this.fireParticle.render(),--this.burnTime,n=0,i=(n=this.parent&&this.parent.isGasBottle?60:n)-180,n=-n,280<=this.burnTime&&t.setParticleProp(this.llSmoke,{minStartRotation:i,maxStartRotation:n,startSpeed:400}),this.burnTime<280&&240<=this.burnTime&&(a=(360-this.burnTime-80)/40,t.setParticleProp(this.llSmoke,{minStartRotation:i+a*(-90-i),maxStartRotation:n+a*(-90-n),startSpeed:200+700*a}),this.llSmoke.particle&&(this.llSmoke.particle.spawnRect.width=110-60*a,this.llSmoke.particle.spawnRect.x=18*a-18)),this.burnTime<100&&(a=1-this.burnTime/100,this.llSmoke.setParticleProp("startSpeed",900+-600*a),this.burnTime<30&&(a=this.burnTime/30,this.llSmoke.setParticleProp("maxParticles",20*a),this.fireParticle.alpha=a)),this.llSmoke.updateTransform(),this.newRadiantHeat(nb.WOOD_HEAT_VALUE,this.llSmoke.getBounds().clone(),e,nb.TEMP_MATCH))}},{key:"listenNa2O2CO2Fire",value:function(){var e,t;"ori"!==this.cottonType&&this.parent.isGasBottle&&(e=this.medicineData.getMedVo("Na2O2","solid"),t=this.parent.medicineData.getMedVo("CO2","gas"),e&&t&&.001<t.getMol()&&this.checkBurn())}},{key:"getSolidMedicineInfo",value:function(){var e,t=new r.default;for(e in this.medicineData.solidAry){var i=this.medicineData.solidAry[e];t.set(e,i.deepClone(i.mol))}return t}},{key:"addMedicine",value:function(e,t,i){e instanceof GasVO?this.parent.addMedicine(e):this.parent.isGasBottle?this.parent.addMedicine(e,this.position):e instanceof Array&&(this.preventCalEffect=!1,this.addSolidMedicine(e,i),this.cottonType="hasSolid",this.ani.currentFrame=1)}},{key:"setReactStatus",value:function(e){this.parent&&this.parent.setReactStatus(e,8)}},{key:"listenKmnO4ChangeColor",value:function(){if(this.currentContainer&&this.currentContainer.isTestTube){var e=!1;if((e=0<this.currentContainer.transKMnO4Count?!0:e)&&this.currentChangeMnO4<this.maxChangeMnO4){this.currentChangeMnO4++;for(var t=this.currentChangeMnO4/this.maxChangeMnO4,i="0x",n=0;n<3;n++)i+=Math.round(255-T[n]*t).toString(16);this.medicineBgColor=(0,o.default)(i),this.drawBgShape(this.ani.medicineBg.children[0])}}}},{key:"listenAbsorbInBeaker",value:function(e){for(var t="0x",i=this.ani.currentFrame=0;i<3;i++)t+=Math.round(255-74*e).toString(16);this.medicineBgColor=(0,o.default)(t),this.drawBgShape(this.ani.normalMedicineBg.children[0])}},{key:"getLiquidFromContainer",value:function(){if(!(5<=this.medicineData.getCapacity())&&this.parent&&this.parent.isBaseContainer&&!(this.parent.currentCapacity<1e-5)&&"DripHole"!==this.parent.name&&this.parent.liquidVertex&&!this.parent.addAbsorbCotton){for(var e=this.getBounds(),t=[{x:e.x+.2*e.width,y:e.y+.2*e.height},{x:e.x+.2*e.width,y:e.y+.8*e.height},{x:e.x+.8*e.width,y:e.y+.8*e.height},{x:e.x+.8*e.width,y:e.y+.2*e.height}],i=!0,n=this.parent.liquidVertex,a=0;a<t.length;a++)if(O.containsPoint(n,t[a])){i=!1;break}i||((e=Math.min(.1,5-this.medicineData.getCapacity(),this.parent.currentCapacity))<=0||(e=this.parent.medicineData.covertVolumeToLiquid(e,!0),this.parent.medicineData.popLiquid(e),this.medicineData.naiveAddMedicine(e)))}}},{key:"toJSON",value:function(){return(0,n.default)({cottonType:this.cottonType,currentFrame:this.ani.currentFrame,burnTime:this.burnTime,medicineBgColor:this.medicineBgColor,currentChangeMnO4:this.currentChangeMnO4},(0,c.default)((0,p.default)(Cotton.prototype),"toJSON",this).call(this))}},{key:"update",value:function(e){var t=this.parent;t instanceof v&&(t.isCovered()||t.currentPlug)?this.interactive=!1:this.interactive=!0,this.cottonFire(e),this.listenNa2O2CO2Fire(),this.burnTime<=0&&(t="AsbestosFreeWireGauze"===this.parent.name,this.clear(void 0,t)),this.checkBurnCondition(),this.clearCurGasBottleEvent(),this.listenKmnO4ChangeColor(),this.getLiquidFromContainer(),ChemicalUtil.genEffectFunc(this,e,!0),this.evaporation()}},{key:"getSpoonPourInfo",value:function(){return{p0:this.toGlobal(this.pM),p1:this.toGlobal(this.pU)}}},{key:"getSpoonHintInfo",value:function(){return{p0:this.pM,p1:this.pU}}},{key:"canSpoonPour",value:function(){return"ori"===this.cottonType}},{key:"clearHitObj",value:function(){this.holdParent&&this.holdParent.isClamp&&(this.holdParent.holdObj=null,this.holdParent=null)}},{key:"getMass",value:function(){return this.SELF_MASS+this.getMedicineMass()}},{key:"getMedicineMass",value:function(){return this.medicineData.getLiquidMass()+this.medicineData.getSolidMass()}},{key:"destroy",value:function(){this.clearHitObj(),(0,c.default)((0,p.default)(Cotton.prototype),"destroy",this).call(this)}}]),Cotton}();e.exports=Cotton},function(e,t,CrucibleCover){"use strict";var a=CrucibleCover(4),i=CrucibleCover(0),n=i(CrucibleCover(9)),r=i(CrucibleCover(61)),o=i(CrucibleCover(1)),s=i(CrucibleCover(2)),l=i(CrucibleCover(7)),h=i(CrucibleCover(5)),c=i(CrucibleCover(6)),u=i(CrucibleCover(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=CrucibleCover(8),CrucibleCover=function(){(0,h.default)(CrucibleCover,p);var t=d(CrucibleCover);function CrucibleCover(){var e;return(0,o.default)(this,CrucibleCover),(e=t.call(this)).name="CrucibleCover",e.CNName="坩埚盖",e.z_index=25,e}return(0,s.default)(CrucibleCover,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(CrucibleCover.prototype),"creationComplete",this).call(this),this.posObj={Crucible:{x:40,y:-1.25}},NBDrag.addDrag(this),this.addEventListener(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.addEventListener(NBDrag.event.STOP_DRAG,this.addToCrucible)}},{key:"eqAddToViewStack",value:function(){this.parent&&"Crucible"===this.parent.name&&(this.parent.hasCovered=!1,this.parent.removeBody()),(0,l.default)((0,u.default)(CrucibleCover.prototype),"eqAddToViewStack",this).call(this),this.rotation=0}},{key:"addToCrucible",value:function(){for(var i=this,n=this.getSortDisHitObjects(),e=0;e<n.length;e++){var t=function(e){var t=n[e].objB;if("Crucible"===t.name&&i.hitTest(t)&&!t.isCovered()&&"CrucibleTong"!==t.parent.name){"CrucibleTong"===i.parent.name&&i.parent.holdObjLeave.apply(i),t.addChildWithSamePos(i),t.hasCovered=!0;e=i.posObj.Crucible;return NBDrag.removeDrag(i),TweenMax.to(i,.3,{x:e.x,y:e.y,rotation:0,onComplete:function(){NBDrag.addDrag(i),t.createBody(t.pointAry)}}),{v:void 0}}}(e);if("object"===(0,r.default)(t))return t.v}}},{key:"toJSON",value:function(){var e={};return this.parent&&"Crucible"===this.parent.name&&(e.crucible=this.parent.getUUID?this.parent.getUUID():this.parent),(0,n.default)(e,(0,l.default)((0,u.default)(CrucibleCover.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(CrucibleCover.prototype),"setJSON",this).call(this,e),e.crucible&&this.getEquipmentByUUID(e.crucible).then(function(e){e.hasCovered=!0,e.createBody(e.pointAry)})}}]),CrucibleCover}();e.exports=CrucibleCover},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(412);e.exports=function(){(0,l.default)(CrucibleTong,d);var t=u(CrucibleTong);function CrucibleTong(){var e;return(0,r.default)(this,CrucibleTong),(e=t.call(this)).name="CrucibleTong",e.CNName="坩埚钳",e.z_index=23.02,e.takeDrugAry.EvaporatingDish={x:-40,y:-30,rotation:0},e.takeDrugAry.Crucible={x:-18,y:-32,rotation:0},e.takeDrugAry.CrucibleCover={x:-92,y:-35,rotation:0},e.takeDrugAry.BigEvaporatingDish={x:-50,y:-40,rotation:0},e.takeDrugAry.PePanel={x:-150,y:-20,rotation:0},e.takeDrugAry.IronWire={x:-35,y:-145,rotation:-e.oriRotation},e.takeDrugAry.IronWireWithWooden={x:-35,y:-145,rotation:-e.oriRotation},e.takeDrugAry.CopperWire={x:-70,y:-260,rotation:-e.oriRotation},e}return(0,o.default)(CrucibleTong,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(CrucibleTong.prototype),"creationComplete",this).call(this)}},{key:"setPosition",value:function(e){e.x=this.getBlock.x,e.y=this.getBlock.y}}]),CrucibleTong}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(DoubleHoleRubberPlugBig,d);var e=u(DoubleHoleRubberPlugBig);function DoubleHoleRubberPlugBig(){return(0,r.default)(this,DoubleHoleRubberPlugBig),e.call(this)}return(0,o.default)(DoubleHoleRubberPlugBig,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(DoubleHoleRubberPlugBig.prototype),"creationComplete",this).call(this),this.on("hitted",function(){this.viewStack!=this.root.viewStack?this.portoThisParentLimitD=!0:this.portoThisParentLimitD=!1})}}]),DoubleHoleRubberPlugBig}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(8);e.exports=function(){(0,s.default)(DoubleHoleRubberPlugSmall,u);var e=c(DoubleHoleRubberPlugSmall);function DoubleHoleRubberPlugSmall(){return(0,o.default)(this,DoubleHoleRubberPlugSmall),e.call(this)}return(0,r.default)(DoubleHoleRubberPlugSmall)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),h=n(i(7)),c=n(i(5)),l=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var p=i(8),i=function(){(0,c.default)(l,p);var t=d(l);function l(){var e;return(0,r.default)(this,l),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(l,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){(0,h.default)((0,u.default)(l.prototype),"creationComplete",this).call(this);var e=this,t=this.getViewStack(),i=this.execute(NBCommand.CREATE_EQUIPMENT,"GasCollectingBottle"),n=this.execute(NBCommand.CREATE_EQUIPMENT,"GlassSheet"),a=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),r=!(e.executeEq=[i,n,a]),o=!1;function s(){a.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:i,dragObj:a,fromSetJson:!0})}i.on("creationComplete",function(){t.addChild(i),i.x=e.x,i.y=e.y,i.rotation=Math.PI,NBDrag.addDrag(i),r=!0,o&&a&&s()}),n.on("creationComplete",function(){t.addChild(n),n.x=e.x-275,n.y=e.y+100,NBDrag.addDrag(n)}),a.on("creationComplete",function(){t.addChild(a),a.updateCurveGlass(Math.PI),a.dripArea.y=a.ropePoint[1].y=a.whiffAreaAry[1].area.y=335,a.x=e.x-130,a.y=e.y+25,NBDrag.addDrag(a),o=!0,r&&i&&s()})}}]),l}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),g=n(i(7)),l=n(i(5)),h=n(i(6)),m=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,m.default)(i);return t=n?(e=(0,m.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var u=i(8),i=function(){(0,l.default)(I,u);var t=c(I);function I(){var e;return(0,r.default)(this,I),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(I,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){(0,g.default)((0,m.default)(I.prototype),"creationComplete",this).call(this);var t,i=this,n=this.getViewStack(),a=this.execute(NBCommand.CREATE_EQUIPMENT,"GasCollectingBottle"),e=this.execute(NBCommand.CREATE_EQUIPMENT,"GlassSheet"),r=this.execute(NBCommand.CREATE_EQUIPMENT,"RubberCatheter"),o=this.execute(NBCommand.CREATE_EQUIPMENT,"Flume"),s=!(i.executeEq=[a,e,r,o]),l=!1,h=!1,c=!1,u=!1;function d(){t.addChild(r.rightHead),t.addedRubber=r.rightHead,r.rightHead.equipment=t,r.rightHead.x=t.rubberPos.x,r.rightHead.y=t.rubberPos.y,r.rightHead.rotation=2*-Math.PI,r.showMySelf("rightHead"),t.emit("appendEquipment",r),r.emit("appendEquipment",t),u&&a&&(t.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:t,fromSetJson:!0}),t.on("hasTweenComplete",p))}function p(){setTimeout(function(){r&&--r.lastRightPos.x},50),t.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),t.getViewStack().selectionLayer.selectedObj=null,t.off("hasTweenComplete",p)}function f(){o.addChild(a),a.x=510,a.y=230;var e=new LiquidVO(a.root.medicineManager.getMedicineData("H2O"),13.873473917869035);a.medicineData.push(e),a.medicineData.gasAry.quickMap.get("O2").setMol(1e-5),a.medicineData.gasAry.quickMap.get("N2").setMol(4e-5);e={x:253.35000610351562,y:.5999999940395355,width:435.25479125380514,height:339.39019775390625};a.dragRect=e,a.addedNode.push(o),a.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:o,dragObj:a,fromSetJson:!0}),a.currentContainer=o,a.setLimitData({dragRect:e,rotateSpriteIcon:!0}),a.lastRotation=0,a.restoreSave(),o.medicineData.setCapacity(1925),o.addedNode.push(a),o.root.resetPascalNode(),u=!0,(t=i.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter")).on("creationComplete",function(){n.addChild(t),t.updateCurveGlass(0),t.x=i.x+400,t.y=i.y+200,t.dripArea.y=t.ropePoint[1].y=t.whiffAreaAry[1].area.y=75,NBDrag.addDrag(t),l=!0,h&&r&&d()})}a.on("creationComplete",function(){n.addChild(a),a.x=i.x,a.y=i.y,a.rotation=Math.PI,NBDrag.addDrag(a),s=!0,c&&o&&f()}),e.on("creationComplete",function(){n.addChild(e),e.x=i.x+200,e.y=i.y+460,NBDrag.addDrag(e)}),r.on("creationComplete",function(){n.addChild(r),r.x=i.x-200,r.y=i.y-200,NBDrag.addDrag(r),h=!0,l&&t&&d()}),o.on("creationComplete",function(){n.addChild(o),o.x=i.x,o.y=i.y,NBDrag.addDrag(o),c=!0,s&&a&&f()})}}]),I}();e.exports=i},function(e,t,DryingTubeOfCaO){"use strict";var a=DryingTubeOfCaO(4),i=DryingTubeOfCaO(0),p=i(DryingTubeOfCaO(95)),n=i(DryingTubeOfCaO(9)),r=i(DryingTubeOfCaO(1)),o=i(DryingTubeOfCaO(2)),f=i(DryingTubeOfCaO(7)),s=i(DryingTubeOfCaO(5)),l=i(DryingTubeOfCaO(6)),I=i(DryingTubeOfCaO(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,I.default)(i);return t=n?(e=(0,I.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var c=DryingTubeOfCaO(10),g=DryingTubeOfCaO(20),m=DryingTubeOfCaO(27),y=DryingTubeOfCaO(22),DryingTubeOfCaO=function(){(0,s.default)(DryingTubeOfCaO,c);var i=h(DryingTubeOfCaO);function DryingTubeOfCaO(e){var t;return(0,r.default)(this,DryingTubeOfCaO),(t=i.call(this)).name="DryingTubeOfCaO",t.CNName="碱石灰干燥管",t.dataBuild=!1,t.preventCalEffect=!0,t.z_index=15.02,e&&(t.dataBuild=e.dataBuild),t}return(0,o.default)(DryingTubeOfCaO,[{key:"creationComplete",value:function(){(0,f.default)((0,I.default)(DryingTubeOfCaO.prototype),"creationComplete",this).call(this),this.autoHideInfo=!0,this.allowRubberCatheter=!0,this.addedRubber=null,this.rubberPos={x:78,y:400,rotation:Math.PI/2},this.rotation=-Math.PI/2;var e=this.root.medicineManager.getMedicineData("CaO"),t=this.root.medicineManager.getMedicineData("NaOH"),e=new g(e,3),t=new g(t,1);this.medicineData.push(e),this.medicineData.push(t),this.noNbGraphics=!0,this.dataBuild||this.autoAddPlug(),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.PREPARE_DRAG,this._backRotation_),this.on("hitted",this._adsorb_)}},{key:"_adsorb_",value:function(e){var e=e.hitObj;!e.isCondenser||this==e||this.currentHitObj==e||TweenMax.isTweening(this)||TweenMax.isTweening(e)||e.isConnect||(this.currentHitObj=e,this.isConnect=!0,e.isConnect=this,e.addChildWithSamePos(this),(e=e.rotation%(2*Math.PI))!=this.rotation&&(e>Math.PI?this.rotation+=Math.PI-e%Math.PI:e>-Math.PI?this.rotation-=e:this.rotation+=-Math.PI-e%Math.PI),this.currentPlug||this.autoAddPlug(),NBDrag.removeDrag(this.currentPlug),TweenMax.to(this,.3,{x:843,y:465,rotation:-1.27}),this.on(NBDrag.event.PREPARE_DRAG,this._init_),this.emit("appendEquipment",this.currentHitObj),this.currentHitObj.emit("appendEquipment",this),this.settedNode=!0)}},{key:"_backRotation_",value:function(){0!==this.rotation&&TweenMax.to(this,.3,{rotation:-Math.PI/2})}},{key:"_init_",value:function(){this.isConnect=void 0,this.currentHitObj&&(this.settedNode&&(this.emit("removeEquipment",this.currentHitObj),this.currentHitObj.emit("removeEquipment",this)),this.currentHitObj.isConnect=void 0,this.currentHitObj=void 0),NBDrag.addDrag(this.currentPlug),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this._init_)}},{key:"update",value:function(e){for(var t=this.medicineData,i=0;i<t.gasAry.length;i++){var n=t.gasAry[i];if("H2O"==n.name){t.push(new LiquidVO(n.dat,n.getMol())),n.setMol(0);break}}(0,f.default)((0,I.default)(DryingTubeOfCaO.prototype),"update",this).call(this,e);var a=t.gasAry.concat(t.liquidAry),e=(0,p.default)(t.solidAry),a=a.concat(e),r=y.generalFindEquation(a,void 0,this.root.medicineManager);if(0<r.length)for(var o=0;o<r.length;o++){var s=r[o].products,l=r[o].reactants;if(l.find(function(e){return"CaO"===e.med.name||"NaOH"===e.med.name})){for(var h=0;h<l.length;h++){var c=l[h].med;c.mol&&0<c.mol&&(c.mol=-c.mol,this.medicineData.push(c))}for(var u=0;u<s.length;u++){var d=s[u].med;"H2O"===d.name?this.medicineData.push(d):d.mol&&0<d.mol&&(d instanceof m?this.medicineData.push(new m(d.dat,d.mol)):this.medicineData.push(new g(d.dat,d.mol)))}}}}},{key:"toJSON",value:function(){return(0,n.default)((0,f.default)((0,I.default)(DryingTubeOfCaO.prototype),"toJSON",this).call(this),{currentHitObj:this.currentHitObj?this.currentHitObj.getUUID():null})}},{key:"setJSON",value:function(e){(0,f.default)((0,I.default)(DryingTubeOfCaO.prototype),"setJSON",this).call(this,e);var t=this;e.currentHitObj&&this.getEquipmentByUUID(e.currentHitObj).then(function(e){e.currentPlug&&NBDrag.removeDrag(e.currentPlug),t.currentHitObj=e,(t.currentHitObj.isConnect=t).isConnect=!0,t.on(NBDrag.event.PREPARE_DRAG,t._init_)})}}]),DryingTubeOfCaO}();e.exports=DryingTubeOfCaO},function(e,t,DryingTubeOfP2O5){"use strict";var a=DryingTubeOfP2O5(4),i=DryingTubeOfP2O5(0),c=i(DryingTubeOfP2O5(95)),n=i(DryingTubeOfP2O5(9)),r=i(DryingTubeOfP2O5(1)),o=i(DryingTubeOfP2O5(2)),u=i(DryingTubeOfP2O5(7)),s=i(DryingTubeOfP2O5(5)),l=i(DryingTubeOfP2O5(6)),d=i(DryingTubeOfP2O5(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var p=DryingTubeOfP2O5(10),f=DryingTubeOfP2O5(20),I=DryingTubeOfP2O5(27),g=DryingTubeOfP2O5(22),DryingTubeOfP2O5=function(){(0,s.default)(DryingTubeOfP2O5,p);var i=h(DryingTubeOfP2O5);function DryingTubeOfP2O5(e){var t;return(0,r.default)(this,DryingTubeOfP2O5),(t=i.call(this)).name="DryingTubeOfP2O5",t.CNName="五氧化二磷干燥管",t.dataBuild=!1,t.preventCalEffect=!0,e&&(t.dataBuild=e.dataBuild),t}return(0,o.default)(DryingTubeOfP2O5,[{key:"creationComplete",value:function(){(0,u.default)((0,d.default)(DryingTubeOfP2O5.prototype),"creationComplete",this).call(this),this.autoHideInfo=!0,this.allowRubberCatheter=!0,this.addedRubber=null,this.rubberPos={x:78.5,y:400,rotation:Math.PI/2},this.rotation=-Math.PI/2;var e=this.root.medicineManager.getMedicineData("P2O5"),e=new f(e,4);this.medicineData.push(e),this.noNbGraphics=!0,this.dataBuild||this.autoAddPlug(),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.PREPARE_DRAG,this._backRotation_),this.on("hitted",this._adsorb_)}},{key:"_adsorb_",value:function(e){var e=e.hitObj;!e.isCondenser||this==e||this.currentHitObj==e||TweenMax.isTweening(this)||TweenMax.isTweening(e)||e.isConnect||(this.currentHitObj=e,this.isConnect=!0,e.isConnect=this,e.addChildWithSamePos(this),(e=e.rotation%(2*Math.PI))!=this.rotation&&(e>Math.PI?this.rotation+=Math.PI-e%Math.PI:e>-Math.PI?this.rotation-=e:this.rotation+=-Math.PI-e%Math.PI),this.currentPlug||this.autoAddPlug(),NBDrag.removeDrag(this.currentPlug),TweenMax.to(this,.3,{x:843,y:465,rotation:-1.27}),this.on(NBDrag.event.PREPARE_DRAG,this._init_),this.emit("appendEquipment",this.currentHitObj),this.currentHitObj.emit("appendEquipment",this),this.settedNode=!0)}},{key:"_backRotation_",value:function(){0!==this.rotation&&TweenMax.to(this,.3,{rotation:-Math.PI/2})}},{key:"_init_",value:function(){this.isConnect=void 0,this.currentHitObj&&(this.settedNode&&(this.emit("removeEquipment",this.currentHitObj),this.currentHitObj.emit("removeEquipment",this)),this.currentHitObj.isConnect=void 0,this.currentHitObj=void 0),NBDrag.addDrag(this.currentPlug),this.removeEventListener(NBDrag.event.PREPARE_DRAG,this._init_)}},{key:"update",value:function(e){(0,u.default)((0,d.default)(DryingTubeOfP2O5.prototype),"update",this).call(this,e);var t=this.medicineData,e=t.gasAry.concat(t.liquidAry),t=(0,c.default)(t.solidAry),e=e.concat(t),i=g.generalFindEquation(e,void 0,this.root.medicineManager);if(0<i.length)for(var n=0;n<i.length;n++){var a=i[n].products,r=i[n].reactants;if(r.find(function(e){return"P2O5"===e.med.name})){for(var o=0;o<r.length;o++){var s=r[o].med.deepClone();s.mol&&0<s.mol&&(s.mol=-s.mol,this.medicineData.push(s))}for(var l=0;l<a.length;l++){var h=a[l].med;"H2O"===h.name?this.medicineData.push(h):h.mol&&0<h.mol&&(h instanceof I?this.medicineData.push(new I(h.dat,h.mol)):this.medicineData.push(new f(h.dat,h.mol)))}}}}},{key:"toJSON",value:function(){return(0,n.default)((0,u.default)((0,d.default)(DryingTubeOfP2O5.prototype),"toJSON",this).call(this),{currentHitObj:this.currentHitObj?this.currentHitObj.getUUID():null})}},{key:"setJSON",value:function(e){(0,u.default)((0,d.default)(DryingTubeOfP2O5.prototype),"setJSON",this).call(this,e);var t=this;e.currentHitObj&&this.getEquipmentByUUID(e.currentHitObj).then(function(e){e.currentPlug&&NBDrag.removeDrag(e.currentPlug),t.currentHitObj=e,(t.currentHitObj.isConnect=t).isConnect=!0,t.on(NBDrag.event.PREPARE_DRAG,t._init_)})}}]),DryingTubeOfP2O5}();e.exports=DryingTubeOfP2O5},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),f=i(11),I=i(18),g=i(34),m=i(31),y=i(32),v=i(144);e.exports=function(){(0,h.default)(DustExplode,p);var t=d(DustExplode);function DustExplode(){var e;return(0,o.default)(this,DustExplode),e=t.call(this),m.register(y.BOOM),e.name="DustExplode",e.CNName="粉尘爆炸装置",e.flour=null,e.border=null,e.bigBox=null,e.littleBox=null,e.preventCalEffect=!0,e.allowRubberCatheter=!0,e.addedRubber=null,e.rubberPos={x:-405,y:400,rotation:Math.PI},e.candle=null,e.medicine=[],e.disCount=0,e.changeCount=0,e}return(0,s.default)(DustExplode,[{key:"currentCapacity",get:function(){return this.littleBox.capacity.getChildAt(0).height},set:function(e){0<=e&&(this.littleBox.capacity.getChildAt(0).height=e)}},{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(DustExplode.prototype),"creationComplete",this).call(this),this.init()}},{key:"eqPrepareDelete",value:function(e){(0,l.default)((0,u.default)(DustExplode.prototype),"eqPrepareDelete",this).call(this,e);try{this.autoClear()}catch(e){}}},{key:"init",value:function(){this.localRect=this.getLocalBounds(),this.updateTransform(),this.flour.mask=this.border.getChildAt(0),this.flour.alpha=0}},{key:"canAddCandle",value:function(){return!this.candle}},{key:"addCandle",value:function(e){(0,l.default)((0,u.default)(DustExplode.prototype),"addCandle",this).call(this,e),this.candle=e,this.bigBox.bg.gotoAndStop(1),TweenMax.to(e,.2,{x:150,y:395})}},{key:"removeCandle",value:function(e){(0,l.default)((0,u.default)(DustExplode.prototype),"removeCandle",this).call(this,e),this.candle=null,this.bigBox.bg.gotoAndStop(0)}},{key:"getMaskGlobalAry",value:function(){var e=this.border.getChildAt(0).getBounds();return[{x:e.x,y:e.y},{x:e.x,y:e.y+e.height},{x:e.x+e.width,y:e.y+e.height},{x:e.x+e.width,y:e.y}]}},{key:"updateColloidLight",value:function(){var n=this;this.colLightGra&&this.colLightGra.drawed&&(this.colLightGra.clear(),this.colLightHaloGra.clear(),this.colLightPointGra.clear(),this.colLightGra.drawed=!1);var a,r,e=this.getViewStack().eqChildren.filter(function(e){return"LaserPen"===e.name&&e.switchType});e.length<=0||(a=this.checkContainColloid(),r=this.getViewStack(),e.forEach(function(e){var t=r.toGlobal({x:e.x+e.width/2-5,y:e.y}),i=r.toGlobal({x:e.x+e.width,y:e.y}),e=v.getJiao_polygon_line(t,i,n.getMaskGlobalAry()),i=e.length;1<i&&(e.sort(function(e,t){return e.x-t.x}),e[0].x<t.x||n.drawColloidLight(n.toLocal(e[0]),n.toLocal(e[i-1]),a))}))}},{key:"drawColloidLight",value:function(e,t,i){var n;this.colLightGra||(this.colLightHaloGra=new PIXI.Graphics,this.addChildAt(this.colLightHaloGra,0),this.colLightHaloGra.filters=[new PIXI.filters.BlurFilter(3,3,3)],this.colLightGra=new PIXI.Graphics,this.addChildAt(this.colLightGra,1),n=this.children.indexOf(this.bigBox),this.colLightPointGra=new PIXI.Graphics,this.addChildAt(this.colLightPointGra,n+1),this.colLightPointGra.filters=[new PIXI.filters.BlurFilter(4,4,4)]),i&&(this.colLightGra.beginFill(16711680,.5),this.colLightGra.lineStyle(2,16711680,.5),this.colLightGra.moveTo(e.x-4,e.y),this.colLightGra.lineTo(t.x,t.y),this.colLightGra.endFill(),this.colLightHaloGra.beginFill(16777215,.7),this.colLightHaloGra.lineStyle(8,16711680,.7),this.colLightHaloGra.moveTo(e.x-4,e.y),this.colLightHaloGra.lineTo(t.x,t.y),this.colLightHaloGra.endFill()),this.colLightPointGra.beginFill(16711680,1),this.colLightPointGra.drawCircle(e.x-4,e.y,8),this.colLightPointGra.endFill(),this.colLightGra.drawed=!0}},{key:"checkContainColloid",value:function(){return.05<this.flour.alpha}},{key:"update",value:function(e){var t,i,n;(0,l.default)((0,u.default)(DustExplode.prototype),"update",this).call(this,e),this.flour.alpha>1/360&&(this.flour.alpha-=1/360),0<this.medicine.length&&1<this.currentCapacity?(this.disCount=0,this.smokeParticle||this.initParticle("smokeParticle"),10<this.changeCount?(this.smokeParticle.setParticleProp("spawnPos",{x:200*Math.random()-350,y:200-300*Math.random()}),this.changeCount=0):this.changeCount++,this.smokeParticle.render(),this.flour.alpha=Math.min(1,this.flour.alpha+.01),this.currentCapacity-=.1,this.medicine.length=0):this.smokeParticle&&(this.smokeParticle.render(),this.disCount++,5<this.disCount&&(t=this.smokeParticle,TweenMax.to(t,.5,{alpha:0,onComplete:function(){t.parent.removeChild(t),t.destroy()}}),this.smokeParticle=null,this.disCount=0)),.4<this.flour.alpha&&this.candle&&this.candle.isBurning?(this.explodeParticle||this.initParticle("explodeParticle"),this.explodeParticle.render(),this.flour.alpha=0,this.candle.lightOff(),this.currentCapacity=0,(i=this).root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[i.candle]}),this.addedRubber&&(e=this.addedRubber,this.getViewStack().addChildWithSamePos(e),e.equipment=null,this.addedRubber=null,e.rotation=-1.8,e.x-=100,e.y-=40),f.GLASSCONTAINER[this.name]&&this.happenBoom(),this.explodeParticle.setParticleProp("spawnPos",{x:400*Math.random()-200,y:500*Math.random()-450}),this.changeCount=0,NBDrag.removeDrag(this),this.alpha=0,(n=this.explodeParticle).mask=null,TweenMax.to(n,.5,{delay:1,alpha:0,onComplete:function(){n&&(n.parent&&n.parent.removeChild(n),n.destroy()),i.explodeParticle=null,i.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[i]})}})):this.explodeParticle&&this.explodeParticle.render(),this.updateColloidLight()}},{key:"initParticle",value:function(e){this[e]="smokeParticle"===e?g.getParticle(g.particles.dust):g.getParticle(g.particles.explode),this[e].allowGetBounds=!1,this.getViewStack().addChild(this[e]),this[e].mask=this.border.getChildAt(0),this[e].bind(this),"explodeParticle"===e&&m.play(y.BOOM)}},{key:"happenBoom",value:function(){var e,i,t;this.isDestroy||((e=this).root.execute(NBCommand.communicate.angular.HAPPEN_BOOM,{eq:this}),i=this.root.execute(NBCommand.ADD_EQUIPMENT,{name:"GlassPiece"}),t=this.globalMessage(),i.position.set(t.position.x,t.position.y),i.rotation=t.rotation,i.targetLocalBounds=t.localBounds,i.setCurrentGlass(this.name),i.on("creationComplete",function(){e.execute(NBCommand.SHAKE_STAGE,{equipment:e,noPush:i});var t=[];e.children.forEach(function(e){e instanceof p&&t.push(e)}),t.forEach(function(e){e.eqAddToViewStack()})}),this.isDestroy=!0)}},{key:"globalMessage",value:function(){var e={},t=this.toGlobal({x:this.localBounds.x,y:this.localBounds.y});return e.position=this.getEqLayer().toLocal(t),e.rotation=I.retrieveRotation(this.worldTransform),e.localBounds=this.localBounds,e.localBounds.x+=e.localBounds.width/2,e}},{key:"autoClear",value:function(){this.smokeParticle&&(this.smokeParticle.parent.removeChild(this.smokeParticle),this.smokeParticle.destroy(),this.smokeParticle=null),this.explodeParticle&&(this.explodeParticle.parent.removeChild(this.explodeParticle),this.explodeParticle.destroy(),this.explodeParticle=null)}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(DustExplode.prototype),"toJSON",this).call(this),{})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(DustExplode.prototype),"setJSON",this).call(this,e)}}]),DustExplode}()},function(e,t,EleGraph){"use strict";var a=EleGraph(4),i=EleGraph(0),n=i(EleGraph(9)),r=i(EleGraph(59)),o=i(EleGraph(1)),s=i(EleGraph(2)),l=i(EleGraph(7)),h=i(EleGraph(5)),c=i(EleGraph(6)),u=i(EleGraph(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=EleGraph(8),f=EleGraph(33),I=PIXI.Sprite,g=PIXI.Graphics,m=EleGraph(29).getLan,EleGraph=function(){(0,h.default)(EleGraph,p);var t=d(EleGraph);function EleGraph(){var e;return(0,o.default)(this,EleGraph),(e=t.call(this)).once("added",function(){e.visible=!1}),e.name="EleGraph",e.CNName="电导率测定装置",e.support=e.beaker=e.sideClamp=e.phTester=e.ring=e.bulb=null,e.isOpenBulb=!1,e.isShowChart=!0,e.addMedVol=0,e.needRepaintChart=!1,e.e=e.initE=27,e.chartScaleX=30,e.chartScaleY=10,e.chartK=5.2,e.chartWidth=660,e.chartHeight=400,e.chartStartPoint=new PIXI.Point(0,e.initE),e.chartData=[e.chartStartPoint],e.initChart(),e}return(0,s.default)(EleGraph,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(EleGraph.prototype),"creationComplete",this).call(this),this.initBtn(),this.initText(),this.showChart(this.isShowChart)}},{key:"initText",value:function(){this.txtStart.text=m("eq_pHStart"),this.txtStop.text=m("eq_pHStop"),this.txtReset.text=m("eq_reset"),this.txtHide.text=m("eq_pHHide"),this.txtShow.text=m("eq_phShow"),this.txtStart.anchor.set(.5),this.txtStop.anchor.set(.5),this.txtReset.anchor.set(.5),this.txtHide.anchor.set(.5),this.txtShow.anchor.set(.5),this.txtShow.visible=!1,this.txtStop.visible=!1}},{key:"initBtn",value:function(){var e=this;this.showBtn.visible=!1,this.stopDropBtn.visible=!1,this.showBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.showChart(!0)}),this.hideBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.showChart(!1)}),this.resetBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.reset()}),this.startDropBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.switchDrop(!0)}),this.stopDropBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.switchDrop(!1)})}},{key:"initCombEq",value:function(){var a=this,r=this.getViewStack(),o=this.support=this.execute(NBCommand.CREATE_EQUIPMENT,{name:"IronSupport",constructorAttribute:{dataBuild:!0}}),e={name:"EleTester",CNName:"电导率测定装置"};this.root.InstanceNameManager.setInstance(e),o.instanceName=e.instanceName,this.executeEq=[o],o.on("creationComplete",function(){a.afterLoadSupport(o),r.addChild(o),o.x=a.x,o.y=a.y;var e=a.beaker=a.execute(NBCommand.CREATE_EQUIPMENT,"BigBeaker");a.executeEq.push(e),e.on("creationComplete",function(){a.afterLoadBeaker(e),r.addChild(e),a.combineBeakerAndSupport(e,o);var n=a.sideClamp=a.execute(NBCommand.CREATE_EQUIPMENT,"IronClampSideLook");a.executeEq.push(n),n.on("creationComplete",function(){a.afterLoadSideClamp(n),r.addChild(n),a.combineSideClampAndSupport(n,o);var i=a.ring=a.execute(NBCommand.CREATE_EQUIPMENT,"IronRing");a.executeEq.push(i),i.on("creationComplete",function(){a.afterLoadRing(i),r.addChild(i),a.combineRingAndSupport(i,o),o.noInteract=!0;var t=a.bulb=a.execute(NBCommand.CREATE_EQUIPMENT,"SeparatingFunnelBulbShape");a.executeEq.push(t),t.on("creationComplete",function(){a.afterLoadBulb(t),r.addChild(t),a.combineBulbAndRing(t,i),i.noInteract=!0;var e=a.phTester=a.execute(NBCommand.CREATE_EQUIPMENT,"SingleChannelPhTester");a.executeEq.push(e),e.on("creationComplete",function(){a.afterLoadTester(e),r.addChild(e),a.combineTesterAndSideClamp(e,n),a.afterLoadGraph(a),a.init(),a.reset(),o.addChildAtWithSamePos(n,o.children.indexOf(i))})})})})})})}},{key:"afterLoadSupport",value:function(e){e.noChangeDir=!0,NBDrag.removeDrag(e),e.dragArea=null,NBDrag.addDrag(e)}},{key:"afterLoadBeaker",value:function(e){e.noInteract=!0,NBDrag.removeDrag(e),e.dragAble=!1,e.dontDrag=!0}},{key:"afterLoadSideClamp",value:function(e){e.noInteract=!0,NBDrag.removeDrag(e),e.dragAble=!1,e.dontDrag=!0}},{key:"afterLoadRing",value:function(e){NBDrag.removeDrag(e),e.dragAble=!1,e.dontDrag=!0}},{key:"afterLoadBulb",value:function(e){var t=this;e.noInteract=!0,NBDrag.removeDrag(e),e.dragAble=!1,e.dontDrag=!0,e.maxTimeLength=.5,e.tubeDrip.capacityPerDrip=.05,e.movePortraitSwitchButton.setEnabled(!1),e.ani.interactive=!1,e.head.parent.removeChild(e.head),setTimeout(function(){e.dripParentEq=t.beaker,e.currentContainer=t.beaker,e.dripStratPos={x:124,y:114.7}},100)}},{key:"afterLoadTester",value:function(e){e.noInteract=!0,NBDrag.removeDrag(e),e.dragAble=!1,e.dontDrag=!0}},{key:"afterLoadGraph",value:function(e){e.noInteract=!0,NBDrag.removeDrag(e),e.dragAble=!1,e.dontDrag=!0}},{key:"init",value:function(){this.beaker.onGotDrip=this.onGotDrip.bind(this),this.combineGraphAndSupport(this,this.support)}},{key:"restore",value:function(){this.showChart(this.isShowChart),this.switchDrop(this.isOpenBulb),this.addChartData(this.addMedVol)}},{key:"reset",value:function(){this.initBeakerMedicine(this.beaker),this.initBulbMedicine(this.bulb),this.switchDrop(!1),this.resetChart(),this.phTester.updateReader(this.e)}},{key:"resetChart",value:function(){this.graph.clear(),this.e=this.initE,this.addMedVol=0,this.chartData=[this.chartStartPoint],this.needRepaintChart=!0}},{key:"initChart",value:function(){this.chartContent=new I,this.graph=new g;var e=new g;this.chartContent.addChild(e),this.chartContent.addChild(this.graph),this.chartContent.position.set(435,232),this.addChild(this.chartContent)}},{key:"showChart",value:function(e){this.isShowChart=e,this.showBtn.visible=!e,this.hideBtn.visible=e,this.txtShow.visible=!e,this.txtHide.visible=e,this.chart.visible=this.chartContent.visible=e}},{key:"switchDrop",value:function(e){this.isOpenBulb=e,this.startDropBtn.visible=!e,this.stopDropBtn.visible=e,this.txtStart.visible=!e;e=(this.txtStop.visible=e)?.2:0;this.bulb.setPercent(e),this.bulb.movePortraitSwitchButton.setPosByPercent(e)}},{key:"update",value:function(e){if((0,l.default)((0,u.default)(EleGraph.prototype),"update",this).call(this,e),this.isShowChart&&this.needRepaintChart){var t;this.needRepaintChart=!1,this.graph.clear(),this.graph.lineStyle(2,16777215),this.graph.moveTo(this.chartData[0].x*this.chartScaleX,-this.chartData[0].y*this.chartScaleY);for(var i=1,n=this.chartData.length;i<n;i++)t=this.chartData[i],this.graph.lineTo(t.x*this.chartScaleX,-t.y*this.chartScaleY)}}},{key:"initBeakerMedicine",value:function(e){if(e){var t,i=this.root.medicineManager.getMedicineData("Ba(OH)2"),n=this.root.medicineManager.getMedicineData("H2O"),a=this.root.medicineManager.getMedicineData("C20H14O4"),i=new f(i,9e-4),n=new f(n,100/n.molecular_mass),a=new f(a,1e-5);for(t in e.blockMedicineMap.forEach(function(e){e&&0<e.size&&(0,r.default)(e).forEach(function(e){e.clear(),e.destroy()})}),e.medicineNBGraphicMap.forEach(function(e){e&&0<e.size&&(0,r.default)(e).forEach(function(e){e.destroy()})}),e.medicineNBGraphicMap.clear(),e.setCurrentCapacity(0),e.medicineData.solidAry)e.medicineData.solidAry.hasOwnProperty(t)&&delete e.medicineData.solidAry[t];e.medicineData.push(n),e.medicineData.push(i),e.medicineData.push(a),e.specialLastColor=null,e&&e.liquidGra&&e.liquidGra.length&&(e.liquidGra[0].liquidColor=null,e.liquidGra[0].liquidAlpha=null)}}},{key:"initBulbMedicine",value:function(e){var t,i;e&&(t=this.root.medicineManager.getMedicineData("H2SO4"),i=this.root.medicineManager.getMedicineData("H2O"),t=new f(t,.002),i=new f(i,10/i.molecular_mass),e.medicineData.clear(),e.medicineData.push(i),e.medicineData.push(t))}},{key:"onGotDrip",value:function(e){var t=e.drip.medicineData;if(t){for(var i,n,a=0,r=t.length;a<r;a++)if("H2O"===(n=t[a]).name){i=n;break}i&&(this.addMedVol+=i.mol*i.volConst,this.addChartData(this.addMedVol))}}},{key:"addChartData",value:function(e){var t;e<=this.chartData[this.chartData.length-1].x||((t=this.initE-e*this.chartK)<1&&(this.chartData[1]=new PIXI.Point((this.initE-1)/this.chartK,1),t=2-t),this.e=t,this.phTester.updateReader(t),t=new PIXI.Point(e,t),1===this.chartData.length?this.chartData[1]=t:this.chartData[2]=t,this.needRepaintChart=!0)}},{key:"combineBeakerAndSupport",value:function(e,t){this.getViewStack().addChild(e),e.x=this.x-83,e.y=this.y+346,e.eqStopDrag()}},{key:"combineRingAndSupport",value:function(e,t){(e.currentHitObj=t).currentEqNum+=1,e.hitSupport=!0,e.y=this.y,t.addRing(e),e.x=e.dragRect.x,e.y=0,t.updateEq()}},{key:"combineBulbAndRing",value:function(e,t){this.getViewStack().addChild(e),e.x=this.x+t.x+115,e.y=this.y+t.y-200,e.eqStopDrag()}},{key:"combineSideClampAndSupport",value:function(e,t){(e.currentHitObj=t).currentEqNum+=1,e.hitSupport=!0,e.y=this.y,t.addIronClampSideLook(e),e.x=e.dragRect.x,e.y=320,t.updateEq()}},{key:"combineTesterAndSideClamp",value:function(e,t){t.addChildAt(e,0),e.x=150,e.y=50}},{key:"combineGraphAndSupport",value:function(e,t){t.addChild(e),e.position.set(-83,346),e.visible=!0}},{key:"afterRestored",value:function(e,t){switch(e){case 0:this.support=t;break;case 1:this.beaker=t;break;case 2:this.sideClamp=t;break;case 3:this.phTester=t;break;case 4:this.ring=t;break;case 5:this.bulb=t}this.support&&this.beaker&&this.sideClamp&&this.phTester&&this.ring&&this.bulb&&(this.afterLoadBulb(this.bulb),this.afterLoadRing(this.ring),this.ring.noInteract=!0,this.afterLoadTester(this.phTester),this.afterLoadSideClamp(this.sideClamp),this.afterLoadBeaker(this.beaker),this.afterLoadSupport(this.support),this.support.noInteract=!0,this.afterLoadGraph(this),this.init(),this.restore())}},{key:"toJSON",value:function(){return(0,n.default)((0,l.default)((0,u.default)(EleGraph.prototype),"toJSON",this).call(this),{support:this.support.getUUID(),beaker:this.beaker.getUUID(),sideClamp:this.sideClamp.getUUID(),phTester:this.phTester.getUUID(),ring:this.ring.getUUID(),bulb:this.bulb.getUUID(),isShowChart:this.isShowChart,isOpenBulb:this.isOpenBulb,addMedVol:this.addMedVol})}},{key:"setJSON",value:function(e){var i=this;(0,l.default)((0,u.default)(EleGraph.prototype),"setJSON",this).call(this,e),this.isShowChart=e.isShowChart,this.isOpenBulb=e.isOpenBulb,this.addMedVol=e.addMedVol;for(var n,a=[e.support,e.beaker,e.sideClamp,e.phTester,e.ring,e.bulb],t=0,r=a.length;t<r;t++)(function(t){if(!(n=a[t]))return;i.getEquipmentByUUID(n).then(function(e){e.isCreationComplete?i.afterRestored(t,e):e.on("creationComplete",function(){i.afterRestored(t,e)})})})(t)}}]),EleGraph}();e.exports=EleGraph},function(e,t,EleTester){"use strict";var a=EleTester(4),i=EleTester(0),n=i(EleTester(1)),r=i(EleTester(2)),o=i(EleTester(19)),s=i(EleTester(7)),l=i(EleTester(5)),h=i(EleTester(6)),c=i(EleTester(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=EleTester(8),EleTester=function(){(0,l.default)(EleTester,d);var t=u(EleTester);function EleTester(){var e;return(0,n.default)(this,EleTester),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e.name="EleTesterGroup",e.CNName="电导率测定装置",e}return(0,r.default)(EleTester,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(EleTester.prototype),"creationComplete",this).call(this);var t=this.getViewStack(),i=this.execute(NBCommand.CREATE_EQUIPMENT,"EleGraph");i.on("creationComplete",function(){t.addChild(i),i.position.set(e.x,e.y),i.initCombEq()})}}]),EleTester}();e.exports=EleTester},function(e,t,ElectricityAluminumKryptol){"use strict";var a=ElectricityAluminumKryptol(4),i=ElectricityAluminumKryptol(0),n=i(ElectricityAluminumKryptol(1)),r=i(ElectricityAluminumKryptol(2)),o=i(ElectricityAluminumKryptol(7)),s=i(ElectricityAluminumKryptol(5)),l=i(ElectricityAluminumKryptol(6)),h=i(ElectricityAluminumKryptol(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityAluminumKryptol(66),d=ElectricityAluminumKryptol(20),ElectricityAluminumKryptol=function(){(0,s.default)(ElectricityAluminumKryptol,u);var t=c(ElectricityAluminumKryptol);function ElectricityAluminumKryptol(){var e;return(0,n.default)(this,ElectricityAluminumKryptol),(e=t.call(this)).name="ElectricityAluminumKryptol",e.CNName="电化学铝棒",e.metalName="Al",e.rubberPos={x:54,y:10,rotation:-Math.PI/2},e.isStick=!0,e}return(0,r.default)(ElectricityAluminumKryptol,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityAluminumKryptol.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Al");this.solidAry.Al=new d(e,1)}}]),ElectricityAluminumKryptol}();e.exports=ElectricityAluminumKryptol},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(66),p=i(20),i=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).name="ElectricityAluminumSilver",e.CNName="电化学铝片",e.metalName="Al",e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Al");this.solidAry.Al=new p(e,1)}}]),i}();e.exports=i},function(e,t,ElectricityCopperKryptol){"use strict";var a=ElectricityCopperKryptol(4),i=ElectricityCopperKryptol(0),n=i(ElectricityCopperKryptol(1)),r=i(ElectricityCopperKryptol(2)),o=i(ElectricityCopperKryptol(7)),s=i(ElectricityCopperKryptol(5)),l=i(ElectricityCopperKryptol(6)),h=i(ElectricityCopperKryptol(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityCopperKryptol(66),d=ElectricityCopperKryptol(20),ElectricityCopperKryptol=function(){(0,s.default)(ElectricityCopperKryptol,u);var t=c(ElectricityCopperKryptol);function ElectricityCopperKryptol(){var e;return(0,n.default)(this,ElectricityCopperKryptol),(e=t.call(this)).name="ElectricityCopperKryptol",e.CNName="电化学铜棒",e.metalName="Cu",e.rubberPos={x:54,y:10,rotation:-Math.PI/2},e.isStick=!0,e}return(0,r.default)(ElectricityCopperKryptol,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityCopperKryptol.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Cu");this.solidAry.Cu=new d(e,1)}}]),ElectricityCopperKryptol}();e.exports=ElectricityCopperKryptol},function(e,t,ElectricityIronKryptol){"use strict";var a=ElectricityIronKryptol(4),i=ElectricityIronKryptol(0),n=i(ElectricityIronKryptol(1)),r=i(ElectricityIronKryptol(2)),o=i(ElectricityIronKryptol(7)),s=i(ElectricityIronKryptol(5)),l=i(ElectricityIronKryptol(6)),h=i(ElectricityIronKryptol(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityIronKryptol(66),d=ElectricityIronKryptol(20),ElectricityIronKryptol=function(){(0,s.default)(ElectricityIronKryptol,u);var t=c(ElectricityIronKryptol);function ElectricityIronKryptol(){var e;return(0,n.default)(this,ElectricityIronKryptol),(e=t.call(this)).name="ElectricityIronKryptol",e.CNName="电化学铁棒",e.metalName="Fe",e.rubberPos={x:54,y:10,rotation:-Math.PI/2},e.isStick=!0,e}return(0,r.default)(ElectricityIronKryptol,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityIronKryptol.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Fe");this.solidAry.Fe=new d(e,1)}}]),ElectricityIronKryptol}();e.exports=ElectricityIronKryptol},function(e,t,ElectricityMagnesiumKryptol){"use strict";var a=ElectricityMagnesiumKryptol(4),i=ElectricityMagnesiumKryptol(0),n=i(ElectricityMagnesiumKryptol(1)),r=i(ElectricityMagnesiumKryptol(2)),o=i(ElectricityMagnesiumKryptol(7)),s=i(ElectricityMagnesiumKryptol(5)),l=i(ElectricityMagnesiumKryptol(6)),h=i(ElectricityMagnesiumKryptol(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityMagnesiumKryptol(66),d=ElectricityMagnesiumKryptol(20),ElectricityMagnesiumKryptol=function(){(0,s.default)(ElectricityMagnesiumKryptol,u);var t=c(ElectricityMagnesiumKryptol);function ElectricityMagnesiumKryptol(){var e;return(0,n.default)(this,ElectricityMagnesiumKryptol),(e=t.call(this)).name="ElectricityMagnesiumKryptol",e.CNName="电化学镁棒",e.metalName="Mg",e.rubberPos={x:54,y:10,rotation:-Math.PI/2},e.isStick=!0,e}return(0,r.default)(ElectricityMagnesiumKryptol,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityMagnesiumKryptol.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Mg");this.solidAry.Mg=new d(e,1)}}]),ElectricityMagnesiumKryptol}();e.exports=ElectricityMagnesiumKryptol},function(e,t,ElectricityPieceCopper){"use strict";var a=ElectricityPieceCopper(4),i=ElectricityPieceCopper(0),n=i(ElectricityPieceCopper(1)),r=i(ElectricityPieceCopper(2)),o=i(ElectricityPieceCopper(7)),s=i(ElectricityPieceCopper(5)),l=i(ElectricityPieceCopper(6)),h=i(ElectricityPieceCopper(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityPieceCopper(66),d=ElectricityPieceCopper(20),ElectricityPieceCopper=function(){(0,s.default)(ElectricityPieceCopper,u);var t=c(ElectricityPieceCopper);function ElectricityPieceCopper(){var e;return(0,n.default)(this,ElectricityPieceCopper),(e=t.call(this)).name="ElectricityPieceCopper",e.CNName="电化学铜片",e.metalName="Cu",e}return(0,r.default)(ElectricityPieceCopper,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityPieceCopper.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Cu");this.solidAry.Cu=new d(e,1)}}]),ElectricityPieceCopper}();e.exports=ElectricityPieceCopper},function(e,t,ElectricityPieceIron){"use strict";var a=ElectricityPieceIron(4),i=ElectricityPieceIron(0),n=i(ElectricityPieceIron(1)),r=i(ElectricityPieceIron(2)),o=i(ElectricityPieceIron(7)),s=i(ElectricityPieceIron(5)),l=i(ElectricityPieceIron(6)),h=i(ElectricityPieceIron(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityPieceIron(66),d=ElectricityPieceIron(20),ElectricityPieceIron=function(){(0,s.default)(ElectricityPieceIron,u);var t=c(ElectricityPieceIron);function ElectricityPieceIron(){var e;return(0,n.default)(this,ElectricityPieceIron),(e=t.call(this)).name="ElectricityPieceIron",e.CNName="电化学铁片",e.metalName="Fe",e}return(0,r.default)(ElectricityPieceIron,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityPieceIron.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Fe");this.solidAry.Fe=new d(e,1)}}]),ElectricityPieceIron}();e.exports=ElectricityPieceIron},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var ElectricityPieceKryptol=i(413);e.exports=function(){(0,h.default)(ElectricityPieceKryptolWithCatalyst,ElectricityPieceKryptol);var t=d(ElectricityPieceKryptolWithCatalyst);function ElectricityPieceKryptolWithCatalyst(){var e;return(0,o.default)(this,ElectricityPieceKryptolWithCatalyst),(e=t.call(this)).name="ElectricityPieceKryptolWithCatalyst",e.CNName="电化学含催化剂碳棒",e.isStick=!1,e.noChoice=!0,e}return(0,s.default)(ElectricityPieceKryptolWithCatalyst,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(ElectricityPieceKryptolWithCatalyst.prototype),"creationComplete",this).call(this),this.conf_show_name=!1}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(ElectricityPieceKryptolWithCatalyst.prototype),"toJSON",this).call(this),{_withGas:this.withGas?this.withGas.getUUID():void 0})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(ElectricityPieceKryptolWithCatalyst.prototype),"setJSON",this).call(this,e),e._withGas&&this.getEquipmentByUUID(e._withGas).then(function(e){t.withGas=e})}}]),ElectricityPieceKryptolWithCatalyst}()},function(e,t,ElectricityPieceMagnesium){"use strict";var a=ElectricityPieceMagnesium(4),i=ElectricityPieceMagnesium(0),n=i(ElectricityPieceMagnesium(1)),r=i(ElectricityPieceMagnesium(2)),o=i(ElectricityPieceMagnesium(7)),s=i(ElectricityPieceMagnesium(5)),l=i(ElectricityPieceMagnesium(6)),h=i(ElectricityPieceMagnesium(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityPieceMagnesium(66),d=ElectricityPieceMagnesium(20),ElectricityPieceMagnesium=function(){(0,s.default)(ElectricityPieceMagnesium,u);var t=c(ElectricityPieceMagnesium);function ElectricityPieceMagnesium(){var e;return(0,n.default)(this,ElectricityPieceMagnesium),(e=t.call(this)).name="ElectricityPieceMagnesium",e.CNName="电化学镁片",e.metalName="Mg",e}return(0,r.default)(ElectricityPieceMagnesium,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityPieceMagnesium.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Mg");this.solidAry.Mg=new d(e,1)}}]),ElectricityPieceMagnesium}();e.exports=ElectricityPieceMagnesium},function(e,t,ElectricityPieceSilver){"use strict";var a=ElectricityPieceSilver(4),i=ElectricityPieceSilver(0),n=i(ElectricityPieceSilver(1)),r=i(ElectricityPieceSilver(2)),o=i(ElectricityPieceSilver(7)),s=i(ElectricityPieceSilver(5)),l=i(ElectricityPieceSilver(6)),h=i(ElectricityPieceSilver(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityPieceSilver(66),d=ElectricityPieceSilver(20),ElectricityPieceSilver=function(){(0,s.default)(ElectricityPieceSilver,u);var t=c(ElectricityPieceSilver);function ElectricityPieceSilver(){var e;return(0,n.default)(this,ElectricityPieceSilver),(e=t.call(this)).name="ElectricityPieceSilver",e.CNName="电化学银片",e.metalName="Ag",e}return(0,r.default)(ElectricityPieceSilver,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityPieceSilver.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Ag");this.solidAry.Ag=new d(e,1)}}]),ElectricityPieceSilver}();e.exports=ElectricityPieceSilver},function(e,t,ElectricityPieceZinePlate){"use strict";var a=ElectricityPieceZinePlate(4),i=ElectricityPieceZinePlate(0),n=i(ElectricityPieceZinePlate(1)),r=i(ElectricityPieceZinePlate(2)),o=i(ElectricityPieceZinePlate(7)),s=i(ElectricityPieceZinePlate(5)),l=i(ElectricityPieceZinePlate(6)),h=i(ElectricityPieceZinePlate(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityPieceZinePlate(66),d=ElectricityPieceZinePlate(20),ElectricityPieceZinePlate=function(){(0,s.default)(ElectricityPieceZinePlate,u);var t=c(ElectricityPieceZinePlate);function ElectricityPieceZinePlate(){var e;return(0,n.default)(this,ElectricityPieceZinePlate),(e=t.call(this)).name="ElectricityPieceZinePlate",e.CNName="电化学锌片",e.metalName="Zn",e}return(0,r.default)(ElectricityPieceZinePlate,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityPieceZinePlate.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Zn");this.solidAry.Zn=new d(e,1)}}]),ElectricityPieceZinePlate}();e.exports=ElectricityPieceZinePlate},function(e,t,ElectricityPlatinumKryptol){"use strict";var a=ElectricityPlatinumKryptol(4),i=ElectricityPlatinumKryptol(0),n=i(ElectricityPlatinumKryptol(1)),r=i(ElectricityPlatinumKryptol(2)),o=i(ElectricityPlatinumKryptol(7)),s=i(ElectricityPlatinumKryptol(5)),l=i(ElectricityPlatinumKryptol(6)),h=i(ElectricityPlatinumKryptol(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityPlatinumKryptol(66),d=ElectricityPlatinumKryptol(20),ElectricityPlatinumKryptol=function(){(0,s.default)(ElectricityPlatinumKryptol,u);var t=c(ElectricityPlatinumKryptol);function ElectricityPlatinumKryptol(){var e;return(0,n.default)(this,ElectricityPlatinumKryptol),(e=t.call(this)).name="ElectricityPlatinumKryptol",e.CNName="电化学铂棒",e.metalName="Pt",e.rubberPos={x:54,y:10,rotation:-Math.PI/2},e.isStick=!0,e}return(0,r.default)(ElectricityPlatinumKryptol,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityPlatinumKryptol.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Pt");this.solidAry.Pt=new d(e,1)}}]),ElectricityPlatinumKryptol}();e.exports=ElectricityPlatinumKryptol},function(e,t,ElectricitySilverKryptol){"use strict";var a=ElectricitySilverKryptol(4),i=ElectricitySilverKryptol(0),n=i(ElectricitySilverKryptol(1)),r=i(ElectricitySilverKryptol(2)),o=i(ElectricitySilverKryptol(7)),s=i(ElectricitySilverKryptol(5)),l=i(ElectricitySilverKryptol(6)),h=i(ElectricitySilverKryptol(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricitySilverKryptol(66),d=ElectricitySilverKryptol(20),ElectricitySilverKryptol=function(){(0,s.default)(ElectricitySilverKryptol,u);var t=c(ElectricitySilverKryptol);function ElectricitySilverKryptol(){var e;return(0,n.default)(this,ElectricitySilverKryptol),(e=t.call(this)).name="ElectricitySilverKryptol",e.CNName="电化学银棒",e.metalName="Ag",e.rubberPos={x:54,y:10,rotation:-Math.PI/2},e.isStick=!0,e}return(0,r.default)(ElectricitySilverKryptol,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricitySilverKryptol.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Ag");this.solidAry.Ag=new d(e,1)}}]),ElectricitySilverKryptol}();e.exports=ElectricitySilverKryptol},function(e,t,ElectricityZineKryptol){"use strict";var a=ElectricityZineKryptol(4),i=ElectricityZineKryptol(0),n=i(ElectricityZineKryptol(1)),r=i(ElectricityZineKryptol(2)),o=i(ElectricityZineKryptol(7)),s=i(ElectricityZineKryptol(5)),l=i(ElectricityZineKryptol(6)),h=i(ElectricityZineKryptol(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectricityZineKryptol(66),d=ElectricityZineKryptol(20),ElectricityZineKryptol=function(){(0,s.default)(ElectricityZineKryptol,u);var t=c(ElectricityZineKryptol);function ElectricityZineKryptol(){var e;return(0,n.default)(this,ElectricityZineKryptol),(e=t.call(this)).name="ElectricityZineKryptol",e.CNName="电化学锌棒",e.metalName="Zn",e.rubberPos={x:54,y:10,rotation:-Math.PI/2},e.isStick=!0,e}return(0,r.default)(ElectricityZineKryptol,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectricityZineKryptol.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("Zn");this.solidAry.Zn=new d(e,1)}}]),ElectricityZineKryptol}();e.exports=ElectricityZineKryptol},function(e,t,ElectrolyticBridge){"use strict";var a=ElectrolyticBridge(4),i=ElectrolyticBridge(0),n=i(ElectrolyticBridge(9)),r=i(ElectrolyticBridge(1)),o=i(ElectrolyticBridge(2)),s=i(ElectrolyticBridge(7)),l=i(ElectrolyticBridge(5)),h=i(ElectrolyticBridge(6)),c=i(ElectrolyticBridge(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=ElectrolyticBridge(8),ElectrolyticBridge=function(){(0,l.default)(ElectrolyticBridge,d);var t=u(ElectrolyticBridge);function ElectrolyticBridge(){var e;return(0,r.default)(this,ElectrolyticBridge),(e=t.call(this)).name="ElectrolyticBridge",e.CNName="盐桥",e.z_index=21.03,e}return(0,o.default)(ElectrolyticBridge,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(ElectrolyticBridge.prototype),"creationComplete",this).call(this);this.on(NBDrag.event.STOP_DRAG,this.hitElecTwoContainer),this.bridgeTwoContainerAry=[],this.main.addEventListener(TouchEvent.TOUCH_BEGIN,this.leaveAllRelation),this.canBridgeContainer=["HugeBeaker","Flume"],this.rotation=Math.PI,this.lineBottomPoint={x:0,y:246}}},{key:"hitElecTwoContainer",value:function(){var e,t,i,n,a,r,o,s=this;1<s.bridgeTwoContainerAry.length||(e=this.getEquipments(),t=[],e.forEach(function(e){s.canBridgeContainer.includes(e.name)&&(e.elecLine||e.parent!==e.getEqLayer()||e.hitTest(s)&&t.push(e))}),t.length<2?s.rotation!==Math.PI&&(NBDrag.removeDrag(s),TweenMax.to(s,.3,{rotation:Math.PI,onComplete:function(){NBDrag.addDrag(s)}})):(i=[],t.forEach(function(e){e={area:s.intersectRect(e),eq:e};i.push(e)}),i.sort(function(e,t){return t.area-e.area}),i[0].eq.x<i[1].eq.x?(r=i[0],o=i[1]):(o=i[0],r=i[1]),n=r.eq,a=o.eq,n.elecLine=!0,a.elecLine=!0,this.bridgeTwoContainerAry.push(n),this.bridgeTwoContainerAry.push(a),NBDrag.removeDrag(n),NBDrag.removeDrag(a),NBDrag.removeDrag(s),r={x:s.x-n.localBounds.width-s.localBounds.width/2+150,y:s.y-110},o={x:s.x+s.localBounds.width/2-150,y:s.y-110},"Flume"===n.name&&(r.y+=100),"Flume"===a.name&&(o.y+=100),a.vRotateSprite&&a.vRotateSprite.setEnabled(!1),TweenMax.to(s,.3,{rotation:0,onComplete:function(){NBDrag.addDrag(s)}}),TweenMax.to(n,.3,{x:r.x,y:r.y,rotation:0,onComplete:function(){s.addChildWithSamePos(n)}}),TweenMax.to(a,.3,{x:o.x,y:o.y,rotation:0,onComplete:function(){s.addChildWithSamePos(a)}})))}},{key:"leaveAllRelation",value:function(){var t,e=this.parent;2===e.bridgeTwoContainerAry.length&&NBDrag.hasDrag(e)&&(t=e.getEqLayer(),e.bridgeTwoContainerAry.forEach(function(e){t.addChildWithSamePos(e),NBDrag.addDrag(e),e.elecLine=null,e.elecLineContainer=null}),e.bridgeTwoContainerAry.length=0)}},{key:"listenContainerLine",value:function(){var a,r;2===this.bridgeTwoContainerAry.length&&NBDrag.hasDrag(this)&&(a=this.toGlobal(this.lineBottomPoint),r=!0,this.bridgeTwoContainerAry.forEach(function(e){for(var t=e.liquidGra,i=0;i<t.length;i++)if(t[i].pa){var n=t[i].pa.y;if(a.y<n){r=!1;break}}}),r?(this.bridgeTwoContainerAry[0].elecLineContainer=this.bridgeTwoContainerAry[1],this.bridgeTwoContainerAry[1].elecLineContainer=this.bridgeTwoContainerAry[0]):(this.bridgeTwoContainerAry[0].elecLineContainer=null,this.bridgeTwoContainerAry[1].elecLineContainer=null))}},{key:"update",value:function(e){(0,s.default)((0,c.default)(ElectrolyticBridge.prototype),"update",this).call(this,e),this.listenContainerLine()}},{key:"toJSON",value:function(){var e=this.bridgeTwoContainerAry;return(0,n.default)((0,s.default)((0,c.default)(ElectrolyticBridge.prototype),"toJSON",this).call(this),{bridgeTwoContainerAry:1<e.length?[e[0].getUUID(),e[1].getUUID()]:[]})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(ElectrolyticBridge.prototype),"setJSON",this).call(this,e);var i=this,n=e.bridgeTwoContainerAry;function t(t){i.getEquipmentByUUID(n[t]).then(function(e){i.bridgeTwoContainerAry[t]=e})}1<n.length&&(t(0),t(1))}}]),ElectrolyticBridge}();e.exports=ElectrolyticBridge},function(e,t,ElectronicBalance){"use strict";var a=ElectronicBalance(4),i=ElectronicBalance(0),n=i(ElectronicBalance(1)),r=i(ElectronicBalance(2)),o=i(ElectronicBalance(7)),s=i(ElectronicBalance(5)),l=i(ElectronicBalance(6)),h=i(ElectronicBalance(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectronicBalance(10),i=ElectronicBalance(11).nape.group,d=ElectronicBalance(1142),p=ElectronicBalance(268),f=ElectronicBalance(53),I=new nape.dynamics.InteractionFilter;I.set_collisionMask(i.ELE_BALANCE_MASK),I.set_collisionGroup(i.ELE_BALANCE_MASK);var g=ElectronicBalance(29).getLan,ElectronicBalance=function(){(0,s.default)(ElectronicBalance,u);var t=c(ElectronicBalance);function ElectronicBalance(){var e;return(0,n.default)(this,ElectronicBalance),(e=t.call(this)).name="ElectronicBalance",e.CNName="电子天平",e.noConfig=!0,e.z_index=5.01,e.notBringToFront=!0,e.currentMass=0,e._openPowerSwitch=!1,e.defaultMass=0,e.switchBtn=null,e.netWeightBtn=null,e.hitTestArea=null,e.numCon=null,e.numsManager=null,e.minusSymbol=null,e.jarr=[],e.space,e}return(0,r.default)(ElectronicBalance,[{key:"init",value:function(){this.space=this.root.nape.space,this.napeObj.set_space(this.space)}},{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectronicBalance.prototype),"creationComplete",this).call(this),this.initText(),this.hitTestArea.interactive=!1,this.hitTestArea.interactiveChildren=!1,this.hitTestArea.alpha=0,this.napeObj.setShapeFilters(I),this.numsManager=new d(d.getNumsArr(this.numCon,"num",7),4,this.numCon.dot),this.numsManager.setNum(0),this.addCursor(this.switchBtn,NBGesture.gesture.TAP),this.addCursor(this.netWeightBtn,NBGesture.gesture.TAP),NBGesture.addGesture(this.switchBtn,NBGesture.gesture.TAP,this.openPowerSwitch,!1,this),NBGesture.addGesture(this.netWeightBtn,NBGesture.gesture.TAP,this.setNetWeight,!1,this),this.setPower(!1),this.init()}},{key:"initText",value:function(){this.txtClear.text=g("eq_clear"),this.txtClear.anchor.set(.5)}},{key:"eqPrepareDrag",value:function(){(0,o.default)((0,h.default)(ElectronicBalance.prototype),"eqPrepareDrag",this).call(this);for(var e=f.getAllCollisionBodys(this.napeObj),t=0;t<e.length;t++){var i,n=e[t];n!=this.napeObj&&(i=n.position,i=p.createWeldJoint(this.napeObj,n,i,i,this.space),this.jarr.push(i))}}},{key:"eqStopDrag",value:function(){(0,o.default)((0,h.default)(ElectronicBalance.prototype),"eqStopDrag",this).call(this);for(var e=0,e=0;e<this.jarr.length;e++){var t=this.jarr[e];t.body1=null,t.body2=null,this.space.constraints.remove(t)}}},{key:"eqPrepareDelete",value:function(){try{this.numsManager.destroy(),this.numsManager=null,NBGesture.removeGesture(this.switchBtn,NBGesture.gesture.TAP),NBGesture.removeGesture(this.netWeightBtn,NBGesture.gesture.TAP)}catch(e){}(0,o.default)((0,h.default)(ElectronicBalance.prototype),"eqPrepareDelete",this).call(this)}},{key:"update",value:function(e){(0,o.default)((0,h.default)(ElectronicBalance.prototype),"update",this).call(this,e),this.checkWeight(),this.root.nape.renderCount=1,this._openPowerSwitch&&(e=this.currentMass-this.defaultMass,this.numsManager.setNum(Math.min(Math.abs(e),999.9999)),this.toggleMinusSymbol(e<0))}},{key:"setPower",value:function(e){(this._openPowerSwitch=e)?(this.numsManager.show(),this.switchBtn.gotoAndStop(1)):(this.defaultMass=0,this.numsManager.hide(),this.switchBtn.gotoAndStop(0),this.toggleMinusSymbol(!1))}},{key:"setNetWeight",value:function(){this._openPowerSwitch&&(this.defaultMass=this.currentMass||0)}},{key:"openPowerSwitch",value:function(){this.setPower(!this._openPowerSwitch)}},{key:"toggleMinusSymbol",value:function(e){this.minusSymbol.visible=e}},{key:"checkHit",value:function(e){var t,i;e.napeObj&&(t=(i=e.getBounds()).x+i.width/2,i=i.y+i.height-20*this.getViewStack().scale.x,i=new PIXI.Point(t,i),this.hitTestArea.hitTestPoint(i)?((i=e.napeObj).set_type(nape.phys.BodyType.get_DYNAMIC()),i.setShapeFilters(I),e.onBalance=!0,e.balanceObj=this,e.rotateSpriteIcon&&e.rotateSpriteIcon.setEnabled(!1)):e.balanceObj===this&&(e.onBalance=!1,e.balanceObj=null,e.rotateSpriteIcon&&e.rotateSpriteIcon.setEnabled(!0)))}},{key:"checkWeight",value:function(){this.setContentMass();for(var e=0,t=this.getViewStack().eqChildren,i=0;i<t.length;i++){var n=t[i];n.balanceObj&&n.balanceObj===this&&n.napeObj&&n.napeObj.mass&&(e+=n.napeObj.mass)}this.currentMass=e}},{key:"canSpoonPour",value:function(){return!1}}]),ElectronicBalance}();e.exports=ElectronicBalance},function(e,t,i){"use strict";var n=i(0),a=n(i(1)),r=n(i(2)),i=function(){function n(e,t,i){(0,a.default)(this,n),this.numSpArr=e,this.precision=t||0,this.dotSp=i,this.precision<0&&(this.precision=0),this.sca=Math.pow(10,this.precision)}return(0,r.default)(n,[{key:"destroy",value:function(){}},{key:"setNum",value:function(i){i=Math.round(i*this.sca),this.numSpArr.forEach(function(e){var t=i%10;e.gotoAndStop(t),i=10<=i?Math.floor(i/10):0})}},{key:"show",value:function(){this.numSpArr.forEach(function(e){e.visible=!0}),this.dotSp&&(this.dotSp.visible=!0)}},{key:"hide",value:function(){this.numSpArr.forEach(function(e){e.visible=!1}),this.dotSp&&(this.dotSp.visible=!1)}}],[{key:"getNumsArr",value:function(e,t,i){for(var n=[],a=0;a<i;a++)e[t+a]&&n.push(e[t+a]);return n}}]),n}();e.exports=i},function(e,t,ElectronicEngineering){"use strict";var a=ElectronicEngineering(4),i=ElectronicEngineering(0),n=i(ElectronicEngineering(1)),r=i(ElectronicEngineering(2)),o=i(ElectronicEngineering(7)),s=i(ElectronicEngineering(5)),l=i(ElectronicEngineering(6)),h=i(ElectronicEngineering(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElectronicEngineering(10),d=ElectronicEngineering(16),p=ElectronicEngineering(22),f=ElectronicEngineering(21),ElectronicEngineering=function(){(0,s.default)(ElectronicEngineering,u);var t=c(ElectronicEngineering);function ElectronicEngineering(){var e;return(0,n.default)(this,ElectronicEngineering),(e=t.call(this)).name="ElectronicEngineering",e.CNName="电子感应圈",e.z_index=5.99,e.eleArCount=0,e}return(0,r.default)(ElectronicEngineering,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(ElectronicEngineering.prototype),"creationComplete",this).call(this),this.initGasMed(),this.initSwich()}},{key:"initGasMed",value:function(){this.hasCovered=!0,this.medicineData.gasAry.clear();var e=this.root.medicineManager.getMedicineData("N2"),t=this.root.medicineManager.getMedicineData("O2"),i=this.root.medicineManager.getMedicineData("NO"),e=new GasVO(e,0),t=new GasVO(t,0);this.NOMedVo=new GasVO(i,0);i=this.totalCapacity/1e3/22.4;this.medicineData.push(e.deepClone().setMol(i/2)),this.medicineData.push(t.deepClone().setMol(i))}},{key:"calcReaction",value:function(){if(this.onElectric){var e=this.eleArCount%15;if(0==e){for(var t=Math.floor(5*Math.random());t===this.eleArc.currentFrame;)t=Math.floor(5*Math.random());this.eleArc.currentFrame=t}else 5==e&&(this.eleArc.currentFrame=5);this.eleArCount++,1e3<this.eleArCount&&(this.eleArCount=0);var i=this.medicineData.gasAry.quickMap.get("O2"),n=this.medicineData.gasAry.quickMap.get("N2");i&&0<i.mol&&n&&0<n.mol&&(this.hasReact=this.activeCount=nb.ACTIVE_COUNT,e=Math.min(i.mol,n.mol,5e-5/10.2),i.setMol(i.mol-e),n.setMol(i.mol-e),this.medicineData.push(this.NOMedVo.deepClone().setMol(e)),this.setReactStatus(p.EquationMap.N2.O2.equationAry[0],8))}}},{key:"initSwich",value:function(){var e=this;this.onElectric=!1,this.switchBtn.interactive=!0,this.switchBtn.on(TouchEvent.TOUCH_BEGIN,function(){e.onElectric=!e.onElectric}),this.addCursor(this.switchBtn,d.status.PAN)}},{key:"onElectric",get:function(){return 1===this.switchBtn.currentFrame},set:function(e){(this.eleArc.visible=e)?(this.switchBtn.gotoAndStop(1),this.powerLight.gotoAndStop(1)):(this.switchBtn.gotoAndStop(0),this.powerLight.gotoAndStop(0))}},{key:"eqPrepareDelete",value:function(){(0,o.default)((0,h.default)(ElectronicEngineering.prototype),"eqPrepareDelete",this).call(this),this.removeCursor(this.switchBtn)}},{key:"update",value:function(e){(0,o.default)((0,h.default)(ElectronicEngineering.prototype),"update",this).call(this,e),this.calcReaction()}},{key:"getConfigureData",value:function(){var n=this,a={confArr:[]};return this.noConfig||function(){for(var e=["体积","物质的量","化学方程式","质量"],i=["conf_show_volume","conf_show_mol","conf_chemical_equation","conf_show_weight"],t=0;t<e.length;t++)!function(t){a.confArr.push(f.inputSwitch(e[t],n[i[t]],function(e){this[i[t]]=e.checked,this.forceUpdate=!0}.bind(n)))}(t)}(),a}}]),ElectronicEngineering}();e.exports=ElectronicEngineering},function(e,t,ElevatorPlatform){"use strict";var a=ElevatorPlatform(4),i=ElevatorPlatform(0),n=i(ElevatorPlatform(1)),r=i(ElevatorPlatform(2)),o=i(ElevatorPlatform(7)),s=i(ElevatorPlatform(5)),l=i(ElevatorPlatform(6)),h=i(ElevatorPlatform(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=ElevatorPlatform(8),d=ElevatorPlatform(16),p=ElevatorPlatform(1145),ElevatorPlatform=function(){(0,s.default)(ElevatorPlatform,u);var t=c(ElevatorPlatform);function ElevatorPlatform(){var e;return(0,n.default)(this,ElevatorPlatform),(e=t.call(this)).name="ElevatorPlatform",e.CNName="升降台",e.z_index=5.02,e}return(0,r.default)(ElevatorPlatform,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(ElevatorPlatform.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.rotateAxleControl.interactive=!0,this.rotateAxleControl.alpha=0,this.rotateAxleMouse.alpha=0,this.gearMc.gear.mask=this.gearMc.gearMask.getChildAt(0);var i=this,n=0;function t(e){var t=e.data.global.y-n;2<t&&(i.axle3.rotation=i.axle3.rotation-.01,n=e.data.global.y),t<-2&&(i.axle3.rotation=i.axle3.rotation+.01,n=e.data.global.y),i.axle3.rotation<=.05&&(i.axle3.rotation=.05),1.05<=i.axle3.rotation&&(i.axle3.rotation=1.05),i.checkAxles();e=1.05-i.axle3.rotation;i.movePointingButton.setPercent(e),i.movePointingButton.setBtnPosition()}this.rotateAxleControl.on(TouchEvent.TOUCH_BEGIN,function(e){i.rotateAxleControl.on(TouchEvent.TOUCH_MOVE,t),i.rotateAxleControl.removeEventListener(MouseEvent.MOUSE_OVER,r),i.mouseTypeBorder&&(i.mouseTypeBorder.alpha=0);n=e.data.global.y,e.stopPropagation()}),this.rotateAxleControl.on(TouchEvent.TOUCH_END,function(){n=0,i.rotateAxleControl.removeEventListener(TouchEvent.TOUCH_MOVE,t),i.rotateAxleControl.on(MouseEvent.MOUSE_OVER,r)}),this.rotateAxleControl.on(TouchEvent.TOUCH_END_OUTSIDE,function(){i.rotateAxleControl.removeEventListener(TouchEvent.TOUCH_MOVE,t),i.rotateAxleControl.on(MouseEvent.MOUSE_OVER,r)}),this.on(TouchEvent.TOUCH_BEGIN,function(){this.mouseTypeBorder&&(this.mouseTypeBorder.alpha=1)}),this.l=this.axle3.width-30,this.r=this.l/2,this.axle3.rotation=.55,this.checkAxles();var a=this.root.mouseManager;function r(){a.changeMouseStatus(d.status.STRETCH,!0,i.rotateAxleMouse)}this.rotateAxleControl.on(MouseEvent.MOUSE_OVER,r),this.rotateAxleControl.on(MouseEvent.MOUSE_OUT,function(){a.changeMouseStatus(d.status.STRETCH,!1,e.rotateAxleMouse)}),this.movePointingButton=new p(this,{x:270,y:120},!0),this.movePointingButton.setEnabled(!0),this.movePointingButton.setPercent(.5),this.movePointingButton.btnPosition.y+=75}},{key:"setPercent",value:function(e){this.axle3.rotation=1-e+.05,this.checkAxles()}},{key:"checkAxles",value:function(){var e=this,t=e.axle3.rotation,i={x:e.axle3.x,y:e.axle3.y},n={x:i.x,y:i.y-2*e.l*Math.sin(t)},a={x:i.x-e.l*Math.cos(t),y:i.y};e.axle4.x=a.x,e.axle4.y=a.y,e.axle4.rotation=-t,e.axle2.x=n.x,e.axle2.y=n.y,e.axle2.rotation=-t,e.axle1.x=a.x,e.axle1.y=n.y,e.axle1.rotation=t;n=e.screwTop.y;e.screwTop.x=e.axle1.x,e.screwTop.y=e.axle1.y,e.screwBottom.x=e.axle4.x,e.screwBottom.y=e.axle4.y,e.topDown.y=e.topDown.y+e.screwTop.y-n,e.topUp.y=e.topUp.y+e.screwTop.y-n,e.rotateAxle.x=i.x-e.l*Math.cos(t)+e.rotateAxle.width/2+18,e.rotateAxle.y=i.y-e.l*Math.sin(t),e.gearMc.x=e.rotateAxle.x+150,e.gearMc.y=e.rotateAxle.y-34,e.gearMc.gear.y=e.gearMc.gear.y-5,e.gearMc.gear.y<-58&&(e.gearMc.gear.y=0),e.rotateAxleControl.x=e.rotateAxle.x+136,e.rotateAxleControl.y=e.rotateAxle.y,e.rotateAxleMouse.x=e.rotateAxle.x+150,e.rotateAxleMouse.y=e.rotateAxle.y}}]),ElevatorPlatform}();e.exports=ElevatorPlatform},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(19)),h=n(i(7)),c=n(i(5)),u=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=i(52),I=i(91),g=i(18),m=i(16),i=function(){(0,c.default)(a,I);var n=p(a);function a(e,t,i){return(0,o.default)(this,a),(e=n.call(this,e,t)).name="movePointingButton",e.DISX=50,e.oldBtnPos=t,e.percent=.5,e.setLineInContainer(!0),e.changeType(i),e.initLineAry(),e.target.on(NBDrag.event.DRAG_MOVE,e.initLineAry.bind((0,l.default)(e))),e}return(0,s.default)(a,[{key:"initButton",value:function(){(0,h.default)((0,d.default)(a.prototype),"initButton",this).call(this);var e=this.target.root.mouseManager;m.addMouseEvent(e,this.button,m.status.STRETCH),this.initUnicorn(0)}},{key:"changeType",value:function(e){"left"===e&&(this.DISX=-50,this.initLineAry(),this.updateUnicorn(Math.PI))}},{key:"initLineAry",value:function(){var e=this.oldBtnPos,e={x:e.x-this.DISX,y:e.y};this.lineAry=this.generateLinePoints({x:e.x,y:e.y},{x:e.x,y:e.y+140},14),this.setLinePointX(this.percent),this.setPointAryPercent(0,this.percent,!0),this.setBtnRotate()}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.adjust2")}},{key:"setBtnRotate",value:function(){var e=g.retrieveRotation(this.target.worldTransform);this.button.rotation=e,e+=Math.PI/4*3;var t=this.oldBtnPos||this.btnPosition,t=this.btnPos=this.otherLayer.toLocal({x:t.x+140,y:t.y},this.target);this.button.visible&&NBDrag.addDrag(this.button,{x:t.x,y:t.y,width:0,height:140/Math.sin(Math.PI/4),rotate:e})}},{key:"dragButtonBegin",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonBegin",this).call(this,e),this.startDragPos=(0,r.default)({},e.data.global)}},{key:"dragButtonMove",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonMove",this).call(this,e),this.setPercent(this.getPercent(e,this.startDragPos)),this.btnPosition=this.target.toLocal({x:this.button.x,y:this.button.y},this.otherLayer)}},{key:"dragButtonEnd",value:function(e){(0,h.default)((0,d.default)(a.prototype),"dragButtonEnd",this).call(this,e)}},{key:"getPercent",value:function(){var e=this.button.position,e=f.distance(e,this.btnPos)/140*Math.sin(Math.PI/4);return e=1<(e=e<0?0:e)?1:e}},{key:"setPercent",value:function(e){this.percent=e,this.target.setPercent instanceof Function&&this.target.setPercent(e),this.setPosByPercent(e),this.setLinePointX(e),this.setPointAryPercent(0,e,!0)}},{key:"setPosByPercent",value:function(e){0<=e&&e<=1&&(this.btnPosition.x=this.oriBtnPosition.x+140*(1-e),this.btnPosition.y=this.oriBtnPosition.y+140*e)}},{key:"setLinePointX",value:function(e){var t;0<=e&&e<=1&&(t=this.oldBtnPos.x-this.DISX+140*(1-e),this.lineAry.forEach(function(e){return e.x=t}))}},{key:"showButton",value:function(){this.setPosByPercent(this.percent),(0,h.default)((0,d.default)(a.prototype),"showButton",this).call(this)}}]),a}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),p=n(i(7)),l=n(i(5)),h=n(i(6)),f=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(i);return t=n?(e=(0,f.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var u=i(8),i=function(){(0,l.default)(d,u);var t=c(d);function d(){var e;return(0,r.default)(this,d),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(d,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){(0,p.default)((0,f.default)(d.prototype),"creationComplete",this).call(this);var e=this,t=this.getViewStack(),i=this.execute(NBCommand.CREATE_EQUIPMENT,"BigBeaker"),n=this.execute(NBCommand.CREATE_EQUIPMENT,"RubberCatheter"),a=this.execute(NBCommand.CREATE_EQUIPMENT,"FunnelSmall"),r=!(e.executeEq=[i,n,a]),o=!1,s=!1,l=!1;function h(){a.addChild(n.rightHead),a.addedRubber=n.rightHead,n.rightHead.equipment=a,n.rightHead.x=a.rubberPos.x,n.rightHead.y=a.rubberPos.y,n.rightHead.rotation=-a.rubberPos.rotation,n.showMySelf("rightHead"),a.emit("appendEquipment",n),n.emit("appendEquipment",a),l=!0,r&&i&&c()}function c(){a.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:i,dragObj:a,fromSetJson:!0}),a.on("hasTweenComplete",u)}function u(){setTimeout(function(){--n.lastRightPos.x},20),a.y=170,a.alpha=1,a.off("hasTweenComplete",u)}i.on("creationComplete",function(){t.addChild(i),i.x=e.x,i.y=e.y,NBDrag.addDrag(i),r=!0,l&&a&&c()}),n.on("creationComplete",function(){t.addChild(n),n.x=e.x-220,n.y=e.y-145,NBDrag.addDrag(n),o=!0,s&&a&&h()}),a.on("creationComplete",function(){t.addChild(a),a.x=e.x+202,a.y=e.y+170,a.rotation=Math.PI,NBDrag.addDrag(a),s=!0,a.alpha=0,o&&n&&h()})}}]),d}();e.exports=i},function(e,t,FireWorks){"use strict";var a=FireWorks(4),s=FireWorks(44),l=FireWorks(42),h=FireWorks(43),c=FireWorks(37),i=FireWorks(0),n=i(FireWorks(24)),u=i(FireWorks(25)),r=i(FireWorks(1)),o=i(FireWorks(2)),d=i(FireWorks(7)),p=i(FireWorks(5)),f=i(FireWorks(6)),I=i(FireWorks(3));function g(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function y(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,I.default)(i);return t=n?(e=(0,I.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,f.default)(this,t)}}var v=FireWorks(8),C=FireWorks(34),M=FireWorks(414),b=FireWorks(31),x=FireWorks(32),O=PIXI.Point,FireWorks=function(){(0,p.default)(FireWorks,v);var t=y(FireWorks);function FireWorks(){var e;return(0,r.default)(this,FireWorks),(e=t.call(this)).name="FireWorks",e.CNName="烟花",b.register(x.FIREWORKBOOM),b.register(x.FIREWORKSHOOT),b.register(x.LINEFIRE),e.z_index=15.03,e.pM=new O(64,100),e.pU=new O(64,0),e}return(0,o.default)(FireWorks,[{key:"creationComplete",value:function(){var e=this;(0,d.default)((0,I.default)(FireWorks.prototype),"creationComplete",this).call(this),this.execute(NBCommand.DRAG_COVER,{container:this,invert:!1,outter:!0,headCanCover:function(){return!0}}),this.medicine=new n.default,this.lightOnRef.renderable=!1,this.alpha=1,this.lightOnRef.interactive=!0,this.fireCount=10,this.lightOnRef.on(TouchEvent.TOUCH_BEGIN,function(){e.lightOn()});var t=new PIXI.Graphics;this.addChildAt(t,0),t.beginFill(0),t.drawRect(45,300,43,105),t.interactive=!1,this.fireLine.mask=t,this.fireMask=t,this.burnMark.alpha=0,this.totalMol=0}},{key:"getPutMedicinePoint",value:function(){var e=this.getLocalBounds();return this.localBounds=e,this.updateTransform(),e={x:e.x+e.width/2,y:e.y},this.toGlobal(e)}},{key:"addMedicine",value:function(e){if(!this.fireColors)for(var t=this.medicine,i=0,n=e.length;i<n;i++){var a=e[i],r=a.dat.ions;if(r)for(var o=0;o<r.length;o++){var s=r[o],l=s.name,h=M[l];h&&(l=s.count*a.mol,h instanceof Object&&(l*=h.multiple,h=h.color),this.totalMol+=l,t.has(h)?(s=t.get(h),t.set(h,s+l)):t.set(h,l))}}}},{key:"eqPrepareDelete",value:function(){(0,d.default)((0,I.default)(FireWorks.prototype),"eqPrepareDelete",this).call(this);try{this.emitParticle&&this.emitParticle.destroy(),this.particle&&this.particle.destroy(),this.lineSpark&&(TweenMax.killTweensOf(this.lineSpark),this.lineSpark._gsTweenID&&delete TweenLite._internals.tweenLookup[this.lineSpark._gsTweenID],this.lineSpark.destroy()),this.haloParticle&&this.haloParticle.destroy(),this.lineFireSound&&(this.lineFireSound.stop(),this.lineFireSound=null),this.emitSound&&(this.emitSound.stop(),this.emitSound=null),this.boomSound&&(this.boomSound.stop(),this.boomSound=null),this.isCovered()||this.addChildWithSamePos(this.head),TweenMax.killTweensOf(this.burnMark),this.burnMark._gsTweenID&&delete TweenLite._internals.tweenLookup[this.burnMark._gsTweenID]}catch(e){}}},{key:"calFireColor",value:function(){var e,t=this.medicine,i=[],n=this.totalMol,a=g(t.keys());try{for(a.s();!(e=a.n()).done;){var r=e.value,o=t.get(r),s=(0,u.default)(r);i.push({percent:o/n,color:s})}}catch(e){a.e(e)}finally{a.f()}this.fireColors=i}},{key:"getFireColor",value:function(){for(var e=Math.random(),t=this.fireColors,i=0;i<t.length;i++){var n=t[i];if((e-=n.percent)<=0)return n.color}}},{key:"initParticle",value:function(){this.emitParticle||(this.emitParticle=C.getParticle(C.particles.fireWorks_emitter),this.emitParticle.x=66,this.root.viewStack.addParticle(this.emitParticle),this.emitParticle.bind(this)),this.haloParticle||(this.haloParticle=C.getParticle(C.particles.fireWorks_halo),this.root.viewStack.addParticle(this.haloParticle)),this.particle||(this.particle=C.getParticle(C.particles.fireWorks_fire),this.root.viewStack.addParticle(this.particle)),this.calFireColor()}},{key:"getLightOnPoint",value:function(){return this.lightOnRef.toGlobal({x:0,y:0})}},{key:"lightOn",value:function(){var e,t,i=this;this.fired||(this.fired=!0,this.lineSpark||(this.lineSpark=C.getParticle(C.particles.line_spark),this.root.viewStack.addParticle(this.lineSpark),this.lineSpark.bind(this)),this.lineFireSound=b.play(x.LINEFIRE,null,null,null,-1),this.lineFireSound.play(),(e=this.lineSpark).bindOffsetX=66,e.bindOffsetY=300,t=TweenMax.to(e,2,{bindOffsetY:390,onUpdate:function(){i.fireMask.y=130*t.progress()},onComplete:function(){i.lineSpark=null,e.destroy(),i.lineFireSound.stop(),i.lineFireSound=null,i.isDeleting||(i.initParticle(),TweenMax.to(i.burnMark,2,{alpha:1}),i.emitSound=b.play(x.FIREWORKSHOOT,null,null,null,1),i.emitSound.volume=.1,i.emitSound.play(),i.head.interactive=!1,i.head.renderable=!1,i.head.allowGetBounds=!1)}}))}},{key:"fireNew",value:function(){--this.fireCount<0||(this.emitSound=b.play(x.FIREWORKSHOOT,null,null,null,1),this.emitSound.volume=.1,this.emitSound.play(),this.emitParticle.particle.emit=!0,this.emitParticle.particle._spawnTimer=0)}},{key:"update",value:function(e){if(this.lineSpark&&this.lineSpark.render(e),this.emitParticle&&-1<this.fireCount){var t=this.emitParticle,i=t.children.length;if(0<i&&(r=t.children[0].position),t.render(e),0===t.children.length&&0<i&&this.showParticle(r),this.particle)if(0<this.particle.children.length||this.showTime){var n=this.getFireColor(),a=this.particle.children,r=a.length;this.particle.render(e);var o=a.length;if(n&&r<o)for(var s=r;s<o;s++){var l=a[s];l._doColor=!1,l.tint=l._tint=n}this.haloParticle.render(e),this.showTime=!1}else this.particle.particle&&this.emitParticle.particle&&!1===this.emitParticle.particle.emit&&0===i&&(this.fireNew(),this.boomSound.stop(),this.boomSound=null)}}},{key:"showParticle",value:function(e){this.emitSound.stop(),this.emitSound=null,this.boomSound=b.play(x.FIREWORKBOOM,null,null,null,0),this.boomSound.play();var t=e.x,e=e.y-160;this.particle.x=t,this.particle.y=e,this.haloParticle.x=t,this.haloParticle.y=e;e=this.particle.particle;e.emit=!0,e._spawnTimer=0,this.showTime=!0;e=this.haloParticle.particle;e.emit=!0,e._spawnTimer=0}},{key:"canSpoonPour",value:function(){return!this.isCovered()}},{key:"getSpoonHintInfo",value:function(){return{p0:this.pM,p1:this.pU}}}]),FireWorks}();e.exports=FireWorks},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).name="Flashlight",e.CNName="手电筒",e.z_index=100,e._isOpen=!1,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(this.dragArea.allowGetBounds=!1,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this),this.isOpen=!1,this.light.allowGetBounds=!1,this.light.interactiveChildren=!1,this.originLocalBounds=this.getLocalBounds(),this.addListeners()}},{key:"isOpen",get:function(){return this._isOpen},set:function(e){this._isOpen=e,this.swit.visible=this.light.visible=this.lamp.visible=e}},{key:"addListeners",value:function(){var e=this;NBGesture.addGesture(this.tap,NBGesture.gesture.TAP,function(){e.isOpen=!e.isOpen})}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(10);e.exports=function(){(0,s.default)(FlaskBrush,u);var e=c(FlaskBrush);function FlaskBrush(){return(0,o.default)(this,FlaskBrush),e.call(this)}return(0,r.default)(FlaskBrush)}()},function(e,t,FlatjawPinchcock){"use strict";var a=FlatjawPinchcock(4),i=FlatjawPinchcock(0),n=i(FlatjawPinchcock(9)),r=i(FlatjawPinchcock(1)),o=i(FlatjawPinchcock(2)),s=i(FlatjawPinchcock(7)),l=i(FlatjawPinchcock(5)),h=i(FlatjawPinchcock(6)),c=i(FlatjawPinchcock(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=FlatjawPinchcock(8),p=FlatjawPinchcock(85),StraightGlassCatheter=FlatjawPinchcock(415),FlatjawPinchcock=function(){(0,l.default)(FlatjawPinchcock,d);var t=u(FlatjawPinchcock);function FlatjawPinchcock(){var e;return(0,r.default)(this,FlatjawPinchcock),(e=t.call(this)).name="FlatjawPinchcock",e.CNName="止水夹",e.z_index=23.03,e}return(0,o.default)(FlatjawPinchcock,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(FlatjawPinchcock.prototype),"creationComplete",this).call(this),this._addedRubber=null,this._addedGlass=null,this.shouldFrame=0,this.init()}},{key:"addedGlass",get:function(){return this._addedGlass},set:function(e){this._addedGlass&&(this._addedGlass.currentFlatjaw=null),(this._addedGlass=e)&&(e.currentFlatjaw=this)}},{key:"addedRubber",get:function(){return this._addedRubber},set:function(e){(this._addedRubber=e)?e.catheterIsStoped=!0:this.state.gotoAndStop(0)}},{key:"init",value:function(){this.appendAnimationComplete=!1,this.addListeners()}},{key:"addListeners",value:function(){var s=this,l=this;this.on(NBDrag.event.STOP_DRAG,function(){for(var e=(e=[].concat(s.getEquipments())).sort(function(e,t){var i=0,n=0;return(i=e.isRubberCatheter?-10:i)-(n=t.isRubberCatheter?-10:n)}),t=0;t<e.length;t++){var i=e[t];if("GlassRubberCatheter"!==i.name&&"KippsCatheter"!==i.name&&i instanceof p&&s.hitTest(i)&&!i.currentFlatjaw){i.addChildWithSamePos(s),s.shouldFrame=3,s.addedGlass=i;var n,a=0,r=50,o=12;return TweenMax.killTweensOf(s),s._gsTweenID&&delete TweenLite._internals.tweenLookup[s._gsTweenID],NBDrag.removeDrag(s),"RotateGlassCatheter"===i.name&&(r=(n=i.calcFlatPos()).x,o=n.y,a=n.rotation),i instanceof StraightGlassCatheter&&(r=0,a-=-Math.PI/2),void TweenMax.to(s,.5,{x:r,y:o,rotation:a,onComplete:function(){NBDrag.addDrag(l),s.state.gotoAndStop(s.shouldFrame)}})}if(i.isRubberCatheter&&s.judgeHitRubber(i))return}TweenMax.to(s,.5,{rotation:0})}),this.on(NBDrag.event.PREPARE_DRAG,function(){(s.addedGlass||s.addedRubber)&&(s.addedRubber&&(s.addedRubber.catheterIsStoped=!1),s.addedGlass=null,s.addedRubber=null,s.appendAnimationComplete=!1,s.getViewStack().addChildWithSamePos(s))})}},{key:"judgeHitRubber",value:function(e){for(var t,i=this,n=e.rubberPoint,a=this.localBounds,r={x:a.x+a.width/2,y:a.y+a.height/2},r=this.toGlobal(r),o=e.toLocal(r),s=Math.max(Math.sqrt(Math.pow(n[0].x-n[1].x,2)+Math.pow(n[0].y-n[1].y,2)),a.height/2),l=3;l<n.length;l++){var h=o.x-n[l].x,c=o.y-n[l].y,u=Math.abs(h)+Math.abs(c);if(Math.abs(h)<=s&&Math.abs(c)<=s)if(!t||u<t)t=u,this.currentRubberPoint=l;else if(t&&t<u)break}if(t){var d=this,a=this.currentRubberPoint;e.addChildWithSamePos(this),this.addedRubber=e,a<n.length-1?(this.rubberAnchorPoint1=a,this.rubberAnchorPoint2=a+1):(this.rubberAnchorPoint1=a-1,this.rubberAnchorPoint2=a);e=this.rubberAnchorPoint2;return this.shouldFrame=1,n[this.rubberAnchorPoint1].x>n[this.rubberAnchorPoint2].x&&(this.rubberAnchorPoint2=this.rubberAnchorPoint1,this.rubberAnchorPoint1=e,this.shouldFrame=2),"RubberCatheterBrown"===this.addedRubber.name&&(this.shouldFrame+=3),NBDrag.removeDrag(d),d.root.resetPascalNode(),TweenMax.to(this,.5,{x:n[a].x,y:n[a].y,rotation:this.calculateAngle(),onComplete:function(){NBDrag.addDrag(d),i.appendAnimationComplete=!0,i.state.gotoAndStop(i.shouldFrame)}}),!0}return!1}},{key:"calculateAngle",value:function(){var e=this.addedRubber.rubberPoint,t=e[this.rubberAnchorPoint1],e=e[this.rubberAnchorPoint2];return Math.atan2(e.y-t.y,e.x-t.x)}},{key:"eqPrepareDelete",value:function(){(this.addedGlass||this.addedRubber)&&(this.addedRubber&&(this.addedRubber.catheterIsStoped=!1),this.addedGlass=null,this.addedRubber=null,this.appendAnimationComplete=!1),(0,s.default)((0,c.default)(FlatjawPinchcock.prototype),"eqPrepareDelete",this).call(this)}},{key:"update",value:function(e){(0,s.default)((0,c.default)(FlatjawPinchcock.prototype),"update",this).call(this,e),this.addedRubber&&this.appendAnimationComplete&&(e=this.addedRubber.rubberPoint,this.rotation=this.calculateAngle(),this.x=e[this.currentRubberPoint].x,this.y=e[this.currentRubberPoint].y)}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(FlatjawPinchcock.prototype),"toJSON",this).call(this),{addedRubber:this._addedRubber?this._addedRubber.getUUID():null,appendAnimationComplete:this.appendAnimationComplete,currentRubberPoint:this.currentRubberPoint,rubberAnchorPoint1:this.rubberAnchorPoint1,rubberAnchorPoint2:this.rubberAnchorPoint2,shouldFrame:this.shouldFrame,addedGlass:this.addedGlass?this.addedGlass.getUUID():null})}},{key:"setJSON",value:function(t){var i=this;(0,s.default)((0,c.default)(FlatjawPinchcock.prototype),"setJSON",this).call(this,t),t.addedRubber&&this.getEquipmentByUUID(t.addedRubber).then(function(e){i.addedRubber=e,i.appendAnimationComplete=t.appendAnimationComplete,i.currentRubberPoint=t.currentRubberPoint,i.rubberAnchorPoint1=t.rubberAnchorPoint1,i.rubberAnchorPoint2=t.rubberAnchorPoint2,i.shouldFrame=t.shouldFrame,i.state.gotoAndStop(i.shouldFrame)}),t.addedGlass&&this.getEquipmentByUUID(t.addedGlass).then(function(e){(i.addedGlass=e).isLeft?i.x=50:i.x=-50,i.y=12})}}]),FlatjawPinchcock}();e.exports=FlatjawPinchcock},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(412),f=i(147);e.exports=function(){(0,h.default)(Forceps,p);var t=d(Forceps);function Forceps(){var e;return(0,o.default)(this,Forceps),(e=t.call(this)).name="Forceps",e.CNName="镊子",e.z_index=23.04,e}return(0,s.default)(Forceps,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(Forceps.prototype),"creationComplete",this).call(this)}},{key:"setPosition",value:function(e){e.x=0,e.y=16}},{key:"pick",value:function(e){return e.isTestPaper?(this.takeTestPaper(e),!0):e instanceof f?(this.pickPaper(e),!0):(0,l.default)((0,u.default)(Forceps.prototype),"pick",this).call(this,e)}},{key:"takeTestPaper",value:function(e){var t=this;(this.holdObj=e).holdParent=this;var i=e.getViewStack().toLocal({x:e.getBounds().x,y:e.getBounds().y});NBDrag.removeDrag(e),TweenMax.to(this,.3,{x:i.x+100,y:i.y-10,rotation:0,onComplete:function(){NBDrag.addDrag(e),t.addChildAtWithSamePos(e,0),e.on(NBDrag.event.PREPARE_DRAG,t.holdObjLeave)}})}},{key:"pickPaper",value:function(e){var t=this,i=e.createPaper();i.on("creationComplete",function(){t.takeTestPaper(i)})}},{key:"cleanMed",value:function(){}},{key:"checkCanCleanByTissue",value:function(){return this.parent===this.getEqLayer()&&this.isEmpty()}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(Forceps.prototype),"toJSON",this).call(this),{blockType:this.blockType})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(Forceps.prototype),"setJSON",this).call(this,e),this.blockType=e.blockType}}]),Forceps}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(10);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,o.default)(this,t),e.call(this)}return(0,r.default)(t)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),u=n(i(7)),s=n(i(5)),l=n(i(6)),d=n(i(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var p=i(8),i=function(){(0,s.default)(c,p);var e=h(c);function c(){return(0,r.default)(this,c),e.call(this)}return(0,o.default)(c,[{key:"creationComplete",value:function(){(0,u.default)((0,d.default)(c.prototype),"creationComplete",this).call(this);var t=5,i=this.x,n=this.y,ElectrolyticContainer=this.execute(NBCommand.CREATE_EQUIPMENT,"ElectrolyticContainer");ElectrolyticContainer.once("creationComplete",function(){var e=ElectrolyticContainer;e.x=i,e.y=n,NBDrag.removeDrag(ElectrolyticContainer),h(e)});var a=this.execute(NBCommand.CREATE_EQUIPMENT,"GasTailGlassCatheter120");a.once("creationComplete",function(){var e=a;e.x=i+30,e.y=n-50,h(e)});var r=this.execute(NBCommand.CREATE_EQUIPMENT,"GasTailGlassCatheter120");a.once("creationComplete",function(){var e=r;e.x=i+335+133,e.y=n-50,e.scale.set(-1,1),h(e)});var o=this.execute(NBCommand.CREATE_EQUIPMENT,"ElectricityPieceKryptolWithCatalyst");o.once("creationComplete",function(){var e=o;e.x=i+45,e.y=n-50,h(e)});var s=this.execute(NBCommand.CREATE_EQUIPMENT,"ElectricityPieceKryptolWithCatalyst");s.once("creationComplete",function(){var e=s;e.x=i+215+133,e.y=n-50,h(e)}),this.parent.removeChild(this);var l=0;function h(e){l+=1,e.getEqLayer().addChild(e),e.visible=!1,t<=l&&(ElectrolyticContainer.addChildAtWithSamePos(a),ElectrolyticContainer.addChildAtWithSamePos(r),ElectrolyticContainer.addChildAtWithSamePos(o),ElectrolyticContainer.addChildAtWithSamePos(s),a.emit("appendEquipment",ElectrolyticContainer),ElectrolyticContainer.emit("appendEquipment",a),r.emit("appendEquipment",ElectrolyticContainer),ElectrolyticContainer.emit("appendEquipment",r),o.emit("appendEquipment",ElectrolyticContainer),ElectrolyticContainer.emit("appendEquipment",o),s.emit("appendEquipment",ElectrolyticContainer),ElectrolyticContainer.emit("appendEquipment",s),(a.addedBottle=r.addedBottle=a.currentContainer=r.currentContainer=o.currentContainer=s.currentContainer=ElectrolyticContainer).gasL=a,ElectrolyticContainer.gasR=r,ElectrolyticContainer.electrodeL=o,ElectrolyticContainer.electrodeR=s,a.interactive=!1,r.interactive=!1,o.interactive=!1,s.interactive=!1,o.withGas=a,s.withGas=r,a.visible=!0,r.visible=!0,o.visible=!0,s.visible=!0,ElectrolyticContainer.visible=!0,NBDrag.addDrag(ElectrolyticContainer))}}}]),c}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(269),p=i(202);e.exports=function(){(0,l.default)(Galvanometer,p);var t=u(Galvanometer);function Galvanometer(){var e;return(0,r.default)(this,Galvanometer),(e=t.call(this)).name="Galvanometer",e.CNName="灵敏电流计",e}return(0,o.default)(Galvanometer,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(Galvanometer.prototype),"creationComplete",this).call(this),this.rubberPosAry=[{x:45,y:174,name:"left",rotation:Math.PI},{x:183,y:174,name:"right",rotation:0}]}},{key:"setDirection",value:function(e){var t=Math.PI/6*(e?1:-1),e=this.pointer,t=t-e.rotation;0!==(t/=5)&&(e.rotation+=t=(t=.05<t?.05:t)<-.5?-.05:t)}},{key:"update",value:function(e){(0,s.default)((0,c.default)(Galvanometer.prototype),"update",this).call(this,e),this.calculationElectro||d.calEffect(this),this.calculationElectro=!1;var t=this.pointer,e=t.rotation;0!==e&&(t.rotation+=0<e?-.01:.01,Math.abs(t.rotation)<.01&&(t.rotation=0))}}]),Galvanometer}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),d=n(i(7)),l=n(i(5)),h=n(i(6)),p=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var f=i(8),i=function(){(0,l.default)(u,f);var t=c(u);function u(){var e;return(0,r.default)(this,u),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(u,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){(0,d.default)((0,p.default)(u.prototype),"creationComplete",this).call(this);var e=this,t=this.getViewStack(),a=this.execute(NBCommand.CREATE_EQUIPMENT,"GasCollectingBottle"),r=this.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig"),o=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),s=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),i=!(e.executeEq=[a,r,o,s]),n=!1,l=!1,h=!1;function c(){var e=a.getHitProperty(r,a),t=0;e.offSetX&&(t=Number(e.offSetX));var i=Number(e.y);r.choicePlugScale(a,0);var n=Number(e.zIndex);((a.currentPlug=r).currentArea=a).addChildAt(r,n),r.x=Number(e.x)+t,r.y=Number(i),a.plugInit(r),a.addCoverBody(),NBDrag.addDrag(r),o.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:o,fromSetJson:!0}),s.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:s,fromSetJson:!0})}a.on("creationComplete",function(){t.addChild(a),a.x=e.x,a.y=e.y,i=!0,NBDrag.addDrag(a),l&&n&&s&&r&&h&&o&&c()}),r.on("creationComplete",function(){t.addChild(r),n=!0,i&&l&&a&&o&&h&&s&&c()}),o.on("creationComplete",function(){t.addChild(o),l=!0,o.updateCurveGlass(0),o.x=e.x+78.5,o.y=e.y-47,NBDrag.addDrag(o),o.dripArea.y=o.ropePoint[1].y=o.whiffAreaAry[1].area.y=373,i&&n&&a&&r&&h&&s&&c()}),s.on("creationComplete",function(){t.addChild(s),h=!0,s.updateCurveGlass(Math.PI),s.x=e.x+144,s.y=e.y-47,NBDrag.addDrag(s),i&&n&&a&&r&&l&&o&&c()})}}]),u}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),s=n(i(9)),r=n(i(1)),o=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(85);e.exports=function(){(0,h.default)(GasTailGlassCatheter,p);var t=d(GasTailGlassCatheter);function GasTailGlassCatheter(){var e;return(0,r.default)(this,GasTailGlassCatheter),(e=t.call(this)).CNName="六十度弯管",e.name="GasTailGlassCatheter",e.maxOpenMouth=2,e.addedRubber=null,e.allowRubberCatheter=!0,e.isGlassCatheter=!0,e.adsorbPoint={GasCollectingBottle:{x:471,y:270},BigTestTube:{x:370,y:0}},e.addedPoint={GasCollectingBottle:{x:350,y:220},BigTestTube:{x:230,y:-70}},e.dragRectConfig={GasCollectingBottle:{x:380,y:-70,width:310},BigTestTube:{x:264,y:-70,width:380,height:70}},e}return(0,o.default)(GasTailGlassCatheter,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(GasTailGlassCatheter.prototype),"creationComplete",this).call(this),this.init(),this.addEvent()}},{key:"init",value:function(){this.rubberPos={x:12,y:-15,rotation:-Math.PI/2},this.ropePoint=[{x:157,y:274},{x:135,y:252}],this.pointAry=[this.ropePoint[1],{x:42,y:306},{x:28,y:310},{x:17,y:305},{x:12,y:293},{x:12,y:8}],this.lineFix={true:0,false:0},this.fireParticlePos=[{x:130,y:256,rotation:-Math.PI/6,particle:null}],(this._currentContainer=null,l.default)((0,u.default)(GasTailGlassCatheter.prototype),"initLines",this).call(this)}},{key:"currentContainer",get:function(){return this._currentContainer},set:function(e){e?(this._currentContainer=e,this.addedBottle=e,this.emit("appendEquipment",e),e.emit("appendEquipment",this)):this.currentContainer&&(this.emit("removeEquipment",this._currentContainer),this._currentContainer.emit("removeEquipment",this),this._currentContainer=null,this.addedBottle=null)}},{key:"addEvent",value:function(){this.addEventListener(NBDrag.event.PREPARE_DRAG,this.prepareDrag),this.addEventListener(NBDrag.event.STOP_DRAG,this.stopDrag)}},{key:"prepareDrag",value:function(){this.currentContainer&&this.currentContainer._lastDragRect&&this.currentContainer===this.parent&&"Flume"===this.currentContainer.parent.name&&(this.currentContainer.dragRect=this.currentContainer._lastDragRect,this.currentContainer._lastDragRect=null),this.eqAddToViewStack(),this.currentContainer=null}},{key:"stopDrag",value:function(){var t=[],i=[];if(this.root.viewStack.eqChildren.forEach(function(e){"Flume"===e.name&&t.push(e),"GasCollectingBottle"!==e.name&&"BigTestTube"!==e.name||i.push(e)}),i.length){var e=this.getPerfectHitObj(i);if(e){var n=Math.abs(e.rotation)-Math.PI;if(n<1e-6&&-1e-6<n&&"Flume"===e.parent.name){this.addToGasCollectingBottle(e),e._lastDragRect=(0,s.default)({},e.dragRect);var a=this.dragRectConfig[e.name],r=a.x,o=a.y,n=a.width,a=a.height;return e.dragRect.x=r,e.dragRect.y=o,e.dragRect.width=n,void(void 0!==a&&(e.dragRect.height=a))}}}if(t.length){a=this.getPerfectHitObj(t);if(a)return void this.addToFlumes(a)}this.eqAddToViewStack(),this.currentContainer=null}},{key:"getPerfectHitObj",value:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i!==this.parent&&this.hitTest(i.bg||i))return i}}},{key:"addToFlumes",value:function(e){var t=this;e.addChildAtWithSamePos(this,0),TweenMax.to(this,.3,{x:60,y:0,rotation:0,onComplete:function(){t.currentContainer=e}})}},{key:"addToGasCollectingBottle",value:function(e){var t=this;e.addChildAtWithSamePos(this,0),this.rotation+=Math.PI,TweenMax.to(e,.3,this.adsorbPoint[e.name]),TweenMax.to(this,.3,(0,s.default)({},this.addedPoint[e.name],{rotation:Math.PI-.49,onComplete:function(){t.currentContainer=e}}))}},{key:"update",value:function(e){(0,l.default)((0,u.default)(GasTailGlassCatheter.prototype),"update",this).call(this,e),(1e-6<this.rotation||this.rotation<-1e-6)&&this.parent===this.getEqLayer()&&(this.rotation=0)}}]),GasTailGlassCatheter}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(85);e.exports=function(){(0,l.default)(GasTailGlassCatheter120,d);var t=u(GasTailGlassCatheter120);function GasTailGlassCatheter120(){var e;return(0,r.default)(this,GasTailGlassCatheter120),(e=t.call(this)).CNName="一百二十度弯管",e.name="GasTailGlassCatheter120",e.maxOpenMouth=2,e.addedRubber=null,e.allowRubberCatheter=!0,e.isGlassCatheter=!0,e.noChoice=!0,e}return(0,o.default)(GasTailGlassCatheter120,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(GasTailGlassCatheter120.prototype),"creationComplete",this).call(this),this.init()}},{key:"init",value:function(){this.rubberPos={x:12,y:-15,rotation:-Math.PI/2},this.ropePoint=[{x:157,y:274},{x:58,y:408}],this.pointAry=[this.ropePoint[1],{x:23,y:385},{x:12,y:365},{x:11,y:359},{x:11,y:8}],this.lineFix={true:0,false:0},this.fireParticlePos=[{x:11,y:11},{x:130,y:256}],(0,s.default)((0,c.default)(GasTailGlassCatheter120.prototype),"initLines",this).call(this)}},{key:"getGas",value:function(e){if(this.bubbleParticle)for(var t=this.medicine.gasAry,i=t.length,n=0;n<i;n++){var a=t[n];if(a.name===e)return a}}}]),GasTailGlassCatheter120}()},function(e,t,GlassBar){"use strict";var a=GlassBar(4),i=GlassBar(0),r=i(GlassBar(1159)),n=i(GlassBar(1)),o=i(GlassBar(2)),s=i(GlassBar(7)),l=i(GlassBar(5)),h=i(GlassBar(6)),c=i(GlassBar(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=GlassBar(8),p=GlassBar(33),f=GlassBar(228),I=GlassBar(16),g=GlassBar(29).getLan,m=GlassBar(74),GlassBar=function(){(0,l.default)(GlassBar,d);var t=u(GlassBar);function GlassBar(){var e;return(0,n.default)(this,GlassBar),(e=t.call(this)).medicine=null,e.name="GlassBar",e.CNName="玻璃棒",e.z_index=23.05,e.currentTemp=nb.DEFAULT_TEMP,e.heatPoint={x:47.3,y:500},e}return(0,o.default)(GlassBar,[{key:"isCovered",value:function(){return!1}},{key:"addMedicine",value:function(e){this.viewStack!=this.getViewStack()&&this.parent&&this.parent.isBaseContainer&&this.parent.addMedicine&&this.parent.addMedicine(e)}},{key:"creationComplete",value:function(){var t=this;this.initText(),this.initStirBtn(),(0,s.default)((0,c.default)(GlassBar.prototype),"creationComplete",this).call(this),this.heatCount=0,this.medicine={liquidAry:[],gasAry:[]},this.acidAry=["HNO3","HCl","HBr","HI"],this.alkaliAry=["NH3H2O","NH3"],this.on(m.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(m.event.DRAG_MOVE,function(e){t.checkMoveInContainer(e),t.checkGlassBarDistance()}),this.on(m.event.STOP_DRAG,this.collision)}},{key:"cleanMed",value:function(){this.HMedicine=void 0,this.medicine.liquidAry.length=0,this.medicine.gasAry.length=0,this.gasMedicineMap={}}},{key:"checkCanCleanByTissue",value:function(){return this.parent===this.getEqLayer()}},{key:"initText",value:function(){this.stirBtn.txt.text=g("eq_stir"),this.stirBtn.txt.anchor.set(.5),this.shortStirBtn.txt.text=g("eq_shortStir"),this.shortStirBtn.txt.anchor.set(.5)}},{key:"initStirBtn",value:function(){var e=this;this.stirBtn.visible=!1,this.shortStirBtn.visible=!1,this.stirBtn.allowGetBounds=!1,this.shortStirBtn.allowGetBounds=!1,this.stirBtn.scale.x=this.stirBtn.scale.y=.7,this.shortStirBtn.scale.x=this.shortStirBtn.scale.y=.7,this.stirBtn.addEventListener(TouchEvent.TOUCH_END,this.startStir.bind(this)),this.shortStirBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.startStir(),e.stirTimer=setTimeout(function(){e.stopStir(),e.stirTimer=null},3e3)});var t=this.root.mouseManager;I.addMouseEvent(t,this.stirBtn,I.status.PAN),I.addMouseEvent(t,this.shortStirBtn,I.status.PAN),this.on("appendEquipment",function(){e.dragRect&&e.parent&&e.parent.isBaseContainer&&!e.parent.isLiquidMedicine?(e.stirBtn.visible=!0,e.shortStirBtn.visible=!0):(e.stirBtn.visible=!1,e.shortStirBtn.visible=!1)}),this.on("outTopBounds",function(){e.stirBtn.visible=!1,e.shortStirBtn.visible=!1})}},{key:"startStir",value:function(){var e,t;this.stirBtn.visible=!1,this.shortStirBtn.visible=!1,this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this.dragRect&&this.parent&&this.parent.isBaseContainer&&(this.interactive=!1,m.removeDrag(this),this.isOnStirring=!0,e=new TimelineMax,t=Math.max(Math.round(Math.sqrt(this.dragRect.width)/3)/10,.05),e.to(this,.2,{x:this.dragRect.x,y:this.dragRect.y+this.dragRect.height}).to(this,t,{x:this.dragRect.x+this.dragRect.width,repeat:-1,yoyo:!0,ease:Linear.easeNone}),this.lastStirParentPos=new PIXI.Point(this.parent.x,this.parent.y),this.lastStirParent=this.parent)}},{key:"stopStir",value:function(){this.isOnStirring&&(this.interactive=!0,m.addDrag(this),this.isOnStirring=!1,TweenMax.killTweensOf(this),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID],this.dragRect&&this.parent.isBaseContainer&&(this.stirBtn.visible=!0,this.shortStirBtn.visible=!0),null!=this.parent.stirSedCount&&(this.parent.stirSedCount=0))}},{key:"stirring",value:function(){this.isOnStirring&&(this.lastStirParent!==this.parent||1<Math.abs(this.parent.x-this.lastStirParentPos.x)+Math.abs(this.parent.y-this.lastStirParentPos.y)?this.stopStir():this.execute(NBCommand.GLASS_BAR_MIXER,{dis:this}))}},{key:"hitReact",value:function(e){var t=e;this.gasMedicineMap||(this.gasMedicineMap={});for(var i,n,a=0;a<t.length;a++)this.gasMedicineMap[t[a].name]?(i=this.gasMedicineMap[t[a].name].mol,this.gasMedicineMap[t[a].name].setMol(i)):this.gasMedicineMap[t[a].name]=t[a].deepClone();for(n in this.gasMedicineArray=[],this.gasMedicineMap)this.gasMedicineArray.push(this.gasMedicineMap[n]);this.medicine&&this.medicine.liquidAry.concat(this.gasMedicineArray).forEach(function(e){"H2SO4"===e.name&&0,"HNO3"===e.name&&0,"NH3H2O"!==e.name&&"NH3"!==e.name||0})}},{key:"collision",value:function(){var e,t,i,n=this,a=this.checkTestPaper();a&&(TweenMax.isTweening(this)||(m.removeDrag(this),m.removeDrag(a),e=a.getPositionToEqLayer(),t=a.getEqLayer().scale.x,i=a.localBounds.width/2-this.localBounds.x,TweenMax.to(this,.3,{x:(e.x+i)*t,y:-this.localBounds.height-50+e.y*t,rotation:a.rotation,onComplete:function(){TweenMax.to(n,.2,{y:n.y- -50+8,onComplete:function(){n.HMedicine&&(a.touchMed(n.medicine.liquidAry),a.hasReact=nb.ACTIVE_COUNT,n.medicine.liquidAry.length=0),TweenMax.to(n,.2,{y:n.y+-50-8,delay:.5,onComplete:function(){m.addDrag(n),m.addDrag(a)}})}})}})))}},{key:"checkTestPaper",value:function(){for(var e=this.getSortDisHitObjects(),t=0;t<e.length;t++){var i=e[t].objB;if(this.head.hitTest(i)&&!0===i.isTestPaper&&!1===i.gotLiquid)return i}}},{key:"medicineVolatilize",value:function(){var t,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:4e3;this.medicine&&0<this.medicine.liquidAry.length&&(t=0,this.medicine.liquidAry.forEach(function(e){t+=e.getMol()}),t<=0||this.medicine.liquidAry.forEach(function(e){0<e.getMol()&&e.setMol(e.getMol()-.003/i*(e.getMol()/t))}))}},{key:"washByWater",value:function(){var e,t=this;this.HMedicine=7,this.medicine.gasAry.length=0,1===this.medicine.liquidAry.length&&"H2O"===this.medicine.liquidAry[0].name?this.medicine.liquidAry[0].setMol(.003):(this.medicine.liquidAry.forEach(function(e){t.addMedicine(e)}),this.medicine.liquidAry.length=0,e=this.root.medicineManager.getMedicineData("H2O"),this.medicine.liquidAry.push(new p(e,.003)))}},{key:"checkMoveInContainer",value:function(e){if(this.dragRect&&0!=this.dragRect.enabled){var t=this.getSelfParent();if(t&&t!==this.getEqLayer()){var i=2;if(this.HMedicine=-Math.round(Math.log10(t.medicineData.getHDensity())),13.9<this.HMedicine&&(this.HMedicine=13.9),this.HMedicine<1.1&&(this.HMedicine=1.1),t.isBaseContainer){if(t.medicineData.liquidAry){this.medicine.liquidAry=[];for(var n=0;n<t.medicineData.liquidAry.length;n++)this.medicine.liquidAry.push(t.medicineData.liquidAry[n].deepClone()),"H2O"===t.medicineData.liquidAry[n].name&&.003<t.medicineData.liquidAry[n].mol&&(i=.003/t.medicineData.liquidAry[n].mol)}for(var a=0;a<this.medicine.liquidAry.length;a++){var r=this.medicine.liquidAry[a].getMol();this.medicine.liquidAry[a].setMol(r*i)}}t.isLiquidMedBottle||this.execute(NBCommand.GLASS_BAR_MIXER,{dis:this,event:e})}}}},{key:"checkGlassBarDistance",value:function(){var e=this.getEqLayer(),t=[];if(this.parent===e){for(var i,n,a,r,o,s,l,h=0;h<e.children.length;h++)e.children[h]&&e.children[h]!==this&&"GlassBar"===e.children[h].name&&((i={}).ori=e.children[h],i.distance=Math.pow(i.ori.x-this.x,2)+Math.pow(i.ori.y-this.y,2),t.push(i));t.length<1||(t.sort(function(e,t){return e.distance-t.distance}),(n=t[0]).distance<4e3&&this.checkReact(n.ori)&&(this.smokeParticle||this.getParticle(),a=this.localBounds.x+this.localBounds.width/2,r=this.x,o=this.y+this.height,s=n.ori.x,l=n.ori.y+n.ori.height,this.smokeParticle.position.set((r+s)/2+a,(o+l)/2),this.connectContainer=n))}}},{key:"checkReact",value:function(e){var t,i=this;if(!e||!e.medicine)return!1;if(t=e.medicine.liquidAry.find(function(e){return-1!==i.acidAry.indexOf(e.name)&&0<e.getMol()}),e=e.medicine.liquidAry.find(function(e){return-1!==i.alkaliAry.indexOf(e.name)&&0<e.getMol()}),t){if(i.medicine.liquidAry.find(function(e){return-1!==i.alkaliAry.indexOf(e.name)&&0<e.getMol()}))return!0}else if(e&&i.medicine.liquidAry.find(function(e){return-1!==i.acidAry.indexOf(e.name)&&0<e.getMol()}))return!0;return!1}},{key:"distanceListen",value:function(e,t){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}},{key:"getParticle",value:function(){return this.smokeParticle=ParticleUtil.getParticle(ParticleUtil.particles.mg_burn_smoke),this.smokeParticle.alpha=.5,this.getViewStack().addChild(this.smokeParticle),this.smokeParticle.allowGetBounds=!1,this.smokeParticle}},{key:"getSortDisHitObjects",value:function(e,t,i){var a=this,i=(0,s.default)((0,c.default)(GlassBar.prototype),"getSortDisHitObjects",this).call(this,e,t,i);return i.forEach(function(e){var t,i,n;f.getHitProperty(a.name,e.objB.name)?e.dis=(t=a.getBottomPoint(!0),i=e.objB.toGlobal(new PIXI.Point),n=t.x-i.x,i=t.y-i.y,n*n+i*i):e.dis=r.default}),i.sort(function(e,t){return e.dis-t.dis})}},{key:"hasH2SO4",value:function(){if(this.medicine&&0<this.medicine.liquidAry.length)return this.medicine.liquidAry.find(function(e){return"H2SO4"===e.name&&0<e.getMol()})}},{key:"getBottomPoint",value:function(e){var t=this.originLocalBounds,i=t.x,n=t.y,a=t.width,t=t.height,t=new PIXI.Point(i+a/2,n+t);return t=e?this.toGlobal(t):t}},{key:"increaseTemp",value:function(e,t){this.heatCount<2e3&&(this.heatCount+=10);var i=this.getViewStack().scale.x,n=e.x+e.width/2,a=e.y+e.height/2+150,e=this.toGlobal(this.heatPoint),e=(200-(Math.abs(n-e.x)+Math.abs(a-e.y))/i)/100,i=t*(e=(e=1<e?1:e)<0?0:e),t=this.currentTemp;i<t||(this.currentTemp=t=300<(t=i<(t+=1.5*e)?i:t)?300:t)}},{key:"update",value:function(e){var t;(0,s.default)((0,c.default)(GlassBar.prototype),"update",this).call(this,e),0<this.heatCount&&(this.heatCount--,"AsbestosFreeWireGauzeSpecil"===this.parent.name&&this.parent.eqHeat(500)),this.medicineVolatilize(),this.smokeParticle&&this.smokeParticle.parent&&(this.connectContainer&&this.connectContainer.ori.medicineVolatilize(500),this.medicineVolatilize(500),this.smokeParticle.render(),(4e3<this.distanceListen(this,this.connectContainer.ori)||!this.checkReact(this.connectContainer.ori))&&(this.smokeParticle.destroy(),this.smokeParticle=null,this.connectContainer=null)),this.stirring(),this.currentTemp>nb.DEFAULT_TEMP&&(t=this.toGlobal(this.heatPoint),this.newRadiantHeat(nb.ALCOHOL_HEAT_VALUE*this.currentTemp/nb.TEMP_ALCOHOL,new PIXI.Rectangle(t.x-50,t.y-50,100,100),e,500,!1,!0),e=this.currentTemp-.5,this.currentTemp=e<nb.DEFAULT_TEMP?nb.DEFAULT_TEMP:e)}},{key:"checkLockGlassBar",value:function(){var e=this.getSelfParent();e&&e.isBaseContainer&&e.liquidVertex.length&&5<this.getBottomPoint(!0).y-e.liquidVertex[0].y&&this.lockGlassBar()}},{key:"lockGlassBar",value:function(){this.stirTimer&&(clearTimeout(this.stirTimer),this.stirTimer=null),this.stopStir(),this.stirBtn.visible=!1,this.shortStirBtn.visible=!1,m.removeDrag(this)}},{key:"eqPrepareDelete",value:function(){(0,s.default)((0,c.default)(GlassBar.prototype),"eqPrepareDelete",this).call(this),this.smokeParticle&&(this.smokeParticle.destroy(),this.smokeParticle=null)}}]),GlassBar}();e.exports=GlassBar},function(e,t,i){e.exports=i(1160)},function(e,t,i){i(1161),e.exports=9007199254740991},function(e,t,i){i=i(38);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,i){"use strict";var a=i(4),n=i(0),s=n(i(46)),r=n(i(1)),o=n(i(2)),l=n(i(19)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),i=function(){(0,h.default)(i,p);var t=d(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,l.default)(e))}),e}return(0,o.default)(i,[{key:"redoAdd",value:function(){function e(e,t,i,n){e.addChild(t),((t._equipment=e).addedRubber=t).x=e.rubberPos.x,t.y=e.rubberPos.y,n?i.addedNode[0]=e:i.addedNode[1]=e,e.emit("appendEquipment",i)}this.left.x=10+this.x,this.left.y=this.y,e(this.left,this.rubber.leftHead,this.rubber,!0),e(this.right,this.rubber.rightHead,this.rubber,!1)}},{key:"creationComplete",value:function(){var e=this;this.left=this.execute(NBCommand.CREATE_EQUIPMENT,"StraightGlassCatheter"),this.right=this.execute(NBCommand.CREATE_EQUIPMENT,"StraightGlassCatheter"),this.rubber=this.execute(NBCommand.CREATE_EQUIPMENT,"GlassRubberCatheter");var t=!(this.executeEq=[this.left,this.right,this.rubber]),i=!1,n=!1;this.rubber.on("creationComplete",function(){t=!0,i&&o(e.left,e.rubber.leftHead,e.rubber,!0),n&&o(e.right,e.rubber.rightHead,e.rubber,!1),e.rubber.leftCatheter=e.left,e.rubber.rightCatheter=e.right}),this.left.on("creationComplete",function(){e.left.x=10+e.x,e.left.y=e.y,e.left.scale.x*=-1,(0,s.default)(e.left.rotateSpriteIcon,"enabled",{set:function(){},get:function(){}}),i=!0,t&&o(e.left,e.rubber.leftHead,e.rubber,!0)}),this.right.on("creationComplete",function(){e.right.x=550+e.x,e.right.y=e.y,(0,s.default)(e.right.rotateSpriteIcon,"enabled",{set:function(){},get:function(){}}),n=!0,t&&o(e.right,e.rubber.rightHead,e.rubber,!1)}),this.cannotSystemDrag=!0,NBDrag.addDrag(this.left),NBDrag.addDrag(this.right);var a=this.getViewStack(),r=this;function o(e,t,i,n){e.addChild(t),((t._equipment=e).addedRubber=t).x=e.rubberPos.x+(n?-20:25),t.y=e.rubberPos.y+30,n?i.addedNode[0]=e:i.addedNode[1]=e,a.addChildAt(r.rubber,0),a.addChild(r.left),a.addChild(r.right),setTimeout(function(){i.dragEndHandler({target:i.rightHead}),i.dragEndHandler({target:i.leftHead})},10)}this.left.broCatheter=this.right,this.left.linkRubber=this.rubber,this.right.linkRubber=this.rubber,this.right.broCatheter=this.left,this.left.on(NBEvent.del.PREPARE_DELETE,function(){e.linkRubber&&(e.linkRubber.leftCatheter=null,e.linkRubber.rightCatheter=null),e.left.broCatheter&&(e.right.linkRubber=null,e.right.broCatheter=null,e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e.left.broCatheter,e.left.linkRubber]}),e.left.broCatheter=null,e.left.linkRubber=null)}),this.right.on(NBEvent.del.PREPARE_DELETE,function(){e.linkRubber&&(e.linkRubber.leftCatheter=null,e.linkRubber.rightCatheter=null),e.right.broCatheter&&(e.left.linkRubber=null,e.left.broCatheter=null,e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e.right.broCatheter,e.right.linkRubber]}),e.right.broCatheter=null,e.right.linkRubber=null)})}}]),i}();e.exports=i},function(e,t,GlassCatheterLeft){"use strict";var a=GlassCatheterLeft(4),i=GlassCatheterLeft(0),n=i(GlassCatheterLeft(1)),r=i(GlassCatheterLeft(2)),o=i(GlassCatheterLeft(7)),s=i(GlassCatheterLeft(5)),l=i(GlassCatheterLeft(6)),h=i(GlassCatheterLeft(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=GlassCatheterLeft(85),d=GlassCatheterLeft(203),GlassCatheterLeft=function(){(0,s.default)(GlassCatheterLeft,u);var e=c(GlassCatheterLeft);function GlassCatheterLeft(){return(0,n.default)(this,GlassCatheterLeft),e.call(this)}return(0,r.default)(GlassCatheterLeft,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(GlassCatheterLeft.prototype),"creationComplete",this).call(this),this.init(),this.lineFix={true:2.5,false:0},this.initWhiff(),this.pointAry=[this.ropePoint[1],{x:-1,y:25},{x:0,y:22},{x:2,y:19.5},{x:3.5,y:17.7},{x:8,y:13.9},{x:13,y:12},{x:118,y:12}],this.initLines()}},{key:"init",value:function(){var e=this;this.ropePoint=[{x:-1,y:61.5},{x:-1,y:62.5}],this.ropeTexture.visible=!1,this.ropeTexture.allowGetBounds=!1;var t=new PIXI.mesh.Rope(PIXI.Texture.fromFrame("GlassCatheterLeft/catheterSoftLeft.png"),this.ropePoint);setTimeout(function(){e.addChild(t)},200),this.updateTransform();var i=this.getLocalBounds();this.fireParticlePos=[{x:i.width,y:12,rotation:0,waterParticle:null,particle:null,bindAttr:"addedRubber",direction:!0},{x:0,y:i.height,rotation:Math.PI/2,waterParticle:null,particle:null,bindAttr:"addedBottle",direction:!1}],this.isLeft=1,this.rubberPos={x:this.width,y:12},this.initExtendSprite()}},{key:"currentLeft",get:function(){return 1===this.scale.x},set:function(e){}},{key:"initExtendSprite",value:function(){this.extendSprite=new d(this,{x:this.ropePoint[1].x,y:this.ropePoint[1].y,angle:-Math.PI/2}),this.extendSprite.setEnabled(!0)}}]),GlassCatheterLeft}();e.exports=GlassCatheterLeft},function(e,t,GlassCatheterRight){"use strict";var a=GlassCatheterRight(4),i=GlassCatheterRight(0),n=i(GlassCatheterRight(1)),r=i(GlassCatheterRight(2)),o=i(GlassCatheterRight(7)),s=i(GlassCatheterRight(5)),l=i(GlassCatheterRight(6)),h=i(GlassCatheterRight(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=GlassCatheterRight(85),d=GlassCatheterRight(203),GlassCatheterRight=function(){(0,s.default)(GlassCatheterRight,u);var e=c(GlassCatheterRight);function GlassCatheterRight(){return(0,n.default)(this,GlassCatheterRight),e.call(this)}return(0,r.default)(GlassCatheterRight,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(GlassCatheterRight.prototype),"creationComplete",this).call(this),this.init(),this.initWhiff(),this.lineFix={true:-.5,false:0},this.pointAry=[this.ropePoint[1],{x:-1.5,y:25},{x:-4,y:20},{x:-7,y:17},{x:-14,y:13},{x:-22,y:12},{x:-30,y:11.5},{x:-121,y:11.5}],this.initLines()}},{key:"init",value:function(){var e=this;this.ropeTexture.visible=!1,this.ropeTexture.allowGetBounds=!1,this.ropePoint=[{x:-1.5,y:61.5},{x:-1.5,y:62.5}];var t=new PIXI.mesh.Rope(PIXI.Texture.fromFrame("GlassCatheterRight/Bitmap 2"),this.ropePoint);setTimeout(function(){e.addChild(t)},200),this.updateTransform();var i=this.getLocalBounds();this.fireParticlePos=[{x:-i.width,y:12,rotation:Math.PI,waterParticle:null,particle:null,bindAttr:"addedRubber",direction:!0},{x:-2,y:i.height,rotation:Math.PI/2,waterParticle:null,particle:null,bindAttr:"addedBottle",direction:!1}],this.isLeft=0,this.rubberPos={x:-this.width,y:12},this.initExtendSprite()}},{key:"currentLeft",get:function(){return-1===this.scale.x},set:function(e){}},{key:"initExtendSprite",value:function(){this.extendSprite=new d(this,{x:this.ropePoint[1].x,y:this.ropePoint[1].y,angle:-Math.PI/2}),this.extendSprite.setEnabled(!0)}}]),GlassCatheterRight}();e.exports=GlassCatheterRight},function(e,t,GlassPiece){"use strict";var a=GlassPiece(4),i=GlassPiece(0),n=i(GlassPiece(9)),r=i(GlassPiece(1)),o=i(GlassPiece(2)),s=i(GlassPiece(7)),l=i(GlassPiece(5)),h=i(GlassPiece(6)),c=i(GlassPiece(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=GlassPiece(8),p=GlassPiece(1166),f=GlassPiece(26),I=GlassPiece(31),g=GlassPiece(32),GlassPiece=function(){(0,l.default)(GlassPiece,d);var t=u(GlassPiece);function GlassPiece(){var e;return(0,r.default)(this,GlassPiece),(e=t.call(this)).name="GlassPiece",e.startCalcTime=!1,e.calcTime=0,e.particleCalcTime=0,I.register(g.THERMOMETER),I.register(g.BOOM),e.on(NBEvent.del.PREPARE_DELETE,e.clear),e.smokeColor=null,e.currentGlass=null,e}return(0,o.default)(GlassPiece,[{key:"creationComplete",value:function(){var t=this;(0,s.default)((0,c.default)(GlassPiece.prototype),"creationComplete",this).call(this),this.children.forEach(function(e){e!==t[t.currentGlass]&&(e.visible=!1)}),this.currentGlass?(this[this.currentGlass].alpha=1,this[this.currentGlass].allowGetBounds=!0,this.initBoomParticle("small")):this.startCalcTime&&this.initBoomParticle(this.boomType);var e=g.THERMOMETER;"ball"===this.boomType&&(e=g.BOOM),I.play(e).volume=.2,this.originLocalBounds=this.getLocalBounds()}},{key:"initBoomParticle",value:function(e){var t={x:this.targetLocalBounds.width/2,y:this.targetLocalBounds.height/2};t.x+=this.targetLocalBounds.x,t.y+=this.targetLocalBounds.y,(t=f.rotatePoly([t],this.rotation)[0]).x+=this.position.x,t.y+=this.position.y,this.boomParticle=new p(this,e,t)}},{key:"setBigBoom",value:function(e){this.startCalcTime=!0,this.boomType=e}},{key:"setCurrentGlass",value:function(e){this.currentGlass=e}},{key:"setSmokeColor",value:function(e){this.smokeColor=e}},{key:"update",value:function(e){(0,s.default)((0,c.default)(GlassPiece.prototype),"update",this).call(this,e),this.particleCalcTime<150&&this.boomParticle&&(this.boomParticle.render(),this.particleCalcTime++),this.startCalcTime&&(150<this.calcTime&&this.destroy(),this.calcTime++)}},{key:"clear",value:function(){this.boomParticle&&this.boomParticle.destroy()}},{key:"toJSON",value:function(){return(0,n.default)({currentGlass:this.currentGlass,startCalcTime:this.startCalcTime},(0,s.default)((0,c.default)(GlassPiece.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(GlassPiece.prototype),"setJSON",this).call(this,e),e.currentGlass?(this[e.currentGlass].visible=!0,this[e.currentGlass].alpha=1,this[e.currentGlass].allowGetBounds=!0,this.originLocalBounds=this.getLocalBounds(),this.currentGlass=e.currentGlass):e.startCalcTime&&this.destroy()}}]),GlassPiece}();e.exports=GlassPiece},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(1)),s=n(i(2)),l=n(i(5)),r=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var u=i(34),i=function(e){(0,l.default)(r,e);var a=c(r);function r(t,e,i){var n;return(0,o.default)(this,r),(n=a.call(this)).medicine=null,n.equipment=t,n.viewStack=n.equipment.getViewStack(),"DustExplode"!==t.currentGlass&&!t.smokeColor||(e="DustExplode"===t.currentGlass?"huge":e,n.boomWave=u.getParticle(u.particles.boomWave),n.boomWave.allowGetBounds=!1,n.equipment.getViewStack().addChildWithSamePos(n.boomWave),n.boomWave.on("particle_load",function(){var e=t.smokeColor;n.boomWave.setParticleProp("startColor",[e>>16,e>>8&255,255&e]),n.boomWave.setParticleProp("endColor",[e>>16,e>>8&255,255&e])}),n.boomWave.x=i.x,n.boomWave.y=i.y),n.particle=u.getParticle(u.particles["".concat(e,"_Boom")]),n.particle.allowGetBounds=!1,n.equipment.getViewStack().addChildWithSamePos(n.particle),n.particle.x=i.x,n.particle.y=i.y,n.inStage=!0,n}return(0,s.default)(r,[{key:"render",value:function(e){this.particle.render(e,!0),this.boomWave&&this.boomWave.render(e,!0)}},{key:"destroy",value:function(){this.parent&&this.parent.removeChild(this);try{this.particle&&(this.particle.parent.removeChild(this.particle),this.particle.destroy()),this.boomWave&&(this.boomWave.parent.removeChild(this.boomWave),this.boomWave.destroy())}catch(e){}}}]),r}(PIXI.Container);e.exports=i},function(e,t,GlassRubberCatheter){"use strict";var a=GlassRubberCatheter(4),i=GlassRubberCatheter(0),n=i(GlassRubberCatheter(9)),r=i(GlassRubberCatheter(46)),o=i(GlassRubberCatheter(1)),s=i(GlassRubberCatheter(2)),l=i(GlassRubberCatheter(7)),h=i(GlassRubberCatheter(5)),c=i(GlassRubberCatheter(6)),u=i(GlassRubberCatheter(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var RubberCatheter=GlassRubberCatheter(146),GlassRubberCatheter=function(){(0,h.default)(GlassRubberCatheter,RubberCatheter);var t=d(GlassRubberCatheter);function GlassRubberCatheter(e){return(0,o.default)(this,GlassRubberCatheter),(e=t.call(this,e)).name="GlassRubberCatheter",e.CNName="玻璃管",e.fromFrameImage="".concat(e.name,"/rope"),e.straight=8,e._leftCatheter=null,e._rightCatheter=null,e}return(0,s.default)(GlassRubberCatheter,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(GlassRubberCatheter.prototype),"creationComplete",this).call(this),NBDrag.removeDrag(this.leftHead),NBDrag.removeDrag(this.rightHead),setTimeout(function(){e.updateLocalBounds()},150),this.addRubberEvent()}},{key:"leftCatheter",get:function(){return this._leftCatheter},set:function(e){this._leftCatheter=e,this.hideBtn(this._leftCatheter),this.updateLocalBounds(),this.addCatheterEvent(this._leftCatheter)}},{key:"rightCatheter",get:function(){return this._rightCatheter},set:function(e){this._rightCatheter=e,this.hideBtn(this._rightCatheter),this.updateLocalBounds(),this.addCatheterEvent(this._rightCatheter)}},{key:"addCatheterEvent",value:function(e){e.on(NBDrag.event.DRAG_MOVE,this.updateLocalBounds.bind(this)),e.on(NBEvent.SELECTED,this.selectedRubber.bind(this))}},{key:"addRubberEvent",value:function(){var t=this;this.ropeRubber.on(NBDrag.event.DRAG_MOVE,this.updateLocalBounds.bind(this)),this.ropeRubber.on(NBDrag.event.DRAG_MOVE,this.hideAllBtn.bind(this)),this.ropeRubber.on(NBDrag.event.DRAG_MOVE,function(){this.root.emit(NBEvent.communicate.angular.EQ_DRAG_MOVE)}.bind(this)),this.on(NBEvent.SELECTED,this.showAllBtn.bind(this)),this.root.on(NBEvent.communicate.angular.SHOW_EQ_ATTRIBUTE,this.checkShowAttr.bind(this)),this.root.on(NBEvent.communicate.angular.RIGHT_MOUSE_DOWN,this.hideAllBtn.bind(this)),this.on(NBEvent.del.DELETE,function(){t.root.removeEventListener(NBEvent.communicate.angular.SHOW_EQ_ATTRIBUTE,t.checkShowAttr.bind(t)),t.root.removeEventListener(NBEvent.communicate.angular.RIGHT_MOUSE_DOWN,t.hideAllBtn.bind(t));var e=[t.leftCatheter,t.rightCatheter];t.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:e,forceDelete:e})})}},{key:"checkShowAttr",value:function(e){e!==this.leftCatheter&&e!==this.rightCatheter&&e!==this&&this.hideAllBtn()}},{key:"selectedRubber",value:function(){var e=this;this.root.emit(NBEvent.communicate.angular.SHOW_EQ_ATTRIBUTE,this),setTimeout(function(){e.root.viewStack.selectionLayer.selectedObj=[e],nb.currentConfigEq=e},10),this.showAllBtn()}},{key:"changedBoundsAndFreshSelect",value:function(){this.updateLocalBounds();var e=this.getViewStack(),t=e.selectionLayer.selectedObj;t&&t.includes(this)&&e.topLayer.renderSelectedObj(t,!0)}},{key:"updateLocalBounds",value:function(){var e,t,i,n,a;this.leftCatheter&&this.rightCatheter&&(n=this.leftCatheter.getBounds(),a=this.rightCatheter.getBounds(),e=[n.x,n.x+n.width,a.x,a.x+a.width],t=[n.y,n.y+n.height,a.y,a.y+a.height],i=Math.min.apply(Math,e),n=Math.min.apply(Math,t),a={x:(i-(a=this.root.viewStack).x)/a.scale.x,y:(n-a.y)/a.scale.y,width:(Math.max.apply(Math,e)-i)/a.scale.x,height:(Math.max.apply(Math,t)-n)/a.scale.y},this.x=this.y=0,this.originLocalBounds=a)}},{key:"hideBtn",value:function(e){e.rotateSpriteIcon&&(e.rotateSpriteIcon.setEnabled(!1),delete e.rotateSpriteIcon)}},{key:"hideAllBtn",value:function(){this.leftCatheter&&this.leftCatheter.extendSprite&&this.leftCatheter.extendSprite.hideButton(),this.rightCatheter&&this.rightCatheter.extendSprite&&this.rightCatheter.extendSprite.hideButton()}},{key:"showAllBtn",value:function(){this.leftCatheter&&this.leftCatheter.extendSprite&&this.leftCatheter.extendSprite.showButton(),this.rightCatheter&&this.rightCatheter.extendSprite&&this.rightCatheter.extendSprite.showButton()}},{key:"toJSON",value:function(){return(0,n.default)((0,l.default)((0,u.default)(GlassRubberCatheter.prototype),"toJSON",this).call(this),{leftCatheter:this.leftCatheter&&this.leftCatheter.getUUID?this.leftCatheter.getUUID():this.leftCatheter,rightCatheter:this.rightCatheter&&this.rightCatheter.getUUID?this.rightCatheter.getUUID():this.rightCatheter})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(GlassRubberCatheter.prototype),"setJSON",this).call(this,e),e.leftCatheter&&this.getEquipmentByUUID(e.leftCatheter).then(function(e){t.leftCatheter=e,(0,r.default)(e.rotateSpriteIcon,"enabled",{set:function(){},get:function(){return!1}})}),e.rightCatheter&&this.getEquipmentByUUID(e.rightCatheter).then(function(e){t.rightCatheter=e,(0,r.default)(e.rotateSpriteIcon,"enabled",{set:function(){},get:function(){return!1}})}),setTimeout(function(){t.addedNode.forEach(function(e){TweenMax.to(e,.1,{y:"+=1",onComplete:function(){--e.y,t.hideBtn(e)}})})},500)}}]),GlassRubberCatheter}();e.exports=GlassRubberCatheter},function(e,t,GlassSheet){"use strict";var a=GlassSheet(4),i=GlassSheet(0),n=i(GlassSheet(24)),r=i(GlassSheet(1)),o=i(GlassSheet(2)),s=i(GlassSheet(7)),l=i(GlassSheet(5)),h=i(GlassSheet(6)),c=i(GlassSheet(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=GlassSheet(10),p=GlassSheet(8),f=GlassSheet(33),Flume=GlassSheet(266),WoodenStick=GlassSheet(416),I=GlassSheet(85),g=GlassSheet(21),m=GlassSheet(180).gasBottleHitData,y={GasCollectingBottle:{bottleLibWidth:95,left:-143,right:42},BaseGasMedicine:{bottleLibWidth:95,left:-143,right:42},BigBeaker:{bottleLibWidth:200,left:-83,right:2},SmallBeaker:{bottleLibWidth:133,left:-142,right:1}},v={GasCollectingBottle:{x:50,width:124},BaseGasMedicine:{x:50,width:124},SmallBeaker:{x:0,width:169},BigBeaker:{x:0,width:227}},C=PIXI.Point,GlassSheet=function(){(0,l.default)(GlassSheet,d);var t=u(GlassSheet);function GlassSheet(){var e;return(0,r.default)(this,GlassSheet),(e=t.call(this)).name="GlassSheet",e.CNName="玻璃片",e.isSheet=!0,e.z_index=17,e.medContainerIndex="top",e.pU=new C(154,-45),e.pM=new C(154,-25),e.addSolidMedPos=new C(154,-25),e}return(0,o.default)(GlassSheet,[{key:"creationComplete",value:function(){this.blowMc.allowGetBounds=!1,(this.medRef.allowGetBounds=!1,s.default)((0,c.default)(GlassSheet.prototype),"creationComplete",this).call(this),this.noPascal=!0,this.on("hitted",this._toCover_),this.on("dragObjComplete",this._addBeaker_),this._onlyGetHitMessage=!0,this.waterDrip.alpha=0,this.noLiquidGra=!0,this.blowMc.visible=!1}},{key:"hitReact",value:function(e){var i=this,n=this;e.forEach(function(e){var t;"H2O"===e.name&&(t=i.medicineManager.getMedicineData("H2O"),e=new f(t,e.getMol()),(!n.medicineData.getMedVo("H2O","liquid")||n.medicineData.getMedVo("H2O","liquid").getMol()<.2)&&n.medicineData.push(e))})}},{key:"_toCover_",value:function(e){var t,i,IronSheet,n,a=e.hitObj;(!(0<a.addedNode.length)||1===a.addedNode.length&&a.addedNode[0]instanceof Flume||a.addedNode[0]instanceof I||m[a.addedNode[0].name])&&(a.parent.isGasBottle||(i=-50,n=10,(t=this)==a||this.currentHitObj==a||0!=a.isCoverGS&&null!=a.isCoverGS||!this._canCover_(a)||TweenMax.isTweening(this)||TweenMax.isTweening(a)||a.isFull()||(this.parent.isGasBottle&&(this._cancelDragRect_(),this._mouseUp_()),a.isCoverGS=!0,NBDrag.removeDrag(this),(this.currentHitObj=a).addChildAtWithSamePos(this,a.children.length-1),i={x:(e=a.localBounds).x+i,y:e.y-t.height/2+n,rotation:0},e=a.children.find(function(e){return m[e.name]||e.isGlassCatheter}),(IronSheet=a.children.find(function(e){return"IronSheet"===e.name}))?(a.isCoverGS=!1,i.x=155,i.rotation=1.6,i.y=-217.85):e&&(n=m[e.name]||{leftOffset:0,rightOffset:0},(e=e.x-(e.limitRotateType?e.pivot.x:0))+n.leftOffset<110?i.x=e+n.leftOffset:i.x=e-t.width+n.leftOffset),TweenMax.to(this,.3,{x:i.x,y:i.y,rotation:i.rotation,onComplete:function(){IronSheet?(a.insertSheet=!0,NBDrag.addDrag(t),t.once(NBDrag.event.PREPARE_DRAG,function(){t.eqAddToViewStack(),t.rotation=0,a.insertSheet=null,t.currentHitObj=null})):(t._setDragRect_(a),t.filtration={x:0,y:10},NBDrag.addDrag(t,t.dragRect,null,null,null,t.filtration),t._addEvents_(),t.listenBottleLidArea(),t.addEventListener(NBDrag.event.DRAG_MOVE,t.listenBottleLidArea),t.addEventListener(NBDrag.event.DRAG_MOVE,t.glassSheetLimitByGlassCatheter))}}))))}},{key:"listenBottleLidArea",value:function(){var e,t=this.parent,i=y[t.name];i&&(this.x<i.left?(e=Math.abs(this.x-i.left)/i.bottleLibWidth,t.openDirection="left"):this.x>i.right?(e=Math.abs(this.x-i.right)/i.bottleLibWidth,t.openDirection="right"):(t.openDirection=null,e=0),(!t.openDirection||t.openDirection&&0<e)&&this.root.resetPascalNode(),t.openArea=e)}},{key:"_addBeaker_",value:function(e){var t=this,e=e.dragObj;this._isFullObj_=e,this._isFullObj_.addEventListener(NBDrag.event.PREPARE_DRAG,function(){t._isFullObj_=null})}},{key:"listenWaterTemp",value:function(){var e,t,i=this.medicineData.getMedVo("H2O","liquid",!1);this._isFullObj_&&i&&((e=this._isFullObj_).medicineData.getMedVo("H2O","liquid")&&(t=e.medicineData.getMedVo("H2O","liquid").getTemp(),i.setTemp(t),t<0?(i.setTemp(0),e.interactive=!1):e.interactive=!0))}},{key:"isCold",value:function(e){return!!(e.medicineData.getMedVo("H2O","liquid")&&e.medicineData.getMedVo("H2O","liquid").getTemp<0)}},{key:"_canCover_",value:function(e){for(var t=0;t<e.children.length;t++){if(e.children[t]instanceof p&&(e.children[t].isRubberPlug||e.ifExistTong))return!1;if(e.children[t]instanceof WoodenStick)return!1}return!0}},{key:"_setDragRect_",value:function(e){v[e.constructor.name]&&(e=v[e.constructor.name],this.dragRect={x:e.x-this.localBounds.width+30,y:this.y,width:this.localBounds.width+e.width-60,height:0})}},{key:"_addEvents_",value:function(){this.on("outLeftBounds",this._cancelDragRect_),this.on("outRightBounds",this._cancelDragRect_),this.on("outTopBounds",this._cancelDragRect_),this.on("outBottomBounds",this._cancelDragRect_),this.addEventListener(TouchEvent.TOUCH_END,this._mouseUp_),this.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,this._mouseUp_)}},{key:"_cancelDragRect_",value:function(){this.dragRect&&(this.dragRect.enabled=!1),this.filtration.enabled=!1,this.removeEventListener(NBDrag.event.DRAG_MOVE,this.listenBottleLidArea),this.removeEventListener(NBDrag.event.DRAG_MOVE,this.glassSheetLimitByGlassCatheter)}},{key:"_removeEvents_",value:function(){this.removeEventListener("outLeftBounds",this._cancelDragRect_),this.removeEventListener("outRightBounds",this._cancelDragRect_),this.removeEventListener("outTopBounds",this._cancelDragRect_),this.removeEventListener("outBottomBounds",this._cancelDragRect_),this.removeEventListener(TouchEvent.TOUCH_END,this._mouseUp_),this.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,this._mouseUp_)}},{key:"_mouseUp_",value:function(){this.viewStack!=this.root.viewStack&&this.dragRect&&0==this.dragRect.enabled&&!TweenMax.isTweening(this)&&(this.root.viewStack.addChildWithSamePos(this),this.currentHitObj.isCoverGS=!1,this.root.resetPascalNode(),this.currentHitObj=void 0,this._removeEvents_())}},{key:"evaporate",value:function(){var e=this.medicineManager.getMedicineData("H2O");9e-6<this.medicineData.getLiquidMol()&&(e=new f(e,-4e-6),this.medicineData.push(e))}},{key:"getGasMedicineInfo",value:function(){var e,t;return this.gasAry||(e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),e=new GasVO(e,20),t=new GasVO(t,80),this.gasAry=[e,t]),this.gasAry[0].setMol(20),this.gasAry[1].setMol(80),(new n.default).set("O2",this.gasAry[0]).set("N2",this.gasAry[1])}},{key:"listenWaterSteam",value:function(){var e,t;!this.currentHitObj||(e=this.currentHitObj.medicineData.getMedVo("H2O","gas",!1))&&.8<e.getMol()/this.currentHitObj.medicineData.getGasMol()&&(t=e.getMol()*(e.getMol()/this.currentHitObj.medicineData.getGasMol()-.8),this.medicineData.addLiquidMedicine("H2O",t),e.setMol(e.getMol()-t))}},{key:"setReactStatus",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;(0,s.default)((0,c.default)(GlassSheet.prototype),"setReactStatus",this).call(this,e,t);var i,n,t=this.medicineNBGraphicMap.get("P");"P_O2"===e.Name&&t&&0<t.size&&(this.PSmokeParticle||(this.PSmokeParticle=ParticleUtil.getParticle(ParticleUtil.particles.red_lin_smoke),n=i=0,t.forEach(function(e){i+=e.x,n+=e.y}),i/=t.size,n/=t.size,this.addChild(this.PSmokeParticle),this.PSmokeParticle.allowGetBounds=!1,this.PSmokeParticle.x=i,this.PSmokeParticle.y=n),this.PSmokeCount=20)}},{key:"startBlow",value:function(){var e=this;this.isBlowing||(this.isBlowing=!0,this.blowMc.visible=!0,setTimeout(function(){e.isBlowing=!1,e.blowMc.visible=!1},2e3))}},{key:"blowing",value:function(){var e=this.medicineManager.getMedicineData("H2O"),e=new GasVO(e,.001);this.hitReact([e])}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(GlassSheet.prototype),"setJSON",this).call(this,e);e=this;e.currentHitObj&&(e.filtration={x:0,y:10},NBDrag.addDrag(e,e.dragRect,null,null,null,e.filtration),e._addEvents_(),e.addEventListener(NBDrag.event.DRAG_MOVE,e.listenBottleLidArea),e.addEventListener(NBDrag.event.DRAG_MOVE,e.glassSheetLimitByGlassCatheter))}},{key:"update",value:function(e){(0,s.default)((0,c.default)(GlassSheet.prototype),"update",this).call(this,e),this.listenWaterTemp(),this.listenWaterSteam(),this.isBlowing&&this.blowing(),this._isFullObj_||this.evaporate(),this.medicineData.getMedVo("H2O","liquid")?this.waterAlpha=this.medicineData.getMedVo("H2O","liquid").getMol()/nb.GLASSSHEET_WATER_MAXNUM:this.waterAlpha=0,this.waterAlpha=1<this.waterAlpha?1:this.waterAlpha,this.waterDrip.alpha=this.waterAlpha,this.PSmokeParticle&&(0<this.PSmokeCount?(this.PSmokeParticle.render(),this.PSmokeCount--):(this.root.particleManager.destroy(this.PSmokeParticle,1),this.PSmokeParticle=null))}},{key:"getConfigureData",value:function(){var e=this,t=(0,s.default)((0,c.default)(GlassSheet.prototype),"getConfigureData",this).call(this);return t.confArr.push(g.getButton("blow","哈气",function(){e.startBlow()},this)),t}}]),GlassSheet}();e.exports=GlassSheet},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(1)),s=n(i(2)),l=n(i(5)),r=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,r.default)(this,t)}}var u=i(34),d=i(31),p=i(32),i=function(e){(0,l.default)(r,e);var a=c(r);function r(e,t,i){var n;return(0,o.default)(this,r),(n=a.call(this)).tube=i,d.register(p.BUBBLING),n.container=e,n.particle=t||u.getParticle(u.particles.catheter_bulle),e.addChild(n.particle),n.lostBubbleCount=0,n.particleRemoved=!1,n.mol=0,n.container.bubbleSound=null,n.soundIntervalID=null,e.parent.addChild(e),n}return(0,s.default)(r,[{key:"updateMedicine",value:function(e,t,i){this.medicine=e,this.mol=t,this.particle&&(this.particle.x=i.x,this.particle.y=i.y,this.particle.rotation=i.rotation)}},{key:"render",value:function(){var e,t=this;this.medicine&&(e=this.tube&&this.tube.medicine&&this.tube.medicine.liquidAry&&this.tube.medicine.liquidAry.vol?this.tube.medicine.liquidAry.vol:null,1e-18<this.mol&&!e?(this.lostBubbleCount=0,e=(e=8e5*this.mol)<2?2:e,this.particle.setParticleProp("maxParticles",e=150<e?150:e),this.particle.setParticleProp("frequency",1/e),this.particle.render(),null==this.container.bubbleSound&&(this.container.bubbleSound=d.play(p.BUBBLING,null,null,null,-1)),clearTimeout(this.soundIntervalID),this.container.bubbleSound.play(),this.soundIntervalID=setTimeout(function(){t.container.bubbleSound&&(t.container.bubbleSound._pause(),t.container.bubbleSound=null)},100)):this.destroy())}},{key:"destroy",value:function(e){if(this.lostBubbleCount++,5<this.lostBubbleCount||e){this.particle.parent&&this.particle.parent.removeChild(this.particle);try{this.particle&&(this.container.bubbleSound._pause(),this.container.bubbleSound=null,this.particle.parent.removeChild(this.particle),this.particle.destroy())}catch(e){}this.particleRemoved=!0}}}]),r}(PIXI.Container);e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),w=n(i(7)),l=n(i(5)),h=n(i(6)),B=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,B.default)(i);return t=n?(e=(0,B.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var u=i(8),i=function(){(0,l.default)(S,u);var t=c(S);function S(){var e;return(0,r.default)(this,S),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(S,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){(0,w.default)((0,B.default)(S.prototype),"creationComplete",this).call(this);var e=this,t=this.getViewStack(),i=this.execute(NBCommand.CREATE_EQUIPMENT,"AlcoholBurner"),n=this.execute(NBCommand.CREATE_EQUIPMENT,"IronSupport"),a=this.execute(NBCommand.CREATE_EQUIPMENT,"IronClampSideLook"),r=this.execute(NBCommand.CREATE_EQUIPMENT,"RoundBottomFlask"),o=this.execute(NBCommand.CREATE_EQUIPMENT,"SeparatingFunnelBulbShape"),s=this.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig"),l=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),h=this.execute(NBCommand.CREATE_EQUIPMENT,"IronRing"),c=this.execute(NBCommand.CREATE_EQUIPMENT,"AsbestosFreeWireGauze"),u=!(e.executeEq=[i,n,a,r,o,s,l,h,c]),d=!1,p=!1,f=!1,I=!1,g=!1,m=!1,y=!1,v=!1,C=!1,M=!1,b=!1;function x(){h.addChild(c),c.x=33,c.y=-26}function O(){(h.currentHitObj=n).currentEqNum+=1,h.hitSupport=!0,n.addRing(h),h.y=310,h.x=h.dragRect.x,h.addEventListener(TouchEvent.TOUCH_END,h._mouseUp_),h.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,h._mouseUp_),b=!0,M&&n.updateEq(a)}function A(){(a.currentHitObj=n).currentEqNum+=1,a.hitSupport=!0,n.addIronClampSideLook(a),a.y=-8,a.x=a.dragRect.x,a.addEventListener(TouchEvent.TOUCH_END,a._mouseUp_),a.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,a._mouseUp_),NBDrag.addDrag(n,null,{bringToFront:!0}),M=!0,b&&n.updateEq(h)}function T(){var e=r.getHitProperty(s,r),t=0;e.offSetX&&(t=Number(e.offSetX));var i=Number(e.y);s.choicePlugScale(r,0);var n=Number(e.zIndex);((r.currentPlug=s).currentArea=r).addChildAt(s,n),s.x=Number(e.x)+t,s.y=Number(i),r.plugInit(s),r.addCoverBody(),NBDrag.addDrag(s),l.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:r,dragObj:l,fromSetJson:!0}),o.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:r,dragObj:o,fromSetJson:!0}),C=!0,a&&M&&r.hitToClampSide()}i.on("creationComplete",function(){t.addChild(i),i.x=e.x+16.55,i.y=e.y+504,u=!0,NBDrag.addDrag(i),d&&n&&i.eqStopDrag()}),n.on("creationComplete",function(){t.addChild(n),n.x=e.x,n.y=e.y,d=!0,y&&h&&O(),p&&a&&A(),u&&i&&i.eqStopDrag()}),a.on("creationComplete",function(){t.addChild(a),a.y=e.y-8,p=!0,d&&n&&A(),C&&r&&r.hitToClampSide()}),r.on("creationComplete",function(){t.addChild(r),r.x=e.x-87.75,r.y=e.y-145,f=!0,NBDrag.addDrag(r),m&&g&&l&&s&&I&&o&&T()}),o.on("creationComplete",function(){t.addChild(o),o.x=e.x-78,o.y=e.y-600,I=!0,NBDrag.addDrag(o),m&&g&&l&&s&&f&&r&&T()}),s.on("creationComplete",function(){t.addChild(s),g=!0,f&&m&&r&&l&&I&&o&&T()}),l.on("creationComplete",function(){t.addChild(l),m=!0,l.updateCurveGlass(Math.PI),l.x=e.x+52,l.y=e.y-190,NBDrag.addDrag(l),f&&g&&r&&s&&I&&o&&T()}),h.on("creationComplete",function(){t.addChild(h),h.y=e.y+310,y=!0,NBDrag.addDrag(h),v&&c&&x(),d&&n&&O()}),c.on("creationComplete",function(){t.addChild(c),v=!0,NBDrag.addDrag(c),y&&h&&x()})}}]),S}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),y=n(i(7)),l=n(i(5)),h=n(i(6)),v=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,v.default)(i);return t=n?(e=(0,v.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var u=i(8),i=function(){(0,l.default)(m,u);var t=c(m);function m(){var e;return(0,r.default)(this,m),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(m,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){var t=this;(0,y.default)((0,v.default)(m.prototype),"creationComplete",this).call(this);var s=this,i=this.getViewStack(),e=this.execute(NBCommand.CREATE_EQUIPMENT,"AlcoholBurner"),n=this.execute(NBCommand.CREATE_EQUIPMENT,"ElevatorPlatform"),l=this.execute(NBCommand.CREATE_EQUIPMENT,"IronClamp"),h=this.execute(NBCommand.CREATE_EQUIPMENT,"IronSupport"),a=!(s.executeEq=[e,n,l,h]),r=!1,c=!1,u=!1,d=!1,p=!1,f=!1,I=!1;function o(){n.topUp.addChild(e),e.x=9,e.y=-114}function g(){(l.currentHitObj=h).currentEqNum+=1,l.hitSupport=!0,h.addClamp(l),l.y=-50,l.x=l.dragRect.x,l.addEventListener(TouchEvent.TOUCH_END,l._mouseUp_),l.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,l._mouseUp_),NBDrag.addDrag(h,null,{bringToFront:!0}),I=!0}e.on("creationComplete",function(){i.addChild(e),a=!0,NBDrag.addDrag(e),r&&n&&o()}),n.on("creationComplete",function(){i.addChild(n),n.x=s.x-250,n.y=s.y+375,r=!0,NBDrag.addDrag(n),a&&e&&o()}),l.on("creationComplete",function(){i.addChild(l),l.y=s.y-50,c=!0,u&&h&&g();var a=t.execute(NBCommand.CREATE_EQUIPMENT,"BigTestTube"),r=t.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig"),o=t.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter");function e(){var e=a.getHitProperty(r,a),t=0;e.offSetX&&(t=Number(e.offSetX));var i=Number(e.y);r.choicePlugScale(a,0);var n=Number(e.zIndex);((a.currentPlug=r).currentArea=a).addChildAt(r,n),r.x=Number(e.x)+t,r.y=Number(i),a.plugInit(r),a.addCoverBody(),NBDrag.addDrag(r),o.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:o,fromSetJson:!0}),a.x=s.x-35.734159941614735,a.y=s.y-6.833926648055694,a.rotation=Math.PI/180*95,l&&I&&(a.worldRotation=a.rotation,a.eqStopDrag(l,l),a.alpha=1)}a.on("creationComplete",function(){i.addChild(a),d=!0,NBDrag.addDrag(a),a.alpha=0,f&&p&&o&&r&&e()}),r.on("creationComplete",function(){i.addChild(r),p=!0,d&&f&&a&&o&&e()}),o.on("creationComplete",function(){i.addChild(o),f=!0,o.updateCurveGlass(Math.PI/3*2),o.x=s.x+7,o.y=s.y-316,NBDrag.addDrag(o),d&&p&&a&&r&&e()})}),h.on("creationComplete",function(){i.addChild(h),h.x=s.x+250,h.y=s.y,u=!0,c&&l&&g()})}}]),m}();e.exports=i},function(e,t,HotTowel){"use strict";var a=HotTowel(4),i=HotTowel(0),n=i(HotTowel(1)),r=i(HotTowel(2)),o=i(HotTowel(7)),s=i(HotTowel(5)),l=i(HotTowel(6)),h=i(HotTowel(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=HotTowel(8),HotTowel=function(){(0,s.default)(HotTowel,u);var t=c(HotTowel);function HotTowel(){var e;return(0,n.default)(this,HotTowel),(e=t.call(this)).name="HotTowel",e.CNName="热毛巾",e.z_index=21.04,e}return(0,r.default)(HotTowel,[{key:"creationComplete",value:function(){var e=this;(0,o.default)((0,h.default)(HotTowel.prototype),"creationComplete",this).call(this),this.canHeat=!1,this.on(NBDrag.event.START_DRAG,function(){e.canHeat=!1,e.currentContainer&&(e.currentContainer.addedTowel=null,e.currentContainer=null)}),this.on(NBDrag.event.STOP_DRAG,this.hittedContainer),this.temp=40,this.bg.spread.allowGetBounds=!0,this.bg.roll.allowGetBounds=!1,this.asbRect=this.getBounds(),this.currentHeatValue=55,this.hitableAry={SmallTestTube:{x:-60,y:145,width:120,currentHeatValue:54},BigTestTube:{x:-75,y:0,width:146,currentHeatValue:56},TestTubeWithSideNeck:{x:-75,y:320,width:146,currentHeatValue:60},ConicalFlask250ml:{x:5,y:115,width:185,currentHeatValue:90},ConicalFlask100ml:{x:2,y:50,width:130,currentHeatValue:65},RoundBottomFlask:{x:-4,y:215,width:250,currentHeatValue:90},SmallRoundBottomFlask:{x:-4,y:215,width:250,currentHeatValue:90},FlorenceFlask:{x:-5,y:223,width:236,currentHeatValue:90},DistillingFlask:{x:-3,y:215,width:250,currentHeatValue:90},GasCollectingBottle:{x:-12,y:125,width:250,currentHeatValue:85},GasCollectingBottleOfDivide:{x:-12,y:125,width:250,currentHeatValue:85},HardGlassTube:{x:-12,y:385,width:90,currentHeatValue:57},BigHardGlassTube:{x:-17,y:685,width:120,currentHeatValue:60}}}},{key:"hittedContainer",value:function(){var e=this,t=!0,i=e.parent;i!==e.getEqLayer()&&(i.boundsUpdateId=void 0),e.getViewStack().addChildWithSamePos(e);for(var n=e.getSortDisHitObjects(),a=!1,r=0;r<n.length;r++){var o=n[r].objB,s=0;if(null!=e.hitableAry[o.name]&&!o.addedTowel){var l=e.hitableAry[o.name];"RoundBottomFlask"!==o.name&&"DistillingFlask"!==o.name&&"FlorenceFlask"!==o.name&&"SmallRoundBottomFlask"!==o.name||(s=1),"ConicalFlask250ml"!==o.name&&"ConicalFlask100ml"!==o.name||(s=2),e.bg.gotoAndStop(1),e.bg.roll.gotoAndStop(s),e.bg.spread.allowGetBounds=!1,e.bg.roll.allowGetBounds=!0,e.width=l.width,e.root.viewStack.hasEqMove=2,e.currentHeatValue=l.currentHeatValue,o.addChildAtWithSamePos(e,o.children.length-1),NBDrag.removeDrag(e),o.addedTowel=!0,e.currentContainer=o,a=!0,TweenMax.to(e.position,.5,{x:l.x,y:l.y,onComplete:function(){NBDrag.addDrag(e)}}),t=!(e.canHeat=!0);break}}t&&(0!==e.bg.currentFrame&&(a=!0),e.bg.gotoAndStop(0),e.width=294,e.bg.spread.allowGetBounds=!0,e.bg.roll.allowGetBounds=!1),a&&this.changedBoundsAndFreshSelect()}},{key:"update",value:function(e){this.temp=40,this.canHeat&&this.currentContainer&&(this.currentContainer.activeCount=nb.ACTIVE_COUNT,this.radiantHeat(this.currentHeatValue,this.getBounds(),e,40))}}]),HotTowel}();e.exports=HotTowel},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var PlasticInjector=i(172);e.exports=function(){(0,l.default)(HugePlasticInjector,PlasticInjector);var t=u(HugePlasticInjector);function HugePlasticInjector(){var e;return(0,r.default)(this,HugePlasticInjector),(e=t.call(this)).name="HugePlasticInjector",e.CNName="50ml塑料注射器",e.z_index=23.19,e.originalMass=30,e}return(0,o.default)(HugePlasticInjector,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(HugePlasticInjector.prototype),"creationComplete",this).call(this),this.capacityScale=.30988852341411166,this.fullCapacity=this.getTotalCapacity(),this.fullGasCapacity=.0020438159444551643,this.needlePos={x:363,y:73.5},this.rubberPos={x:390,y:64,rotation:0},this.plungerLimit={top:63,bottom:322},this.totalHeight=this.plungerLimit.bottom-this.plungerLimit.top}}]),HugePlasticInjector}()},function(e,t,n){"use strict";var a=n(4),IronClamp=n(0),i=IronClamp(n(9)),r=IronClamp(n(1)),o=IronClamp(n(2)),s=IronClamp(n(7)),l=IronClamp(n(5)),h=IronClamp(n(6)),c=IronClamp(n(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=n(8),p=n(1175),IronClamp=function(){(0,l.default)(IronClamp,d);var t=u(IronClamp);function IronClamp(){var e;return(0,r.default)(this,IronClamp),(e=t.call(this)).isAddtoSupport=!0,e.name="IronClamp",e.CNName="铁夹",e.z_index=16.01,e.selectByIndex=!0,e.hitThisAttachAttr={offsetUp:-28,offsetDown:28,type:2},e.BUTTONDISTANCE=140,e}return(0,o.default)(IronClamp,[{key:"creationComplete",value:function(){var i=this;(0,s.default)((0,c.default)(IronClamp.prototype),"creationComplete",this).call(this),this.getLimitData=function(){var e;return{currentId:e=i.currentHitObj?i.currentHitObj.getUUID():e,dragRect:i.dragRect}},this.setLimitData=function(e){var t=i;e.currentId&&(i.dragRect=e.dragRect,i.hitSupport=!0,i.getEquipmentByUUID(e.currentId).then(function(e){t.currentHitObj=e}),i.addEventListener(TouchEvent.TOUCH_END,i._mouseUp_),i.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,i._mouseUp_),i.parent._equipment_&&i.parent._equipment_.push(i),NBDrag.addDrag(i,i.dragRect))},this.setRotateButton();var t=this;this.on(NBDrag.event.STOP_DRAG,function(){var e=t.getHitObjectsByType(n(111)),e=this.minDistance(e);this.followObj||(void 0!==t.currentHitObj&&t.currentHitObj!==t.getViewStack()||(t.currentHitObj=e),e&&!t.hitSupport&&e.currentEqNum<e.maxEqNum&&(e.currentEqNum+=1,t.hitSupport=!0,e.addClamp(t,0),TweenMax.to(t,.5,{x:t.dragRect.x}),t.addEventListener(TouchEvent.TOUCH_END,t._mouseUp_),t.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,t._mouseUp_)));e&&e.updateEq(t);this.followObj&&this.followObj._mouseUp_()}),this.on(NBDrag.event.START_DRAG,function(e){e=e.data.originalEvent;this.startDownPoint={},this.startDownPoint.y=e.y}),this.on(NBDrag.event.DRAG_MOVE,function(){t.hitSupport&&!t.hitRef.hitTest(t.currentHitObj.bar)&&(t.dragRect.enabled=!1,t.followObj&&(t.followObj.dragRect.enabled=!1,t.clampEq&&t.clampEq.twoHitClamp&&t.clampEq.breakTwoHitClamp(!0)))})}},{key:"followClamp",value:function(e){this.followObj=e,this.on(NBDrag.event.DRAG_MOVE,this.followPos)}},{key:"followPos",value:function(){var e,t;"IronSupport"===this.parent.name&&"IronSupport"===this.followObj.parent.name?this.followObj.x=this.x:(e=this.followObj.clampEq.listenClamp,t=this.clampEq.twoHitClamp,e&&e.main===this||t&&t.main.clamp===this?this.followObj.x=this.x+840:this.followObj.x=this.x-840),this.followObj.y=this.y}},{key:"removeFollowClamp",value:function(){this.removeEventListener(NBDrag.event.DRAG_MOVE,this.followPos),this.followObj=null}},{key:"minDistance",value:function(e){for(var t=[],i=0;i<e.length;i++)this.hitRef.hitTest(e[i].bar)&&t.push(e[i]);if(0<t.length){var n=[],a=NBPoint.distance(this,t[0]);n.push(t[0]);for(var r=1;r<t.length;r++){var o=t[r];NBPoint.distance(this,o)<a&&(n.shift(),n.push(o),a=NBPoint.distance(this,o))}return n[0]}}},{key:"isFull",value:function(e){return!!this.followObj||(0,s.default)((0,c.default)(IronClamp.prototype),"isFull",this).call(this,e)}},{key:"checkCollision",value:function(){var e=this.getHitObjectsByType(n(111)),t=this.minDistance(e);t&&!this.hitSupport&&t.currentEqNum<t.maxEqNum?(this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg(),this.parent!=this.lastHitEquipment&&(e=t.toLocal({x:0,y:0},this),(e=this.drawBg(t,t.bar.x-110+this.localBounds.x,e.y+this.localBounds.y)).allowGetBounds=!1,t.willAdsorbEqBounds=e,this.lastHitEquipment=t)):this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg()}},{key:"setRotateButton",value:function(){var e={x:this.clamp.x,y:this.clamp.y-this.BUTTONDISTANCE};this.ClampRotateButton=new p(this,e),this.ClampRotateButton.setEnabled(!0,this)}},{key:"refreshChildLiquidVertex",value:function(){var e=this.clamp.children.find(function(e){return e&&e.isBaseContainer});e&&e.calculateLiquid(!0)}},{key:"getCenterPosition",value:function(){var e={};return e.x=this.clamp.x,e.y=this.clamp.y,e}},{key:"_mouseUp_",value:function(){var e=this;e.hitSupport&&e.dragRect&&0==e.dragRect.enabled&&(--e.currentHitObj.currentEqNum,e.currentHitObj.hasClamp=!1,e.hitSupport=!1,this.viewStack==this.root.viewStack||TweenMax.isTweening(e)||this.root.viewStack.addChildWithSamePos(this),e.currentHitObj.removeEq(e),e.currentHitObj=void 0,e.removeEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_))}},{key:"toJSON",value:function(){return(0,i.default)({clampRotation:this.clamp.rotation,selectByIndex:this.selectByIndex},(0,s.default)((0,c.default)(IronClamp.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(IronClamp.prototype),"setJSON",this).call(this,e),this.clamp.rotation=e.clampRotation,this.selectByIndex=e.selectByIndex}}]),IronClamp}();e.exports=IronClamp},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(52),p=i(91),f=i(16),I=Math.PI/180*3,i=function(){(0,l.default)(n,p);var i=u(n);function n(e,t){return(0,r.default)(this,n),i.call(this,e,t)}return(0,o.default)(n,[{key:"initButton",value:function(){this.name="ClampRotateButton",(0,s.default)((0,c.default)(n.prototype),"initButton",this).call(this),this.pointLength=20,this.circleRotate=2*Math.PI,this.centerPosition=this.target.getCenterPosition(),this.pointToCenterDis=d.distance(this.centerPosition,this.btnPosition)-52,this.textDis=this.pointToCenterDis+140,this.lineAry=[],this.tempPoint={x:0,y:0};var e=this.target.root.mouseManager;f.addMouseEvent(e,this.button,f.status.ROTATE),this.initRotateText(),this.initUnicorn(Math.PI/2)}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.rotate")}},{key:"initPointLine",value:function(){this.lineAry.length=0;for(var e=this.target.getCenterPositionToEqLayer(),t=this.pointToCenterDis,i=0;i<this.pointLength;i++){var n=this.circleRotate/this.pointLength*i,a=e.x+t*Math.cos(n),r=e.y+t*Math.sin(n);this.lineAry.push({x:a,y:r,rotation:n,type:"dark"})}}},{key:"initRotateText",value:function(){this.textBox=new PIXI.Container,this.target.getViewStack().addChild(this.textBox);var e=this.rotateText=this.target.getText("",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),t=new PIXI.Graphics;this.textBox.addChild(t),this.textBox.addChild(e),t.lineStyle(0),t.beginFill(0,.6),t.drawRoundedRect(-45,-25,90,50,10),t.endFill(),this.textBox.interactive=!1,this.textBox.allowGetBounds=!1,this.textBox.visible=!1}},{key:"showRotateText",value:function(){this.textBox.visible=!0,this.setRotateTextPos(),this.setRotateText()}},{key:"hideRotateText",value:function(){this.textBox.visible=!1}},{key:"setRotateTextPos",value:function(){var e=this.target.getCenterPositionToEqLayer();this.textBox.x=e.x,this.textBox.y=e.y-this.textDis}},{key:"setBtnPosition",value:function(){var e=this.target.clamp,t=e.rotation,t={x:e.x+this.target.BUTTONDISTANCE*Math.sin(t),y:e.y-this.target.BUTTONDISTANCE*Math.cos(t)},t=this.otherLayer.toLocal(t,this.target);this.button.x=t.x,this.button.y=t.y,this.setBtnRotate()}},{key:"setRotateText",value:function(){var e=this.target.clamp;this.rotateText.text="".concat(Math.round(this.convertClampangle(e.rotation)*(180/Math.PI)*10)/10,"°");var t=this.rotateText,e=t.width,t=t.height;this.rotateText.x=(this.textBox.width-e)/2+2,this.rotateText.y=(this.textBox.height-t)/2}},{key:"convertClampangle",value:function(e){var t=Math.PI;return Math.abs(e)<=t?e:0<e?e-2*t:2*t+e}},{key:"zoomChangePos",value:function(){var e;(0,s.default)((0,c.default)(n.prototype),"zoomChangePos",this).call(this),this.textBox&&(e=(e=1/this.buttonScale)<1?1/e:e>nb.INFO_TEXT_MAX_SCALE?nb.INFO_TEXT_MAX_SCALE/e:1,this.textBox.scale.x=this.textBox.scale.y=e)}},{key:"showButton",value:function(){var e;this.getEnabled()&&(this.button.visible=!0,this.setBtnPosition(),e=((e=this.target.clamp.rotation)-Math.PI/2)%(2*Math.PI),Math.abs(e)>Math.PI&&(e=0<e?e%Math.PI-Math.PI:e%Math.PI+Math.PI),this.updateUnicorn(-e))}},{key:"dragButtonBegin",value:function(e){(0,s.default)((0,c.default)(n.prototype),"dragButtonBegin",this).call(this,e);var t=this.target,i=this.tempPoint;i.x=e.data.global.x,i.y=e.data.global.y;e=t.toGlobal(this.centerPosition);this.beginRotation=this.getAtan2Angle(i,e),this.calcRotation=t.clamp.rotation,this.lastBeginRotation=this.beginRotation,this.currentMoveType=0,this.lightButton(),this.initPointLine(),this.drawLinePoint(),this.showRotateText(),this.target.addWholeRotateType(["ClampRotateButton"])}},{key:"dragButtonMove",value:function(e){var t=this.target;t.root.viewStack.hasEqMove=2;var i=t.toGlobal(this.centerPosition),e=this.getAtan2Angle(e.data.global,i),i=e-this.beginRotation;Math.abs(i)>Math.PI?this.beginRotation=e:(this.calcRotation+=i,this.currentMoveType+=i,t.clamp.rotation=this.getAdsorbedAngle(this.calcRotation%(2*Math.PI)),this.beginRotation=e,e=(this.calcRotation-Math.PI/2)%(2*Math.PI),Math.abs(e)>Math.PI&&(e=0<e?e%Math.PI-Math.PI:e%Math.PI+Math.PI),this.beginRotation=e,this.setBtnPosition(),this.updatePointLine(),this.drawLinePoint(),this.setRotateText(),this.updateUnicorn(-e))}},{key:"dragButtonEnd",value:function(e){(0,s.default)((0,c.default)(n.prototype),"dragButtonEnd",this).call(this,e),this.clearLinePoint(),this.hideRotateText(),this.target.removeWholeRotateType(["ClampRotateButton"]),this.target.refreshChildLiquidVertex&&this.target.refreshChildLiquidVertex()}},{key:"getAdsorbedAngle",value:function(e){var t=Math.PI;return Math.abs(e)>t&&(e=0<e?e%t-t:e%t+t),this.calcRotation=e,Math.abs(e-t)<I?t:Math.abs(e-t/180*97)<1.5*I?t/180*95:Math.abs(e-t/2)<I?t/2:Math.abs(e)<I?0:Math.abs(e+t/2)<I?-t/2:Math.abs(e+t)<I?-t:e}},{key:"updatePointLine",value:function(){var i=this,n=e(this.lastBeginRotation),a=e(this.beginRotation);this.currentMoveType=this.currentMoveType%(2*Math.PI);var r=0<this.currentMoveType?"clockwise":"anticlockwise";function e(e){var t=e;return t=e<0?2*Math.PI+e:t}this.lineAry.forEach(function(e){var t=e.rotation;.1<Math.abs(i.currentMoveType)?e.type=function(e,t){var i="dark";"clockwise"===e?n<a?n<t&&t<a&&(i="light"):(n<t||t<a)&&(i="light"):a<n?t<n&&a<t&&(i="light"):(t<n||a<t)&&(i="light");return i}(r,t):e.type="dark"})}}]),n}();e.exports=i},function(e,t,n){"use strict";var a=n(4),i=n(0),r=i(n(9)),o=i(n(1)),s=i(n(2)),l=i(n(7)),h=i(n(5)),c=i(n(6)),u=i(n(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=n(8),f=n(21);e.exports=function(){(0,h.default)(IronClampSideLook,p);var t=d(IronClampSideLook);function IronClampSideLook(){var e;return(0,o.default)(this,IronClampSideLook),(e=t.call(this)).isAddtoSupport=!0,e.z_index=16.02,e.selectByIndex=!0,e.hitThisAttachAttr={offsetUp:-28,offsetDown:28,type:2},e.name="IronClampSideLook",e.CNName="铁夹侧视",e._reversalX=!1,e}return(0,s.default)(IronClampSideLook,[{key:"reversalX",get:function(){return this._reversalX},set:function(e){this.scale.x=e?-1:1,this.root.execute(NBCommand.communicate.angular.CHANGE_PANEL_STATUS,{children:[]}),this._reversalX=!!e}},{key:"creationComplete",value:function(){var i=this;(0,l.default)((0,u.default)(IronClampSideLook.prototype),"creationComplete",this).call(this);var t=this;this.getLimitData=function(){var e;return{currentId:e=i.currentHitObj?i.currentHitObj.getUUID():e,dragRect:i.dragRect}},this.setLimitData=function(e){var t=i;e.currentId&&(i.dragRect=e.dragRect,i.hitSupport=!0,i.getEquipmentByUUID(e.currentId).then(function(e){t.currentHitObj=e}),i.addEventListener(TouchEvent.TOUCH_END,i._mouseUp_),i.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,i._mouseUp_),i.parent._equipment_&&i.parent._equipment_.push(i),NBDrag.addDrag(i,i.dragRect))},this.on(NBDrag.event.STOP_DRAG,function(){var e=t.getHitObjectsByType(n(111)),e=this.minDistance(e);void 0===t.currentHitObj&&(t.currentHitObj=e),e&&!t.hitSupport&&e.currentEqNum<e.maxEqNum&&(e.currentEqNum+=1,t.hitSupport=!0,e.addChildWithSamePos(t),e.addIronClampSideLook(t,0),TweenMax.to(t,.5,{x:t.dragRect.x}),t.addEventListener(TouchEvent.TOUCH_END,t._mouseUp_),t.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,t._mouseUp_)),e&&e.updateEq(t)}),this.on(NBDrag.event.START_DRAG,function(e){e=e.data.originalEvent;this.startDownPoint={},this.startDownPoint.y=e.y}),this.on(NBDrag.event.DRAG_MOVE,function(){t.hitSupport&&!t.hitRef.hitTest(t.currentHitObj.bar)&&(t.dragRect.enabled=!1)})}},{key:"minDistance",value:function(e){for(var t=[],i=0;i<e.length;i++)this.hitRef.hitTest(e[i].bar)&&t.push(e[i]);if(0<t.length){var n=[],a=NBPoint.distance(this,t[0]);n.push(t[0]);for(var r=1;r<t.length;r++){var o=t[r];NBPoint.distance(this,o)<a&&(n.shift(),n.push(o),a=NBPoint.distance(this,o))}return n[0]}}},{key:"checkCollision",value:function(){var e=this.getHitObjectsByType(n(111)),t=this.minDistance(e);t&&!this.hitSupport&&t.currentEqNum<t.maxEqNum?(this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg(),this.parent!=this.lastHitEquipment&&(e=t.toLocal({x:0,y:0},this),(e=this.drawBg(t,t.bar.x+10+this.localBounds.x,e.y+this.localBounds.y)).allowGetBounds=!1,t.willAdsorbEqBounds=e,this.lastHitEquipment=t)):this.lastHitEquipment&&(this.lastHitEquipment.willAdsorbEqBounds||this.lastHitArea)&&this.removeGraphicsOrBg()}},{key:"_mouseUp_",value:function(){var e=this;e.hitSupport&&e.dragRect&&0==e.dragRect.enabled&&(--e.currentHitObj.currentEqNum,e.currentHitObj.hasClamp=!1,e.hitSupport=!1,this.viewStack==this.root.viewStack||TweenMax.isTweening(e)||this.root.viewStack.addChildWithSamePos(this),e.currentHitObj.removeEq(e),e.currentHitObj=void 0,e.removeEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.removeEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_))}},{key:"getConfigureData",value:function(){var e=(0,l.default)((0,u.default)(IronClampSideLook.prototype),"getConfigureData",this).call(this);return(e=!e||!e.confArr?{confArr:[]}:e).confArr.push(f.getRadio("方向",this.reversalX?0:1,["左","右"],function(e){this.reversalX=!e}.bind(this),this)),e}},{key:"toJSON",value:function(){return(0,r.default)({reversalX:this.reversalX},(0,l.default)((0,u.default)(IronClampSideLook.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(IronClampSideLook.prototype),"setJSON",this).call(this,e),void 0!==e.reversalX&&(this.reversalX=e.reversalX)}}]),IronClampSideLook}()},function(e,t,IronSheet){"use strict";var a=IronSheet(4),i=IronSheet(0),n=i(IronSheet(9)),r=i(IronSheet(1)),o=i(IronSheet(2)),s=i(IronSheet(7)),l=i(IronSheet(5)),h=i(IronSheet(6)),c=i(IronSheet(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=IronSheet(8),p=IronSheet(74),f=PIXI.Point,IronSheet=function(){(0,l.default)(IronSheet,d);var t=u(IronSheet);function IronSheet(){var e;return(0,r.default)(this,IronSheet),(e=t.call(this)).name="IronSheet",e.CNName="阶梯铁片",e.z_index=19.08,e.candles=[null,null],e.needLimitObjAry=["BigBeaker","HugeBeaker"],e.posArr=[new f(114,285),new f(54,195)],e.lastParent=void 0,e}return(0,o.default)(IronSheet,[{key:"canAddCandle",value:function(){for(var e=0;e<this.posArr.length;e++)if(!this.candles[e])return!0;return!1}},{key:"addCandle",value:function(e){(0,s.default)((0,c.default)(IronSheet.prototype),"addCandle",this).call(this,e);for(var t,i,n=this.toLocal(new f,e),a=1/0,r=-1,o=0;o<this.posArr.length;o++)this.candles[o]||(t=this.posArr[o],(i=Math.abs(t.x-n.x)+Math.abs(t.y-n.y))<a&&(a=i,r=o));this.candles[r]=e,t=this.posArr[r],e.interactive=!1,TweenMax.to(e,.5,{x:t.x,y:t.y-e.bottomY,rotation:0,onComplete:function(){e.interactive=!0}})}},{key:"removeCandle",value:function(e){(0,s.default)((0,c.default)(IronSheet.prototype),"removeCandle",this).call(this,e),this.candles[this.candles.indexOf(e)]=null}},{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(IronSheet.prototype),"creationComplete",this).call(this)}},{key:"eqPrepareChoice",value:function(e){(0,s.default)((0,c.default)(IronSheet.prototype),"eqPrepareChoice",this).call(this,e),this.eqAddToViewStack(e)}},{key:"checkCollision",value:function(e){(0,s.default)((0,c.default)(IronSheet.prototype),"checkCollision",this).call(this,e),this.isMoving=!0}},{key:"eqStopDrag",value:function(e){(0,s.default)((0,c.default)(IronSheet.prototype),"eqStopDrag",this).call(this,e),this.isMoving=!1,this.parentChangeEffect()}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(IronSheet.prototype),"toJSON",this).call(this),{})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(IronSheet.prototype),"setJSON",this).call(this,e)}},{key:"hasCandle",value:function(){return!!this.candles.find(function(e){return e})}},{key:"parentChangeEffect",value:function(){this.lastParent!==this.parent&&this.hasCandle()&&(this.parent===this.getEqLayer()?this.candles.forEach(function(e){e&&p.addDrag(e)}):this.candles.forEach(function(e){e&&p.removeDrag(e)})),this.lastParent=this.parent}},{key:"update",value:function(e){(0,s.default)((0,c.default)(IronSheet.prototype),"update",this).call(this,e)}}]),IronSheet}();e.exports=IronSheet},function(e,t,IronSupportWithClamp){"use strict";var a=IronSupportWithClamp(4),i=IronSupportWithClamp(0),n=i(IronSupportWithClamp(1)),r=i(IronSupportWithClamp(2)),o=i(IronSupportWithClamp(19)),s=i(IronSupportWithClamp(7)),l=i(IronSupportWithClamp(5)),h=i(IronSupportWithClamp(6)),c=i(IronSupportWithClamp(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=IronSupportWithClamp(8),IronSupportWithClamp=function(){(0,l.default)(IronSupportWithClamp,d);var t=u(IronSupportWithClamp);function IronSupportWithClamp(){var e;return(0,n.default)(this,IronSupportWithClamp),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(IronSupportWithClamp,[{key:"redoAdd",value:function(){var e,t,i;e=this.clamp,t=this.support,i=this,t.x=0,t.y=0,(e.currentHitObj=t).currentEqNum+=1,e.hitSupport=!0,t._equipment_=[{x:0,y:-t.bg.height/2-5},{x:0,y:t.bg.height/2-t.deviation}],t.addClamp(e),e.y=0,e.x=e.dragRect.x,t.x=i.x,t.y=i.y,e.addEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_)}},{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(IronSupportWithClamp.prototype),"creationComplete",this).call(this);var i=this,e=this.execute(NBCommand.CREATE_EQUIPMENT,"IronClamp"),t=this.execute(NBCommand.CREATE_EQUIPMENT,"IronSupport");this.clamp=e,this.support=t,this.executeEq=[e,t],this.cannotSystemDrag=!0;var n=this.root.viewStack;t.on("creationComplete",function(){t.isCreationComplete&&(n.addChild(e),n.addChild(t),function(e,t){(e.currentHitObj=t).currentEqNum+=1,e.hitSupport=!0,t.addClamp(e),e.y=0,e.x=e.dragRect.x,t.x=i.x,t.y=i.y,e.addEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_)}(e,this),NBDrag.addDrag(t,null,{bringToFront:!0}))})}}]),IronSupportWithClamp}();e.exports=IronSupportWithClamp},function(e,t,IronSupportWithRing){"use strict";var a=IronSupportWithRing(4),i=IronSupportWithRing(0),n=i(IronSupportWithRing(1)),r=i(IronSupportWithRing(2)),o=i(IronSupportWithRing(19)),s=i(IronSupportWithRing(7)),l=i(IronSupportWithRing(5)),h=i(IronSupportWithRing(6)),c=i(IronSupportWithRing(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=IronSupportWithRing(8),IronSupportWithRing=function(){(0,l.default)(IronSupportWithRing,d);var t=u(IronSupportWithRing);function IronSupportWithRing(){var e;return(0,n.default)(this,IronSupportWithRing),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(IronSupportWithRing,[{key:"redoAdd",value:function(){var e,t,i;e=this.ring,t=this.support,i=this,t.x=0,t.y=0,(e.currentHitObj=t).currentEqNum+=1,e.hitSupport=!0,t._equipment_=[{x:0,y:-t.bg.height/2-5},{x:0,y:t.bg.height/2-t.deviation}],t.addRing(e),e.y=0,e.x=e.dragRect.x,t.x=i.x,t.y=i.y,e.addEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_)}},{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(IronSupportWithRing.prototype),"creationComplete",this).call(this);var i=this,e=this.ring=this.execute(NBCommand.CREATE_EQUIPMENT,"IronRing"),t=this.support=this.execute(NBCommand.CREATE_EQUIPMENT,"IronSupport");this.cannotSystemDrag=!0;var n=this.root.viewStack;i.executeEq=[e,t],t.on("creationComplete",function(){t.isCreationComplete&&(n.addChild(e),n.addChild(t),function(e,t){(e.currentHitObj=t).currentEqNum+=1,e.hitSupport=!0,t.addRing(e),e.x=e.dragRect.x,e.y=0,t.x=i.x,t.y=i.y,e.addEventListener(TouchEvent.TOUCH_END,e._mouseUp_),e.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,e._mouseUp_)}(e,t),NBDrag.addDrag(t,null,{bringToFront:!0}))})}}]),IronSupportWithRing}();e.exports=IronSupportWithRing},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var IronWire=i(418);e.exports=function(){(0,l.default)(IronWireWithWooden,IronWire);var t=u(IronWireWithWooden);function IronWireWithWooden(){var e;return(0,r.default)(this,IronWireWithWooden),(e=t.call(this)).CNName="带木条的铁丝",e.hasWooden=!0,e}return(0,o.default)(IronWireWithWooden,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(IronWireWithWooden.prototype),"creationComplete",this).call(this),this.match.visible=!0,this.matchFireStatus.percent=0}},{key:"getLightOnPoint",value:function(){return this.match.toGlobal({x:20,y:this.match.height-10})}}]),IronWireWithWooden}()},function(e,t,KnifeSmall){"use strict";var a=KnifeSmall(4),i=KnifeSmall(0),n=i(KnifeSmall(1)),r=i(KnifeSmall(2)),o=i(KnifeSmall(7)),s=i(KnifeSmall(5)),l=i(KnifeSmall(6)),h=i(KnifeSmall(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=KnifeSmall(8),BlockNa=KnifeSmall(419),BlockK=KnifeSmall(420),Candle=KnifeSmall(270),d=PIXI.Point,KnifeSmall=function(){(0,s.default)(KnifeSmall,u);var t=c(KnifeSmall);function KnifeSmall(){var e;return(0,n.default)(this,KnifeSmall),(e=t.call(this)).name="KnifeSmall",e.CNName="小刀",e.z_index=23.06,e}return(0,r.default)(KnifeSmall,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(KnifeSmall.prototype),"creationComplete",this).call(this)}},{key:"eqStopDrag",value:function(e){(0,o.default)((0,h.default)(KnifeSmall.prototype),"eqStopDrag",this).call(this,e),this.cutNa(),this.cutCandle()}},{key:"cutNa",value:function(){var e=this.getMinDisHitObjectByType(this,[BlockNa,BlockK],{x:110,y:0},function(e){return!e.canCut()});e&&this.cutNaAnimation(e)}},{key:"cutNaAnimation",value:function(e){var t=this,i=e.getPositionToEqLayer(),n=new TimelineMax;this.scale.y=-1,n.to(this.scale,.2,{y:-.1}).to(this,.2,{rotation:-Math.PI/3}).to(this,.3,{x:i.x-62,y:i.y+100}).to(this,.2,{x:i.x-22,y:i.y+31,repeat:5,yoyo:!0,onComplete:function(){e.cut(),t.scale.y=.1}}).to(this,.2,{x:i.x+60,y:i.y-91,rotation:0}).to(this.scale,.2,{y:1})}},{key:"cutCandle",value:function(){var e=this.getMinDisHitObjectByType(this,Candle,{x:0,y:0},function(e){return!e.canCut()});e&&this.cutCandleAnimation(e)}},{key:"cutCandleAnimation",value:function(e){var t=new TimelineMax;this.scale.y=-1;var i=new d(e.x,e.y);t.to(this.scale,.1,{y:-.1}).to(this,.2,{x:i.x-90,y:i.y+15}).to(this,.2,{x:i.x+10,onComplete:function(){e.cut()}}).to(this,.08,{x:i.x+40,y:i.y-40}).to(this.scale,.1,{y:1})}}]),KnifeSmall}();e.exports=KnifeSmall},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(8);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,r.default)(this,t),e.call(this)}return(0,o.default)(t,[{key:"creationComplete",value:function(){var i=this.execute(NBCommand.ADD_EQUIPMENT,{name:"QualitativeFilterPaper"});i.position.set(647,848),(window.lz=i).alpha=0;var e=this.execute(NBCommand.ADD_EQUIPMENT,{name:"MagnesiumRibbon"});e.position.set(462,405);var n=this.execute(NBCommand.ADD_EQUIPMENT,{name:"EvaporatingDish"});n.position.set(436,1302.1129363449693);var a=this.root.medicineManager;i.on("creationComplete",function(){i.ani.movieClick.currentFrame=29,i._collapse=!0,i.addChild(e),i.addMedicine(new chemical.vo.SolidVO(a.getMedicineData("Al"),.01)),i.addMedicine(new chemical.vo.SolidVO(a.getMedicineData("Fe2O3"),.01)),i.addMedicine(new chemical.vo.SolidVO(a.getMedicineData("KClO3"),1e-4));var t=this.execute(NBCommand.ADD_EQUIPMENT,{name:"IronSupportWithRing"});t.position.set(523,800),t.on("creationComplete",function(){t.ring.on("creationComplete",function(){var e=i.getSortDisHitObjects;i.getSortDisHitObjects=function(){return[{objA:i,objB:t.ring}]},i._hitEquipment_(),i.getSortDisHitObjects=e,i.alpha=1}),t.support.on("creationComplete",function(){t.support.addChildWithSamePos(n)})}),NBDrag.addDrag(i),NBDrag.addDrag(t)}),n.on("creationComplete",function(){var e=n.localBounds,e={x:e.x+e.width/2,y:e.y};n.addMedicine(new chemical.vo.SolidVO(chemicalMain.medicineManager.getMedicineData("SiO2"),.1),e,3)}),this.execute(NBCommand.ADD_EQUIPMENT,{name:"SiO2"}).position.set(1575,1370),this.execute(NBCommand.ADD_EQUIPMENT,{name:"Al"}).position.set(1400,1370),this.execute(NBCommand.ADD_EQUIPMENT,{name:"Fe2O3"}).position.set(1200,1370),this.execute(NBCommand.ADD_EQUIPMENT,{name:"KClO3"}).position.set(1e3,1370),this.execute(NBCommand.ADD_EQUIPMENT,{name:"LabSpoon"}).position.set(1345,842),this.execute(NBCommand.ADD_EQUIPMENT,{name:"Match"}).position.set(987,779),this.parent.removeChild(this)}}]),t}()},function(e,t,LabSpoon){"use strict";var a=LabSpoon(4),i=LabSpoon(0),r=i(LabSpoon(25)),n=i(LabSpoon(77)),h=i(LabSpoon(59)),o=i(LabSpoon(1)),s=i(LabSpoon(2)),l=i(LabSpoon(7)),c=i(LabSpoon(5)),u=i(LabSpoon(6)),d=i(LabSpoon(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=LabSpoon(8),I=LabSpoon(20),g=LabSpoon(16),m=LabSpoon(21),y=LabSpoon(11),v=PIXI.Point,LabSpoon=function(){(0,c.default)(LabSpoon,f);var t=p(LabSpoon);function LabSpoon(){var e;return(0,o.default)(this,LabSpoon),(e=t.call(this)).name="LabSpoon",e.CNName="药匙",e.z_index=23.07,e.head=null,e.bg=null,e.medicine=null,e.dragArea=null,e.btnMinus=null,e.btnPlus=null,e.text=null,e.oneMol=0,e._medicineAmount=0,e._tempVo=[],e.getMedicineFrom=null,e.lastHitEquipment=null,e}return(0,s.default)(LabSpoon,[{key:"medicineAmount",get:function(){return this._medicineAmount},set:function(e){this.setMedicineAmount(e)}},{key:"creationComplete",value:function(){(0,l.default)((0,d.default)(LabSpoon.prototype),"creationComplete",this).call(this),this.btnMinus.x-=10,this.text=this.getText("1",{fontSize:"36px",fontFamily:"Arial",fill:16724736,align:"center"}),this.text.wordWrapWidth=10,this.text.anchor.x=.5,this.text.x=324,this.text.y=-62,this.addChildAt(this.text,0),this.medicineAmount=0,this.addListeners()}},{key:"eqPrepareDelete",value:function(){try{this.removeHint(),this.removeCursor(this.btnMinus),this.removeCursor(this.btnPlus),NBGesture.removeGesture(this.btnMinus,g.status.PAN),NBGesture.removeGesture(this.btnPlus,g.status.PAN)}catch(e){}(0,l.default)((0,d.default)(LabSpoon.prototype),"eqPrepareDelete",this).call(this)}},{key:"addListeners",value:function(){var e=this;this.addCursor(this.btnMinus,g.status.PAN),this.addCursor(this.btnPlus,g.status.PAN),NBGesture.addGesture(this.btnMinus,NBGesture.gesture.TAP,function(){--e.medicineAmount}),NBGesture.addGesture(this.btnPlus,NBGesture.gesture.TAP,function(){e.medicineAmount+=1})}},{key:"updateBtnState",value:function(){this.btnPlus.visible=this.btnMinus.visible=this.text.visible=0<this.medicineAmount,this.btnPlus.gotoAndStop(15===this.medicineAmount?1:0),this.btnMinus.gotoAndStop(0===this.medicineAmount?1:0)}},{key:"getMaxMedicineAmount",value:function(){return this.getMedicineFrom?Math.min(15,this.getMedicineFrom.medicineData.getSolidMass()):15}},{key:"setMedicineAmount",value:function(e){var t;isNaN(e)||(e<=0?(e=0,this._tempVo=[]):e=Math.min(e,this.getMaxMedicineAmount()),0!==e&&(t=e/this.getMedicineMass(),this._tempVo.forEach(function(e){e.setMol(e.getMol()*t)})),this._medicineAmount=e,this.updateBtnState(),this.updateMedicineState(),this.text.text=(this._medicineAmount+.001).toFixed(2)+"g")}},{key:"eqStopDrag",value:function(){this.lastHitEquipment&&(this.isEmpty()?this.takeMedicine(this.lastHitEquipment):this.pourMedicine(this.lastHitEquipment)),this.removeHint()}},{key:"addHint",value:function(e){var t=e.getSpoonHintInfo(this.toGlobal({x:0,y:0})),i=t.p0,n=t.p1,t=this.calcAngSX(i,n),n=this.drawBg(e,i.x,i.y,{rotation:t.angle});n.x=i.x,n.y=i.y,n.allowGetBounds=!1,n.scale.x=t.sx,e.willAdsorbEqBounds=n}},{key:"calcAngSX",value:function(e,t){var i,e=t.x>=e.x?(i=Math.atan2(t.y-e.y,t.x-e.x),1):(i=Math.atan2(-(t.y-e.y),-(t.x-e.x)),-1);return{angle:i,sx:e}}},{key:"removeHint",value:function(){this.lastHitEquipment&&(this.removeGraphicsOrBg(),this.lastHitEquipment=null)}},{key:"updateHint",value:function(e){var t=e.getSpoonHintInfo(this.toGlobal({x:0,y:0})),i=t.p0,t=t.p1,t=this.calcAngSX(i,t);e.willAdsorbEqBounds.x=i.x,e.willAdsorbEqBounds.y=i.y,e.willAdsorbEqBounds.rotation=t.angle,e.willAdsorbEqBounds.scale.x=t.sx}},{key:"checkCollision",value:function(){var e=this.isEmpty()?this.getTakeCollisionContainer():this.getPourCollisionContainer();e!==this.lastHitEquipment?(this.removeHint(),e&&this.addHint(e),this.lastHitEquipment=e):e&&y.SPECIL_LABSPOON_HINT_CONTAINER.includes(e.name)&&this.updateHint(e)}},{key:"getPourCollisionContainer",value:function(){for(var e=this.getHitObjectsByType(f),t=e.length,i=[],n=0;n<t;n++){var a=e[n];if(a.hasCovered){if("CopperSheet"===a.coveredType)for(var r=0;r<a.children.length;r++)if("CopperSheet"===a.children[r].name)return a.children[r]}else a.canSpoonPour(this)&&i.push(a)}return this.getMinDisEq(i)}},{key:"getTakeCollisionContainer",value:function(){for(var e=this.getHitObjectsByType(f),t=e.length,i=[],n=0;n<t;n++){var a=e[n];a.canSpoonTake(this)&&i.push(a)}return this.getMinDisEq(i)}},{key:"getMinDisEq",value:function(e){for(var t=null,i=this.toGlobal(new v(0,0)),n=1/0,a=0;a<e.length;a++){var r,o=e[a],s=void 0;s=o.pM?o.toGlobal(o.pM):(r=o.getLocalBounds(),o.toGlobal({x:r.x+r.width/2,y:r.y+r.height/2}));s=NBPoint.distance(i,s);s<n&&(n=s,t=o)}return t}},{key:"pourMedicine",value:function(e){var t,i;e.isLiquidMedicine||(y.ADDINOUTSIDECONTAINER.indexOf(e.name)<0&&this.parent.setChildIndex(this,0),(i=e.getSpoonPourInfo(new v(this.x,this.y)))&&(t=this.parent.toLocal(i.p0),i=this.parent.toLocal(i.p1),this.pullContainerAnimate(e,t,i)))}},{key:"putMedicineToPaperChannel",value:function(e){var t=this;(new TimelineMax).to(this,.5,{x:e.x+e.width/5.5,y:e.y-30,rotation:3*-Math.PI/7,ease:Sine.easeInOut,onComplete:function(){e.addMedicine(t.getData(),t.medicineAmount),t.medicineAmount=0}}).to(this,.5,{rotation:0})}},{key:"pullContainerAnimate",value:function(e,t,i){var n=this,a=this.calcAngSX(t,i);e.isAddingMed=!0;var r=a.sx,a=a.angle;this.scale.x=r,(new TimelineMax).to(this,.5,{x:i.x,y:i.y,rotation:a}).to(this,.3,{x:t.x,y:t.y,onComplete:function(){e.addMedicine(n.getData(),e.medRefOfLabSpoon,n.medicineAmount),n.medicineAmount=0}}).to(this,.3,{x:i.x,y:i.y,onComplete:function(){n.scale.x=1,delete e.isAddingMed}}).to(this,.3,{rotation:0,x:i.x+80,y:i.y-50,onComplete:function(){n.toTop(),n.updateTransform()}})}},{key:"updateMedicineState",value:function(){var e,t,i;this.isEmpty()?this.medicine.gotoAndStop(0):(this.medicine.gotoAndStop(1),e=this.getMedicineColor(),i=(t=this.medicine.medicineBg.children[0]).currentPath.shape,t.clear(),t.beginFill(e),t.drawPolygon(i))}},{key:"getMedicineColor",value:function(){var t,i=16777215,n=0;return this._tempVo.forEach(function(e){t=e.getMass(),n<t&&(n=t,i=e.getColor())}),(0,r.default)(i)}},{key:"setMedicineData",value:function(e){var t,i,n=e.solidAry,a=[];for(i in n)t=n[i].deepClone(),a.push(t);this.setData(a)}},{key:"getMedicineMass",value:function(){var t=0;return this._tempVo.forEach(function(e){t+=e.getMass()}),t}},{key:"takeMedicine",value:function(e){var t=this;e.parent.addChild(e),e.interactiveChildren=!1;var i=new TimelineMax({onComplete:function(){t.updateMedicineState(!0,e),t.getMedicineFrom=e,t.setMedicineData(e.medicineData),t.medicineAmount=3,"WildMouthedBottle"===e.name?t.on(NBDrag.event.START_DRAG,function e(){t.off(NBDrag.event.START_DRAG,e),t.getMedicineOver(!0)}):t.getMedicineOver(!1)}});i.to(this,.5,{x:e.x,y:e.y-160,rotation:3*-Math.PI/7,ease:Sine.easeInOut}),i.to(this,.5,{y:e.y})}},{key:"getMedicineOver",value:function(e){var t=this,i=this.getMedicineFrom;e&&(this.setMedicineData(i.medicineData),this.medicineAmount=this._medicineAmount,this._tempVo.forEach(function(e){t.updateMedicineInBottle(t.getMedicineFrom,e.name,e.mol)})),i.interactiveChildren=!0,TweenMax.to(this,.5,{y:i.y-190,rotation:0,ease:Sine.easeOut,onComplete:function(){y.currentConfigEq===t&&t.execute(NBCommand.communicate.angular.SHOW_EQ_ATTRIBUTE,{children:[t]})}}),this.getMedicineFrom=null}},{key:"updateMedicineInBottle",value:function(e,t,i){var n=e.medicineData.solidAry[t];n.setMol(Math.max(n.getMol()-i,0));for(var e=e.medicineNBGraphicMap.get(t),a=(0,h.default)(e),r=0;r<a.length;r++){var o=a[r];o.needUpdateSize++;var s=o.solidMedicineInfo.get(t),l=s.getMol();if(!(l<i)){s.setMol(l-i),o.updateMedSize();break}s.setMol(0),i-=l,o.updateMedSize()}}},{key:"isEmpty",value:function(){return 0===this.medicineAmount}},{key:"setData",value:function(e){this._tempVo=e}},{key:"getData",value:function(){return this._tempVo}},{key:"cleanMed",value:function(){}},{key:"checkCanCleanByTissue",value:function(){return this.parent===this.getEqLayer()&&!this.medicineAmount}},{key:"getConfigureData",value:function(){var i=this,e=(0,l.default)((0,d.default)(LabSpoon.prototype),"getConfigureData",this).call(this);return this.isEmpty()||e.confArr.push(m.getScrollBar("药品质量",!0,"g",15,.01,this.medicineAmount,.01,function(e){var t;i.isEmpty()||(t=(0,n.default)(e.showValue),isNaN(t)||(i.medicineAmount=t,e._showValue=i.medicineAmount))})),e}},{key:"toJSON",value:function(){var e=(0,l.default)((0,d.default)(LabSpoon.prototype),"toJSON",this).call(this);return e._tempVo=this.getData(),e.medicineAmount=this.medicineAmount,e}},{key:"setJSON",value:function(e){if((0,l.default)((0,d.default)(LabSpoon.prototype),"setJSON",this).call(this,e),e._tempVo){for(var t=[],i=0;i<e._tempVo.length;i++){var n=e._tempVo[i].dat,a=(e._tempVo[i]._mol||e._tempVo[i].mol||0)/e.medicineAmount,a=new I(n,a);a.oneMol=a.getMol(),t.push(a)}this.setData(t)}this.medicineAmount=e.medicineAmount}}]),LabSpoon}();e.exports=LabSpoon},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8),p=i(16);e.exports=function(){(0,l.default)(LaserPen,d);var t=u(LaserPen);function LaserPen(){var e;return(0,r.default)(this,LaserPen),(e=t.call(this)).name="LaserPen",e.CNName="激光笔",e.z_index=28,e}return(0,o.default)(LaserPen,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(LaserPen.prototype),"creationComplete",this).call(this),this.initEvents()}},{key:"initEvents",value:function(){var e=this;this.switchType=0,this.lightPic.alpha=0;var i=this.root.mouseManager;function t(e,t){i.changeMouseStatus(p.status.PAN,e,t)}this.switchBtn.on(MouseEvent.MOUSE_OVER,function(){t(!0,e)}),this.switchBtn.on(MouseEvent.MOUSE_OUT,function(){t(!1,e)}),NBGesture.addGesture(this.switchBtn,NBGesture.gesture.TAP,function(){e.setSwitchType(1-e.switchType)})}},{key:"setSwitchType",value:function(e){this.switchType=e,this.status.x=this.switchType?44:31,this.lightPic.alpha=this.switchType}},{key:"toJSON",value:function(){var e=(0,s.default)((0,c.default)(LaserPen.prototype),"toJSON",this).call(this);return e.switchType=this.switchType,e}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(LaserPen.prototype),"setJSON",this).call(this,e),e.switchType&&this.setSwitchType(e.switchType)}}]),LaserPen}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(202);e.exports=function(){(0,l.default)(LightBulb,d);var t=u(LightBulb);function LightBulb(){var e;return(0,r.default)(this,LightBulb),(e=t.call(this)).name="LightBulb",e.CNName="灯泡",e.currentCurrent=0,e.MAX_CURRENT=.3,e.isBurned=!1,e}return(0,o.default)(LightBulb,[{key:"creationComplete",value:function(){this.tip.allowGetBounds=!1,this.shine.allowGetBounds=!1,(this.light.filament.shine.allowGetBounds=!1,s.default)((0,c.default)(LightBulb.prototype),"creationComplete",this).call(this);var e=this.terminalLeft,t=this.terminalRight;this.rubberPosAry=[{x:e.x-20,y:e.y,name:"left",rotation:Math.PI},{x:t.x+20,y:t.y,name:"right",rotation:0}]}},{key:"setCurrent",value:function(e){e>this.MAX_CURRENT&&(this.isBurned=!0,this.currentCurrent=0),this.currentCurrent=e}},{key:"update",value:function(e){(0,s.default)((0,c.default)(LightBulb.prototype),"update",this).call(this,e);var t=this.tip,i=this.light,n=i.filament,a=n.dark,e=n.bright,n=n.shine;if(this.isBurned)t.alpha||(t.alpha=1,i.shell.gotoAndStop(1),e.alpha=0,a.alpha=1,n.alpha=0,this.shine.alpha=0);else{if(t.alpha=0,i.shell.gotoAndStop(0),!this.currentCurrent)return e.alpha=0,a.alpha=1,n.alpha=0,void(this.shine.alpha=0);i=this.currentCurrent/this.MAX_CURRENT;e.alpha=Math.min(2*i,1),a.alpha=1-e.alpha;i=Math.max(2*i-1,0);n.alpha=i,this.shine.alpha=.45*i,this.shine.scale.set(1+.5*i,1+.5*i),this.currentCurrent=0}}}]),LightBulb}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var ADropper=i(401);e.exports=function(){(0,l.default)(LongADropper,ADropper);var t=u(LongADropper);function LongADropper(){var e;return(0,r.default)(this,LongADropper),(e=t.call(this)).name="LongADropper",e.CNName="长胶头滴管",e}return(0,o.default)(LongADropper,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(LongADropper.prototype),"creationComplete",this).call(this)}}]),LongADropper}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(130)),s=n(i(1)),l=n(i(2)),h=n(i(7)),c=n(i(5)),u=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=i(8);e.exports=function(){(0,c.default)(LongIronClampSideLook,f);var t=p(LongIronClampSideLook);function LongIronClampSideLook(){var e;return(0,s.default)(this,LongIronClampSideLook),(e=t.call(this)).isAddtoSupport=!0,e.z_index=16.02,e.selectByIndex=!0,e.hitThisAttachAttr={offsetUp:-28,offsetDown:28,type:2},e.name="LongIronClampSideLook",e.CNName="长铁夹侧视",e}return(0,l.default)(LongIronClampSideLook,[{key:"creationComplete",value:function(){var i=this;(0,h.default)((0,d.default)(LongIronClampSideLook.prototype),"creationComplete",this).call(this),this.clampEquipments=[],this.getLimitData=function(){var e;return{currentId:e=i.currentHitObj?i.currentHitObj.getUUID():e,dragRect:i.dragRect}},this.setLimitData=function(e){var t=i;e.currentId&&(i.dragRect=e.dragRect,i.hitSupport=!0,i.getEquipmentByUUID(e.currentId).then(function(e){t.currentHitObj=e}),i.addEventListener(TouchEvent.TOUCH_END,i._mouseUp_),i.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,i._mouseUp_),i.parent._equipment_&&i.parent._equipment_.push(i),NBDrag.addDrag(i,i.dragRect))},this.on(NBDrag.event.START_DRAG,function(){"WaterBathWithIronPillar"===this.parent.name&&this.parent.setChildIndex(this,2)}),this.on(NBDrag.event.DRAG_MOVE,function(){var e=this.parent;"WaterBathWithIronPillar"===e.name&&(this.x=e.topPos.x,this.y<e.topPos.y?this.y=e.topPos.y:this.y>e.bottomPos.y&&(this.y=e.bottomPos.y))})}},{key:"clampEquipmentsRemove",value:function(e){!e||-1!==(e=this.clampEquipments.indexOf(e))&&this.clampEquipments.splice(e,1)}},{key:"toJSON",value:function(){for(var e=[],t=0;t<this.clampEquipments.length;t++)e[t]=this.clampEquipments[t].getUUID();return(0,r.default)({clampEquipments:e},(0,h.default)((0,d.default)(LongIronClampSideLook.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,h.default)((0,d.default)(LongIronClampSideLook.prototype),"setJSON",this).call(this,e);for(var t=[],i=0;i<e.clampEquipments.length;i++)t.push(this.getEquipmentByUUID(e.clampEquipments[i]));var n=this;o.default.all(t).then(function(e){for(var t=0;t<e.length;t++)n.clampEquipments[t]=e[t]})}}]),LongIronClampSideLook}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(Magnifier,d);var t=u(Magnifier);function Magnifier(){var e;return(0,r.default)(this,Magnifier),(e=t.call(this)).name="Magnifier",e.CNName="放大镜",e.z_index=21.05,e}return(0,o.default)(Magnifier,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(Magnifier.prototype),"creationComplete",this).call(this),this.hotEquipmentAry=["P4"]}},{key:"lightPointHot",value:function(){var t=this,e=this.lightPoint;this.getObjectByAABB(e.getBounds(),!0,!0).forEach(function(e){t.hotEquipmentAry.includes(e.name)&&e.increaseTemp(140,50)})}},{key:"update",value:function(e){(0,s.default)((0,c.default)(Magnifier.prototype),"update",this).call(this,e),this.lightPointHot()}}]),Magnifier}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),d=n(i(7)),l=n(i(5)),h=n(i(6)),p=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var f=i(8),i=function(){(0,l.default)(u,f);var t=c(u);function u(){var e;return(0,r.default)(this,u),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(u,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){(0,d.default)((0,p.default)(u.prototype),"creationComplete",this).call(this);var e=this,t=this.getViewStack(),a=this.execute(NBCommand.CREATE_EQUIPMENT,"ConicalFlask250ml"),r=this.execute(NBCommand.CREATE_EQUIPMENT,"SeparatingFunnelBulbShape"),o=this.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig"),s=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),i=!(e.executeEq=[a,r,o,s]),n=!1,l=!1,h=!1;function c(){var e=a.getHitProperty(o,a),t=0;e.offSetX&&(t=Number(e.offSetX));var i=Number(e.y);o.choicePlugScale(a,0);var n=Number(e.zIndex);((a.currentPlug=o).currentArea=a).addChildAt(o,n),o.x=Number(e.x)+t,o.y=Number(i),a.plugInit(o),a.addCoverBody(),NBDrag.addDrag(o),s.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:s,fromSetJson:!0}),r.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:r,fromSetJson:!0})}a.on("creationComplete",function(){t.addChild(a),a.x=e.x,a.y=e.y,i=!0,NBDrag.addDrag(a),h&&l&&s&&o&&n&&r&&c()}),r.on("creationComplete",function(){t.addChild(r),r.x=e.x-10,r.y=e.y-480,n=!0,NBDrag.addDrag(r),h&&l&&s&&o&&i&&a&&c()}),o.on("creationComplete",function(){t.addChild(o),l=!0,i&&h&&a&&s&&n&&r&&c()}),s.on("creationComplete",function(){t.addChild(s),h=!0,s.updateCurveGlass(Math.PI),s.x=e.x+115,s.y=e.y-54,NBDrag.addDrag(s),i&&l&&a&&o&&n&&r&&c()})}}]),u}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(10);e.exports=function(){(0,h.default)(Mantou,p);var e=d(Mantou);function Mantou(){return(0,o.default)(this,Mantou),e.apply(this,arguments)}return(0,s.default)(Mantou,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(Mantou.prototype),"creationComplete",this).call(this),this.name="Mantou",this.CNName="馒头",this.constName="Mantou",this.MaxDirtScale=4,this.DeltaDirtScale=.1,this.dirtScale=1,this.dirtDis.visible=!1,this.preventCalEffect=!0,this.dirtDis.mask=this.dirtMask.getChildAt(0)}},{key:"update",value:function(e){(0,l.default)((0,u.default)(Mantou.prototype),"update",this).call(this,e)}},{key:"curContainergotDrip",value:function(e){var t=e.drip.medicineData;if(t){for(var i=!1,n=0;n<t.length;n++)if("I2"===t[n].name){i=!0;break}i&&(this.dirtScale=Math.min(this.dirtScale+.1,this.MaxDirtScale),this.updateDirt(this.dirtScale))}}},{key:"updateDirt",value:function(e){1<e?(this.dirtDis.scale.set(e,e),this.dirtDis.visible=!0):this.dirtDis.visible=!1}},{key:"toJSON",value:function(){var e={dirtScale:this.dirtScale};return(0,r.default)((0,l.default)((0,u.default)(Mantou.prototype),"toJSON",this).call(this),e)}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(Mantou.prototype),"setJSON",this).call(this,e),this.dirtScale=e.dirtScale,this.updateDirt(this.dirtScale)}}]),Mantou}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),f=i(31),I=i(32),g=i(16);e.exports=function(){(0,h.default)(Match,p);var t=d(Match);function Match(){var e;return(0,o.default)(this,Match),(e=t.call(this)).name="Match",e.CNName="火柴",f.register(I.MATCH),e.z_index=23.08,e}return(0,s.default)(Match,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(Match.prototype),"creationComplete",this).call(this);var e=this.match;e.addEventListener(TouchEvent.TOUCH_BEGIN,this.createMatch),e.black.alpha=0,e.fireStar.alpha=0,e.blackMask.alpha=0,e.oriMask.alpha=0;var t=this.root.mouseManager;g.addMouseEvent(t,e,g.status.OPEN)}},{key:"createMatch",value:function(t){t.stopPropagation(),f.play(I.MATCH);var i=this.parent,n=this.root.execute(NBCommand.ADD_EQUIPMENT,{name:"MatchStick"});i.match.visible=!1,TweenMax.to(i.match,.3,{alpha:1,onComplete:function(){i.match.visible=!0}}),n.on("creationComplete",function(){var e=i.root.viewStack.toLocal(t.data.global);n.x=e.x,n.y=e.y,n.hasUp||(t.target=n,t.type="pointerdown",t.capture=!1,TouchEvent.simulateTouchDown(n,t),n.timer=(new Date).getTime(),n.__globalPoint__=(0,r.default)({},t.data.global),n.getViewStack().needTouchUpAry.push(n)),delete n.hasUp})}}]),Match}()},function(e,t,MatchStick){"use strict";var a=MatchStick(4),i=MatchStick(0),n=i(MatchStick(1)),r=i(MatchStick(2)),o=i(MatchStick(7)),s=i(MatchStick(5)),l=i(MatchStick(6)),h=i(MatchStick(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=MatchStick(8),d=MatchStick(34),p=MatchStick(31),f=MatchStick(32),I=MatchStick(11),MatchStick=function(){(0,s.default)(MatchStick,u);var t=c(MatchStick);function MatchStick(){var e;return(0,n.default)(this,MatchStick),(e=t.call(this)).name="MatchStick",e.CNName="火柴条",e.z_index=25.01,p.register(f.CHECKPUREPU),p.register(f.CHECKPUREJIAN),e.emitedLightOn=!1,e.noNewRadiantHeat=!1,e}return(0,r.default)(MatchStick,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(MatchStick.prototype),"creationComplete",this).call(this),this.init(),this.blackMask.allowGetBounds=!1,this.originLocalBounds=this.getLocalBounds()}},{key:"containsPoint",value:function(e){var t=this.getBounds(),i=e.x,e=e.y;return i>t.x&&e>t.y&&i<t.x+t.width&&e<t.y+t.height}},{key:"init",value:function(){var e=this;e.frame=0,e.moveTime=0,e.totalLine=30,e.starTime=0,e.hitAry={BigBeaker:!0,BigTestTube:!0,SmallTestTube:!0,SmallBeaker:!0,HugeBeaker:!0,GasCollectingBottle:!0,BaseGasMedicine:!0,BigEvaporatingDish:!0},e.lightOn(),e.bindMathLightOff(),e.on(NBDrag.event.STOP_DRAG,this.stopDrag),e.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),e.fireStar.alpha=0,e.black.mask=e.blackMask.getChildAt(0),e.ori.mask=e.oriMask.getChildAt(0),this.oriRotate=this.rotation=-Math.PI/8}},{key:"eqPrepareDelete",value:function(){this.lightOff(),this.hasDelete=!0,this.currentContainer&&(this.currentContainer._isFullObj_===this&&(this.currentContainer._isFullObj_=null),this.currentContainer=null),(0,o.default)((0,h.default)(MatchStick.prototype),"eqPrepareDelete",this).call(this)}},{key:"eqAddToViewStack",value:function(){this.currentContainer&&(this.currentContainer._isFullObj_=null),(0,o.default)((0,h.default)(MatchStick.prototype),"eqAddToViewStack",this).call(this)}},{key:"lightOn",value:function(){var e;this.hasDelete||this.frame<this.totalLine-2&&"onFire"!==this.fireStyle&&"noO2"!==this.checkeEnvironment()&&((e=this).initParticle(),e.getViewStack().addParticle(e.particle),e.particle.bind(e),e.particle.ifScaleParticle=!0,e.fireStyle="onFire",e.lastParticlePos&&(e.particle.x=e.lastParticlePos.x,e.particle.y=e.lastParticlePos.y))}},{key:"initParticle",value:function(){if(this.particle&&this.particle.parent)return TweenMax.killTweensOf(this.particle),this.particle._gsTweenID&&delete TweenLite._internals.tweenLookup[this.particle._gsTweenID],void(this.particle.alpha=1);this.particle=d.getParticle(d.particles.match_fire)}},{key:"bindMathLightOff",value:function(){var e=this;this.execute(NBCommand.gesture.PUT_FIRE_GESTURE,{shakeCount:5,time:1e3,dis:this}),this.on("putfire",function(){e.lightOff()})}},{key:"getLightOnPoint",value:function(){return this.toGlobal({x:.13*this.moveTime,y:0})}},{key:"stopDrag",value:function(){var e=function(e){for(var t=e.getEquipments(),i=0;i<t.length;i++){var n=t[i].name;if(e.hitAry[n]&&e.hitTest(t[i]))return t[i]}}(this),t=this;t.getViewStack().removeNeedTouchUp(t),e&&(e.isCovered instanceof Function&&e.isCovered()||e.currentPlug||e.isCoverGS||e._isFullObj_||(e.addChildAtWithSamePos(this,0),NBDrag.removeDrag(this),this.rotation=this.oriRotate,this.particle&&(this.particle.ifScaleParticle=!1),TweenMax.to(this,.3,{x:e.eqLimitPos.x,y:e.eqLimitPos.y,onComplete:function(){NBDrag.addDrag(t),((t.currentContainer=e)._isFullObj_=t).particle&&(t.getViewStack().hasEqMove=2,t.particle.ifScaleParticle=!0)}})))}},{key:"normalBurn",value:function(e,t){var i;this.particle&&"onFire"===this.fireStyle&&this.frame<this.totalLine-1&&(this.starTime=0,this.moveTime++,this.particle.x=.13*this.moveTime,this.particle.y=0,this.lastParticlePos={x:this.particle.x,y:this.particle.y},this.particle.render(e),this.frame+=.03,0<this.frame&&this.frame<5&&(this.frame=5),i=this.frame/(this.totalLine-1),this.particle.setParticleProp("startAlpha",1-i),this.particle.setParticleProp("acceleration",{x:0,y:1e3*i-2e3}),t?(this.particle.setParticleProp("startScale",1.5),this.particle.setParticleProp("endScale",.6),this.particle.setParticleProp("startSpeed",1800)):(this.particle.setParticleProp("startScale",.9),this.particle.setParticleProp("endScale",.2),this.particle.setParticleProp("startSpeed",1e3)),this.frame>=this.totalLine-6&&(t=(this.totalLine-this.frame-1)/3,this.particle.setParticleProp("startSpeed",200+800*t)),this.blackMask.x=105*(this.frame/this.totalLine-1),this.oriMask.x=this.frame/this.totalLine*105,this.fireStar.x=this.oriMask.x-28,-10<this.fireStar.x&&this.fireStar.x<75?this.fireStar.alpha=1:this.fireStar.alpha=0,this.particle.updateTransform(),this.noNewRadiantHeat||this.newRadiantHeat(I.WOOD_HEAT_VALUE,this.particle.getBounds(),e,I.TEMP_ALCOHOL,!1,!1,this.particle),this.updateTransform(),this.frame>=this.totalLine-2&&this.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[this]}))}},{key:"lightOff",value:function(){var e=this;"onFire"===this.fireStyle&&this.particle&&(this.fireStyle="fireStar",TweenMax.to(this.particle,.4,{alpha:0,onComplete:function(){e.particle.parent&&"onFire"!==e.fireStyle&&(e.particle.parent.removeChild(e.particle),e.particle.destroy())}}))}},{key:"starLight",value:function(){"fireStar"===this.fireStyle&&(this.starTime++,180<=this.starTime&&this.starOff())}},{key:"starOff",value:function(){"allStop"!==this.fireStyle&&(this.fireStyle="allStop",TweenMax.to(this.fireStar,.5,{alpha:0}))}},{key:"checkeEnvironment",value:function(){if(!this.currentContainer)return this.hitGasO2?(this.hitGasO2=!1,"inO2"):"inAir";var e=this.currentContainer;if(e.canCheckPure){var t,i=e.medicineData.gasAry,n=e.medicineData.getFireGas(),a=e.medicineData.getGasMol(),r=n.gasMol/a;"onFire"===this.fireStyle&&.5<=r&&(t=new Date,e.pureSoundTime||(e.pureSoundTime=t-4e3),3e3<t-e.pureSoundTime&&(e.pureSoundTime=t,.85<r?p.play(f.CHECKPUREPU):p.play(f.CHECKPUREJIAN),n.fireAry.forEach(function(e){var t=e.getMol();e.setMol(.8*t)}),e.canCheckPure=!1));e=i.quickMap.get("O2"),i=0;return(i=e?e.getMol()/a:i)<.15?"noO2":.5<i?"inO2":"inAir"}}},{key:"update",value:function(e){var t=this.checkeEnvironment();"inAir"===t&&this.normalBurn(e),"inO2"===t&&("fireStar"===this.fireStyle?this.lightOn():"onFire"===this.fireStyle&&this.normalBurn(e,!0)),"noO2"===t&&(this.lightOff(),this.starOff()),this.starLight(),this.emitLightOnMsg()}},{key:"emitLightOnMsg",value:function(){!this.emitedLightOn&&this.particle&&this.particle.loaded&&(this.emit("matchStickFirstTimeFire"),this.emitedLightOn=!0)}},{key:"hitReact",value:function(e){if(e&&!(e.length<1)){var t=0;e.forEach(function(e){t+=e.getMol()});var i=0;if(e.forEach(function(e){I.CANBURNGAS.includes(e.name)&&(i+=e.getMol())}),!(0<t&&.5<=i/t)){var n=e.find(function(e){return"O2"===e.name}),e=0;switch(!0){case(e=n?n.getMol()/t:e)<.1:this.lightOff();break;case.5<e:this.hitGasO2=!0}}}}}]),MatchStick}();e.exports=MatchStick},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(60)),o=n(i(24)),s=n(i(1)),l=n(i(2)),h=n(i(7)),c=n(i(5)),u=n(i(6)),d=n(i(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=i(8),I=i(10),g=i(34),m=i(20),y=i(22),v=PIXI.Point,C=PIXI.Rectangle,i=function(){(0,c.default)(a,f);var t=p(a);function a(){var e;return(0,s.default)(this,a),(e=t.call(this)).noPascal=!0,e.name="MedicineBottleWithHole",e.CNName="带孔的塑料药瓶",e.z_index=19.04,e.conf_chemical_equation=!0,e.temp=nb.DEFAULT_TEMP,e.hitEqs={GasCollectingBottle:new C(30,116,162,246),BaseGasMedicine:new C(30,116,162,246),DryingBottle:new C(30,116,162,246),BigBeaker:new C(35,-15,170,248),SmallBeaker:new C(25,-20,124,192),HugeBeaker:new C(62,-10,315,443)},e.bottle=null,e._container=null,e.holes=[],e.bubbles=[],e.posStatus="inAir",e.holesInWater=[],e.solidAry={},e.bubbleLife=10,e}return(0,l.default)(a,[{key:"creationComplete",value:function(){(0,h.default)((0,d.default)(a.prototype),"creationComplete",this).call(this);var e=this.medicineManager.getMedicineData("CaCO3");this.medVo=new m(e,10),this.solidAry.CaCO3=this.medVo;for(var t=0;t<3;t++)for(var i=0;i<4;i++){var n=new PIXI.Graphics;this.addChild(n),n.beginFill(16711680,0),n.drawCircle(0,0,6),n.endFill(),this.holes.push(n),this.addChild(n),n.x=20*t-19,n.y=20.7*i-11}}},{key:"addMedicine",value:function(){}},{key:"createBubbleParticle",value:function(e){var t=g.getParticle(g.particles.solid_bubble);this.container.waterContainer.addChild(t),t.alpha=1,t.bind(this,20*e-19,50),this.bubbles.push(t)}},{key:"updateBubbleParticle",value:function(e){2===e.type&&0<e.mol&&(this.bubbles.forEach(function(e){e.render(),e.alpha=1}),this.bubbleLife=10)}},{key:"eqPrepareDelete",value:function(){(this.container=null,h.default)((0,d.default)(a.prototype),"eqPrepareDelete",this).call(this)}},{key:"addBubbles",value:function(){for(var e=0;e<3;e++)this.createBubbleParticle(e)}},{key:"removeBubbles",value:function(){var t=this;this.bubbles.forEach(function(e){t.container.particleDestroy(e)}),this.bubbles=[]}},{key:"update",value:function(e){(0,h.default)((0,d.default)(a.prototype),"update",this).call(this,e),this.parent!==this.getEqLayer()&&(0!==this.parent.getChildIndex(this)&&this.parent.setChildIndex(this,0),!this.container&&this.parent instanceof I&&(this.container=this.parent)),this.updateHoleInWater(),y.genEffectFunc(this,e,!0),this.updateBubbles()}},{key:"updateBubbles",value:function(){var t=this;this.bubbleLife--,this.bubbleLife<0&&(this.bubbleLife=0),this.bubbles.forEach(function(e){t.bubbleLife?(e.render(),e.alpha=1):e.alpha=0})}},{key:"container",get:function(){return this._container},set:function(e){var t=this.medVo.name;this._container&&(this.removeBubbles(),this._container.blockMedicineMap.get(t).delete(this)),this._container=e,this._container&&(this._container.blockMedicineMap&&((e=this._container.blockMedicineMap.get(t)||new r.default).add(this),this._container.blockMedicineMap.set(t,e)),this.addBubbles())}},{key:"getSolidMedicineInfo",value:function(){var e=this.medVo;return(new o.default).set(e.name,e.deepClone(this.holesInWater.length))}},{key:"eqPrepareDrag",value:function(){(0,h.default)((0,d.default)(a.prototype),"eqPrepareDrag",this).call(this),this.parent!==this.getEqLayer()&&(this.getEqLayer().addChildWithSamePos(this),this.container=null)}},{key:"eqStopDrag",value:function(e){(0,h.default)((0,d.default)(a.prototype),"eqStopDrag",this).call(this,e);var t,i=this.getHitEq();i&&(i.addChildAtWithSamePos(this,0),t=this.hitEqs[i.name],e=Math.min(Math.max(this.x,t.x+41),t.x+t.width-41),t=Math.min(Math.max(this.y,t.y+72),t.y+t.height-72),this.animateTo(e,t,function(){}),this.container=i)}},{key:"getHitEq",value:function(){var t=this,i=[];return this.getEquipments().forEach(function(e){t.hitEqs[e.name]&&!e.isCoverGS&&t.bottle.hitTest(e.bg||e)&&i.push(e)}),this.getMinDisEq(i)}},{key:"getMinDisEq",value:function(e){for(var t=null,i=this.toGlobal(new v(0,0)),n=1/0,a=0;a<e.length;a++){var r=e[a],o=r.toGlobal(new v(0,0)),o=NBPoint.distance(i,o);o<n&&(n=o,t=r)}return t}},{key:"animateTo",value:function(e,t,i){TweenMax.to(this,.2,{x:e,y:t,onComplete:i})}},{key:"getTemp",value:function(){return this.temp}},{key:"updateHoleInWater",value:function(){if(this.holesInWater=[],this.container){var e=this.container.liquidGra;if(e.length)for(var t=0;t<e.length;t++){var i=e[t],n=i.allowGetBounds;i.allowGetBounds=!0;for(var a=0;a<this.holes.length;a++){var r=this.holes[a];r.hitTest(i)&&this.holesInWater.push(r)}i.allowGetBounds=n}}this.holesInWater.length?this.posStatus="inWater":this.posStatus="inAir"}}]),a}();e.exports=i},function(e,t,MortarPestle){"use strict";var a=MortarPestle(4),i=MortarPestle(0),n=i(MortarPestle(9)),r=i(MortarPestle(1)),o=i(MortarPestle(2)),s=i(MortarPestle(7)),l=i(MortarPestle(5)),h=i(MortarPestle(6)),c=i(MortarPestle(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=MortarPestle(8),p=MortarPestle(10),f=MortarPestle(16),I=nape.geom.Vec2,g=MortarPestle(29).getLan,MortarPestle=function(){(0,l.default)(MortarPestle,d);var t=u(MortarPestle);function MortarPestle(){var e;return(0,r.default)(this,MortarPestle),(e=t.call(this)).name="MortarPestle",e.CNName="研钵杵",e.z_index=23.09,e}return(0,o.default)(MortarPestle,[{key:"creationComplete",value:function(){this.initText(),this.initGrindBtn(),(0,s.default)((0,c.default)(MortarPestle.prototype),"creationComplete",this).call(this),this.addEventListener(NBDrag.event.STOP_DRAG,this.addToMortar)}},{key:"initText",value:function(){this.grindBtn.txt.allowGetBounds=!1,this.grindBtn.txt.text=g("eq_grind"),this.grindBtn.txt.anchor.set(.5)}},{key:"addToMortar",value:function(){var e=this,t=this.getSortDisHitObjects();e.parent&&"Mortar"===e.parent.name&&(e.parent.hasPestle=!1,e.getEqLayer().addChildWithSamePos(e),e.grindBtn.visible=!1);for(var i=0;i<t.length;i++){var n=t[i].objB;if("Mortar"===n.name&&!n.getPourInObj()&&e.hitTest(n)&&!n.hasPestle){NBDrag.removeDrag(e),n.hasPestle=!0;var a=n.position,a={x:a.x+(n.localBounds.width/2-e.localBounds.width/2),y:a.y-(e.localBounds.height-80)};return void TweenMax.to(e,.3,{x:a.x,y:a.y,onComplete:function(){NBDrag.addDrag(e,void 0,{bringToFront:!1}),n.addChildAtWithSamePos(e,n.children.length-2),e.grindBtn.visible=!0}})}}}},{key:"grinding",value:function(){var i,e,t,n,a=this;"Mortar"!==!this.parent.name&&(this.interactive=!1,this.grindBtn.visible=!1,this.parent&&(this.parent.isGrinding=!0),NBDrag.removeDrag(this),i=this,(e=new TimelineMax({onComplete:function(){NBDrag.addDrag(a),i.interactive=!0,i.grindBtn.visible=!0,i.parent&&(i.parent.isGrinding=!1)}})).to(i,.3,{x:360,y:-290}),t=TweenMax.to(i,.6,{x:55,ease:Linear.easeInOut,onUpdate:function(){if(i.y=-290-(i.x-55)*(i.x-360)/250,Math.abs(i.x-210)<80&&i.grindMoveGraphics.call(i,1),i.parent&&i.parent.getAllHitBreakBlockMed){var e=i.parent.getAllHitBreakBlockMed();if(0<e.length)for(var t=0;t<e.length;t++)e[t].hitTest(i)&&e[t].hitBreak()}}}),n=TweenMax.to(i,.6,{x:360,ease:Linear.easeInOut,onUpdate:function(){if(i.y=(i.x-55)*(i.x-360)/700-290,Math.abs(i.x-210)<80&&i.grindMoveGraphics.call(i,1),i.parent&&i.parent.getAllHitBreakBlockMed){var e=i.parent.getAllHitBreakBlockMed();if(0<e.length)for(var t=0;t<e.length;t++)e[t].hitTest(i)&&e[t].hitBreak()}}}),e.add(t),e.add(n))}},{key:"grindMoveGraphics",value:function(e){var t=this.parent;if(t&&t instanceof p){t.activeCount=nb.ACTIVE_COUNT;var i=t.particleMedContainer&&t.particleMedContainer.children;if(i&&0<i.length)for(var n=0;n<i.length;n++){var a=i[n].napeShape.get_body(),r=300*(1-2*Math.random())*e*a.get_mass(),o=a.get_velocity().get_length();20<o&&(r*=Math.pow(1-(o-20)/o,.6)),a.applyImpulse(new I(r,0),a.get_position())}}}},{key:"initGrindBtn",value:function(){this.grindBtn.visible=!1,this.grindBtn.allowGetBounds=!1,this.grindBtn.scale.x=this.grindBtn.scale.y=.7,this.grindBtn.addEventListener(TouchEvent.TOUCH_BEGIN,this.grinding.bind(this));var e=this.root.mouseManager;f.addMouseEvent(e,this.grindBtn,f.status.PAN)}},{key:"toJSON",value:function(){return(0,n.default)({inMortar:this.parent!==this.getEqLayer()},(0,s.default)((0,c.default)(MortarPestle.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(MortarPestle.prototype),"setJSON",this).call(this,e),e.inMortar&&(NBDrag.addDrag(this),this.parent.addChildAtWithSamePos(this,this.parent.children.length-2))}},{key:"update",value:function(){}}]),MortarPestle}();e.exports=MortarPestle},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(MudTriangle,d);var t=u(MudTriangle);function MudTriangle(){var e;return(0,r.default)(this,MudTriangle),(e=t.call(this)).name="MudTriangle",e.CNName="泥三角",e.z_index=13.01,e}return(0,o.default)(MudTriangle,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(MudTriangle.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack)}}]),MudTriangle}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),d=n(i(7)),l=n(i(5)),h=n(i(6)),p=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var f=i(8),i=function(){(0,l.default)(u,f);var t=c(u);function u(){var e;return(0,r.default)(this,u),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(u,[{key:"creationComplete",value:function(){var e=this;(0,d.default)((0,p.default)(u.prototype),"creationComplete",this).call(this);var t=this.getViewStack(),a=this.execute(NBCommand.CREATE_EQUIPMENT,"GasCollectingBottle"),r=this.execute(NBCommand.CREATE_EQUIPMENT,"NonPorousRubberPlugBig"),o=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),s=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),i=!(this.executeEq=[a,r,o,s]),n=!1,l=!1,h=!1;function c(){var e=a.getHitProperty(r,a),t=0;e.offSetX&&(t=Number(e.offSetX));var i=Number(e.y);r.choicePlugScale(a,0);var n=Number(e.zIndex);((a.currentPlug=r).currentArea=a).addChildAt(r,n),r.x=Number(e.x)+t,r.y=Number(i),a.plugInit(r),a.addCoverBody(),NBDrag.addDrag(r),o.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:o,fromSetJson:!0}),s.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:a,dragObj:s,fromSetJson:!0})}a.on("creationComplete",function(){t.addChild(a),a.x=e.x,a.y=e.y,i=!0,NBDrag.addDrag(a),l&&n&&s&&r&&h&&o&&c()}),r.on("creationComplete",function(){t.addChild(r),n=!0,i&&l&&a&&o&&h&&s&&c()}),o.on("creationComplete",function(){t.addChild(o),l=!0,o.updateCurveGlass(0),o.x=e.x+78.5,o.y=e.y-47,NBDrag.addDrag(o),o.dripArea.y=o.ropePoint[1].y=o.whiffAreaAry[1].area.y=160,i&&n&&a&&r&&h&&s&&c()}),s.on("creationComplete",function(){t.addChild(s),h=!0,s.updateCurveGlass(Math.PI),s.x=e.x+144,s.y=e.y-47,NBDrag.addDrag(s),s.dripArea.y=s.ropePoint[1].y=s.whiffAreaAry[1].area.y=160,i&&n&&a&&r&&l&&o&&c()})}}]),u}();e.exports=i},function(e,t,NO2BallGroup){"use strict";var a=NO2BallGroup(4),i=NO2BallGroup(0),r=i(NO2BallGroup(9)),o=i(NO2BallGroup(1)),s=i(NO2BallGroup(2)),l=i(NO2BallGroup(7)),h=i(NO2BallGroup(5)),c=i(NO2BallGroup(6)),u=i(NO2BallGroup(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=NO2BallGroup(8),f=NO2BallGroup(1198),I=NO2BallGroup(165),g=NO2BallGroup(21),NO2BallGroup=function(){(0,h.default)(NO2BallGroup,p);var n=d(NO2BallGroup);function NO2BallGroup(e){var t;(0,o.default)(this,NO2BallGroup),(t=n.call(this)).name="NO2BallGroup",t.CNName="二氧化氮平衡球",t.alpha=0;var i=t.cImage=new f(656,150);return t.gradient=i.context.createLinearGradient(0,0,656,0),t.sp=new PIXI.Sprite(t.cImage.texture),t.dataBuild=!1,e&&(t.dataBuild=e.dataBuild),t}return(0,s.default)(NO2BallGroup,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(NO2BallGroup.prototype),"creationComplete",this).call(this);var t,i,n=this;n.bg.interactive=!1,n.bg.interactiveChildren=!1,this.dataBuild||(t=this.left=this.execute(NBCommand.CREATE_EQUIPMENT,"NO2Ball"),i=this.right=this.execute(NBCommand.CREATE_EQUIPMENT,"NO2Ball"),t.on("creationComplete",function(){t.y=n.height-t.height+8,t.x+=8,n.addChildAt(t,2),t.attr="left",e.creationCompleteLeft=!0}),i.on("creationComplete",function(){i.y=n.height-i.height+2,i.x=n.width-i.width+14,n.addChildAt(i,2),t.attr="right",n.alpha=1,e.creationCompleteRight=!0}),t.on("dragObjComplete",function(){n.leftBeakerShow.alpha=1}),i.on("dragObjComplete",function(){n.rightBeakerShow.alpha=1}),t.on("_childPrepareDrag_",function(){n.leftBeakerShow.alpha=0}),i.on("_childPrepareDrag_",function(){n.rightBeakerShow.alpha=0}))}},{key:"eqStopDrag",value:function(){var e=this.left.perfectHitObj();e&&(e.eqAddToViewStack(),e.eqStopDrag(this.left));e=this.right.perfectHitObj();e&&(e.eqAddToViewStack(),e.eqStopDrag(this.right))}},{key:"cImageUpdate",value:function(){if(this.checkCreateComplete()){if(!this.leftG){var e=this.sp;this.top.addChild(e),this.top.mask=this.topMask.getChildAt(0);var t=this.leftG=new PIXI.Graphics;t.beginFill(12077114),t.drawRect(0,0,126,377);e=this.rightG=new PIXI.Graphics;return e.beginFill(12077114),e.drawRect(0,0,126,377),this.rightGra.addChild(e),this.leftGra.addChild(t),this.leftGra.mask=this.topMask.getChildAt(0),this.rightGra.mask=this.topMask.getChildAt(0),t.alpha=.2,void(e.alpha=.2)}t=this.left.gasGra.gasColor,e=this.right.gasGra.gasColor;this.gradient=this.cImage.context.createLinearGradient(0,0,656,0),this.gradient.addColorStop(0,"#".concat(("00000"+(0|t).toString(16)).substr(-6))),this.gradient.addColorStop(1,"#".concat(("00000"+(0|e).toString(16)).substr(-6))),this.leftG.clear(),this.leftG.beginFill(t),I.drawPolygon(this.leftG,[{x:0,y:0},{x:126,y:0},{x:126,y:377},{x:0,y:377}]),this.leftG.endFill(),this.rightG.clear(),this.rightG.beginFill(e,1),I.drawPolygon(this.rightG,[{x:0,y:0},{x:126,y:0},{x:126,y:377},{x:0,y:377}]),this.rightG.endFill(),this.cImage.context.fillStyle=this.gradient,this.cImage.context.fillRect(0,0,656*this.root.renderer.resolution,150),this.cImage.updateTexture()}}},{key:"checkCreateComplete",value:function(){return!(!this.creationCompleteRight||!this.creationCompleteLeft)&&!(!this.left.gasGra.gasColor||!this.right.gasGra.gasColor)}},{key:"getConfigureData",value:function(){var e=this,i={confArr:[]};if(this.noConfig)return i;for(var n=["温度","体积","物质的量","化学方程式","浓度","质量"],a=["conf_show_temp","conf_show_volume","conf_show_mol","conf_chemical_equation","conf_show_sol","conf_show_weight"],t=0;t<n.length;t++)!function(t){i.confArr.push(g.inputSwitch(n[t],e[a[t]],function(e){this[a[t]]=e.checked,this.left[a[t]]=e.checked,this.right[a[t]]=e.checked}.bind(e)))}(t);return i}},{key:"update",value:function(e){(0,l.default)((0,u.default)(NO2BallGroup.prototype),"update",this).call(this,e),this.cImageUpdate()}},{key:"toJSON",value:function(){return(0,r.default)({left:this.left&&this.left.getUUID(),right:this.right&&this.right.getUUID()},(0,l.default)((0,u.default)(NO2BallGroup.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(NO2BallGroup.prototype),"setJSON",this).call(this,e),e.left&&this.getEquipmentByUUID(e.left).then(function(e){(t.left=e).attr="left",t.creationCompleteLeft=!0}),e.right&&this.getEquipmentByUUID(e.right).then(function(e){(t.right=e).attr="right",t.creationCompleteRight=!0})}}]),NO2BallGroup}();e.exports=NO2BallGroup},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}i=function(e){(0,s.default)(a,e);var n=c(a);function a(e,t){(0,r.default)(this,a);var i,e=(i=n.call(this)).__createCanvas(e,t),t=e.getContext("2d"),e=PIXI.Texture.fromCanvas(e,PIXI.SCALE_MODES.DEFAULT);return i.texture=e,i.context=t,i}return(0,o.default)(a,[{key:"updateTexture",value:function(){this.texture.update()}},{key:"__createCanvas",value:function(e,t){var i=document.createElement("div");return i.innerHTML="<canvas width='"+e+"px' height='"+t+"px' style='width:"+e+"px;height:"+t+"px;background:#cc0000;'></canvas>",i.childNodes[0]}}]),a}(PIXI.Sprite);e.exports=i},function(e,t,NewIceWaterBath){"use strict";var a=NewIceWaterBath(4),i=NewIceWaterBath(0),n=i(NewIceWaterBath(9)),r=i(NewIceWaterBath(1)),o=i(NewIceWaterBath(2)),s=i(NewIceWaterBath(7)),l=i(NewIceWaterBath(5)),h=i(NewIceWaterBath(6)),c=i(NewIceWaterBath(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=NewIceWaterBath(8),NewIceWaterBath=function(){(0,l.default)(NewIceWaterBath,d);var t=u(NewIceWaterBath);function NewIceWaterBath(){var e;return(0,r.default)(this,NewIceWaterBath),(e=t.call(this)).name="NewIceWaterBath",e.CNName="冰水浴",e.z_index=5.09,e.waterTemp=.01,e}return(0,o.default)(NewIceWaterBath,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(NewIceWaterBath.prototype),"creationComplete",this).call(this),this.on("dragObjComplete",this.addTargetContainer)}},{key:"addTargetContainer",value:function(e){var t=this,e=e.dragObj;(this.currentContainer=e).once(NBDrag.event.PREPARE_DRAG,e.eqAddToViewStack),e.once(NBDrag.event.PREPARE_DRAG,function(){t.currentContainer=null})}},{key:"increaseHeatContainer",value:function(e){var i=this;if(this.currentContainer){var t,n=this.currentContainer;for(t in n.medicineData.solidAry){var a=n.medicineData.solidAry[t],r=a.getTemp();a.setTemp(r+(this.waterTemp-r)/100)}n.medicineData.liquidAry.forEach(function(e){var t;e&&.1<Math.abs(e.getTemp()-i.waterTemp)&&(t=e.getTemp(),e.setTemp(t+(i.waterTemp-t)/200))});var o=n.medicineData.getLiquidAverageTemp();0<n.medicineData.liquidAry.length&&(s=e*(o=this.waterTemp-o)*10,0<o?n.medicineData.increaseHeat(30+s,this.waterTemp):n.medicineData.increaseHeat(s-30,this.waterTemp));var s=n.medicineData.getGasAverageTemp(),s=this.waterTemp-s,e=e*s*10;s<0?e-=10:e+=10,n.medicineData.increaseGasHeat(e,this.waterTemp)}}},{key:"update",value:function(e){(0,s.default)((0,c.default)(NewIceWaterBath.prototype),"update",this).call(this,e),this.increaseHeatContainer(e),this.children.forEach(function(e){e instanceof d&&0===e.hasReact&&(e.hasReact+=4)})}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(NewIceWaterBath.prototype),"toJSON",this).call(this),{currentContainer:this.currentContainer?this.currentContainer.getUUID():null})}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(NewIceWaterBath.prototype),"setJSON",this).call(this,e),e.currentContainer&&this.getEquipmentByUUID(e.currentContainer).then(function(e){t.addTargetContainer({dragObj:e})})}}]),NewIceWaterBath}();e.exports=NewIceWaterBath},function(e,t,NonPorousRubberPlugBig){"use strict";var a=NonPorousRubberPlugBig(4),i=NonPorousRubberPlugBig(0),n=i(NonPorousRubberPlugBig(9)),r=i(NonPorousRubberPlugBig(1)),o=i(NonPorousRubberPlugBig(2)),s=i(NonPorousRubberPlugBig(19)),l=i(NonPorousRubberPlugBig(7)),h=i(NonPorousRubberPlugBig(5)),c=i(NonPorousRubberPlugBig(6)),u=i(NonPorousRubberPlugBig(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=NonPorousRubberPlugBig(8),NonPorousRubberPlugBig=function(){(0,h.default)(NonPorousRubberPlugBig,p);var e=d(NonPorousRubberPlugBig);function NonPorousRubberPlugBig(){var a;return(0,r.default)(this,NonPorousRubberPlugBig),(a=e.call(this)).name="NonPorousRubberPlugBig",a.CNName="橡胶塞",a.z_index=25.02,a.hugeScale=nb.PLUGSCALE.hugeScale,a.smallScale=nb.PLUGSCALE.smallScale,a.bigScale=nb.PLUGSCALE.bigScale,a.on("hitted",function(e){var t=e.hitObj;if(!t.isFull((0,s.default)(a))){a.outsideContainer&&a.outsideContainer!==t&&(a.outsideContainer.outsidePlug=null,a.outsideContainer=null);for(var i=0;i<a.children.length;i++){var n=a.children[i];n instanceof p&&(n.emit("appendEquipment",t),t.emit("appendEquipment",n))}}}),a.on("addToViewStack",function(e){var t=e.target;if(t)for(var i=0;i<a.children.length;i++){var n=a.children[i];n instanceof p&&(n.emit("removeEquipment",t),t.emit("removeEquipment",n))}}),a.on(NBDrag.event.PREPARE_DRAG,function(){a.root.viewStack.selectionLayer.clear()}),a.maxEquipmentValue=3,a.currentEquipmentValue=0,a.curValue=0,a.maxValue=3,a.isRubberPlug=!0,a}return(0,o.default)(NonPorousRubberPlugBig,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(NonPorousRubberPlugBig.prototype),"creationComplete",this).call(this),this.children[0].interactive=!0}},{key:"originLocalBounds",get:function(){var e=this.bg.getLocalBounds();return e.width*=this.bg.scale.x,e.height*=this.bg.scale.y,e},set:function(e){}},{key:"checkChildEqNum",value:function(){var t=this;this.curValue=0,this.children.forEach(function(e){e instanceof p&&t.curValue++})}},{key:"changePlugScale",value:function(e,t){TweenMax.killTweensOf(this),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID],this.bg&&TweenMax.to(this.bg.scale,t,{x:e,y:e})}},{key:"choicePlugScale",value:function(e,t){var i=e.name,n=nb.PLUGTOSMALL.has(i),e=nb.PLUGTOBIG.has(i),i=nb.PLUGTOHUGE.has(i),t=!t&&0!==t?.3:t;n?this.changePlugScale(this.smallScale,t):e?this.changePlugScale(this.bigScale,t):i&&this.changePlugScale(this.hugeScale,t)}},{key:"choicePlugOffset",value:function(e){var t={x:0},i=e.name,n=nb.PLUGTOSMALL.has(i),e=nb.PLUGTOBIG.has(i),i=nb.PLUGTOHUGE.has(i);return n?t.x=4.9:e?t.x=8:i&&(t.x=12.4),t}},{key:"choicePlugWidth",value:function(e){var t={width:0},i=e.name,n=nb.PLUGTOSMALL.has(i),e=nb.PLUGTOBIG.has(i),i=nb.PLUGTOHUGE.has(i);return n?t.width=47:e?t.width=76:i&&(t.width=118),t}},{key:"addChildEquipment",value:function(e){this.getCurrentEqValue()<this.maxEquipmentValue&&(this.addChildWithSamePos(e),this.addEqValue())}},{key:"eqPrepareDelete",value:function(){(0,l.default)((0,u.default)(NonPorousRubberPlugBig.prototype),"eqPrepareDelete",this).call(this),this.outsideContainer&&(this.outsideContainer.outsidePlug=null,this.outsideContainer=null)}},{key:"toJSON",value:function(){var e,t,i;return!this.currentArea||this.currentArea instanceof p||(e=this.currentArea.name,t=this.curValue,i=this.maxValue),(0,n.default)({bgScale:this.bg?this.bg.scale.x:1,currentArea:e,curValue:t,maxValue:i},(0,l.default)((0,u.default)(NonPorousRubberPlugBig.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(NonPorousRubberPlugBig.prototype),"setJSON",this).call(this,e),e.bgScale&&this.changePlugScale(e.bgScale,0),e.currentArea&&this.parent.chooseArea&&(this.currentArea=this.parent.chooseArea[e.currentArea],(this.currentArea.currentPlug=this).currentArea.thisAreaWasFull=!0,this.curValue=e.curValue,this.maxValue=e.maxValue,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack))}}]),NonPorousRubberPlugBig}();e.exports=NonPorousRubberPlugBig},function(e,t,NonPorousRubberPlugHuge){"use strict";var a=NonPorousRubberPlugHuge(4),i=NonPorousRubberPlugHuge(0),n=i(NonPorousRubberPlugHuge(1)),r=i(NonPorousRubberPlugHuge(2)),o=i(NonPorousRubberPlugHuge(5)),s=i(NonPorousRubberPlugHuge(6)),l=i(NonPorousRubberPlugHuge(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(i);return t=n?(e=(0,l.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var c=NonPorousRubberPlugHuge(8),NonPorousRubberPlugHuge=function(){(0,o.default)(NonPorousRubberPlugHuge,c);var e=h(NonPorousRubberPlugHuge);function NonPorousRubberPlugHuge(){var a;return(0,n.default)(this,NonPorousRubberPlugHuge),(a=e.call(this)).name="NonPorousRubberPlugHuge",a.on("hitted",function(e){for(var t=e.hitObj,i=0;i<a.children.length;i++){var n=a.children[i];n instanceof c&&(-1===n.addedNode.indexOf(t)&&n.emit("appendEquipment",t),-1===t.addedNode.indexOf(n)&&t.emit("appendEquipment",n))}}),a.on("addToViewStack",function(e){var t=e.target;if(t)for(var i=0;i<a.children.length;i++){var n=a.children[i];n instanceof c&&(t.emit("removeEquipment",n),n.emit("removeEquipment",t))}}),a.maxEquipmentValue=3,a.currentEquipmentValue=0,a.isRubberPlug=!0,a}return(0,r.default)(NonPorousRubberPlugHuge,[{key:"addEqValue",value:function(){this.currentEquipmentValue<this.maxEquipmentValue&&this.currentEquipmentValue++}},{key:"reduceEqValue",value:function(){0<this.currentEquipmentValue&&this.currentEquipmentValue--}},{key:"clearEqValue",value:function(){this.currentEquipmentValue=0}},{key:"getCurrentEqValue",value:function(){return this.currentEquipmentValue}},{key:"addChildEquipment",value:function(e){this.getCurrentEqValue()<this.maxEquipmentValue&&(this.addChildWithSamePos(e),this.addEqValue())}}]),NonPorousRubberPlugHuge}();e.exports=NonPorousRubberPlugHuge},function(e,t,NonPorousRubberPlugSmall){"use strict";var a=NonPorousRubberPlugSmall(4),i=NonPorousRubberPlugSmall(0),n=i(NonPorousRubberPlugSmall(1)),r=i(NonPorousRubberPlugSmall(2)),o=i(NonPorousRubberPlugSmall(5)),s=i(NonPorousRubberPlugSmall(6)),l=i(NonPorousRubberPlugSmall(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,l.default)(i);return t=n?(e=(0,l.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}var c=NonPorousRubberPlugSmall(8),NonPorousRubberPlugSmall=function(){(0,o.default)(NonPorousRubberPlugSmall,c);var e=h(NonPorousRubberPlugSmall);function NonPorousRubberPlugSmall(){var a;return(0,n.default)(this,NonPorousRubberPlugSmall),(a=e.call(this)).name="NonPorousRubberPlugSmall",a.on("hitted",function(e){for(var t=e.hitObj,i=0;i<a.children.length;i++){var n=a.children[i];n instanceof c&&(-1===n.addedNode.indexOf(t)&&n.emit("appendEquipment",t),-1===t.addedNode.indexOf(n)&&t.emit("appendEquipment",n))}}),a.on("addToViewStack",function(e){var t=e.target;if(t)for(var i=0;i<a.children.length;i++){var n=a.children[i];n instanceof c&&(t.emit("removeEquipment",n),n.emit("removeEquipment",t))}}),a.maxEquipmentValue=3,a.currentEquipmentValue=0,a.isRubberPlug=!0,a}return(0,r.default)(NonPorousRubberPlugSmall,[{key:"addEqValue",value:function(){this.currentEquipmentValue<this.maxEquipmentValue&&this.currentEquipmentValue++}},{key:"reduceEqValue",value:function(){0<this.currentEquipmentValue&&this.currentEquipmentValue--}},{key:"clearEqValue",value:function(){this.currentEquipmentValue=0}},{key:"getCurrentEqValue",value:function(){return this.currentEquipmentValue}},{key:"addChildEquipment",value:function(e){this.getCurrentEqValue()<this.maxEquipmentValue&&(this.addChildWithSamePos(e),this.addEqValue())}}]),NonPorousRubberPlugSmall}();e.exports=NonPorousRubberPlugSmall},function(e,t,PaperChannel){"use strict";var a=PaperChannel(4),i=PaperChannel(0),r=i(PaperChannel(25)),n=i(PaperChannel(1)),o=i(PaperChannel(2)),s=i(PaperChannel(7)),l=i(PaperChannel(5)),h=i(PaperChannel(6)),c=i(PaperChannel(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=PaperChannel(8),p=PaperChannel(18),f=PIXI.Point,PaperChannel=function(){(0,l.default)(PaperChannel,d);var t=u(PaperChannel);function PaperChannel(){var e;return(0,n.default)(this,PaperChannel),(e=t.call(this)).name="PaperChannel",e.CNName="纸槽",e.z_index=17.01,e.pM=new f(142,-45),e.pU=new f(144,-54),e}return(0,o.default)(PaperChannel,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(PaperChannel.prototype),"creationComplete",this).call(this),this.init()}},{key:"init",value:function(){this._medicineAmount=0,this.ifPlugIn=!1,this.hitTube=null,this.moveOuted=!1,this.listenDrop=!1,this.medicineAmount=0,this.listenAddHit()}},{key:"medicineAmount",get:function(){return this._medicineAmount},set:function(e){this.setMedicineAmount(e)}},{key:"setMedicineAmount",value:function(e){e<0?e=0:10<e&&(e=10),this._medicineAmount=e,this.updateMedicineState()}},{key:"listenAddHit",value:function(){var r=this,o=this;this.on("hitted",function(e){var t,i,n,a;r.isEmpty()||e.hitObj.ifExistPaper||e.hitObj.addCotton||!e.hitObj.isOpen||(r.hitTube=e.hitObj,r.hitTube.ifExistPaper=!0,r.on("outTopBounds",r.moveOutTube),r.on(NBDrag.event.STOP_DRAG,r.dragEnd),r.ifPlugIn=!0,t=p.retrieveRotation(e.hitObj.worldTransform),i=e.hitObj.getPutMedicinePoint(),i=r.parent.toLocal(i),n=new TimelineMax,a=0,e.hitObj.perforatedDisc&&(a-=120),a={x:i.x-(e.hitObj.height+a)*Math.sin(t)/1.1,y:i.y+(e.hitObj.height+a)*Math.cos(t)/1.1},NBDrag.removeDrag(r),NBDrag.removeDrag(e.hitObj),e.hitObj.rotateSpriteIcon&&(e.hitObj.rotateSpriteIcon.visible=!1),n.to(r,.5,{x:i.x,y:i.y,ease:Sine.easeInOut}).to(r,.5,{rotation:-Math.PI/2+t,ease:Sine.easeInOut}).to(r,.5,{x:a.x,y:a.y,onComplete:function(){e.hitObj.addChildAtWithSamePos(o,0),o.rotation-=t,r.obj=e,r.listenDrop=!0,NBDrag.addDrag(r),NBDrag.addDrag(e.hitObj),e.hitObj.rotateSpriteIcon&&(e.hitObj.rotateSpriteIcon.visible=!0),r.execute(NBCommand.CALCULATE_DRAG_RECT,{hitObj:r.obj.hitObj,target:r,bounds:"local",type:0})}}))}),this.addEventListener(NBEvent.del.PREPARE_DELETE,function(){r.hitTube&&(r.hitTube.ifExistPaper=!1)})}},{key:"listenRotationDrop",value:function(){var e=!1;this.updateTransform();var t=p.retrieveRotation(this.transform.worldTransform),i=-Math.PI/2+Math.PI/6,n=-Math.PI/2-Math.PI/6,a=Math.PI/2+Math.PI/6,r=Math.PI/2-Math.PI/6;0<t?t<a&&r<t&&(e=!0):t<i&&n<t&&(e=!0),e&&(this.listenDrop=!1,i=(r=(a=this.obj).hitObj.localBounds).x,n=r.y,t=r.width,e=r.height,this.updateMedicineState(!1),r=this.getData(),a.hitObj.medRef?a.hitObj.addMedicine(r,{x:a.hitObj.medRef.x,y:a.hitObj.medRef.y+e/2},this.medicineAmount):a.hitObj.addMedicine(r,{x:i+t/2,y:n+e/4*3},this.medicineAmount),this.medicineAmount=0,this.rotation=-1.57,this.setData(void 0,!0))}},{key:"dragEnd",value:function(){this.moveOuted&&(this.moveOuted=!1,this.moveOut(),(new TimelineMax).to(this,.5,{rotation:0}))}},{key:"moveOutTube",value:function(){this.hitTube&&(this.listenDrop=!1,this.ifPlugIn=!1,this.dragRect.enabled=!1,this.moveOuted=!0)}},{key:"moveOut",value:function(){var e;this.hitTube&&!1===this.ifPlugIn&&(e=p.retrieveRotation(this.worldTransform),this.hitTube.ifExistPaper=!1,this.rotation=e,this.hitTube=null)}},{key:"updateMedicineState",value:function(){var e,t,i;this.isEmpty()?this.medicine.gotoAndStop(0):(this.medicine.gotoAndStop(1),e=this.getMedicineColor(),i=(t=this.medicine.medicineBg.children[0]).currentPath.shape,t.clear(),t.beginFill(e),t.drawPolygon(i))}},{key:"getMedicineColor",value:function(){var t,i=16777215,n=0;return this._tempVo.forEach(function(e){t=e.getMass(),n<t&&(n=t,i=e.getColor())}),(0,r.default)(i)}},{key:"setData",value:function(e){1<arguments.length&&void 0!==arguments[1]&&arguments[1]?this._tempVo=void 0:this._tempVo?0<=this._tempVo.length&&0<e.length&&(this._tempVo=this._tempVo.concat(e)):this._tempVo=e}},{key:"getData",value:function(){return this._tempVo}},{key:"addMedicine",value:function(e,t,i){this.setData(e),this.medicineAmount+=i,this.medicine.scale={x:1+.1*(this.medicineAmount-1),y:1+.1*(this.medicineAmount-1)},this.updateMedicineState()}},{key:"update",value:function(){!0===this.listenDrop&&this.listenRotationDrop()}},{key:"isEmpty",value:function(){return 0===this.medicineAmount}},{key:"getSpoonPourInfo",value:function(){return{p0:this.toGlobal(this.pM),p1:this.toGlobal(this.pU)}}},{key:"getSpoonHintInfo",value:function(){return{p0:this.pM,p1:this.pU}}},{key:"canSpoonPour",value:function(){return!this.isPlugIn}}]),PaperChannel}();e.exports=PaperChannel},function(e,t,PaperFlower){"use strict";var a=PaperFlower(4),i=PaperFlower(0),n=i(PaperFlower(1)),r=i(PaperFlower(2)),o=i(PaperFlower(7)),s=i(PaperFlower(5)),l=i(PaperFlower(6)),h=i(PaperFlower(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=PaperFlower(10),d=PaperFlower(11),p=PaperFlower(79),f=PaperFlower(27),I=Math.pow(10,-9),g=["HCL","CH3COOH","H2CO3","H2O"],m=PaperFlower(21),PaperFlower=function(){(0,s.default)(PaperFlower,u);var t=c(PaperFlower);function PaperFlower(){var e;return(0,n.default)(this,PaperFlower),(e=t.call(this)).name="PaperFlower",e.CNName="石蕊纸花",e.z_index=23.1,e}return(0,r.default)(PaperFlower,[{key:"creationComplete",value:function(){this.hairDryer.allowGetBounds=!1,(this.hairDryer.visible=!1,o.default)((0,h.default)(PaperFlower.prototype),"creationComplete",this).call(this),this.capacityScale=1,this.alpha=.7,this.medicineData.getInfo=function(){return[]},this.noPascal=!0,this.on("gotDrip",this.setColor),this.hadAddInContainer=!1,this.lastScale=this.scale,this.currentMedicineData=this.medicineData,this.colorNumber,this.timeOuter,this.isBroken=!1,this.isCorrode=!1,this.isFirstCorrode=!0,this.isFirstBroken=!0,this.flowerImg.defaultColor=9651679,this.HIon=Math.pow(10,-10),this.noHeightDiff=!0,this.defaultGasAry=this.medicineData.gasAry,this.setColorCount=0,this.on(NBEvent.del.PREPARE_DELETE,this.clear),this.on(NBEvent.del.DELETE,this.clear),this._isOnHeatSelf=!1,this.heatSelfCount=0}},{key:"isOnHeatSelf",get:function(){return this._isOnHeatSelf},set:function(e){e?(this.interactive=!1,this.interactiveChildren=!1,this.heatSelfCount=0,this.hairDryer.visible=!0):(this.interactive=!0,this.interactiveChildren=!0,this.hairDryer.visible=!1),this._isOnHeatSelf=e}},{key:"clearGasMed",value:function(){for(var e=this.medicineData.gasAry.length-1;0<=e;e--)this.medicineData.gasAry[e].setMol(0);this.initStuffAir()}},{key:"update",value:function(e){var t,i;if((0,o.default)((0,h.default)(PaperFlower.prototype),"update",this).call(this,e),this.isOnHeatSelf&&(this.heatSelfCount++,(t=this.medicineData.liquidAry.quickMap.get("H2O"))&&0<t.mol||500<this.heatSelfCount?this.medicineData.increaseHeat(10,500):150<this.heatSelfCount&&(this.clearGasMed(),this.isOnHeatSelf=!1)),this.isBurning)return this.burnCount||(this.burnCount=0),200<this.burnCount?void this.commandDelete():(this.paperFire.loaded&&(i=this.paperFire,this.setedParticle||(t=this.localBounds,i.particle.spawnRect.width=t.width+20,i.particle.spawnRect.x=t.x,i.particle.spawnRect.y=t.y+t.height-10,i.setParticleProp("maxParticles",15),this.colorFilter.call(this.flowerImg,0,2),this.setedParticle=!0),170<=this.burnCount&&(i=(200-this.burnCount)/30,this.paperFire.setParticleProp("maxParticles",10*i+5),this.alpha=i)),this.paperFire.updateTransform(),this.newRadiantHeat(d.WOOD_HEAT_VALUE,this.paperFire.getBounds().clone(),e,d.TEMP_MATCH),this.paperFire.render(e),void this.burnCount++);this.exchangeParentMed()}},{key:"exchangeParentMed",value:function(){if(this.setColorCount++,!(this.setColorCount<10)){this.setColorCount=0;var e=this.parent;if(e instanceof u){for(var t=e.medicineData,i=!1,n=0,a=0;a<t.liquidAry.length;a++){var r=t.liquidAry[a];"H2O"===r.name&&.1<=r.mol&&(i=!0),n+=r.mol}if(i){this.currentMedicineData=t;var o=this.medicineData;o.liquidAry.clear();for(var s=0;s<t.liquidAry.length;s++){var l=t.liquidAry[s].deepClone();l.mol*=.1/n,o.push(l)}0!==this.speedSolCount&&(this.speedSolCount=0)}else this.medicineData.gasAry!==t.gasAry&&(this.medicineData.gasAry=t.gasAry),this.speedSolCount||(this.speedSolCount=0),this.speedSolCount<100&&(t.gasAry.forEach(function(e){e.isBubble=!0}),this.speedSolCount++);this.hadAddInContainer=!0}else this.hadAddInContainer&&(0!==this.speedSolCount&&(this.speedSolCount=0),this.hadAddInContainer=!1,this.medicineData.gasAry=this.defaultGasAry,this.reflashGas(),this.currentMedicineData=this.medicineData);this.hasReact=d.ACTIVE_COUNT,this.activeCount=d.ACTIVE_COUNT,this.setColor()}}},{key:"hitReact",value:function(e){var i=this;e.forEach(function(e){var t=e.name,e=e.getMol();"N2"!==t&&"O2"!==t&&i.medicineData.addGasMedicine(t,e)})}},{key:"lightOn",value:function(e,t){if(!this.isBurning)if(this.parent===this.getEqLayer()){var i=this.medicineData.liquidAry.quickMap.get("H2O");if(!(i&&1e-7<i.mol)){i=this.medicineData.liquidAry.quickMap.get("Na2SiO3");if(!(i&&0<i.mol)){if(t){e=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2),t=this.getViewStack().scale.x;if(3e4*t*t<e)return}this.isBurning=!0,this.isCorrode=!0,NBDrag.removeDrag(this),this.root.particleManager.initPaperFire.call(this)}}}}},{key:"getLightOnPoint",value:function(){this.updateTransform();var e=[],t=this.localBounds,t=this.toGlobal({x:t.x+t.width/2,y:t.x+t.height});return e.push({x:t.x,y:t.y}),e}},{key:"clear",value:function(){this.paperFire&&(this.paperFire.destroy(),this.paperFire=null)}},{key:"setColor",value:function(){for(var e,t,i=0,n=this,a=n.currentMedicineData,r=0;r<a.liquidAry.length;r++){var o=a.liquidAry[r];"H2O"===o.name&&0<o.mol&&(i=o.getVol()),"HClO"==o.name&&o.mol>I&&(n.timeOuter||n.isBroken||(n.timeOuter=setTimeout(function(){n.isBroken=!0},2e3))),"H2SO4"==o.name&&.75<this.getH2SO4Dens()&&((o=this.getH2SO4Dens())<.75||n.changeH2SO4||(n.changeH2SO4=.9<o?setTimeout(function(){n.isCorrode=!0},1e3):setTimeout(function(){n.isCorrode=!0},4e3)))}if(1e-7<((null===(e=a.gasAry.quickMap.get("Cl2"))||void 0===e?void 0:e.mol)||0)+((null===(e=a.dissolveAry.quickMap.get("Cl2"))||void 0===e?void 0:e.mol)||0)&&.001<i&&(n.timeOuter||n.isBroken||(n.timeOuter=setTimeout(function(){n.isBroken=!0},2e3))),n.isBroken||n.isCorrode)n.isFirstBroken&&n.isBroken?(n.isFirstBroken=!1,n.colorFilter.call(n.flowerImg,16777215,2)):n.isFirstCorrode&&n.isCorrode&&(n.isFirstCorrode=!1,n.colorFilter.call(n.flowerImg,0,1));else if(0!==i){for(var s=a.ionAry,l=0;l<s.length;l++)if("H"===s[l].name&&0!=s[l].mol){n.HIon=s[l].mol/i;break}var h=-Math.log10(1e3*n.HIon)||7,h=a.getTransitionColor(h,d.LITMUSFLOWER_COLOR),h=(h.color[0]<<16)+(h.color[1]<<8)+h.color[2];n.colorFilter.call(n.flowerImg,h,2)}else 0<n.medicineData.liquidAry.length&&(t=!0,this.reflashGas(),a.liquidAry.forEach(function(e){g.includes(e.name)?e.setMol(0):t=!1}),t&&(h=((h=a.getTransitionColor(7,d.LITMUSFLOWER_COLOR)).color[0]<<16)+(h.color[1]<<8)+h.color[2],n.colorFilter.call(n.flowerImg,h,2)))}},{key:"reflashGas",value:function(){var e,t,i,n;this.parent instanceof u||(this.medicineData.gasAry.clear(),e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),n=.8*(i=this.getTotalCapacity()/1e6*d.PASCAL/(d.R*p.convertCToK(d.DEFAULT_TEMP))),this.medicineData.push([new f(e,.2*i),new f(t,n)]))}},{key:"getH2SO4Dens",value:function(){var e=this.medicineData.liquidAry,t=e.quickMap.get("H2O"),i=e.quickMap.get("H2SO4"),e=0;return e+=t?t.getMass():0,e+=i?i.getMass():0,i&&0<i.getMass()&&0<e?i.getMass()/e:0}},{key:"canSpoonPour",value:function(){return!1}},{key:"setReactStatus",value:function(e){this.parent&&this.parent.isBaseContainer&&this.parent.medicineData.chemicalFuncAry.add({equation:e,lifeTime:1<arguments.length&&void 0!==arguments[1]?arguments[1]:0})}},{key:"getConfigureData",value:function(){var e=(0,o.default)((0,h.default)(PaperFlower.prototype),"getConfigureData",this).call(this);return this.parent!==this.getEqLayer()||this.isOnHeatSelf||e.confArr.push(m.getButton("drying","烘干",function(){this.isOnHeatSelf=!0}.bind(this),this)),e}}]),PaperFlower}();e.exports=PaperFlower},function(e,t,ParaffinGlass){"use strict";var a=ParaffinGlass(4),s=ParaffinGlass(44),l=ParaffinGlass(42),h=ParaffinGlass(43),c=ParaffinGlass(37),i=ParaffinGlass(0),n=i(ParaffinGlass(24)),r=i(ParaffinGlass(60)),o=i(ParaffinGlass(9)),u=i(ParaffinGlass(1)),d=i(ParaffinGlass(2)),p=i(ParaffinGlass(7)),f=i(ParaffinGlass(5)),I=i(ParaffinGlass(6)),g=i(ParaffinGlass(3));function m(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function v(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,g.default)(i);return t=n?(e=(0,g.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,I.default)(this,t)}}var C=ParaffinGlass(8),M=ParaffinGlass(75),b=ParaffinGlass(16),x=ParaffinGlass(22),O=ParaffinGlass(74),A=ParaffinGlass(20),T=ParaffinGlass(34),ParaffinGlass=(ParaffinGlass(10),function(){(0,f.default)(ParaffinGlass,C);var e=v(ParaffinGlass);function ParaffinGlass(){return(0,u.default)(this,ParaffinGlass),e.apply(this,arguments)}return(0,d.default)(ParaffinGlass,[{key:"creationComplete",value:function(){(0,p.default)((0,g.default)(ParaffinGlass.prototype),"creationComplete",this).call(this),this.name="ParaffinGlass",this.CNName="石蜡玻璃",this.constName="ParaffinGlass",this.isBlockMedicine=!0,this.medicineData=new M(this),this.setMedVo(this.getMedicineName(),1e-4),this.posStatus="inAir",this.w=this.picCon.width,this.h=this.picCon.height,this.lineColor=16777215,this.linePoints=[],this.corrodeH=0,this.useSpr=!1,this.per=0,this.corrodeTm=0,this.touchId=null,this.state="none",this.onDrawDownCb=this.onDrawDown.bind(this),this.onDrawMoveCb=this.onDrawMove.bind(this),this.onDrawUpCb=this.onDrawUp.bind(this),this.onDrawOutCb=this.onDrawOut.bind(this),this.onDrawOverCb=this.onDrawOver.bind(this),this.isCorroding=!1,this.metalHitWaterPoint={left:null,center:null,right:null},this.CORRODE_TM=5,this.conEq=null,this.conEqId=null,this.on("hitted",this.onHitted.bind(this)),this.on("hasTweenComplete",this.onTweenComplete.bind(this)),this.initLayers(),this.initBtns()}},{key:"update",value:function(e){(0,p.default)((0,g.default)(ParaffinGlass.prototype),"update",this).call(this,e),x.genEffectFunc(this,e,2e-4),this.genCorrodeEffectFunc(e),this.updateBubbleParticle(this.calMedVo,e),this.drawLine()}},{key:"drawLine",value:function(){this.isDrawing&&(this.prePointPos?Math.sqrt(Math.pow(this.curPointPos.x-this.prePointPos.x,2)+Math.pow(this.curPointPos.y-this.prePointPos.y,2))<1||(this.lineGra.lineStyle(5,this.lineColor),this.lineGra.lineTo(this.curPointPos.x,this.curPointPos.y)):(this.lineGra.lineStyle(5,this.lineColor),this.lineGra.moveTo(this.curPointPos.x,this.curPointPos.y)),this.prePointPos=this.curPointPos)}},{key:"startDraw",value:function(){this.state="draw",this.addDrawListener(),this.addCursor(this.picCon,b.status.KNIFE)}},{key:"endDraw",value:function(){this.onDrawUp(),this.removeCursor(this.picCon),this.picCon.interactive=!1}},{key:"corrode",value:function(e){this.isCorroding||(this.state="corrode",this.corrodeH=e,this.updateCorrodeArea(e),this.isCorroding=!0,this.topCorrodingPic.visible=!0,this.genCorrodeEffectFunc(0),1==this.per&&this.endCorrode())}},{key:"clean",value:function(){this.state="clean";var e=this.saveEnv();this.stage.renderer.render(this.stage);var t=this.getLineDis();this.topPic.visible=!1,t.mask=this.corrodedGra,this.restoreEnv(e),this.lineGra.alpha=.3}},{key:"setMedVo",value:function(e,t){var i=this.medicineManager.getMedicineData(e),t=new A(i,t);this.medVo=t,this.medicineData.solidAry[e]=t,this.solidMedicineInfo=(new n.default).set(e,t),this.solidMedicine=t.deepClone()}},{key:"initLayers",value:function(){this.bgPic=this.picCon.bgPic,this.topCorrodingPic=this.picCon.topCorrodingPic,this.topCorrodingPic.alpha=0,this.topPic=this.picCon.topPic,this.topCorrodedPic=new PIXI.Sprite,this.topCorrodedPic.visible=!1,this.picCon.addChild(this.topCorrodedPic),this.corrodedGra=new PIXI.Graphics,this.corrodedGra.name="corrodedGra",this.picCon.addChild(this.corrodedGra),this.lineSpr=new PIXI.Sprite,this.picCon.addChild(this.lineSpr),this.lineGra=new PIXI.Graphics,this.lineSpr.addChild(this.lineGra),this.conMask=new PIXI.Graphics,this.conMask.beginFill(),this.conMask.drawRect(0,0,this.w,this.h),this.picCon.addChild(this.conMask),this.updateCorrodeArea(0),this.picCon.mask=this.conMask}},{key:"initBtns",value:function(){var e=this;this.endDrawBtn.visible=!1,this.cleanBtn.visible=!1,this.startDrawBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.startDraw(),e.startDrawBtn.visible=!1,e.endDrawBtn.visible=!0}),this.endDrawBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.endDraw(),e.endDrawBtn.visible=!1}),this.cleanBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.clean(),e.cleanBtn.visible=!1})}},{key:"onHitted",value:function(e){this.dragAble=!1,this.conEq=e.hitObj,this.conEqId=this.conEq.getUUID(),this.endDraw(),this.startDrawBtn.visible=this.endDrawBtn.visible=this.cleanBtn.visible=!1,this.enableContainer(this.conEq,!1)}},{key:"onTweenComplete",value:function(){var e,t;this.conEq&&(this.currentContainer=this.conEq,this.container=this.conEq,null!==(t=this.calcMetalHitWaterLine())&&(0<(e=this.y+this.h-t)?(this.posStatus="inWater",(t=this.container.blockMedicineMap.get(this.getMedicineName())||new r.default).add(this),this.container.blockMedicineMap.set(this.getMedicineName(),t),this.hasReactInCon(this.currentContainer)&&this.corrode(e)):this.posStatus="inContainerAir",this.bubbleParticle=T.getParticle(T.particles.paraffin_glass_qipao),this.bubbleParticle.allowGetBounds=!1,this.addChild(this.bubbleParticle),this.bubbleParticle.mask=this.corrodedGra))}},{key:"hasReactInCon",value:function(e){var t=[],i=this.getSolidMedicineInfo(),e=e.getLiquidMedicineInfo();if(i){var n,a=m(i.values());try{for(a.s();!(n=a.n()).done;){var r=n.value;t.push(r)}}catch(e){a.e(e)}finally{a.f()}}if(e){var o,s=m(e.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;t.push(l)}}catch(e){s.e(e)}finally{s.f()}}e=x.privateFindReaction(t);return!(!e||!e.size)}},{key:"genCorrodeEffectFunc",value:function(e){this.currentContainer&&(this.corrodeTm+=e,this.per=Math.min(this.corrodeTm/this.CORRODE_TM,1),this.isCorroding&&0<this.corrodeH&&this.updateCorrode(this.per),1==this.per&&this.endCorrode())}},{key:"calcMetalHitWaterLine",value:function(){var e=null,t=this.conEq;if(!t||t.liquidGra.length<1)return e;t=t.liquidGra.find(function(e){if(e.med)return"H2O"===e.med.name});return t&&t.vertex?e=t.vertex[0].y:e}},{key:"updateCorrode",value:function(e){this.isCorroding&&(this.topCorrodingPic.alpha=1-e)}},{key:"endCorrode",value:function(){var e=this;this.corrodeTm=0,this.topCorrodingPic.alpha=0,this.isCorroding=!1;function t(){0<e.corrodeH?(e.cleanBtn.visible=!0,e.noCombine=!0):e.startDrawBtn.visible=!0,e.enableContainer(a,!0),e.dragAble=!0,O.addDrag(e),e.bubbleParticle&&(e.bubbleParticle.visible=!1)}var i,n,a=this.conEq;a?(i=a.position,this.eqAddToViewStack(),this.conEq=null,this.conEqId=null,this.currentContainer=null,(n=this.container.blockMedicineMap.get(name))&&n.delete(this),this.container=null,TweenMax.to(this,.2,{x:i.x+450,y:i.y,onComplete:t})):t(),this.posStatus="inAir"}},{key:"enableContainer",value:function(e,t){e&&(e.noInteract=!t,(e.dragAble=t)?O.addDrag(e):O.removeDrag(e),e.dontDrag=!t)}},{key:"addDrawListener",value:function(){this.picCon.interactive=!0,this.picCon.on("pointerdown",this.onDrawDownCb)}},{key:"onDrawDown",value:function(e){if(e.stopImmediatePropagation(),null===this.touchId)this.touchId=e.data.identifier;else if(this.touchId!==e.data.identifier)return;this.picCon.on("pointermove",this.onDrawMoveCb).on("pointerup",this.onDrawUpCb).on("pointerupoutside",this.onDrawUpCb).on("pointerout",this.onDrawOutCb).on("pointerover",this.onDrawOverCb)}},{key:"onDrawMove",value:function(e){e.stopImmediatePropagation(),this.touchId===e.data.identifier&&(e=e.data.getLocalPosition(this.picCon),this.isDrawing=!0,this.curPointPos=e)}},{key:"onDrawUp",value:function(e){e&&(e.stopImmediatePropagation(),this.touchId!==e.data.identifier)||(this.touchId=null,this.picCon.off("pointermove",this.onDrawMoveCb).off("pointerup",this.onDrawUpCb).off("pointerupoutside",this.onDrawUpCb).off("pointerout",this.onDrawOutCb).off("pointerover",this.onDrawOverCb),this.isDrawing=!1,this.prePointPos=void 0)}},{key:"onDrawOut",value:function(e){this.touchId===e.data.identifier&&this.picCon.off("pointermove",this.onDrawMoveCb)}},{key:"onDrawOver",value:function(e){e.stopImmediatePropagation(),this.touchId===e.data.identifier&&(this.picCon.on("pointermove",this.onDrawMoveCb),e=e.data.getLocalPosition(this.picCon),this.lineGra.lineStyle(5,this.lineColor),this.lineGra.moveTo(e.x,e.y))}},{key:"saveEnv",value:function(){var e={parent:this.parent,childIndex:this.parent.getChildIndex(this),posX:this.x,posY:this.y,dpr:PIXI.settings.RESOLUTION};return PIXI.settings.RESOLUTION=1,this.position.set(0,0),this.stage.addChild(this),e}},{key:"restoreEnv",value:function(e){PIXI.settings.RESOLUTION=e.dpr,this.position.set(e.posX,e.posY),e.parent.addChildAt(this,e.childIndex)}},{key:"updateCorrodeArea",value:function(e){this.corrodedGra.clear(),this.corrodedGra.lineStyle(0),this.corrodedGra.beginFill(16776960,0);e=this.h-e;this.corrodedGra.moveTo(0,this.h),this.corrodedGra.lineTo(this.w,this.h),this.corrodedGra.lineTo(this.w,e),this.corrodedGra.lineTo(0,e)}},{key:"getLineDis",value:function(){return this.useSpr?this.lineSpr:this.lineGra}},{key:"getSolidMedicineInfo",value:function(){var e=this.medVo,t=new n.default;return t.set(e.name,e.deepClone()),t}},{key:"getTemp",value:function(){return"inWater"===this.posStatus&&this.container&&this.container.medicineData&&this.container.medicineData.liquidAry&&this.container.medicineData.liquidAry[0]?this.container.medicineData.getLiquidAverageTemp():this.temp}},{key:"addMedicine",value:function(e){(e instanceof A||e&&e.dat&&"p"===e.dat.type)&&e.name===this.medVo.name&&this.addMed(e)}},{key:"addMed",value:function(e){var t;this.medVo.name===e.name&&(t=this.medVo.getMol()+e.mol,this.medVo.setMol(t),this.parent&&this.parent.medicineData&&this.parent.medicineData.addMedicine(this.medVo.name,e.mol))}},{key:"getCurrentGas",value:function(){return x.openContainerGetGasAry(this.container)}},{key:"updateBubbleParticle",value:function(e,t){this.bubbleParticle&&(this.bubbleParticle.loaded&&(this.bubbleParticle.particle.spawnRect.x=0,this.bubbleParticle.particle.spawnRect.y=0,this.bubbleParticle.particle.spawnRect.width=this.width,this.bubbleParticle.particle.spawnRect.height=this.height),this.bubbleParticle.render(t))}},{key:"getMedicineName",value:function(){return"SiO2"}},{key:"toJSON",value:function(){var e,t={state:this.state},i=this.saveEnv();switch(this.stage.renderer.render(this.stage),this.state){case"none":break;case"draw":e=this.lineSpr.getLocalBounds(),t.linePos={x:e.x,y:e.y},t.lineDis=this.stage.renderer.plugins.extract.base64(this.lineSpr);break;case"corrode":e=this.lineSpr.getLocalBounds(),t.linePos={x:e.x,y:e.y},t.lineDis=this.stage.renderer.plugins.extract.base64(this.lineSpr),t.h=this.corrodeH,t.corrodePer=this.per,1!==this.per&&(t.conEqId=this.conEqId);break;case"clean":t.h=this.corrodeH,t.corrodedDis=this.stage.renderer.plugins.extract.base64(this.topCorrodedPic)}return this.restoreEnv(i),(0,o.default)((0,p.default)((0,g.default)(ParaffinGlass.prototype),"toJSON",this).call(this),t)}},{key:"setJSON",value:function(t){var i=this;(0,p.default)((0,g.default)(ParaffinGlass.prototype),"setJSON",this).call(this,t);function n(e){i.conEq=e,i.currentContainer=e,i.container=e,i.corrodeTm=i.per*i.CORRODE_TM,i.corrode(t.h),i.enableContainer(e,!1),i.dragAble=!1,O.removeDrag(i)}switch(this.state=t.state,this.state){case"none":break;case"draw":this.useSpr=!0,this.lineSpr.texture=PIXI.Texture.from(t.lineDis),this.lineSpr.position.set(t.linePos.x,t.linePos.y),this.lineSpr.removeChildren(),this.picCon.interactive=!1,this.startDrawBtn.visible=!1,this.endDrawBtn.visible=!1,this.cleanBtn.visible=!1;break;case"corrode":this.useSpr=!0,this.lineSpr.texture=PIXI.Texture.from(t.lineDis),this.lineSpr.position.set(t.linePos.x,t.linePos.y),this.lineSpr.removeChildren(),this.picCon.interactive=!1,this.startDrawBtn.visible=!1,this.endDrawBtn.visible=!1,this.cleanBtn.visible=!1,this.per=t.corrodePer,1!==this.per?(this.conEqId=t.conEqId,this.conEqId&&this.getEquipmentByUUID(this.conEqId).then(function(e){e.isCreationComplete?n(e):e.on("creationComplete",function(){n(e)})})):(this.corrodeTm=this.per*this.CORRODE_TM,this.corrode(t.h));break;case"clean":this.picCon.interactive=!1,this.lineSpr.visible=!1,this.corrodeH=t.h,this.updateCorrodeArea(t.h),this.topCorrodedPic.texture=PIXI.Texture.from(t.corrodedDis),this.topCorrodedPic.visible=!0,this.startDrawBtn.visible=!1,this.endDrawBtn.visible=!1,this.cleanBtn.visible=!1,this.noCombine=!0}}}]),ParaffinGlass}());e.exports=ParaffinGlass},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),f=i(34),I=i(31),g=i(32);e.exports=function(){(0,h.default)(PePanel,p);var t=d(PePanel);function PePanel(){var e;return(0,o.default)(this,PePanel),(e=t.call(this)).name="PePanel",e.constName="PePanel",e.CNName="聚乙烯塑料",I.register(g.MAGBURN),e.isMgoExist=!0,e.isBurning=!1,e.burnCount=0,e.fireStatus=0,e.z_index=19.11,e}return(0,s.default)(PePanel,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(PePanel.prototype),"creationComplete",this).call(this),this.initParticle(),this.on(NBEvent.del.PREPARE_DELETE,function(){I.stop(),e.destroyParticle()})}},{key:"initParticle",value:function(){this.fireParticle=f.getParticle(f.particles.pepanel_fire),this.addChild(this.fireParticle),this.getViewStack().addParticle(this.fireParticle),this.fireParticle.bind(this),this.smokeParticle=f.getParticle(f.particles.pepanel_burn_smoke),this.addChild(this.smokeParticle),this.getViewStack().addParticle(this.smokeParticle),this.smokeParticle.bind(this)}},{key:"getLightOnPoint",value:function(e){return[this.toGlobal({x:0,y:0})]}},{key:"lightOn",value:function(e,t){if(!(this.isBurning||1<=this.fireStatus)){if(t)if(16e4<Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))return;this.burnCount<=100?this.burnCount+=2:this.isBurning=!0}}},{key:"lightOnAlcohol",value:function(e,t){if(!(this.isBurning||1<=this.fireStatus)){if(t)if(16e4<Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))return;this.burnCount<=100?this.burnCount+=2:this.isBurning=!0}}},{key:"autoReduceBurnCount",value:function(){0<this.burnCount&&this.burnCount--}},{key:"destroyParticle",value:function(){var e=this.fireParticle;e&&(this.smokeParticle.destroy(),e.destroy(),this.fireParticle=null)}},{key:"particlesRender",value:function(){this.isBurning&&(this.fireParticle.position.x=this.smokeParticle.position.x=0,this.fireParticle.position.y=this.smokeParticle.position.y=0,this.fireParticle.render(),this.smokeParticle.render())}},{key:"calaFireStatus",value:function(e){this.isBurning&&(this.fireStatus+=e/8,this.ani.currentFrame=Math.min(Math.round(11*this.fireStatus),11),.8<=this.fireStatus&&!TweenMax.isTweening(this.fireParticle)&&(TweenMax.to(this.fireParticle,8*(1-this.fireStatus),{alpha:0}),TweenMax.to(this.smokeParticle,8*(1-this.fireStatus),{alpha:0})),null==this.bubbleSound&&(this.bubbleSound=I.play(g.MAGBURN,null,null,null,-1)),1<=this.fireStatus&&(this.destroyParticle(),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=null),this.isBurning=!1,this.holdParent&&this.holdParent.holdObjLeave.apply(this),this.destroy()))}},{key:"toJSON",value:function(){var e=this.isBurning,t=this.fireStatus;return(0,r.default)((0,l.default)((0,u.default)(PePanel.prototype),"toJSON",this).call(this),{isBurning:e,fireStatus:t})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(PePanel.prototype),"setJSON",this).call(this,e),this.isBurning=e.isBurning,this.fireStatus=e.fireStatus}},{key:"update",value:function(e){(0,l.default)((0,u.default)(PePanel.prototype),"update",this).call(this,e),this.particlesRender(),this.autoReduceBurnCount(),this.calaFireStatus(e)}}]),PePanel}()},function(e,t,PerforatedDisc){"use strict";var a=PerforatedDisc(4),i=PerforatedDisc(0),n=i(PerforatedDisc(9)),r=i(PerforatedDisc(1)),o=i(PerforatedDisc(2)),s=i(PerforatedDisc(7)),l=i(PerforatedDisc(5)),h=i(PerforatedDisc(6)),c=i(PerforatedDisc(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=PerforatedDisc(8),p=PerforatedDisc(53),f=PerforatedDisc(50),I=PIXI.Point,PerforatedDisc=function(){(0,l.default)(PerforatedDisc,d);var t=u(PerforatedDisc);function PerforatedDisc(){var e;return(0,r.default)(this,PerforatedDisc),(e=t.call(this)).name="PerforatedDisc",e.CNName="塑料隔板",e.body=null,e}return(0,o.default)(PerforatedDisc,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(PerforatedDisc.prototype),"creationComplete",this).call(this)}},{key:"eqStopDrag",value:function(){var e,t=this,i=this.getHitEq();i&&(i.addChildAtWithSamePos(this,0),this.ani.gotoAndStop(1),e="UTube"===i.name?(this.scale.x=.6,this.x<108?25:190):"BigTestTube"===i.name?Math.min(190,Math.max(this.y,-110)):Math.min(500,Math.max(this.y,200)),this.animateTo(0,e,function(){t.addedToEq(i)}))}},{key:"animateTo",value:function(e,t,i){TweenMax.to(this,.2,{x:e,y:t,onComplete:i})}},{key:"getHitEq",value:function(){var t=this,e=this.getEquipments(),i=[];return e.forEach(function(e){"UTube"!==e.name&&"BigTestTube"!==e.name&&"TestTubeWithSideNeck"!==e.name||t.hitTest(e.bg||e)&&i.push(e)}),this.getMinDisEq(i)}},{key:"getMinDisEq",value:function(e){for(var t=null,i=this.toGlobal(new I(0,0)),n=1/0,a=0;a<e.length;a++){var r=e[a],o=r.toGlobal(new I(0,0)),o=NBPoint.distance(i,o);o<n&&(n=o,t=r)}return t}},{key:"addedToEq",value:function(e){this.currentContainer=e,(this.currentContainer.perforatedDisc=this)._updataContainerActiveCount();var t=this.width/5,i=2*t,e=p.createBody();e.set_type(f.kinematic),e.set_space(this.currentContainer.engine.space),e.add(p.createBoxShape(0,0,t,11)),e.add(p.createBoxShape(i,0,t,11)),e.add(p.createBoxShape(-i,0,t,11)),e.setPosition(new I(this.x,this.y)),this.body=e}},{key:"eqPrepareChoice",value:function(e){(0,s.default)((0,c.default)(PerforatedDisc.prototype),"eqPrepareChoice",this).call(this,e),this.currentContainer&&(this.ani.gotoAndStop(0),this.scale.x=1,this.removeBody(),this._updataContainerActiveCount(),this.currentContainer.perforatedDisc=null,this.currentContainer=null,this.eqAddToViewStack())}},{key:"_updataContainerActiveCount",value:function(){this.currentContainer&&this.currentContainer.activeCount<50&&(this.currentContainer.activeCount=50)}},{key:"removeBody",value:function(){this.body&&(this.body.destroy(),this.body=null)}},{key:"setJSON",value:function(e){var t=this;e.currentContainer&&(this.ani.gotoAndStop(1),this.getEquipmentByUUID(e.currentContainer).then(function(e){e.addChildAtWithSamePos(t,0),t.addedToEq(t.currentContainer=e)})),(0,s.default)((0,c.default)(PerforatedDisc.prototype),"setJSON",this).call(this,e)}},{key:"toJSON",value:function(){return(0,n.default)({currentContainer:this.currentContainer},(0,s.default)((0,c.default)(PerforatedDisc.prototype),"toJSON",this).call(this))}}]),PerforatedDisc}();e.exports=PerforatedDisc},function(e,t,PhTesterProbe){"use strict";var a=PhTesterProbe(4),i=PhTesterProbe(0),n=i(PhTesterProbe(1)),r=i(PhTesterProbe(2)),o=i(PhTesterProbe(19)),s=i(PhTesterProbe(5)),l=i(PhTesterProbe(6)),h=i(PhTesterProbe(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=PhTesterProbe(8),PhTesterProbe=function(){(0,s.default)(PhTesterProbe,u);var t=c(PhTesterProbe);function PhTesterProbe(){var e;return(0,n.default)(this,PhTesterProbe),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,o.default)(e))}),e}return(0,r.default)(PhTesterProbe,[{key:"redoAdd",value:function(){function e(e,t,i,n){e.addChild(t),((t._equipment=e).addedRubber=t).x=e.rubberPos.x,t.y=e.rubberPos.y,n?i.addedNode[0]=e:i.addedNode[1]=e,e.emit("appendEquipment",i)}this.left.x=10+this.x,this.left.y=this.y,e(this.left,this.rubber.leftHead,this.rubber,!0),e(this.right,this.rubber.rightHead,this.rubber,!1)}},{key:"creationComplete",value:function(){var e=this;this.left=this.execute(NBCommand.CREATE_EQUIPMENT,"PhTesterPlate"),this.right=this.execute(NBCommand.CREATE_EQUIPMENT,"PhTesterProbe"),this.rubber=this.execute(NBCommand.CREATE_EQUIPMENT,"PhTesterWire");var t=!(this.executeEq=[this.left,this.right,this.rubber]),i=!1,n=!1;this.rubber.on("creationComplete",function(){t=!0,i&&o(e.left,e.rubber.leftHead,e.rubber,!0),n&&o(e.right,e.rubber.rightHead,e.rubber,!1),e.rubber.leftCatheter=e.left,e.rubber.rightCatheter=e.right}),this.left.on("creationComplete",function(){e.left.x=10+e.x,e.left.y=e.y,i=!0,e.right.plateEq=e.left,t&&o(e.left,e.rubber.leftHead,e.rubber,!0)}),this.right.on("creationComplete",function(){e.right.x=550+e.x,e.right.y=e.y,n=!0,t&&o(e.right,e.rubber.rightHead,e.rubber,!1)}),this.cannotSystemDrag=!0,NBDrag.addDrag(this.left),NBDrag.addDrag(this.right);var a=this.getViewStack(),r=this;function o(e,t,i,n){e.addChild(t),((t._equipment=e).addedRubber=t).x=e.rubberPos.x,t.y=e.rubberPos.y,t.rotation=e.rubberPos.rotation*(n?1:-1),n?i.addedNode[0]=e:i.addedNode[1]=e,a.addChildAt(r.rubber,0),a.addChild(r.left),a.addChild(r.right),i.addHeadForceEq(t,e)}this.left.broCatheter=this.right,this.left.linkRubber=this.rubber,this.right.linkRubber=this.rubber,this.right.broCatheter=this.left,this.left.on(NBEvent.del.PREPARE_DELETE,function(){e.linkRubber&&(e.linkRubber.leftCatheter=null,e.linkRubber.rightCatheter=null),e.left.broCatheter&&(e.right.linkRubber=null,e.right.broCatheter=null,e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e.left.broCatheter,e.left.linkRubber]}),e.left.broCatheter=null,e.left.linkRubber=null)}),this.right.on(NBEvent.del.PREPARE_DELETE,function(){e.linkRubber&&(e.linkRubber.leftCatheter=null,e.linkRubber.rightCatheter=null),e.right.broCatheter&&(e.left.linkRubber=null,e.left.broCatheter=null,e.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[e.right.broCatheter,e.right.linkRubber]}),e.right.broCatheter=null,e.right.linkRubber=null)})}}]),PhTesterProbe}();e.exports=PhTesterProbe},function(e,t,PhTesterPlate){"use strict";var a=PhTesterPlate(4),i=PhTesterPlate(0),r=i(PhTesterPlate(25)),n=i(PhTesterPlate(9)),o=i(PhTesterPlate(1)),s=i(PhTesterPlate(2)),l=i(PhTesterPlate(7)),h=i(PhTesterPlate(5)),c=i(PhTesterPlate(6)),u=i(PhTesterPlate(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=PhTesterPlate(8),f=PhTesterPlate(29).getLan,PhTesterPlate=function(){(0,h.default)(PhTesterPlate,p);var t=d(PhTesterPlate);function PhTesterPlate(){var e;return(0,o.default)(this,PhTesterPlate),(e=t.call(this)).name="PhTesterPlate",e.CNName="pH计表盘",e.reader=0,e.z_index=19.08,e.isPhTestPart=!0,e}return(0,s.default)(PhTesterPlate,[{key:"curPh",get:function(){return this._curPh},set:function(e){isNaN(e)||(e=Math.max(Math.min(14,e),0).toFixed(2),this._curPh!==e&&(this.setPhValue(e),this._curPh=e))}},{key:"openPowerSwitch",get:function(){return this._openPowerSwitch},set:function(e){this._openPowerSwitch=e,(this.numPlate.visible=e)||(this.curPh=7)}},{key:"creationComplete",value:function(){this.initText(),this.openPowerSwitch=!1,this.curPh=7,(0,l.default)((0,u.default)(PhTesterPlate.prototype),"creationComplete",this).call(this),this.allowRubberCatheter=!0,this.rubberPos={x:0,y:-45,rotation:-Math.PI/2},this.addCursor(this.switchBtn,NBGesture.gesture.TAP),NBGesture.addGesture(this.switchBtn,NBGesture.gesture.TAP,this.switchPower,!1,this)}},{key:"initText",value:function(){this.txtSwitch.text=f("eq_switch"),this.txtSwitch.anchor.set(.5)}},{key:"switchPower",value:function(){this.openPowerSwitch=!this.openPowerSwitch}},{key:"setPhValue",value:function(e){for(var t,i=e.length,n=i;n<=4;n++)this.numPlate["num"+n].currentFrame=0;for(n=i;n--;)if(n!==i-3){if(!(t=this.numPlate["num"+(i-n-1)]))break;t.currentFrame=(0,r.default)(e[n])}}},{key:"toJSON",value:function(){return(0,n.default)((0,l.default)((0,u.default)(PhTesterPlate.prototype),"toJSON",this).call(this),{curPh:this.curPh,openPowerSwitch:this.openPowerSwitch})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(PhTesterPlate.prototype),"setJSON",this).call(this,e),e.curPh&&(this.curPh=e.curPh),e.openPowerSwitch&&(this.openPowerSwitch=e.openPowerSwitch)}}]),PhTesterPlate}();e.exports=PhTesterPlate},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),f=i(26);e.exports=function(){(0,h.default)(PhTesterProbe,p);var t=d(PhTesterProbe);function PhTesterProbe(){var e;return(0,o.default)(this,PhTesterProbe),(e=t.call(this)).name="PhTesterProbe",e.CNName="pH计探头",e.z_index=19.07,e._openPowerSwitch=!1,e.probePos={x:0,y:348},e.isPhTestPart=!0,e.testPhCount=0,e}return(0,s.default)(PhTesterProbe,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(PhTesterProbe.prototype),"creationComplete",this).call(this),this.allowRubberCatheter=!0,this.rubberPos={x:0,y:-45,rotation:-Math.PI/2}}},{key:"testContainerPh",value:function(){var e,t,i=this.currentContainer;TweenMax.isTweening(this)||(i&&i.medicineData&&1<i.getCurrentCapacity()?(e=this.toGlobal(this.probePos),f.containsPoint(i.liquidVertex,e)?(t=i.medicineData.ionAry.quickMap.get("H1"),0<(i=(e=i.medicineData.liquidAry.quickMap.get("H2O"))&&e.getVol()||i.getCurrentCapacity(!0))&&t&&(t.correctMol||t.getMol())&&(t=t.correctMol||t.getMol(),this.setPhToPlate(-Math.log10(t/i*1e3)),this.testPhCount++),3<this.testPhCount&&(this.testPhCount=0)):this.testPhCount=0):this.testPhCount=0)}},{key:"setPhToPlate",value:function(e){this.plateEq&&0===this.testPhCount&&this.plateEq.openPowerSwitch&&(this.plateEq.curPh=e)}},{key:"update",value:function(e){(0,l.default)((0,u.default)(PhTesterProbe.prototype),"update",this).call(this,e),this.testContainerPh()}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(PhTesterProbe.prototype),"toJSON",this).call(this),{plateEq:this.plateEq&&this.plateEq.getUUID?this.plateEq.getUUID():this.plateEq})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(PhTesterProbe.prototype),"setJSON",this).call(this,e),e.plateEq&&this.getEquipmentByUUID(e.plateEq).then(function(e){t.plateEq=e})}}]),PhTesterProbe}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(18),RubberCatheter=i(146);e.exports=function(){(0,h.default)(PhTesterWire,RubberCatheter);var t=d(PhTesterWire);function PhTesterWire(){var e;return(0,o.default)(this,PhTesterWire),(e=t.call(this)).name="PhTesterWire",e.CNName="pH计导线",e.fromFrameImage="".concat(e.name,"/rope"),e.straight=8,e._leftCatheter=null,e._rightCatheter=null,e}return(0,s.default)(PhTesterWire,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(PhTesterWire.prototype),"creationComplete",this).call(this),NBDrag.removeDrag(this.leftHead),NBDrag.removeDrag(this.rightHead),setTimeout(function(){e.updateLocalBounds()},150),this.addRubberEvent()}},{key:"leftCatheter",get:function(){return this._leftCatheter},set:function(e){this._leftCatheter=e,this.updateLocalBounds(),this.addCatheterEvent(this._leftCatheter)}},{key:"rightCatheter",get:function(){return this._rightCatheter},set:function(e){this._rightCatheter=e,this.updateLocalBounds(),this.addCatheterEvent(this._rightCatheter)}},{key:"addCatheterEvent",value:function(e){e.on(NBDrag.event.DRAG_MOVE,this.updateLocalBounds.bind(this))}},{key:"addRubberEvent",value:function(){var t=this;this.ropeRubber.on(NBDrag.event.DRAG_MOVE,this.updateLocalBounds.bind(this)),this.ropeRubber.on(NBDrag.event.DRAG_MOVE,function(){this.root.emit(NBEvent.communicate.angular.EQ_DRAG_MOVE)}.bind(this)),this.on(NBEvent.del.DELETE,function(){var e=[t.leftCatheter,t.rightCatheter];t.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:e,forceDelete:e})})}},{key:"selectedRubber",value:function(){var e=this;this.root.emit(NBEvent.communicate.angular.SHOW_EQ_ATTRIBUTE,this),setTimeout(function(){e.root.viewStack.selectionLayer.selectedObj=[e],nb.currentConfigEq=e},10)}},{key:"updateLocalBounds",value:function(){var e,t,i,n,a;this.leftCatheter&&this.rightCatheter&&(n=this.leftCatheter.getBounds(),a=this.rightCatheter.getBounds(),e=Math.min(n.x,a.x),t=Math.min(n.y,a.y),i=Math.max(n.x+n.width,a.x+a.width),n=Math.max(n.y+n.height,a.y+a.height),a={x:(e-(a=this.root.viewStack).x)/a.scale.x,y:(t-a.y)/a.scale.y,width:(i-e)/a.scale.x,height:(n-t)/a.scale.y},this.x=this.y=0,this.originLocalBounds=a)}},{key:"addHeadForceEq",value:function(e,t){var i,n;t.addChildWithSamePos(e),((e.equipment=t).addedRubber=e).x=t.rubberPos.x,e.y=t.rubberPos.y,1===e.isLeft?e.rotation=t.rubberPos.rotation:(i=p.retrieveRotation(e.worldTransform),n=p.retrieveRotation(t.worldTransform),e.rotation=t.rubberPos.rotation+Math.PI*(0<n-i?-1:1))}},{key:"eqTap",value:function(e){var t=this.rubber||this,i=this.root.PointerManager.getPointEquipment(e.data.global);1<(i=i.filter(function(e){return!e.dontDrag})).length&&i.every(function(e){return e===t||e==t.leftCatheter||e===t.rightCatheter})&&i.splice(i.indexOf(t),1);var n=i.length;0===n||(1===n?i[0].emitTap():this.root.emit(NBEvent.communicate.angular.SHOW_EQ_LIST,{children:i,data:this.getStageToDomPos(e.data.global)}))}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(PhTesterWire.prototype),"toJSON",this).call(this),{leftCatheter:this.leftCatheter&&this.leftCatheter.getUUID?this.leftCatheter.getUUID():this.leftCatheter,rightCatheter:this.rightCatheter&&this.rightCatheter.getUUID?this.rightCatheter.getUUID():this.rightCatheter})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(PhTesterWire.prototype),"setJSON",this).call(this,e),e.leftCatheter&&this.getEquipmentByUUID(e.leftCatheter).then(function(e){t.leftCatheter=e}),e.rightCatheter&&this.getEquipmentByUUID(e.rightCatheter).then(function(e){t.rightCatheter=e}),setTimeout(function(){t.addedNode.forEach(function(e){TweenMax.to(e,.1,{y:"+=1"})})},500)}}]),PhTesterWire}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(147),d=i(29).getLan;e.exports=function(){(0,s.default)(PhenolphthaleinTestPaper,u);var t=c(PhenolphthaleinTestPaper);function PhenolphthaleinTestPaper(){var e;return(0,r.default)(this,PhenolphthaleinTestPaper),(e=t.call(this)).name="PhenolphthaleinTestPaper",e.CNName="酚酞试纸",e}return(0,o.default)(PhenolphthaleinTestPaper,[{key:"initText",value:function(){this.txt.allowGetBounds=!1,this.txt.text=d("eq_phenolphthalein"),this.txt.anchor.set(.5)}}]),PhenolphthaleinTestPaper}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(PlasticBag,d);var t=u(PlasticBag);function PlasticBag(){var e;return(0,r.default)(this,PlasticBag),(e=t.call(this)).name="PlasticBag",e.CNName="塑料套",e.z_index=16,e}return(0,o.default)(PlasticBag,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(PlasticBag.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack)}},{key:"update",value:function(e){(0,s.default)((0,c.default)(PlasticBag.prototype),"update",this).call(this,e)}}]),PlasticBag}()},function(e,t,PlasticBrick){"use strict";var a=PlasticBrick(4),i=PlasticBrick(0),n=i(PlasticBrick(24)),r=i(PlasticBrick(9)),o=i(PlasticBrick(1)),s=i(PlasticBrick(2)),l=i(PlasticBrick(19)),h=i(PlasticBrick(7)),c=i(PlasticBrick(5)),u=i(PlasticBrick(6)),d=i(PlasticBrick(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=PlasticBrick(8),I=PlasticBrick(34),g=PlasticBrick(31),m=PlasticBrick(32),y=PlasticBrick(75),v=PlasticBrick(20),C=PlasticBrick(27),PlasticBrick=function(){(0,c.default)(PlasticBrick,f);var t=p(PlasticBrick);function PlasticBrick(){var e;return(0,o.default)(this,PlasticBrick),(e=t.call(this)).name="PlasticBrick",e.constName="PlasticBrick",e.CNName="聚乙烯塑料",e.conf_chemical_equation=!0,g.register(m.MAGBURN),e.isBurning=!1,e.burnCount=0,e.fireStatus=0,e.z_index=15.11,e.medicineData=new y((0,l.default)(e)),e}return(0,s.default)(PlasticBrick,[{key:"creationComplete",value:function(){var e=this;(0,h.default)((0,d.default)(PlasticBrick.prototype),"creationComplete",this).call(this),this.initParticle(),this.viewStack||(this.lastParent=this.parent),this.on(NBEvent.del.PREPARE_DELETE,function(){g.stop(),e.delParticle()}),this.addMedicine("C2H4",.3),this.conf_show_mol=!1,this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.on(NBDrag.event.PREPARE_DRAG,this.prepareDrag),this.on("hitted",this.interact)}},{key:"prepareDrag",value:function(){TweenMax.isTweening(this)||(TweenMax.to(this.scale,.1,{x:1,y:1}),this.rotation=0,this.addMedicine("C2H4",.3*(1-this.fireStatus)),this.lastParent&&delete this.lastParent.medicineData.solidAry.C2H4)}},{key:"addMedicine",value:function(e,t){var i,e=e instanceof Array?(i=e[0].name,e[0].mol):(i=e,t),t=this.medicineManager.getMedicineData(i),e=new v(t,e);this.SolidVO=e,this.solidMedicine=e,this.solidMedicineInfo=(new n.default).set(i,e),this.medicineData.solidAry[i]=e}},{key:"removeMedVo",value:function(e){delete this.SolidVO,delete this.solidMedicine,delete this.solidMedicineInfo,this.medicineData.solidAry[e].mol=0}},{key:"interact",value:function(e){var t=e.hitObj;TweenMax.isTweening(this)||.3<t.medicineData.getLiquidCapacity()||t.medicineData.getSolidMol()||(t.addChildAtWithSamePos(this,0),this.rotation=-Math.PI/2,this.removeMedVo("C2H4"),e=this.medicineManager.getMedicineData("C2H4"),e=new v(e,.3*(1-this.fireStatus)),t.medicineData.push(e),this.lastParent=this.parent,t="HardGlassTube"===t.name?{x:35,y:300,scale:.7}:{x:40,y:500,scale:.9},TweenMax.to(this,.3,{x:t.x,y:t.y}),TweenMax.to(this.scale,.3,{x:t.scale,y:t.scale}))}},{key:"initParticle",value:function(){this.fireParticle&&this.smokeParticle||(this.fireParticle=I.getParticle(I.particles.pepanel_fire),this.smokeParticle=I.getParticle(I.particles.pepanel_burn_smoke),this.getViewStack().addParticle(this.fireParticle),this.getViewStack().addParticle(this.smokeParticle),this.fireParticle.bind(this),this.smokeParticle.bind(this))}},{key:"delParticle",value:function(){this.smokeParticle&&(this.smokeParticle.destroy(),this.fireParticle.destroy(),this.fireParticle=null,this.smokeParticle=null)}},{key:"getLightOnPoint",value:function(){return[this.toGlobal({x:0,y:0})]}},{key:"lightOn",value:function(e,t){if(!(this.isBurning||1<=this.fireStatus)){if(t)if(16e4<Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))return;this.burnCount<=100?this.burnCount+=2:this.isBurning=!0}}},{key:"autoReduceBurnCount",value:function(){0<this.burnCount&&this.burnCount--}},{key:"particlesRender",value:function(){var e;this.isBurning&&(this.viewStack===this.getViewStack()?(this.smokeParticle.mask=null,this.fireParticle.mask=null):(this.smokeParticle.mask=this.parent.gasMask,this.fireParticle.mask=this.parent.gasMask),e=new PIXI.Rectangle(-60,30,150,0),this.fireParticle.loaded&&(this.fireParticle.particle.spawnRect=e),this.smokeParticle.loaded&&(this.smokeParticle.particle.spawnRect=e),.4<this.fireStatus&&this.fireParticle.render(),this.smokeParticle.render())}},{key:"calcFireStatus",value:function(e){var t,i,n,a,r;this.isBurning&&(this.fireStatus+=e/20,this.ani.currentFrame=Math.min(Math.round(11*this.fireStatus),11),this.fireParticle&&.8<=this.fireStatus&&!TweenMax.isTweening(this.fireParticle)&&(TweenMax.to(this.fireParticle,20*(1-this.fireStatus),{alpha:0}),TweenMax.to(this.smokeParticle,20*(1-this.fireStatus),{alpha:0})),null==this.bubbleSound&&(this.bubbleSound=g.play(m.MAGBURN,null,null,null,-1)),.99<=this.fireStatus&&(this.delParticle(),this.bubbleSound&&(this.bubbleSound._pause(),this.bubbleSound=null),this.isBurning=!1,this.holdParent&&this.holdParent.holdObjLeave.apply(this),this.destroy()),t=this.medicineManager.getMedicineData("C2H4"),n=this.medicineManager.getMedicineData("O2"),a=this.medicineManager.getMedicineData("CO2"),r=this.medicineManager.getMedicineData("H2O"),this.parent&&/(HardGlassTube)$/.test(this.parent.name)?(i=this.parent.medicineData.getGasAverageTemp(),n=new C(n,-.045*e),a=new C(a,.03*e),r=new C(r,.03*e),n.setTemp(i),a.setTemp(i),r.setTemp(i),this.parent.medicineData.push(new v(t,-.015*e)),this.parent.medicineData.solidAry.C2H4&&this.parent.medicineData.solidAry.C2H4.mol<.01&&delete this.parent.medicineData.solidAry.C2H4,this.parent.medicineData.push(n),this.parent.medicineData.push(a),this.parent.medicineData.push(r),1<=this.fireStatus?this.parent.PEisBurning=!1:this.parent.PEisBurning=!0):this.addMedicine("C2H4",.3*(1-this.fireStatus)))}},{key:"toJSON",value:function(){var e=this.isBurning,t=this.fireStatus;return(0,r.default)((0,h.default)((0,d.default)(PlasticBrick.prototype),"toJSON",this).call(this),{isBurning:e,fireStatus:t})}},{key:"setJSON",value:function(e){(0,h.default)((0,d.default)(PlasticBrick.prototype),"setJSON",this).call(this,e),this.isBurning=e.isBurning,this.fireStatus=e.fireStatus}},{key:"update",value:function(e){(0,h.default)((0,d.default)(PlasticBrick.prototype),"update",this).call(this,e),this.particlesRender(),this.autoReduceBurnCount(),this.calcFireStatus(e)}}]),PlasticBrick}();e.exports=PlasticBrick},function(e,t,PlateCladCu){"use strict";var a=PlateCladCu(4),s=PlateCladCu(44),l=PlateCladCu(42),h=PlateCladCu(43),c=PlateCladCu(37),i=PlateCladCu(0),n=i(PlateCladCu(24)),r=i(PlateCladCu(60)),o=i(PlateCladCu(9)),u=i(PlateCladCu(1)),d=i(PlateCladCu(2)),p=i(PlateCladCu(7)),f=i(PlateCladCu(5)),I=i(PlateCladCu(6)),g=i(PlateCladCu(3));function m(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return y(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function v(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,g.default)(i);return t=n?(e=(0,g.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,I.default)(this,t)}}var C=PlateCladCu(8),M=PlateCladCu(75),b=PlateCladCu(16),x=PlateCladCu(22),O=PlateCladCu(74),A=PlateCladCu(20),PlateCladCu=function(){(0,f.default)(PlateCladCu,C);var e=v(PlateCladCu);function PlateCladCu(){return(0,u.default)(this,PlateCladCu),e.apply(this,arguments)}return(0,d.default)(PlateCladCu,[{key:"creationComplete",value:function(){(0,p.default)((0,g.default)(PlateCladCu.prototype),"creationComplete",this).call(this),this.name="PlateCladCu",this.CNName="覆铜板",this.constName="PlateCladCu",this.isBlockMedicine=!0,this.medicineData=new M(this),this.setMedVo(this.getMedicineName(),1e-4),this.posStatus="inAir",this.w=this.picCon.width,this.h=this.picCon.height,this.lineColor=16777215,this.linePoints=[],this.corrodeH=0,this.useSpr=!1,this.per=0,this.corrodeTm=0,this.touchId=null,this.state="none",this.onDrawDownCb=this.onDrawDown.bind(this),this.onDrawMoveCb=this.onDrawMove.bind(this),this.onDrawUpCb=this.onDrawUp.bind(this),this.onDrawOutCb=this.onDrawOut.bind(this),this.onDrawOverCb=this.onDrawOver.bind(this),this.isCorroding=!1,this.metalHitWaterPoint={left:null,center:null,right:null},this.CORRODE_TM=5,this.conEq=null,this.conEqId=null,this.on("hitted",this.onHitted.bind(this)),this.on("hasTweenComplete",this.onTweenComplete.bind(this)),this.initLayers(),this.initBtns()}},{key:"update",value:function(e){(0,p.default)((0,g.default)(PlateCladCu.prototype),"update",this).call(this,e),x.genEffectFunc(this,e,2e-4),this.genCorrodeEffectFunc(e)}},{key:"startDraw",value:function(){this.state="draw",this.addDrawListener(),this.addCursor(this.picCon,b.status.PEN)}},{key:"endDraw",value:function(){this.onDrawUp(),this.removeCursor(this.picCon),this.picCon.interactive=!1}},{key:"corrode",value:function(e){this.isCorroding||(this.state="corrode",this.corrodeH=e,this.updateCorrodeArea(e),this.isCorroding=!0,this.topCorrodingPic.visible=!0,this.genCorrodeEffectFunc(0),1==this.per&&this.endCorrode())}},{key:"clean",value:function(){this.state="clean";var e=this.saveEnv();this.stage.renderer.render(this.stage);var t=this.getLineDis();this.topPic.mask=t,this.topCorrodedPic.texture=this.stage.renderer.generateTexture(this.topPic),this.topPic.mask=this.unCorrodeGra,this.topCorrodedPic.visible=!0,t.visible=!1,this.restoreEnv(e)}},{key:"setMedVo",value:function(e,t){var i=this.medicineManager.getMedicineData(e),t=new A(i,t);this.medVo=t,this.medicineData.solidAry[e]=t,this.solidMedicineInfo=(new n.default).set(e,t),this.solidMedicine=t.deepClone()}},{key:"initLayers",value:function(){this.bgPic=this.picCon.bgPic,this.topCorrodingPic=this.picCon.topCorrodingPic,this.topCorrodingPic.alpha=0,this.topPic=this.picCon.topPic,this.topCorrodedPic=new PIXI.Sprite,this.topCorrodedPic.visible=!1,this.picCon.addChild(this.topCorrodedPic),this.corrodedGra=new PIXI.Graphics,this.picCon.addChild(this.corrodedGra),this.unCorrodeGra=new PIXI.Graphics,this.picCon.addChild(this.unCorrodeGra),this.lineSpr=new PIXI.Sprite,this.picCon.addChild(this.lineSpr),this.lineGra=new PIXI.Graphics,this.lineSpr.addChild(this.lineGra),this.conMask=new PIXI.Graphics,this.conMask.beginFill(),this.conMask.drawRect(0,0,this.w,this.h),this.picCon.addChild(this.conMask),this.updateCorrodeArea(0),this.bgPic.mask=this.corrodedGra,this.topPic.mask=this.unCorrodeGra,this.picCon.mask=this.conMask}},{key:"initBtns",value:function(){var e=this;this.endDrawBtn.visible=!1,this.cleanBtn.visible=!1,this.startDrawBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.startDraw(),e.startDrawBtn.visible=!1,e.endDrawBtn.visible=!0}),this.endDrawBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.endDraw(),e.endDrawBtn.visible=!1}),this.cleanBtn.addEventListener(TouchEvent.TOUCH_END,function(){e.clean(),e.cleanBtn.visible=!1})}},{key:"onHitted",value:function(e){this.dragAble=!1,this.conEq=e.hitObj,this.conEqId=this.conEq.getUUID(),this.endDraw(),this.startDrawBtn.visible=this.endDrawBtn.visible=this.cleanBtn.visible=!1,this.enableContainer(this.conEq,!1)}},{key:"onTweenComplete",value:function(){var e,t;this.conEq&&(this.currentContainer=this.conEq,this.container=this.conEq,null!==(t=this.calcMetalHitWaterLine())&&(0<(e=this.y+this.h-t)?(this.posStatus="inWater",(t=this.container.blockMedicineMap.get(this.getMedicineName())||new r.default).add(this),this.container.blockMedicineMap.set(this.getMedicineName(),t),this.hasReactInCon(this.currentContainer)&&this.corrode(e)):this.posStatus="inContainerAir"))}},{key:"hasReactInCon",value:function(e){var t=[],i=this.getSolidMedicineInfo(),e=e.getLiquidMedicineInfo();if(i){var n,a=m(i.values());try{for(a.s();!(n=a.n()).done;){var r=n.value;t.push(r)}}catch(e){a.e(e)}finally{a.f()}}if(e){var o,s=m(e.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;t.push(l)}}catch(e){s.e(e)}finally{s.f()}}e=x.privateFindReaction(t);return!(!e||!e.size)}},{key:"genCorrodeEffectFunc",value:function(e){this.currentContainer&&(this.corrodeTm+=e,this.per=Math.min(this.corrodeTm/this.CORRODE_TM,1),this.isCorroding&&0<this.corrodeH&&this.updateCorrode(this.per),1==this.per&&this.endCorrode())}},{key:"calcMetalHitWaterLine",value:function(){var e=null,t=this.conEq;if(!t||t.liquidGra.length<1)return e;t=t.liquidGra.find(function(e){if(e.med)return"H2O"===e.med.name});return t&&t.vertex?e=t.vertex[0].y:e}},{key:"updateCorrode",value:function(e){this.isCorroding&&(this.topCorrodingPic.alpha=1-e)}},{key:"endCorrode",value:function(){var e=this;this.corrodeTm=0,this.topCorrodingPic.alpha=0,this.isCorroding=!1;function t(){0<e.corrodeH?(e.cleanBtn.visible=!0,e.noCombine=!0):e.startDrawBtn.visible=!0,e.enableContainer(a,!0),e.dragAble=!0,O.addDrag(e)}var i,n,a=this.conEq;a?(i=a.position,this.eqAddToViewStack(),this.conEq=null,this.conEqId=null,this.currentContainer=null,(n=this.container.blockMedicineMap.get(name))&&n.delete(this),this.container=null,TweenMax.to(this,.2,{x:i.x+450,y:i.y,onComplete:t})):t(),this.posStatus="inAir"}},{key:"enableContainer",value:function(e,t){e&&(e.noInteract=!t,(e.dragAble=t)?O.addDrag(e):O.removeDrag(e),e.dontDrag=!t)}},{key:"addDrawListener",value:function(){this.picCon.interactive=!0,this.picCon.on("pointerdown",this.onDrawDownCb)}},{key:"onDrawDown",value:function(e){if(e.stopImmediatePropagation(),null===this.touchId)this.touchId=e.data.identifier;else if(this.touchId!==e.data.identifier)return;this.picCon.on("pointermove",this.onDrawMoveCb).on("pointerup",this.onDrawUpCb).on("pointerupoutside",this.onDrawUpCb).on("pointerout",this.onDrawOutCb).on("pointerover",this.onDrawOverCb);e=e.data.getLocalPosition(this.picCon);this.lineGra.lineStyle(5,this.lineColor),this.lineGra.moveTo(e.x,e.y)}},{key:"onDrawMove",value:function(e){e.stopImmediatePropagation(),this.touchId===e.data.identifier&&(e=e.data.getLocalPosition(this.picCon),this.lineGra.lineStyle(5,this.lineColor),this.lineGra.lineTo(e.x,e.y))}},{key:"onDrawUp",value:function(e){e&&(e.stopImmediatePropagation(),this.touchId!==e.data.identifier)||(this.touchId=null,this.picCon.off("pointermove",this.onDrawMoveCb).off("pointerup",this.onDrawUpCb).off("pointerupoutside",this.onDrawUpCb).off("pointerout",this.onDrawOutCb).off("pointerover",this.onDrawOverCb))}},{key:"onDrawOut",value:function(e){this.touchId===e.data.identifier&&this.picCon.off("pointermove",this.onDrawMoveCb)}},{key:"onDrawOver",value:function(e){e.stopImmediatePropagation(),this.touchId===e.data.identifier&&(this.picCon.on("pointermove",this.onDrawMoveCb),e=e.data.getLocalPosition(this.picCon),this.lineGra.lineStyle(5,this.lineColor),this.lineGra.moveTo(e.x,e.y))}},{key:"saveEnv",value:function(){var e={parent:this.parent,childIndex:this.parent.getChildIndex(this),posX:this.x,posY:this.y,dpr:PIXI.settings.RESOLUTION};return PIXI.settings.RESOLUTION=1,this.position.set(0,0),this.stage.addChild(this),e}},{key:"restoreEnv",value:function(e){PIXI.settings.RESOLUTION=e.dpr,this.position.set(e.posX,e.posY),e.parent.addChildAt(this,e.childIndex)}},{key:"updateCorrodeArea",value:function(e){this.corrodedGra.clear(),this.corrodedGra.lineStyle(0),this.corrodedGra.beginFill(16776960,.4);e=this.h-e;this.corrodedGra.moveTo(0,this.h),this.corrodedGra.lineTo(this.w,this.h),this.corrodedGra.lineTo(this.w,e),this.corrodedGra.lineTo(0,e),this.unCorrodeGra.clear(),this.unCorrodeGra.lineStyle(0),this.unCorrodeGra.beginFill(65535,.4),this.unCorrodeGra.moveTo(0,e),this.unCorrodeGra.lineTo(this.w,e),this.unCorrodeGra.lineTo(this.w,0),this.unCorrodeGra.lineTo(0,0)}},{key:"getLineDis",value:function(){return this.useSpr?this.lineSpr:this.lineGra}},{key:"getSolidMedicineInfo",value:function(){var e=this.medVo,t=new n.default;return t.set(e.name,e.deepClone()),t}},{key:"getTemp",value:function(){return"inWater"===this.posStatus&&this.container&&this.container.medicineData&&this.container.medicineData.liquidAry&&this.container.medicineData.liquidAry[0]?this.container.medicineData.getLiquidAverageTemp():this.temp}},{key:"addMedicine",value:function(e){(e instanceof A||e&&e.dat&&"p"===e.dat.type)&&e.name===this.medVo.name&&this.addMed(e)}},{key:"addMed",value:function(e){var t;this.medVo.name===e.name&&(t=this.medVo.getMol()+e.mol,this.medVo.setMol(t),this.parent&&this.parent.medicineData&&this.parent.medicineData.addMedicine(this.medVo.name,e.mol))}},{key:"getCurrentGas",value:function(){return x.openContainerGetGasAry(this.container)}},{key:"getMedicineName",value:function(){return"Cu"}},{key:"toJSON",value:function(){var e,t={state:this.state},i=this.saveEnv();switch(this.stage.renderer.render(this.stage),this.state){case"none":break;case"draw":e=this.lineSpr.getLocalBounds(),t.linePos={x:e.x,y:e.y},t.lineDis=this.stage.renderer.plugins.extract.base64(this.lineSpr);break;case"corrode":e=this.lineSpr.getLocalBounds(),t.linePos={x:e.x,y:e.y},t.lineDis=this.stage.renderer.plugins.extract.base64(this.lineSpr),t.h=this.corrodeH,t.corrodePer=this.per,1!==this.per&&(t.conEqId=this.conEqId);break;case"clean":t.h=this.corrodeH,t.corrodedDis=this.stage.renderer.plugins.extract.base64(this.topCorrodedPic)}return this.restoreEnv(i),(0,o.default)((0,p.default)((0,g.default)(PlateCladCu.prototype),"toJSON",this).call(this),t)}},{key:"setJSON",value:function(t){var i=this;(0,p.default)((0,g.default)(PlateCladCu.prototype),"setJSON",this).call(this,t);function n(e){i.conEq=e,i.currentContainer=e,i.container=e,i.corrodeTm=i.per*i.CORRODE_TM,i.corrode(t.h),i.enableContainer(e,!1),i.dragAble=!1,O.removeDrag(i)}switch(this.state=t.state,this.state){case"none":break;case"draw":this.useSpr=!0,this.lineSpr.texture=PIXI.Texture.from(t.lineDis),this.lineSpr.position.set(t.linePos.x,t.linePos.y),this.lineSpr.removeChildren(),this.picCon.interactive=!1,this.startDrawBtn.visible=!1,this.endDrawBtn.visible=!1,this.cleanBtn.visible=!1;break;case"corrode":this.useSpr=!0,this.lineSpr.texture=PIXI.Texture.from(t.lineDis),this.lineSpr.position.set(t.linePos.x,t.linePos.y),this.lineSpr.removeChildren(),this.picCon.interactive=!1,this.startDrawBtn.visible=!1,this.endDrawBtn.visible=!1,this.cleanBtn.visible=!1,this.per=t.corrodePer,1!==this.per?(this.conEqId=t.conEqId,this.conEqId&&this.getEquipmentByUUID(this.conEqId).then(function(e){e.isCreationComplete?n(e):e.on("creationComplete",function(){n(e)})})):(this.corrodeTm=this.per*this.CORRODE_TM,this.corrode(t.h));break;case"clean":this.picCon.interactive=!1,this.lineSpr.visible=!1,this.corrodeH=t.h,this.updateCorrodeArea(t.h),this.topCorrodedPic.texture=PIXI.Texture.from(t.corrodedDis),this.topCorrodedPic.visible=!0,this.startDrawBtn.visible=!1,this.endDrawBtn.visible=!1,this.cleanBtn.visible=!1,this.noCombine=!0}}}]),PlateCladCu}();e.exports=PlateCladCu},function(e,t,PlatinumWire){"use strict";var a=PlatinumWire(4),s=PlatinumWire(44),l=PlatinumWire(42),h=PlatinumWire(43),c=PlatinumWire(37),i=PlatinumWire(0),n=i(PlatinumWire(24)),d=i(PlatinumWire(25)),r=i(PlatinumWire(1)),o=i(PlatinumWire(2)),u=i(PlatinumWire(7)),p=i(PlatinumWire(5)),f=i(PlatinumWire(6)),I=i(PlatinumWire(3));function g(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return m(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function y(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,I.default)(i);return t=n?(e=(0,I.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,f.default)(this,t)}}var v=PlatinumWire(8),C=PlatinumWire(100),BunsenBurner=PlatinumWire(405),M=PlatinumWire(57),b=PlatinumWire(414),PlatinumWire=function(){(0,p.default)(PlatinumWire,v);var t=y(PlatinumWire);function PlatinumWire(){var e;return(0,r.default)(this,PlatinumWire),(e=t.call(this)).name="PlatinumWire",e.CNName="铂丝",e.z_index=19.13,e._coveredByCobaltGlass=null,e}return(0,o.default)(PlatinumWire,[{key:"coveredByCobaltGlass",get:function(){return this._coveredByCobaltGlass},set:function(e){e?(this.noCombine=!0,this._coveredByCobaltGlass=e):(this.noCombine=null,this._coveredByCobaltGlass=null),this.setFireColor();var t,i=g(this.ionFiresOn.keys());try{for(i.s();!(t=i.n()).done;){var n,a=t.value,r=this.ionFiresOn.get(a);r&&(this.ionFiresOn.delete(a),(n=r.particle).parent&&n.parent.removeChild(n),n.destroy())}}catch(e){i.e(e)}finally{i.f()}}},{key:"isFull",value:function(){return!!this.coveredGasBottle||(0,u.default)((0,I.default)(PlatinumWire.prototype),"isFull",this).call(this)}},{key:"creationComplete",value:function(){var a=this;(0,u.default)((0,I.default)(PlatinumWire.prototype),"creationComplete",this).call(this),this.ionFiresOn=new n.default,this.updateTransform(),this.medicine=new n.default,this.fireColor=null,this.on(NBEvent.del.PREPARE_DELETE,function(){var e,t=g(a.ionFiresOn.keys());try{for(t.s();!(e=t.n()).done;){var i=e.value,n=a.ionFiresOn.get(i);n.particle.parent.removeChild(n.particle),n.particle.destroy(),a.ionFiresOn.delete(i)}}catch(e){t.e(e)}finally{t.f()}}),this.addListeners()}},{key:"eqPrepareDelete",value:function(){(0,u.default)((0,I.default)(PlatinumWire.prototype),"eqPrepareDelete",this).call(this),this.coveredByCobaltGlass&&(this.coveredByCobaltGlass.bindWire=null,this.coveredByCobaltGlass=null)}},{key:"isUnderLiquid",get:function(){return!!(this.parent.liquidVertex&&0<this.toGlobal({x:0,y:this.localBounds.height}).y-this.parent.liquidVertex[0].y)&&this.parent.medicineData.ionAry}},{key:"currentMol",get:function(){var e,t=0,i=g(this.medicine.keys());try{for(i.s();!(e=i.n()).done;){var n=e.value;t+=this.medicine.get(n).mol}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"increaseTemp",value:function(e,t,i){var n=this.getViewStack().scale.x;i instanceof BunsenBurner&&this.fireColor&&0!==this.fireColor.number&&(this.toGlobal({x:0,y:this.localBounds.height}).y-e.y)/n<217&&((n=this.ionFiresOn.get(i))&&n.particle&&n.particle.parent?(n.count=0,n.particle.render()):((n=i.addIonFire(this.particleMask.getChildAt(0),this.fireColor.array)).ifScaleParticle=!0,this.ionFiresOn.set(i,{count:0,particle:n})))}},{key:"addListeners",value:function(){var p=this,f=null;this.on(NBDrag.event.DRAG_MOVE,function(){var e=p.isUnderLiquid;if(e){if(f!==p.parent){f=p.parent;var t,i=[],n=g(p.medicine.keys());try{for(n.s();!(t=n.n()).done;){var a=t.value,r=p.medicine.get(a);r.mol/=3;var o=new C(r.dat,r.mol/3*2);i.push(o)}}catch(e){n.e(e)}finally{n.f()}for(var s=0,l=0;l<e.length;l++)s+=e[l].mol;for(var h=1e-7-p.currentMol,c=0;c<e.length;c++){var u=e[c],d=u.mol/s*h;u.mol-=d;d=new C(u.dat,d);p.addMedicine(d)}p.parent.medicineData.push(i)}}else f=null})}},{key:"addMedicine",value:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)this.addMedicine(e[t]);else{var i=e.name,n=this.medicine.get(i);n?n.mol+=e.mol:this.medicine.set(i,e),this.setFireColor()}}},{key:"setFireColor",value:function(){var e,t=[],i=0,n=g(this.medicine.keys());try{for(n.s();!(e=n.n()).done;){var a,r,o,s,l=e.value,h=void 0,h="H"===l?"0x0":b[l];this.coveredByCobaltGlass&&"Na"===l||(a=this.medicine.get(l),h&&(o=1,(r=h)instanceof Object&&(r=h.color,o=h.multiple),i+=s=a.mol*o,t.push({mol:s,dat:{color:(0,d.default)(r)}})))}}catch(e){n.e(e)}finally{n.f()}var c=t.find(function(e){return 0===e.dat.color});if(c){if(.9<c.mol/i)return void(this.fireColor=null);var u=t.indexOf(c);i-=c.mol,t.splice(u,1)}this.fireColor=M.getMixColor(i,t)}},{key:"update",value:function(e){(0,u.default)((0,I.default)(PlatinumWire.prototype),"update",this).call(this,e),this.particleMask.rotation=-this.rotation;var t,i=g(this.ionFiresOn.keys());try{for(i.s();!(t=i.n()).done;){var n,a=t.value,r=this.ionFiresOn.get(a);r.count++,5<r.count&&(this.ionFiresOn.delete(a),(n=r.particle).parent&&n.parent.removeChild(n),n.destroy())}}catch(e){i.e(e)}finally{i.f()}}}]),PlatinumWire}();e.exports=PlatinumWire},function(e,t,PowerSwitch){"use strict";var a=PowerSwitch(4),i=PowerSwitch(0),n=i(PowerSwitch(9)),r=i(PowerSwitch(1)),o=i(PowerSwitch(2)),s=i(PowerSwitch(7)),l=i(PowerSwitch(5)),h=i(PowerSwitch(6)),c=i(PowerSwitch(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=PowerSwitch(202),PowerSwitch=function(){(0,l.default)(PowerSwitch,d);var t=u(PowerSwitch);function PowerSwitch(){var e;return(0,r.default)(this,PowerSwitch),(e=t.call(this)).name="PowerSwitch",e.CNName="开关",e.HAY_CUTTER_MAX_ANGLE=0,e.HAY_CUTTER_MIN_ANGLE=-Math.PI/3,e.HAY_CUTTER_STEP_ANGLE=1.3*Math.PI/180,e}return(0,o.default)(PowerSwitch,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(PowerSwitch.prototype),"creationComplete",this).call(this);var e=this.terminalLeft,t=this.terminalRight;this.rubberPosAry=[{x:e.x-20,y:e.y,name:"left",rotation:Math.PI},{x:t.x+20,y:t.y,name:"right",rotation:0}];t=this.hayCutter;this.defaultRotation=t.rotation=.5*(this.HAY_CUTTER_MAX_ANGLE+this.HAY_CUTTER_MIN_ANGLE),this.isClose=!1,this.bindEvent()}},{key:"bindEvent",value:function(){var e=this,n=this.hayCutter,t=this.hayCutter.header,a=!1,r=void 0,i=n.toGlobal({x:0,y:0}),o=i.x,s=i.y;function l(e){return Math.atan2(e.data.global.y-s,e.data.global.x-o)}function h(){a=!1,NBDrag.hasDrag(this)||NBDrag.addDrag(this),r=void 0}t.addEventListener(TouchEvent.TOUCH_BEGIN,function(e){a=!0;var t=n.toGlobal({x:0,y:0}),i=t.x,t=t.y;o=i,s=t,r=l(e),NBDrag.removeDrag(this)}.bind(this)),t.addEventListener(TouchEvent.TOUCH_MOVE,function(e){var t;a&&(t=e.data.global.x,e=l(e),o<t&&this.updateHayCutterAng(e-r),r=e)}.bind(this)),t.addEventListener(TouchEvent.TOUCH_END,h.bind(this)),t.addEventListener(TouchEvent.TOUCH_END_OUTSIDE,h.bind(this)),NBGesture.addGesture(t,NBGesture.gesture.TAP,function(){e.isClose?e.open():e.close()})}},{key:"open",value:function(){var e=this,t=this.hayCutter;t.header.interactive=!1,TweenMax.to(t,.3,{rotation:this.defaultRotation,onComplete:function(){e.isClose=!1,t.header.interactive=!0}})}},{key:"close",value:function(){var e=this,t=this.hayCutter;t.header.interactive=!1,TweenMax.to(t,.3,{rotation:0,onComplete:function(){e.isClose=!0,t.header.interactive=!0}})}},{key:"updateHayCutterAng",value:function(e){var t=this.hayCutter,i=t.rotation;switch(e){case"+":i+=this.HAY_CUTTER_STEP_ANGLE;break;case"-":i-=this.HAY_CUTTER_STEP_ANGLE;break;default:i+=e}i<this.HAY_CUTTER_MIN_ANGLE?i=this.HAY_CUTTER_MIN_ANGLE:i>this.HAY_CUTTER_MAX_ANGLE&&(i=this.HAY_CUTTER_MAX_ANGLE),t.rotation=i,this.isClose=t.hitTest(this.clip)}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(PowerSwitch.prototype),"toJSON",this).call(this),{_isClose:this.isClose})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(PowerSwitch.prototype),"setJSON",this).call(this,e),e._isClose&&this.close()}}]),PowerSwitch}();e.exports=PowerSwitch},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10);e.exports=function(){(0,l.default)(PureCopper,d);var t=u(PureCopper);function PureCopper(){var e;return(0,r.default)(this,PureCopper),(e=t.call(this)).name="PureCopper",e.CNName="纯铜片",e}return(0,o.default)(PureCopper,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(PureCopper.prototype),"creationComplete",this).call(this),this.line.width=0,this.initEvent()}},{key:"initEvent",value:function(){var n=this;this.on(NBDrag.event.PREPARE_DRAG,function(){n.eqAddToViewStack()}),this.on(NBDrag.event.STOP_DRAG,function(){var i=n;n.getSortDisHitObjects().forEach(function(e){var t=e.objB;"CopperSheet"==t.name&&(new TimelineMax).to(i,.5,{x:t.x,y:t.y-t.height/2,rotation:-Math.PI/6}).to(i,.5,{x:t.x+t.width,y:t.y-t.height/2}).to(i,.5,{x:t.x+e.width,y:t.y,rotation:0,onStart:function(){n.bg.visible=!1,n.bg2.visible=!0}})})})}}]),PureCopper}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(147),d=i(29).getLan;e.exports=function(){(0,s.default)(RedLitmusPaper,u);var t=c(RedLitmusPaper);function RedLitmusPaper(){var e;return(0,r.default)(this,RedLitmusPaper),(e=t.call(this)).name="RedLitmusPaper",e.CNName="红色石蕊试纸",e}return(0,o.default)(RedLitmusPaper,[{key:"initText",value:function(){this.txt.allowGetBounds=!1,this.txt.text=d("eq_redLitmusPaper"),this.txt.anchor.set(.5)}}]),RedLitmusPaper}()},function(e,t,ResinBag){"use strict";var a=ResinBag(4),i=ResinBag(0),n=i(ResinBag(9)),r=i(ResinBag(1)),o=i(ResinBag(2)),s=i(ResinBag(7)),l=i(ResinBag(5)),h=i(ResinBag(6)),c=i(ResinBag(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=ResinBag(8),p=ResinBag(20),f=ResinBag(18),ResinBag=function(){(0,l.default)(ResinBag,d);var t=u(ResinBag);function ResinBag(){var e;return(0,r.default)(this,ResinBag),(e=t.call(this)).name="ResinBag",e.CNName="树脂袋",e}return(0,o.default)(ResinBag,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(ResinBag.prototype),"creationComplete",this).call(this),this.on("hitted",this.adsorb)}},{key:"adsorb",value:function(e){var t,i=this,n=this,a=e.hitObj;!a.isCovered()&&a.checkCanAddCotton()&&(e=f.retrieveRotation(a.worldTransform),this.interactive=!1,a.interactive=!1,t=this.localBounds,a.addChildAtWithSamePos(this),this.rotation=-e,(new TimelineMax).to(this,.3,{x:170,y:45,onComplete:function(){n.pivot.set(t.x,t.y),n.x+=t.x,n.y+=t.y}}).to(this,.3,{rotation:-Math.PI/4*3,onComplete:function(){n.addMedToContainer(a),n.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[i]}),a.interactive=!0}}))}},{key:"addMedToContainer",value:function(e){var t=this.root.medicineManager.getMedicineData("高吸水性树脂"),i=new p(t,1/t.molecular_mass),t=e.localBounds,t={x:t.x+t.width/2,y:t.y};e.addMedicine(i,t)}},{key:"assemblyHint",value:function(e){if(e.isCovered instanceof Function&&!e.isCovered()&&!e.currentPlug){var t=e.constructor.name;if(this.needAddArray[t]){t=this.needAddArray[t].bottom;return this.drawBg(e,t.x-34,t.y-62,void 0,{x:t.scaleX,y:t.scaleY})}}}},{key:"toJSON",value:function(){return(0,n.default)({},(0,s.default)((0,c.default)(ResinBag.prototype),"toJSON",this).call(this))}}]),ResinBag}();e.exports=ResinBag},function(e,t,RingStirBar){"use strict";var a=RingStirBar(4),i=RingStirBar(0),n=i(RingStirBar(9)),r=i(RingStirBar(1)),o=i(RingStirBar(2)),s=i(RingStirBar(7)),l=i(RingStirBar(5)),h=i(RingStirBar(6)),c=i(RingStirBar(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=RingStirBar(8),p=/Thermometer/g,f=/Beaker/g,RingStirBar=function(){(0,l.default)(RingStirBar,d);var t=u(RingStirBar);function RingStirBar(){var e;return(0,r.default)(this,RingStirBar),(e=t.call(this)).name="RingStirBar",e.CNName="环形玻璃搅拌棒",e.dragLimit=null,e.bindThermometer=null,e}return(0,o.default)(RingStirBar,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(RingStirBar.prototype),"creationComplete",this).call(this),this.initProperties(),this.initEvent()}},{key:"initProperties",value:function(){}},{key:"initEvent",value:function(){var n=this;this.on("hitted",function(e){var t=e.hitObj,i=e.dragObj,e=null;t.name.match(p)?e=t:i.name.match(p)&&(e=i),e&&n.parent!==e&&n.addToThermometer(e),t.name.match(f)&&t.bg&&t.bg.hitTest(n)&&t.addChildAtWithSamePos(n,0)}),this.on(NBDrag.event.PREPARE_DRAG,this.updateDragArea),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToEqLayout),this.on(NBDrag.event.DRAG_MOVE,this.dragMove),this.on(NBDrag.event.STOP_DRAG,this.stopDrag)}},{key:"addToThermometer",value:function(e){var t=this;e.addChildAtWithSamePos(this,0);this.interactive=!1,TweenMax.to(this,.3,{x:0,y:570,onComplete:function(){t.interactive=!0,t.bindThermometer=e,t.updateBindThermometerDragArea(),t.bindThermometer.emit(NBDrag.event.STOP_DRAG,{}),e.parent.isBeaker&&e.dragRect&&TweenMax.to(e,.3,{x:e.dragRect.x+e.dragRect.width/2}),t.bindThermometer.on(NBDrag.event.PREPARE_DRAG,t.updateBindThermometerDragArea.bind(t))}})}},{key:"removeThermometer",value:function(){this.needCheck=!1,this.bindThermometer&&(this.bindThermometer.removeEventListener(NBDrag.event.PREPARE_DRAG,this.updateBindThermometerDragArea.bind(this)),this.bindThermometer.dragRect&&(this.bindThermometer.dragRect=(0,n.default)({},this.bindThermometer.lastDragRect)),this.bindThermometer=null)}},{key:"updateDragArea",value:function(){var e;this.needCheck=!0,this.parent!==this.getEqLayer()?this.parent.name.match(p)&&((e=this.parent).parent===this.getEqLayer()?this.dragLimit={min:0,max:625,isLimitMin:!1}:e.currentContainer&&(e.currentContainer.isCovered()?this.dragLimit={min:565,max:615,isLimitMin:!0}:this.dragLimit={min:0,max:625,isLimitMin:!1})):this.dragLimit=null}},{key:"dragMove",value:function(){this.needCheck&&this.dragLimit&&(this.y<this.dragLimit.max&&this.y>this.dragLimit.min?this.x=0:this.y<this.dragLimit.min?this.dragLimit.isLimitMin?(this.y=this.dragLimit.min,this.x=0):this.removeThermometer():this.y>this.dragLimit.max&&(this.dragLimit.isLimitMin?(this.y=this.dragLimit.max,this.x=0):this.removeThermometer()))}},{key:"stopDrag",value:function(){this.needCheck||this.eqAddToViewStack()}},{key:"eqAddToEqLayout",value:function(){this.parent.name&&this.parent.name.match(f)&&this.eqAddToViewStack()}},{key:"eqAddToViewStack",value:function(){(0,s.default)((0,c.default)(RingStirBar.prototype),"eqAddToViewStack",this).call(this),this.updateDragArea()}},{key:"updateBindThermometerDragArea",value:function(){this.bindThermometer&&this.bindThermometer.dragRect&&(this.bindThermometer.dragRect.x=this.bindThermometer.lastDragRect.x+20,this.bindThermometer.dragRect.width=this.bindThermometer.lastDragRect.width-45)}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(RingStirBar.prototype),"toJSON",this).call(this),{bindThermometer:this.bindThermometer&&this.bindThermometer.getUUID?this.bindThermometer.getUUID():this.bindThermometer})}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(RingStirBar.prototype),"setJSON",this).call(this,e),e.bindThermometer&&this.getEquipmentByUUID(e.bindThermometer).then(function(e){t.bindThermometer=e})}}]),RingStirBar}();e.exports=RingStirBar},function(e,t,RotateGlassCatheter){"use strict";var a=RotateGlassCatheter(4),i=RotateGlassCatheter(0),n=i(RotateGlassCatheter(9)),r=i(RotateGlassCatheter(1)),o=i(RotateGlassCatheter(2)),s=i(RotateGlassCatheter(7)),l=i(RotateGlassCatheter(5)),h=i(RotateGlassCatheter(6)),c=i(RotateGlassCatheter(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=RotateGlassCatheter(85),p=RotateGlassCatheter(1223),f=RotateGlassCatheter(203),RotateGlassCatheter=function(){(0,l.default)(RotateGlassCatheter,d);var t=u(RotateGlassCatheter);function RotateGlassCatheter(){var e;return(0,r.default)(this,RotateGlassCatheter),(e=t.call(this)).CNName="可弯曲导管",e.name="RotateGlassCatheter",e}return(0,o.default)(RotateGlassCatheter,[{key:"creationComplete",value:function(){this.rotatePartLen=121,this._sortDisOffsetObj={x:0,y:0,width:0,height:0},this.back.visible=!1,this.isRotatable=!0,this.defaultYInPlug=30,this.init(),(0,s.default)((0,c.default)(RotateGlassCatheter.prototype),"creationComplete",this).call(this),this.initWhiff(),this.lineFix={true:-.5,false:0},this.initLines(),this.setRotateButton(),this.straightPersent=63.5/184.5}},{key:"sortDisOffsetObj",get:function(){return this.updateSortDisOffset(this.rotateAngle),this._sortDisOffsetObj}},{key:"init",value:function(){this.ropePoint=[{x:0,y:61.5},{x:0,y:63.5}],this.updateTransform(),this.pointAry=[this.ropePoint[1],{x:0,y:25}];var e=this.getLocalBounds();this.fireParticlePos=[{x:-e.width,y:12,rotation:Math.PI/3*4,waterParticle:null,particle:null,bindAttr:"addedRubber",direction:!0},{x:0,y:e.height,rotation:Math.PI/2,waterParticle:null,particle:null,bindAttr:"addedBottle",direction:!1}],this.rubberPos={x:-120,y:0,rotation:Math.PI},this.points=[],this.updateCurveGlass(Math.PI/3);e=new PIXI.mesh.Rope(PIXI.Texture.fromFrame("RotateGlassCatheter/rope"),this.points);this.addChildAt(e,0),e.x=0,e.y=0,this.updateCurveGlass(Math.PI/3),this.initExtendSprite()}},{key:"initExtendSprite",value:function(){this.extendSprite=new f(this,{x:this.ropePoint[1].x,y:this.ropePoint[1].y,angle:-Math.PI/2}),this.extendSprite.setEnabled(!0)}},{key:"updateCurveGlass",value:function(e){if(this.points.length=0,this.pointAry.length=2,this.points.push({x:-121*Math.cos(e),y:-121*Math.sin(e)}),this.points.push({x:-22*Math.cos(e),y:-22*Math.sin(e)}),this.fireParticlePos[0].x=this.points[0].x,this.fireParticlePos[0].y=this.points[0].y,e<=Math.PI)for(var t=e+Math.PI/2,i=10*Math.tan(t/2)*2,n=0,a=20,r=20;0<r;r--){var o={},s=(Math.PI/2-e)*r/20;o.x=n-i*(1-Math.cos(s)),o.y=a-i*Math.sin(s),this.points.push(o)}this.points.push(this.ropePoint[1]),this.rubberPos.x=-140*Math.cos(e),this.rubberPos.y=-140*Math.sin(e),this.rubberPos.rotation=this.fireParticlePos[0].rotation=e-Math.PI,!this.fireParticlePos[0].particle||(l=this.fireParticlePos[0].particle.particle)&&(l.x=this.fireParticlePos[0].x,l.y=this.fireParticlePos[0].y,l.rotation=this.fireParticlePos[0].rotation),this.addedRubber&&(this.addedRubber.x=this.rubberPos.x,this.addedRubber.y=this.rubberPos.y,this.addedRubber.rotation=this.addedRubber.isLeft?this.rubberPos.rotation:this.rubberPos.rotation+Math.PI);for(var l,h=this.points.length-2;0<=h;h--)this.pointAry.push(this.points[h]);this.rotateAngle=e,this.whiffAreaAry&&(this.whiffAreaAry[0].area.x=-120*Math.cos(this.rotateAngle),this.whiffAreaAry[0].area.y=-120*Math.sin(this.rotateAngle),this.whiffAreaAry[0].area.rotation=this.rubberPos.rotation),this.currentFlatjaw&&(l=this.calcFlatPos(),this.currentFlatjaw.x=l.x,this.currentFlatjaw.y=l.y,this.currentFlatjaw.rotation=l.rotation),this.extendBottmPos=this.pointAry[this.pointAry.length-1],this.changedBoundsAndFreshSelect()}},{key:"updateSortDisOffset",value:function(e){var t=this.addedRubber?180:120;this._sortDisOffsetObj.x=e>Math.PI/2?0:-t*Math.cos(e),this._sortDisOffsetObj.y=-t*Math.sin(e),this._sortDisOffsetObj.width=Math.abs(t*Math.cos(e)),this._sortDisOffsetObj.height=t*Math.sin(e)}},{key:"setRotateButton",value:function(){var e=this.rotateAngle,e={x:-180*Math.cos(e),y:-180*Math.sin(e)};this.RGCRotateSpriteIcon=new p(this,e),this.RGCRotateSpriteIcon.setEnabled(!0,this)}},{key:"calcFlatPos",value:function(){return{x:(this.points[0].x+this.points[1].x)/2,y:(this.points[0].y+this.points[1].y)/2,rotation:this.rotateAngle<=Math.PI/2?this.rotateAngle:this.rotateAngle-Math.PI}}},{key:"convertPercent",value:function(e){var t=this.root.viewStack,i=t.toLocal(this.extendBottmPos,this),n=t.toLocal({x:0,y:0},this),t=t.toLocal(this.pointAry[0],this),i=n.y-i.y,n=t.y-n.y;return 0<=i&&0<=n?e>this.straightPersent?(n+(e-this.straightPersent)/(1-this.straightPersent)*i)/(i+n):e/this.straightPersent*n/(i+n):e}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(RotateGlassCatheter.prototype),"toJSON",this).call(this),{rotateAngle:this.rotateAngle})}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(RotateGlassCatheter.prototype),"setJSON",this).call(this,e);e=e.rotateAngle;!e&&0!==e||this.updateCurveGlass(e)}}]),RotateGlassCatheter}();e.exports=RotateGlassCatheter},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(52),p=i(91),f=i(16),i=function(){(0,l.default)(a,p);var i=u(a);function a(e,t){(0,r.default)(this,a);t=i.call(this,e,t),e=Math.PI-(e.rotateAngle+e.getGlobalRotation());return t.angle=e,t.initUnicorn(e),t}return(0,o.default)(a,[{key:"initButton",value:function(){this.name="RGCRotateButton",(0,s.default)((0,c.default)(a.prototype),"initButton",this).call(this),this.pointLength=20,this.circleRotate=Math.PI,this.centerPosition={x:0,y:0},this.pointToCenterDis=d.distance(this.centerPosition,this.btnPosition)-52,this.textDis=this.pointToCenterDis+140,this.lineAry=[],this.tempPoint={x:0,y:0};var e=this.target.root.mouseManager;f.addMouseEvent(e,this.button,f.status.ROTATE),this.initRotateText()}},{key:"setIcon",value:function(){this.tipIcon=PIXI.Sprite.fromFrame("nb.chemical.rotate")}},{key:"initPointLine",value:function(){this.lineAry.length=0;for(var e=this.target.getPositionToEqLayer(),t=this.pointToCenterDis,i=this.target.getGlobalRotation(),n=0,a=this.pointLength;n<=a;n++){var r=this.circleRotate/this.pointLength*n,o=e.x+t*Math.cos(r-i),s=e.y-t*Math.sin(r-i);this.lineAry.push({x:o,y:s,rotation:r,type:"dark"})}}},{key:"initRotateText",value:function(){this.textBox=new PIXI.Container,this.target.getViewStack().addChild(this.textBox);var e=this.rotateText=this.target.getText("",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),t=new PIXI.Graphics;this.textBox.addChild(t),this.textBox.addChild(e),t.lineStyle(0),t.beginFill(0,.6),t.drawRoundedRect(-45,-25,90,50,10),t.endFill(),this.textBox.interactive=!1,this.textBox.allowGetBounds=!1,this.textBox.visible=!1}},{key:"showRotateText",value:function(){this.textBox.visible=!0,this.setRotateTextPos(),this.setRotateText();var e=Math.PI-(this.target.rotateAngle+this.target.getGlobalRotation());this.updateUnicorn(e)}},{key:"hideRotateText",value:function(){this.textBox.visible=!1}},{key:"setRotateTextPos",value:function(){var e=this.target.getPositionToEqLayer();this.textBox.x=e.x,this.textBox.y=e.y-this.textDis}},{key:"setRotateText",value:function(){var e=this.target;this.rotateText.text="".concat(Math.round(10*(e.rotateAngle*(180/Math.PI)-90))/10,"°");var t=this.rotateText,e=t.width,t=t.height;this.rotateText.x=(this.textBox.width-e)/2+2,this.rotateText.y=(this.textBox.height-t)/2}},{key:"convertRotate",value:function(e){return e=(e=e<0?0:e)>Math.PI?Math.PI:e}},{key:"zoomChangePos",value:function(){var e;(0,s.default)((0,c.default)(a.prototype),"zoomChangePos",this).call(this),this.textBox&&(e=(e=1/this.buttonScale)<1?1/e:e>nb.INFO_TEXT_MAX_SCALE?nb.INFO_TEXT_MAX_SCALE/e:1,this.textBox.scale.x=this.textBox.scale.y=e)}},{key:"showButton",value:function(){var e,t;this.getEnabled()&&(e=this.target.rotateAngle+this.target.getGlobalRotation(),-1!==this.target.scale.x&&(e=Math.PI-e),t=this.convertRotate(this.target.rotateAngle),t={x:-180*Math.cos(t),y:-180*Math.sin(t)},this.updateUnicorn(e),this.btnPosition=t,this.button.visible=!0,this.setBtnPosition(t))}},{key:"dragButtonBegin",value:function(e){(0,s.default)((0,c.default)(a.prototype),"dragButtonBegin",this).call(this,e);var t=this.target,i=this.tempPoint;i.x=e.data.global.x,i.y=e.data.global.y;e=t.toGlobal(this.centerPosition);this.beginRotation=this.getAtan2Angle(i,e),this.calcRotation=t.rotateAngle,this.lastBeginRotatAngle=t.rotateAngle,this.detalMoveAngle=0,t.addWholeRotateType(["RGCRotateButton"]),this.lightButton(),this.initPointLine(),this.drawLinePoint(),this.showRotateText()}},{key:"dragButtonMove",value:function(e){(0,s.default)((0,c.default)(a.prototype),"dragButtonMove",this).call(this,e);var t=this.target,i=t.toGlobal(this.centerPosition),n=this.getAtan2Angle(e.data.global,i),e=-1===t.scale.x?this.beginRotation-n:n-this.beginRotation;e>Math.PI&&(e-=2*Math.PI),e<-Math.PI&&(e+=2*Math.PI),this.calcRotation+=e;i=this.convertRotate(this.calcRotation),e={x:-180*Math.cos(i),y:-180*Math.sin(i)};this.calcRotation=i,this.detalMoveAngle=this.calcRotation-this.lastBeginRotatAngle,this.btnPosition=e,this.setBtnPosition(e),t.updateCurveGlass(i),this.beginRotation=n,this.updatePointLine(),this.drawLinePoint(),this.setRotateText();n=t.rotateAngle+t.getGlobalRotation();-1!==t.scale.x&&(n=Math.PI-n),this.updateUnicorn(n)}},{key:"dragButtonEnd",value:function(e){(0,s.default)((0,c.default)(a.prototype),"dragButtonEnd",this).call(this,e),this.clearLinePoint(),this.hideRotateText(),this.target.removeWholeRotateType(["RGCRotateButton"])}},{key:"updatePointLine",value:function(){var i=this,n=e(this.lastBeginRotatAngle),a=e(this.calcRotation),r=this.target;function e(e){var t=e;return t=e<0?2*Math.PI+e:t}this.lineAry.forEach(function(e){var t=e.rotation;.1<Math.abs(i.detalMoveAngle)?e.type=function(e){var t="dark",i=e;-1!=r.scale.x&&(i=Math.PI-e);n<a?n<=i&&i<=a&&(t="light"):i<=n&&a<=i&&(t="light");return t}(t):e.type="dark"})}}]),a}();e.exports=i},function(e,t,RubberCatheterBrown){"use strict";var a=RubberCatheterBrown(4),i=RubberCatheterBrown(0),n=i(RubberCatheterBrown(1)),r=i(RubberCatheterBrown(2)),o=i(RubberCatheterBrown(7)),s=i(RubberCatheterBrown(5)),l=i(RubberCatheterBrown(6)),h=i(RubberCatheterBrown(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var RubberCatheter=RubberCatheterBrown(146),RubberCatheterBrown=function(){(0,s.default)(RubberCatheterBrown,RubberCatheter);var t=c(RubberCatheterBrown);function RubberCatheterBrown(e){return(0,n.default)(this,RubberCatheterBrown),(e=t.call(this,e)).name="RubberCatheterBrown",e.CNName="棕色橡胶管",e.fromFrameImage="RubberCatheterBrown/catheterSoftRubber.png",e.noChoice=!0,e.allowGetBounds=!1,e}return(0,r.default)(RubberCatheterBrown,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(RubberCatheterBrown.prototype),"creationComplete",this).call(this),this.leftHead.interactive=!1,this.rightHead.interactive=!1}}]),RubberCatheterBrown}();e.exports=RubberCatheterBrown},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),i=function(){(0,h.default)(i,p);var t=d(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(i.prototype),"creationComplete",this).call(this),this.rubber=this.execute(NBCommand.CREATE_EQUIPMENT,"RubberCatheter"),this.getViewStack().addChild(this.rubber)}}]),i}();e.exports=i},function(e,t,RustConditionTester){"use strict";var a=RustConditionTester(4),i=RustConditionTester(0),n=i(RustConditionTester(1)),r=i(RustConditionTester(2)),o=i(RustConditionTester(7)),s=i(RustConditionTester(5)),l=i(RustConditionTester(6)),h=i(RustConditionTester(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=RustConditionTester(8),d=RustConditionTester(410),RustConditionTester=function(){(0,s.default)(RustConditionTester,u);var t=c(RustConditionTester);function RustConditionTester(){var e;return(0,n.default)(this,RustConditionTester),(e=t.call(this)).name="RustConditionTester",e.CNName="铁锈测试器",e.constName="RustConditionTester",e.z_index=23.12,e.ctrlOfs={x:130,y:446},e}return(0,r.default)(RustConditionTester,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(RustConditionTester.prototype),"creationComplete",this).call(this),this.initDis()}},{key:"update",value:function(){(0,o.default)((0,h.default)(RustConditionTester.prototype),"update",this).call(this),this.ctrl.position.set(this.x+this.ctrlOfs.x,this.y+this.ctrlOfs.y)}},{key:"initDis",value:function(){var e=this,t=this.tube.inner;t.mask=this.tube.innerMask.getChildAt(0),this.sed=t.sed,this.sed.y=20,this.liquidTop=t.liquidTop,this.liquidTop.alpha=0,this.rustMask=t.rustMask.getChildAt(0),this.rustMask.scale.y=0,this.rust=t.rust,this.rust.mask=this.rustMask,this.tweenPlayer=new d(this.ctrl,20,this.onProgress.bind(this),this.root),this.viewStack.addChild(this.ctrl),this.changedBoundsAndFreshSelect(),this.ctrl.position.set(this.x+this.ctrlOfs.x,this.y+this.ctrlOfs.y),this.on(NBEvent.del.PREPARE_DELETE,function(){e.tweenPlayer.destroy(),e.ctrl.parent.removeChild(e.ctrl)})}},{key:"onProgress",value:function(e){this.sed.y=20*(1-e),this.liquidTop.alpha=e,this.rustMask.scale.y=e}}]),RustConditionTester}();e.exports=RustConditionTester},function(e,t,Scissors){"use strict";var a=Scissors(4),i=Scissors(0),n=i(Scissors(1)),r=i(Scissors(2)),o=i(Scissors(7)),s=i(Scissors(5)),l=i(Scissors(6)),h=i(Scissors(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var QualitativeFilterPaper=Scissors(201),Candle=Scissors(270),u=Scissors(8),Scissors=function(){(0,s.default)(Scissors,u);var e=c(Scissors);function Scissors(){return(0,n.default)(this,Scissors),e.call(this)}return(0,r.default)(Scissors,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(Scissors.prototype),"creationComplete",this).call(this),this.name="Scissors",this.CNName="剪刀",this.z_index=23.11}},{key:"eqStopDrag",value:function(){for(var a,r=this,o=this.getHitObjectsByType([QualitativeFilterPaper,Candle]),s=0,e=o.length;s<e;s++)!function(){var e,t,i,n=o[s];!n._collapse||n._cutted||n.hasFiltePaper||(a=new TimelineMax,n.updateTransform(),e=(t=n.getBounds()).x,i=t.y,t=r.getViewStack().toLocal({x:e,y:i}),TweenMax.to(r.ani,.5,{currentFrame:1,onUpdate:function(){r.updateTransform()},onComplete:function(){r.ani.currentFrame=0},ease:Sine.easeInOut,repeat:1,repeatDelay:.4}),a.to(r,.5,{x:t.x,y:t.y-52}).to(r,.5,{x:t.x-78,onComplete:function(){n.cut()}}).to(r,.5,{x:t.x})),"Candle"===n.name&&n.isBurning&&(e=new TimelineMax,n.updateTransform(),t=(i=n.getBounds()).x,i=i.y,i=r.getViewStack().toLocal({x:t,y:i}),TweenMax.to(r.ani,.5,{currentFrame:1,onUpdate:function(){r.updateTransform()},onComplete:function(){r.ani.currentFrame=0},ease:Sine.easeInOut,repeat:1,repeatDelay:.4}),e.to(r,.5,{x:i.x-30,y:i.y-170}).to(r,.5,{x:i.x-175,onComplete:function(){n.lightOff()}}).to(r,.5,{x:i.x-30}))}()}}]),Scissors}();e.exports=Scissors},function(e,t,ShapeGlassCatheter){"use strict";var a=ShapeGlassCatheter(4),i=ShapeGlassCatheter(0),r=i(ShapeGlassCatheter(46)),o=i(ShapeGlassCatheter(69)),n=i(ShapeGlassCatheter(9)),s=i(ShapeGlassCatheter(1)),l=i(ShapeGlassCatheter(2)),h=i(ShapeGlassCatheter(7)),c=i(ShapeGlassCatheter(5)),u=i(ShapeGlassCatheter(6)),d=i(ShapeGlassCatheter(3));function p(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,d.default)(i);return t=n?(e=(0,d.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,u.default)(this,t)}}var f=ShapeGlassCatheter(8),I=ShapeGlassCatheter(26),g=ShapeGlassCatheter(45),m=ShapeGlassCatheter(27),y=ShapeGlassCatheter(33),v=ShapeGlassCatheter(127),C=ShapeGlassCatheter(21),M=ShapeGlassCatheter(75),RubberCatheter=ShapeGlassCatheter(146),ShapeGlassCatheter=function(){(0,c.default)(ShapeGlassCatheter,f);var t=p(ShapeGlassCatheter);function ShapeGlassCatheter(){var e;return(0,s.default)(this,ShapeGlassCatheter),(e=t.call(this)).maxOpenMouth=2,e.capacity=.5,e.medicine={},e.isGlassCatheter=!0,e.isShapeCatheter=!0,e.useSharpFire=!0,e.allowRubberCatheter=!0,e.name="ShapeGlassCatheter",e.CNName="尖嘴玻璃管",e.z_index=19.14,e._addedEq=null,e._addedBottle=null,e._openIsRight=!0,e.ropePoint=[{x:8,y:209},{x:8,y:210}],e}return(0,l.default)(ShapeGlassCatheter,[{key:"isUnderLiquid",get:function(){return this.addedBottle&&this.addedBottle.liquidVertex&&this.dripArea&&I.containsPoint(this.addedBottle.liquidVertex,this.dripArea.toGlobal({x:0,y:0}))?this.toGlobal(this.ropePoint[1]).y-this.addedBottle.liquidVertex[0].y:0}},{key:"addedRubber",get:function(){return this._addedEq&&this._addedEq instanceof RubberCatheter?this._addedEq:null},set:function(e){this._addedEq=e}},{key:"addedBottle",get:function(){return this._addedEq instanceof f&&!(this._addedEq instanceof RubberCatheter)?this._addedEq:null},set:function(e){this._addedEq=e}},{key:"openIsRight",get:function(){return this._openIsRight},set:function(e){(this._openIsRight=e)?(this.scale.x=1,this.sortDisOffsetObj.x=0):(this.scale.x=-1,this.sortDisOffsetObj.x=.8*-this.originLocalBounds.width),this.rotateSpriteIcon.getVisible()&&this.rotateSpriteIcon.showButton()}},{key:"creationComplete",value:function(){(0,h.default)((0,d.default)(ShapeGlassCatheter.prototype),"creationComplete",this).call(this),this.sortDisOffsetObj={width:.8*this.width},this.addListeners();var e=this.getLocalBounds();this.updateTransform(),this.fireParticlePos=[{x:e.width+8,y:10,rotation:0,particle:null}],this.rubberPos={x:8,y:210,rotation:Math.PI/2},this.enableRotate(!0,{position:{x:this.localBounds.width+10,y:0},rotatePoint:{x:111.5,y:95},rotateRect:{x:100,y:0,width:120,height:45}},1);var t=this.root.medicineManager.getMedicineData("O2"),i=this.root.medicineManager.getMedicineData("N2"),n=.2*this.capacity*t.density_gas/g.getMoleculeRelativeMass("O2"),e=.8*this.capacity*i.density_gas/g.getMoleculeRelativeMass("N2");this.medicine.gasAry=[],this.medicine.capacity=this.capacity,this.medicine.liquidAry=[],this.medicine.leakageMedicine=[],(0,r.default)(this.medicine.gasAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return e}}),(0,r.default)(this.medicine.liquidAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return e}}),(0,o.default)(this.medicine.leakageMedicine,{mol:{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].mol;return e}}}),this.medicine.gasAry.push(new m(t,n)),this.medicine.gasAry.push(new m(i,e)),this.medicine.getCurrentCapacity=function(){var t=0;return this.gasAry.forEach(function(e){t+=e.getVol()}),this.liquidAry.forEach(function(e){t+=e.getVol()}),t},this.medicine.pop=function(e,t){this.getCurrentCapacity();this.leakageMedicine.length=0;for(var i=!1,n="gasAry"===e?"liquidAry":"gasAry",a=this[e].vol<=t?(i=!0,1):t/this[e].vol,r=0;r<this[e].length;r++){var o,s,l=this[e][r];0!==l.mol?(o=l.mol*a,isNaN(o)||0==o||(s=void 0,s=new("gasAry"===e?m:y)(l.dat,o),l.mol-=o,l.mol<=0&&(i=!0,s.mol=o+l.mol,this[e].splice(r,1),r--),0<s.mol&&this.leakageMedicine.push(s))):this[e].splice(r,1)}if(i)for(var h=(this.getCurrentCapacity()-this.capacity)/this[n].vol,c=0;c<this[n].length;c++){var u=this[n][c];if(0!==u.mol){var d=u.mol*h;if(isNaN(d)||0==d)return;var p=void 0,p=new("gasAry"==n?m:y)(u.dat,d);u.mol-=d,u.mol<=0&&(i=!0,p.mol=d+u.mol,this[n].splice(c,1),c--),0<p.mol&&this.leakageMedicine.push(p)}else this[n].splice(c,1),c--}},this.medicine.push=function(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)this.push(e[i],!0);e[0]instanceof m?0<this.liquidAry.length?this.pop("liquidAry",this.getCurrentCapacity()-this.capacity):this.pop("gasAry",this.getCurrentCapacity()-this.capacity):0<this.gasAry.length?this.pop("gasAry",this.getCurrentCapacity()-this.capacity):this.pop("liquidAry",this.getCurrentCapacity()-this.capacity)}else if(e instanceof y){for(var n=this.liquidAry.length,a=0;a<n;a++){var r=this.liquidAry[a];if(r.name===e.name){var o=r.getMol()+e.getMol();r.setMol(o);break}}a===n&&this.liquidAry.push(e),t||this.pop("gasAry",this.getCurrentCapacity()-this.capacity)}else if(e instanceof m){for(var s=this.gasAry.length,l=0;l<s;l++){var h=this.gasAry[l];if(h.name===e.name){var c=h.getVol()+e.getVol(),u=(h.getVol()*h.getTemp()+e.getVol()*e.getTemp())/c;h.setVol(c),h.setTemp(u);break}}l===s&&this.gasAry.push(e),t||this.pop("liquidAry",this.getCurrentCapacity()-this.capacity)}},this.medicineData=new M(this),this.noSetMedJson=!0}},{key:"getConfigureData",value:function(){var e=(0,h.default)((0,d.default)(ShapeGlassCatheter.prototype),"getConfigureData",this).call(this);return(e=!e||!e.confArr?{confArr:[]}:e).confArr.push(C.inputSwitch("化学方程式",this.conf_chemical_equation,function(e){this.conf_chemical_equation=e.checked}.bind(this))),e.confArr.push(C.getRadio("方向",this.openIsRight?1:0,["左","右"],function(e){this.openIsRight=!!e}.bind(this),this)),e}},{key:"addListeners",value:function(){var t,i=this;this.on(NBEvent.HITTED_DRAGINLIMITAREA,function(e){(t=e).hitObj===i&&(i.coveredBottle=e.dragObj)}),this.on("full",function(){i.dif&&(i.addedBottle=null)}),this.on("hasTweenComplete",function(){i.addedBottle!=t.hitObj?(i.addedBottle=t.hitObj,i.dif=!0):i.dif=!1}),this.on("_childPrepareDrag_",function(){i.coveredBottle=null})}},{key:"update",value:function(e){(0,h.default)((0,d.default)(ShapeGlassCatheter.prototype),"update",this).call(this,e);for(var t=0;t<this.fireParticlePos.length;t++){var i=this.fireParticlePos[t];if(i.particle){if(i.particle.particleRemoved)return void(i.particle=null);i.particle.updateMedicine(this.medicine.leakageMedicine),i.particle.render(e)}}}},{key:"getLightOnPoint",value:function(){var t=this;this.updateTransform();var i=[];return this.fireParticlePos.forEach(function(e){e=t.toGlobal(e);i.push({x:e.x,y:e.y})}),i}},{key:"lightOn",value:function(e){if(this.medicine){var t;e=this.toLocal(e);for(var i,n=0;n<this.fireParticlePos.length;n++){var a=this.fireParticlePos[n];if(Math.abs(e.x-a.x)<1&&Math.abs(e.y-a.y)<1){t=a;break}}t&&null===t.particle&&this.testIgnitable()&&this._addedEq&&(i=t.particle=new v(this),this.addChild(i),i.particle.x=t.x,i.particle.y=t.y,i.particle.rotation=t.rotation,i.smokeParticle.x=t.x+20,i.smokeParticle.y=t.y,i.smokeParticle.rotation=t.rotation,i.particle.updateMedicine&&i.particle.updateMedicine(this.medicine))}}},{key:"testIgnitable",value:function(){return!!(this.medicine&&this.medicine.leakageMedicine&&0<this.medicine.leakageMedicine.length)}},{key:"toJSON",value:function(){return(0,n.default)({openIsRight:this.openIsRight},(0,h.default)((0,d.default)(ShapeGlassCatheter.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,h.default)((0,d.default)(ShapeGlassCatheter.prototype),"setJSON",this).call(this,e),void 0!==e.openIsRight&&(this.openIsRight=e.openIsRight)}}]),ShapeGlassCatheter}();e.exports=ShapeGlassCatheter},function(e,t,SharpNoseGlassTube){"use strict";var a=SharpNoseGlassTube(4),i=SharpNoseGlassTube(0),r=i(SharpNoseGlassTube(46)),n=i(SharpNoseGlassTube(24)),o=i(SharpNoseGlassTube(1)),s=i(SharpNoseGlassTube(2)),l=i(SharpNoseGlassTube(7)),h=i(SharpNoseGlassTube(5)),c=i(SharpNoseGlassTube(6)),u=i(SharpNoseGlassTube(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=SharpNoseGlassTube(8),f=SharpNoseGlassTube(143),I=SharpNoseGlassTube(45),g=SharpNoseGlassTube(22),m=SharpNoseGlassTube(27),y=SharpNoseGlassTube(33),v=SharpNoseGlassTube(127),C=SharpNoseGlassTube(75),M=SharpNoseGlassTube(21),SharpNoseGlassTube=function(){(0,h.default)(SharpNoseGlassTube,p);var t=d(SharpNoseGlassTube);function SharpNoseGlassTube(){var e;return(0,o.default)(this,SharpNoseGlassTube),(e=t.call(this)).name="SharpNoseGlassTube",e.CNName="弯嘴玻璃管",e.allowRubberCatheter=!0,e.addedRubber=null,e.isSharpNoseGlassTube=!0,e.rubberPos={x:9,y:-20,rotation:-Math.PI/2},e.useSharpFire=!0,e.capacity=.5,e.medicine={},e.z_index=19.15,e}return(0,s.default)(SharpNoseGlassTube,[{key:"addedBottle",get:function(){return this.currentContainer},set:function(e){}},{key:"creationComplete",value:function(){var n=this;(0,l.default)((0,u.default)(SharpNoseGlassTube.prototype),"creationComplete",this).call(this),f.initDragInLimitArea(this);var e=this.root.medicineManager.getMedicineData("O2"),t=this.root.medicineManager.getMedicineData("N2"),i=.2*this.capacity*e.density_gas/I.getMoleculeRelativeMass("O2"),a=.8*this.capacity*t.density_gas/I.getMoleculeRelativeMass("N2");this.medicine.gasAry=[],this.medicine.capacity=this.capacity,this.medicine.liquidAry=[],this.medicine.leakageMedicine=[],(0,r.default)(this.medicine.gasAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return e}}),(0,r.default)(this.medicine.liquidAry,"vol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].getVol();return e}}),(0,r.default)(this.medicine.leakageMedicine,"mol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].mol;return e}}),this.medicine.gasAry.push(new m(e,i)),this.medicine.gasAry.push(new m(t,a)),this.medicine.getCurrentCapacity=function(){var t=0;return this.gasAry.forEach(function(e){t+=e.getVol()}),this.liquidAry.forEach(function(e){t+=e.getVol()}),t},this.medicine.pop=function(e,t){for(var i,n=this.getCurrentCapacity(),a=!1,r=this.leakageMedicine.length=0;r<this[e].length;r++){var o=this[e][r],s=o.getVol()/this[e].vol*t*o.getDensity()/o.mm;if(isNaN(s)||0==s)return;var l=void 0,l="gasAry"===e?(i="liquidAry",new m(o.dat,s)):(i="gasAry",new y(o.dat,s));o.mol-=s,o.mol<=0&&(a=!0,l.mol=s+o.mol,this[e].splice(r,1),r--),this.leakageMedicine.push(l)}if(a)for(var h=(n=this.getCurrentCapacity())-this.capacity,c=0;c<this[i].length;c++){var u=this[i][c],d=u.getVol()/n*h*u.getDensity()/u.mm;if(isNaN(d)||0==d)return;var p=void 0,p="gasAry"===i?(i="liquidAry",new m(u.dat,d)):(i="gasAry",new y(u.dat,d));u.mol-=d,u.mol<=0&&(a=!0,p.mol=d+u.mol,this[i].splice(c,1),c--),this.leakageMedicine.push(p)}},this.medicine.push=function(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)this.push(e[i],!0);e[0]instanceof m?0<this.liquidAry.length?this.pop("liquidAry",this.getCurrentCapacity()-this.capacity):this.pop("gasAry",this.getCurrentCapacity()-this.capacity):0<this.gasAry.length?this.pop("gasAry",this.getCurrentCapacity()-this.capacity):this.pop("liquidAry",this.getCurrentCapacity()-this.capacity)}else if(e instanceof y){for(var n=this.liquidAry.length,a=0;a<n;a++){var r=this.liquidAry[a];if(r.name===e.name){var o=r.getVol()+e.getVol(),s=(r.getVol()*r.getTemp()+e.getVol()*e.getTemp())/o;r.setVol(o),r.setTemp(s);break}}a===n&&this.liquidAry.push(e),t||this.pop("gasAry",this.getCurrentCapacity()-this.capacity)}else if(e instanceof m){for(var l=this.gasAry.length,h=0;h<l;h++){var c=this.gasAry[h];if(c.name===e.name){var u=c.getVol()+e.getVol(),d=(c.getVol()*c.getTemp()+e.getVol()*e.getTemp())/u;c.setVol(u),c.setTemp(d);break}}h===l&&this.gasAry.push(e),t||this.pop("liquidAry",this.getCurrentCapacity()-this.capacity)}},this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack),this.fireParticlePos=[{x:100,y:242,rotation:-Math.PI/4,particle:null,bindAttr:"addedBottle"}],this.on(NBEvent.del.PREPARE_DELETE,function(){for(var e=0,t=n.fireParticlePos.length;e<t;e++){var i=n.fireParticlePos[e];i.particle&&i.particle.destroy(!0)}}),this.medicineData=new C(this),this.noSetMedJson=!0}},{key:"update",value:function(e){(0,l.default)((0,u.default)(SharpNoseGlassTube.prototype),"update",this).call(this,e);for(var t=!1,i=0;i<this.fireParticlePos.length;i++){var n=this.fireParticlePos[i];n.particle&&(n.particle.particleRemoved?n.particle=null:(n.particle.updateMedicine(this.medicine.leakageMedicine),t=!0,n.particle.particle.x=0,(n.particle.particle.y=0)===n.particle.particle.bindOffsetX&&(n.particle.particle.bindOffsetX=-90,n.particle.particle.bindOffsetY=235),n.particle.render(e)))}t?g.genEffectFunc(this,e):this.currentContainer&&0<this.medicine.leakageMedicine.length&&(this.currentContainer.medicineData.push(this.medicine.leakageMedicine),this.medicine.leakageMedicine.length=0)}},{key:"getGasMedicineInfo",value:function(){if(this.currentContainer){var e=this.currentContainer.medicineData.gasAry.concat(this.medicine.leakageMedicine),t=new n.default;return e.forEach(function(e){t.set(e.name,e)}),t}return(0,l.default)((0,u.default)(SharpNoseGlassTube.prototype),"getGasMedicineInfo",this).call(this)}},{key:"addMedicine",value:function(e){this.currentContainer&&e instanceof m&&this.currentContainer.addMedicine(e)}},{key:"getLightOnPoint",value:function(){var t=this;this.updateTransform();var i=[];return this.fireParticlePos.forEach(function(e){e=t.toGlobal(e);i.push({x:e.x,y:e.y})}),i}},{key:"lightOn",value:function(e){if(this.medicine){var t;e=this.toLocal(e);for(var i,n=0;n<this.fireParticlePos.length;n++){var a=this.fireParticlePos[n];if(Math.abs(e.x-a.x)<1&&Math.abs(e.y-a.y)<1){t=a;break}}t&&null===t.particle&&this.testIgnitable()&&this.addedRubber&&((i=t.particle=new v(this,!0,t)).particle.updateMedicine&&i.particle.updateMedicine(this.medicine))}}},{key:"testIgnitable",value:function(){return!!(this.medicine&&this.medicine.leakageMedicine&&0<this.medicine.leakageMedicine.length)}},{key:"getConfigureData",value:function(){var e={confArr:[]};return e.confArr.push(M.inputSwitch("化学方程式",this.conf_chemical_equation,function(e){this.conf_chemical_equation=e.checked}.bind(this))),e}}]),SharpNoseGlassTube}();e.exports=SharpNoseGlassTube},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(10);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,o.default)(this,t),e.call(this)}return(0,r.default)(t)}()},function(e,t,SingleChannelPhTester){"use strict";var a=SingleChannelPhTester(4),i=SingleChannelPhTester(0),r=i(SingleChannelPhTester(25)),n=i(SingleChannelPhTester(9)),o=i(SingleChannelPhTester(1)),s=i(SingleChannelPhTester(2)),l=i(SingleChannelPhTester(7)),h=i(SingleChannelPhTester(5)),c=i(SingleChannelPhTester(6)),u=i(SingleChannelPhTester(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=SingleChannelPhTester(8),f=SingleChannelPhTester(29).getLan,SingleChannelPhTester=function(){(0,h.default)(SingleChannelPhTester,p);var t=d(SingleChannelPhTester);function SingleChannelPhTester(){var e;return(0,o.default)(this,SingleChannelPhTester),(e=t.call(this)).name="SingleChannelPhTester",e.CNName="单通道pH计",e.reader=0,e}return(0,s.default)(SingleChannelPhTester,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(SingleChannelPhTester.prototype),"creationComplete",this).call(this),this.initText()}},{key:"initText",value:function(){this.txtPH.text="pH",this.txtPH.anchor.set(.5),this.txtBtnCond.text=f("eq_cond"),this.txtBtnCond.anchor.set(.5),this.txtCond.text=f("eq_conductivity"),this.txtCond.anchor.set(1,0),this.txtRead.text=f("eq_read"),this.txtRead.anchor.set(.5)}},{key:"reset",value:function(){this.updateReader(0)}},{key:"updateReader",value:function(e){for(var t,i=(e=(this.reader=e).toFixed(2)).length,n=i;n<=5;n++)this["num"+n].currentFrame=0;for(n=i;n--;)if(n!==i-3){if(!(t=this["num"+(i-n-1)]))break;t.currentFrame=(0,r.default)(e[n])}}},{key:"toJSON",value:function(){return(0,n.default)((0,l.default)((0,u.default)(SingleChannelPhTester.prototype),"toJSON",this).call(this),{reader:this.reader})}},{key:"setJSON",value:function(e){(0,l.default)((0,u.default)(SingleChannelPhTester.prototype),"setJSON",this).call(this,e),this.updateReader(e.reader)}}]),SingleChannelPhTester}();e.exports=SingleChannelPhTester},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(8);e.exports=function(){(0,s.default)(SingleHoleRubberPlugBig,u);var e=c(SingleHoleRubberPlugBig);function SingleHoleRubberPlugBig(){return(0,o.default)(this,SingleHoleRubberPlugBig),e.call(this)}return(0,r.default)(SingleHoleRubberPlugBig)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(58),p=i(8);e.exports=function(){(0,l.default)(SingleHoleRubberPlugSmall,p);var t=u(SingleHoleRubberPlugSmall);function SingleHoleRubberPlugSmall(){var e;return(0,r.default)(this,SingleHoleRubberPlugSmall),(e=t.call(this)).hitThisAttachAttr={offsetUp:0,offsetDown:0,type:3},e}return(0,o.default)(SingleHoleRubberPlugSmall,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(SingleHoleRubberPlugSmall.prototype),"creationComplete",this).call(this),d.apply(this)}}]),SingleHoleRubberPlugSmall}()},function(e,t,SmallCombustionSpoon){"use strict";var a=SmallCombustionSpoon(4),i=SmallCombustionSpoon(0),n=i(SmallCombustionSpoon(1)),r=i(SmallCombustionSpoon(2)),o=i(SmallCombustionSpoon(7)),s=i(SmallCombustionSpoon(5)),l=i(SmallCombustionSpoon(6)),h=i(SmallCombustionSpoon(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var CombustionSpoon=SmallCombustionSpoon(407),u=PIXI.Point,SmallCombustionSpoon=function(){(0,s.default)(SmallCombustionSpoon,CombustionSpoon);var t=c(SmallCombustionSpoon);function SmallCombustionSpoon(){var e;return(0,n.default)(this,SmallCombustionSpoon),(e=t.call(this)).name="SmallCombustionSpoon",e.CNName="带孔燃烧匙",e.pU=new u(25,430),e.pM=new u(25,460),e.addSolidMedPos=new u(25,460),e.candleP=new u(25,525),e}return(0,r.default)(SmallCombustionSpoon,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(SmallCombustionSpoon.prototype),"creationComplete",this).call(this)}}]),SmallCombustionSpoon}();e.exports=SmallCombustionSpoon},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(10);e.exports=function(){(0,l.default)(SpotPlate,d);var t=u(SpotPlate);function SpotPlate(){var e;return(0,r.default)(this,SpotPlate),(e=t.call(this)).name="SpotPlate",e.CNName="白色点滴板",e}return(0,o.default)(SpotPlate,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(SpotPlate.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.STOP_DRAG,this.eqStopDrag)}}]),SpotPlate}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(147),d=i(29).getLan;e.exports=function(){(0,s.default)(StarchKITestPaper,u);var t=c(StarchKITestPaper);function StarchKITestPaper(){var e;return(0,r.default)(this,StarchKITestPaper),(e=t.call(this)).name="StarchKITestPaper",e.CNName="淀粉碘化钾试纸",e}return(0,o.default)(StarchKITestPaper,[{key:"initText",value:function(){this.txt.allowGetBounds=!1,this.txt.text=d("eq_stackKITestPaper"),this.txt.anchor.set(.5)}}]),StarchKITestPaper}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(25)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),f=i(16),I=i(29).getLan;e.exports=function(){(0,h.default)(Stopwatch,p);var t=d(Stopwatch);function Stopwatch(){var e;return(0,o.default)(this,Stopwatch),(e=t.call(this)).name="Stopwatch",e.CNName="秒表",e.z_index=23.12,e}return(0,s.default)(Stopwatch,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(Stopwatch.prototype),"creationComplete",this).call(this),this.initBtns(),this.workStatus=0,this.viewScreen.txt.style.fontSize="54px",this.viewScreen.txt.style.fontFamily="Microsoft YaHei",this.viewScreen.txt.text="00:00:00",this.viewScreen.txt.x=(this.viewScreen.width-this.viewScreen.txt.width)/2,this.record=this.getText("",{fill:16777215,fontSize:"34px",fontFamily:"Microsoft YaHei"}),this.addChild(this.record),this.record.x=20,this.record.y=210,this.record.allowGetBounds=!1,this.currentTime=0,this.dateTime=0,this.recordCount=0,this.recordStr="",this.record.allowGetBounds=!1}},{key:"update",value:function(){1==this.workStatus&&(this.currentDate=new Date,this.dateTime=this.currentDate-this.lastDate,this.viewScreen.txt.text=this.getTimeStr(this.currentTime+this.dateTime))}},{key:"initBtns",value:function(){var t=this;this.leftButton.txt1.anchor.set(.5,.5),this.leftButton.txt1.scale.set(.5,.5),this.leftButton.txt1.style.lineHeight=1,this.leftButton.txt1.x=this.leftButton.txt1.y=40,this.leftButton.txt1.text=I("StopWatch_reset"),this.leftButton.txt2.anchor.set(.5,.5),this.leftButton.txt2.scale.set(.5,.5),this.leftButton.txt2.style.lineHeight=1,this.leftButton.txt2.x=this.leftButton.txt2.y=40,this.leftButton.txt2.text=I("StopWatch_lap"),this.rightButton.txt1.anchor.set(.5,.5),this.rightButton.txt1.scale.set(.5,.5),this.rightButton.txt1.style.lineHeight=1,this.rightButton.txt1.x=this.rightButton.txt1.y=40,this.rightButton.txt1.text=I("StopWatch_start"),this.rightButton.txt2.anchor.set(.5,.5),this.rightButton.txt2.scale.set(.5,.5),this.rightButton.txt2.style.lineHeight=1,this.rightButton.txt2.x=this.rightButton.txt2.y=40,this.rightButton.txt2.text=I("StopWatch_stop"),this.setTextVisibleByType(0),this.setBtnStatus(this.leftButton),this.setBtnStatus(this.rightButton),this.rightButton.addEventListener(TouchEvent.TOUCH_BEGIN,function(){return 0==t.workStatus?(t.lastDate=new Date,t.setTextVisibleByType(1),void(t.workStatus=1)):void(1==t.workStatus&&(t.setTextVisibleByType(0),t.workStatus=0,t.currentTime+=t.dateTime))}),this.leftButton.addEventListener(TouchEvent.TOUCH_BEGIN,function(){var e;0==t.workStatus&&(t.currentTime=0,t.recordCount=0,t.recordStr="",t.viewScreen.txt.text="00:00:00",t.record.text=""),1==t.workStatus&&(9<=t.recordCount||(t.recordCount++,e=""==t.recordStr?"":"\n",t.recordStr=I("StopWatch_no")+t.recordCount+I("StopWatch_time")+t.viewScreen.txt.text+e+t.recordStr,t.record.text=t.recordStr))})}},{key:"setTextVisibleByType",value:function(e){var t=0==e?"txt1":"txt2",e=0==e?"txt2":"txt1";this.leftButton[t].visible=!0,this.leftButton[e].visible=!1,this.rightButton[t].visible=!0,this.rightButton[e].visible=!1}},{key:"getTimeStr",value:function(e){36e5<=e&&(e%=36e5);var t=(0,r.default)(e/6e4),i=9<t?""+t:"0"+t,t=(0,r.default)(e/1e3%60),t=9<t?""+t:"0"+t,e=(0,r.default)(e%1e3/10);return i+":"+t+":"+(9<e?""+e:"0"+e)}},{key:"setBtnStatus",value:function(e){var t=e,i=this.root.mouseManager,n=f.status.PLUCK;t.on(MouseEvent.MOUSE_OVER,function(){i.changeMouseStatus(n,!0,t)}),t.on(MouseEvent.MOUSE_OUT,function(){i.changeMouseStatus(n,!1,t)})}}]),Stopwatch}()},function(e,t,StraightGlassWithBalloon){"use strict";var a=StraightGlassWithBalloon(4),i=StraightGlassWithBalloon(0),n=i(StraightGlassWithBalloon(46)),r=i(StraightGlassWithBalloon(1)),o=i(StraightGlassWithBalloon(2)),s=i(StraightGlassWithBalloon(7)),l=i(StraightGlassWithBalloon(5)),h=i(StraightGlassWithBalloon(6)),c=i(StraightGlassWithBalloon(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=StraightGlassWithBalloon(8),p=StraightGlassWithBalloon(75),f=StraightGlassWithBalloon(11),StraightGlassWithBalloon=function(){(0,l.default)(StraightGlassWithBalloon,d);var t=u(StraightGlassWithBalloon);function StraightGlassWithBalloon(){var e;return(0,r.default)(this,StraightGlassWithBalloon),(e=t.call(this)).name="StraightGlassWithBalloon",e.CNName="带气球的直导管",e.maxOpenMouth=2,e.addedRubber=null,e.allowRubberCatheter=!0,e.isGlassCatheter=!0,e.currentTemp=f.DEFAULT_TEMP,e.rubberPos={x:0,y:-14,rotation:-Math.PI/2},e.currentHot=0,e.stophypothermy=!1,e}return(0,o.default)(StraightGlassWithBalloon,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(StraightGlassWithBalloon.prototype),"creationComplete",this).call(this),this.hotPoint.alpha=0,this.addedBottle=null,this.ropePoint=[{x:0,y:49},{x:0,y:307}];var t,i=this.addedRubber=this.execute(NBCommand.CREATE_EQUIPMENT,"Balloon");i.on("creationComplete",function(){i.cannotSystemDrag=!0,e.addChild(i),i.x=e.rubberPos.x,i.y=e.rubberPos.y,i.equipment=e,i.on(NBEvent.del.PREPARE_DELETE,function(){e.addedRubber=null})}),this.on(NBEvent.HITTED_DRAGINLIMITAREA,function(e){t=e}),this.on("full",function(){e.dif&&(e.addedBottle=null)}),this.on("hasTweenComplete",function(){e.parent!==e.getEqLayer()&&(e.addedBottle!=t.hitObj?(e.addedBottle=t.hitObj,e.dif=!0):e.dif=!1)}),this.medicine={},this.medicine.gasAry=[],this.medicine.liquidAry=[],this.medicine.leakageMedicine=[],(0,n.default)(this.medicine.leakageMedicine,"mol",{get:function(){for(var e=0,t=0;t<this.length;t++)e+=this[t].mol;return e}}),this.medicine.push=function(e,t){if(e instanceof Array){this.leakageMedicine.length=0,this.liquidAry=[],this.gasAry=[];for(var i=0;i<e.length;i++)this.push(e[i],!0)}else{t||(this.leakageMedicine.length=0);for(var n=0,a=this.leakageMedicine.length;n<a;n++){var r=this.leakageMedicine[n];r.name===e.name&&(r.mol+=e.mol)}n===a&&(e.setMol||(e=p.getMedFromEasyMed(e)),this.leakageMedicine.push(e))}}}},{key:"lightOn",value:function(){this.currentHot<2400&&this.currentHot++,this.stophypothermy=!0,this.hotPoint.alpha=this.currentHot/2400}},{key:"getLightOnPoint",value:function(){return this.hotPoint.toGlobal({x:0,y:0})}},{key:"increaseTemp",value:function(e,t){var i=this.getViewStack().scale.x,n=e.x+e.width/2,a=e.y+e.height/2+150,e=this.toGlobal(this.heatPoint.position),e=(200-(Math.abs(n-e.x)+Math.abs(a-e.y))/i)/100,i=t*(e=(e=1<e?1:e)<0?0:e),t=this.currentTemp;i<t||(this.currentTemp=t=300<(t=i<(t+=1.5*e)?i:t)?300:t)}},{key:"hypothermy",value:function(){this.stophypothermy?this.stophypothermy=!1:(this.currentHot-=5,this.currentHot=this.currentHot<0?0:this.currentHot,this.hotPoint.alpha=this.currentHot/2400)}},{key:"getMass",value:function(){var e=15;if(this.addedRubber)try{var t=this.addedRubber.medicineData.gasAry;if(t)for(var i=0;i<t.length;i++){var n=t[i],a=n.getMol();e+=(a=isNaN(a)?0:a)*n.mm}}catch(e){}return e}},{key:"update",value:function(e){var t;(0,s.default)((0,c.default)(StraightGlassWithBalloon.prototype),"update",this).call(this,e),this.hypothermy(),this.currentTemp>f.DEFAULT_TEMP&&(t=this.toGlobal(this.heatPoint.position),this.newRadiantHeat(f.ALCOHOL_HEAT_VALUE*this.currentTemp/f.TEMP_ALCOHOL,new PIXI.Rectangle(t.x-100,t.y-100,200,200),e,500,!1,!0),e=this.currentTemp-.5,this.currentTemp=e<f.DEFAULT_TEMP?f.DEFAULT_TEMP:e)}}]),StraightGlassWithBalloon}();e.exports=StraightGlassWithBalloon},function(e,t,a){"use strict";var r=a(4),i=a(0),n=i(a(1)),o=i(a(2)),s=i(a(7)),l=i(a(5)),h=i(a(6)),c=i(a(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,r(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=a(8);e.exports=function(){(0,l.default)(SyringeNeedle,d);var t=u(SyringeNeedle);function SyringeNeedle(){var e;return(0,n.default)(this,SyringeNeedle),(e=t.call(this)).name="SyringeNeedle",e.CNName="针头",e.addedInjector=null,e.z_index=21.07,e}return(0,o.default)(SyringeNeedle,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(SyringeNeedle.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,function(){e.parent&&(e.parent.addedEq===e&&(e.parent.addedEq=null),e.eqAddToViewStack())}),this.listeners()}},{key:"listeners",value:function(){var n=this;this.on(NBDrag.event.STOP_DRAG,function(){for(var e=n.getEquipmentsByType(a(172)),t=0;t<e.length;t++){var i=e[t];if(i&&!i.addedEq&&null===i.addedNeedle&&null===n.addedInjector&&i.parent===i.getEqLayer()&&n.hitTest(i))return i.addChildWithSamePos(n),(i.addedEq=n).rotation-=i.rotation,i.addedNeedle=n,i.tubeDrip.startPos.x=i.drop.x+150,n.addedInjector=i,void TweenMax.to(n,.5,{x:i.needlePos.x,y:i.needlePos.y,rotation:.5*-Math.PI})}n.addedInjector&&(n.getViewStack().addChildWithSamePos(n),n.addedInjector.addedNeedle===n&&(n.addedInjector.addedNeedle=null,n.addedInjector.tubeDrip.startPos.x=n.addedInjector.drop.x),n.addedInjector=null)})}}]),SyringeNeedle}()},function(e,t,TGlassCatheter){"use strict";var a=TGlassCatheter(4),i=TGlassCatheter(0),n=i(TGlassCatheter(69)),r=i(TGlassCatheter(1)),o=i(TGlassCatheter(2)),s=i(TGlassCatheter(7)),l=i(TGlassCatheter(5)),h=i(TGlassCatheter(6)),c=i(TGlassCatheter(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=TGlassCatheter(85),p=TGlassCatheter(52),f=TGlassCatheter(26),TGlassCatheter=function(){(0,l.default)(TGlassCatheter,d);var e=u(TGlassCatheter);function TGlassCatheter(){var t;return(0,r.default)(this,TGlassCatheter),(t=e.call(this)).CNName="T形玻璃导管",t.name="TGlassCatheter",t.maxOpenMouth=3,t.isGlassCatheter=!0,t.allowRubberCatheter=!0,t.addedRubberArray=[null,null],t.rubberPos=null,t.addedRubberCount=0,t.z_index=19.17,t._rubberPos=[{x:145,y:0,rotation:0},{x:-145,y:0,rotation:Math.PI}],(0,n.default)(t.addedRubberArray,{allow:{get:function(){return null==t.addedRubberArray[0]||null==t.addedRubberArray[1]}},addTarget:{set:function(e){p.distance(e.toGlobal({x:0,y:0}),t.toGlobal(t._rubberPos[0]))<p.distance(e.toGlobal({x:0,y:0}),t.toGlobal(t._rubberPos[1]))?null===t.addedRubberArray[0]?(t.rubberPos=t._rubberPos[0],t.addedRubberArray[0]=e):(t.rubberPos=t._rubberPos[1],t.addedRubberArray[1]=e):null===t.addedRubberArray[1]?(t.rubberPos=t._rubberPos[1],t.addedRubberArray[1]=e):(t.rubberPos=t._rubberPos[0],t.addedRubberArray[0]=e),t.addedRubberCount++}}}),t}return(0,o.default)(TGlassCatheter,[{key:"removeAddedRubber",value:function(e){e=this.addedRubberArray.indexOf(e);0<=e&&(this.addedRubberArray.splice(e,1,null),this.addedRubberCount--)}},{key:"isUnderLiquid",get:function(){return this.addedBottle&&this.addedBottle.liquidVertex&&this.dripArea&&f.containsPoint(this.addedBottle.liquidVertex,this.dripArea.toGlobal({x:0,y:0}))?this.toGlobal(this.ropePoint[1]).y-this.addedBottle.liquidVertex[0].y:0}},{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(TGlassCatheter.prototype),"creationComplete",this).call(this),this.addedBottle=null,this.ropePoint=[{x:0,y:59.8},{x:0,y:109.8}],this.lineFix={true:0,false:0};var t=new PIXI.Rope(PIXI.Texture.fromFrame("TGlassCatheter/Bitmap 1"),this.ropePoint);setTimeout(function(){e.addChild(t),e.removeChild(e.texture)},200),this.rubberPos={x:this.width,y:12},this.fireParticlePos=[{x:145,y:0,rotation:0,particle:null,bindAttr:"addedRubberArray",secondAttr:"0"},{x:-145,y:0,rotation:Math.PI,particle:null,bindAttr:"addedRubberArray",secondAttr:"1"},{x:0,y:this.ropePoint[1].y,rotation:Math.PI/2,particle:null,bindAttr:"addedBottle"}],this.pointAry=[this.ropePoint[1],this.ropePoint[1]],this.initLines()}},{key:"update",value:function(e){this.fireParticlePos[2].y=this.ropePoint[1].y,(0,s.default)((0,c.default)(TGlassCatheter.prototype),"update",this).call(this,e),this.fireParticlePos[1].y=this.fireParticlePos[0].y}}]),TGlassCatheter}();e.exports=TGlassCatheter},function(e,t,TestElectricalConductivity){"use strict";var a=TestElectricalConductivity(4),i=TestElectricalConductivity(0),n=i(TestElectricalConductivity(9)),r=i(TestElectricalConductivity(1)),o=i(TestElectricalConductivity(2)),l=i(TestElectricalConductivity(7)),s=i(TestElectricalConductivity(5)),h=i(TestElectricalConductivity(6)),c=i(TestElectricalConductivity(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=TestElectricalConductivity(8),p=TestElectricalConductivity(16),f=TestElectricalConductivity(29).getLan,TestElectricalConductivity=function(){(0,s.default)(TestElectricalConductivity,d);var t=u(TestElectricalConductivity);function TestElectricalConductivity(){var e;return(0,r.default)(this,TestElectricalConductivity),(e=t.call(this)).name="TestElectricalConductivity",e.CNName="溶液导电性",e.z_index=5.06,e}return(0,o.default)(TestElectricalConductivity,[{key:"creationComplete",value:function(){for(var e=1;e<=6;e++){var t=this["crucibleBg".concat(e)];t.allowGetBounds=!1,t.visible=!1}(0,l.default)((0,c.default)(TestElectricalConductivity.prototype),"creationComplete",this).call(this),this.initText(),this.trigger.gotoAndStop(1);for(var i=this.places=[],n=this.bottomPoint,a=this,r=1;r<=6;r++){var o=this["light".concat(r)],s=this["crucibleBg".concat(r)];o.alpha=0;s={rect:this["border".concat(r)],light:o,_bottle:null,prepared:!1,crucibleBg:s,set bottle(e){if(!e)return this.prepared=!1,this.light.alpha=0,this._bottle=null,void(this.crucibleBg.visible=!1);"Crucible"===e.name&&(this.crucibleBg.visible=!0),this._bottle=e,n.toGlobal({x:0,y:0}).y>=e.liquidVertex[0].y&&(this.prepared=!0),a.onElectric&&this.prepared&&a.lightOn(this)},get bottle(){return this._bottle}};i.push(s)}this.init()}},{key:"initText",value:function(){this.txtDc.text=f("eq_DC"),this.txtPower.text=f("eq_power"),this.txtOverload.text=f("eq_overload")}},{key:"update",value:function(e){var t;(0,l.default)((0,c.default)(TestElectricalConductivity.prototype),"update",this).call(this,e);for(var i=0,n=this.places.length;i<n;i++)(t=this.places[i]).bottle=t.bottle,this.onElectric&&t.prepared?this.lightOn(t):t.light.alpha=0}},{key:"onElectric",get:function(){return this._onElectric},set:function(e){e=Boolean(e);var t=this.places;if(this.trigger.gotoAndStop(Number(!e)),this._onElectric=e)for(var i=0;i<t.length;i++){var n=t[i];n.prepared&&this.lightOn(n)}else for(var a=0;a<t.length;a++)t[a].light.alpha=0}},{key:"lightOn",value:function(e){for(var t=e.light,i=e.bottle,n=i.medicineData.ionAry,a=0,e=i.getCurrentCapacity()/1e3,r=0;r<n.length;r++){var o=n[r],s=o.dat.valence;0<s&&(a+=o.mol*s)}for(var l=i.medicineData.liquidAry,h=0,c=l.length;h<c;h++){var u=l[h];if("NaCl(熔融)"===u.name){a+=2*u.mol;break}}var d=a/e,p=0;switch(!0){case d<=1e-5:break;case 1e-5<d&&d<=.01:p=.2+Math.log10(d/1e-5)/3*.2;break;case.01<d&&d<=1:p=.4+Math.log10(d/.01)/2*.3;break;case 1<d&&d<=10:p=.7+d/8*.3;break;case 10<d:p=1}t.alpha=p}},{key:"init",value:function(){var n=this,e=this.root.mouseManager;this.trigger.interactive=!0,this.trigger.on(TouchEvent.TOUCH_BEGIN,function(){n.onElectric=!n.onElectric}),this.trigger.on(MouseEvent.MOUSE_OVER,function(){e.changeMouseStatus(p.status.PAN,!0,n.trigger)}),this.trigger.on(MouseEvent.MOUSE_OUT,function(){e.changeMouseStatus(p.status.PAN,!1,n.trigger)});var t=this.getViewStack();function a(e){e=e.target;e.interactive&&(t.addChildWithSamePos(e),e.currentElectricalPlace.bottle=null,"Crucible"===e.name&&(e.specialFrontChange=!1),delete e.currentElectricalPlace,e.removeEventListener(NBDrag.event.PREPARE_DRAG,a),e.stopShowBorder=!1)}this.on("hitted",function(e){var i=e.dragObj;if(i.isOpen&&!i.isCoverGS)for(var t=0;t<n.places.length;t++)if("break"===function(e){var t=n.places[e];if(null===t.bottle&&t.rect.hitTest(i))return i.currentElectricalPlace=t,"Crucible"===i.name?n.addChildAtWithSamePos(i,0):n.addChildWithSamePos(i),i.interactive=!1,i.stopShowBorder=!0,TweenMax.to(i,.3,{x:680-i.localBounds.width/2+167*e,y:707-i.localBounds.height+20,rotation:0,onComplete:function(){(t.bottle=i).interactive=!0,"Crucible"===i.name&&(i.specialFrontChange=!0)}}),i.on(NBDrag.event.PREPARE_DRAG,a),"break"}(t))break})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,c.default)(TestElectricalConductivity.prototype),"setJSON",this).call(this,e),e.bottles&&e.bottles.forEach(function(e){e&&t.getEquipmentByUUID(e).then(function(e){t.emit("hitted",{dragObj:e})})})}},{key:"toJSON",value:function(){var t=[];return this.places.forEach(function(e){e=e.bottle;t.push(e?e.getUUID():null)}),(0,n.default)((0,l.default)((0,c.default)(TestElectricalConductivity.prototype),"toJSON",this).call(this),{bottles:t})}}]),TestElectricalConductivity}();e.exports=TestElectricalConductivity},function(e,t,TestPaper){"use strict";var a=TestPaper(4),i=TestPaper(0),n=i(TestPaper(9)),r=i(TestPaper(1)),o=i(TestPaper(2)),s=i(TestPaper(7)),l=i(TestPaper(5)),h=i(TestPaper(6)),c=i(TestPaper(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=TestPaper(10),p=TestPaper(16),f=TestPaper(168),I=TestPaper(26),g=TestPaper(79),m=TestPaper(11),y={UniversalPhIndicatorPaper:14529575,BlueLitmusPaper:12632277,RedLitmusPaper:16636125,PhenolphthaleinTestPaper:16777215,StarchKITestPaper:16777215},v=1,TestPaper=function(){(0,l.default)(TestPaper,d);var i=u(TestPaper);function TestPaper(e){var t;return(0,r.default)(this,TestPaper),(t=i.call(this)).isTestPaper=!0,e&&(t.dataBuild=e.dataBuild),t.noConfig=!0,t.medTouchType=v,t.colorTweenStyle=null,t.colorTweenObj={},t}return(0,o.default)(TestPaper,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(TestPaper.prototype),"creationComplete",this).call(this),this.setMouse(),this.gotLiquid=!1,this.isFadeColor=!1,this.isCorrode=!1,this.capacityScale=.03,this.noPascal=!0,this.adsorbPosition={Forceps:{x:-100,y:6,ani:!0,index:2,rotation:0},WatchGlass:{x:84,y:12,ani:!1,index:13,rotation:-.25},DripHole:{x:-20,y:-15,ani:!1,index:13,rotation:-.2},GlassSheet:{x:90,y:-2,ani:!1,index:19,rotation:0},GasCollectingBottle:{x:38,y:335,ani:!1,index:0,rotation:0},BaseGasMedicine:{x:38,y:335,ani:!1,index:0,rotation:0},GasCollectingBottleOfDivide:{x:38,y:335,ani:!1,index:0,rotation:0}},this.on(NBEvent.del.PREPARE_DELETE,this.clear),this.on(NBEvent.del.DELETE,this.clear),this.gasContainer.visible=!1,this.bgGra=new PIXI.Graphics,this.bgGra.visible=!1,this.addChild(this.bgGra),this.colorGra=new PIXI.Graphics,this.colorGra.visible=!1,this.addChild(this.colorGra),this.colorGra.position.set(this.localBounds.width/2,this.localBounds.height/2),this.colorGraMask=new PIXI.Graphics,this.colorGraMask.drawRect(0,0,this.localBounds.width,this.localBounds.height),this.addChild(this.colorGraMask),this.colorGra.mask=this.colorGraMask,this.crtColor=null,this.targetColor=null,this.initR=5,this.crtR=this.initR,this.targetR=80,this.targetPh=7,this.defaultGasAry=this.medicineData.gasAry}},{key:"curContainergotDrip",value:function(e){this.medTouchType=v,this.getPHCount=1,this.hasReact=m.ACTIVE_COUNT,(0,s.default)((0,c.default)(TestPaper.prototype),"curContainergotDrip",this).call(this,e)}},{key:"touchMed",value:function(e){this.medTouchType=v,this.getPHCount=1,this.getPH(e,!1)}},{key:"gotLiquidWater",get:function(){return this.medicineData.liquidAry.quickMap.get("H2O")}},{key:"getPH",value:function(e,t){if(this.gotLiquidWater||!e||e.find(function(e){return"H2O"===e.name})){if(this.phNum||(this.phNum=0),e instanceof Array)for(var i=0;i<e.length;i++){var n=e[i].clone();t&&(n.mol=n.mol/1e3),this.medicineData.push(n)}var a=Number(this.medicineData.getHDensity());!isNaN(a)&&a&&(a=-Math.log10(a),this.targetPh=a,this.valatilizeChangeColor(a))}}},{key:"valatilizeChangeColor",value:function(e){var t=this;if(t.changeBlue){if(t.changeBlueCount||(t.changeBlueCount=1),t.changeBlueCount<80)return void t.changeBlueCount++;this.hasPh=null}if(!t.isCorrode){var i=this.getH2SO4Dens();if(!(t.isFadeColor&&i<.75||(e=(e=1<e?e:1)<14?e:14,t.hasPh&&Math.round(t.hasPh)===Math.round(e)&&i<.75))){var n=this.calcPaperColor(e),i=this.getType(i);if("StarchKITestPaper"!==this.name||"changeColor"!==i)switch(i){case"fadeFastCorrode":this.isCorrode=!0,t.corrodeColor(1);break;case"fadeSlowCorrode":this.isCorrode=!0,t.corrodeColor(4);break;case"fastCorrode":this.isCorrode=!0,t.corrodeColor(1);break;case"slowCorrode":this.isCorrode=!0,t.changeColor(n,1,function(){t.corrodeColor(4)});break;case"fadeColor":t.isFadeColor=!0,t.changeColor(n,2,function(){t.fadeColor()});break;case"changeColor":t.changeColor(n,5);break;case"slowFadeColor":t.isFadeColor=!0,t.changeColor(n,2,function(){t.fadeColor(10)});break;case"colorFadeByNaClO":t.isCorrode=!0,t.changeColor(n,2,function(){t.changeColor(t.calcPaperColor(Math.min(14,e+1)),6,function(){t.fadeColor(20)})})}}}}},{key:"changeColor",value:function(e,t,i){var n,a=this;this.targetColor=e,this.isFadeColor&&this.colorTween&&this.colorTween.isActive()?(n=(1-this.colorTween.progress())*this.colorTween.duration()*1e3,setTimeout(function(){!a.isDeleting&&a.parent&&(a.colorTween.kill(a.crtColorObj),a.tweenColor(e,t,i))},n)):this.tweenColor(e,t,i)}},{key:"tweenColor",value:function(e,t){function i(){a.colorTweenStyle=null,r&&r()}var n,a=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!this.crtColor||!t)return this.crtColor=e,this.updateSkinGra(!0),void i();this.colorTween&&this.colorTween.isActive()||(null===this.colorTweenStyle&&(this.colorTweenStyle=this.medTouchType,this.crtR=this.initR),this.crtColorObj=f.hexToRgb(this.crtColor),n=this.targetR-this.crtR,this.colorTween=TweenMax.to(this.colorTweenObj,t,{onUpdate:function(){var e;a.colorTweenStyle===v?(a.crtColor=a.targetColor,a.crtR=a.targetR-n*(1-a.colorTween.ratio)):(e=f.hexToRgb(a.targetColor),a.crtColor=f.rgbToHex(a.crtColorObj.r+(e.r-a.crtColorObj.r)*a.colorTween.ratio,a.crtColorObj.g+(e.g-a.crtColorObj.g)*a.colorTween.ratio,a.crtColorObj.b+(e.b-a.crtColorObj.b)*a.colorTween.ratio)),a.updateSkinGra()},onComplete:function(){a.crtColor=a.targetColor,a.crtR=a.targetR,a.updateSkinGra(!0),i()}}))}},{key:"updateSkinGra",value:function(e){this.colorTweenStyle!==v||e?(this.colorGra.visible=!1,this.bgGra.visible=!0,this.bgGra.clear(),this.bgGra.beginFill(Math.round(this.crtColor)),this.bgGra.drawRect(0,0,this.localBounds.width,this.localBounds.height),this.bgGra.endFill()):(this.colorGra.visible=!0,this.colorGra.clear(),this.colorGra.beginFill(Math.round(this.crtColor)),this.colorGra.drawCircle(0,0,this.crtR),this.colorGra.endFill())}},{key:"getH2SO4Dens",value:function(){var e=this.medicineData.liquidAry,t=e.quickMap.get("H2O"),i=e.quickMap.get("H2SO4"),e=0;return e+=t?t.getMass():0,e+=i?i.getMass():0,i&&0<i.getMass()&&0<e?i.getMass()/e:0}},{key:"getType",value:function(e){var t=this.isFadeColor?"fadeColor":"default";if(.75<e)i=.9<e?"fastCorrode":"slowCorrode";else{e=this.medicineData.liquidAry.quickMap.get("NaClO");if(e&&1e-7<e.mol){if("StarchKITestPaper"!==this.name)return"colorFadeByNaClO";i="slowFadeColor"}var i,e=this.medicineData.liquidAry.quickMap.get("HClO");i=e&&5e-10<e.mol?"fadeColor":1e-7<((null===(e=this.medicineData.gasAry.quickMap.get("Cl2"))||void 0===e?void 0:e.mol)||0)+((null===(e=this.medicineData.dissolveAry.quickMap.get("Cl2"))||void 0===e?void 0:e.mol)||0)?"StarchKITestPaper"!==this.name?"fadeColor":"slowFadeColor":"nothing"}return{fadeColor:{fastCorrode:"fadeFastCorrode",slowCorrode:"fadeSlowCorrode"},default:{fastCorrode:"fastCorrode",slowCorrode:"slowCorrode",nothing:"changeColor",fadeColor:"fadeColor",slowFadeColor:"slowFadeColor"}}[t][i]}},{key:"corrodeColor",value:function(e){this.isCorrode=!0,this.changeColor(0,e)}},{key:"fadeColor",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3;this.isFadeColor=!0,this.changeColor(16777215,e)}},{key:"calcPaperColor",value:function(e){var t=this;t.hasPh=Math.round(e);var i=16777215;switch(t.name){case"UniversalPhIndicatorPaper":switch(t.hasPh){case 0:i=10499897;break;case 1:i=9451321;break;case 2:i=11091231;break;case 3:i=13980696;break;case 4:i=14053910;break;case 5:i=14593312;break;case 6:i=14793738;break;case 7:i=11582765;break;case 8:i=5405711;break;case 9:i=1396260;break;case 10:i=1000759;break;case 11:i=4137562;break;case 12:i=2298691;break;case 13:i=3546481;break;case 14:i=4464243}break;case"RedLitmusPaper":switch(t.hasPh){case 7.5:i=11184861;break;case 8:i=6711005;break;case 8.5:i=3355613;break;case 8.5<t.hasPh&&t.hasPh:i=221;break;default:i=15517644}break;case"BlueLitmusPaper":i=t.hasPh<6?t.hasPh<5?16711680:14483456:11579589;break;case"PhenolphthaleinTestPaper":i=7.9<t.hasPh?9<t.hasPh?14483456:14491680:15658734}return i}},{key:"canPutTo",value:function(e){return this.adsorbPosition[e.name]&&!this.childHasPaper(e)&&(e.isClamp||e.isGasBottle||"GlassSheet"===e.name||this.currentCapacity<=0&&0<e.currentCapacity)}},{key:"childHasPaper",value:function(e){return e.children.find(function(e){return e.isTestPaper})}},{key:"eqStopDrag",value:function(e){(0,s.default)((0,c.default)(TestPaper.prototype),"eqStopDrag",this).call(this,e),this.adsorb()}},{key:"putTo",value:function(e){var t=this,i=this.adsorbPosition[e.name];NBDrag.removeDrag(this),this.holdParent&&this.holdParent.holdObjLeave instanceof Function&&this.holdParent.holdObjLeave.apply(this),((e.holdObj=this).holdParent=e).addChildAtWithSamePos(this,i.index),TweenMax.to(this,.5,{x:i.x,y:i.y,rotation:i.rotation,onComplete:function(){"WatchGlass"===e.name?t.adsorbWaterFull(e):"DripHole"===e.name&&(t.adsorbWaterFull(e),e.parent.addChildWithSamePos(t)),NBDrag.addDrag(t)}})}},{key:"adsorb",value:function(){for(var e=this.getSortDisHitObjects(),t=0;t<e.length;t++){var i=e[t].objB;if(this.canPutTo(i))return void this.putTo(i)}TweenMax.to(this,.2,{rotation:0})}},{key:"adsorbWaterFull",value:function(e){var t=this.currentCapacity,i=e.currentCapacity,n=this.getTotalCapacity()-t,t=i<n?i:n;t<.01||(n=e.medicineData.covertVolumeToLiquid(t),this.addMedicine(n),e.currentCapacity<=1e-9?e.setCurrentCapacity(0):e.setCurrentCapacity(i-t),this.isPourOut=!1)}},{key:"getStatus",value:function(){var e,t,i=this;i.parent.isClamp&&("BaseGasMedicine"!==(t=i.parent).parent.name&&"GasCollectingBottle"!==t.parent.name||(e=t.parent,i.inContainerGasEffect instanceof Function&&i.inContainerGasEffect(e.medicineData.gasAry),"StarchKITestPaper"===i.name&&i.gotLiquidWater&&conf.hitGasChangeColor(e.medicineData.gasAry,i),t=i.toGlobal({x:0,y:0}),I.containsPoint(e.liquidVertex,t)&&(i.inContainerGasEffect instanceof Function&&i.inContainerGasEffect(e.medicineData.liquidAry),"StarchKITestPaper"===i.name&&conf.hitLiquidChangeColor(e.medicineData.liquidAry,i))))}},{key:"hitReact",value:function(e){this.getPH(e,!0)}},{key:"eqPrepareChoice",value:function(e){(0,s.default)((0,c.default)(TestPaper.prototype),"eqPrepareChoice",this).call(this,e),this.eqAddToViewStack()}},{key:"eqAddToViewStack",value:function(){this.parent&&this.parent!==this.getEqLayer()&&(this.parent._paperSprite=void 0),this.holdParent&&this.holdParent.holdObj&&(this.holdParent.holdObj=null),(0,s.default)((0,c.default)(TestPaper.prototype),"eqAddToViewStack",this).call(this)}},{key:"createOri",value:function(e){this.name=e,this.defaultColor=16777215,this.changeColor(y[e],0)}},{key:"setFrame",value:function(){}},{key:"updateGetContainerWater",value:function(){"WatchGlass"!==this.parent.name&&"DripHole"!==this.parent.name||0<this.parent.medicineData.liquidAry.length&&this.adsorbWaterFull(this.parent)}},{key:"updateSetMinH2O",value:function(){var e=this.medicineData.liquidAry.quickMap.get("H2O");e&&e.getMol()<.0111&&e.setMol(.0111)}},{key:"setMouse",value:function(){var e=this.root.mouseManager;p.addMouseEvent(e,this,p.status.DRAG)}},{key:"updateCheckKIPaper",value:function(){var e,t,i,n,a=this;this.isFadeColor||"StarchKITestPaper"!==this.name||(n=this.medicineData.liquidAry.quickMap.get("H2O2"),!(e=n&&1e-7<n.getMol())&&"0x1D3B95"===this.targetColor||(this.changeBlueLiquidAry=["I2","NaClO","Br2","FeCl3"],this.changeBlueGasAry=["Br2","N2O5","O3","Cl2"],t=this.medicineData.liquidAry.find(function(e){return-1!=a.changeBlueLiquidAry.indexOf(e.name)&&(1e-7<e.mol||1e-9<e.mol&&"I2"===e.name)}),i=[].concat(this.medicineData.gasAry,this.medicineData.dissolveAry).find(function(e){return-1!=a.changeBlueGasAry.indexOf(e.name)&&1e-12<e.mol}),n=1,e||t||i&&this.gotLiquidWater?(e&&(t=7,n=(t=(i=this.medicineData.getHDensity())&&!isNaN(i)?-Math.log10(i):t)<6?.5:8<t?1:3),this.changeBlue=!0,this.changeColor("0x1D3B95",n,function(){e&&a.fadeColor()})):(n=this.medicineData.liquidAry.find(function(e){return"H2O"===e.name&&1e-7<e.mol}),"0xeeeeee"!==this.targetColor&&n&&this.changeColor("0xeeeeee",5))))}},{key:"lightOn",value:function(e,t){if(!this.isBurning)if(this.parent===this.getEqLayer()){var i=this.medicineData.liquidAry.quickMap.get("H2O");if(!(i&&1e-7<i.mol)){i=this.medicineData.liquidAry.quickMap.get("Na2SiO3");if(!(i&&0<i.mol)){if(t){e=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2),t=this.getViewStack().scale.x;if(3e4*t*t<e)return}this.isBurning=!0,this.isCorrode=!0,NBDrag.removeDrag(this),this.root.particleManager.initPaperFire.call(this)}}}}},{key:"getLightOnPoint",value:function(){this.updateTransform();var e=[],t=this.localBounds||this.getLocalBounds(),t=this.toGlobal({x:t.x+t.width/2,y:t.x+t.height});return e.push({x:t.x,y:t.y}),e}},{key:"clear",value:function(){this.paperFire&&(this.paperFire.destroy(),this.paperFire=null)}},{key:"update",value:function(e){var t,i;if((0,s.default)((0,c.default)(TestPaper.prototype),"update",this).call(this,e),this.isBurning)return 200<this.burnCount?void this.commandDelete():(this.burnCount||(this.burnCount=0),this.paperFire.loaded&&(t=this.paperFire,this.setedParticle||(i=this.localBounds,t.particle.spawnRect.width=i.width+20,t.particle.spawnRect.x=i.x,t.particle.spawnRect.y=i.y+i.height-10,this.changeColor(0,2),this.setedParticle=!0),170<=this.burnCount&&(i=(200-this.burnCount)/30,this.paperFire.setParticleProp("maxParticles",20*i+5),this.alpha=i)),this.paperFire.updateTransform(),this.newRadiantHeat(m.WOOD_HEAT_VALUE,this.paperFire.getBounds().clone(),e,m.TEMP_MATCH),this.paperFire.render(e),void this.burnCount++);this.exchangeParentMed(),this.updateCheckKIPaper(),this.getPHCount?(this.getPHCount++,5<this.getPHCount&&(this.getPH(),this.getPHCount=1)):this.getPHCount=1,this.updateGetContainerWater()}},{key:"exchangeParentMed",value:function(){var e=this.parent;if(e&&e.isGasBottle){for(var t=e.medicineData,i=!1,n=0,a=0;a<t.liquidAry.length;a++){var r=t.liquidAry[a];"H2O"===r.name&&.1<=r.mol&&(i=!0),n+=r.mol}if(i){this.currentMedicineData=t;var o=this.medicineData;o.liquidAry.clear();for(var s=0;s<t.liquidAry.length;s++){var l=t.liquidAry[s].deepClone();l.mol*=.1/n,o.push(l)}0!==this.speedSolCount&&(this.speedSolCount=0)}else this.medicineData.gasAry!==t.gasAry&&(this.medicineData.gasAry=t.gasAry),this.speedSolCount||(this.speedSolCount=0),this.speedSolCount<100&&(t.gasAry.forEach(function(e){e.isBubble=!0}),this.speedSolCount++,this.hasReact=m.ACTIVE_COUNT);this.hadAddInContainer=!0}else this.hadAddInContainer&&(0!==this.speedSolCount&&(this.speedSolCount=0),this.hadAddInContainer=!1,this.medicineData.gasAry=this.defaultGasAry,this.reflashGas(),this.currentMedicineData=this.medicineData)}},{key:"reflashGas",value:function(){var e,t,i,n;this.parent instanceof d||(this.medicineData.gasAry.clear(),e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),n=.8*(i=this.getTotalCapacity()/1e6*m.PASCAL/(m.R*g.convertCToK(m.DEFAULT_TEMP))),this.medicineData.push([new GasVO(e,.2*i),new GasVO(t,n)]))}},{key:"canSpoonPour",value:function(){return!1}},{key:"toJSON",value:function(){return(0,n.default)({oriName:this.name,hasPh:this.hasPh,targetPh:Math.round(Math.max(Math.min(this.targetPh,14),1))},(0,s.default)((0,c.default)(TestPaper.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(TestPaper.prototype),"setJSON",this).call(this,e),this.createOri(e.oriName),e.targetPh&&e.hasPh&&(this.hasPh=e.targetPh,this.changeColor(this.calcPaperColor(this.hasPh),0))}}]),TestPaper}();e.exports=TestPaper},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(TestTubeHolder,d);var t=u(TestTubeHolder);function TestTubeHolder(){var e;return(0,r.default)(this,TestTubeHolder),(e=t.call(this)).name="TestTubeHolder",e.CNName="试管夹",e.hitThisAttachAttr={offsetUp:18,offsetDown:22,type:2},e.z_index=23.13,e.selectByIndex=!0,e.clampObjAry=["SmallTestTube","TestTubeWithSideNeck","PlasticInjector","BigTestTube","UShapeTube"],e}return(0,o.default)(TestTubeHolder,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(TestTubeHolder.prototype),"creationComplete",this).call(this);var e=this;function t(){e.ani.gotoAndStop(0)}this.enableRotate(!0,{position:{x:this.localBounds.width/2+10,y:0},rotatePoint:{x:0,y:this.localBounds.height/2},rotateRect:{x:0,y:0,width:232,height:this.localBounds.height}},1),this.on("hitted",function(e){this.isFull()||0!=this.ani.currentFrame||(this._dragObj_=e.dragObj,this.ani.gotoAndStop(1),this._dragObj_.on("hasTweenComplete",t))})}},{key:"getCenterPosition",value:function(){var e={x:58.5,y:30};return e}}]),TestTubeHolder}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(TestTubeRack,d);var t=u(TestTubeRack);function TestTubeRack(){var e;return(0,r.default)(this,TestTubeRack),(e=t.call(this)).name="TestTubeRack",e.CNName="试管架",e.z_index=5.07,e.hitThisAttachAttr={offsetUp:18,offsetDown:0,type:0},e}return(0,o.default)(TestTubeRack,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(TestTubeRack.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.STOP_DRAG,this.eqStopDrag)}}]),TestTubeRack}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var Thermometer=i(421);e.exports=function(){(0,l.default)(ThermometerPlus,Thermometer);var t=u(ThermometerPlus);function ThermometerPlus(){var e;return(0,r.default)(this,ThermometerPlus),(e=t.call(this)).name="ThermometerPlus",e.CNName="高温温度计",e.z_index=23.15,e.TEMP_0=215,e.TEMP_1=240,e.DLT_Y=2.51,e.OFFSET_Y=27.5,e}return(0,o.default)(ThermometerPlus,[{key:"creationComplete",value:function(){var e=this;(0,s.default)((0,c.default)(ThermometerPlus.prototype),"creationComplete",this).call(this),this.particle.on("particle_load",function(){e.particle.setParticleProp("startColor",[222,226,222]),e.particle.setParticleProp("endColor",[238,226,238])})}}]),ThermometerPlus}()},function(e,t,Thermometer){"use strict";var a=Thermometer(4),i=Thermometer(0),n=i(Thermometer(1)),r=i(Thermometer(2)),o=i(Thermometer(7)),s=i(Thermometer(5)),l=i(Thermometer(6)),h=i(Thermometer(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=Thermometer(10),d=Thermometer(11),p=260,f=110,Thermometer=function(){(0,s.default)(Thermometer,u);var e=c(Thermometer);function Thermometer(){return(0,n.default)(this,Thermometer),e.call(this)}return(0,r.default)(Thermometer,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(Thermometer.prototype),"creationComplete",this).call(this),this.currentTemp=d.DEFAULT_TEMP,this.magnify=new PIXI.Graphics,this.magnify.beginFill(16724736,1),this.magnify.drawCircle(0,0,200),this.magnify.endFill(),this.addChild(this.magnify),this.magnify.x=p,this.magnify.y=f,this.tempScale.mask=this.magnify}},{key:"currentTemp",get:function(){return this._currentTemp},set:function(e){this._currentTemp=e,this.tempScale.y=10.22*e+135,this.tempPost.height=5.11*e+7.5,this.tempScale.tempPost.height=5.11*e+7.5}},{key:"showScale",value:function(){}},{key:"update",value:function(){this.currentTemp+=.01}}]),Thermometer}();e.exports=Thermometer},function(e,t,Tissue){"use strict";var a=Tissue(4),i=Tissue(0),n=i(Tissue(1)),r=i(Tissue(2)),o=i(Tissue(7)),s=i(Tissue(5)),l=i(Tissue(6)),h=i(Tissue(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=Tissue(8),d=0,p=1,f=2,Tissue=function(){(0,s.default)(Tissue,u);var t=c(Tissue);function Tissue(){var e;return(0,n.default)(this,Tissue),(e=t.call(this)).name="Tissue",e.CNName="纸巾",e.state=d,e.z_index=23.08,e.hitEqObj={GlassBar:{rotation:-Math.PI/2,startX:42,startY:355,targetX:42,targetY:140,dulation:.4,endX:"+=100",endY:"+=80"},LabSpoon:{rotation:0,startX:0,startY:-5,targetX:70,targetY:-5,dulation:.25,endX:"0",endY:"-=100"},Forceps:{rotation:0,startX:80,startY:15,targetX:150,targetY:15,dulation:.25,endX:"0",endY:"-=100"},BlockCu2:{rotation:-Math.PI/2,startX:0,startY:150,targetX:25,targetY:-125,dulation:.4,endX:"+=100",endY:"+=80"}},e}return(0,r.default)(Tissue,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(Tissue.prototype),"creationComplete",this).call(this),this.bindEvent()}},{key:"setStateType",value:function(e){e!==this.getStateType()&&(this.ani.gotoAndStop(e),this.changedBoundsAndFreshSelect())}},{key:"getStateType",value:function(){return this.ani.currentFrame}},{key:"bindEvent",value:function(){this.on(NBDrag.event.STOP_DRAG,this.hitEquipment)}},{key:"hitEquipment",value:function(){if(this.getStateType()!==f){var e=this.perfectHitObj();if(!e)return!1;this.cleanEquipment(e)}}},{key:"cleanEquipment",value:function(e){var t,i=this;this.hitEqObj[e.name]&&!TweenMax.isTweening(e)&&e.checkCanCleanByTissue()&&(this.setStateType(p),e.interactive=!1,this.interactive=!1,e.addChildWithSamePos(this),t=this.hitEqObj[e.name],(new TimelineMax).to(this,.2,{x:t.startX,y:t.startY,rotation:t.rotation}).to(this,t.dulation,{x:t.targetX,y:t.targetY,repeat:3,yoyo:!0,ease:Linear.easeInOut,onRepeat:function(){e.cleanMed()}}).to(this,.2,{x:t.endX,y:t.endY,onComplete:function(){e.cleanMed&&e.cleanMed(!0),i.interactive=!0,e.interactive=!0,i.setStateType(f),e.getViewStack().addChildWithSamePos(i)}}))}},{key:"toJSON",value:function(){var e=(0,o.default)((0,h.default)(Tissue.prototype),"toJSON",this).call(this);return e.stateType=this.getStateType(),e}},{key:"setJSON",value:function(e){(0,o.default)((0,h.default)(Tissue.prototype),"setJSON",this).call(this,e),e.stateType!==d&&(this.setStateType(f),this.parent!==this.getEqLayer()&&this.getViewStack().addChildWithSamePos(this))}}]),Tissue}();e.exports=Tissue},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(9)),o=n(i(1)),s=n(i(2)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),f=i(16);e.exports=function(){(0,h.default)(TissueBox,p);var t=d(TissueBox);function TissueBox(){var e;return(0,o.default)(this,TissueBox),(e=t.call(this)).name="TissueBox",e.CNName="抽纸盒",e}return(0,s.default)(TissueBox,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(TissueBox.prototype),"creationComplete",this).call(this);var e=this.paper;e.alpha=0,e.pullOutCount=0,e.addEventListener(TouchEvent.TOUCH_BEGIN,this.createPaper);var t=this.root.mouseManager;f.addMouseEvent(t,e,f.status.OPEN)}},{key:"createPaper",value:function(e){e.stopPropagation();var t=this.root.execute(NBCommand.ADD_EQUIPMENT,{name:"Tissue"}),i=this.root.viewStack.toLocal(new PIXI.Point(0,0),this);t.x=i.x,t.y=i.y,t.on("creationComplete",function(){t.hasUp||(e.target=t,e.type="pointerdown",e.capture=!1,TouchEvent.simulateTouchDown(t,e),t.timer=(new Date).getTime(),t.__globalPoint__=(0,r.default)({},e.data.global),t.getViewStack().needTouchUpAry.push(t)),delete t.hasUp})}}]),TissueBox}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(Tripod,d);var t=u(Tripod);function Tripod(){var e;return(0,r.default)(this,Tripod),(e=t.call(this)).name="Tripod",e.CNName="三脚架",e.z_index=7,e}return(0,o.default)(Tripod,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(Tripod.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.STOP_DRAG,this.eqStopDrag)}}]),Tripod}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8),p=i(58),SmallTestTube=i(399);e.exports=function(){(0,l.default)(TurnBrush,d);var t=u(TurnBrush);function TurnBrush(){var e;return(0,r.default)(this,TurnBrush),(e=t.call(this)).name="TurnBrush",e.CNName="试管刷",e.needLimitObjAry=["BigTestTube","SmallTestTube","TestTubeWithSideNeck"],e.z_index=23.15,e}return(0,o.default)(TurnBrush,[{key:"creationComplete",value:function(){var i=this;(0,s.default)((0,c.default)(TurnBrush.prototype),"creationComplete",this).call(this),p.apply(this),this.on("hitted",function(e){var t=e.hitObj;t instanceof SmallTestTube?i.ani.gotoAndStop(1):i.ani.gotoAndStop(0);e=i.parent;e===t&&-1!=i.needLimitObjAry.indexOf(t.name)&&(t.reCalSolvent&&t.reCalSolvent(),!e.CaOHParticle||(!(t=e.medicineData.solidAry["Ca(OH2"])||t.mol<.001)&&(i.root.particleManager.destroy(e.CaOHParticle,.2),e.CaOHParticle=null))}),this.on(NBDrag.event.STOP_DRAG,function(){i.viewStack==i.getViewStack()&&i.ani.gotoAndStop(0)})}}]),TurnBrush}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(147);e.exports=function(){(0,s.default)(UniversalPhIndicatorPaper,u);var t=c(UniversalPhIndicatorPaper);function UniversalPhIndicatorPaper(){var e;return(0,o.default)(this,UniversalPhIndicatorPaper),(e=t.call(this)).name="UniversalPhIndicatorPaper",e.CNName="pH试纸",e}return(0,r.default)(UniversalPhIndicatorPaper)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),h=n(i(7)),c=n(i(5)),l=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var p=i(8),i=function(){(0,c.default)(l,p);var t=d(l);function l(){var e;return(0,r.default)(this,l),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(l,[{key:"redoAdd",value:function(){}},{key:"creationComplete",value:function(){(0,h.default)((0,u.default)(l.prototype),"creationComplete",this).call(this);var e=this,t=this.getViewStack(),i=this.execute(NBCommand.CREATE_EQUIPMENT,"GasCollectingBottle"),n=this.execute(NBCommand.CREATE_EQUIPMENT,"GlassSheet"),a=this.execute(NBCommand.CREATE_EQUIPMENT,"RotateGlassCatheter"),r=!(e.executeEq=[i,n,a]),o=!1;function s(){a.emit(NBEvent.HITTED_DRAGINLIMITAREA,{hitObj:i,dragObj:a,fromSetJson:!0})}i.on("creationComplete",function(){t.addChild(i),i.x=e.x,i.y=e.y,NBDrag.addDrag(i),r=!0,o&&a&&s()}),n.on("creationComplete",function(){t.addChild(n),n.x=e.x-52,n.y=e.y+480,NBDrag.addDrag(n)}),a.on("creationComplete",function(){t.addChild(a),a.updateCurveGlass(0),a.dripArea.y=a.ropePoint[1].y=a.whiffAreaAry[1].area.y=335,a.x=e.x+88,a.y=e.y-35,NBDrag.addDrag(a),o=!0,r&&i&&s()})}}]),l}();e.exports=i},function(e,t,VacuumGlassTube){"use strict";var a=VacuumGlassTube(4),s=VacuumGlassTube(44),l=VacuumGlassTube(42),h=VacuumGlassTube(43),c=VacuumGlassTube(37),i=VacuumGlassTube(0),n=i(VacuumGlassTube(1)),r=i(VacuumGlassTube(2)),o=i(VacuumGlassTube(7)),u=i(VacuumGlassTube(5)),d=i(VacuumGlassTube(6)),p=i(VacuumGlassTube(3));function f(e,t){var i=void 0!==l&&e[h]||e["@@iterator"];if(!i){if(c(e)||(i=function(e,t){if(e){if("string"==typeof e)return I(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?s(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?I(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function g(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,p.default)(i);return t=n?(e=(0,p.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,d.default)(this,t)}}var m=VacuumGlassTube(10),y=VacuumGlassTube(20),v=VacuumGlassTube(255),C=VacuumGlassTube(33),M=VacuumGlassTube(27),VacuumGlassTube=function(){(0,u.default)(VacuumGlassTube,m);var t=g(VacuumGlassTube);function VacuumGlassTube(){var e;return(0,n.default)(this,VacuumGlassTube),(e=t.call(this)).name="VacuumGlassTube",e.CNName="装有硫粉的真空玻璃管",e.z_index=15.99,e.preventCalEffect=!0,e.tubeTemp=25,e.heatCount=0,e.hasCovered=!0,e.eqLastRotation=0,e.tubeLastTemp=25,e.tempCount=0,e.noSetMedJson=!0,e}return(0,r.default)(VacuumGlassTube,[{key:"creationComplete",value:function(){(0,o.default)((0,p.default)(VacuumGlassTube.prototype),"creationComplete",this).call(this),this.enableRotate(!0,{position:{x:0,y:0}},1),this.initMedicinedata(),this.initTempContainer()}},{key:"initMedicinedata",value:function(){var e=this.root.medicineManager;this.SMedVo=new y(e.getMedicineData("S"),.4),this.SLiquidVo=new C(e.getMedicineData("S(熔融)"),.4),this.SGasVo=new M(e.getMedicineData("S"),.4),this.medicineData.gasAry.clear();e=this.SMedVo.deepClone().setMol(.4/3);this.addMedicine(e,{x:0,y:120},1),this.addMedicine(e,{x:0,y:100},1),this.addMedicine(e,{x:0,y:90},1)}},{key:"initTempContainer",value:function(){var e=new PIXI.Container;e.allowGetBounds=!1,e.interactive=!1,this.tempCon=e,this.addChild(this.tempCon),this.tempCon.y=0,this.tempCon.x=90;e=new PIXI.Graphics;e.beginFill(16777215),e.drawRoundedRect(-50,-20,100,40,10),e.endFill(),this.tempCon.addChild(e),this.tempTxt=this.getText(this.tubeTemp.toFixed(1)+" ℃",{fill:16724736,fontSize:"24px"}),this.tempTxt.anchor.set(.5),this.tempCon.addChild(this.tempTxt)}},{key:"heatSelf",value:function(e,t){var i,n,a;e>this.tubeTemp&&(i=113<this.tubeTemp&&this.tubeTemp<220?8400:270<this.tubeTemp?2100:4200,113<(i=Math.min(e,this.tubeTemp+t/(32*i/1e3)))&&((a=this.medicineData.solidAry.S)&&0<a.mol&&(1e-14<a.mol?(i=113,n=Math.min(.001,a.mol),this.convertSolidAndLiquid(-n)):a.setMol(0))),444.6<i&&((n=this.medicineData.liquidAry.quickMap.get("S(熔融)"))&&0<n.mol&&(1e-14<n.mol?(i=Math.min(446.6,i),a=(a=this.medicineData.gasAry.quickMap.get("S"))&&.01<a.mol?.001:1e-5,a=Math.min(a,n.mol),this.convertLiquidAndGas(-a)):n.setMol(0))),i=Math.min(i,520),this.tubeTemp=i,this.heatCount<10&&(this.heatCount+=5),this.medicineData.colorGradient<5&&(this.medicineData.colorGradient=5))}},{key:"autoTempLoss",value:function(e){var t,i,n;0<this.heatCount&&this.heatCount--,5<this.heatCount||((t=this.tubeTemp-nb.DEFAULT_TEMP)<.01?this.tubeTemp=nb.DEFAULT_TEMP:(i=50*e*(t/1e3+.05),this.tubeTemp<443.6&&220<this.tubeTemp&&((n=this.medicineData.gasAry.quickMap.get("S"))&&0<n.mol&&(1e-14<n.mol?(t=.01<=n.mol?.001:1e-5,t=Math.min(t,n.mol),this.convertLiquidAndGas(t),i=0):n.setMol(0))),n=Math.max(nb.DEFAULT_TEMP,this.tubeTemp-i),this.medicineData.colorGradient<5&&(this.medicineData.colorGradient=5),this.tubeTemp=n),this.tubeTemp<108&&((i=this.medicineData.liquidAry.quickMap.get("S(熔融)"))&&0<i.mol&&(1e-14<i.mol?(n=Math.min(.001,i.mol),this.convertSolidAndLiquid(n)):i.setMol(0))))}},{key:"convertSolidAndLiquid",value:function(e){var t=this.SMedVo.deepClone().setMol(e);this.addSolidMed(t);e=this.SLiquidVo.deepClone().setMol(-e);this.addMedicine(e)}},{key:"convertLiquidAndGas",value:function(e){var t=this.SLiquidVo.deepClone().setMol(e);this.addMedicine(t);e=this.SGasVo.deepClone().setMol(-e);this.addMedicine(e)}},{key:"addSolidMed",value:function(e){var t=this.medicineNBGraphicMap.get(e.name);if(0<e.mol){var i=v.getBottom(this.liquidVertex||this.liquidVertexUp);(i=this.toLocal(i)).x=this.localBounds.x+this.localBounds.width/2,i.y=this.rotation>Math.abs(Math.PI/2)?i.y+10:i.y-10,Math.abs(Math.PI/2-Math.abs(this.rotation))<.02&&(i.x=this.localBounds.x+this.localBounds.width/2,i.y=this.localBounds.y+this.localBounds.height/2),this.addMedicine(e,i,null,!1)}else{var n,a=e.mol,r=f(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,s=void 0,l=(s=o.solidMedicineInfo?o.solidMedicineInfo.get(e.name):o.solidAry[e.name])?s.mol:0;if(0<l){var h=-a<l?a:-l;if(o.addMedicine(e.deepClone(h)),o.updateMedSize&&o.updateMedSize(),0<=(a-=h))break}}}catch(e){r.e(e)}finally{r.f()}}}},{key:"getLiquidColor",value:function(){var e,t,i,n;return n=170<this.tubeTemp?(t=238,i=99):140<this.tubeTemp?(e=(this.tubeTemp-140)/30,t=238,i=121+Math.round(-22*e),66+Math.round(33*e)):113<this.tubeTemp?(n=(this.tubeTemp-113)/27,t=240+Math.round(-2*n),i=234+Math.round(-113*n),148+Math.round(-82*n)):(t=240,i=234,148),{color:(t<<16)+(i<<8)+n,alpha:1}}},{key:"update",value:function(e){(0,o.default)((0,p.default)(VacuumGlassTube.prototype),"update",this).call(this,e),this.autoTempLoss(e),this.updatePESolidify(),this.updateTempTxt()}},{key:"updateTempTxt",value:function(){this.eqLastRotation!==this.rotation&&(this.eqLastRotation=this.rotation,this.tempCon.rotation=-this.rotation),this.tubeLastTemp!==this.tubeTemp&&this.tempCount++,5<this.tempCount&&(this.tempCount=0,this.tubeLastTemp=this.tubeTemp,this.tempTxt.text=this.tubeTemp.toFixed(1)+" ℃")}},{key:"updatePESolidify",value:function(){var e=this.medicineData.liquidAry,t=e.quickMap.get("S(熔融)"),i=e.quickMap.get("S(凝固)");if(t||i){var n,a=this.solidifyLiquidGra,r=this.solidifyBody,o=this.solidifyStopGraphic;if(i&&0<i.getMol()&&(this.tubeTemp<179||221<this.tubeTemp)){for(var s,l=a.length-1;0<=l;l--)a[l].clear(),i.isSolidify=0,i.solidType=null,a.splice(l,1);t&&0<t.mol?(t.setMol(t.getMol()+i.getMol()),i.setMol(0)):(s=e.indexOf(i),e.splice(s,1),i.name="S(熔融)",t=i,e.push(t));for(var h=r.length-1;0<=h;h--)r[h].set_space(null),r.splice(h,1),o[h].forEach(function(e){e.dynamicNBGraphics()}),o.splice(h,1);if(this.calculateSolidifyLiquid(this.medicineData.getSolidifyCapacity(),!1,"S(凝固)"),0===this.medicineData.getSolidifyCapacity()){for(var c=0;c<a.length;c++)a[c].clear(),0;a.length=0}}t&&1e-7<t.getMol()&&180<this.tubeTemp&&this.tubeTemp<220&&(n=t.getVol(),i?(i.setMol(i.getMol()+t.getMol()),t.setMol(0),i.isSolidify+=n):(s=e.indexOf(t),e.splice(s,1),t.name="S(凝固)",(i=t).isSolidify=n,e.push(i)),i.solidType="solidifyS",this.calculateSolidifyLiquid(n,!0,"S(凝固)","solidifyS"))}}},{key:"getConfigureData",value:function(){return{confArr:[]}}}]),VacuumGlassTube}();e.exports=VacuumGlassTube},function(e,t,WaterBath){"use strict";var a=WaterBath(4),i=WaterBath(0),n=i(WaterBath(9)),r=i(WaterBath(1)),o=i(WaterBath(2)),s=i(WaterBath(7)),l=i(WaterBath(5)),h=i(WaterBath(6)),c=i(WaterBath(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=WaterBath(8),p=WaterBath(16),f=WaterBath(21),I=WaterBath(29).getLan,WaterBath=function(){(0,l.default)(WaterBath,d);var t=u(WaterBath);function WaterBath(){var e;return(0,r.default)(this,WaterBath),(e=t.call(this)).name="WaterBath",e.CNName="电热套",e.MAXTEMP=199,e.MINTEMP=10,e.z_index=5.08,e}return(0,o.default)(WaterBath,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(WaterBath.prototype),"creationComplete",this).call(this),this.initText(),this._openPowerSwitch=!1,this._waterTemp=nb.DEFAULT_TEMP,this._increaseType=0,this.btnListeners(),this.waterTemp=this._waterTemp,this.on("dragObjComplete",this.addTargetContainer)}},{key:"initText",value:function(){this.txtPower.text=I("eq_power"),this.txtHeat.text=I("eq_heat"),this.txtKeep.text=I("eq_keep"),this.txtPower.anchor.set(.5,0)}},{key:"openPowerSwitch",get:function(){return this._openPowerSwitch},set:function(e){var t;this.openPowerSwitch!==e&&(t=0,e?t=1:(this.constantLight.alpha=t,this.hotLight.alpha=t,this.increaseType=0),this.powerSwitch.currentFrame=t,this.powerLight.alpha=t,this.centigrade.alpha=t,this.numHun.alpha=t,this.numTen.alpha=t,this.numOne.alpha=t,this._openPowerSwitch=e)}},{key:"waterTemp",get:function(){return this._waterTemp},set:function(e){e=(e=e>this.MAXTEMP?this.MAXTEMP:e)<this.MINTEMP?this.MINTEMP:e,this._waterTemp=e;var t=Math.floor(e/100),i=Math.floor((e-100*t)/10),e=e%10;this.numHun.currentFrame=t,this.numTen.currentFrame=i,this.numOne.currentFrame=e}},{key:"increaseType",get:function(){return this._increaseType},set:function(e){if(e!==this.increaseType){switch(e){case 0:this.hotLight.alpha=0,this.constantLight.alpha=0;break;case 1:this.hotLight.alpha=1,this.constantLight.alpha=0;break;case 2:this.hotLight.alpha=0,this.constantLight.alpha=1}this._increaseType=e}}},{key:"btnListeners",value:function(){var e=this,t=this,i=this.root.mouseManager;function n(e,t){i.changeMouseStatus(p.status.PAN,e,t)}this.powerSwitch.interactive=this.raiseBtn.interactive=this.reduceBtn.interactive=!0,this.powerSwitch.on(MouseEvent.MOUSE_OVER,function(){n(!0,e)}),this.powerSwitch.on(MouseEvent.MOUSE_OUT,function(){n(!1,e)}),this.raiseBtn.on(MouseEvent.MOUSE_OVER,function(){n(!0,e)}),this.raiseBtn.on(MouseEvent.MOUSE_OUT,function(){n(!1,e)}),this.reduceBtn.on(MouseEvent.MOUSE_OVER,function(){n(!0,e)}),this.reduceBtn.on(MouseEvent.MOUSE_OUT,function(){n(!1,e)}),NBGesture.addGesture(this.powerSwitch,NBGesture.gesture.TAP,function(){t.openPowerSwitch=!t.openPowerSwitch}),NBGesture.addGesture(this.raiseBtn,NBGesture.gesture.TAP,function(){e.openPowerSwitch&&(e.waterTemp+=5)}),NBGesture.addGesture(this.reduceBtn,NBGesture.gesture.TAP,function(){e.openPowerSwitch&&(e.waterTemp-=5)})}},{key:"addTargetContainer",value:function(e){var t=this,e=e.dragObj;(this.currentContainer=e).once(NBDrag.event.PREPARE_DRAG,e.eqAddToViewStack),e.once(NBDrag.event.PREPARE_DRAG,function(){t.currentContainer=null,t.increaseType=0})}},{key:"increaseHeatContainer",value:function(e){var t,i,n,a;this.openPowerSwitch&&this.currentContainer&&(n=(t=this.currentContainer).medicineData.getLiquidAverageTemp(),a=t.medicineData.getGasAverageTemp(),0<t.medicineData.liquidAry.length&&(n=e*(i=this.waterTemp-n)*10,0<i?(this.increaseType=1,t.medicineData.increaseHeat(30+n,this.waterTemp)):(this.increaseType=2,t.medicineData.increaseHeat(n-30,this.waterTemp))),a=this.waterTemp-a,t.medicineData.increaseGasHeat(e*a*10,this.waterTemp))}},{key:"getConfigureData",value:function(){var i=this,n={confArr:[]},a=this;return this.openPowerSwitch&&n.confArr.push(f.getScrollBar("温度",!0,"℃",this.MAXTEMP,this.MINTEMP,this.waterTemp,1,function(e){return i.openPowerSwitch?void(e._showValue&&(t=e._showValue,t=.1*Math.round(t/.1),a.waterTemp=t,e._showValue=t)):n;var t})),n}},{key:"update",value:function(e){(0,s.default)((0,c.default)(WaterBath.prototype),"update",this).call(this,e),this.increaseHeatContainer(e)}},{key:"toJSON",value:function(){return(0,n.default)((0,s.default)((0,c.default)(WaterBath.prototype),"toJSON",this).call(this),{openPowerSwitch:this.openPowerSwitch,waterTemp:this.waterTemp,increaseType:this.increaseType,currentContainer:this.currentContainer?this.currentContainer.getUUID():null})}},{key:"setJSON",value:function(e){var t=this;(0,s.default)((0,c.default)(WaterBath.prototype),"setJSON",this).call(this,e),this.openPowerSwitch=e.openPowerSwitch,this.waterTemp=e.waterTemp,this.increaseType=e.increaseType,e.currentContainer&&this.getEquipmentByUUID(e.currentContainer).then(function(e){t.addTargetContainer({dragObj:e})})}}]),WaterBath}();e.exports=WaterBath},function(e,t,WaterBathWithIronPillar){"use strict";var a=WaterBathWithIronPillar(4),i=WaterBathWithIronPillar(0),n=i(WaterBathWithIronPillar(9)),r=i(WaterBathWithIronPillar(130)),o=i(WaterBathWithIronPillar(1)),s=i(WaterBathWithIronPillar(2)),l=i(WaterBathWithIronPillar(7)),h=i(WaterBathWithIronPillar(5)),c=i(WaterBathWithIronPillar(6)),u=i(WaterBathWithIronPillar(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=WaterBathWithIronPillar(16),f=WaterBathWithIronPillar(10),I=WaterBathWithIronPillar(21),g=WaterBathWithIronPillar(29).getLan,WaterBathWithIronPillar=function(){(0,h.default)(WaterBathWithIronPillar,f);var t=d(WaterBathWithIronPillar);function WaterBathWithIronPillar(){var e;return(0,o.default)(this,WaterBathWithIronPillar),(e=t.call(this)).name="WaterBathWithIronPillar",e.CNName="水浴锅",e.MAXTEMP=99,e.MINTEMP=25,e.z_index=5.09,e}return(0,s.default)(WaterBathWithIronPillar,[{key:"creationComplete",value:function(){this.solidMedDownOffset={x:0,y:420},this.specialContainerHitArea={x:114.5,y:-189,width:358,height:152},this.dragArea.allowGetBounds=!1;var e=this.waterGasParticle=ParticleUtil.getParticle(ParticleUtil.particles.bottle_gas);this.addChild(e),(0,l.default)((0,u.default)(WaterBathWithIronPillar.prototype),"creationComplete",this).call(this),this.initText(),this._openPowerSwitch=!1,this._waterTemp=nb.DEFAULT_TEMP,this._increaseType=0,this.preventCalEffect=!0,this.hasCovered=!0,this.btnListeners(),this.waterTemp=this._waterTemp;e=this.root.medicineManager.getMedicineData("H2O"),e=new LiquidVO(e,52);this.medicineData.push(e)}},{key:"initText",value:function(){this.txtPower.text=g("eq_power"),this.txtHeat.text=g("eq_heat"),this.txtKeep.text=g("eq_keep"),this.txtPower.anchor.set(.5,0)}},{key:"openPowerSwitch",get:function(){return this._openPowerSwitch},set:function(e){var t;this.openPowerSwitch!==e&&(t=0,e?t=1:(this.constantLight.alpha=t,this.hotLight.alpha=t,this.increaseType=0),this.powerSwitch.currentFrame=t,this.powerLight.alpha=t,this.centigrade.alpha=t,this.numHun.alpha=t,this.numTen.alpha=t,this.numOne.alpha=t,this._openPowerSwitch=e)}},{key:"waterTemp",get:function(){return this._waterTemp},set:function(e){e=(e=e>this.MAXTEMP?this.MAXTEMP:e)<this.MINTEMP?this.MINTEMP:e,this._waterTemp=e;var t=Math.floor(e/100),i=Math.floor((e-100*t)/10),e=e%10;this.numHun.currentFrame=t,this.numTen.currentFrame=i,this.numOne.currentFrame=e}},{key:"increaseType",get:function(){return this._increaseType},set:function(e){if(e!==this.increaseType){switch(e){case 0:this.hotLight.alpha=0,this.constantLight.alpha=0;break;case 1:this.hotLight.alpha=1,this.constantLight.alpha=0;break;case 2:this.hotLight.alpha=0,this.constantLight.alpha=1}this._increaseType=e}}},{key:"btnListeners",value:function(){var e=this,t=this,i=this.root.mouseManager;function n(e,t){i.changeMouseStatus(p.status.PAN,e,t)}this.powerSwitch.interactive=this.raiseBtn.interactive=this.reduceBtn.interactive=!0,this.powerSwitch.on(MouseEvent.MOUSE_OVER,function(){n(!0,e)}),this.powerSwitch.on(MouseEvent.MOUSE_OUT,function(){n(!1,e)}),this.raiseBtn.on(MouseEvent.MOUSE_OVER,function(){n(!0,e)}),this.raiseBtn.on(MouseEvent.MOUSE_OUT,function(){n(!1,e)}),this.reduceBtn.on(MouseEvent.MOUSE_OVER,function(){n(!0,e)}),this.reduceBtn.on(MouseEvent.MOUSE_OUT,function(){n(!1,e)}),NBGesture.addGesture(this.powerSwitch,NBGesture.gesture.TAP,function(){t.openPowerSwitch=!t.openPowerSwitch}),NBGesture.addGesture(this.raiseBtn,NBGesture.gesture.TAP,function(){e.openPowerSwitch&&(e.waterTemp+=5)}),NBGesture.addGesture(this.reduceBtn,NBGesture.gesture.TAP,function(){e.openPowerSwitch&&(e.waterTemp-=5)})}},{key:"increaseHeatContainer",value:function(e,t){var i,n,a;this.openPowerSwitch&&t&&(n=t.medicineData.getLiquidAverageTemp(),a=t.medicineData.getGasAverageTemp(),0<t.medicineData.liquidAry.length&&(n=e*(i=this.waterTemp-n)*10,0<i?(this.increaseType=1,t.medicineData.increaseHeat(30+n,this.waterTemp)):(this.increaseType=2,t.medicineData.increaseHeat(n-30,this.waterTemp))),a=this.waterTemp-a,t.medicineData.increaseGasHeat(e*a*10,this.waterTemp))}},{key:"getConfigureData",value:function(){var i=this,n={confArr:[]},a=this;return this.openPowerSwitch&&n.confArr.push(I.getScrollBar("水浴温度",!0,"℃",this.MAXTEMP,this.MINTEMP,this.waterTemp,1,function(e){return i.openPowerSwitch?void(e._showValue&&(t=e._showValue,t=.1*Math.round(t/.1),a.waterTemp=t,e._showValue=t)):n;var t})),n}},{key:"showWaterGas",value:function(){var e=this.waterGasParticle;this.waterTemp<95||!this.openPowerSwitch?e.particle&&!0===e.particle.emit&&e.setParticleProp("emit",!1):e.particle&&!1===e.particle.emit&&e.setParticleProp("emit",!0)}},{key:"update",value:function(e){var t;if((0,l.default)((0,u.default)(WaterBathWithIronPillar.prototype),"update",this).call(this,e),!this.settedParticle&&this.waterGasParticle&&this.waterGasParticle.loaded&&(this.settedParticle=!0,(t=this.waterGasParticle).setParticleProp("startColor",[255,255,255]),t.setParticleProp("endColor",[255,255,255]),t.alpha=.1,t.x=200,t.y=-100,t.particle.spawnRect.width=220,t.particle.frequency=.04,t.particle.maxLifetime=1,t.particle.minLifetime=.5),this.showWaterGas(),this.waterGasParticle.render(),this.openPowerSwitch&&this.longIronClampSideLook&&this.longIronClampSideLook.clampEquipments)for(var i=0;i<this.longIronClampSideLook.clampEquipments.length;i++)this.longIronClampSideLook.clampEquipments[i].hitTest(this.waterHitArea)&&this.increaseHeatContainer(e,this.longIronClampSideLook.clampEquipments[i])}},{key:"toJSON",value:function(){return(0,n.default)((0,l.default)((0,u.default)(WaterBathWithIronPillar.prototype),"toJSON",this).call(this),{openPowerSwitch:this.openPowerSwitch,waterTemp:this.waterTemp,increaseType:this.increaseType,currentContainer:this.currentContainer?this.currentContainer.getUUID():null,longIronClampSideLook:this.longIronClampSideLook?this.longIronClampSideLook.getUUID():null})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(WaterBathWithIronPillar.prototype),"setJSON",this).call(this,e),this.openPowerSwitch=e.openPowerSwitch,this.waterTemp=e.waterTemp,this.increaseType=e.increaseType,r.default.all([this.getEquipmentByUUID(e.longIronClampSideLook)]).then(function(e){t.longIronClampSideLook=e[0]})}}]),WaterBathWithIronPillar}();e.exports=WaterBathWithIronPillar},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(19)),l=n(i(7)),h=n(i(5)),c=n(i(6)),u=n(i(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=i(8),i=function(){(0,h.default)(a,p);var t=d(a);function a(){var e;return(0,r.default)(this,a),(e=t.call(this)).once("added",function(){e.parent.removeChild((0,s.default)(e))}),e}return(0,o.default)(a,[{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(a.prototype),"creationComplete",this).call(this);var t=this.execute(NBCommand.CREATE_EQUIPMENT,"LongIronClampSideLook"),i=this.execute(NBCommand.CREATE_EQUIPMENT,"WaterBathWithIronPillar");this.clamp=t,this.waterBash=i,e.executeEq=[t,i],this.cannotSystemDrag=!0;var n=this.root.viewStack;i.on("creationComplete",function(){i.isCreationComplete&&(n.addChild(i),i.x=e.x,i.y=e.y,t.x=i.topPos.x,t.y=i.topPos.y+100,i.setChildIndex(i.ironClamp,0),i.setChildIndex(i.waterBathBack,1),i.addChildAt(t,2),i.longIronClampSideLook=t,NBDrag.addDrag(i,null,{bringToFront:!0}),NBDrag.addDrag(t,null))})}}]),a}();e.exports=i},function(e,t,WeighingPaper){"use strict";var a=WeighingPaper(4),i=WeighingPaper(0),n=i(WeighingPaper(25)),r=i(WeighingPaper(1)),o=i(WeighingPaper(2)),s=i(WeighingPaper(7)),l=i(WeighingPaper(5)),h=i(WeighingPaper(6)),c=i(WeighingPaper(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=WeighingPaper(10),p=WeighingPaper(11),f=PIXI.Point,WeighingPaper=function(){(0,l.default)(WeighingPaper,d);var t=u(WeighingPaper);function WeighingPaper(){var e;return(0,r.default)(this,WeighingPaper),(e=t.call(this)).name="WeighingPaper",e.CNName="称量纸",e.z_index=13.03,e.medContainerIndex="top",e.pU=new f(150,0),e.pM=new f(150,15),e.addSolidMedPos=new f(150,15),e}return(0,o.default)(WeighingPaper,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(WeighingPaper.prototype),"creationComplete",this).call(this),this.napeObj.mass=1,this.half.alpha=.8,this.addChildAt(this.half,this.children.length-1),this.half.visible=!1,this.initBlack(),this.on(NBEvent.del.PREPARE_DELETE,this.clear),this.on(NBEvent.del.DELETE,this.clear)}},{key:"onBalance",get:function(){return this._onBalance},set:function(e){this._onBalance=e,this.parent&&(this.balanceObj?this.parent.addChild(this):this.parent.addChildAt(this,0)),null!=e&&(this.bg.gotoAndStop(Number(e)),this.half.visible=!1,this.stopShowBorder=e)}},{key:"update",value:function(e){var t,i,n;(0,s.default)((0,c.default)(WeighingPaper.prototype),"update",this).call(this,e),this.isBurning?(this.burnCount||(this.burnCount=0),200<this.burnCount?this.commandDelete():(this.paperFire&&this.paperFire.loaded&&(t=this.paperFire,this.setedParticle||(i=this.localBounds,t.particle.spawnRect.width=i.width+20,t.particle.spawnRect.x=i.x,this.setedParticle=!0,0===this.bg.currentFrame?(t.particle.spawnRect.y=i.y+i.height-10,t.setParticleProp("startSpeed",500),t.setParticleProp("maxParticles",45)):(t.setParticleProp("maxParticles",35),t.particle.spawnRect.y=i.y+i.height-20)),this.burnCount<=30&&this.burnCount%3==0&&(n=this.burnCount/30,this.colorFilter(n)),170<=this.burnCount&&(n=(200-this.burnCount)/30,this.paperFire.setParticleProp("maxParticles",20*n+5),this.alpha=n)),this.paperFire.updateTransform(),this.newRadiantHeat(p.WOOD_HEAT_VALUE,this.paperFire.getBounds().clone(),e,p.TEMP_MATCH),this.paperFire.render(e),this.burnCount++)):this.hitTestGlassBar()}},{key:"setContentMass",value:function(){var e,t=this.medicineData.solidAry,i=0;for(e in t)i+=t[e].mol*t[e].mm;this.napeObj.mass=1+i}},{key:"changePic",value:function(){this.half.visible=!0,this.bg.gotoAndStop(2)}},{key:"resetPic",value:function(){this.onBalance||(this.half.visible=!1,this.bg.gotoAndStop(0))}},{key:"lightOn",value:function(e,t){if(!this.isBurning)if(this.parent===this.getEqLayer()){if(t){var i=Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2),t=this.getViewStack().scale.x;if(3e4*t*t<i)return}i=this.medicineData.liquidAry.quickMap.get("Na2SiO3");i&&0<i.mol||(this.isBurning=!0,this.isCoverGS=!0,this.vRotateSprite&&this.vRotateSprite.setEnabled(!1),NBDrag.removeDrag(this),this.root.particleManager.initPaperFire.call(this))}}},{key:"getLightOnPoint",value:function(){this.updateTransform();var e=[],t=this.localBounds,t=this.toGlobal({x:t.x+t.width/2,y:t.x+t.height});return e.push({x:t.x,y:t.y}),e}},{key:"clear",value:function(){this.paperFire&&(this.paperFire.destroy(),this.paperFire=null)}},{key:"colorFilter",value:function(e){var t=Math.round(255-255*e).toString(16),i=(0,n.default)("0x"+t+t+t),e=this.half.halfGrey.children[0],t=e.currentPath.shape;e.clear(),e.beginFill(i),e.drawPolygon(t);e=this.bg["bgGrey"+this.bg.currentFrame].children[0],t=e.currentPath.shape;e.clear(),e.beginFill(i),e.drawPolygon(t)}},{key:"initBlack",value:function(){var e=new PIXI.Container,t=this.maskGra=new PIXI.Graphics;e.alpha=.8,e.addChild(t),this.addChild(e),e.mask=this.black.getChildAt(0),this.maskGra.beginFill(0,1),this.maskGra.lineStyle(14,0,1)}},{key:"hitTestGlassBar",value:function(){if(0===this.bg.currentFrame){for(var e=this,t=this.getSortDisHitObjects(),i=0;i<t.length;i++){var n=t[i].objB;if("GlassBar"===n.name&&n.hitHead.hitTest(e.bg)&&n.hasH2SO4()&&e.parent===e.getEqLayer()){var a=n.parent!==e.getEqLayer()?n.parent:n;if(a.parent===e.parent)if(!(e.parent.getChildIndex(a)<e.parent.getChildIndex(e))){a=e.toLocal(n.hitHead.toGlobal({x:0,y:0}));return e.savePoint&&(e.maskGra.moveTo(e.savePoint.x,e.savePoint.y),e.maskGra.lineTo(a.x+n.hitHead.width/2,a.y+n.hitHead.height)),e.savePoint={x:a.x+n.hitHead.width/2,y:a.y+n.hitHead.height},n.medicineVolatilize(50),this.pourOut=void 0,this.hasCovered=!0,void(this.isDamaged=!0)}}}e.savePoint=null}}}]),WeighingPaper}();e.exports=WeighingPaper},function(e,t,r){"use strict";var a=r(4),WeightBox=r(0),n=WeightBox(r(1)),o=WeightBox(r(2)),s=WeightBox(r(7)),l=WeightBox(r(5)),h=WeightBox(r(6)),c=WeightBox(r(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=r(8),p=r(123),f=r(50),I=r(268),g=r(53),m=nape.shape.Polygon,WeightBox=function(){(0,l.default)(WeightBox,d);var i=u(WeightBox);function WeightBox(e){var t;return(0,n.default)(this,WeightBox),(t=i.call(this)).canRotate=!1,t.var_wjArr=[],t.name="WeightBox",t.CNName="砝码",t.dataBuild=!1,t.z_index=15.09,e&&(t.dataBuild=e.dataBuild),t}return(0,o.default)(WeightBox,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(WeightBox.prototype),"creationComplete",this).call(this),this.init()}},{key:"init",value:function(){var e=this.selectRenderChild(),t=new m(m.rect(e.x+20,e.y+e.height-20,1,-(e.height-20))),i=new m(m.rect(e.x+20,e.y+e.height-20,e.width-35,1)),e=new m(m.rect(e.x+e.width-15,e.y+e.height-20,1,-(e.height-20)));this.body=new f(p.KINEMATIC),this.body.mass=300,this.body.add(t),this.body.add(i),this.body.add(e),this.body.noallowRotation=!0,this.body.posx=this.x+this.bg.x,this.body.posy=this.y+this.bg.y,this.body.userData.view=this.bg,this.func_addBodyToSpace(this.body,this),this.bg.napeObj=this.body;var n=this;this.bg.getViewStack=function(){return n.getViewStack()},this.dataBuild||this.func_initWeight(),this.nie.visible=!1,this.nie.alpha=1,this.bg.selectTarget=this.parent,this.setFilter(this.body),this.body.align()}},{key:"checkCollision",value:function(){(0,s.default)((0,c.default)(WeightBox.prototype),"checkCollision",this).call(this)}},{key:"func_addBodyToSpace",value:function(e,t,i){t&&(e.userData.coordinateField=t),i&&e.userData.view&&(e.userData.bindupdate={func:e.userData.view.update,field:e.userData.view}),e.set_space(this.root.nape.space)}},{key:"func_initWeight",value:function(){var o=this;this.boxs=[],this.var_box5=e(this,this.b5,5),this.func_addBodyToSpace(this.var_box5,this),this.var_box10=e(this,this.b10,10),this.func_addBodyToSpace(this.var_box10,this),this.var_box20_1=e(this,this.b20_1,20),this.func_addBodyToSpace(this.var_box20_1,this),this.var_box20_2=e(this,this.b20_2,20),this.func_addBodyToSpace(this.var_box20_2,this),this.var_box50=e(this,this.b50,50),this.func_addBodyToSpace(this.var_box50,this),this.var_box100=e(this,this.b100,100),this.func_addBodyToSpace(this.var_box100,this),this.var_box200=e(this,this.b200,200),this.func_addBodyToSpace(this.var_box200,this);var s=this.nie;function e(t,i,e){var n=i.getLocalBounds();n.x+=i.x+o.x,n.y+=i.y+o.y;var a=new m(m.box(n.width-5,n.height)),r=new f;return r.noallowRotation=!0,r.add(a),r.posx=n.x+28,r.posy=n.y,r.mass=e,r.userData.view=i,r.userData.classType="weight",i.napeBody=r,o.setFilter(i.napeBody),NBDrag.addDrag(i),i.on(NBDrag.event.START_DRAG,function(){t.dragedVie=i,s.visible=!0,s.x=i.x,s.y=i.y-n.height/2,r.sensorEnabled(!0),o.setFilter(o.body);for(var e=0;e<o.boxs.length;e++)o.setFilter(o.boxs[e])}),i.on(NBDrag.event.STOP_DRAG,function(){t.dragedVie=null,s.visible=!1,r.sensorEnabled(!1)}),i.destroy=function(){r.isRemove=!0},i.allowGetBounds=!1,o.boxs.push(r),r.z_index=25.03,r}}},{key:"eqPrepareDrag",value:function(){(0,s.default)((0,c.default)(WeightBox.prototype),"eqPrepareDrag",this).call(this);var e=this.body.arbiters,i=this;e.foreach(function(e){var t=e.zpp_inner.b1.outer,e=e.zpp_inner.b2.outer;t!=i.body&&e!=i.body||((t=t==i.body?e:t).posy>i.body.posy||t.userData.classType&&"weight"==t.userData.classType&&(t=I.createWeldJoint(t,i.body,t.position,t.position,i.root.nape.space),i.var_wjArr.push(t)))}),this.body.setShapeFilters(new nape.dynamics.InteractionFilter)}},{key:"getWeightIsOnBalance",value:function(e){for(var t=this.root.viewStack.eqLayer.children,i=[],n=0,a=t.length;n<a;n++){var r=t[n];"Balance"===r.name&&(i=(i=g.getAllCollisionBodys(r,!1)).concat(g.getAllCollisionBodys(r.var_rightBody,!1)))}for(var o=0,s=i.length;o<s;o++)if(e===i[o])return!0;return!1}},{key:"eqStopDrag",value:function(){(0,s.default)((0,c.default)(WeightBox.prototype),"eqStopDrag",this).call(this);for(var e=0,e=0;e<this.var_wjArr.length;e++){var t=this.var_wjArr[e];t.body1=null,t.body2=null,this.root.nape.space.constraints.remove(t)}this.setFilter(this.body);for(var i=0;i<this.boxs.length;i++)this.setFilter(this.boxs[i])}},{key:"setFilter",value:function(e){for(var Balance=r(267),t=this.root.viewStack.eqLayer.children,i=0,n=t.length;i<n;i++){var a=t[i];a instanceof Balance&&a.setThisShapeFilter(e)}}},{key:"selectRenderChild",value:function(){var e=this.bg.getLocalBounds();return e.x+=this.x+this.bg.x,e.y+=this.y+this.bg.y,e}},{key:"eqPrepareDelete",value:function(){(0,s.default)((0,c.default)(WeightBox.prototype),"eqPrepareDelete",this).call(this);try{this.removeBody(this.var_box5),this.removeBody(this.var_box10),this.removeBody(this.var_box20_1),this.removeBody(this.var_box20_2),this.removeBody(this.var_box50),this.removeBody(this.var_box100),this.removeBody(this.var_box200),this.removeBody(this.body)}catch(e){}}},{key:"removeBody",value:function(e){e&&!e.isRemove&&g.destoryBody(e)}},{key:"update",value:function(){(0,s.default)((0,c.default)(WeightBox.prototype),"update",this).call(this),this.root.nape.renderCount=1,this.dragedVie&&(this.nie.x=this.dragedVie.x,this.nie.y=this.dragedVie.y-(this.dragedVie._bounds.maxY-this.dragedVie._bounds.minY)/4)}}]),WeightBox}();e.exports=WeightBox},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(8);e.exports=function(){(0,l.default)(WoodBlock,d);var t=u(WoodBlock);function WoodBlock(){var e;return(0,r.default)(this,WoodBlock),(e=t.call(this)).name="WoodBlock",e.CNName="木块",e.z_index=7.01,e}return(0,o.default)(WoodBlock,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(WoodBlock.prototype),"creationComplete",this).call(this),this.on(NBDrag.event.PREPARE_DRAG,this.eqAddToViewStack)}}]),WoodBlock}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(8);e.exports=function(){(0,s.default)(WoodenCover,u);var t=c(WoodenCover);function WoodenCover(){var e;return(0,o.default)(this,WoodenCover),(e=t.call(this)).name="WoodenCover",e.CNName="木盖",e}return(0,r.default)(WoodenCover)}()},function(e,t,YGlassCatheter){"use strict";var a=YGlassCatheter(4),i=YGlassCatheter(0),n=i(YGlassCatheter(69)),r=i(YGlassCatheter(9)),o=i(YGlassCatheter(1)),s=i(YGlassCatheter(2)),l=i(YGlassCatheter(7)),h=i(YGlassCatheter(5)),c=i(YGlassCatheter(6)),u=i(YGlassCatheter(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=YGlassCatheter(52),f=YGlassCatheter(26),I=YGlassCatheter(85),YGlassCatheter=function(){(0,h.default)(YGlassCatheter,I);var e=d(YGlassCatheter);function YGlassCatheter(){var t;return(0,o.default)(this,YGlassCatheter),(t=e.call(this)).CNName="Y形玻璃导管",t.name="YGlassCatheter",t.maxOpenMouth=3,t.isGlassCatheter=!0,t.allowRubberCatheter=!0,t.addedRubberArray=[null,null],t.addedRubberCount=0,t.rubberPos=null,t.z_index=19.18,t._rubberPos=[{x:80,y:-140,rotation:-Math.PI/3},{x:-80,y:-140,rotation:4*Math.PI/3}],(0,n.default)(t.addedRubberArray,{allow:{get:function(){return null==t.addedRubberArray[0]||null==t.addedRubberArray[1]}},addTarget:{set:function(e){p.distance(e.toGlobal({x:0,y:0}),t.toGlobal(t._rubberPos[0]))<p.distance(e.toGlobal({x:0,y:0}),t.toGlobal(t._rubberPos[1]))?null===t.addedRubberArray[0]?(t.rubberPos=t._rubberPos[0],t.addedRubberArray[0]=e):(t.rubberPos=t._rubberPos[1],t.addedRubberArray[1]=e):null===t.addedRubberArray[1]?(t.rubberPos=t._rubberPos[1],t.addedRubberArray[1]=e):(t.rubberPos=t._rubberPos[0],t.addedRubberArray[0]=e),t.addedRubberCount++}}}),t}return(0,s.default)(YGlassCatheter,[{key:"removeAddedRubber",value:function(e){e=this.addedRubberArray.indexOf(e);0<=e&&(this.addedRubberArray.splice(e,1,null),this.addedRubberCount--)}},{key:"isUnderLiquid",get:function(){return this.addedBottle&&this.addedBottle.liquidVertex&&this.dripArea&&f.containsPoint(this.addedBottle.liquidVertex,this.dripArea.toGlobal({x:0,y:0}))?this.toGlobal(this.ropePoint[1]).y-this.addedBottle.liquidVertex[0].y:0}},{key:"creationComplete",value:function(){var e=this;(0,l.default)((0,u.default)(YGlassCatheter.prototype),"creationComplete",this).call(this),this.addedBottle=null,this.ropePoint=[{x:0,y:76},{x:0,y:126}],this.lineFix={true:0,false:0};var t=new PIXI.Rope(PIXI.Texture.fromFrame("YGlassCatheter/Bitmap 3"),this.ropePoint);setTimeout(function(){e.addChild(t),e.removeChild(e.texture)},200),this.rubberPos={x:this.width,y:12},this.fireParticlePos=[{x:70,y:-125,rotation:-Math.PI/3,particle:null,waterParticle:null,bindAttr:"addedRubberArray",secondAttr:"0"},{x:-70,y:-125,rotation:4*Math.PI/3,particle:null,waterParticle:null,bindAttr:"addedRubberArray",secondAttr:"1"},{x:0,y:this.ropePoint[1].y,rotation:Math.PI/2,particle:null,waterParticle:null,bindAttr:"addedBottle"}],this.pointAry=[this.ropePoint[1],this.ropePoint[1]],this.initLines()}},{key:"update",value:function(e){this.fireParticlePos[2].y=this.ropePoint[1].y,(0,l.default)((0,u.default)(YGlassCatheter.prototype),"update",this).call(this,e),this.fireParticlePos[1].y=this.fireParticlePos[0].y}},{key:"toJSON",value:function(){return(0,r.default)((0,l.default)((0,u.default)(YGlassCatheter.prototype),"toJSON",this).call(this),{addedBottle:this.addedBottle?this.addedBottle.getUUID():void 0,ropePointY:this.ropePoint[1].y,originPos:this.originPos})}},{key:"setJSON",value:function(e){var t=this;(0,l.default)((0,u.default)(YGlassCatheter.prototype),"setJSON",this).call(this,e),e.addedBottle&&this.getEquipmentByUUID(e.addedBottle).then(function(e){t.addedBottle=e,t.addedBottle.addChild(t)}),this.ropePoint[1].y=e.ropePointY,this.originPos=e.originPos}}]),YGlassCatheter}();e.exports=YGlassCatheter},function(e,t,BlockAl){"use strict";var a=BlockAl(4),i=BlockAl(0),n=i(BlockAl(24)),r=i(BlockAl(1)),o=i(BlockAl(2)),s=i(BlockAl(7)),l=i(BlockAl(5)),h=i(BlockAl(6)),c=i(BlockAl(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BlockAl(41),p=BlockAl(22),f=BlockAl(10),I=BlockAl(18),g=BlockAl(20),BlockAl=function(){(0,l.default)(BlockAl,d);var t=u(BlockAl);function BlockAl(){var e;return(0,r.default)(this,BlockAl),(e=t.call(this)).impurityMol=.002,e}return(0,o.default)(BlockAl,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockAl.prototype),"creationComplete",this).call(this),this.setMedVo("Al",.1),this.name="Al",this.CNName="铝片",this.constName="BlockAl",this.INITMOL=.1,this.offsetWithAsbestos={minX:-260,maxX:-84,minY:43,maxY:151},this.rotationInAsbestosFreeWireGauze=.5*Math.PI,this.setImpurity(this.impurityMol)}},{key:"setImpurity",value:function(e){var t=this.medicineManager.getMedicineData("Al2O3"),e=new g(t,e);this.impurity=[e],this.solidMedicineInfo.set("Al2O3",e),this.medicineData.solidAry.Al2O3=e}},{key:"rustState",get:function(){return.001<this.rustPercent},set:function(e){e||(e=this.solidMedicineInfo.get("Al2O3"))&&e.setMol(0)}},{key:"rustPercent",get:function(){var e=this.impurity&&this.impurity[0],e=e&&e.getMol()/.1*50||0;return e=1<e?1:e<0?0:e}},{key:"getMedicineName",value:function(){return"Al_s"}},{key:"clear",value:function(){this.clearBubbleParticle(!0)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=.01||!this.parent)&&(this.clear(),this.destroy())}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,s.default)((0,c.default)(BlockAl.prototype),"getLocalBounds",this).call(this)}},{key:"getSolidMedicineInfo",value:function(){var e=this.impurity&&this.impurity[0],t=this.medVo,i=new n.default;return e&&0<e.getMol()?(this.rustPercent<.4&&i.set(t.name,t.deepClone(Math.min(this.INITMOL/this.rSpeed/8,t.getMol()))),i.set(e.name,e.deepClone(Math.min(this.INITMOL/this.rSpeed/8,e.getMol())))):i.set(t.name,t.deepClone(Math.min(this.INITMOL/this.rSpeed/4,t.getMol())))}},{key:"updateBubbleParticle",value:function(e){if(this.reactCount&&!(this.reactCount<=0)&&e&&2===e.type&&this.parent instanceof f&&"CrucibleTong"!==this.parent.name&&0<this.medVo.getMol()&&!(e.mol<1e-7))if(void 0===this.reactCount&&(this.reactCount=0),this.reactCount--,this.bubbleParticle)if(this.lastBubberContainer==this.parent){var t=this.bubbleParticle,i=t.particleLeft,n=t.particleRight,a=t.particleSelf,r=t.particleUp,o=t.particleFantan;i.loaded&&n.loaded&&a.loaded&&r.loaded&&o.loaded&&(l=(l=Math.ceil(1e6*e.mol/2))<2?2:15<l?15:l,a.particle.maxParticles=2*l,r.particle.maxParticles=3*l,o.particle.maxParticles=2*l,i.particle.maxParticles=l,n.particle.maxParticles=l,r.setParticleProp("endSpeed",700+30*l),nb.SMALLCONTAINER.includes(this.parent.name)?(i.setParticleProp("startScale",.5),n.setParticleProp("startScale",.5),i.setParticleProp("endScale",.2),n.setParticleProp("endScale",.2),i.setParticleProp("startSpeed",20),n.setParticleProp("startSpeed",20),i.setParticleProp("endSpeed",0),n.setParticleProp("endSpeed",0)):(i.setParticleProp("startScale",.3),n.setParticleProp("startScale",.3),i.setParticleProp("endScale",.2),n.setParticleProp("endScale",.2),i.setParticleProp("startSpeed",400),n.setParticleProp("startSpeed",400),i.setParticleProp("endSpeed",50),n.setParticleProp("endSpeed",50)));var s,r=this.parent.liquidVertex,l=this.parent.toGlobal(this.position).x,i=r[0].y,n=r[0].x,r=r[r.length-1].x,l=r<n?(l=n<l?n:l)<r?r:l:(l=r<l?r:l)<n?n:l,i=this.parent.toLocal({x:l,y:i});for(s in t.particleFantan.position=i,t.particleLeft.position=i,t.particleRight.position=i,t.particleUp.position=this.position,t.particleSelf.position=this.position,t.particleFantan.rotation=t.particleLeft.rotation=t.particleUp.rotation=t.particleRight.rotation=-I.retrieveRotation(this.parent.worldTransform),t){var h=t[s];h.alpha=1,h.render()}}else this.clearBubbleParticle(!0);else this.parent.addChildAt(this,0),this.initBubbleParticle(),this.lastBubberContainer=this.parent}},{key:"initBubbleParticle",value:function(){this.bubbleParticle=this.root.particleManager.initMgParticle.call(this.parent)}},{key:"addMedicine",value:function(e){(0,s.default)((0,c.default)(BlockAl.prototype),"addMedicine",this).call(this,e),this.rusty.alpha=this.rustPercent}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockAl.prototype),"update",this).call(this,e),p.genEffectFunc(this,e,2e-4),this.clearBubbleParticle(),this.autoClear(),this.updateBubbleParticle(this.calMedVo)}}]),BlockAl}();e.exports=BlockAl},function(e,t,BlockC){"use strict";var a=BlockC(4),i=BlockC(0),n=i(BlockC(1)),r=i(BlockC(2)),o=i(BlockC(7)),s=i(BlockC(5)),l=i(BlockC(6)),h=i(BlockC(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockC(41),d=BlockC(10),p=BlockC(26),f=BlockC(22),I=BlockC(34),g=BlockC(57),BlockC=function(){(0,s.default)(BlockC,u);var e=c(BlockC);function BlockC(){return(0,n.default)(this,BlockC),e.call(this)}return(0,r.default)(BlockC,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockC.prototype),"creationComplete",this).call(this),this.setMedVo("C",.1),this.name="C",this.constName="BlockC",this.isBurn=!1,this.INITMOL=.1,this.conf_chemical_equation=!1}},{key:"getMedicineName",value:function(){return"C"}},{key:"burnInContainerAir",value:function(){0<this.parent.currentCapacity||"inContainerAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(.5<this.getOxygenDensity()?this.burnInO2AirEffect():1e-4<this.getOxygenDensity()?(this.clear("fireParticle"),this.burnInAirEffect()):this.clear())}},{key:"burnInAir",value:function(){"inAir"===this.posStatus&&this.isBurn&&this.burnInAirEffect()}},{key:"burnInAirEffect",value:function(){this.redBurn(),this.burnUpdateTemp()}},{key:"burnInO2AirEffect",value:function(){this.redBurn(),this.burnUpdateTemp(),this.fireParticle?this.fireParticle.render(void 0,!1):this.fireParticle=this.getParticle()}},{key:"hitContainerWater",value:function(){var e;"inWater"===this.posStatus&&this.isBurn&&this.clear(),"CrucibleTong"===this.parent.name&&this.increaseParent(this.parent)instanceof d&&(e=this.toGlobal({x:-48,y:10}),p.containsPoint(this.increaseParent(this.parent).liquidVertex,e)&&(e=(0<this.increaseParent(this.parent).medicineData.liquidAry.length?this.increaseParent(this.parent).medicineData.liquidAry[0]:this).getTemp(),this.setTemp(e),this.clear()))}},{key:"redBurn",value:function(){this.isBurn&&!this.ifBurnAll&&(this.redPic.alpha+=.05*.167,1<=this.redPic.alpha&&(this.ifBurnAll=!0))}},{key:"getOxygenDensity",value:function(){if(this.increaseParent(this.parent)instanceof d){var e=this.toGlobal({x:-50,y:10});if(this.increaseParent(this.parent)&&!p.containsPoint(this.increaseParent(this.parent).liquidVertexUp,e))return.2;var t=0,i=0;return this.increaseParent(this.parent).medicineData.gasAry.forEach(function(e){"O2"==e.name&&(i+=e.mol),t+=e.mol}),i/t}return.2}},{key:"listenBurn",value:function(){this.isBurn||this.getTemp()>this.burningPoint&&(this.isBurn=!0)}},{key:"clear",value:function(e){0<this.redPic.alpha&&(!e||"rePic"===e)&&(TweenMax.killTweensOf(this.redPic),TweenMax.to(this.redPic,.3,{alpha:0}),this.isBurn=!1,this.ifBurnAll=!1,this.alcoholBurnerTempScale=.5,e)||!this.fireParticle||e&&"fireParticle"!==e||(g.destroy(this.fireParticle),this.fireParticle=null)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=.005||!this.parent)&&(this.clear(),this.medVo.getMol()<=0&&this.destroy()),this.getTemp()<this.burningPoint&&(this.isBurn=!1,this.clear())}},{key:"getParticle",value:function(){var e=I.getParticle(I.particles.carbon_fire);return e.position.set(-30,-10),this.addChild(e),e.bind(this),e}},{key:"hitBreak",value:function(){var e=this.parent,t=[this.medVo.deepClone()];t[0].realProportion=1,t[0].oneMol=.01;var i=this.position;i.y-=10,e.addMedicine(t,i,1),this.napeBody.destroy(),this.destroy()}},{key:"updateVoFileter",value:function(){var e=2-2*this.medVo.getMol()/this.INITMOL;this.blackPic.diffuseColor?(this.blackPic.diffuseColor.matrix[4]=e=1<e?.8:e,this.blackPic.diffuseColor.matrix[9]=e,this.blackPic.diffuseColor.matrix[14]=e):(this.colorFilter.call(this.blackPic,0,0),this.blackPic.diffuseColor.matrix[0]=1,this.blackPic.diffuseColor.matrix[6]=1,this.blackPic.diffuseColor.matrix[12]=1)}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockC.prototype),"update",this).call(this,e),this.listenBurn(),this.burnInAir(),this.burnInContainerAir(),this.hitContainerWater(),this.updateVoFileter(),f.genEffectFunc(this,e,5e-6),this.clearBubbleParticle(),this.burnInContainerAir(),this.autoClear()}}]),BlockC}();e.exports=BlockC},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(41),p=i(22),f=i(74);e.exports=function(){(0,l.default)(BlockC15H12O4,d);var t=u(BlockC15H12O4);function BlockC15H12O4(){var e;return(0,r.default)(this,BlockC15H12O4),(e=t.call(this)).allowGetBounds=!0,e}return(0,o.default)(BlockC15H12O4,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockC15H12O4.prototype),"creationComplete",this).call(this),this.setMedVo("C15H12O4",.1),this.name="C15H12O4",this.constName="BlockC15H12O4",this.INITMOL=.1,this.noChoice=!1,this.allowGetBounds=!0}},{key:"getMedicineName",value:function(){return"C15H12O4"}},{key:"hitBreak",value:function(){var e=this.parent,t=[this.medVo.deepClone()];t[0].realProportion=1,t[0].oneMol=.01;var i=this.position;i.y-=10,e.addMedicine(t,i,1),this.napeBody.destroy(),this.destroy()}},{key:"clear",value:function(){}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockC15H12O4.prototype),"update",this).call(this,e),p.genEffectFunc(this,e,1e-4),this.clearBubbleParticle()}},{key:"eqStopDrag",value:function(e){(0,s.default)((0,c.default)(BlockC15H12O4.prototype),"eqStopDrag",this).call(this,e);e=this.getHitEq();e&&(f.removeDrag(this),this.addToContainer(e),this.allowGetBounds=!1,this.hitWater=!0)}},{key:"getHitEq",value:function(){for(var e=this.getEquipments(),t=0;t<e.length;t++){var i=e[t];if("Mortar"===i.name&&this.hitTest(i))return i}return null}}]),BlockC15H12O4}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(41),p=i(22);e.exports=function(){(0,l.default)(BlockC16H14O4,d);var t=u(BlockC16H14O4);function BlockC16H14O4(){var e;return(0,r.default)(this,BlockC16H14O4),(e=t.call(this)).allowGetBounds=!0,e}return(0,o.default)(BlockC16H14O4,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockC16H14O4.prototype),"creationComplete",this).call(this),this.setMedVo("C16H14O4",.1),this.name="C16H14O4",this.constName="BlockC16H14O4",this.INITMOL=.1,this.noChoice=!1,this.allowGetBounds=!0}},{key:"getMedicineName",value:function(){return"C16H14O4"}},{key:"hitBreak",value:function(){var e=this.parent,t=[this.medVo.deepClone()];t[0].realProportion=1,t[0].oneMol=.01;var i=this.position;i.y-=10,e.addMedicine(t,i,1),this.napeBody.destroy(),this.destroy()}},{key:"clear",value:function(){}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockC16H14O4.prototype),"update",this).call(this,e),p.genEffectFunc(this,e,1e-4),this.clearBubbleParticle()}},{key:"eqStopDrag",value:function(e){(0,s.default)((0,c.default)(BlockC16H14O4.prototype),"eqStopDrag",this).call(this,e);e=this.getHitEq();e&&(NBDrag.removeDrag(this),this.addToContainer(e),this.allowGetBounds=!1,this.hitWater=!0)}},{key:"getHitEq",value:function(){for(var e=this.getEquipments(),t=0;t<e.length;t++){var i=e[t];if("Mortar"===i.name&&this.hitTest(i))return i}return null}}]),BlockC16H14O4}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(41),p=i(22);e.exports=function(){(0,l.default)(BlockC6H10O5,d);var t=u(BlockC6H10O5);function BlockC6H10O5(){var e;return(0,r.default)(this,BlockC6H10O5),(e=t.call(this)).medicineBgColor=16777215,e}return(0,o.default)(BlockC6H10O5,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockC6H10O5.prototype),"creationComplete",this).call(this),this.setMedVo("(C6H10O5)n(纤维素)",.01),this.name="(C6H10O5)n(纤维素)_s",this.constName="BlockC6H10O5",this.INITMOL=.01,this.initMedBg()}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,s.default)((0,c.default)(BlockC6H10O5.prototype),"getLocalBounds",this).call(this)}},{key:"initMedBg",value:function(){var e=this.medicineBg.children[0],t=e.currentPath.shape;e.clear(),e.beginFill(this.medicineBgColor),e.drawPolygon(t)}},{key:"getMedicineName",value:function(){return"(C6H10O5)n(纤维素)"}},{key:"clear",value:function(){}},{key:"autoClear",value:function(){(this.medVo.getMol()<=nb.dripError||!this.parent)&&(this.clearBubbleParticle(!0),this.clear(),this.destroy())}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockC6H10O5.prototype),"update",this).call(this,e),p.genEffectFunc(this,e,1e-4),this.clearBubbleParticle(),this.autoClear()}},{key:"getFluidCapacity",value:function(){return.05*(0,s.default)((0,c.default)(BlockC6H10O5.prototype),"getFluidCapacity",this).call(this)}}]),BlockC6H10O5}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(41),p=i(22);e.exports=function(){(0,l.default)(BlockC9H8O4,d);var t=u(BlockC9H8O4);function BlockC9H8O4(){var e;return(0,r.default)(this,BlockC9H8O4),(e=t.call(this)).allowGetBounds=!0,e}return(0,o.default)(BlockC9H8O4,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockC9H8O4.prototype),"creationComplete",this).call(this),this.setMedVo("C9H8O4",.1),this.name="C9H8O4",this.constName="BlockC9H8O4",this.INITMOL=.1,this.noChoice=!1,this.allowGetBounds=!0}},{key:"getMedicineName",value:function(){return"C9H8O4"}},{key:"hitBreak",value:function(){var e=this.parent,t=[this.medVo.deepClone()];t[0].realProportion=1,t[0].oneMol=.01;var i=this.position;i.y-=10,e.addMedicine(t,i,1),this.napeBody.destroy(),this.destroy()}},{key:"eqStopDrag",value:function(e){(0,s.default)((0,c.default)(BlockC9H8O4.prototype),"eqStopDrag",this).call(this,e);e=this.perfectHitObj();e&&(NBDrag.removeDrag(this),this.addToContainer(e),this.allowGetBounds=!1)}},{key:"clear",value:function(){}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockC9H8O4.prototype),"update",this).call(this,e),p.genEffectFunc(this,e,1e-4),this.clearBubbleParticle()}}]),BlockC9H8O4}()},function(e,t,BlockCa){"use strict";var a=BlockCa(4),i=BlockCa(0),n=i(BlockCa(9)),r=i(BlockCa(1)),o=i(BlockCa(2)),s=i(BlockCa(7)),l=i(BlockCa(5)),h=i(BlockCa(6)),c=i(BlockCa(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BlockCa(41),p=BlockCa(57),f=BlockCa(22),I=BlockCa(31),g=BlockCa(32),m=BlockCa(20),BlockCa=function(){(0,l.default)(BlockCa,d);var t=u(BlockCa);function BlockCa(){var e;return(0,r.default)(this,BlockCa),(e=t.call(this)).INITMOL=.1,e}return(0,o.default)(BlockCa,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockCa.prototype),"creationComplete",this).call(this),this.setMedVo("Ca",.1),this.name="Ca_s",this.constName="BlockCa",this.isBurn=!1,this.currentMeltFrame=0,this.fireParticle=null,this.bottleGasMed=[],I.register(g.BLOCKNAWATERREACTION),this.sound=null,this.soundOver=!1,this.on(NBEvent.del.PREPARE_DELETE,this.clear),this.on(NBEvent.del.DELETE,this.clear),this.rSpeed=900,this.npScale=.9,this.type=0,this.cutType=null,1!==this.image.currentFrame?this.setImpurity(this.INITMOL/20):(this.impurityMol||(this.impurityMol=0),this.setImpurity(this.impurityMol),this.image.alpha=this.impurityMol/(this.INITMOL/20),this.canOxidation=!0)}},{key:"setImpurity",value:function(e){var t=this.medicineManager.getMedicineData("CaO"),e=new m(t,e);this.impurity=[e],this.solidMedicineInfo.set("CaO",e)}},{key:"autoReleaseImpurity",value:function(){var e,t;.01<this.impurity[0].getMol()/this.impurityInitMol-this.blockScale&&(e=this.impurity[0].getMol(),this.impurity[0].setMol(this.blockScale*this.impurityInitMol),(t=this.impurity[0].deepClone()).setMol(e-this.impurity[0].getMol()),this.addMedicine(t))}},{key:"oxidation",value:function(){var e,t,i,n;this.canOxidation&&((i=this.medVo.getMol()/20)<this.impurity[0].getMol()?this.canOxidation=!1:(n=this.getGasMedicineInfo().get("O2"))&&(t=0,t=5e-7<(e=n.getMol())?5e-7:e,n.setMol(n.getMol()-t),this.medVo.setMol(this.medVo.getMol()-4*t),this.impurity[0].setMol(this.impurity[0].getMol()+2*t),n=1<(n=1-this.impurity[0].getMol()/i)?1:n,this.image.alpha=n=n<0?0:n,i=f.EquationMap.Na.O2.equationAry.find(function(e){return 0===e.Speed}),this.container&&this.container.medicineData&&((n=this.container.medicineData.solidAry).Na2O?n.Na2O.setMol(n.Na2O.getMol()+2*t):n.Na2O=this.impurity[0].deepClone(),this.container.setReactStatus(i,100))))}},{key:"getMedicineName",value:function(){return"Ca"}},{key:"inH2O",value:function(){return"inWater"===this.posStatus&&.6<this.container.medicineData.getMedVoProportion("H2O","liquid")&&(this.inWaterRun(),!0)}},{key:"inC2H5OH",value:function(){return"inWater"===this.posStatus&&.2<this.container.medicineData.getMedVoProportion("C2H5OH","liquid")&&this.inC2H5OHRun(),!1}},{key:"burnInAir",value:function(){"inAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(this.burnUpdateTemp(),this.fireParticleGroup?this.fireParticle&&this.smokeParticle&&(this.fireParticle.mask=null,this.smokeParticle.mask=null):this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this))}},{key:"burnInContainerAir",value:function(){"inContainerAir"===this.posStatus&&this.isBurn&&(this.calCanReactDens("Cl2")?(this.burnUpdateTemp(),this.container.needBottleSmoke=!0,this.fireParticleCl=!0,this.fireParticleGroup||(this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this))):this.calCanReactDens("O2")?(this.burnUpdateTemp(),this.fireParticleGroup||(this.fireParticleGroup=this.root.particleManager.initNaParticleAir(this))):(this.container.needBottleSmoke&&(this.container.needBottleSmoke=!1),this.clear()),this.fireParticle&&this.container&&!this.isAirContainer(this.container.name)&&this.fireParticle.mask!=this.container.capacityMask&&(this.fireParticle.mask=this.container.capacityMask,this.smokeParticle.mask=this.container.capacityMask))}},{key:"burnInContainerHasWater",value:function(){"inContainerHasWater"===this.posStatus&&this.isBurn&&this.fireParticle&&this.fireParticle.render()}},{key:"melt",value:function(){var e;!this.burnChange&&this.napeBody&&this.ani.currentFrame===this.ani.totalFrames-1&&(this.burnChange=!0,this.overNapeChange=!0),this.isBurn||(this.getTemp()>this.meltingPoint&&this.getTemp()<this.burningPoint&&(this.reduceImage(),e=(this.getTemp()-this.meltingPoint)/(this.burningPoint-this.meltingPoint),this.currentMeltFrame=Math.max(this.ani.totalFrames*e>>0,this.currentMeltFrame),this.ani.gotoAndStop(this.currentMeltFrame-1)),this.getTemp()>this.burningPoint&&(this.currentMeltFrame=this.ani.totalFrames,this.ani.currentFrame=this.currentMeltFrame-1,this.isBurn=!0,this.replaceNapeBody("refM")))}},{key:"reduceImage",value:function(){1==this.image.alpha&&1==this.image.scale.x&&(TweenMax.to(this.image.scale,.5,{x:0,y:0}),TweenMax.to(this.image,.5,{alpha:0}))}},{key:"inC2H5OHRun",value:function(){var e=this;if(e.changeScale=e.medVo.getMol()/.1,.5<=e.changeScale?this.napeShape.get_material().set_density(1.3):this.napeShape.get_material().set_density(.7),e.changeScale<=.1&&this.removeMed(),e.scale.x=e.changeScale,e.scale.y=e.changeScale,e.autoReleaseImpurity instanceof Function&&e.autoReleaseImpurity(),e.npScale==Number(e.changeScale.toFixed(1))){var t=e.npScale;e.npScale-=.1;t=e.npScale/t;if(t<=0)return;e.napeBody.scaleShapes(t,t),e.npScale=Number(e.npScale.toFixed(1))}this.particleContainer&&this.particleContainer!==this.container&&(this.particleContainer.particleDestroy(e.bubbleParticle),e.bubbleParticle=null)}},{key:"inWaterRun",value:function(){var n,e,t,i;null!=this.parent&&(e=(n=this).napeBody,n.hasChangeCircle||(this.clear(),function(){n.image.alpha=0,n.ani.alpha=0;var e=(42-3*Math.random())/2;n.burnChange&&n.overNapeChange,0;n.circleRadius=e;var t=new PIXI.Graphics,i=new PIXI.Graphics;t.beginFill(13421772,1),i.beginFill(13421772,1),i.drawCircle(0,0,e),t.drawCircle(0,0,e),n.naBubbleParticle=ParticleUtil.getParticle(ParticleUtil.particles.Na_bubble),n.addChild(t),n.addChild(i),n.addChild(n.naBubbleParticle),n.naBubbleParticle.mask=i,n.hasChangeCircle=!0;n.scale.x=.5,n.scale.y=.5,n.autoReleaseImpurity instanceof Function&&n.autoReleaseImpurity();n.napeBody.scaleShapes(.5,.5)}()),this.parent.medicineData&&(this.parent.medicineData.increaseHeat(3),t=(i=n.parent.liquidShapePointAry).ltPoint,i=i.rtPoint.x-t.x,i=Math.random()*i*n.changeScale,i=200+t.x+i,.5<Math.random()&&(i=-i),i=new nape.geom.Vec2(i,0),e.set_rotation(window.vr||0),Math.random()<.05&&e.set_velocity(i),this.soundOver||(this.sound&&"playFinished"!==this.sound.playState&&"playFailed"!==this.sound.playState||(this.sound=I.play(g.BLOCKNAWATERREACTION,{loop:1e7}),this.sound.loop=1e6),this.naBubbleParticle&&this.naBubbleParticle.render()),this.clear("fireParticle"),nb.GLASSCONTAINER[this.parent.name]&&nb.GLASSCONTAINER[this.parent.name].naBoom&&.95<this.medVo.getMol()/.1&&this.parent.happenBoom("small")))}},{key:"shapeChange",value:function(){var e=this;if(e.changeScale=e.medVo.getMol()/.1,e.changeScale<=.1)return e.removeMed();var t=e.circleRadius*e.changeScale,i=e.napeBody,n=i.medicineData;i.get_shapes().clear();t=new nape.shape.Circle(t);t.get_filter().set_collisionGroup(2),t.get_filter().set_fluidGroup(2),i.add(t),e.napeShape=t,e.napeShape.get_material().set_density(.7),i.medicineData=n,e.changeScale,e.scale.x=e.changeScale,e.scale.y=e.changeScale}},{key:"removeMed",value:function(){var e=this;this.sound&&(this.sound.stop(),this.soundOver=!0);var t,i=e.parent;i&&(i.medicineData?(t=-e.medVo.getMol(),i.medicineData.addMedicine(e.medVo.name,t),e.medVo.setMol(0)):i.blockMedicine&&(i.blockMedicine=null),e.bubbleParticle&&(e.parent.particleDestroy(e.bubbleParticle),e.bubbleParticle=null),e.naBubbleParticle&&(e.parent.particleDestroy(e.naBubbleParticle),e.naBubbleParticle=null)),e.destroy()}},{key:"clear",value:function(e){this.sound&&(!e||"sound"===e)&&(this.sound.stop(),this.sound=null,e)||this.bubbleParticle&&(!e||"bubbleParticle"===e)&&(this.bubbleParticle.alpha=0,this.bubbleParticle.destroy(),this.bubbleParticle=null,e)||this.naBubbleParticle&&(!e||"NabubbleParticle"===e)&&(this.naBubbleParticle.alpha=0,this.naBubbleParticle.destroy(),this.naBubbleParticle=null,e)||this.fireParticleGroup&&(!e||"fireParticle"===e)&&(this.isBurn=!1,this.root.particleManager.destroy(this.fireParticle,1,!1,{startSpeed:0}),this.root.particleManager.destroy(this.smokeParticle,1),this.fireParticleGroup&&p.destroy(this.fireParticleGroup),this.fireParticle=null,this.smokeParticle=null,this.fireParticleGroup=null,e)||!this.fireParticleCl||e&&"fireParticleCl"!==e||(this.isBurn=!1,this.fireParticle=null,this.container&&this.container.bottleHalo&&(this.root.particleManager.destroy(this.container.bottleHalo,1),this.container.bottleHalo=null))}},{key:"autoClear",value:function(){(this.medVo.getMol()<=0||!this.parent)&&(this.clear(),this.fireParticleGroup||(TweenMax.killTweensOf(this),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID],this.destroy())),this.getTemp()<this.burningPoint&&(this.isBurn=!1,this.clear("fireParticleCl"),this.clear("fireParticle"))}},{key:"dissociate",value:function(){var e={},t=this.execute(NBCommand.CREATE_EQUIPMENT,"BlockCa");t.image.currentFrame=1,t.on("creationComplete",function(){t.cutType=1,t.setMedVo("Ca",.03),t.INITMOL=.03,t.emit("setTypeComplete")});var i=this.execute(NBCommand.CREATE_EQUIPMENT,"BlockCa");return i.image.currentFrame=2,i.on("creationComplete",function(){i.cutType=2,i.setMedVo("Ca",.07),i.INITMOL=.07,i.emit("setTypeComplete")}),e.small=t,e.big=i,e}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockCa.prototype),"update",this).call(this,e),this.inH2O()||this.clear("sound");for(var t=0;t<this.bottleGasMed.length;t++){var i=this.bottleGasMed[t];i.mol*=.999,i.mol<1e-4&&(i.mol=0,this.bottleGasMed.splice(t,1),t--)}0===this.image.alpha&&0===this.ani.alpha&&this.shapeChange(),this.inC2H5OH(),this.burnInAir(),this.burnInContainerAir(),this.melt(),f.genEffectFunc(this,e,2e-4),this.clearBubbleParticle(),this.autoClear(),this.fireParticleGroup&&this.fireParticleGroup.render()}},{key:"toJSON",value:function(){return(0,n.default)({aniCurrentFrame:this.ani.currentFrame},(0,s.default)((0,c.default)(BlockCa.prototype),"toJSON",this).call(this))}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(BlockCa.prototype),"setJSON",this).call(this,e),this.ani.currentFrame=e.aniCurrentFrame}}]),BlockCa}();e.exports=BlockCa},function(e,t,BlockCaC2){"use strict";var a=BlockCaC2(4),i=BlockCaC2(0),n=i(BlockCaC2(1)),r=i(BlockCaC2(2)),o=i(BlockCaC2(7)),s=i(BlockCaC2(5)),l=i(BlockCaC2(6)),h=i(BlockCaC2(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockCaC2(41),d=BlockCaC2(22),p=BlockCaC2(20),BlockCaC2=function(){(0,s.default)(BlockCaC2,u);var e=c(BlockCaC2);function BlockCaC2(){return(0,n.default)(this,BlockCaC2),e.call(this)}return(0,r.default)(BlockCaC2,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockCaC2.prototype),"creationComplete",this).call(this),this.setMedVo("CaC2",.1),this.name="CaC2",this.constName="BlockCaC2",this.INITMOL=.1,this.impurityInitMol=.01,this.remainTadius=5,this.setImpurity()}},{key:"setImpurity",value:function(){var e=this.medicineManager.getMedicineData("CaS"),t=new p(e,this.impurityInitMol);this.solidMedicineInfo.set("CaS",t);e=this.medicineManager.getMedicineData("Ca3P2"),e=new p(e,this.impurityInitMol);this.solidMedicineInfo.set("Ca3P2",e),this.impurity=[t,e]}},{key:"getMedicineName",value:function(){return"CaC2"}},{key:"renderSpecialBubble",value:function(){var e;this.specialBubble?this.specialBubble.render():((e=this.specialBubble=ParticleUtil.getParticle(ParticleUtil.particles.CaC2Bubble)).allowGetBounds=!1,this.addChild(e),e.bind(this))}},{key:"destroySpecialBubble",value:function(){this.specialBubble&&(this.specialBubble.destroy(),this.specialBubble=null)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=0||!this.parent)&&(this.clearBubbleParticle(!0),this.destroy())}},{key:"autoReleaseImpurity",value:function(){var n=this;this.impurity.forEach(function(e){var t,i;.01<e.getMol()/n.impurityInitMol-n.blockScale&&(t=e.getMol(),e.setMol(n.blockScale*n.impurityInitMol),(i=e.deepClone()).setMol(t-e.getMol()),n.addMedicine(i))})}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockCaC2.prototype),"update",this).call(this,e),d.genEffectFunc(this,e,2e-4),this.clearBubbleParticle(),this.autoClear()}}]),BlockCaC2}();e.exports=BlockCaC2},function(e,t,BlockCaCO3){"use strict";var a=BlockCaCO3(4),i=BlockCaCO3(0),n=i(BlockCaCO3(1)),r=i(BlockCaCO3(2)),o=i(BlockCaCO3(7)),s=i(BlockCaCO3(5)),l=i(BlockCaCO3(6)),h=i(BlockCaCO3(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockCaCO3(41),d=BlockCaCO3(22),p=BlockCaCO3(20),BlockCaCO3=function(){(0,s.default)(BlockCaCO3,u);var e=c(BlockCaCO3);function BlockCaCO3(){return(0,n.default)(this,BlockCaCO3),e.call(this)}return(0,r.default)(BlockCaCO3,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockCaCO3.prototype),"creationComplete",this).call(this),this.setMedVo("CaCO3",.1),this.name="CaCO3",this.constName="BlockCaCO3",this.INITMOL=.1,this.impurityInitMol=.01,this.setImpurity()}},{key:"setImpurity",value:function(){var e=this.medicineManager.getMedicineData("SiO2"),e=new p(e,this.INITMOL/10);this.impurity=[e],this.solidMedicineInfo.set("SiO2",e)}},{key:"getMedicineName",value:function(){return"CaCO3"}},{key:"autoClear",value:function(){(this.medVo.getMol()<=0||!this.parent)&&(this.clearBubbleParticle(!0),this.destroy())}},{key:"autoReleaseImpurity",value:function(){var e,t;.01<this.impurity[0].getMol()/this.impurityInitMol-this.blockScale&&(e=this.impurity[0].getMol(),this.impurity[0].setMol(this.blockScale*this.impurityInitMol),(t=this.impurity[0].deepClone()).setMol(e-this.impurity[0].getMol()),this.addMedicine(t))}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockCaCO3.prototype),"update",this).call(this,e);var t=this.solidMedicineInfo.get("CaSO4");(!t||t.getMol()<.05*this.INITMOL)&&d.genEffectFunc(this,e),this.clearBubbleParticle(),this.autoClear()}}]),BlockCaCO3}();e.exports=BlockCaCO3},function(e,t,BlockCu){"use strict";var a=BlockCu(4),i=BlockCu(0),n=i(BlockCu(24)),r=i(BlockCu(1)),o=i(BlockCu(2)),s=i(BlockCu(7)),l=i(BlockCu(5)),h=i(BlockCu(6)),c=i(BlockCu(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BlockCu(41),p=BlockCu(26),f=BlockCu(10),I=BlockCu(22),g=BlockCu(27),BlockCu=function(){(0,l.default)(BlockCu,d);var e=u(BlockCu);function BlockCu(){return(0,r.default)(this,BlockCu),e.call(this)}return(0,o.default)(BlockCu,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockCu.prototype),"creationComplete",this).call(this),this.setMedVo("Cu",.1),this.name="Cu",this.constName="BlockCu",this.CNName="铜丝段",this.conf_chemical_equation=!1,this.INITMOL=.1,this.initBlack(),this.currentTemp=nb.DEFAULT_TEMP,this.rustState=!0,this.rotationInAsbestosFreeWireGauze=.5*-Math.PI}},{key:"getMedicineName",value:function(){return"Cu"}},{key:"initBlack",value:function(){var c=this;c.blackPic.children.forEach(function(h){h.alpha=0;var e=c.medicineManager.getMedicineData("Cu"),e=new SolidVO(e,.1);h.medVo=[e],h.medicineManager=c.medicineManager,h.setReactStatus=c.setReactStatus.bind(c),h.getSolidMedicineInfo=function(){for(var e=new n.default,t=0;t<this.medVo.length;t++)e.set(this.medVo[t].name,this.medVo[t].deepClone(.1/6e4));return e},h.getLiquidMedicineInfo=function(){if(c.getSelfParent()instanceof f&&h.hitWater){var e=c.getSelfParent().medicineData.liquidAry,t=new n.default;return e.forEach(function(e){t.set(e.name,e)}),t}},h.getGasMedicineInfo=function(){if(c.getSelfParent()instanceof f)return h.hitWater?new n.default:c.getSelfParent().getGasMedicineInfo();var e=this.medicineManager.getMedicineData("O2"),t=this.medicineManager.getMedicineData("N2"),e=new g(e,20),t=new g(t,80);return this.gasAry=[e,t],this.gasAry[0].setMol(20),this.gasAry[1].setMol(80),(new n.default).set("O2",this.gasAry[0]).set("N2",this.gasAry[1])},h.addMedicine=function(e,t){var i=h.medVo.find(function(e){return"Cu"===e.name}),n=!!t&&t.find(function(e){return"Cu"===e.name});if("Cu"===e.name)i&&i.setMol(i.getMol()+e.getMol());else if(c.getSelfParent()instanceof f){var i=e.name,a=e.getMol();switch(c.getSelfParent().root.medicineManager.getMedicineData(i).type){case"Liquid":c.getSelfParent().medicineData.addMedicine(e.name,a);break;case"Gas":c.getSelfParent().medicineData.addMedicine(e.name,a),h.hitWater&&n&&(c.getSelfParent().solidBubbleCount=15,c.getSelfParent().copperWireCreateBubble=!0);break;case"p":case"block":var r=c.getSelfParent();c.checkChildHitWater()?(r.medicineData.push(e.clone()),I.splitMedicineNameToIon(e.name)&&0<I.splitMedicineNameToIon(e.name).length&&r.medicineData.addIonMedicine(e,a)):r.addMedicine(e)}}else{var o=e.name,s=e.getMol();switch(c.getSelfParent().root.medicineManager.getMedicineData(o).type){case"Liquid":case"Gas":break;case"p":var l=h.medVo.find(function(e){return e.name===o});l?l.setMol(l.getMol()+s):(l=c.medicineManager.getMedicineData(o),l=new SolidVO(l,s),h.medVo.push(l))}}}})}},{key:"checkChildHitWater",value:function(){for(var e=this.blackPic.children,t=0;t<e.length;t++)if(e[t].hitWater)return!0;return!1}},{key:"blackChildFun",value:function(e,t){var i;this.blackPic[e].medVo[0].getMol()<1e-4||(i=1<(i=50*(1-this.blackPic[e].medVo[0].getMol()/.1))?1:i,this.blackPic[e].alpha=.9*i,I.genEffectFunc(this.blackPic[e],t,5e-6))}},{key:"checkStatus",value:function(i){var n=this,a=this,r=a.findParentContainer();a.blackPic.children.forEach(function(e){var t;r!==n.getViewStack().eqLayer&&r instanceof f&&(t=e.toGlobal({x:e.width/2,y:e.height}),r.liquidVertex&&p.containsPoint(r.liquidVertex,t)?e.hitWater=!0:e.hitWater=!1),a.blackChildFun(e.name,i)})}},{key:"getParentCl2Density",value:function(){var e=this.toGlobal({x:0,y:0});if(!p.containsPoint(this.getSelfParent().liquidVertexUp,e))return 0;var t=0,i=0;return this.getSelfParent().medicineData.gasAry.forEach(function(e){if("Cl2"===e.name&&(i+=e.mol),0===(t+=e.mol))return 0}),i/t}},{key:"increaseTemp",value:function(e,t){var i=e.x+e.width/2,n=e.y+e.height/2,a=this.getViewStack().scale.x,e=this.toGlobal(this.blackPic.position),a=(500-(Math.abs(i-e.x)+Math.abs(n-e.y))/a)/500,t=t*(a=(a=1<a?1:a)<0?0:a);this.currentTemp+=.8*a,this.currentTemp=this.currentTemp>t?t:this.currentTemp}},{key:"checkCanBurnInCl",value:function(){if(this.temp<100)return!1;var e=this.getSelfParent().name;return("GasCollectingBottle"==e||"BaseGasMedicine"==e)&&!(this.getParentCl2Density()<.1)}},{key:"updateClParticle",value:function(){this.copperBubble&&(0<this.bubbleCount?(this.copperBubble.render(),this.bubbleCount--):(this.copperBubble.destroy(),this.copperBubble=null)),this.checkCanBurnInCl()?(this.currentTemp+=.2,this.getSelfParent().needBlockCuSmoke=!0):this.particleCl&&(this.root.particleManager.destroy(this.particleCl,1),this.root.particleManager.destroy(this.particleClOut,1),this.particleCl=null,this.particleClOut=null)}},{key:"updateMedTemp",value:function(){var i=this;this.blackPic.children.forEach(function(e){for(var t=0;t<e.medVo.length;t++)e.medVo[t].setTemp(i.currentTemp)})}},{key:"autoLowerTemp",value:function(){this.currentTemp-=.2,this.currentTemp<nb.DEFAULT_TEMP&&(this.currentTemp=nb.DEFAULT_TEMP),this.temp=this.currentTemp}},{key:"autoClear",value:function(){(this.medVo.getMol()<=.01||!this.parent)&&(this.clear(),this.destroy())}},{key:"update",value:function(e){this.judgeStatus(),"inWater"===this.posStatus?((0,s.default)((0,c.default)(BlockCu.prototype),"update",this).call(this,e),this.autoClear()):(this.checkStatus(e),this.updateMedTemp(),this.autoLowerTemp(),this.updateClParticle()),I.genEffectFunc(this,e)}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,s.default)((0,c.default)(BlockCu.prototype),"getLocalBounds",this).call(this)}}]),BlockCu}();e.exports=BlockCu},function(e,t,BlockCu2){"use strict";var a=BlockCu2(4),i=BlockCu2(0),r=i(BlockCu2(24)),n=i(BlockCu2(422)),o=i(BlockCu2(1)),s=i(BlockCu2(2)),l=i(BlockCu2(7)),h=i(BlockCu2(5)),c=i(BlockCu2(6)),u=i(BlockCu2(3));function d(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(i);return t=n?(e=(0,u.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,c.default)(this,t)}}var p=BlockCu2(41),f=BlockCu2(22),I=BlockCu2(20),g=BlockCu2(10),BlockCu2=function(){(0,h.default)(BlockCu2,p);var t=d(BlockCu2);function BlockCu2(){var e;return(0,o.default)(this,BlockCu2),(e=t.call(this)).impurityMol=.002,e}return(0,s.default)(BlockCu2,[{key:"creationComplete",value:function(){(0,l.default)((0,u.default)(BlockCu2.prototype),"creationComplete",this).call(this),this.setMedVo("Cu",.1),this.name="BlockCu2",this.CNName="小铜片",this.constName="BlockCu2",this.INITMOL=.1,this.offsetWithAsbestos={minX:-260,maxX:-84,minY:43,maxY:151},this.maxImpurityCuO=.01,this.rotationInAsbestosFreeWireGauze=.5*Math.PI}},{key:"setImpurity",value:function(e){var t=this.medicineManager.getMedicineData("C"),e=new I(t,e);this.impurity=[e],this.solidMedicineInfo.set("C",e),this.medicineData.solidAry.C=e}},{key:"addMedicine",value:function(e){0===e.type?this.medicineData.push(e):this.getSelfParent()instanceof g&&this.getSelfParent().medicineData.push(e)}},{key:"heatWithCandle",value:function(e){var t=this.impurity?this.impurity[0].mol:0;170<e.y&&t<.01&&!(this.getSelfParent()instanceof g)&&this.setImpurity(t+=1e-4)}},{key:"rustState",get:function(){return.001<this.rustPercent},set:function(e){e||(e=this.solidMedicineInfo.get("Al2O3"))&&e.setMol(0)}},{key:"rustPercent",get:function(){var e=this.impurity&&this.impurity[0],e=e&&e.getMol()/.1*50||0;return 1<e?e=1:e<0&&(e=0),e}},{key:"getMedicineName",value:function(){return"Cu2_s"}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,l.default)((0,u.default)(BlockCu2.prototype),"getLocalBounds",this).call(this)}},{key:"getSolidMedicineInfo",value:function(){var e=this.impurity&&this.impurity[0],t=this.medVo,i=this.medicineData.solidAry.CuO,n=new r.default;return e&&0<e.getMol()&&n.set(e.name,e.deepClone(Math.min(this.INITMOL/this.rSpeed/8,e.getMol()))),!i||i.mol<this.maxImpurityCuO?(i&&n.set(i.name,i.deepClone()),n.set(t.name,t.deepClone())):n.set(i.name,i.deepClone())}},{key:"checkCanCleanByTissue",value:function(){return!0}},{key:"cleanMed",value:function(e){var t=this.impurity?this.impurity[0].mol:0;e?t=0:t/=2,this.setImpurity(t)}},{key:"updateTemp",value:function(){var t=this;(0,n.default)(this.medicineData.solidAry).forEach(function(e){e[1].setTemp(t.temp)})}},{key:"updateColor",value:function(){var e=(null===(t=this.medicineData.solidAry.C)||void 0===t?void 0:t.mol)||0,t=(null===(t=this.medicineData.solidAry.CuO)||void 0===t?void 0:t.mol)||0,t=Math.min((e+t)/.01,1);this.bg0.children[1].alpha=1-t}},{key:"update",value:function(e){(0,l.default)((0,u.default)(BlockCu2.prototype),"update",this).call(this,e),f.genEffectFunc(this,e,2e-4),this.updateTemp(),this.updateColor()}}]),BlockCu2}();e.exports=BlockCu2},function(e,t,i){i(1274),e.exports=i(30).Object.entries},function(e,t,i){var n=i(38),a=i(286)(!0);n(n.S,"Object",{entries:function(e){return a(e)}})},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(41),p=i(22);e.exports=function(){(0,l.default)(BlockCuSO45H2O,d);var e=u(BlockCuSO45H2O);function BlockCuSO45H2O(){return(0,r.default)(this,BlockCuSO45H2O),e.call(this)}return(0,o.default)(BlockCuSO45H2O,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockCuSO45H2O.prototype),"creationComplete",this).call(this),this.setMedVo("CuSO4·5H2O",.1),this.name="CuSO45H2O",this.constName="BlockCuSO45H2O",this.INITMOL=.1}},{key:"getMedicineName",value:function(){return"CuSO4·5H2O"}},{key:"hitBreak",value:function(){var e=this.parent,t=[this.medVo.deepClone()];t[0].realProportion=1,t[0].oneMol=.01;var i=this.position;i.y-=10,e.addMedicine(t,i,1),this.napeBody.destroy(),this.destroy()}},{key:"clear",value:function(){}},{key:"autoClear",value:function(){(this.medVo.getMol()<=nb.dripError||!this.parent)&&(this.clearBubbleParticle(!0),this.clear(),this.destroy())}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockCuSO45H2O.prototype),"update",this).call(this,e),p.genEffectFunc(this,e,1e-4),this.clearBubbleParticle(),this.autoClear()}}]),BlockCuSO45H2O}()},function(e,t,BlockFe){"use strict";var a=BlockFe(4),i=BlockFe(0),n=i(BlockFe(9)),r=i(BlockFe(1)),o=i(BlockFe(2)),s=i(BlockFe(7)),l=i(BlockFe(5)),h=i(BlockFe(6)),c=i(BlockFe(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BlockFe(41),p=BlockFe(22),f=BlockFe(70),I=BlockFe(27),g=BlockFe(20),BlockFe=function(){(0,l.default)(BlockFe,d);var e=u(BlockFe);function BlockFe(){return(0,r.default)(this,BlockFe),e.call(this)}return(0,o.default)(BlockFe,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockFe.prototype),"creationComplete",this).call(this),this.setMedVo("Fe",.1),this.name="Fe",this.CNName="铁钉",this.constName="BlockFe",this.INITMOL=.1,this.AgSurface.alpha=0,this.CuSurface.alpha=0,this.conf_chemical_equation=!0,this.surFaceVo instanceof Array||(this.surFaceVo=[]),this.rustState=!1,this.rotationInAsbestosFreeWireGauze=.5*-Math.PI}},{key:"rustState",get:function(){return this._rustState},set:function(e){this.rustSurface.alpha=e?1:0,this._rustState=!!e}},{key:"getMedicineName",value:function(){return"Fe"}},{key:"surFaceFun",value:function(){var i=this;this.surFaceVo.forEach(function(e){var t=e,e=t.name;t&&0<t.getMol()&&(t=1<(t=t.getMol()/.1*30)?1:t,i[e+"Surface"]&&(i[e+"Surface"].alpha=t))})}},{key:"clear",value:function(){this.clearBubbleParticle(!0)}},{key:"autoClear",value:function(){.1<this.CuSurface.alpha||(this.medVo.getMol()<=.01||!this.parent)&&(this.clear(),this.destroy())}},{key:"autoChangeScale",value:function(){var e,t=this,i=t.medVo.getMol();t.surFaceVo.forEach(function(e){i+=e.getMol()}),t.blockScale=i/t.INITMOL,1<t.blockScale||(t.scale.x=t.blockScale,t.scale.y=t.blockScale,t.napeBody&&t.napeScale>Number(t.blockScale)&&0<Number(t.blockScale.toFixed(1))&&(e=t.napeScale,t.napeScale-=.1,(e=t.napeScale/e)<=0||(t.napeBody.scaleShapes(e,e),t.napeScale=Number(t.napeScale.toFixed(1)))))}},{key:"update",value:function(e){var t;(0,s.default)((0,c.default)(BlockFe.prototype),"update",this).call(this,e),this.container&&this.container.medicineData&&0<this.medVo.getMol()&&(this.container.medicineData.getMedicineByName(f.LIQUID,"NaCl")&&(this.hasSalt=!0),this.hasSalt&&1!==this.hitFluidArea()&&(t=this.container.medicineManager.getMedicineData("O2"),t=new I(t,-3e-7*e),this.container.addMedicine(t),t=this.container.medicineManager.getMedicineData("Fe2O3"),t=new g(t,2e-7*e),this.addMedicine(t),t=this.medVo.getMol()-2e-7,this.medVo.setMol(t),t=this.surFaceVo.find(function(e){return"Fe2O3"===e.name}).getMol(),this.rustSurface.alpha=Math.min(1,t/1e-4),this._rustState=!0)),p.genEffectFunc(this,e,3e-4),this.autoClear(),this.clearBubbleParticle()}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,s.default)((0,c.default)(BlockFe.prototype),"getLocalBounds",this).call(this)}},{key:"getAssignInfo",value:function(){return{hasSalt:this.hasSalt}}},{key:"toJSON",value:function(){var e=(0,s.default)((0,c.default)(BlockFe.prototype),"toJSON",this).call(this),t={};return this.hasSalt&&(t.hasSalt=this.hasSalt),(0,n.default)(t,e)}},{key:"setJSON",value:function(e){(0,s.default)((0,c.default)(BlockFe.prototype),"setJSON",this).call(this,e),this.hasSalt=e.hasSalt}}]),BlockFe}();e.exports=BlockFe},function(e,t,BlockFeIm){"use strict";var a=BlockFeIm(4),i=BlockFeIm(0),n=i(BlockFeIm(24)),r=i(BlockFeIm(1)),o=i(BlockFeIm(2)),s=i(BlockFeIm(7)),l=i(BlockFeIm(5)),h=i(BlockFeIm(6)),c=i(BlockFeIm(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=BlockFeIm(41),p=BlockFeIm(22),f=BlockFeIm(10),I=BlockFeIm(18),g=BlockFeIm(20),BlockFeIm=function(){(0,l.default)(BlockFeIm,d);var t=u(BlockFeIm);function BlockFeIm(){var e;return(0,r.default)(this,BlockFeIm),(e=t.call(this)).impurityMol=.002,e.allowGetBounds=!0,e}return(0,o.default)(BlockFeIm,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockFeIm.prototype),"creationComplete",this).call(this),this.setMedVo("Fe",.1),this.name="Fe",this.CNName="生锈的铁钉",this.constName="BlockFeIm",this.INITMOL=.1,this.AgSurface.alpha=0,this.CuSurface.alpha=0,this.rustSurface.alpha=0,this.conf_chemical_equation=!0,this.rotationInAsbestosFreeWireGauze=.5*-Math.PI,this.noChoice=!1,this.allowGetBounds=!0,this.setImpurity(this.impurityMol)}},{key:"setImpurity",value:function(e){var t=this.medicineManager.getMedicineData("Fe2O3"),e=new g(t,e);this.impurity=[e],this.solidMedicineInfo.set("Fe2O3",e),this.medicineData.solidAry.Fe2O3=e,this.rusty.alpha=this.rustPercent}},{key:"rustState",get:function(){return.001<this.rustPercent},set:function(e){e||(e=this.solidMedicineInfo.get("Fe2O3"))&&e.setMol(0)}},{key:"rustPercent",get:function(){var e=this.impurity&&this.impurity[0],e=e&&e.getMol()/.1*50||0;return e=1<e?1:e<0?0:e}},{key:"getMedicineName",value:function(){return"Fe"}},{key:"clear",value:function(){this.clearBubbleParticle(!0)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=.01||!this.parent)&&(this.clear(),this.destroy())}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,s.default)((0,c.default)(BlockFeIm.prototype),"getLocalBounds",this).call(this)}},{key:"getSolidMedicineInfo",value:function(){var e=this.impurity&&this.impurity[0],t=this.medVo,i=new n.default;return e&&0<e.getMol()?(this.rustPercent<.2&&i.set(t.name,t.deepClone(Math.min(this.INITMOL/this.rSpeed/8,t.getMol()))),i.set(e.name,e.deepClone(Math.min(this.INITMOL/this.rSpeed/8,e.getMol())))):i.set(t.name,t.deepClone(Math.min(this.INITMOL/this.rSpeed/4,t.getMol())))}},{key:"updateBubbleParticle",value:function(e){if(this.reactCount&&!(this.reactCount<=0)&&e&&2===e.type&&this.parent instanceof f&&"CrucibleTong"!==this.parent.name&&0<this.medVo.getMol()&&!(e.mol<1e-7))if(void 0===this.reactCount&&(this.reactCount=0),this.reactCount--,this.bubbleParticle)if(this.lastBubberContainer==this.parent){var t=this.bubbleParticle,i=t.particleLeft,n=t.particleRight,a=t.particleSelf,r=t.particleUp,o=t.particleFantan;i.loaded&&n.loaded&&a.loaded&&r.loaded&&o.loaded&&(l=(l=Math.ceil(1e6*e.mol/2))<2?2:15<l?15:l,a.particle.maxParticles=2*l,r.particle.maxParticles=3*l,o.particle.maxParticles=2*l,i.particle.maxParticles=l,n.particle.maxParticles=l,r.setParticleProp("endSpeed",700+30*l),nb.SMALLCONTAINER.includes(this.parent.name)?(i.setParticleProp("startScale",.5),n.setParticleProp("startScale",.5),i.setParticleProp("endScale",.2),n.setParticleProp("endScale",.2),i.setParticleProp("startSpeed",20),n.setParticleProp("startSpeed",20),i.setParticleProp("endSpeed",0),n.setParticleProp("endSpeed",0)):(i.setParticleProp("startScale",.3),n.setParticleProp("startScale",.3),i.setParticleProp("endScale",.2),n.setParticleProp("endScale",.2),i.setParticleProp("startSpeed",400),n.setParticleProp("startSpeed",400),i.setParticleProp("endSpeed",50),n.setParticleProp("endSpeed",50)));var s,r=this.parent.liquidVertex,l=this.parent.toGlobal(this.position).x,i=r[0].y,n=r[0].x,r=r[r.length-1].x,l=r<n?(l=n<l?n:l)<r?r:l:(l=r<l?r:l)<n?n:l,i=this.parent.toLocal({x:l,y:i});for(s in t.particleFantan.position=i,t.particleLeft.position=i,t.particleRight.position=i,t.particleUp.position=this.position,t.particleSelf.position=this.position,t.particleFantan.rotation=t.particleLeft.rotation=t.particleUp.rotation=t.particleRight.rotation=-I.retrieveRotation(this.parent.worldTransform),t){var h=t[s];h.alpha=1,h.render()}}else this.clearBubbleParticle(!0);else this.parent.addChildAt(this,0),this.initBubbleParticle(),this.lastBubberContainer=this.parent}},{key:"initBubbleParticle",value:function(){this.bubbleParticle=this.root.particleManager.initMgParticle.call(this.parent)}},{key:"addMedicine",value:function(e){(0,s.default)((0,c.default)(BlockFeIm.prototype),"addMedicine",this).call(this,e),this.rusty.alpha=this.rustPercent}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockFeIm.prototype),"update",this).call(this,e),p.genEffectFunc(this,e,2e-4),this.clearBubbleParticle(),this.autoClear(),this.updateBubbleParticle(this.calMedVo)}}]),BlockFeIm}();e.exports=BlockFeIm},function(e,t,BlockFilterPaper){"use strict";var a=BlockFilterPaper(4),i=BlockFilterPaper(0),n=i(BlockFilterPaper(1)),r=i(BlockFilterPaper(2)),o=i(BlockFilterPaper(7)),s=i(BlockFilterPaper(5)),l=i(BlockFilterPaper(6)),h=i(BlockFilterPaper(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockFilterPaper(41),d=BlockFilterPaper(22),p=BlockFilterPaper(57),f=BlockFilterPaper(125),BlockFilterPaper=function(){(0,s.default)(BlockFilterPaper,u);var t=c(BlockFilterPaper);function BlockFilterPaper(){var e;return(0,n.default)(this,BlockFilterPaper),(e=t.call(this)).allowGetBounds=!0,e}return(0,r.default)(BlockFilterPaper,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockFilterPaper.prototype),"creationComplete",this).call(this),this.setMedVo("C",.1),this.name="FilterPaper",this.CNName="滤纸片",this.constName="BlockFilterPaper",this.INITMOL=.1,this.specialBurningPoint=245,this.rotationInAsbestosFreeWireGauze=0,this.allowGetBounds=!0,this.conf_chemical_equation=!1}},{key:"getMedicineName",value:function(){return"C"}},{key:"burnInAir",value:function(){"inAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(this.burnUpdateTemp(),this.fireParticle?(this.fireParticle.render(),this.fireParticleSetMask()):this.fireParticle=this.getParticle())}},{key:"fireParticleSetMask",value:function(){this.fireParticle&&this.container&&this.container.gasContainer&&!this.isAirContainer(this.container.name)&&(this.smokeParticle.parent!==this.container.gasContainer&&this.container.gasContainer.addChild(this.smokeParticle),this.llSmoke.parent!==this.container.gasContainer&&this.container.gasContainer.addChild(this.llSmoke))}},{key:"burnInContainerAir",value:function(){var e,t,i;"inContainerAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(e=!1,i=(t=this.container).getTotalCapacity()/1e3,(e=0<t.medicineData.getGasDensity("O2",i)?!0:e)||this.isAirContainer(this.container.name)?(this.burnUpdateTemp(),this.fireParticle?(this.fireParticle.render(),this.fireParticleSetMask()):this.fireParticle=this.getParticle()):this.clear())}},{key:"getParticle",value:function(){var e=ParticleUtil.getParticle(ParticleUtil.particles.pepanel_burn_smoke);e.position.set(this.width/2,this.height/2),this.smokeParticle=e,this.addChild(e),this.getViewStack().addParticle(e),e.bind(this);var t=ParticleUtil.getParticle(ParticleUtil.particles.mianhua_fire);(this.llSmoke=t).position.set(this.width/2,this.height),this.addChild(t),this.getViewStack().addParticle(t),t.bind(this,0,20);var i=new f;return i.push(e).push(t),i}},{key:"clear",value:function(e){!this.fireParticle||e&&"fireParticle"!==e||(this.isBurn=!1,p.destroy(this.fireParticle),this.fireParticle=null)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=nb.dripError||!this.parent)&&(this.clearBubbleParticle(!0),this.clear(),this.destroy()),this.getTemp()<this.burningPoint&&(this.isBurn=!1,this.clear("fireParticle"))}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,o.default)((0,h.default)(BlockFilterPaper.prototype),"getLocalBounds",this).call(this)}},{key:"listenBurn",value:function(){if(this.isBurn)return this.setTemp(10+Number(this.burningPoint)),void this.medVo.setMol(this.medVo.getMol()-2e-4);this.getTemp()>this.specialBurningPoint&&(this.setTemp(10+Number(this.burningPoint)),this.isBurn=!0,this.medVo.setMol(this.medVo.getMol()-2e-4))}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockFilterPaper.prototype),"update",this).call(this,e),this.burnInAir(),this.burnInContainerAir(),this.listenBurn(),d.genEffectFunc(this,e,2e-4),this.autoChangeScale(),this.clearBubbleParticle(),this.autoClear()}}]),BlockFilterPaper}();e.exports=BlockFilterPaper},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(41);e.exports=function(){(0,l.default)(BlockFungus,d);var t=u(BlockFungus);function BlockFungus(){var e;return(0,r.default)(this,BlockFungus),(e=t.call(this)).name="BlockFungus",e.CNName="木耳",e.z_index=11,e.addToContainerCenter=!0,e}return(0,o.default)(BlockFungus,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(BlockFungus.prototype),"creationComplete",this).call(this),this.setMedVo("FeFungus",.1),this.INITMOL=.1,this.noChoice=!1,this.allowGetBounds=!0,this.conf_chemical_equation=!1}},{key:"autoChangeScale",value:function(){}},{key:"eqStopDrag",value:function(e){(0,s.default)((0,c.default)(BlockFungus.prototype),"eqStopDrag",this).call(this,e);e=this.perfectHitObj();e&&(NBDrag.removeDrag(this),this.addToContainer(e),this.allowGetBounds=!1)}},{key:"getMedicineName",value:function(){return"FeFungus"}},{key:"hitBreak",value:function(){var e=this.parent,t=[this.medVo.deepClone()];t[0].realProportion=1,t[0].oneMol=.01;var i=this.position;i.y-=10,e.addMedicine(t,i,1);t=this.medicineManager.getMedicineData("C76H52O46"),t=new SolidVO(t,.1);e.addMedicine(t,i,1),this.napeBody.destroy(),this.destroy()}},{key:"getBlockMedName",value:function(){return"FeFungus"}},{key:"update",value:function(e){(0,s.default)((0,c.default)(BlockFungus.prototype),"update",this).call(this,e),ChemicalUtil.genEffectFunc(this,e,1e-4)}}]),BlockFungus}()},function(e,t,BlockMg){"use strict";var a=BlockMg(4),i=BlockMg(0),n=i(BlockMg(1)),r=i(BlockMg(2)),o=i(BlockMg(7)),s=i(BlockMg(5)),l=i(BlockMg(6)),h=i(BlockMg(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockMg(41),d=BlockMg(22),p=BlockMg(57),f=BlockMg(125),I=BlockMg(10),g=BlockMg(18),m=d.EquationMap.Mg.O2.equationAry[0].reactIndex,y=d.EquationMap.Mg.N2.equationAry[0].reactIndex,BlockMg=function(){(0,s.default)(BlockMg,u);var e=c(BlockMg);function BlockMg(){return(0,n.default)(this,BlockMg),e.call(this)}return(0,r.default)(BlockMg,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockMg.prototype),"creationComplete",this).call(this),this.setMedVo("Mg",.1),this.name="Mg",this.CNName="镁条",this.constName="BlockMg",this.INITMOL=.1,this.offsetWithAsbestos={minX:-232,maxX:-71,minY:45,maxY:178},this.specialBurningPoint=150,this._rustState=!0}},{key:"rustState",get:function(){return this._rustState},set:function(e){e||(this.specialBurningPoint=80),this._rustState=!!e}},{key:"getMedicineName",value:function(){return"Mg_s"}},{key:"burnInAir",value:function(){"inAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(this.fireParticleCl&&(p.destroy(this.fireParticleCl),this.fireParticleCl=null),this.burnUpdateTemp(),this.fireParticle?(this.fireParticle.render(),this.fireParticleSetMask()):this.fireParticle=this.getParticle())}},{key:"fireParticleSetMask",value:function(){this.fireParticle&&this.container&&this.container.gasContainer&&!this.isAirContainer(this.container.name)&&(this.smokeParticle.parent!==this.container.gasContainer&&this.container.gasContainer.addChild(this.smokeParticle),this.llSmoke.parent!==this.container.gasContainer&&this.container.gasContainer.addChild(this.llSmoke))}},{key:"burnInContainerAir",value:function(){var e,t,i,n,a=this;function r(e){e=a.container.medicineData.getMedVo(e,"gas");return e?e.getMol():0}"inContainerAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(e=!1,n=(t=this.container).getTotalCapacity()/1e3,i=t.medicineData.getGasDensity("O2",n),n=t.medicineData.getGasDensity("N2",n),(e=1e-4<r("CO2")||1e-4<r("Cl2")||m<i||y<n?!0:e)||this.isAirContainer(this.container.name)?(this.burnUpdateTemp(),this.fireParticle?(this.fireParticle.render(),this.fireParticleSetMask()):this.fireParticle=this.getParticle()):this.clear())}},{key:"getParticle",value:function(){var e=ParticleUtil.getParticle(ParticleUtil.particles.mg_burn_smoke);e.position.set(this.width/2,this.height/2),this.smokeParticle=e,this.addChild(e),this.getViewStack().addParticle(e),e.bind(this);var t=ParticleUtil.getParticle(ParticleUtil.particles.mg_white_fire);(this.llSmoke=t).position.set(this.width/2,this.height/2),this.addChild(t),this.getViewStack().addParticle(t),t.bind(this);var i=new f;return i.push(e).push(t),i}},{key:"clear",value:function(e){!this.fireParticle||e&&"fireParticle"!==e||(this.isBurn=!1,p.destroy(this.fireParticle),this.fireParticle=null)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=nb.dripError||!this.parent)&&(this.clearBubbleParticle(!0),this.clear(),this.destroy()),this.getTemp()<this.burningPoint&&(this.isBurn=!1,this.clear("fireParticle"))}},{key:"updateBubbleParticle",value:function(e){if(this.reactCount&&!(this.reactCount<=0)&&e&&2===e.type&&this.parent instanceof I&&"CrucibleTong"!==this.parent.name&&0<this.medVo.getMol()&&!(e.mol<0))if(void 0===this.reactCount&&(this.reactCount=0),this.reactCount--,this.bubbleParticle)if(this.lastBubberContainer==this.parent){var t=this.bubbleParticle,i=t.particleLeft,n=t.particleRight,a=t.particleSelf,r=t.particleUp,o=t.particleFantan;i.loaded&&n.loaded&&a.loaded&&r.loaded&&o.loaded&&(l=(l=3e6*e.mol)<2?2:15<l?15:l,a.particle.maxParticles=2*l,r.particle.maxParticles=3*l,o.particle.maxParticles=2*l,i.particle.maxParticles=l,n.particle.maxParticles=l,r.setParticleProp("endSpeed",700+30*l),nb.SMALLCONTAINER.includes(this.parent.name)?(i.setParticleProp("startScale",.5),n.setParticleProp("startScale",.5),i.setParticleProp("endScale",.2),n.setParticleProp("endScale",.2),i.setParticleProp("startSpeed",20),n.setParticleProp("startSpeed",20),i.setParticleProp("endSpeed",0),n.setParticleProp("endSpeed",0)):(i.setParticleProp("startScale",.3),n.setParticleProp("startScale",.3),i.setParticleProp("endScale",.2),n.setParticleProp("endScale",.2),i.setParticleProp("startSpeed",400),n.setParticleProp("startSpeed",400),i.setParticleProp("endSpeed",50),n.setParticleProp("endSpeed",50)));var s,r=this.parent.liquidVertex,l=this.parent.toGlobal(this.position).x,i=r[0].y,n=r[0].x,r=r[r.length-1].x,l=r<n?(l=n<l?n:l)<r?r:l:(l=r<l?r:l)<n?n:l,i=this.parent.toLocal({x:l,y:i});for(s in t.particleFantan.position=i,t.particleLeft.position=i,t.particleRight.position=i,t.particleUp.position=this.position,t.particleSelf.position=this.position,t.particleFantan.rotation=t.particleLeft.rotation=t.particleUp.rotation=t.particleRight.rotation=-g.retrieveRotation(this.parent.worldTransform),t){var h=t[s];h.alpha=1,h.render()}}else this.clearBubbleParticle(!0);else this.parent.addChildAt(this,0),this.initBubbleParticle(),this.lastBubberContainer=this.parent}},{key:"initBubbleParticle",value:function(){this.bubbleParticle=this.root.particleManager.initMgParticle.call(this.parent)}},{key:"listenBurn",value:function(){this.isBurn?this.setTemp(10+Number(this.burningPoint)):this.getTemp()>this.specialBurningPoint&&(this.setTemp(10+Number(this.burningPoint)),this.isBurn=!0)}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockMg.prototype),"update",this).call(this,e),this.burnInAir(),this.burnInContainerAir(),this.listenBurn(),d.genEffectFunc(this,e,2e-4),this.autoChangeScale(),this.clearBubbleParticle(),this.autoClear(),this.updateBubbleParticle(this.calMedVo)}}]),BlockMg}();e.exports=BlockMg},function(e,t,BlockMgStrip){"use strict";var a=BlockMgStrip(4),i=BlockMgStrip(0),n=i(BlockMgStrip(1)),r=i(BlockMgStrip(2)),o=i(BlockMgStrip(7)),s=i(BlockMgStrip(5)),l=i(BlockMgStrip(6)),h=i(BlockMgStrip(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockMgStrip(41),d=BlockMgStrip(22),p=BlockMgStrip(57),f=BlockMgStrip(125),I=BlockMgStrip(10),g=BlockMgStrip(18),m=d.EquationMap.Mg.O2.equationAry[0].reactIndex,y=d.EquationMap.Mg.N2.equationAry[0].reactIndex,BlockMgStrip=function(){(0,s.default)(BlockMgStrip,u);var e=c(BlockMgStrip);function BlockMgStrip(){return(0,n.default)(this,BlockMgStrip),e.call(this)}return(0,r.default)(BlockMgStrip,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockMgStrip.prototype),"creationComplete",this).call(this),this.setMedVo("Mg",.1),this.name="Mg",this.CNName="短镁条",this.constName="BlockMgStrip",this.INITMOL=.1,this.specialBurningPoint=150,this.rustState=!0,this.offsetWithAsbestos={minX:-260,maxX:-84,minY:43,maxY:151},this.rotationInAsbestosFreeWireGauze=.5*-Math.PI}},{key:"rustState",get:function(){return this._rustState},set:function(e){e?this.blackPic.currentFrame=0:(this.blackPic.currentFrame=1,this.specialBurningPoint=80),this._rustState=!!e}},{key:"getMedicineName",value:function(){return"Mg_b"}},{key:"burnInAir",value:function(){"inAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(this.fireParticleCl&&(p.destroy(this.fireParticleCl),this.fireParticleCl=null),this.burnUpdateTemp(),this.fireParticle?(this.fireParticle.render(),this.fireParticleSetMask()):this.fireParticle=this.getParticle())}},{key:"fireParticleSetMask",value:function(){this.fireParticle&&this.container&&this.container.gasContainer&&!this.isAirContainer(this.container.name)&&(this.smokeParticle.parent!==this.container.gasContainer&&this.container.gasContainer.addChild(this.smokeParticle),this.llSmoke.parent!==this.container.gasContainer&&this.container.gasContainer.addChild(this.llSmoke))}},{key:"burnInContainerAir",value:function(){var e,t,i,n,a=this;function r(e){e=a.container.medicineData.getMedVo(e,"gas");return e?e.getMol():0}"inContainerAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(e=!1,n=(t=this.container).getTotalCapacity()/1e3,i=t.medicineData.getGasDensity("O2",n),n=t.medicineData.getGasDensity("N2",n),(e=1e-4<r("CO2")||1e-4<r("Cl2")||m<i||y<n?!0:e)||this.isAirContainer(this.container.name)?(this.burnUpdateTemp(),this.fireParticle?(this.fireParticle.render(),this.fireParticleSetMask()):this.fireParticle=this.getParticle()):this.clear())}},{key:"getParticle",value:function(){var e=ParticleUtil.getParticle(ParticleUtil.particles.mg_burn_smoke);e.position.set(this.width/2,this.height/2),this.smokeParticle=e,this.addChild(e),this.getViewStack().addParticle(e),e.bind(this);var t=ParticleUtil.getParticle(ParticleUtil.particles.mg_white_fire);(this.llSmoke=t).position.set(this.width/2,this.height),this.addChild(t),this.getViewStack().addParticle(t),t.bind(this,0,20);var i=new f;return i.push(e).push(t),i}},{key:"clear",value:function(e){!this.fireParticle||e&&"fireParticle"!==e||(this.isBurn=!1,p.destroy(this.fireParticle),this.fireParticle=null)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=nb.dripError||!this.parent)&&(this.clearBubbleParticle(!0),this.clear(),this.destroy()),this.getTemp()<this.burningPoint&&(this.isBurn=!1,this.clear("fireParticle"))}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,o.default)((0,h.default)(BlockMgStrip.prototype),"getLocalBounds",this).call(this)}},{key:"updateBubbleParticle",value:function(e){if(this.reactCount&&!(this.reactCount<=0)&&e&&2===e.type&&this.parent instanceof I&&"CrucibleTong"!==this.parent.name&&0<this.medVo.getMol()&&!(e.mol<0))if(void 0===this.reactCount&&(this.reactCount=0),this.reactCount--,this.bubbleParticle)if(this.lastBubberContainer==this.parent){var t=this.bubbleParticle,i=t.particleLeft,n=t.particleRight,a=t.particleSelf,r=t.particleUp,o=t.particleFantan;i.loaded&&n.loaded&&a.loaded&&r.loaded&&o.loaded&&(l=(l=3e6*e.mol)<2?2:15<l?15:l,a.particle.maxParticles=2*l,r.particle.maxParticles=3*l,o.particle.maxParticles=2*l,i.particle.maxParticles=l,n.particle.maxParticles=l,r.setParticleProp("endSpeed",700+30*l),nb.SMALLCONTAINER.includes(this.parent.name)?(i.setParticleProp("startScale",.5),n.setParticleProp("startScale",.5),i.setParticleProp("endScale",.2),n.setParticleProp("endScale",.2),i.setParticleProp("startSpeed",20),n.setParticleProp("startSpeed",20),i.setParticleProp("endSpeed",0),n.setParticleProp("endSpeed",0)):(i.setParticleProp("startScale",.3),n.setParticleProp("startScale",.3),i.setParticleProp("endScale",.2),n.setParticleProp("endScale",.2),i.setParticleProp("startSpeed",400),n.setParticleProp("startSpeed",400),i.setParticleProp("endSpeed",50),n.setParticleProp("endSpeed",50)));var s,r=this.parent.liquidVertex,l=this.parent.toGlobal(this.position).x,i=r[0].y,n=r[0].x,r=r[r.length-1].x,l=r<n?(l=n<l?n:l)<r?r:l:(l=r<l?r:l)<n?n:l,i=this.parent.toLocal({x:l,y:i});for(s in t.particleFantan.position=i,t.particleLeft.position=i,t.particleRight.position=i,t.particleUp.position=this.position,t.particleSelf.position=this.position,t.particleFantan.rotation=t.particleLeft.rotation=t.particleUp.rotation=t.particleRight.rotation=-g.retrieveRotation(this.parent.worldTransform),t){var h=t[s];h.alpha=1,h.render()}}else this.clearBubbleParticle(!0);else this.parent.addChildAt(this,0),this.initBubbleParticle(),this.lastBubberContainer=this.parent}},{key:"initBubbleParticle",value:function(){this.bubbleParticle=this.root.particleManager.initMgParticle.call(this.parent)}},{key:"listenBurn",value:function(){this.isBurn?this.setTemp(10+Number(this.burningPoint)):this.getTemp()>this.specialBurningPoint&&(this.setTemp(10+Number(this.burningPoint)),this.isBurn=!0)}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockMgStrip.prototype),"update",this).call(this,e),this.burnInAir(),this.burnInContainerAir(),this.listenBurn(),d.genEffectFunc(this,e,2e-4),this.autoChangeScale(),this.clearBubbleParticle(),this.autoClear(),this.updateBubbleParticle(this.calMedVo)}}]),BlockMgStrip}();e.exports=BlockMgStrip},function(e,t,BlockP4){"use strict";var a=BlockP4(4),i=BlockP4(0),n=i(BlockP4(1)),r=i(BlockP4(2)),o=i(BlockP4(7)),s=i(BlockP4(5)),l=i(BlockP4(6)),h=i(BlockP4(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockP4(41),d=BlockP4(18),p=BlockP4(22),f=BlockP4(57),I=BlockP4(31),g=BlockP4(32),BlockP4=function(){(0,s.default)(BlockP4,u);var e=c(BlockP4);function BlockP4(){return(0,n.default)(this,BlockP4),e.call(this)}return(0,r.default)(BlockP4,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockP4.prototype),"creationComplete",this).call(this),this.setMedVo("P4",.05),this.name="P4",this.constName="BlockP4",this.bottleGasMed=[],this.isBurn=!1,this.INITMOL=.05,this.rSpeed=900,this.remainTadius=3,this.curExploseGraphic=this.explose_01,this.particleCount=0,this.inWaterCanBurnCount=1,this._lastParent=null}},{key:"getMedicineName",value:function(){return"P4"}},{key:"burnInContainerAir",value:function(){var e,t;"inContainerAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.checkTempCanBurn()||(this.calCanReactDens("O2",.01)?(this.burnUpdateTemp(),this.particleCount=20,this.fireParticle||(this.fireParticle=this.root.particleManager.initP4Particle(this,this.packageParticle),this._lastParent=this.parent),(t=this.parent)&&(t.updateMoreGas=!0),t&&t.isBaseContainer&&t.getCurrentCapacity()<=2&&.2<this.mainParticle.alpha&&t.breakImg&&0===t.breakImg.alpha&&("ConicalFlask100ml"===t.name&&(e=180),"ConicalFlask250ml"===t.name&&(e=270),t.isGasBottle&&(e=340),this.y>e&&(t.breakImg.alpha=1,I.play(g.GLASSBREAK))),this.isAirContainer(this.container.name)||((e=this.container).p4BottleSmoke||(t=e.getLocalBounds(),e.p4BottleSmoke=this.root.particleManager.initP4BottleSmoke.call(e),e.p4BottleSmoke.x=t.x,e.p4BottleSmoke.y=t.y+t.height),e.p4BottleSmoke.reactCount=800,e.medicineData.increaseGasHeat(5,400))):this.particleCount<=0&&this.clear())}},{key:"burnInContainerHitWater",value:function(e){"inWater"===this.posStatus?(this.clear("fireParticle"),this.particleCount=0,this.containerLiquidTemp()>this.burningPoint&&this.bubbleHit()?(this.burnInWater(e),5<this.inWaterCanBurnCount?(this.inWaterCanBurn=!0,this.inWaterCanBurnCount=1):this.inWaterCanBurn=!1,this.inWaterCanBurnCount++):this.inWaterCanBurn=!1):this.inWaterCanBurn=!1}},{key:"bubbleHit",value:function(){var n,a=this;return this.container.addedNode.forEach(function(e){var t,i;!e.medicine||0<(t=(i=e.medicine.gasAry).filter(function(e){return"O2"==e.name})).length&&t[0].mol>nb.dripError&&e.bubbleParticle&&e.bubbleParticle.particle&&e.bubbleParticle.particle.parent&&i&&1==i.filter(function(e){return"O2"===e.name}).length&&(e.bubbleParticle.particle.updateTransform(),i=e.bubbleParticle.particle.getBounds(),e.bubbleParticle.particle.updateTransform(),e=a.parent.toGlobal(a.position),i.contains(e.x,e.y)&&(n=!0))}),n}},{key:"containerLiquidTemp",value:function(){return this.container&&this.container.medicineData&&this.container.medicineData.liquidAry[0]?this.container.medicineData.liquidAry[0].getTemp():0}},{key:"clear",value:function(e){!this.fireParticle||e&&"fireParticle"!==e||(this.isBurn=!1,this.fireParticle&&(f.destroy(this.fireParticle),f.destroy(this.smokeParticle),f.destroy(this.sparkParticle),f.destroy(this.mainParticle)),this.fireParticle=null,this.mainParticle=null,this.sparkParticle=null,this.smokeParticle=null)}},{key:"burnInAir",value:function(){"inAir"===this.posStatus&&this.getTemp()>this.burningPoint&&(this.isBurn=!0,this.burnUpdateTemp(),this.particleContainer=10,this.fireParticle||(this.fireParticle=this.root.particleManager.initP4Particle(this,this.packageParticle),this._lastParent=this.parent))}},{key:"packageParticle",value:function(e,t){e.addChild(t),e.getViewStack().addParticle(t),e.container&&e.container.gasContainer&&(e.isAirContainer(e.container.name)?(e.container.addChild(t),t.allowGetBounds=!1):e.container.gasContainer.addChild(t)),t.bind(e)}},{key:"parentChangeEffect",value:function(){var t=this;this.fireParticle._particles&&this._lastParent!==this.parent&&this.parent&&(this.fireParticle._particles.forEach(function(e){t.packageParticle(t,e)}),this._lastParent=this.parent)}},{key:"burnInWater",value:function(){var e,t=this,i=d.retrieveRotation(this.worldTransform);TweenMax.isTweening(this.curExploseGraphic)||(this.curExploseGraphic.alpha=0,this.curExploseGraphic=this.curExploseGraphic!==this.explose_01?this.explose_01:this.explose_02,this.curExploseGraphic.alpha=1,window.minExploseTime||(window.minExploseTime=.5),e=window.minExploseTime,TweenMax.to(this.curExploseGraphic,e,{alpha:0,onComplete:function(){window.minDelayTime||(window.minDelayTime=.1);var e=window.minDelayTime,e=Math.random()+e;TweenMax.to(t.curExploseGraphic,e)}})),this.curExploseGraphic.rotation=-i}},{key:"burnInContainerHasWater",value:function(){"inContainerHasWater"===this.posStatus&&this.isBurn}},{key:"listenBurn",value:function(){this.isBurn||this.getTemp()>this.burningPoint&&(this.isBurn=!0)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=1e-7||!this.parent)&&(this.particleCount=0,this.clear(),this.fireParticle||(TweenMax.killTweensOf(this),this._gsTweenID&&delete TweenLite._internals.tweenLookup[this._gsTweenID],this.destroy())),this.getTemp()<this.burningPoint&&(this.particleCount=0,this.isBurn=!1,this.clear("fireParticle"))}},{key:"checkTempCanBurn",value:function(){return!!this.isBurn||(this.getTemp()>this.burningPoint||void 0)}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockP4.prototype),"update",this).call(this,e);for(var t=0;t<this.bottleGasMed.length;t++){var i=this.bottleGasMed[t];i.mol*=.999,i.mol<1e-4&&(i.mol=0,this.bottleGasMed.splice(t,1),t--)}this.burnInAir(),this.burnInContainerHitWater(e),this.burnInContainerAir(),this.burnInContainerHasWater(),p.genEffectFunc(this,e),this.clearBubbleParticle(),this.autoClear(),this.fireParticle&&(this.parentChangeEffect(),this.particleCount--,this.fireParticle.render())}}]),BlockP4}();e.exports=BlockP4},function(e,t,BlockPingPong){"use strict";var a=BlockPingPong(4),i=BlockPingPong(0),n=i(BlockPingPong(1)),r=i(BlockPingPong(2)),o=i(BlockPingPong(7)),s=i(BlockPingPong(5)),l=i(BlockPingPong(6)),h=i(BlockPingPong(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockPingPong(41),d=BlockPingPong(22),p=BlockPingPong(57),f=BlockPingPong(125),BlockPingPong=function(){(0,s.default)(BlockPingPong,u);var t=c(BlockPingPong);function BlockPingPong(){var e;return(0,n.default)(this,BlockPingPong),(e=t.call(this)).allowGetBounds=!0,e}return(0,r.default)(BlockPingPong,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockPingPong.prototype),"creationComplete",this).call(this),this.setMedVo("C",.1),this.name="PingPong",this.CNName="乒乓球碎片",this.constName="BlockPingPong",this.INITMOL=.1,this.specialBurningPoint=180,this.rotationInAsbestosFreeWireGauze=0,this.allowGetBounds=!0,this.conf_chemical_equation=!1}},{key:"getMedicineName",value:function(){return"C"}},{key:"burnInAir",value:function(){"inAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(this.burnUpdateTemp(),this.fireParticle?(this.fireParticle.render(),this.fireParticleSetMask()):this.fireParticle=this.getParticle())}},{key:"fireParticleSetMask",value:function(){this.fireParticle&&this.container&&this.container.gasContainer&&!this.isAirContainer(this.container.name)&&(this.smokeParticle.parent!==this.container.gasContainer&&this.container.gasContainer.addChild(this.smokeParticle),this.llSmoke.parent!==this.container.gasContainer&&this.container.gasContainer.addChild(this.llSmoke))}},{key:"burnInContainerAir",value:function(){var e,t,i;"inContainerAir"!==this.posStatus&&"inContainerHasWater"!==this.posStatus||!this.isBurn||(e=!1,i=(t=this.container).getTotalCapacity()/1e3,(e=0<t.medicineData.getGasDensity("O2",i)?!0:e)||this.isAirContainer(this.container.name)?(this.burnUpdateTemp(),this.fireParticle?(this.fireParticle.render(),this.fireParticleSetMask()):this.fireParticle=this.getParticle()):this.clear())}},{key:"getParticle",value:function(){var e=ParticleUtil.getParticle(ParticleUtil.particles.pepanel_burn_smoke);e.position.set(this.width/2,this.height/2),this.smokeParticle=e,this.addChild(e),this.getViewStack().addParticle(e),e.bind(this);var t=ParticleUtil.getParticle(ParticleUtil.particles.mianhua_fire);(this.llSmoke=t).position.set(this.width/2,this.height),this.addChild(t),this.getViewStack().addParticle(t),t.bind(this,0,20);var i=new f;return i.push(e).push(t),i}},{key:"clear",value:function(e){!this.fireParticle||e&&"fireParticle"!==e||(this.isBurn=!1,p.destroy(this.fireParticle),this.fireParticle=null)}},{key:"autoClear",value:function(){(this.medVo.getMol()<=nb.dripError||!this.parent)&&(this.clearBubbleParticle(!0),this.clear(),this.destroy()),this.getTemp()<this.burningPoint&&(this.isBurn=!1,this.clear("fireParticle"))}},{key:"getLocalBounds",value:function(){return this.localBounds||(0,o.default)((0,h.default)(BlockPingPong.prototype),"getLocalBounds",this).call(this)}},{key:"listenBurn",value:function(){if(this.isBurn)return this.setTemp(10+Number(this.burningPoint)),void this.medVo.setMol(this.medVo.getMol()-2e-4);this.getTemp()>this.specialBurningPoint&&(this.setTemp(10+Number(this.burningPoint)),this.isBurn=!0,this.medVo.setMol(this.medVo.getMol()-2e-4))}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockPingPong.prototype),"update",this).call(this,e),this.burnInAir(),this.burnInContainerAir(),this.listenBurn(),d.genEffectFunc(this,e,2e-4),this.autoChangeScale(),this.clearBubbleParticle(),this.autoClear()}}]),BlockPingPong}();e.exports=BlockPingPong},function(e,t,BlockSpinach){"use strict";var a=BlockSpinach(4),i=BlockSpinach(0),n=i(BlockSpinach(1)),r=i(BlockSpinach(2)),o=i(BlockSpinach(7)),s=i(BlockSpinach(5)),l=i(BlockSpinach(6)),h=i(BlockSpinach(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=BlockSpinach(41),d=BlockSpinach(20),BlockSpinach=function(){(0,s.default)(BlockSpinach,u);var t=c(BlockSpinach);function BlockSpinach(){var e;return(0,n.default)(this,BlockSpinach),(e=t.call(this)).name="BlockSpinach",e.CNName="菠菜",e.z_index=11,e.addToContainerCenter=!0,e}return(0,r.default)(BlockSpinach,[{key:"creationComplete",value:function(){(0,o.default)((0,h.default)(BlockSpinach.prototype),"creationComplete",this).call(this),this.setMedVo("FeSpinach",.1),this.INITMOL=.1,this.noChoice=!1,this.allowGetBounds=!0,this.conf_chemical_equation=!1}},{key:"autoChangeScale",value:function(){}},{key:"getBlockMedName",value:function(){return"FeSpinach"}},{key:"oxidized",value:function(){this.notOxidized.gotoAndStop(1)}},{key:"getMedicineName",value:function(){return"FeSpinach"}},{key:"eqStopDrag",value:function(e){(0,o.default)((0,h.default)(BlockSpinach.prototype),"eqStopDrag",this).call(this,e);e=this.perfectHitObj();e&&(NBDrag.removeDrag(this),this.addToContainer(e),this.allowGetBounds=!1)}},{key:"hitBreak",value:function(){var e=this.parent,t=[this.medVo.deepClone()];t[0].realProportion=1,t[0].oneMol=.01;var i=this.position;i.y-=10,e.addMedicine(t,i,1);t=this.medicineManager.getMedicineData("C55H72O5N4Mg"),t=new d(t,.1);e.addMedicine(t,i,1),this.napeBody.destroy(),this.destroy()}},{key:"addMed",value:function(e){(0,o.default)((0,h.default)(BlockSpinach.prototype),"addMed",this).call(this,e),"FeSpinach"===this.medVo.name&&e.mol<0&&this.parent.medicineData.solidAry["Fe(NO3)3"]&&this.medicineData.solidAry.FeSpinach.mol<.1&&this.oxidized()}},{key:"update",value:function(e){(0,o.default)((0,h.default)(BlockSpinach.prototype),"update",this).call(this,e),ChemicalUtil.genEffectFunc(this,e,1e-4)}}]),BlockSpinach}();e.exports=BlockSpinach},function(e,t,i){"use strict";var a=i(4),n=i(0),o=n(i(422)),s=n(i(60)),l=n(i(59)),c=n(i(114)),r=n(i(1)),u=n(i(2)),d=n(i(7)),p=n(i(5)),h=n(i(6)),f=n(i(3));function I(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,f.default)(i);return t=n?(e=(0,f.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var g=i(196),m=["无味","刺激性气味","强烈刺激性气味","臭鸡蛋味","特殊气味","果香味","特殊香味"],y={"无味":["H2","O2","N2","CO2","CO","He","Ne","Ar","Kr","Xe","Rn","CH4","C2H2"],"刺激性气味":["HCl","HBr","HI","HF","SO2","NO2","NH3","HNO3","CH3CHO","HCl","CH3COOH_S"],"强烈刺激性气味":["F2","Cl2","Br2","CH2O","CH3COOH_D","PH3"],"臭鸡蛋味":["H2S"],"特殊气味":["C6H6","C7H8","C6H5OH","P4"],"果香味":["CH3COOCH2CH3"],"特殊香味":["C2H5OH"]},i=function(){(0,p.default)(h,g);var t=I(h);function h(){var e;return(0,r.default)(this,h),(e=t.call(this)).name="Fun",e.CNName="Fun",e.z_index=23.01,e}return(0,u.default)(h,[{key:"getMedName",value:function(e){var t,i=e.medicineData.gasAry.filter(function(e){return 1e-14<=e.mol}).map(function(e){return e.name}),n=e.medicineData.liquidAry.filter(function(e){return 1e-14<=e.mol}).map(function(e){return e.name}),a=(0,o.default)(e.medicineData.solidAry).filter(function(e){e=(0,c.default)(e,2);e[0];return 1e-14<=e[1].mol}).map(function(e){var t=(0,c.default)(e,2),e=t[0];t[1];return e}),r=n.indexOf("CH3COOH");return-1!=r&&(t=e.medicineData.getLiquidCapacity()/1e3,e=e.medicineData.liquidAry.quickMap.get("CH3COOH").mol,n[r]=3<e/t?"CH3COOH_D":"CH3COOH_S"),(0,l.default)(new s.default([].concat((0,l.default)(i),(0,l.default)(a),(0,l.default)(n))))}},{key:"creationComplete",value:function(){(0,d.default)((0,f.default)(h.prototype),"creationComplete",this).call(this);var e=this.associatedEq;e.fun=this,e.hasAnimation=!0;var t,i=this;e.noInteract=!0,i.interactive=!1,i.interactiveChildren=!1,this.gasList=this.getMedName(e),i.initRotateText(),"TestTubeWithSideNeck"===e.name||e.isLiquidMedicine||e.isGasBottle?(t=-100,n=-400):"BigTestTube"===e.name?(t=-100,n=-600):"SmallTestTube"===e.name||"GasCollectingBottle"===e.name||"GasCollectingBottleOfDivide"===e.name?(t=-100,n=-300):"Mortar"===e.name&&(t=100,n=-400);var n=this.toLocal(e.toGlobal({x:t,y:n}));this.x=n.x,this.y=n.y;var a=this.ani.totalFrames,r=0,o=0,s=1;var l=requestAnimationFrame(function e(){i.ani.currentFrame<a-1?(i.ani.currentFrame+=o,o=o<1?o+s:0,l=requestAnimationFrame(e)):r<1?(r++,i.ani.currentFrame=0,l=requestAnimationFrame(e)):(cancelAnimationFrame(l),i.delSmellMedicine())})}},{key:"getGasSmells",value:function(e){e=e.map(function(e){for(var t in y)if(y[t].includes(e))return t;return"无味"});return(0,l.default)(new s.default(e))}},{key:"getIndexSmell",value:function(e){e=1===e.length?e[0]:2===e.length&&e.includes("无味")?e.find(function(e){return"无味"!==e}):1<e.length?"刺激性气味":"无味";return m.indexOf(e)}},{key:"delSmellMedicine",value:function(){var t=this;this.alpha=0;var i=this.associatedEq,e=setTimeout(function(){var e=t.getGasSmells(t.gasList),e=t.getIndexSmell(e);t.showRotateText(e);e=setTimeout(function(){t.root.execute(NBCommand.DELETE_associatedEq,{eq:[t],eqNotSelect:!0}),t.delRotateText(),i.fun=null,i.interactive=!0,i.noInteract=!1,i.hasAnimation=!1,i.interactiveChildren=!0},3e3);t.setTimeoutID.push(e)},1e3);this.setTimeoutID.push(e)}},{key:"initRotateText",value:function(){this.textBox=new PIXI.Container,this.associatedEq.getViewStack().addChild(this.textBox);var e=this.rotateText=this.associatedEq.getText("",{fontFamily:"Arial",fontSize:40,fill:16777215,align:"center"}),t=new PIXI.Graphics;this.textBox.addChild(t),this.textBox.addChild(e),t.lineStyle(0),t.beginFill(0,.6),t.drawRoundedRect(-150,-40,300,80,20),t.endFill(),this.textBox.interactive=!1,this.textBox.allowGetBounds=!1,this.textBox.visible=!1}},{key:"showRotateText",value:function(e){this.textBox.visible=!0,this.setRotateTextPos(),this.setRotateText(e)}},{key:"hideRotateText",value:function(){this.textBox.visible=!1}},{key:"delRotateText",value:function(){this.associatedEq.getViewStack().removeChild(this.textBox),this.textBox=null}},{key:"setRotateTextPos",value:function(){var e=this.associatedEq.getCenterPositionToEqLayer();this.textBox.x=e.x,this.textBox.y=this.y+this.localBounds.height}},{key:"setRotateText",value:function(){this.rotateText.text=m[0<arguments.length&&void 0!==arguments[0]?arguments[0]:2];var e=this.rotateText,t=e.width,e=e.height;this.rotateText.x=(this.textBox.width-t)/2+2,this.rotateText.y=(this.textBox.height-e)/2}},{key:"toJSON",value:function(){}},{key:"setJSON",value:function(){}}]),h}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(204);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).name="HoldConicalFlask",e.CNName="HoldConicalFlask",e.z_index=23.01,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this)}},{key:"toJSON",value:function(){}},{key:"setJSON",value:function(){}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(204);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).name="HoldFlorenceFlask",e.CNName="HoldFlorenceFlask",e.z_index=23.01,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this)}},{key:"toJSON",value:function(){}},{key:"setJSON",value:function(){}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(204);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).name="HoldTestTube",e.CNName="HoldTestTube",e.z_index=23.01,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this)}},{key:"toJSON",value:function(){}},{key:"setJSON",value:function(){}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(7)),l=n(i(5)),h=n(i(6)),c=n(i(3));function u(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(i);return t=n?(e=(0,c.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,h.default)(this,t)}}var d=i(204);e.exports=function(){(0,l.default)(i,d);var t=u(i);function i(){var e;return(0,r.default)(this,i),(e=t.call(this)).name="HoldThreeNeckFlask",e.CNName="HoldThreeNeckFlask",e.z_index=23.01,e}return(0,o.default)(i,[{key:"creationComplete",value:function(){(0,s.default)((0,c.default)(i.prototype),"creationComplete",this).call(this),this.hitArea=new PIXI.Rectangle(0,0,0,0)}},{key:"toJSON",value:function(){}},{key:"setJSON",value:function(){}}]),i}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),f=n(i(7)),s=n(i(5)),l=n(i(6)),I=n(i(3));function h(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,I.default)(i);return t=n?(e=(0,I.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var c=i(196),i=function(){(0,s.default)(p,c);var t=h(p);function p(){var e;return(0,r.default)(this,p),(e=t.call(this)).name="PlugTestTube",e.CNName="PlugTestTube",e}return(0,o.default)(p,[{key:"creationComplete",value:function(){(0,f.default)((0,I.default)(p.prototype),"creationComplete",this).call(this);var t=this.associatedEq;t.plugAnimation=this,t.plugAnimationOpen=!1,t.hasAnimation=!0,t.canCheckPure=!0;var i=this,n=i.children.findIndex(function(e){return"ani"===e.name});i.aniIndex=n,i.bg=this.children[1],i.bg.visible=!1,this.bg.noInteract=!0,t.noInteract=!0,t.lastRotation=void 0,this.ani.currentFrame=1;for(var a=this.ani.totalFrames,e=0;e<a;e++)t.addChildAt(this.children[n][e][1].dis,0),t.addChildAt(this.children[n][e][0].dis,t.children.length);for(var r=t.children,o=r.length,s="BigTestTube"===t.name?-40:220,l=0;l<o;l++){var h=r[l];(l<a||o-a<=l)&&(h.x+=-45,h.y+=s)}var c=.7,u=0;var d=requestAnimationFrame(function e(){i.ani.currentFrame<a-1?(i.ani.currentFrame+=u,t.addChildAt(i.children[n][i.ani.currentFrame][1].dis,0),t.addChildAt(i.children[n][i.ani.currentFrame][0].dis,t.children.length),u=u<1?u+c:0,d=requestAnimationFrame(e)):(cancelAnimationFrame(d),TweenMax.to(t,.8,{rotation:3*-Math.PI/5}))})}},{key:"delPlugAnimation",value:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this,a=this.associatedEq;a.interactive=!1;var r=0;e&&(e="SmallTestTube"===a.name?20:290,t="SmallTestTube"===a.name?520:600,TweenMax.to(a,.8,{x:n.bg.x+e,y:n.bg.y-t,rotation:3*-Math.PI/5}));var t=setTimeout(function(){var t=requestAnimationFrame(function e(){0<n.ani.currentFrame?(n.ani.currentFrame-=r,a.addChildAt(n.children[n.aniIndex][n.ani.currentFrame][1].dis,0),a.addChildAt(n.children[n.aniIndex][n.ani.currentFrame][0].dis,a.children.length),r=r<1?r+.4:0,0<n.ani.currentFrame&&(t=requestAnimationFrame(e))):cancelAnimationFrame(t)});a.plugAnimationOpen=!0;var e=setTimeout(function(){for(var e=0;e<10;e++)a.removeChild(i.children[n.aniIndex][e][0].dis),a.removeChild(i.children[n.aniIndex][e][1].dis);i.root.execute(NBCommand.DELETE_EQUIPMENT,{eq:[i],eqNotSelect:!0}),a.noInteract=!1,a.hasAnimation=!1,a.plugAnimation=null,a.interactive=!0},3e3);i.setTimeoutID.push(e)},1e3);this.setTimeoutID.push(t)}},{key:"preinteraction",value:function(e){e?(e=e.toGlobal({x:0,y:180}),e=this.toLocal(e),this.bg.visible=!0,this.bg.x=e.x,this.bg.y=e.y,this.bg.rotation=3*-Math.PI/5,this.bg.alpha=.35):(this.bg.visible=!1,this.lastHitAlcoholBurner=null)}},{key:"checkCollision",value:function(){var e=this.associatedEq.getHitObjectsByType(),t=e.findIndex(function(e){return"AlcoholBurner"===e.name});-1!==t?(this.preinteraction(e[t]),this.lastHitAlcoholBurner=e[t]):this.preinteraction()}},{key:"eqStopDrag",value:function(){this.lastHitAlcoholBurner&&this.lastHitAlcoholBurner.isBurning&&this.associatedEq.unPlug(!0),this.preinteraction()}},{key:"toJSON",value:function(){}},{key:"setJSON",value:function(){}}]),p}();e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var BaseLiquidMedicine=i(84);e.exports=function(){(0,s.default)(t,BaseLiquidMedicine);var e=c(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,r.default)(t)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var BaseLiquidMedicine=i(84);e.exports=function(){(0,s.default)(t,BaseLiquidMedicine);var e=c(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,r.default)(t)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var BaseBlockMedicine=i(198);e.exports=function(){(0,s.default)(t,BaseBlockMedicine);var e=c(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,r.default)(t)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var BaseGasMedicine=i(199);e.exports=function(){(0,s.default)(t,BaseGasMedicine);var e=c(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,r.default)(t)}()},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(2)),o=n(i(1)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(376);e.exports=function(){(0,s.default)(t,u);var e=c(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,r.default)(t)}()},function(e,t,i){"use strict";i(4);var n=i(0);n(i(2)),n(i(1)),n(i(5)),n(i(6)),n(i(3));i(84)},function(e,t,i){"use strict";i(4);var n=i(0);n(i(2)),n(i(1)),n(i(5)),n(i(6)),n(i(3));i(84)},function(e,t,i){"use strict";i(4);var n=i(0);n(i(2)),n(i(1)),n(i(5)),n(i(6)),n(i(3));i(84)},function(e,t,i){"use strict";i(4);var n=i(0);n(i(2)),n(i(1)),n(i(5)),n(i(6)),n(i(3));i(84)},function(e,t,i){"use strict";i(4);var n=i(0);n(i(2)),n(i(1)),n(i(5)),n(i(6)),n(i(3));i(374)},function(e,t,i){"use strict";i(4);var n=i(0);n(i(2)),n(i(1)),n(i(5)),n(i(6)),n(i(3));i(84)},function(e,t,i){"use strict";e.exports=function(){this.interactive=!1,this.interactiveChildren=!1}},function(e,t,i){"use strict";e.exports=function(){this.renderable=!1}},function(e,t,i){"use strict";var o=i(115),s=i(53),l=i(50);e.exports=function(){this.parent.eqLimitBounds={width:this.width,height:this.height},this.parent.eqLimitPos=this.position,this.parent.eqLimitDis=this;var e=Math.abs(this.rotation),t=this.width+8,i=this.height,n=Math.sin(e),a=Math.cos(e),r=n*n-a*a,e=Math.abs((t*a-i*n)/r),t=(Math.abs((t*n-i*a)/r),this.getLocalBounds());(i={}).x=t.x-4,i.y=t.y-e*n,(r={}).x=t.x+e*a-4,r.y=t.y,n=o.rotaPoint(i,r,-Math.PI/2),a=o.rotaPoint(r,i,Math.PI/2),n.y*=.7,a.y*=.7,(a=s.BodyFromArray([[i,r,n,a]])).set_type(l.kinematic),e=t.x+this.x,t=t.y+this.y,a.get_position().set_x(e),a.get_position().set_y(t),this.parent.coverBody=a}},function(e,t,i){"use strict";var h=i(115),c=i(53),u=i(50);e.exports=function(){this.parent.eqLimitBoundsAry=[],this.parent._eqLimitBoundsMoveClip=this;for(var e=0;e<this.children.length;e++){var t=this.children[e],i=this.parent.eqLimitBoundsAry,n=this.parent.toLocal({x:t.x,y:t.y},this);i.push({width:t.width,height:t.height,pos:n,name:t.name,rotation:t.rotation})}for(var s=this,a=this.children.length,r=function(){for(var e=[],t=0;t<s.children.length;t++){var i=Math.abs(s.children[t].rotation),n=s.children[t].width,a=s.children[t].height,r=Math.sin(i),o=Math.cos(i),i=Math.abs((n*o-a*r)/(r*r-o*o)),n=s.parent.toLocal(s.children[t].position,s),a={};a.x=n.x,a.y=n.y-i*r;r={};r.x=n.x+i*o,r.y=n.y;o=h.rotaPoint(a,r,-Math.PI/2),n=h.rotaPoint(r,a,Math.PI/2);o.y=a.y+(o.y-a.y)/2,n.y=r.y+(n.y-r.y)/2,e.push([a,r,o,n])}return e}(),e=0;e<a;e++){var o=c.BodyFromArray([r[e]]),l=this.children[e];o.set_type(u.kinematic),this.parent.coverBodys||(this.parent.coverBodys={}),this.parent.coverBodys[l.name]=o}}},function(e,t,i){"use strict";var n=i(16),a=i(8);e.exports=function(){this.renderable=!1,this.interactive=!0;var e=function e(t){return t.parent instanceof a?t:e(t.parent)}(this),t=this.root.mouseManager;this.on(MouseEvent.MOUSE_OVER,function(){t.changeMouseStatus(n.status.PINCH,!0,e)}),this.on(MouseEvent.MOUSE_OUT,function(){t.changeMouseStatus(n.status.PINCH,!1,e)})}},function(e,t,i){"use strict";var n=i(16),a=i(8);e.exports=function(){this.renderable=!1,this.interactive=!0;var e=function e(t){return t.parent instanceof a?t:e(t.parent)}(this),t=this.root.mouseManager;this.on(MouseEvent.MOUSE_OVER,function(){t.changeMouseStatus(n.status.STRETCH,!0,e)}),this.on(MouseEvent.MOUSE_OUT,function(){t.changeMouseStatus(n.status.STRETCH,!1,e)})}},function(e,t,i){"use strict";var n=i(16),a=i(8);e.exports=function(){this.renderable=!1,this.interactive=!0;var e=function e(t){return t.parent instanceof a?t:e(t.parent)}(this),t=this.root.mouseManager;this.on(MouseEvent.MOUSE_OVER,function(){t.changeMouseStatus(n.status.STRETCH,!0,e)}),this.on(MouseEvent.MOUSE_OUT,function(){t.changeMouseStatus(n.status.STRETCH,!1,e)})}},function(e,t,i){"use strict";e.exports=function(){this.parent.pourIn=this}},function(e,t,i){"use strict";e.exports=function(){this.parent.pourOut=this}},function(e,t,i){"use strict";e.exports=function(){this.allowGetBounds=!1}},function(e,t,i){"use strict";var o=i(0)(i(224));i={createShaderPluginSprite:function(e,t,i){var n=new PIXI.Sprite;return n.pluginName=e,n.pluginSize=t,n.pluginUniforms=i||{},n},createShaderPlugin:
/*!
 * createShaderPlugin.js - v1.0.1
 * https://github.com/magig/createShaderPlugin
 *
 * createShaderPlugin.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function(e,t,i,n,a){function r(e){PIXI.ObjectRenderer.call(this,e),this.vertShader=t?"#define GLSLIFY 1\n"+t:["#define GLSLIFY 1","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void) {","gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","vTextureCoord = aTextureCoord;","}"].join("\n"),this.fragShader="#define GLSLIFY 1\n"+i,this.uniformDefaults=n,this._tintAlpha=new Float32Array(4)}((r.prototype=(0,o.default)(PIXI.ObjectRenderer.prototype)).constructor=r).prototype._initShader=function(){var e=this.renderer.gl,t=this.shader=new PIXI.Shader(e,this.vertShader,this.fragShader);if(this.uniformDefaults){t.bind();var i,n=this.uniformDefaults,a=t.uniforms;for(i in n)a[i]=n[i]}this.quad=new PIXI.Quad(e),this.quad.initVao(t)},r.prototype.onContextChange=function(){this._initShader()},r.prototype.start=function(){this.shader||this._initShader()},r.prototype.destroy=function(){PIXI.ObjectRenderer.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.quad&&(this.quad.destroy(),this.quad=null)},r.prototype.render=function(e){var t=this.shader,i=this.renderer;i.bindShader(t),i.state.setBlendMode(e.blendMode);var n=this.quad;i.bindVao(n.vao);var a=e.transform.worldTransform,r=a.a,o=a.b,s=a.c,l=a.d,h=a.tx,c=a.ty,u=e._anchor,d=e.pluginSize.x,i=-u._x*d,a=i+d,d=e.pluginSize.y,u=-u._y*d,d=u+d;n.vertices[0]=r*i+s*u+h,n.vertices[1]=l*u+o*i+c,n.vertices[2]=r*a+s*u+h,n.vertices[3]=l*u+o*a+c,n.vertices[4]=r*a+s*d+h,n.vertices[5]=l*d+o*a+c,n.vertices[6]=r*i+s*d+h,n.vertices[7]=l*d+o*i+c,n.upload();i=this._tintAlpha;PIXI.utils.hex2rgb(e.tint,i);c=e.worldAlpha;i[0]*=c,i[1]*=c,i[2]*=c,i[3]=c,t.uniforms.uTintAlpha=i;var p=e.pluginUniforms,f=t.uniforms;if(p)for(var I in p)f[I]=p[I];n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},PIXI.WebGLRenderer.registerPlugin(e,r),PIXI.CanvasRenderer.registerPlugin(e,PIXI.CanvasSpriteRenderer),a&&(a.plugins[e]=new(a.type===PIXI.RENDERER_TYPE.WEBGL?r:PIXI.CanvasSpriteRenderer)(a))}};window.ShaderUtil=i,e.exports=i},function(e,t,i){"use strict";var a=i(4),n=i(0),r=n(i(1)),o=n(i(2)),s=n(i(5)),l=n(i(6)),h=n(i(3));function c(i){var n=function(){if("undefined"==typeof Reflect||!a)return!1;if(a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(i);return t=n?(e=(0,h.default)(this).constructor,a(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var u=i(74),d=i(385),i=function(e){(0,s.default)(a,e);var n=c(a);function a(e,t){var i;(0,r.default)(this,a),(i=n.call(this)).bg=new PIXI.Graphics,i.addChild(i.bg),i.bg.beginFill(16711680,.2),i.bg.drawRoundedRect(0,0,600,400,10),i.bg.lineStyle(2,65280,.2),i.bg.moveTo(0,40),i.bg.lineTo(600,40),i.bg.moveTo(0,360),i.bg.lineTo(600,360),i.bg.moveTo(0,320),i.bg.lineTo(600,320),i.bg.moveTo(0,280),i.bg.lineTo(600,280),i.bg.moveTo(0,240),i.bg.lineTo(600,240),i.bg.moveTo(0,200),i.bg.lineTo(600,200),i.bg.moveTo(0,160),i.bg.lineTo(600,160),i.bg.moveTo(0,120),i.bg.lineTo(600,120),i.bg.moveTo(0,80),i.bg.lineTo(600,80),i.bg.moveTo(60,0),i.bg.lineTo(60,400),i.bg.moveTo(120,0),i.bg.lineTo(120,400),i.bg.moveTo(180,0),i.bg.lineTo(180,400),i.bg.moveTo(240,0),i.bg.lineTo(240,400),i.bg.moveTo(300,0),i.bg.lineTo(300,400),i.bg.moveTo(360,0),i.bg.lineTo(360,400),i.bg.moveTo(420,0),i.bg.lineTo(420,400),i.bg.moveTo(480,0),i.bg.lineTo(480,400),i.bg.moveTo(540,0),i.bg.lineTo(540,400),i.root=e,i.spContainer=new PIXI.Container,i.addChild(i.spContainer),i.btnContainer=new PIXI.Container,i.addChild(i.btnContainer),i.spAry=[],i.dataAry=[];e="".concat(nb.config.URI_PREFIX,"assets/eleAniSkin.json");return PIXI.loader.resources[e]?(i.initBtns(),i.createItems(t)):PIXI.loader.add(e).load(function(){i.initBtns(),i.createItems(t)}),i.posText=i.getText("0 , 0",{fill:16777215,stroke:0,fontSize:28}),i.addChild(i.posText),i.posText.anchor.set(0),i.posText.x=0,i.posText.y=0,i}return(0,o.default)(a,[{key:"initBtns",value:function(){var e=this,t=this.getText("初始",{fill:16777215,stroke:0,fontSize:28});t.anchor.set(.5);var i=this.getText("交汇",{fill:16777215,stroke:0,fontSize:28});i.anchor.set(.5);var n=this.getText("拆分",{fill:16777215,stroke:0,fontSize:28});n.anchor.set(.5);var a=this.getText("停顿",{fill:16777215,stroke:0,fontSize:28});a.anchor.set(.5);var r=this.getText("结合",{fill:16777215,stroke:0,fontSize:28});r.anchor.set(.5),this.btnContainer.addChild(t),this.btnContainer.addChild(i),this.btnContainer.addChild(n),this.btnContainer.addChild(a),this.btnContainer.addChild(r),t.x=100,i.x=200,n.x=300,a.x=400,r.x=500,t.y=i.y=n.y=a.y=r.y=420,t.addEventListener("pointerdown",function(){e.setData(0)}),i.addEventListener("pointerdown",function(){e.setData(1)}),n.addEventListener("pointerdown",function(){e.setData(2)}),a.addEventListener("pointerdown",function(){e.setData(3)}),r.addEventListener("pointerdown",function(){e.setData(4)})}},{key:"setData",value:function(i){var n=this,a=[.1,.3,.55,.65,.9];this.dataAry.forEach(function(e,t){t=n.spChildren[t];e.aniData[i]={x:t.x,y:t.y,p:a[i]}})}},{key:"createItems",value:function(e){var n=this;this.spAry=e,this.spChildren=[],e.forEach(function(e,t){var i=new d(e,0,n);n.spContainer.addChildAt(i,0),n.spChildren.push(i),u.addDrag(i),i.allowGetBounds=!0,i.interactiveChildren=!0,i.on(u.event.STOP_DRAG,function(){i.x=Math.round(i.x),i.y=Math.round(i.y),n.posText.text="".concat(Math.round(i.x),",").concat(Math.round(i.y))}),i.on(u.event.DRAG_MOVE,function(){n.posText.text="".concat(Math.round(i.x),",").concat(Math.round(i.y))}),n.dataAry.push({id:t,formula:e,aniData:[]})})}},{key:"getText",value:function(e,t){t=this.root.cachePool.popText(e,t);return t.allowGetBounds=!0,t}},{key:"removeText",value:function(e){this.root.cachePool.pushText(e)}}]),a}(PIXI.Container);e.exports=i}])});